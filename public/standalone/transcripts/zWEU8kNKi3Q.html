<!DOCTYPE html>

<!--
Copyright 2019 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="//google.com">
  <meta name="description" content="web.dev LIVE video transcript">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>zWEU8kNKi3Q</title>
  <link rel="stylesheet" href="../css/main.css">
</head>

<body>

<iframe id="youtube" src="https://www.youtube.com/embed/zWEU8kNKi3Q?enablejsapi=1"></iframe>

<div id="container">

<div id="options">
  <div id="google-translate"></div>
  <div>
    <input type="checkbox" id="videoSticky" checked>
    <label for="videoSticky">Video position sticky</label>
  </div>
  <div>
    <input type="checkbox" id="captionScroll" checked>
    <label for="captionScroll">Keep current caption visible</label>
  </div>
</div>

<section>
<p><span data-start="9.299" data-end="13.51">ways with the left pad jokes never gonna</span> <span data-start="13.51" data-end="18.82">hear the end of the left pad jokes can</span> <span data-start="18.82" data-end="24.039">everyone see that fantastic huh all</span> <span data-start="24.039" data-end="26.35">right now so not trapped behind a podium</span> <span data-start="26.35" data-end="28.27">gonna try and use the fancy web app</span> <span data-start="28.27" data-end="30.16">which requires internet access therefore</span> <span data-start="30.16" data-end="33.4">it's not gonna work no it's not oh it's</span> <span data-start="33.4" data-end="34.03">gonna work</span> <span data-start="34.03" data-end="39.94">Web Apps everyone so I'm Laurie like he</span> <span data-start="39.94" data-end="41.77">said I'm the CTO of NPM Inc and the</span> <span data-start="41.77" data-end="43.239">important thing to remember is that I'm</span> <span data-start="43.239" data-end="45.879">not the famous NPM guy the famous NPM</span> <span data-start="45.879" data-end="48.28">guy is Isaac Schluter not him I'm just</span> <span data-start="48.28" data-end="49.69">the guy that he picked to run</span> <span data-start="49.69" data-end="51.85">engineering and I'm here to talk about</span> <span data-start="51.85" data-end="53.59">the stuff that everybody should know</span> <span data-start="53.59" data-end="57.699">about NPM why am I talking about that</span> <span data-start="57.699" data-end="60.699">stuff because NPM has a lot of users</span> <span data-start="60.699" data-end="62.5">these days there's something like 4</span> <span data-start="62.5" data-end="64.989">million NPM users and they download a</span> <span data-start="64.989" data-end="68.86">billion packages every 7 days how many</span> <span data-start="68.86" data-end="72.49">of you use NPM raise your hands how many</span> <span data-start="72.49" data-end="76.63">of you use NPM every single day how many</span> <span data-start="76.63" data-end="80.02">of you work for NPM you're all buying</span> <span data-start="80.02" data-end="85.39">that guy a drink but my point is that</span> <span data-start="85.39" data-end="88.63">the NPM community is growing really fast</span> <span data-start="88.63" data-end="90.909">half of NPM users have been using it for</span> <span data-start="90.909" data-end="93.58">less than a year which means that our</span> </p>
<p><span data-start="93.58" data-end="95.53">Newser base is full of new people and</span> <span data-start="95.53" data-end="96.369">that is great</span> <span data-start="96.369" data-end="98.71">welcome to NPM but it means that there</span> <span data-start="98.71" data-end="100.42">are a bunch of features of NPM that</span> <span data-start="100.42" data-end="104.29">people who have been using NPM for a</span> <span data-start="104.29" data-end="106.06">while know about but people who are new</span> <span data-start="106.06" data-end="107.92">to NPM don't know about and you know</span> <span data-start="107.92" data-end="110.02">that's more than half of you so that's</span> <span data-start="110.02" data-end="112.869">what this talk is about fixing and I</span> <span data-start="112.869" data-end="114.46">think even if you've been using NPM for</span> <span data-start="114.46" data-end="115.78">a while there will be some stuff in here</span> <span data-start="115.78" data-end="123.119">you don't know about so come on web apps</span> <span data-start="123.119" data-end="124.96">let's start with the very most basic</span> <span data-start="124.96" data-end="128.34">thing this is the architecture of NPM</span> <span data-start="128.34" data-end="130.72">sitting on your computer is the CLI</span> <span data-start="130.72" data-end="132.579">that's the command-line client that is</span> <span data-start="132.579" data-end="135.069">the thing that runs when you run NPM and</span> <span data-start="135.069" data-end="137.44">when you ask it to install and and when</span> <span data-start="137.44" data-end="139.959">you ask NPM to install a package</span> <span data-start="139.959" data-end="142.959">the CLI talks to the registry which is a</span> <span data-start="142.959" data-end="144.64">set of servers all across the world and</span> <span data-start="144.64" data-end="146.95">it asks it what versions exist and it</span> <span data-start="146.95" data-end="149.26">tells them and then NPM picks from that</span> <span data-start="149.26" data-end="151.12">set of versions the best version that</span> <span data-start="151.12" data-end="154">matches the specifications in your</span> <span data-start="154" data-end="156.79">package JSON and then it downloads it</span> <span data-start="156.79" data-end="160.299">from one of three possible places first</span> </p>
<p><span data-start="160.299" data-end="163.51">NPM will check the local cache if you've</span> <span data-start="163.51" data-end="165.04">ever installed that version of that</span> <span data-start="165.04" data-end="168.04">package before even if it was for some</span> <span data-start="168.04" data-end="169.42">other project then it will install from</span> <span data-start="169.42" data-end="172.06">the local copy this is gonna be super</span> <span data-start="172.06" data-end="174.589">annoying</span> <span data-start="174.599" data-end="178.15">so people complain oh NP M downloads the</span> <span data-start="178.15" data-end="179.44">universe every single time it really</span> <span data-start="179.44" data-end="180.67">doesn't like if you've ever downloaded</span> <span data-start="180.67" data-end="182.41">that thing before it doesn't bother to</span> <span data-start="182.41" data-end="185.019">do it and if it's not in the local cache</span> <span data-start="185.019" data-end="186.22">it will check the registry and the</span> <span data-start="186.22" data-end="187.989">registry is behind a very big worldwide</span> <span data-start="187.989" data-end="190.75">cache called a CDN so usually when you</span> <span data-start="190.75" data-end="192.64">download a package you're downloading it</span> <span data-start="192.64" data-end="194.079">from very close to you you're</span> <span data-start="194.079" data-end="195.489">downloading it from some server that's</span> <span data-start="195.489" data-end="196.9">in your country which is why it's very</span> <span data-start="196.9" data-end="199.15">fast and it's only if those other two</span> <span data-start="199.15" data-end="200.92">fail that we go to our servers which are</span> <span data-start="200.92" data-end="202.81">in the US and in Australia and in</span> </p>
<p><span data-start="202.81" data-end="205.18">Germany so you're usually going pretty</span> <span data-start="205.18" data-end="207.85">fast when all of this may sound really</span> <span data-start="207.85" data-end="209.799">basic but the reason that I mentioned</span> <span data-start="209.799" data-end="214.209">this stuff is because about half of NPM</span> <span data-start="214.209" data-end="215.65">users don't know that the local cache</span> <span data-start="215.65" data-end="218.319">exists and about 20 percent of NPM users</span> <span data-start="218.319" data-end="220.959">don't know that the registry exists a</span> <span data-start="220.959" data-end="223.12">lot of people think that NPM packages</span> <span data-start="223.12" data-end="226.18">are just hosted on github which github</span> <span data-start="226.18" data-end="227.859">would be very annoyed about if that were</span> <span data-start="227.859" data-end="229.48">true because they download a billion</span> <span data-start="229.48" data-end="231.4">packages every week that would be a lot</span> <span data-start="231.4" data-end="233.019">of stuff from github for them to serve</span> <span data-start="233.019" data-end="236.95">for free for no reason of course it is</span> <span data-start="236.95" data-end="239.44">possible to specify a github URL as a</span> <span data-start="239.44" data-end="242.139">package dependency and if you do that</span> </p>
<p><span data-start="242.139" data-end="245.349">NPM will download from github and that</span> <span data-start="245.349" data-end="247">will work with any git hosting service</span> <span data-start="247" data-end="249.34">so you can use it with github gist's you</span> <span data-start="249.34" data-end="251.26">can install from a gist if that felt</span> <span data-start="251.26" data-end="253.78">like a good idea to you you can install</span> <span data-start="253.78" data-end="255.34">from bitbucket you can install from git</span> <span data-start="255.34" data-end="266.59">lab to my slides if you want to you can</span> <span data-start="266.59" data-end="268.24">also have your own private copy of NPM</span> <span data-start="268.24" data-end="271.519">called NPM Enterprise</span> <span data-start="271.529" data-end="273.99">it sits inside your firewall and it</span> <span data-start="273.99" data-end="275.569">hosts your packages for you</span> </p>
<p><span data-start="275.569" data-end="279.029">NPM Enterprise will store copies of</span> <span data-start="279.029" data-end="280.469">public packages as well as your private</span> <span data-start="280.469" data-end="282.09">packages and you can apply your own</span> <span data-start="282.09" data-end="283.77">policies for which of your packages get</span> <span data-start="283.77" data-end="285.33">married inside your firewall so you can</span> <span data-start="285.33" data-end="287.37">say just mirror the whole registry I</span> <span data-start="287.37" data-end="288.96">want some kind of outage insurance you</span> <span data-start="288.96" data-end="291.12">can say Mira stuff that matches my</span> <span data-start="291.12" data-end="292.77">security pallas you can say mirrors</span> <span data-start="292.77" data-end="294.3">stuff that matches my licensing</span> <span data-start="294.3" data-end="298.899">restrictions whatever you want it to do</span> <span data-start="298.909" data-end="303.06">and my slides are really messed up but</span> <span data-start="303.06" data-end="304.56">that's the simplest picture of NPM as</span> <span data-start="304.56" data-end="307.229">possible architecture so let's get on to</span> <span data-start="307.229" data-end="308.339">the really interesting stuff which is</span> <span data-start="308.339" data-end="310.199">the NPM commands starting with the most</span> <span data-start="310.199" data-end="312.599">important NPM command which is NPM</span> <span data-start="312.599" data-end="315.449">install NPM dash G this will update your</span> </p>
<p><span data-start="315.449" data-end="320.31">NPM this will get you NPM 3 which is the</span> <span data-start="320.31" data-end="322.439">latest NPM and it's not it's not bundled</span> <span data-start="322.439" data-end="323.999">with anything other than node 4 right</span> <span data-start="323.999" data-end="326.61">now and we recommend it it is both</span> <span data-start="326.61" data-end="329.129">faster and more reliable than NPM 2 and</span> <span data-start="329.129" data-end="331.979">that is you know that fact is new it was</span> <span data-start="331.979" data-end="334.02">not faster and it was not more reliable</span> <span data-start="334.02" data-end="337.259">until relatively recently if you're not</span> <span data-start="337.259" data-end="339.089">yet ready to upgrade to NPM 3 you can</span> <span data-start="339.089" data-end="340.319">use that command at the bottom which</span> <span data-start="340.319" data-end="341.909">will give you the latest version of NPM</span> <span data-start="341.909" data-end="344.46">to both NPM 2 and NPM 3 are updated</span> <span data-start="344.46" data-end="346.68">every single week with new fixes so lots</span> <span data-start="346.68" data-end="349.939">of people are dozens of versions behind</span> <span data-start="349.939" data-end="354.779">this next command that you should know</span> <span data-start="354.779" data-end="355.68">is NPM in it</span> </p>
<p><span data-start="355.68" data-end="357.689">NPM and it will start a new package for</span> <span data-start="357.689" data-end="360.599">you by creating your package JSON it</span> <span data-start="360.599" data-end="362.099">will ask you a bunch of questions like a</span> <span data-start="362.099" data-end="364.949">questionnaire but it also has a bunch of</span> <span data-start="364.949" data-end="367.08">smart defaults so if you're just pretty</span> <span data-start="367.08" data-end="368.639">sure that NPM init is going to get all</span> <span data-start="368.639" data-end="370.11">the defaults right which it gets right</span> <span data-start="370.11" data-end="372.24">most of the time you can just run NPM in</span> <span data-start="372.24" data-end="376.289">it — - yes don't write your package JSON</span> <span data-start="376.289" data-end="377.849">yourself this is the thing I'm going to</span> <span data-start="377.849" data-end="380.31">come back to a couple of times most of</span> <span data-start="380.31" data-end="382.199">the time NPM has tools that will write</span> <span data-start="382.199" data-end="383.879">your package JSON for you and it's</span> <span data-start="383.879" data-end="385.409">better at it than you are so you should</span> <span data-start="385.409" data-end="390.479">just let it do that a relatively new</span> <span data-start="390.479" data-end="393.81">feature of NPM is scopes there are so</span> <span data-start="393.81" data-end="395.399">many packages now there's like 280</span> <span data-start="395.399" data-end="398.039">thousand packages that if you're trying</span> <span data-start="398.039" data-end="399.539">to name a new package it can be kind of</span> <span data-start="399.539" data-end="400.8">a pain in the ass because all of the</span> <span data-start="400.8" data-end="403.289">good names are taken so the solution is</span> <span data-start="403.289" data-end="404.54">that you can publish packages</span> <span data-start="404.54" data-end="406.7">underneath your username and this lets</span> <span data-start="406.7" data-end="408.38">you use nice descriptive package names</span> <span data-start="408.38" data-end="409.94">because nothing under your username is</span> <span data-start="409.94" data-end="413.75">taken and the scope is part of the name</span> <span data-start="413.75" data-end="415.82">so you publish using the scope and you</span> <span data-start="415.82" data-end="417.47">install using the scope and you require</span> <span data-start="417.47" data-end="419.06">the code using the scope it's extremely</span> <span data-start="419.06" data-end="422">simple to use scoped packages can be</span> <span data-start="422" data-end="423.59">public like global packages are and</span> <span data-start="423.59" data-end="425.45">scoped packages can also be private</span> <span data-start="425.45" data-end="427.61">which is another paid feature there's a</span> <span data-start="427.61" data-end="431.81">couple of blogs in here here's an</span> <span data-start="431.81" data-end="433.43">advanced trick this is the one that I</span> <span data-start="433.43" data-end="434.87">throw in to make sure that nobody can</span> <span data-start="434.87" data-end="436.25">say they didn't find anything they never</span> <span data-start="436.25" data-end="439.64">knew before if you have a big team and</span> <span data-start="439.64" data-end="442.55">you create packages all the time and you</span> <span data-start="442.55" data-end="444.08">have some standards about what your</span> <span data-start="444.08" data-end="446.84">package JSON should look like you can</span> <span data-start="446.84" data-end="449.39">create a dot NPM init J's file in your</span> <span data-start="449.39" data-end="452.42">home directory and when NPM in it runs</span> <span data-start="452.42" data-end="454.16">it will pick up that file and execute it</span> <span data-start="454.16" data-end="456.26">and change the questionnaire that NPM</span> <span data-start="456.26" data-end="458.35">init runs which can be extremely useful</span> <span data-start="458.35" data-end="460.94">you can set defaults that are different</span> <span data-start="460.94" data-end="463.64">from the standard defaults you can skip</span> <span data-start="463.64" data-end="465.65">questions you can set a package naming</span> <span data-start="465.65" data-end="467">convention you can do whatever the hell</span> <span data-start="467" data-end="469.19">you want because it's just arbitrary</span> </p>
<p><span data-start="469.19" data-end="470.6">JavaScript running in there using a</span> <span data-start="470.6" data-end="472.19">package called prom xored which I'm not</span> <span data-start="472.19" data-end="474.56">gonna go into but you can do really cool</span> <span data-start="474.56" data-end="477.35">stuff and just share that your npm in it</span> <span data-start="477.35" data-end="478.88">with your entire team and sort of</span> <span data-start="478.88" data-end="480.74">suddenly all of your packages across</span> <span data-start="480.74" data-end="482.63">your team are initialized in the same</span> <span data-start="482.63" data-end="486.74">useful way one last thing about MPM in</span> <span data-start="486.74" data-end="488.42">it that some people don't know is that</span> <span data-start="488.42" data-end="491.9">npm init can always be safely rerun and</span> <span data-start="491.9" data-end="493.85">that's useful because npm makes smart</span> <span data-start="493.85" data-end="496.28">guesses about stuff if you are in a git</span> <span data-start="496.28" data-end="499.19">git repo and you run npm init and PM</span> <span data-start="499.19" data-end="500.72">will know that and it will add your git</span> <span data-start="500.72" data-end="503.45">repo to your repository field if you've</span> <span data-start="503.45" data-end="505.37">installed stuff into node modules in you</span> <span data-start="505.37" data-end="507.56">run npm in it it will automatically put</span> <span data-start="507.56" data-end="509.57">the node modules into your dependencies</span> <span data-start="509.57" data-end="512.24">field so even if you do that out of</span> <span data-start="512.24" data-end="514.04">order even if you npm init and then you</span> <span data-start="514.04" data-end="515.24">install some stuff and then you add a</span> <span data-start="515.24" data-end="516.86">git repo you can just run NPM at it</span> <span data-start="516.86" data-end="518.15">again and it will pick that stuff up</span> <span data-start="518.15" data-end="519.74">again and then will add it to package</span> </p>
<p><span data-start="519.74" data-end="521.36">JSON without blowing away any of the</span> <span data-start="521.36" data-end="523.64">stuff that you put in to package JSON so</span> <span data-start="523.64" data-end="524.96">it's completely safe and you can just</span> <span data-start="524.96" data-end="526.28">rerun it all the time to make sure that</span> <span data-start="526.28" data-end="528.44">NPM and it thinks that your package JSON</span> <span data-start="528.44" data-end="535.28">is up to snuff so like I said never edit</span> <span data-start="535.28" data-end="537.14">your package JSON yourself here's</span> <span data-start="537.14" data-end="538.37">another way to avoid doing</span> <span data-start="538.37" data-end="539.54">which a lot of people don't know which</span> <span data-start="539.54" data-end="541.55">is npm install' — - save that will</span> <span data-start="541.55" data-end="543.11">automatically add your package to your</span> <span data-start="543.11" data-end="545.21">the package — your package JSON for you</span> <span data-start="545.21" data-end="549.08">you can use — yes for short if you use -</span> <span data-start="549.08" data-end="550.82">- save Devitt will add it to your dev</span> <span data-start="550.82" data-end="552.74">dependencies you can also do — D for</span> <span data-start="552.74" data-end="555.65">short why should you be adding stuff to</span> <span data-start="555.65" data-end="557.87">your dev dependencies because then you</span> <span data-start="557.87" data-end="560.11">can skip installing them on production</span> <span data-start="560.11" data-end="562.61">npm install' — - production will skip it</span> <span data-start="562.61" data-end="563.99">your dev dependencies which will make</span> <span data-start="563.99" data-end="565.25">your production installs much much</span> <span data-start="565.25" data-end="566.75">faster you won't need your testing</span> <span data-start="566.75" data-end="568.96">framework you won't need a bunch of</span> <span data-start="568.96" data-end="571.16">helper libraries that you only use in</span> <span data-start="571.16" data-end="573.17">development on production so you can</span> <span data-start="573.17" data-end="575.75">just skip installing them and another</span> <span data-start="575.75" data-end="578.54">way to make installs faster is to use</span> <span data-start="578.54" data-end="581.48">bundled dependencies bundle dependencies</span> <span data-start="581.48" data-end="583.279">are included in your package they're</span> <span data-start="583.279" data-end="585.56">thrown right in there so they don't need</span> <span data-start="585.56" data-end="587.75">to be downloaded separately if you</span> <span data-start="587.75" data-end="589.7">bundle all of your dependencies then an</span> </p>
<p><span data-start="589.7" data-end="592.13">NPM install becomes a single large file</span> <span data-start="592.13" data-end="593.69">that you download and unpack without</span> <span data-start="593.69" data-end="595.19">having to do any additional downloads</span> <span data-start="595.19" data-end="596.96">which can make things a lot faster and</span> <span data-start="596.96" data-end="599.11">is a big time saver for larger projects</span> <span data-start="599.11" data-end="602.45">this is how NPM distributes itself and</span> <span data-start="602.45" data-end="604.31">PM bundles all of its dependencies</span> <span data-start="604.31" data-end="609.5">together I mentioned earlier that when</span> <span data-start="609.5" data-end="611.24">NPM installs it checks the server for</span> <span data-start="611.24" data-end="613.31">the current list of versions this means</span> <span data-start="613.31" data-end="616.04">that even if you already have the</span> <span data-start="616.04" data-end="618.589">current version in your local cache it's</span> <span data-start="618.589" data-end="620.24">still gonna need to check the server and</span> <span data-start="620.24" data-end="621.65">hit the server and go are there any</span> <span data-start="621.65" data-end="623.089">newer versions in this version that I</span> <span data-start="623.089" data-end="626.54">have which means that you still have to</span> <span data-start="626.54" data-end="628.85">hit the network and that check is</span> <span data-start="628.85" data-end="630.05">usually very quick because it's just</span> <span data-start="630.05" data-end="632.39">like a 304 most of the time because it's</span> <span data-start="632.39" data-end="633.89">not really downloading anything but that</span> <span data-start="633.89" data-end="635.6">can still be really annoying if you're</span> <span data-start="635.6" data-end="637.459">in a low bandwidth environment like</span> <span data-start="637.459" data-end="639.14">airplane Wi-Fi or the nation of</span> </p>
<p><span data-start="639.14" data-end="643.7">Australia and the cashman option is your</span> <span data-start="643.7" data-end="645.11">Savior here the catchment option</span> <span data-start="645.11" data-end="646.82">controls how long NPM weights between</span> <span data-start="646.82" data-end="648.47">checking the registry to see if there's</span> <span data-start="648.47" data-end="650.99">a newer version and the default is just</span> <span data-start="650.99" data-end="653.54">10 seconds so if you've got an install</span> <span data-start="653.54" data-end="655.67">that's 30 seconds long it can check for</span> <span data-start="655.67" data-end="657.62">the same package three times within the</span> <span data-start="657.62" data-end="659.45">same installation sequence which is not</span> <span data-start="659.45" data-end="662.3">super smart if I'm being honest so you</span> <span data-start="662.3" data-end="663.86">can set that to 60 seconds or something</span> <span data-start="663.86" data-end="665.93">else and your installs will often go a</span> <span data-start="665.93" data-end="675.39">lot faster</span> <span data-start="675.4" data-end="678.86">but NPM is more than just a way to to</span> <span data-start="678.86" data-end="680.69">install the pendants ease NPM has a</span> <span data-start="680.69" data-end="683.87">bunch of other stuff it's also a way to</span> <span data-start="683.87" data-end="686.06">automate the way that your team uses</span> <span data-start="686.06" data-end="687.74">your app that's one of the things that</span> </p>
<p><span data-start="687.74" data-end="689.57">NPM with the features that NPM is sort</span> <span data-start="689.57" data-end="691.67">of accumulated over the years is it's a</span> <span data-start="691.67" data-end="693.56">way of crystallizing the best practices</span> <span data-start="693.56" data-end="696.2">of your team into a machine rather than</span> <span data-start="696.2" data-end="699.98">just a list and one of the simplest ways</span> <span data-start="699.98" data-end="702.08">to do that is NPM default run scripts</span> <span data-start="702.08" data-end="703.82">you can add these to the scripts section</span> <span data-start="703.82" data-end="705.65">of your package JSON</span> <span data-start="705.65" data-end="707.57">unfortunately there's no automatic way</span> <span data-start="707.57" data-end="710.45">of doing it but then you then you and</span> <span data-start="710.45" data-end="712.52">your team can use NPM start an NPM stop</span> <span data-start="712.52" data-end="714.95">and restart and test to control the</span> <span data-start="714.95" data-end="716.39">basic operations of the app that you're</span> <span data-start="716.39" data-end="717.68">building</span> </p>
<p><span data-start="717.68" data-end="720.32">NPM tests is also used by CI systems</span> <span data-start="720.32" data-end="721.73">like Travis to run your tests</span> <span data-start="721.73" data-end="723.11">automatically so you don't have to tell</span> <span data-start="723.11" data-end="728.84">Travis how to do that so now you've got</span> <span data-start="728.84" data-end="734.57">an app or a module wait no hang on there</span> <span data-start="734.57" data-end="737.39">we go oh one other feature of run</span> <span data-start="737.39" data-end="738.92">scripts is that they have dev</span> <span data-start="738.92" data-end="742.73">dependencies in their path so if you</span> <span data-start="742.73" data-end="744.38">have grunt oh you have gulp or your tap</span> <span data-start="744.38" data-end="746.39">or you have mocha which you might be</span> <span data-start="746.39" data-end="748.94">tempted to install globally and run your</span> <span data-start="748.94" data-end="751.64">test with or run your tooling with you</span> <span data-start="751.64" data-end="752.78">can install them into your dev</span> <span data-start="752.78" data-end="755.18">dependencies and you can refer to them</span> <span data-start="755.18" data-end="757.22">in your run scripts just directly</span> <span data-start="757.22" data-end="758.36">without needing to know that they're</span> <span data-start="758.36" data-end="761.75">installed this prevents two problems it</span> <span data-start="761.75" data-end="763.1">prevents problems with different</span> <span data-start="763.1" data-end="764.3">projects that you have requiring</span> <span data-start="764.3" data-end="765.83">different versions of those things if</span> <span data-start="765.83" data-end="767.36">you've ever had two projects that</span> <span data-start="767.36" data-end="770.66">require different versions of mocha and</span> <span data-start="770.66" data-end="772.52">fail your tests in either one then you</span> <span data-start="772.52" data-end="774.02">can solve it by having them local to</span> <span data-start="774.02" data-end="776.36">each project and it also saves your</span> <span data-start="776.36" data-end="777.77">teammates from having to install those</span> <span data-start="777.77" data-end="779.33">global tools when they install your</span> <span data-start="779.33" data-end="780.8">project they just come along for the</span> <span data-start="780.8" data-end="782.21">ride with the rest of the project which</span> <span data-start="782.21" data-end="784.19">is super useful and it doesn't cost you</span> <span data-start="784.19" data-end="785.21">anything because their dev dependencies</span> <span data-start="785.21" data-end="786.8">you can skip installing them in</span> <span data-start="786.8" data-end="791.99">production so now you've got an app or a</span> <span data-start="791.99" data-end="793.37">module and you can test it and you can</span> <span data-start="793.37" data-end="797">run it and you'll want to publish it if</span> <span data-start="797" data-end="798.23">it's a package that you want the world</span> <span data-start="798.23" data-end="799.76">to see then you can do what people have</span> <span data-start="799.76" data-end="801.02">always done you could just run NPM</span> <span data-start="801.02" data-end="802.76">publish and using</span> <span data-start="802.76" data-end="805.61">using a global name but if it's just</span> <span data-start="805.61" data-end="807.5">your team or if it's a personal app of</span> <span data-start="807.5" data-end="809.42">yours you'll probably want to put it</span> <span data-start="809.42" data-end="810.889">under scope and you might want it to be</span> <span data-start="810.889" data-end="815.68">private so now we've got as far as</span> <span data-start="815.68" data-end="820.29">publishing the first version of your app</span> <span data-start="820.3" data-end="823.1">but the pub but the power of NPM comes</span> <span data-start="823.1" data-end="825.019">from the way that it handles multiple</span> <span data-start="825.019" data-end="828.199">versions and the root of that is</span> <span data-start="828.199" data-end="831.139">semantic versioning or semver semantic</span> <span data-start="831.139" data-end="833.269">versioning at heart is very simple you</span> <span data-start="833.269" data-end="835.19">know past it's hard it gets very very</span> <span data-start="835.19" data-end="836.93">complicated but at heart it's very</span> <span data-start="836.93" data-end="840.29">simple semver is a contract it's a</span> <span data-start="840.29" data-end="842.06">contract between the author of a package</span> <span data-start="842.06" data-end="844.88">and the users of the package that says</span> <span data-start="844.88" data-end="847.07">how big a change happened between two</span> <span data-start="847.07" data-end="848.72">versions the first number called the</span> <span data-start="848.72" data-end="851.75">major number is for breaking changes</span> <span data-start="851.75" data-end="853.399">it's for stuff that requires users to</span> <span data-start="853.399" data-end="854.66">change their code if they're going to</span> <span data-start="854.66" data-end="856.76">use this new version the second number</span> <span data-start="856.76" data-end="858.529">called the minors for feature changes it</span> <span data-start="858.529" data-end="859.76">means you've added something without</span> <span data-start="859.76" data-end="861.279">changing anything that was there before</span> <span data-start="861.279" data-end="864.44">and the last one called the patch number</span> <span data-start="864.44" data-end="866.48">is for bug and security fixes they</span> <span data-start="866.48" data-end="868.639">should correct bugs without requiring</span> <span data-start="868.639" data-end="873.96">people to change their code in any way</span> <span data-start="873.97" data-end="876.38">when you update your package you have to</span> <span data-start="876.38" data-end="878.209">update your version and the version is</span> <span data-start="878.209" data-end="879.889">part of package JSON so like most</span> <span data-start="879.889" data-end="882.829">changes to package JSON NPM has a way to</span> <span data-start="882.829" data-end="886.25">do that for you use NPM version major</span> <span data-start="886.25" data-end="888.29">for breaking changes use NPM version</span> <span data-start="888.29" data-end="890.089">minor for new features in NPM version</span> <span data-start="890.089" data-end="893.029">patch for fixes version also supports</span> <span data-start="893.029" data-end="894.589">all of the other sort of complicated</span> <span data-start="894.589" data-end="897.199">edge cases of the semper versioning</span> <span data-start="897.199" data-end="899.24">system but they're complicated so I'm</span> <span data-start="899.24" data-end="901.269">not going to go into them</span> <span data-start="901.269" data-end="903.769">version also creates a get tag at the</span> <span data-start="903.769" data-end="905.899">same time that it that it bumps your</span> <span data-start="905.899" data-end="907.67">version for you and it tags your your</span> <span data-start="907.67" data-end="909.41">get repo which is extremely useful so</span> <span data-start="909.41" data-end="911.72">you can throw in a dash M and that will</span> <span data-start="911.72" data-end="914.269">be applied to the as the commit message</span> <span data-start="914.269" data-end="918.8">for that get tag but of course semver is</span> <span data-start="918.8" data-end="922">a promise it's not a guarantee and</span> <span data-start="922" data-end="925.49">sometimes those things that you thought</span> <span data-start="925.49" data-end="927.589">were features they cause stuff to break</span> <span data-start="927.589" data-end="929.839">because you didn't do the feature right</span> <span data-start="929.839" data-end="931.699">and sometimes you're bug fix causes</span> <span data-start="931.699" data-end="932.899">stuff to break because people were</span> <span data-start="932.899" data-end="935.05">relying on the broken behavior</span> <span data-start="935.05" data-end="937.63">that shouldn't happen but it does so</span> <span data-start="937.63" data-end="939.339">what is a responsible NPM developers</span> <span data-start="939.339" data-end="940.589">supposed to do</span> <span data-start="940.589" data-end="943.72">well NPM shrink-wrap was invented to</span> <span data-start="943.72" data-end="945.55">solve that problem it captures your</span> <span data-start="945.55" data-end="947.2">entire dependency tree all of their</span> <span data-start="947.2" data-end="948.67">dependencies and their dependencies all</span> <span data-start="948.67" data-end="951.82">the way down and it saves them to a</span> <span data-start="951.82" data-end="953.62">shrink wrap JSON file which it puts in</span> <span data-start="953.62" data-end="955.45">the root of your package and it once</span> <span data-start="955.45" data-end="958">when you install your package elsewhere</span> <span data-start="958" data-end="960.64">if there's a shrink wrap file there NPM</span> <span data-start="960.64" data-end="962.62">will install the exact version specified</span> <span data-start="962.62" data-end="966.13">in the shrink wrap file but there's a</span> <span data-start="966.13" data-end="967.36">problem with that which is that shrink</span> <span data-start="967.36" data-end="970.899">wrap is kind of buggy sorry we're</span> <span data-start="970.899" data-end="972.7">working on that but in the meantime</span> <span data-start="972.7" data-end="975.37">there's packages like cling wrap and I</span> <span data-start="975.37" data-end="978.91">think shrunk wrap or something which</span> <span data-start="978.91" data-end="980.86">have had some success instead of</span> <span data-start="980.86" data-end="982.57">papering over the holes that exist in</span> <span data-start="982.57" data-end="984.25">shrink wrap right now but actually</span> <span data-start="984.25" data-end="985.75">fixing shrink wrap is one of the things</span> <span data-start="985.75" data-end="988.829">that the team is working on this year</span> <span data-start="988.829" data-end="991.92">but all of this so far has been assuming</span> <span data-start="991.92" data-end="994.42">that you're there's just one of you that</span> <span data-start="994.42" data-end="995.5">you're writing the package and you're</span> <span data-start="995.5" data-end="997.93">publishing it but in reality you work in</span> <span data-start="997.93" data-end="1000.149">a team and you want other people in your</span> <span data-start="1000.149" data-end="1001.56">company to be able to use your package</span> <span data-start="1001.56" data-end="1003.329">and some of them should be able to</span> <span data-start="1003.329" data-end="1004.62">publish it but some of them should only</span> <span data-start="1004.62" data-end="1008.279">be able to install it and this is</span> <span data-start="1008.279" data-end="1009.57">especially important when working with</span> <span data-start="1009.57" data-end="1012.089">private packages the old way to do this</span> <span data-start="1012.089" data-end="1014.16">was NPM owner but there's a better way</span> <span data-start="1014.16" data-end="1019.8">now and that is NPM organizations to use</span> <span data-start="1019.8" data-end="1021.51">organizations we added two new commands</span> <span data-start="1021.51" data-end="1024.209">to NPM NPM team and NPM access these let</span> <span data-start="1024.209" data-end="1027.27">you put people into teams and give them</span> <span data-start="1027.27" data-end="1028.829">access to packages in a really granular</span> <span data-start="1028.829" data-end="1032.01">way NPM organizations are a paid feature</span> <span data-start="1032.01" data-end="1035.669">right now we are hoping to change that</span> <span data-start="1035.669" data-end="1037.47">so I apologize for this being a slight</span> <span data-start="1037.47" data-end="1041.13">plug as well the team command is pretty</span> <span data-start="1041.13" data-end="1042.6">self-explanatory you can create and</span> <span data-start="1042.6" data-end="1044.64">destroy a team you can add people to the</span> <span data-start="1044.64" data-end="1045.839">team with add you can remove them with</span> </p>
<p><span data-start="1045.839" data-end="1047.16">RM and you can see who's in the team</span> <span data-start="1047.16" data-end="1051.36">with LS NPM access is similarly pretty</span> <span data-start="1051.36" data-end="1054.6">self-explanatory access grant gives a</span> <span data-start="1054.6" data-end="1056.429">team read-only or read/write access to a</span> <span data-start="1056.429" data-end="1058.29">package access revoke takes that</span> <span data-start="1058.29" data-end="1062.01">permission away access LS packages shows</span> <span data-start="1062.01" data-end="1063.809">you what packages a user or a team can</span> <span data-start="1063.809" data-end="1066.929">see and access LS collaborators</span> <span data-start="1066.929" data-end="1069.03">it shows you what users and teams</span> <span data-start="1069.03" data-end="1072.96">access to a particular package so with</span> <span data-start="1072.96" data-end="1075.12">the plug over let's level up again we</span> <span data-start="1075.12" data-end="1077.07">went from one user with one package to</span> <span data-start="1077.07" data-end="1079.32">multiple users with one package and now</span> <span data-start="1079.32" data-end="1081.21">it's time for multiple packages imagine</span> <span data-start="1081.21" data-end="1083.7">that you have split up your system into</span> <span data-start="1083.7" data-end="1086.73">a micro service architecture you have</span> <span data-start="1086.73" data-end="1088.05">several micro services they have shared</span> <span data-start="1088.05" data-end="1089.52">logic so you split the code up into</span> <span data-start="1089.52" data-end="1094.05">modules that multiple services use so</span> <span data-start="1094.05" data-end="1095.73">now you've got an app and you've got sub</span> <span data-start="1095.73" data-end="1097.05">modules and you want to be able to work</span> <span data-start="1097.05" data-end="1099.42">on them at the same time the command</span> <span data-start="1099.42" data-end="1102.92">that you want to do that is NPM link</span> <span data-start="1102.92" data-end="1105.06">here's how it works in the root of your</span> <span data-start="1105.06" data-end="1108.21">package which is called Alice run NPM</span> <span data-start="1108.21" data-end="1111.48">link now go to your other package which</span> <span data-start="1111.48" data-end="1114">is called Bob and run NPM link Alice and</span> <span data-start="1114" data-end="1116.25">suddenly Alice is immediately available</span> <span data-start="1116.25" data-end="1117.78">in Bob any changes that you make in</span> </p>
<p><span data-start="1117.78" data-end="1119.16">Alice will be immediately available in</span> <span data-start="1119.16" data-end="1120.3">Bob and you can work on the two at the</span> <span data-start="1120.3" data-end="1123.51">same time this is a trivial feature but</span> <span data-start="1123.51" data-end="1125.13">it's absolutely essential to working on</span> <span data-start="1125.13" data-end="1128.01">large NPM projects NPM itself consists</span> <span data-start="1128.01" data-end="1129.48">of dozens of modules and it's impossible</span> <span data-start="1129.48" data-end="1131.76">to work on NPM without using lots of NPM</span> <span data-start="1131.76" data-end="1136.29">link so cool we've got multiple users</span> <span data-start="1136.29" data-end="1138.93">multiple packages if you want to level</span> <span data-start="1138.93" data-end="1140.28">up again the next thing is multiple</span> <span data-start="1140.28" data-end="1142.41">releases if you have a lot of users</span> <span data-start="1142.41" data-end="1143.94">you're gonna find this valuable you're</span> <span data-start="1143.94" data-end="1146.1">gonna have the stable version that most</span> <span data-start="1146.1" data-end="1147.48">people are using and you're gonna want</span> <span data-start="1147.48" data-end="1149.19">to have a next or a beta version that</span> <span data-start="1149.19" data-end="1152.82">new people are using of course you could</span> <span data-start="1152.82" data-end="1154.29">just tell people which the specific</span> <span data-start="1154.29" data-end="1155.61">version is you'd like one point five</span> <span data-start="1155.61" data-end="1157.5">point seven that's beta everybody should</span> <span data-start="1157.5" data-end="1159.57">try it out but that's kind of a pain in</span> <span data-start="1159.57" data-end="1161.37">the ass and NPM is here to remove pains</span> <span data-start="1161.37" data-end="1164.61">in your ass so you can use dis tags also</span> <span data-start="1164.61" data-end="1168.36">called release tags to do this you can</span> <span data-start="1168.36" data-end="1170.88">apply a disc tag at publish time by</span> <span data-start="1170.88" data-end="1173.73">using — - tag when you publish by</span> <span data-start="1173.73" data-end="1175.5">default every publish gets tagged it</span> <span data-start="1175.5" data-end="1177.66">gets tagged as latest and with you NPM</span> <span data-start="1177.66" data-end="1179.16">install what you're actually doing is</span> <span data-start="1179.16" data-end="1181.23">you're NPM installing at latest whatever</span> <span data-start="1181.23" data-end="1183.3">the latest tag points to is what gets</span> <span data-start="1183.3" data-end="1187.5">installed so but you can run anything</span> <span data-start="1187.5" data-end="1189.27">you can run in NPM install package at</span> <span data-start="1189.27" data-end="1191.25">beta NPM install package a test NPM</span> <span data-start="1191.25" data-end="1192.75">install package at whatever arbitrary</span> <span data-start="1192.75" data-end="1196.17">tag you've made up so once you've done</span> <span data-start="1196.17" data-end="1198.54">that you've got this beta tag and you're</span> <span data-start="1198.54" data-end="1200.4">like okay cool this version is no longer</span> <span data-start="1200.4" data-end="1202.05">beta this version is latest how do you</span> <span data-start="1202.05" data-end="1202.71">change</span> <span data-start="1202.71" data-end="1204.09">the tag once the thing is already</span> <span data-start="1204.09" data-end="1205.68">published that's where the dist Anka</span> <span data-start="1205.68" data-end="1209.37">mint comes in this tag ad applies the</span> <span data-start="1209.37" data-end="1211.14">tag you specify to the version that you</span> <span data-start="1211.14" data-end="1214.17">specify only one version of a package</span> <span data-start="1214.17" data-end="1217.2">can have a tag at any one time so if you</span> <span data-start="1217.2" data-end="1218.88">add it to a new version it's the same as</span> <span data-start="1218.88" data-end="1221.49">moving it from the old version you can</span> <span data-start="1221.49" data-end="1223.62">use remove to tack to remove the tag</span> <span data-start="1223.62" data-end="1227.91">entirely you can see what tags exist</span> <span data-start="1227.91" data-end="1230.61">with LS big packages like babel have</span> <span data-start="1230.61" data-end="1232.58">adopted a new release strategy where</span> <span data-start="1232.58" data-end="1235.35">they release all of the new versions of</span> <span data-start="1235.35" data-end="1237.84">their package on a next tag you know</span> <span data-start="1237.84" data-end="1240.09">just as ci passes it gets automatically</span> <span data-start="1240.09" data-end="1241.68">published and when everything has</span> <span data-start="1241.68" data-end="1243.09">reached the next tag they then do a</span> <span data-start="1243.09" data-end="1244.29">single operation that switches</span> <span data-start="1244.29" data-end="1245.58">everything on the next tag to the</span> <span data-start="1245.58" data-end="1247.92">current tag which is if you've got a big</span> </p>
<p><span data-start="1247.92" data-end="1250.38">NPM project can be a nice granular way</span> <span data-start="1250.38" data-end="1255.18">of doing that so one other way that you</span> <span data-start="1255.18" data-end="1256.41">can use tags is when you're installing</span> <span data-start="1256.41" data-end="1258.93">your dependencies you can run npm</span> <span data-start="1258.93" data-end="1261.57">install with — - tag and NPM will prefer</span> <span data-start="1261.57" data-end="1263.52">versions that have that tag this is</span> <span data-start="1263.52" data-end="1265.23">useful if you're working on a big</span> <span data-start="1265.23" data-end="1266.61">project with lots of people and some</span> <span data-start="1266.61" data-end="1268.38">people have started releasing next stuff</span> <span data-start="1268.38" data-end="1269.43">and you don't want to have to update</span> <span data-start="1269.43" data-end="1271.95">your dependencies you just say install</span> <span data-start="1271.95" data-end="1274.17">this project on the next tag and it will</span> <span data-start="1274.17" data-end="1275.82">pull in all of your dependencies on next</span> <span data-start="1275.82" data-end="1280.05">tags if you've got them of course</span> <span data-start="1280.05" data-end="1282.98">sometimes you make a mistake and you</span> <span data-start="1282.98" data-end="1285.15">publish a version by accident or you</span> <span data-start="1285.15" data-end="1287.04">have a bug that's gonna take a long time</span> <span data-start="1287.04" data-end="1288.69">to fix and you just want that version to</span> <span data-start="1288.69" data-end="1291.84">be gone an NPM unpublish lets you do</span> <span data-start="1291.84" data-end="1292.59">that</span> <span data-start="1292.59" data-end="1295.89">as you may have heard recently and</span> <span data-start="1295.89" data-end="1297.48">publishing a package can cause trouble</span> <span data-start="1297.48" data-end="1299.82">if there's a bunch of people depending</span> <span data-start="1299.82" data-end="1302.37">on that package so recently we made a</span> <span data-start="1302.37" data-end="1303.84">change in the way that unpublished works</span> <span data-start="1303.84" data-end="1305.31">which is if you unpublished something</span> <span data-start="1305.31" data-end="1306.75">you can unpublish it easily for the</span> <span data-start="1306.75" data-end="1309.06">first 24 hours and after the first 24</span> <span data-start="1309.06" data-end="1311.52">hours you have to contact support to</span> <span data-start="1311.52" data-end="1313.89">make sure that this is a thing that you</span> <span data-start="1313.89" data-end="1316.38">intended to do and is safe for everyone</span> <span data-start="1316.38" data-end="1319.95">to do and we're probably not you know</span> <span data-start="1319.95" data-end="1322.05">giving package aways package names away</span> <span data-start="1322.05" data-end="1323.55">to corporations anymore that didn't seem</span> <span data-start="1323.55" data-end="1327.45">to work out but if you've got a package</span> <span data-start="1327.45" data-end="1329.43">or a version that you don't want people</span> <span data-start="1329.43" data-end="1331.98">to use anymore rather than on publishing</span> <span data-start="1331.98" data-end="1333.78">it the safer and friendlier way is to</span> <span data-start="1333.78" data-end="1335.66">use NPM deprecated</span> <span data-start="1335.66" data-end="1337.71">people will still be able to install the</span> <span data-start="1337.71" data-end="1338.88">package they'll just get a little</span> <span data-start="1338.88" data-end="1340.23">friendly notice saying hey you shouldn't</span> <span data-start="1340.23" data-end="1341.58">use this package anymore it's much</span> <span data-start="1341.58" data-end="1343.47">easier and it's much safer and it</span> <span data-start="1343.47" data-end="1344.88">doesn't break the whole universe and</span> <span data-start="1344.88" data-end="1347.34">happy you know have to do forever jokes</span> <span data-start="1347.34" data-end="1352.65">about left bad so if you've been running</span> <span data-start="1352.65" data-end="1354.96">a project for a while you'll find that</span> <span data-start="1354.96" data-end="1356.04">some of your dependencies have been</span> <span data-start="1356.04" data-end="1357.75">updated but with breaking changes so</span> <span data-start="1357.75" data-end="1359.48">they won't automatically be pulled in</span> <span data-start="1359.48" data-end="1361.95">how do you find these updates that's</span> <span data-start="1361.95" data-end="1364.62">what NPM outdated is for NPM outdid will</span> <span data-start="1364.62" data-end="1366.53">give you a list like this one here</span> <span data-start="1366.53" data-end="1369.63">current shows you what you have locally</span> <span data-start="1369.63" data-end="1372.87">and wanted shows you the version that</span> <span data-start="1372.87" data-end="1374.67">would be in the maximum version that</span> <span data-start="1374.67" data-end="1376.56">would be installed by your sambara range</span> <span data-start="1376.56" data-end="1378.21">so if you've installed recently these</span> <span data-start="1378.21" data-end="1379.65">two are usually the same and if they're</span> <span data-start="1379.65" data-end="1382.17">not the same NPM update will bring them</span> <span data-start="1382.17" data-end="1384.9">into alignment with each other the last</span> <span data-start="1384.9" data-end="1387.51">column which is the latest shows if</span> <span data-start="1387.51" data-end="1389.52">there's a version that is outside you're</span> <span data-start="1389.52" data-end="1393.45">allowed range but still exists like a</span> <span data-start="1393.45" data-end="1395.07">breaking change so you can decide if you</span> <span data-start="1395.07" data-end="1396.51">want to upgrade without having to you</span> <span data-start="1396.51" data-end="1397.89">know just install new things to check</span> <span data-start="1397.89" data-end="1405.09">everybody's webpage so there's more</span> <span data-start="1405.09" data-end="1406.47">stuff about run scripts I called them</span> <span data-start="1406.47" data-end="1407.58">run scripts in here's why I did that</span> <span data-start="1407.58" data-end="1409.86">which is that in the script stanza of</span> <span data-start="1409.86" data-end="1412.11">your package.json you can define any</span> <span data-start="1412.11" data-end="1414.18">scripts at all and then you can run them</span> <span data-start="1414.18" data-end="1416.82">using the NPM run command so like start</span> <span data-start="1416.82" data-end="1418.92">and stop and test all of these arbitrary</span> <span data-start="1418.92" data-end="1420.78">run scripts they get dev dependencies in</span> <span data-start="1420.78" data-end="1423.18">their path and you can use them for all</span> <span data-start="1423.18" data-end="1425.31">sorts of things at NPM we tend to use</span> </p>
<p><span data-start="1425.31" data-end="1428.04">NPM run dev as a shorthand of starting</span> <span data-start="1428.04" data-end="1429.63">the server in development mode which is</span> <span data-start="1429.63" data-end="1434.52">nice are the people use NPM run set up</span> <span data-start="1434.52" data-end="1436.2">to initialize their databases the first</span> <span data-start="1436.2" data-end="1438.36">time so that you don't have to have like</span> <span data-start="1438.36" data-end="1440.1">a complicated wiki page about you know</span> <span data-start="1440.1" data-end="1441.63">here's how you set up your databases for</span> <span data-start="1441.63" data-end="1443.07">the first time when you when you hired a</span> <span data-start="1443.07" data-end="1445.05">new dev that's what I mean about package</span> </p>
<p><span data-start="1445.05" data-end="1446.94">JSON and NPM being a way of</span> <span data-start="1446.94" data-end="1449.46">crystallizing your your team's processes</span> <span data-start="1449.46" data-end="1452.7">into the code anything that you might</span> <span data-start="1452.7" data-end="1454.11">have put in a wiki somewhere you can</span> <span data-start="1454.11" data-end="1455.55">just slap it into package JSON and you</span> <span data-start="1455.55" data-end="1457.02">can have it version controlled along</span> <span data-start="1457.02" data-end="1458.19">with everything else so you no longer</span> <span data-start="1458.19" data-end="1460.05">have to tell everybody that's not how we</span> <span data-start="1460.05" data-end="1461.52">run tests anymore this is how we run</span> <span data-start="1461.52" data-end="1462.93">tests anymore that's not how you set up</span> <span data-start="1462.93" data-end="1464.34">the database this is how you set up the</span> <span data-start="1464.34" data-end="1466.34">database</span> <span data-start="1466.34" data-end="1468.74">so I already mentioned that run scripts</span> <span data-start="1468.74" data-end="1470.99">get dev dependencies for free another</span> <span data-start="1470.99" data-end="1472.37">useful thing that they get for Frieza</span> <span data-start="1472.37" data-end="1474.41">they get a bunch of NPM variables every</span> <span data-start="1474.41" data-end="1476.72">key in package JSON is available to your</span> <span data-start="1476.72" data-end="1479.36">run scripts in the environment as an NPM</span> <span data-start="1479.36" data-end="1482.3">package value and every configuration</span> <span data-start="1482.3" data-end="1485.21">value used by NPM is available as an NPM</span> <span data-start="1485.21" data-end="1489.38">config value even more usefully if you</span> <span data-start="1489.38" data-end="1491.48">create a config key like this one in</span> <span data-start="1491.48" data-end="1494.3">your package JSON you can put default</span> <span data-start="1494.3" data-end="1495.5">values in there and they will be</span> <span data-start="1495.5" data-end="1497.69">overridden by values in NPM s</span> <span data-start="1497.69" data-end="1500">configuration command configuration</span> <span data-start="1500" data-end="1502.04">files so as you can see in this example</span> </p>
<p><span data-start="1502.04" data-end="1503.96">I set a default port for my thing to run</span> <span data-start="1503.96" data-end="1507.05">on to be used by my start script forever</span> <span data-start="1507.05" data-end="1508.88">for instance it just wants to know what</span> <span data-start="1508.88" data-end="1510.92">port it should run on but somebody can</span> <span data-start="1510.92" data-end="1513.86">use NPM config to set the value of that</span> <span data-start="1513.86" data-end="1515.81">config and it will be overridden without</span> <span data-start="1515.81" data-end="1517.22">you having to constantly swap in</span> <span data-start="1517.22" data-end="1521.69">configuration files the final and most</span> <span data-start="1521.69" data-end="1523.19">useful feature of NPM run scripts that</span> <span data-start="1523.19" data-end="1525.14">I'm going to mention is lifecycle hooks</span> <span data-start="1525.14" data-end="1527.15">certain names for run scripts are</span> <span data-start="1527.15" data-end="1529.81">special this is the big list of them</span> <span data-start="1529.81" data-end="1532.34">these scripts will run automatically in</span> <span data-start="1532.34" data-end="1534.38">response to events so events like</span> <span data-start="1534.38" data-end="1535.91">publishing your package or running the</span> <span data-start="1535.91" data-end="1538.49">version command or running install and</span> <span data-start="1538.49" data-end="1540.08">you can use this to do all sorts of</span> <span data-start="1540.08" data-end="1542.33">things like really common use of the</span> <span data-start="1542.33" data-end="1545.36">install event is two compiled binary</span> <span data-start="1545.36" data-end="1547.57">dependencies if your package has those</span> <span data-start="1547.57" data-end="1549.83">but you can do other cool stuff you can</span> <span data-start="1549.83" data-end="1552.35">force the event to fail if the script</span> <span data-start="1552.35" data-end="1555.08">fails so for instance you can put a pre</span> <span data-start="1555.08" data-end="1557.39">publish script that runs your tests</span> <span data-start="1557.39" data-end="1559.25">which makes it impossible to publish a</span> <span data-start="1559.25" data-end="1561.23">version that doesn't pass your test this</span> <span data-start="1561.23" data-end="1563.57">can be a nice low friction way of like</span> <span data-start="1563.57" data-end="1578.93">ensuring best practices within your team</span> <span data-start="1578.94" data-end="1580.56">the other thing that I should talk about</span> <span data-start="1580.56" data-end="1583.11">that is super useful is the NPM RC file</span> <span data-start="1583.11" data-end="1585.09">or more accurately the NPM RC files</span> <span data-start="1585.09" data-end="1586.59">because there are four of them and this</span> <span data-start="1586.59" data-end="1590.25">is a frequent source of confusion what</span> <span data-start="1590.25" data-end="1592.08">the NPM RC files is they do is they</span> <span data-start="1592.08" data-end="1594.06">provide default configuration options</span> <span data-start="1594.06" data-end="1596.4">for NPM and NPM accepts over a hundred</span> <span data-start="1596.4" data-end="1598.29">configuration options writing them down</span> <span data-start="1598.29" data-end="1601.92">in some place is often pretty useful if</span> <span data-start="1601.92" data-end="1604.83">you put an NPM LC in your package root</span> <span data-start="1604.83" data-end="1606.33">you can that's a good place to put per</span> <span data-start="1606.33" data-end="1608.7">package per project configuration</span> <span data-start="1608.7" data-end="1609.72">settings that would be shared across</span> <span data-start="1609.72" data-end="1611.55">your team if you have stuff that's</span> <span data-start="1611.55" data-end="1613.17">relevant just to you like your assets</span> <span data-start="1613.17" data-end="1614.64">token and stuff like that you can put it</span> <span data-start="1614.64" data-end="1616.49">in the one in your home directory</span> <span data-start="1616.49" data-end="1619.29">there's also you know global ones and</span> <span data-start="1619.29" data-end="1622.53">and and you can also look at an PM's</span> <span data-start="1622.53" data-end="1624.3">built-in ones if that sounds like a good</span> <span data-start="1624.3" data-end="1626.67">idea to you</span> <span data-start="1626.67" data-end="1629.7">another thing that NPM RC does is it</span> <span data-start="1629.7" data-end="1631.86">holds your authentication token you can</span> <span data-start="1631.86" data-end="1633.75">use this token to authenticate other</span> <span data-start="1633.75" data-end="1636.57">services to NPM a really common use case</span> <span data-start="1636.57" data-end="1638.7">for this is CI if you are using private</span> <span data-start="1638.7" data-end="1642.09">packages if you don't you don't have put</span> <span data-start="1642.09" data-end="1643.65">your auth token directly into your code</span> <span data-start="1643.65" data-end="1645.87">you can do something like this where you</span> <span data-start="1645.87" data-end="1648.03">put the NPM token variable into your</span> <span data-start="1648.03" data-end="1649.95">into your NPM RC file it will get</span> <span data-start="1649.95" data-end="1651.93">automatically expanded if you set it as</span> <span data-start="1651.93" data-end="1654.08">an environment variable within Travis</span> <span data-start="1654.08" data-end="1656.97">this is a really useful thing to do and</span> </p>
<p><span data-start="1656.97" data-end="1658.62">Remy's post which I'm linking to there</span> <span data-start="1658.62" data-end="1660.24">has a lot of details on how to do that</span> <span data-start="1660.24" data-end="1664.32">the best way there are a handful of fun</span> <span data-start="1664.32" data-end="1666.03">configuration options which I'm going to</span> <span data-start="1666.03" data-end="1667.14">skip because I'm running a little bit</span> <span data-start="1667.14" data-end="1671.58">over time and so before I get out of</span> <span data-start="1671.58" data-end="1672.63">here I want to mention that there's a</span> <span data-start="1672.63" data-end="1674.97">few third-party tools that are not part</span> <span data-start="1674.97" data-end="1676.5">of NPM but they're so useful and so</span> <span data-start="1676.5" data-end="1678.6">popular that they're becoming intrinsic</span> <span data-start="1678.6" data-end="1680.16">to the way people write note code and</span> <span data-start="1680.16" data-end="1683.37">use NPM these days the first is bable</span> <span data-start="1683.37" data-end="1685.61">bable is a transpiler</span> <span data-start="1685.61" data-end="1688.11">it's a tool that transforms next version</span> <span data-start="1688.11" data-end="1689.79">JavaScript into JavaScript that can run</span> <span data-start="1689.79" data-end="1691.91">today either a note or in your browser</span> <span data-start="1691.91" data-end="1694.41">it can also transpile stuff that isn't</span> </p>
<p><span data-start="1694.41" data-end="1697.44">JavaScript like JSX or typescript and</span> <span data-start="1697.44" data-end="1699.39">lots of projects and tutorials these</span> <span data-start="1699.39" data-end="1700.98">days we're seeing just sort of assume</span> <span data-start="1700.98" data-end="1702.99">you already know how to transfer your</span> <span data-start="1702.99" data-end="1704.43">code and that's a thing that everybody</span> <span data-start="1704.43" data-end="1706.59">does so if you've been wondering how the</span> <span data-start="1706.59" data-end="1707.85">hell it is that all these people are</span> <span data-start="1707.85" data-end="1709.86">using es6 before es6 is globally</span> <span data-start="1709.86" data-end="1710.96">available Babel</span> <span data-start="1710.96" data-end="1714.08">how they're doing it another thing that</span> <span data-start="1714.08" data-end="1716.659">people do and assume that you already</span> <span data-start="1716.659" data-end="1718.37">know how to do is to make your note code</span> <span data-start="1718.37" data-end="1720.86">available into your browser there are</span> <span data-start="1720.86" data-end="1722.12">two popular ways to do this the first</span> <span data-start="1722.12" data-end="1724.97">and older one is browserify built by the</span> <span data-start="1724.97" data-end="1726.95">wonderful genius sub stack it is an</span> <span data-start="1726.95" data-end="1729.86">amazingly powerful flexible tool and the</span> <span data-start="1729.86" data-end="1731.48">second one is web pack which is a newer</span> <span data-start="1731.48" data-end="1733.429">more sort of batteries included solution</span> <span data-start="1733.429" data-end="1735.38">that does much of the same things they</span> <span data-start="1735.38" data-end="1736.85">will both help you transpile your code</span> <span data-start="1736.85" data-end="1738.289">and make it easily available to your</span> <span data-start="1738.289" data-end="1740.38">browser in a predictable way</span> <span data-start="1740.38" data-end="1742.64">another tool that we're finding super</span> <span data-start="1742.64" data-end="1745.669">useful right now is green keeper green</span> <span data-start="1745.669" data-end="1748.64">keeper is like NPM outdated in the cloud</span> <span data-start="1748.64" data-end="1751.76">it constantly checks for updates to the</span> <span data-start="1751.76" data-end="1753.679">packages that you depend on and it runs</span> <span data-start="1753.679" data-end="1756.049">your tests on them to make sure that</span> <span data-start="1756.049" data-end="1758">minor updates haven't broken you they</span> <span data-start="1758" data-end="1759.23">said that they weren't going to but they</span> <span data-start="1759.23" data-end="1760.61">might have anyway and green keepers</span> <span data-start="1760.61" data-end="1762.11">making sure that your tests are always</span> <span data-start="1762.11" data-end="1765.289">green get it and it will even submit a</span> </p>
<p><span data-start="1765.289" data-end="1767.75">PR to include the new change if it's</span> <span data-start="1767.75" data-end="1769.82">safe for your app and we've turned it on</span> <span data-start="1769.82" data-end="1772.57">for most of our repos a 10:00 p.m. and</span> <span data-start="1772.57" data-end="1774.86">the last third-party thing I want to</span> <span data-start="1774.86" data-end="1776.57">mention is the node security project and</span> <span data-start="1776.57" data-end="1780.89">they're two NS P n SP consults node</span> <span data-start="1780.89" data-end="1782.899">security projects data based of node and</span> <span data-start="1782.899" data-end="1784.58">security vulnerabilities when you run an</span> <span data-start="1784.58" data-end="1786.77">SP check and it will alert you if you're</span> <span data-start="1786.77" data-end="1788.75">using a vulnerable module so if you hook</span> <span data-start="1788.75" data-end="1791.299">an SP check into those life cycle events</span> <span data-start="1791.299" data-end="1793.13">that I was talking about you can make it</span> <span data-start="1793.13" data-end="1794.69">such that it is impossible for you to</span> <span data-start="1794.69" data-end="1796.25">publish a version of your code that</span> <span data-start="1796.25" data-end="1798.02">contains vulnerable modules which is a</span> <span data-start="1798.02" data-end="1802.11">really good idea</span> <span data-start="1802.12" data-end="1805.13">so one thing you may be asking at this</span> <span data-start="1805.13" data-end="1806.6">point is like I've just given you this</span> <span data-start="1806.6" data-end="1808.1">whirlwind tour of like dozens and dozens</span> <span data-start="1808.1" data-end="1810.049">of features what on earth is tying all</span> <span data-start="1810.049" data-end="1812.809">of these things together it does all</span> <span data-start="1812.809" data-end="1815.21">these random things what ties them</span> <span data-start="1815.21" data-end="1816.86">together is that they take something</span> <span data-start="1816.86" data-end="1818.75">that you had to do all the time and it</span> <span data-start="1818.75" data-end="1820.85">turns it into an automatic thing that</span> <span data-start="1820.85" data-end="1822.14">happens without you having to think</span> <span data-start="1822.14" data-end="1824.36">about it they take things that were hard</span> <span data-start="1824.36" data-end="1826.27">and they make them simpler and faster</span> <span data-start="1826.27" data-end="1829.1">the message of NPM is that NPM is here</span> <span data-start="1829.1" data-end="1830.99">to get out of your way we are not here</span> <span data-start="1830.99" data-end="1833.419">to add a bunch of ceremony that is not</span> <span data-start="1833.419" data-end="1835.279">what we are about we don't want to tell</span> <span data-start="1835.279" data-end="1837.169">you how to do things we want to find out</span> <span data-start="1837.169" data-end="1838.7">the things that you're already doing and</span> <span data-start="1838.7" data-end="1840.47">make them as simple as we possibly can</span> <span data-start="1840.47" data-end="1842.51">so if there's something that you do</span> <span data-start="1842.51" data-end="1844.25">every day and it's still really hard you</span> <span data-start="1844.25" data-end="1844.61">should</span> <span data-start="1844.61" data-end="1846.2">about it you should find me today and</span> <span data-start="1846.2" data-end="1848">complain to me about it and that's what</span> </p>
<p><span data-start="1848" data-end="1849.71">NPM will get out of your way to do next</span> <span data-start="1849.71" data-end="1853.88">so there you go that is the big recap of</span> <span data-start="1853.88" data-end="1855.5">all of the things that we think that</span> <span data-start="1855.5" data-end="1857.27">everybody should know about NPM I hope</span> <span data-start="1857.27" data-end="1858.59">you all learned at least one useful</span> <span data-start="1858.59" data-end="1861.71">thing and if you've got any questions</span> <span data-start="1861.71" data-end="1864.08">you should stop me in the hallway good</span> <span data-start="1864.08" data-end="1865.91">questions get good NPM swag and I have a</span> <span data-start="1865.91" data-end="1867.5">big bag of it to give away that I don't</span> <span data-start="1867.5" data-end="1876.1">want to take back thank you very much</span> </p>
</section>

<!-- div#container ends -->
</div>

<img alt="The End" id="fin" src="../images/fin.jpg">

<script>
/*eslint-disable */
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google-translate');
}
/* eslint-enable */
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="../js/main.js"></script>

</body>

</html>
