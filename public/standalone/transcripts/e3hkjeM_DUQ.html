<!DOCTYPE html>

<!--
Copyright 2019 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="//google.com">
  <meta name="description" content="web.dev LIVE video transcript">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>e3hkjeM_DUQ</title>
  <link rel="stylesheet" href="../css/main.css">
</head>

<body>

<iframe id="youtube" src="https://www.youtube.com/embed/e3hkjeM_DUQ?enablejsapi=1"></iframe>

<div id="container">

<div id="options">
  <div id="google-translate"></div>
  <div>
    <input type="checkbox" id="videoSticky" checked>
    <label for="videoSticky">Video position sticky</label>
  </div>
  <div>
    <input type="checkbox" id="captionScroll" checked>
    <label for="captionScroll">Keep current caption visible</label>
  </div>
</div>

<section>
<p><span data-start="13.919" data-end="17.609">so we're gonna learn how to draw a horse</span> <span data-start="17.609" data-end="21.55">it's real easy okay check this out for</span> <span data-start="21.55" data-end="24.869">five steps step one draw two circles</span> <span data-start="24.869" data-end="29.619">step to draw the legs it's really coming</span> <span data-start="29.619" data-end="31.63">together now here see check draw the</span> <span data-start="31.63" data-end="35.35">face draw the hair add some small</span> <span data-start="35.35" data-end="42.9">details and you got a beautiful horse so</span> <span data-start="42.9" data-end="45.219">something's a little bit missing here</span> <span data-start="45.219" data-end="48.43">between step 4 and 5 and a lot of</span> <span data-start="48.43" data-end="50.859">technology is like this when it comes to</span> <span data-start="50.859" data-end="52.69">read me files or instructions or</span> <span data-start="52.69" data-end="56.01">technical blogs that kind of paint this</span> <span data-start="56.01" data-end="58.48">really rosy picture about how easy</span> <span data-start="58.48" data-end="60.519">something is especially you know</span> <span data-start="60.519" data-end="62.32">integrating this technology with this</span> <span data-start="62.32" data-end="63.789">technology I'm going to give you the</span> <span data-start="63.789" data-end="67.36">step-by-step guide I call things like</span> <span data-start="67.36" data-end="71.17">this the the troll read me when they</span> <span data-start="71.17" data-end="74.64">when they leave out the really nasty</span> <span data-start="74.64" data-end="76.959">nitty-gritty details of stuff that</span> <span data-start="76.959" data-end="79.39">you're going to get stuck on it give you</span> <span data-start="79.39" data-end="80.83">some little getting started guide like</span> <span data-start="80.83" data-end="83.83">this you know just NPM install this and</span> <span data-start="83.83" data-end="86.319">then super easy and that's it and and</span> <span data-start="86.319" data-end="88.09">then you're like right out of the gate</span> <span data-start="88.09" data-end="91">you just like get smacked down and you</span> <span data-start="91" data-end="94.09">run into some problem and you go google</span> <span data-start="94.09" data-end="96.009">it you go google the error you find out</span> <span data-start="96.009" data-end="97.509">there's like thousands of other people</span> <span data-start="97.509" data-end="99.759">who have had this problem and there's</span> <span data-start="99.759" data-end="102.16">you know 500 different possible</span> <span data-start="102.16" data-end="104.02">solutions for the problem and so your</span> <span data-start="104.02" data-end="106.36">next step is like great I'm already</span> <span data-start="106.36" data-end="108.22">going off on this forked paths like</span> <span data-start="108.22" data-end="111.22">which which road do i choose and it's</span> <span data-start="111.22" data-end="113.349">really frustrating and so I work for</span> </p>
<p><span data-start="113.349" data-end="115.509">Walmart labs and we kept running into</span> <span data-start="115.509" data-end="118.36">stuff like this with regards to our</span> <span data-start="118.36" data-end="121.27">end-to-end testing strategy when it when</span> <span data-start="121.27" data-end="122.89">it came to automation and it it really</span> <span data-start="122.89" data-end="124.569">sucked so I wanted to share some of our</span> <span data-start="124.569" data-end="128.11">experiences there so that's me and my</span> <span data-start="128.11" data-end="132.55">boy up there and me not him work for</span> <span data-start="132.55" data-end="135.849">Walmart labs and when we create common</span> <span data-start="135.849" data-end="137.89">infrastructure on my team where the core</span> <span data-start="137.89" data-end="140.23">web team we create building automation</span> <span data-start="140.23" data-end="143.68">tools that other teams use to build out</span> <span data-start="143.68" data-end="145.84">everything about ww1</span> <span data-start="145.84" data-end="149.98">marcom that that everybody uses so we we</span> <span data-start="149.98" data-end="152.019">we try to support them with with common</span> <span data-start="152.019" data-end="153.67">tools and infrastructure especially with</span> <span data-start="153.67" data-end="157.39">regards to automation to make it so they</span> <span data-start="157.39" data-end="158.95">can spend more time doing fun stuff in</span> <span data-start="158.95" data-end="161.41">less time doing tedious stuff so we</span> <span data-start="161.41" data-end="164.23">follow the test pyramid which you may</span> <span data-start="164.23" data-end="167.379">have seen before it prescribes that you</span> <span data-start="167.379" data-end="169.239">have a whole lot of unit tests and that</span> <span data-start="169.239" data-end="170.95">you rely on unit tests as your bread and</span> <span data-start="170.95" data-end="174.549">butter for for for quality control unit</span> <span data-start="174.549" data-end="176.349">tests are fast they're reliable they're</span> <span data-start="176.349" data-end="178.75">predictable they hopefully our are</span> <span data-start="178.75" data-end="180.91">pretty consistent when they pass and</span> <span data-start="180.91" data-end="184.569">fail and very easy to run on a dev</span> <span data-start="184.569" data-end="187.45">machine see I machine service tests</span> <span data-start="187.45" data-end="188.23">we're not really going to talk about</span> <span data-start="188.23" data-end="191.17">today but just testing an HTTP endpoint</span> <span data-start="191.17" data-end="192.79">on a server to make sure that it's it's</span> <span data-start="192.79" data-end="194.519">giving you the response you expect and</span> <span data-start="194.519" data-end="197.379">then at the tip of the pyramid just like</span> <span data-start="197.379" data-end="198.94">the sweets on your food pyramid in</span> <span data-start="198.94" data-end="202.329">moderation but still have them there are</span> <span data-start="202.329" data-end="204.459">the are the UI tests or the end-to-end</span> <span data-start="204.459" data-end="208.06">tests and these are generally at the tip</span> <span data-start="208.06" data-end="209.739">of the pyramid because they're generally</span> <span data-start="209.739" data-end="212.769">thought to be slower they're more hard</span> <span data-start="212.769" data-end="215.5">to maintain their brittle but for a good</span> <span data-start="215.5" data-end="217.51">testing strategy especially with with a</span> <span data-start="217.51" data-end="220.18">site as complex as something like</span> </p>
<p><span data-start="220.18" data-end="222.28">Walmart it's really necessary because</span> <span data-start="222.28" data-end="223.989">when you have a bunch of unit tests that</span> <span data-start="223.989" data-end="226.359">are written by separate teams there's no</span> <span data-start="226.359" data-end="227.59">matter how good you are there's always</span> <span data-start="227.59" data-end="229.54">going to be gaps between this test in</span> <span data-start="229.54" data-end="231.04">this test especially if it's going</span> <span data-start="231.04" data-end="233.069">across two different functional areas</span> <span data-start="233.069" data-end="234.819">there's always going to be missed</span> <span data-start="234.819" data-end="236.98">assumptions between between teams</span> <span data-start="236.98" data-end="238.51">between developers between different</span> <span data-start="238.51" data-end="241">parts of your stack and end-to-end tests</span> <span data-start="241" data-end="242.59">are a good way of just making sure that</span> <span data-start="242.59" data-end="244.51">none of those gaps wind up being a</span> <span data-start="244.51" data-end="250.299">showstopper so n 10 tests should also be</span> <span data-start="250.299" data-end="252.16">cross-browser so everybody should</span> <span data-start="252.16" data-end="253.9">understand what browsers they have to</span> <span data-start="253.9" data-end="255.19">support and which ones they don't have</span> <span data-start="255.19" data-end="257.349">to support because there's a lot of</span> <span data-start="257.349" data-end="258.729">browsers that we're really hoping are</span> <span data-start="258.729" data-end="263.11">going to die off IE 8 and friends as</span> <span data-start="263.11" data-end="265.06">soon as possible but there's still a</span> <span data-start="265.06" data-end="267.19">depressingly large number of customers</span> <span data-start="267.19" data-end="269.65">using these old browsers and we know</span> <span data-start="269.65" data-end="271.3">that if we stop supporting them we would</span> <span data-start="271.3" data-end="273.789">lose X number of dollars so it's a huge</span> <span data-start="273.789" data-end="275.38">pain to test them all it's a huge waste</span> <span data-start="275.38" data-end="277.45">of human time to run through the same</span> <span data-start="277.45" data-end="280.06">scenarios over and over</span> <span data-start="280.06" data-end="282.6">on all these different browsers and</span> <span data-start="282.6" data-end="286">because it's a pain to test it means you</span> <span data-start="286" data-end="287.95">all know what I'm talking about like did</span> <span data-start="287.95" data-end="291.58">you test it on ie oh yeah I did last</span> <span data-start="291.58" data-end="296.11">last month maybe and QA people you know</span> <span data-start="296.11" data-end="297.88">are the same way right there they're not</span> <span data-start="297.88" data-end="299.23">they're not physically going to have</span> <span data-start="299.23" data-end="300.79">enough time in the day to run all their</span> <span data-start="300.79" data-end="302.71">test cases continuously in all the</span> <span data-start="302.71" data-end="304.18">browsers we have to support so things</span> <span data-start="304.18" data-end="305.77">are going to slip there's going to be</span> <span data-start="305.77" data-end="307.3">times when maybe it's a week or two</span> <span data-start="307.3" data-end="310.99">weeks since anybody actually fired up</span> <span data-start="310.99" data-end="313.63">ie8 and ran through all of the scenarios</span> <span data-start="313.63" data-end="316.11">to make sure everything still works and</span> <span data-start="316.11" data-end="318.97">because of that if somebody finds a bug</span> <span data-start="318.97" data-end="321.52">in ie8 the first question we often ask</span> <span data-start="321.52" data-end="323.05">is well when was the last time it worked</span> <span data-start="323.05" data-end="326.5">in ie8 well I don't know I tested it I</span> <span data-start="326.5" data-end="329.29">think three weeks ago perfect let's look</span> <span data-start="329.29" data-end="330.58">at all the commits in the last three</span> <span data-start="330.58" data-end="332.71">weeks and figure out which one caused a</span> <span data-start="332.71" data-end="334.54">regression in a legacy browser that</span> <span data-start="334.54" data-end="339.25">sucks nobody likes doing that but what</span> <span data-start="339.25" data-end="341.35">can we do about it right so automation</span> <span data-start="341.35" data-end="343.24">everybody says that's it I'm going to</span> <span data-start="343.24" data-end="344.68">sit down I'm going to figure out how to</span> <span data-start="344.68" data-end="346.6">automate all this stuff so I don't have</span> <span data-start="346.6" data-end="350.11">to do it by hand anymore awesome how</span> <span data-start="350.11" data-end="352">many people have said have said that</span> <span data-start="352" data-end="355.24">before that's it okay yeah see you know</span> <span data-start="355.24" data-end="359.2">what I'm talking about so pretty much</span> <span data-start="359.2" data-end="361.51">every cross browser end-to-end testing</span> <span data-start="361.51" data-end="363.49">solution relies on selenium at its core</span> <span data-start="363.49" data-end="367.84">so this is a great tool open source it</span> <span data-start="367.84" data-end="370.21">has drivers for every major browser that</span> <span data-start="370.21" data-end="371.979">give you deep hooks into the browser to</span> <span data-start="371.979" data-end="373.96">control it with with puppet strings to</span> <span data-start="373.96" data-end="376.96">tell it you know to behave and do any</span> <span data-start="376.96" data-end="378.37">kind of user interaction that a user</span> <span data-start="378.37" data-end="379.84">would do click this fill in this form</span> <span data-start="379.84" data-end="384.1">navigate here it has an API that's over</span> </p>
<p><span data-start="384.1" data-end="388.12">HTTP HTTP it's not the most friendly API</span> <span data-start="388.12" data-end="389.53">to work with so there's always a lot of</span> <span data-start="389.53" data-end="391.27">rappers on top of selenium that people</span> <span data-start="391.27" data-end="395.56">use and and there's a lot of companion</span> <span data-start="395.56" data-end="396.7">tools that go along with it a lot of</span> <span data-start="396.7" data-end="399.01">services like sauce labs this is a</span> <span data-start="399.01" data-end="402.91">diagram of sauce labs which we use to</span> <span data-start="402.91" data-end="405.16">outsource the tedious task of</span> <span data-start="405.16" data-end="407.28">maintaining a farm of different browsers</span> <span data-start="407.28" data-end="409.599">there's browser stack there's there's a</span> <span data-start="409.599" data-end="411.49">whole bunch of other ones but there's a</span> <span data-start="411.49" data-end="412.99">whole ecosystem around this because</span> <span data-start="412.99" data-end="414.009">people really</span> <span data-start="414.009" data-end="416.83">this kind of stuff to work but when you</span> <span data-start="416.83" data-end="417.969">start putting all these pieces together</span> <span data-start="417.969" data-end="420.389">companion libraries for selenium</span> <span data-start="420.389" data-end="422.619">external services to manage your</span> <span data-start="422.619" data-end="426.189">browsers as a service it starts to look</span> <span data-start="426.189" data-end="428.02">like this it's a big rube goldberg</span> <span data-start="428.02" data-end="431.559">machine there's so many points of</span> <span data-start="431.559" data-end="432.969">failure that it's hard to keep track of</span> <span data-start="432.969" data-end="437.919">them all and guaranteed anybody who</span> <span data-start="437.919" data-end="440.83">starts down this path sooner or later is</span> <span data-start="440.83" data-end="445.749">going to run into test flake so when we</span> <span data-start="445.749" data-end="447.399">talk about test flake we're not talking</span> <span data-start="447.399" data-end="449.349">about the tests that developers</span> <span data-start="449.349" data-end="451.33">themselves are writing being flaky we're</span> <span data-start="451.33" data-end="453.099">not talking about bad application code</span> <span data-start="453.099" data-end="455.349">we're talking about something in the</span> <span data-start="455.349" data-end="458.379">system in this big complicated system</span> <span data-start="458.379" data-end="461.069">failing for really no good reason at all</span> <span data-start="461.069" data-end="463.96">creating false positive results sending</span> <span data-start="463.96" data-end="465.789">developers on a wild-goose chase when</span> <span data-start="465.789" data-end="469.99">something fails only to realize five</span> <span data-start="469.99" data-end="471.689">minutes later this thing that I've been</span> <span data-start="471.689" data-end="474.849">chasing is now passing unexplained you</span> <span data-start="474.849" data-end="476.83">know for no good reason and I just</span> <span data-start="476.83" data-end="480.819">wasted all that time so see also waste</span> <span data-start="480.819" data-end="482.139">everyone's time with this one weird</span> <span data-start="482.139" data-end="484.629">trick developers ate this so anybody</span> <span data-start="484.629" data-end="487.389">who's tried to implement an antenna</span> <span data-start="487.389" data-end="489.639">testing solution has probably had the</span> <span data-start="489.639" data-end="491.529">best of intentions but has wound up</span> <span data-start="491.529" data-end="493.479">frustrating a whole lot of people if</span> <span data-start="493.479" data-end="497.289">they try to get them to use it just a</span> <span data-start="497.289" data-end="498.759">quick plug for a really awesome podcast</span> <span data-start="498.759" data-end="500.709">if anybody hasn't checked out Rebecca</span> </p>
<p><span data-start="500.709" data-end="503.289">Murphy's TTM podcasts definitely check</span> <span data-start="503.289" data-end="504.969">it out it's all about front-end ops and</span> <span data-start="504.969" data-end="507.999">this emerging discipline I was on I</span> <span data-start="507.999" data-end="510.849">think episode 4 talking about some of</span> <span data-start="510.849" data-end="513.55">the same stuff in more detail but the</span> <span data-start="513.55" data-end="515.409">the really cool thing to hear was was</span> <span data-start="515.409" data-end="516.849">everybody else on the interviews before</span> <span data-start="516.849" data-end="518.889">me she asked them if they if they were</span> <span data-start="518.889" data-end="520.329">doing end-to-end testing and they said</span> <span data-start="520.329" data-end="521.919">we really want to but it's just not</span> <span data-start="521.919" data-end="524.589">really worth the time because it's just</span> <span data-start="524.589" data-end="528.97">so flaky it's so frustrating so you know</span> <span data-start="528.97" data-end="530.74">this this this was really actually good</span> <span data-start="530.74" data-end="532.389">to hear because it lends a lot of</span> <span data-start="532.389" data-end="533.709">credibility to this fight that we're</span> <span data-start="533.709" data-end="536.769">trying to fight even on Google's own</span> <span data-start="536.769" data-end="539.41">google testing blog there was this great</span> <span data-start="539.41" data-end="541.3">article called just say no to more</span> <span data-start="541.3" data-end="542.949">end-to-end tests like I thought this was</span> <span data-start="542.949" data-end="545.05">click bait because it was such a you</span> <span data-start="545.05" data-end="547.87">know like bold title here but like</span> <span data-start="547.87" data-end="549.839">they made some really really good points</span> <span data-start="549.839" data-end="552.22">but my favorite line here was that they</span> <span data-start="552.22" data-end="555.46">it compared end-to-end testing to going</span> <span data-start="555.46" data-end="556.6">to a movie with your friends that you</span> <span data-start="556.6" data-end="558.49">all wanted to see and then you all</span> <span data-start="558.49" data-end="561.16">regretted watching afterwards like a</span> <span data-start="561.16" data-end="563.88">good idea that just failed in practice</span> <span data-start="563.88" data-end="565.779">but they talked about a lot of good</span> <span data-start="565.779" data-end="567.279">points in here they talk about n timed</span> <span data-start="567.279" data-end="570.01">tests being slow unreliable flaky and</span> <span data-start="570.01" data-end="572.41">that they don't isolate failures so at</span> <span data-start="572.41" data-end="573.52">the end of the day while they have the</span> <span data-start="573.52" data-end="575.41">best intentions they end up just wasting</span> <span data-start="575.41" data-end="579.7">more time than they save so we said all</span> <span data-start="579.7" data-end="581.41">right we're going that we're going to</span> <span data-start="581.41" data-end="582.73">roll up our sleeves and we're going to</span> <span data-start="582.73" data-end="585.25">really fix this right we have what we</span> <span data-start="585.25" data-end="586.779">have a team of people we asked for some</span> <span data-start="586.779" data-end="589.06">time to like focus on this for a few</span> <span data-start="589.06" data-end="592.029">months so we got this right so we</span> <span data-start="592.029" data-end="593.5">decided we're going to create an</span> <span data-start="593.5" data-end="595.81">end-to-end testing solution that's going</span> <span data-start="595.81" data-end="599.339">to work for dev and QA alike so so</span> <span data-start="599.339" data-end="601.15">non-technical people should be able to</span> <span data-start="601.15" data-end="602.41">write tests there shouldn't be a high</span> <span data-start="602.41" data-end="605.68">barrier to entry should be fast enough</span> <span data-start="605.68" data-end="610">to run as part of our CI system and no</span> <span data-start="610" data-end="613.029">flake absolutely not acceptable we want</span> <span data-start="613.029" data-end="614.17">to win the hearts and minds of</span> <span data-start="614.17" data-end="616.54">developers and QA and we're going to</span> <span data-start="616.54" data-end="620.529">have no tolerance for false positives so</span> <span data-start="620.529" data-end="623.8">for the first goal of of having tests</span> <span data-start="623.8" data-end="625.39">that are simple enough to write for for</span> </p>
<p><span data-start="625.39" data-end="628.33">QA as well we picked a companion library</span> <span data-start="628.33" data-end="630.85">a nodejs based adapter called Night</span> <span data-start="630.85" data-end="632.589">Watch it's one of the more popular ones</span> <span data-start="632.589" data-end="633.97">there's a lot of them that are really</span> <span data-start="633.97" data-end="636.16">good that talked to selenium through a</span> <span data-start="636.16" data-end="638.98">node API to make the the API a little</span> <span data-start="638.98" data-end="641.26">bit more palatable to work with a Night</span> <span data-start="641.26" data-end="643.959">Watch is awesome and we made some really</span> <span data-start="643.959" data-end="645.55">great progress with it right off the bat</span> <span data-start="645.55" data-end="647.47">we were taming these browsers we got a</span> <span data-start="647.47" data-end="649.57">sauce labs subscription we had a huge</span> <span data-start="649.57" data-end="651.01">collaborative test writing effort</span> <span data-start="651.01" data-end="653.89">between developers and QA and we were</span> <span data-start="653.89" data-end="656.17">rocking we were getting just every green</span> <span data-start="656.17" data-end="657.67">checkmark we saw we were thinking of</span> <span data-start="657.67" data-end="659.56">we're saving this many hours of manual</span> <span data-start="659.56" data-end="662.65">time and and QA is loving us and</span> <span data-start="662.65" data-end="664.06">developers are going to love us because</span> <span data-start="664.06" data-end="665.23">we're going to catch these regressions</span> <span data-start="665.23" data-end="668.26">sooner rather than later so we started</span> <span data-start="668.26" data-end="669.52">running these tests just you know</span> <span data-start="669.52" data-end="671.92">hundreds of them every hour and all the</span> <span data-start="671.92" data-end="674.11">time and increasing our browser matrix</span> <span data-start="674.11" data-end="675.55">more and more going back you know</span> <span data-start="675.55" data-end="679.39">testing IE 8 9 10 11 Firefox last couple</span> <span data-start="679.39" data-end="681">versions chrome</span> <span data-start="681" data-end="684.09">are a mobile emulators everything was</span> <span data-start="684.09" data-end="686.52">golden and every now and then we'd see</span> <span data-start="686.52" data-end="688.68">something like this would be like Oh a</span> <span data-start="688.68" data-end="691.26">test failure great our tool caught</span> <span data-start="691.26" data-end="693.18">something in the wild let's go let's go</span> <span data-start="693.18" data-end="696.02">fix it and then five minutes later Oh</span> <span data-start="696.02" data-end="699.6">past that time okay well just a little</span> <span data-start="699.6" data-end="700.98">glitch nothing to worry about and then</span> <span data-start="700.98" data-end="705.41">like 10 minutes later oh that one failed</span> <span data-start="705.41" data-end="708">okay nothing to worry about you know</span> <span data-start="708" data-end="711.99">we'll just kind of like sweep that under</span> <span data-start="711.99" data-end="716.43">the oh okay and then oh no why is it</span> <span data-start="716.43" data-end="720.12">passing now and so we we got really</span> <span data-start="720.12" data-end="722.19">really quickly like the old 8020 rule</span> <span data-start="722.19" data-end="724.65">right like we got really close to this</span> <span data-start="724.65" data-end="726.33">eighty percent mark of being super happy</span> <span data-start="726.33" data-end="728.85">and then we were just like ah like we</span> <span data-start="728.85" data-end="730.47">were so close to feeling like this was a</span> <span data-start="730.47" data-end="735">complete solution and in the end we have</span> <span data-start="735" data-end="736.5">the same problems with flakiness as</span> <span data-start="736.5" data-end="738.66">everybody else despite trying to design</span> <span data-start="738.66" data-end="741.3">with overcoming these very specific</span> <span data-start="741.3" data-end="743.43">flaky things from the beginning we still</span> <span data-start="743.43" data-end="746.55">got burned by this so let's look we</span> <span data-start="746.55" data-end="747.96">thought okay we need to change our</span> <span data-start="747.96" data-end="750">mindset here we've been we've been we</span> <span data-start="750" data-end="752.28">need we have this realization like whoa</span> <span data-start="752.28" data-end="753.839">we okay we've been trying to think of</span> <span data-start="753.839" data-end="757.5">end-to-end tests like unit tests like a</span> <span data-start="757.5" data-end="759.18">predictable environment that we can</span> <span data-start="759.18" data-end="761.339">control but but in reality they're</span> <span data-start="761.339" data-end="763.92">they're nothing like that at all so we</span> <span data-start="763.92" data-end="765.5">came up with this little metaphor of</span> <span data-start="765.5" data-end="769.95">soup a can of soup is like a test result</span> <span data-start="769.95" data-end="772.41">when you're hungry okay i'm hungry i</span> <span data-start="772.41" data-end="774.9">want to have some soup for lunch i want</span> <span data-start="774.9" data-end="776.49">to be able to test my code i want to run</span> <span data-start="776.49" data-end="778.71">this test and I want to get a test</span> <span data-start="778.71" data-end="782.01">result back a binary pass/fail which is</span> <span data-start="782.01" data-end="783.93">which is like reaching and getting a can</span> <span data-start="783.93" data-end="787.35">of soup so stick with me here with a</span> <span data-start="787.35" data-end="789.87">unit tests it's like going and grabbing</span> <span data-start="789.87" data-end="791.339">a can of soup from your own kitchen</span> <span data-start="791.339" data-end="794.25">cupboard you're controlling the safety</span> <span data-start="794.25" data-end="795.9">of your own house it's very safe it's</span> <span data-start="795.9" data-end="797.58">quick and easy it's right there you just</span> <span data-start="797.58" data-end="799.23">have to reach right there and grab it</span> <span data-start="799.23" data-end="801.72">and so that's why everybody loves unit</span> <span data-start="801.72" data-end="802.89">tests they're predictable they're easy</span> <span data-start="802.89" data-end="808.56">end to end tests are different so n 10</span> <span data-start="808.56" data-end="810.15">tests you want your can of soup first</span> <span data-start="810.15" data-end="813.03">you have to get in your car next you</span> <span data-start="813.03" data-end="813.99">have to drive through a zombie</span> <span data-start="813.99" data-end="814.83">apocalypse</span> <span data-start="814.83" data-end="817.05">on the way to the grocery store who</span> <span data-start="817.05" data-end="819.24">knows what's going to happen when you</span> <span data-start="819.24" data-end="820.74">get to the grocery store a store might</span> <span data-start="820.74" data-end="823.68">be overrun by zombies and once you</span> <span data-start="823.68" data-end="825.06">actually grab your can of soup you might</span> <span data-start="825.06" data-end="826.8">have to like fight to the death on your</span> <span data-start="826.8" data-end="829.92">on your way out to try to get home so in</span> <span data-start="829.92" data-end="831.9">this metaphor the the lurking zombies</span> <span data-start="831.9" data-end="834.09">are all of these things that we have</span> <span data-start="834.09" data-end="835.68">encountered as being sources of test</span> <span data-start="835.68" data-end="839.52">flake there's bugs in the web drivers</span> <span data-start="839.52" data-end="841.05">themselves this this goes back to that</span> <span data-start="841.05" data-end="843.12">troll read me thing it's like none of</span> <span data-start="843.12" data-end="844.26">the none of the read Mees for these</span> <span data-start="844.26" data-end="846.36">things talk about all of these common</span> <span data-start="846.36" data-end="847.92">sources of flake that like everybody</span> <span data-start="847.92" data-end="850.68">quickly discovers the web drivers</span> <span data-start="850.68" data-end="852.66">themselves have bugs ie driver it's like</span> <span data-start="852.66" data-end="855.21">five percent of the time when you tell</span> <span data-start="855.21" data-end="857.52">selenium to click on a button it says</span> <span data-start="857.52" data-end="859.59">that it did it but it didn't really</span> <span data-start="859.59" data-end="864.66">click it oh well flaky network so like I</span> <span data-start="864.66" data-end="868.08">said everything runs over HTTP when</span> <span data-start="868.08" data-end="869.46">you're set when you're doing hundreds</span> <span data-start="869.46" data-end="871.5">and thousands of tests per day and you</span> <span data-start="871.5" data-end="873.36">have these really chatty selenium</span> <span data-start="873.36" data-end="875.4">clients talking to these remote servers</span> <span data-start="875.4" data-end="877.62">across different networks and data</span> <span data-start="877.62" data-end="879.81">centers inevitably you're going to have</span> <span data-start="879.81" data-end="881.66">some some packet loss here and there and</span> <span data-start="881.66" data-end="883.92">just one little drop to packet here and</span> <span data-start="883.92" data-end="885.87">there can just make a test blow up or</span> <span data-start="885.87" data-end="887.73">timeout and there's nothing you can do</span> <span data-start="887.73" data-end="890.34">about it and then sometimes the services</span> <span data-start="890.34" data-end="892.56">themselves might have bugs or outages or</span> <span data-start="892.56" data-end="894.63">you know a vm just fails to spin up and</span> <span data-start="894.63" data-end="899.82">a test fails and we we tried to you know</span> <span data-start="899.82" data-end="901.23">treat these things like a whack-a-mole</span> <span data-start="901.23" data-end="902.94">problem where we just deal with each one</span> <span data-start="902.94" data-end="904.68">at a time but even months into this</span> <span data-start="904.68" data-end="906.9">project we were still hitting new</span> <span data-start="906.9" data-end="908.46">problems that we had never seen before</span> <span data-start="908.46" data-end="911.01">and we you know some of these problems</span> <span data-start="911.01" data-end="912.69">were super obscure we would google them</span> <span data-start="912.69" data-end="915.24">and we'd find you know one person with a</span> <span data-start="915.24" data-end="918.6">post you know from 2006 with the same</span> <span data-start="918.6" data-end="920.48">problem and then no response were like</span> <span data-start="920.48" data-end="925.54">like that XKCD comic what did you see</span> <span data-start="925.55" data-end="927.99">but we really quickly realized this is a</span> <span data-start="927.99" data-end="930.33">losing battle so there's going to be new</span> <span data-start="930.33" data-end="932.25">problems every day we can't possibly fix</span> <span data-start="932.25" data-end="935.13">them all but what do we do did we just</span> <span data-start="935.13" data-end="939.45">give up we had this this moment where</span> <span data-start="939.45" data-end="943.2">you said what if what if we could just</span> <span data-start="943.2" data-end="946.14">make all of these flaky tests not flaky</span> <span data-start="946.14" data-end="948.57">anymore without actually fixing the</span> <span data-start="948.57" data-end="951.17">dividual problems this was a very like</span> </p>
<p><span data-start="951.17" data-end="954.45">Morpheus moment here how can we make the</span> <span data-start="954.45" data-end="956.52">tests not flaky without actually fixing</span> <span data-start="956.52" data-end="959.58">anything so we had to go back and think</span> <span data-start="959.58" data-end="963.87">about some more geeky stuff here so from</span> <span data-start="963.87" data-end="965.22">the point of view of the consumers of</span> <span data-start="965.22" data-end="967.08">our tool the developers who are going to</span> <span data-start="967.08" data-end="968.61">be running these tests and the QA people</span> <span data-start="968.61" data-end="970.5">who are going to be writing these tests</span> <span data-start="970.5" data-end="974.55">the notion of a pass/fail or a can of</span> <span data-start="974.55" data-end="978.63">soup in this metaphor is an axiom in in</span> <span data-start="978.63" data-end="980.79">a mathematical proof it's a premise or a</span> <span data-start="980.79" data-end="982.92">starting point of reasoning a premise so</span> <span data-start="982.92" data-end="984.6">evident as to be accepted as true</span> <span data-start="984.6" data-end="987.27">without controversy if we broke that</span> <span data-start="987.27" data-end="990.42">axiom we've lost everybody if nobody</span> <span data-start="990.42" data-end="992.52">trusts our tool to be accurate they're</span> <span data-start="992.52" data-end="993.78">not going to use it they're not going to</span> <span data-start="993.78" data-end="995.37">pay attention to it when it breaks and</span> <span data-start="995.37" data-end="999.87">so we had to make it so that this axiom</span> <span data-start="999.87" data-end="1003.35">was true no matter what and making it</span> <span data-start="1003.35" data-end="1005.15">true was actually more important than</span> <span data-start="1005.15" data-end="1008.36">how we made it true this is where things</span> <span data-start="1008.36" data-end="1012.83">get a little bit scary we did some dirty</span> <span data-start="1012.83" data-end="1016.94">stuff really dirty stuff duct tape and</span> <span data-start="1016.94" data-end="1018.86">rubber bands like don't look under the</span> <span data-start="1018.86" data-end="1020.96">covers stuff to make some of these tests</span> <span data-start="1020.96" data-end="1025.189">pass we figured out okay if an assertion</span> <span data-start="1025.189" data-end="1028.43">fails the first time let's just try it</span> <span data-start="1028.43" data-end="1029.81">again and see if it passes the second</span> <span data-start="1029.81" data-end="1031.73">time and if it fails that time let's try</span> <span data-start="1031.73" data-end="1034.07">it again like a few hundred milliseconds</span> <span data-start="1034.07" data-end="1036.29">later and see if it passes that time we</span> <span data-start="1036.29" data-end="1038.57">found out like hey that seems like a</span> <span data-start="1038.57" data-end="1041.6">really ugly hack but that makes tests</span> <span data-start="1041.6" data-end="1043.579">past fifty percent more at the time than</span> <span data-start="1043.579" data-end="1047.27">it used to then we had these like IE</span> <span data-start="1047.27" data-end="1049.61">driver bugs like oh that click thing</span> <span data-start="1049.61" data-end="1051.28">that said it clicked but didn't work</span> <span data-start="1051.28" data-end="1053.54">what if instead of using the buggy</span> <span data-start="1053.54" data-end="1055.91">selenium driver for click events what if</span> <span data-start="1055.91" data-end="1057.95">we actually inject jQuery into the page</span> <span data-start="1057.95" data-end="1059.72">if it's not already there and actually</span> <span data-start="1059.72" data-end="1062.96">do a jQuery click event and that</span> <span data-start="1062.96" data-end="1064.43">smoothed over like another twenty five</span> <span data-start="1064.43" data-end="1066.68">percent of the tests so we're kind of</span> <span data-start="1066.68" data-end="1068.54">like addicted to this to this like new</span> <span data-start="1068.54" data-end="1071.99">sort of like fighting dirty kind of kind</span> <span data-start="1071.99" data-end="1075.67">of method for dealing with our zombies</span> <span data-start="1075.67" data-end="1078.68">but we were we were making huge progress</span> <span data-start="1078.68" data-end="1080.33">and we're starting to see fewer and</span> <span data-start="1080.33" data-end="1082.07">fewer of those false positives</span> <span data-start="1082.07" data-end="1083.54">so this is where we kind of had this</span> <span data-start="1083.54" data-end="1086.72">major breakthrough where we were gaining</span> <span data-start="1086.72" data-end="1090.35">momentum and we were smoothing over all</span> <span data-start="1090.35" data-end="1092.33">these bumps in in kind of non optimal</span> <span data-start="1092.33" data-end="1094.28">ways but the momentum that we were</span> <span data-start="1094.28" data-end="1096.65">gaining was much more important than how</span> <span data-start="1096.65" data-end="1099.05">what we had to do to gain that momentum</span> <span data-start="1099.05" data-end="1100.76">and we started thinking of this in a</span> <span data-start="1100.76" data-end="1103.04">different mindset that not all problems</span> <span data-start="1103.04" data-end="1105.53">require precision solutions sometimes</span> <span data-start="1105.53" data-end="1107.15">you just have to smooth over the speed</span> <span data-start="1107.15" data-end="1110.75">bump to move on so we kind of ended up</span> <span data-start="1110.75" data-end="1112.55">with something like this instead of</span> <span data-start="1112.55" data-end="1114.08">getting in your car to get to the</span> <span data-start="1114.08" data-end="1117.56">grocery store you get into this you get</span> <span data-start="1117.56" data-end="1119.48">into this armored convoy this is this is</span> <span data-start="1119.48" data-end="1121.84">this is the the tool that we built and</span> <span data-start="1121.84" data-end="1124.22">it's going to get you to the grocery</span> <span data-start="1124.22" data-end="1127.61">store one way or the other is it</span> <span data-start="1127.61" data-end="1130.94">overkill yes no question about it is it</span> <span data-start="1130.94" data-end="1133.28">is it computationally expensive all the</span> <span data-start="1133.28" data-end="1135.34">stuff that we're doing no question</span> <span data-start="1135.34" data-end="1137.51">making the test run slower with all</span> <span data-start="1137.51" data-end="1140.75">these retries and things yeah not going</span> <span data-start="1140.75" data-end="1143.21">to argue with that but does it fix the</span> </p>
<p><span data-start="1143.21" data-end="1146.18">Reliant reliability problem hell yes it</span> <span data-start="1146.18" data-end="1150.29">did anybody watch The Walking Dead so</span> <span data-start="1150.29" data-end="1151.64">when they come to a zombie do they're</span> <span data-start="1151.64" data-end="1154.94">like they say Oh Sam be yes I'm dead now</span> <span data-start="1154.94" data-end="1157.19">no they drive like sometimes they just</span> <span data-start="1157.19" data-end="1159.41">drive through herds of zombies and you</span> <span data-start="1159.41" data-end="1160.79">know turn on the windshield wipers and</span> <span data-start="1160.79" data-end="1163.87">like they get to the other side right so</span> <span data-start="1163.87" data-end="1167.03">that's what you have to do in today's</span> <span data-start="1167.03" data-end="1169.91">world of end-to-end testing to get to</span> <span data-start="1169.91" data-end="1172.94">this point so we're back at this point</span> <span data-start="1172.94" data-end="1175.34">now we're getting tests running we're</span> <span data-start="1175.34" data-end="1177.29">going days and weeks without seeing any</span> <span data-start="1177.29" data-end="1180.23">false positives and when we do see a</span> <span data-start="1180.23" data-end="1182.54">test failure we don't even have to</span> <span data-start="1182.54" data-end="1184.34">investigate it anymore ourselves we can</span> <span data-start="1184.34" data-end="1187.79">just send this directly to the to the</span> <span data-start="1187.79" data-end="1191.03">developer who owns the test and say hey</span> <span data-start="1191.03" data-end="1193.7">check this out looks like ie9 is broken</span> <span data-start="1193.7" data-end="1197.54">when you try to view your cart and it</span> <span data-start="1197.54" data-end="1198.89">used to be that we'd be shaking in our</span> <span data-start="1198.89" data-end="1200.18">shoes whenever we'd have that</span> <span data-start="1200.18" data-end="1202.76">conversation because we'd be worried is</span> <span data-start="1202.76" data-end="1204.05">it going to turn out to be our problem</span> <span data-start="1204.05" data-end="1206.05">and then we just pissed off a developer</span> <span data-start="1206.05" data-end="1207.95">because there we're going to waste their</span> <span data-start="1207.95" data-end="1210.38">time but now it's like oh thanks man</span> <span data-start="1210.38" data-end="1213.38">like you just saved me from having to</span> <span data-start="1213.38" data-end="1214.82">pull an all-nighter when we when we</span> <span data-start="1214.82" data-end="1216.34">launch next week</span> <span data-start="1216.34" data-end="1219.68">so we're back to this point where we're</span> <span data-start="1219.68" data-end="1221.42">making great progress we hit our speed</span> <span data-start="1221.42" data-end="1224.75">bump we do what we have to do to smooth</span> <span data-start="1224.75" data-end="1229.19">it over and we're there we've got a</span> <span data-start="1229.19" data-end="1231.35">reliable and to end test suite running</span> <span data-start="1231.35" data-end="1234.67">on our complete browser support matrix</span> <span data-start="1234.67" data-end="1237.02">it's made out of kludgy duct tape and</span> <span data-start="1237.02" data-end="1240.26">rubber bands but it works so the next</span> <span data-start="1240.26" data-end="1241.6">thing we thought we started we started</span> <span data-start="1241.6" data-end="1243.98">hearing like hey this is cool like have</span> <span data-start="1243.98" data-end="1245.39">you guys thought about opening open</span> <span data-start="1245.39" data-end="1248.81">sourcing this and we were like nobody</span> <span data-start="1248.81" data-end="1250.85">nobody wants to like open this can of</span> <span data-start="1250.85" data-end="1252.86">spam and see like what's in there you</span> <span data-start="1252.86" data-end="1254.33">know it's like okay this is helping us</span> <span data-start="1254.33" data-end="1257.78">but like we're not we're not proud of</span> <span data-start="1257.78" data-end="1260.3">what's going on in there we thought this</span> <span data-start="1260.3" data-end="1261.92">is not suitable to release right because</span> <span data-start="1261.92" data-end="1263.75">just because that's that's kind of the</span> <span data-start="1263.75" data-end="1266.45">mindset of development as a craft and</span> <span data-start="1266.45" data-end="1268.55">like you know you create these small</span> <span data-start="1268.55" data-end="1270.2">lightweight tools you publish them on</span> </p>
<p><span data-start="1270.2" data-end="1271.97">NPM their elegant they solve a tiny</span> <span data-start="1271.97" data-end="1273.95">little problem in like seven lines of</span> <span data-start="1273.95" data-end="1276.38">code and this was like a monstrosity</span> <span data-start="1276.38" data-end="1277.82">that we created you know it was it was</span> <span data-start="1277.82" data-end="1280.16">good solid code but the things that we</span> <span data-start="1280.16" data-end="1282.94">did to make it work just felt felt dirty</span> <span data-start="1282.94" data-end="1285.92">so you know did we feel like we were a</span> <span data-start="1285.92" data-end="1288.05">bunch of clever engineers like yeah we</span> <span data-start="1288.05" data-end="1289.73">thought like we were shoveling and</span> <span data-start="1289.73" data-end="1291.92">we got the job done but at the end of</span> <span data-start="1291.92" data-end="1294.89">the day we're shovelin but then we</span> <span data-start="1294.89" data-end="1296.84">thought okay we thought about our</span> <span data-start="1296.84" data-end="1300.11">journey and this is where we ended up</span> <span data-start="1300.11" data-end="1302.26">but what would have happened if we</span> <span data-start="1302.26" data-end="1305.27">hadn't thought about that whole axiom of</span> <span data-start="1305.27" data-end="1307.94">truth thing and and pushed on no matter</span> <span data-start="1307.94" data-end="1311.93">what and how many others must have tried</span> <span data-start="1311.93" data-end="1314.99">and given up how many other individuals</span> <span data-start="1314.99" data-end="1317.18">how many teams how many companies got</span> <span data-start="1317.18" data-end="1318.89">thirty percent seventy percent eighty</span> <span data-start="1318.89" data-end="1321.92">percent of the way and wasted so much</span> <span data-start="1321.92" data-end="1323.9">time trying to make it work and then</span> <span data-start="1323.9" data-end="1325.34">just gave up because they couldn't find</span> <span data-start="1325.34" data-end="1328.43">an elegant clean solution and how many</span> <span data-start="1328.43" data-end="1329.99">more people in the future we're going to</span> <span data-start="1329.99" data-end="1331.97">do that and then still we started</span> <span data-start="1331.97" data-end="1333.89">thinking about what's the responsible</span> <span data-start="1333.89" data-end="1335.51">thing to do and what if we could take</span> <span data-start="1335.51" data-end="1338.33">all of that wasted effort in the future</span> <span data-start="1338.33" data-end="1345.05">and actually add it on to the point of</span> <span data-start="1345.05" data-end="1346.76">after like after the problem that we</span> <span data-start="1346.76" data-end="1348.62">solved of making tests not flaky anymore</span> <span data-start="1348.62" data-end="1349.789">what if we could have people</span> <span data-start="1349.789" data-end="1351.919">contributing to other more interesting</span> <span data-start="1351.919" data-end="1354.159">parts of end-to-end testing after that</span> <span data-start="1354.159" data-end="1356.179">because we had started moving on to</span> <span data-start="1356.179" data-end="1359.029">cooler problems ourselves we realized</span> <span data-start="1359.029" data-end="1360.59">okay we have these tests running but we</span> <span data-start="1360.59" data-end="1361.909">don't have a good way of going back and</span> <span data-start="1361.909" data-end="1363.83">historically looking at trends about</span> <span data-start="1363.83" data-end="1366.229">what passed when and who broke what and</span> <span data-start="1366.229" data-end="1369.049">which browsers were failing together so</span> <span data-start="1369.049" data-end="1371.96">we forked the jQuery test swarm project</span> <span data-start="1371.96" data-end="1373.96">which already had a really nice</span> <span data-start="1373.96" data-end="1377.749">dashboard which they used for keeping</span> <span data-start="1377.749" data-end="1380.96">track of their unit tests cross-browser</span> <span data-start="1380.96" data-end="1383.509">for jQuery and we made this work with</span> <span data-start="1383.509" data-end="1385.729">our end-to-end tests so we were running</span> <span data-start="1385.729" data-end="1387.619">builds at regular intervals every hour</span> <span data-start="1387.619" data-end="1390.139">two hours and if there was a failure we</span> <span data-start="1390.139" data-end="1392.179">could get a very narrow slice where we</span> <span data-start="1392.179" data-end="1395.389">could say up and ie8 regression was</span> <span data-start="1395.389" data-end="1397.94">introduced between twelve o'clock and</span> <span data-start="1397.94" data-end="1399.739">one o'clock today and that gives you a</span> <span data-start="1399.739" data-end="1401.539">very small number of commits to go and</span> <span data-start="1401.539" data-end="1403.46">look at and then when somebody claims</span> <span data-start="1403.46" data-end="1405.2">that they fixed it we just wait for the</span> <span data-start="1405.2" data-end="1407.33">next iteration of the build to run and</span> <span data-start="1407.33" data-end="1408.919">then we can see oh sweet everything is</span> <span data-start="1408.919" data-end="1414.82">green again after that we implemented a</span> <span data-start="1414.82" data-end="1417.049">massively parallel test runner so</span> <span data-start="1417.049" data-end="1418.609">instead of just running these tests one</span> <span data-start="1418.609" data-end="1421.82">at a time on each remote browser we</span> <span data-start="1421.82" data-end="1427.34">could run 10 15 50 tests at once so we</span> <span data-start="1427.34" data-end="1429.47">could compress down the total time it</span> <span data-start="1429.47" data-end="1431.419">takes to execute this entire matrix of</span> <span data-start="1431.419" data-end="1433.789">tests from an hour to an hour and a half</span> <span data-start="1433.789" data-end="1437.059">into more like 15 or 20 minutes and that</span> <span data-start="1437.059" data-end="1440.599">gave us the freedom to run these these</span> <span data-start="1440.599" data-end="1442.519">builds not only just at a regular</span> <span data-start="1442.519" data-end="1444.349">interval but actually as part of our</span> <span data-start="1444.349" data-end="1447.169">pull requests verification we use it we</span> <span data-start="1447.169" data-end="1448.639">as github internally and so it gives you</span> <span data-start="1448.639" data-end="1451.249">that nice border around your merge box</span> <span data-start="1451.249" data-end="1453.619">that says all good to merge or you know</span> <span data-start="1453.619" data-end="1455.359">hey you failed the build so now we can</span> <span data-start="1455.359" data-end="1458.119">have our remote sauce labs cross-browser</span> <span data-start="1458.119" data-end="1460.22">builds actually contributing to that to</span> <span data-start="1460.22" data-end="1461.869">that safety check of saying to a</span> <span data-start="1461.869" data-end="1463.549">developer whether it's cool to merge or</span> <span data-start="1463.549" data-end="1467.389">not so remember that Google criticism</span> <span data-start="1467.389" data-end="1469.489">about just say no to end to end tests</span> <span data-start="1469.489" data-end="1472.669">because they're too slow well because we</span> <span data-start="1472.669" data-end="1474.109">smoothed over that speed bump and we</span> <span data-start="1474.109" data-end="1476.69">could move on to cooler problems we got</span> <span data-start="1476.69" data-end="1478.22">to actually tackle that problem and we</span> <span data-start="1478.22" data-end="1480.259">found a pretty good solution for it so</span> <span data-start="1480.259" data-end="1482.21">it's no longer hard to isolate failures</span> <span data-start="1482.21" data-end="1483.35">because we can run this on every</span> <span data-start="1483.35" data-end="1485.51">pull request now we had this nagging</span> <span data-start="1485.51" data-end="1487.07">feeling about what about the flake right</span> <span data-start="1487.07" data-end="1488.78">what are we sweeping under the rug when</span> <span data-start="1488.78" data-end="1490.429">we're retrying what if there's</span> <span data-start="1490.429" data-end="1493.34">legitimate issues in the app code maybe</span> <span data-start="1493.34" data-end="1494.929">a timing issue maybe there's something</span> <span data-start="1494.929" data-end="1497.27">that in the app code actually fails two</span> <span data-start="1497.27" data-end="1499.84">percent of the time and are we just</span> <span data-start="1499.84" data-end="1502.1">sweeping that under the rug so we</span> <span data-start="1502.1" data-end="1503.75">started actually looking at the data</span> <span data-start="1503.75" data-end="1505.25">that we're collecting through tests form</span> <span data-start="1505.25" data-end="1507.41">we've got a big database of historically</span> <span data-start="1507.41" data-end="1509.39">all the tests we've run how many times</span> <span data-start="1509.39" data-end="1512.299">each test has retried what user agent it</span> <span data-start="1512.299" data-end="1514.25">ran with and so we can start producing</span> <span data-start="1514.25" data-end="1516.2">graphs like this it's kind of hard to</span> <span data-start="1516.2" data-end="1518.33">see at the bottom but we've got a list</span> <span data-start="1518.33" data-end="1522.169">of all of our use it's you know browser</span> <span data-start="1522.169" data-end="1526.549">vendor version and operating system so</span> <span data-start="1526.549" data-end="1528.049">we can sort and start seeing what are</span> <span data-start="1528.049" data-end="1529.46">our biggest problems here we can see</span> <span data-start="1529.46" data-end="1532.13">that we've got the most tests flake</span> <span data-start="1532.13" data-end="1534.32">we've got like you know nine point seven</span> <span data-start="1534.32" data-end="1538.37">percent retry rate for our iOS</span> <span data-start="1538.37" data-end="1540.71">simulators so this could be a problem</span> <span data-start="1540.71" data-end="1542.72">with the simulator itself this could be</span> <span data-start="1542.72" data-end="1545.27">a problem with how our code is working</span> <span data-start="1545.27" data-end="1547.64">in a responsive scenario but it gives us</span> <span data-start="1547.64" data-end="1550.4">a narrower window to look at instead of</span> <span data-start="1550.4" data-end="1552.02">just giving up and saying oh the tests</span> <span data-start="1552.02" data-end="1554.21">are flaky what do I do we can say yeah</span> <span data-start="1554.21" data-end="1555.86">but they're more flaky on this browser</span> <span data-start="1555.86" data-end="1558.08">than this one so that gives somebody who</span> <span data-start="1558.08" data-end="1559.61">wants to investigate a little bit more</span> <span data-start="1559.61" data-end="1562.61">to go on we can also slice by the test</span> <span data-start="1562.61" data-end="1565">names themselves so if we start to see</span> <span data-start="1565" data-end="1568.28">particular groups of tests that all test</span> <span data-start="1568.28" data-end="1571.52">common features that are failing more</span> <span data-start="1571.52" data-end="1572.9">frequently together then that's a</span> <span data-start="1572.9" data-end="1574.49">feature that a developer should should</span> <span data-start="1574.49" data-end="1579.35">look into so Google and and and some of</span> <span data-start="1579.35" data-end="1580.97">these other companies that have tried</span> <span data-start="1580.97" data-end="1582.11">this we're all we're all trying to</span> <span data-start="1582.11" data-end="1583.58">summit the same mountain together right</span> <span data-start="1583.58" data-end="1586.22">but because a lot of them got really</span> <span data-start="1586.22" data-end="1588.98">stuck on the flaky part they never got</span> <span data-start="1588.98" data-end="1590.39">to research the more interesting things</span> <span data-start="1590.39" data-end="1592.19">and we're at the point now where we're</span> <span data-start="1592.19" data-end="1594.169">researching the sources of the flake and</span> <span data-start="1594.169" data-end="1596.24">starting to narrow down this problem</span> <span data-start="1596.24" data-end="1597.89">that seemed just totally insurmountable</span> <span data-start="1597.89" data-end="1601.4">before so we're going to open source</span> <span data-start="1601.4" data-end="1602.9">this right now we have a code name</span> <span data-start="1602.9" data-end="1605.72">called Magellan because we're a large</span> <span data-start="1605.72" data-end="1607.37">company we have to we have to run all of</span> <span data-start="1607.37" data-end="1609.049">our open source stuff through a lengthy</span> <span data-start="1609.049" data-end="1611.51">review process and the name is likely to</span> <span data-start="1611.51" data-end="1613.94">change but look for this to be open</span> <span data-start="1613.94" data-end="1617.27">source soon what Magellan actually is</span> <span data-start="1617.27" data-end="1619.34">is an end-to-end test runner that hooks</span> <span data-start="1619.34" data-end="1621.44">into other libraries such as Night Watch</span> <span data-start="1621.44" data-end="1624.23">or WD so it's not a replacement for</span> </p>
<p><span data-start="1624.23" data-end="1626.12">Night Watch or protractor or all of</span> <span data-start="1626.12" data-end="1628.76">these but you can think of it as a test</span> <span data-start="1628.76" data-end="1632.39">runner runner so it's it's a commander</span> <span data-start="1632.39" data-end="1634.25">for your fleet or a conductor for your</span> <span data-start="1634.25" data-end="1636.77">orchestra and it does a few very</span> <span data-start="1636.77" data-end="1638.6">specific things it smooths over test</span> <span data-start="1638.6" data-end="1640.94">flake but gives you insight into what's</span> <span data-start="1640.94" data-end="1643.46">flaky it's a massively parallel test</span> <span data-start="1643.46" data-end="1645.92">runner that compresses down your your</span> <span data-start="1645.92" data-end="1648.32">runtime of your sweet and it gives you</span> <span data-start="1648.32" data-end="1650.42">beautiful reporting tools like we saw</span> <span data-start="1650.42" data-end="1652.9">from our tests warm fork so that you can</span> <span data-start="1652.9" data-end="1657.11">make sense of it all so we came to think</span> <span data-start="1657.11" data-end="1659.6">of this as instead of shoveling as</span> <span data-start="1659.6" data-end="1660.95">being like something we should be</span> <span data-start="1660.95" data-end="1664.76">ashamed of this is shoveling as a</span> <span data-start="1664.76" data-end="1666.74">service not as a service on a server but</span> <span data-start="1666.74" data-end="1668.98">as a service to your fellow developers</span> <span data-start="1668.98" data-end="1672.05">and to your community I've never</span> <span data-start="1672.05" data-end="1674.66">actually like coined a hashtag before</span> <span data-start="1674.66" data-end="1677.3">but I want to see this trending on all</span> <span data-start="1677.3" data-end="1678.65">of the stuff that you've done that</span> <span data-start="1678.65" data-end="1679.79">you've kind of been like a little bit</span> <span data-start="1679.79" data-end="1681.71">ashamed of but like would really be</span> <span data-start="1681.71" data-end="1683.9">useful to everybody because it solves a</span> <span data-start="1683.9" data-end="1685.67">problem even if it's a messy problem</span> <span data-start="1685.67" data-end="1688.25">shovel that and and do it for the</span> <span data-start="1688.25" data-end="1691.07">benefit of everybody else so how do we</span> <span data-start="1691.07" data-end="1692.72">how do what are that what are the core</span> <span data-start="1692.72" data-end="1695.54">tenants of shoveling 101 momentum</span> <span data-start="1695.54" data-end="1698.24">is is greater than perfection so getting</span> <span data-start="1698.24" data-end="1700.61">stuck on shitty problems is demoralizing</span> <span data-start="1700.61" data-end="1703.99">it's unproductive and there's no point</span> <span data-start="1703.99" data-end="1706.58">get that momentum smoothing things over</span> <span data-start="1706.58" data-end="1709.31">is better than giving up so I'll think</span> <span data-start="1709.31" data-end="1711.05">of all of those eighty percent solved</span> <span data-start="1711.05" data-end="1712.82">problems that never saw the light of day</span> <span data-start="1712.82" data-end="1714.71">because somebody just couldn't do it as</span> <span data-start="1714.71" data-end="1716.96">cleanly as they wanted to that's a shame</span> <span data-start="1716.96" data-end="1719.44">there's so much wasted effort they're</span> <span data-start="1719.44" data-end="1723.56">useful is better than precise so if you</span> <span data-start="1723.56" data-end="1725.27">can help someone else smooth over a bump</span> <span data-start="1725.27" data-end="1727.22">it doesn't matter how much duct tape and</span> <span data-start="1727.22" data-end="1728.69">rubber bands how much dirty stuff you</span> <span data-start="1728.69" data-end="1730.07">have to do to get there if you can be</span> <span data-start="1730.07" data-end="1731.87">useful to somebody else and package that</span> <span data-start="1731.87" data-end="1734.09">up they can get over a speed bump but</span> <span data-start="1734.09" data-end="1735.02">they wouldn't have otherwise been able</span> <span data-start="1735.02" data-end="1737.66">to do an open source is better than</span> <span data-start="1737.66" data-end="1739.76">closed source if you built a tool like</span> <span data-start="1739.76" data-end="1742.52">this you think well maybe i'll release</span> <span data-start="1742.52" data-end="1743.99">it one day when i can polish it all up</span> <span data-start="1743.99" data-end="1746.21">no release it when it's useful even if</span> <span data-start="1746.21" data-end="1748.1">it's only marginally useful and so in</span> <span data-start="1748.1" data-end="1751.289">some small way</span> <span data-start="1751.299" data-end="1754.19">so you can follow me at geek underscore</span> <span data-start="1754.19" data-end="1757.129">day if you want to be notified when when</span> </p>
<p><span data-start="1757.129" data-end="1758.84">Magellan is out in the wild or whatever</span> <span data-start="1758.84" data-end="1760.759">it's called at the time if you want to</span> <span data-start="1760.759" data-end="1762.559">check out the podcast on Rebecca</span> <span data-start="1762.559" data-end="1764.749">Murphy's show check out TTL podcast com</span> <span data-start="1764.749" data-end="1766.1">we talked for a long time about</span> <span data-start="1766.1" data-end="1768.35">everything that Magellan does in a lot</span> <span data-start="1768.35" data-end="1770.899">more detail and for real use this</span> </p>
</section>

<!-- div#container ends -->
</div>

<img alt="The End" id="fin" src="../images/fin.jpg">

<script>
/*eslint-disable */
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google-translate');
}
/* eslint-enable */
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="../js/main.js"></script>

</body>

</html>
