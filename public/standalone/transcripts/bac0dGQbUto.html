<!DOCTYPE html>

<!--
Copyright 2019 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="//google.com">
  <meta name="description" content="web.dev LIVE video transcript">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>bac0dGQbUto</title>
  <link rel="stylesheet" href="../css/main.css">
</head>

<body>

<iframe id="youtube" src="https://www.youtube.com/embed/bac0dGQbUto?enablejsapi=1"></iframe>

<div id="container">

<div id="options">
  <div id="google-translate"></div>
  <div>
    <input type="checkbox" id="videoSticky" checked>
    <label for="videoSticky">Video position sticky</label>
  </div>
  <div>
    <input type="checkbox" id="captionScroll" checked>
    <label for="captionScroll">Keep current caption visible</label>
  </div>
</div>

<section>
<p><span data-start="1.07" data-end="3.33">thank you so much</span> <span data-start="3.33" data-end="4.92">so the title of this talk in the</span> <span data-start="4.92" data-end="7.22">schedule is practical web assembly</span> <span data-start="7.22" data-end="9.42">unfortunately since this technology is</span> <span data-start="9.42" data-end="12.12">only six months nine months old it's</span> <span data-start="12.12" data-end="13.53">much more reasonable to talk about</span> <span data-start="13.53" data-end="15.719">possible web assembly because everything</span> <span data-start="15.719" data-end="17.22">I show you is possible today but the</span> <span data-start="17.22" data-end="19.89">tooling is still somewhat rough so I</span> <span data-start="19.89" data-end="20.85">don't want to focus too much on the</span> <span data-start="20.85" data-end="23.699">specifics of how to to build a web</span> <span data-start="23.699" data-end="26.13">assembly module but rather give you the</span> <span data-start="26.13" data-end="28.349">conceptual understanding of what I would</span> <span data-start="28.349" data-end="30.929">simply can do what it's good at when you</span> <span data-start="30.929" data-end="32.73">should think about using it versus when</span> <span data-start="32.73" data-end="35.85">you should stick to JavaScript my name</span> <span data-start="35.85" data-end="37.649">is Dan Callahan I'm Callahan on Twitter</span> </p>
<p><span data-start="37.649" data-end="40.35">I work for Mozilla and Mozilla works for</span> <span data-start="40.35" data-end="42.66">the web and what I mean by that is that</span> <span data-start="42.66" data-end="44.94">Mozilla is the only major browser vendor</span> <span data-start="44.94" data-end="48.629">that's a non-profit and we exist and we</span> <span data-start="48.629" data-end="49.98">create the Firefox family of web</span> <span data-start="49.98" data-end="51.539">browsers so that we can act as a</span> <span data-start="51.539" data-end="54.27">counterbalance against the world's three</span> <span data-start="54.27" data-end="56.16">largest publicly traded for-profit</span> <span data-start="56.16" data-end="57.78">companies who control the other major</span> <span data-start="57.78" data-end="59.91">browsers and that we can make sure that</span> <span data-start="59.91" data-end="62.82">we advocate for the web that respects</span> <span data-start="62.82" data-end="65.1">human interest public interests that's</span> <span data-start="65.1" data-end="66.96">based on standards that's interoperable</span> <span data-start="66.96" data-end="69.45">that's open and by implementing the web</span> <span data-start="69.45" data-end="72.35">itself we can do that advocacy as a peer</span> <span data-start="72.35" data-end="75.06">rather than purely from a kind of</span> <span data-start="75.06" data-end="77.58">theoretical standpoint or ideological</span> <span data-start="77.58" data-end="80.49">standpoint we make other things to rust</span> <span data-start="80.49" data-end="84.33">servo pocket we just acquired mdn but</span> <span data-start="84.33" data-end="85.77">today I'm going to be talking about a</span> <span data-start="85.77" data-end="87.299">technology that Mozilla's helps create</span> <span data-start="87.299" data-end="90.45">called web assembly web assembly is a</span> <span data-start="90.45" data-end="92.759">direct successor to a technology and</span> <span data-start="92.759" data-end="94.11">experimental technology Mozilla built</span> <span data-start="94.11" data-end="96.27">called as MJS where we're trying to</span> <span data-start="96.27" data-end="99.119">build a higher performance lower level</span> <span data-start="99.119" data-end="103.229">version of javascript and and I only</span> <span data-start="103.229" data-end="104.64">have 30 minutes and I'm going to go</span> <span data-start="104.64" data-end="106.649">along and I apologize it's it should</span> <span data-start="106.649" data-end="108.99">only be by five or ten minutes but if</span> <span data-start="108.99" data-end="110.61">you want to spend time reading about</span> <span data-start="110.61" data-end="111.63">whether somebody and really kind of</span> <span data-start="111.63" data-end="113.34">digesting what this is and how it works</span> </p>
<p><span data-start="113.34" data-end="116.04">I strongly recommend looking into the</span> <span data-start="116.04" data-end="118.71">articles and the talks by Lynn Clark you</span> <span data-start="118.71" data-end="120.06">can find her Twitter as Lynn Clark she's</span> <span data-start="120.06" data-end="122.189">done Illustrated introductions to web</span> <span data-start="122.189" data-end="124.56">assembly to shared array buffer she give</span> <span data-start="124.56" data-end="125.88">a talk on what web assembly means for</span> <span data-start="125.88" data-end="128.099">react all these are phenomenal resources</span> <span data-start="128.099" data-end="130.08">she's an excellent engineer and even</span> <span data-start="130.08" data-end="131.54">better educator</span> <span data-start="131.54" data-end="134.689">check out her work so what is</span> <span data-start="134.689" data-end="137.39">webassembly at its core whether somebody</span> <span data-start="137.39" data-end="139.43">is a compiler target for programs on the</span> <span data-start="139.43" data-end="141.739">web and we'll get into what that means</span> <span data-start="141.739" data-end="143.93">in a second but but what this is useful</span> <span data-start="143.93" data-end="146.51">for is it opens up new avenues of</span> <span data-start="146.51" data-end="149.54">portability and performance both in the</span> <span data-start="149.54" data-end="151.28">browser and in server-side runtimes like</span> <span data-start="151.28" data-end="154.459">node when we talk about portability</span> <span data-start="154.459" data-end="155.959">we're typically referring to source</span> <span data-start="155.959" data-end="157.549">level portability so you write a program</span> <span data-start="157.549" data-end="160.189">in portable C and you can compile it to</span> </p>
<p><span data-start="160.189" data-end="161.719">Windows or to Mac or to Linux without</span> <span data-start="161.719" data-end="164.48">having to change your code and that's</span> <span data-start="164.48" data-end="166.579">really great because we can do things</span> <span data-start="166.579" data-end="172.34">like did you this terminal hang on</span> <span data-start="172.34" data-end="174.409">that's a binary I don't want to edit</span> <span data-start="174.409" data-end="178.069">that like this program which I found I</span> <span data-start="178.069" data-end="180.109">don't I don't know C and I don't know if</span> <span data-start="180.109" data-end="182.84">in GL but I found this 12-year old file</span> <span data-start="182.84" data-end="185.84">it's it's open source and it sets up a</span> <span data-start="185.84" data-end="188.18">3d cube it makes it rotate and it's all</span> <span data-start="188.18" data-end="190.489">colorful it's about 100 lines of code</span> <span data-start="190.489" data-end="196.9">and if I compile that that's legible</span> <span data-start="196.9" data-end="199.34">pass up the source code say spit out a</span> <span data-start="199.34" data-end="204.349">binary I get a fifth power 14 kilobyte</span> <span data-start="204.349" data-end="208.819">file that's a Macchio 64-bit executable</span> <span data-start="208.819" data-end="211.669">and so I can take this this binary I can</span> <span data-start="211.669" data-end="212.93">give it to anyone else that has a Mac</span> <span data-start="212.93" data-end="217.19">and it'll run and it'll show you a</span> <span data-start="217.19" data-end="220.579">little spinning cube and that's exciting</span> <span data-start="220.579" data-end="222.169">to me because my educational background</span> <span data-start="222.169" data-end="224.239">is in geology and so all of this is just</span> <span data-start="224.239" data-end="226.34">a wizardry like I do I understand the</span> <span data-start="226.34" data-end="228.319">rocks that go into the silicon on the</span> <span data-start="228.319" data-end="230.15">chip I don't understand the computer</span> <span data-start="230.15" data-end="232.609">itself but it made us spinning cube and</span> <span data-start="232.609" data-end="234.169">that was neat and I can recompile that</span> <span data-start="234.169" data-end="235.609">and I can run it on Linux and I can</span> <span data-start="235.609" data-end="237.139">recompile it and I can run it on Windows</span> <span data-start="237.139" data-end="239.93">and you don't have to have a C compiler</span> <span data-start="239.93" data-end="241.159">installed you just you can take this</span> <span data-start="241.159" data-end="244.519">binary and just run it but the platform</span> </p>
<p><span data-start="244.519" data-end="248.18">I care about is the web and and up until</span> <span data-start="248.18" data-end="250.009">recently I couldn't take this code and</span> <span data-start="250.009" data-end="251.629">put it on the web I'd have to redevelop</span> <span data-start="251.629" data-end="254.9">it I'd have to re-implement it well the</span> <span data-start="254.9" data-end="257.329">simply fixes that so if I say make wasm</span> <span data-start="257.329" data-end="259.459">I'm going to use a different compiler</span> <span data-start="259.459" data-end="263.04">and scriptum instead of playing</span> <span data-start="263.04" data-end="265.14">pass it the same source file and this</span> <span data-start="265.14" data-end="266.21">time I'm going to tell it to spit out</span> <span data-start="266.21" data-end="270.63">kind of an HTML shim if they look at</span> <span data-start="270.63" data-end="275.13">that I have a 15 kilobyte webassembly</span> <span data-start="275.13" data-end="278.88">binary if I look inside that I mean this</span> <span data-start="278.88" data-end="283.32">is just absolute gobbledygook and we're</span> <span data-start="283.32" data-end="284.82">gonna feed that to the browser and good</span> <span data-start="284.82" data-end="287.04">things are gonna happen which is not</span> <span data-start="287.04" data-end="289.35">usually what happens with things that</span> <span data-start="289.35" data-end="297.93">look like that build HTML same exact</span> <span data-start="297.93" data-end="299.73">program no changes to my source and now</span> </p>
<p><span data-start="299.73" data-end="302.34">I can run it in the browser and it's not</span> <span data-start="302.34" data-end="303.81">just in Firefox this is a technology</span> <span data-start="303.81" data-end="308.33">that also works in browsers like Safari</span> <span data-start="308.33" data-end="313.83">and in Chrome and an edge and because</span> <span data-start="313.83" data-end="316.59">it's it's a it's for the web it doesn't</span> <span data-start="316.59" data-end="318.72">matter that I'm on Windows or a Mac or</span> <span data-start="318.72" data-end="320.4">on Linux the same webassembly file can</span> <span data-start="320.4" data-end="322.59">go anywhere talk a little bit about that</span> <span data-start="322.59" data-end="324.39">later but the important thing is that I</span> <span data-start="324.39" data-end="326.58">now have a compiler which lets me take</span> <span data-start="326.58" data-end="330.47">existing code and run it on the web and</span> <span data-start="330.47" data-end="332.51">so game engines have started</span> <span data-start="332.51" data-end="334.68">implementing export to web assembly so</span> <span data-start="334.68" data-end="342.03">this is a unity demo that and drive</span> <span data-start="342.03" data-end="345.93">around in and I can win because I have</span> <span data-start="345.93" data-end="347.19">web assembly and I didn't need any</span> <span data-start="347.19" data-end="350.37">plugins I didn't need any any downloads</span> <span data-start="350.37" data-end="352.56">or any native binaries I can just go to</span> </p>
<p><span data-start="352.56" data-end="354.42">URL and play a game and it runs about</span> <span data-start="354.42" data-end="358.83">native speed thank you for the AV people</span> <span data-start="358.83" data-end="360.51">for turning that down I'm sorry I didn't</span> <span data-start="360.51" data-end="363">do that for you so those the Unreal</span> <span data-start="363" data-end="365.36">Engine and some people complained or the</span> <span data-start="365.36" data-end="367.59">the Unity engine some people complain</span> <span data-start="367.59" data-end="369.03">that it's not a real engine because it's</span> <span data-start="369.03" data-end="371.34">started as a browser plug-in and this</span> <span data-start="371.34" data-end="374.61">and that so the Unreal Engine has also</span> <span data-start="374.61" data-end="377.34">added support for web assembly where</span> <span data-start="377.34" data-end="378.72">just like you can export from these</span> <span data-start="378.72" data-end="380.67">engines to Windows or to Mac OS or to</span> <span data-start="380.67" data-end="383.25">Xbox or to PlayStation you can now also</span> <span data-start="383.25" data-end="385.86">export to the web and again I can just</span> <span data-start="385.86" data-end="388.26">visit URL and it takes a minute to</span> <span data-start="388.26" data-end="390.57">launch because it's a modern game engine</span> <span data-start="390.57" data-end="393.03">but this is the full Unreal Engine</span> <span data-start="393.03" data-end="395.79">rendering in real time in my browser</span> <span data-start="395.79" data-end="396.51">with</span> <span data-start="396.51" data-end="398.19">any plugins without any modifications</span> <span data-start="398.19" data-end="399.99">and if I you know click the cell</span> <span data-start="399.99" data-end="402.36">interactive so once the camera finishes</span> <span data-start="402.36" data-end="410.22">panning zoom in on the fishpond and</span> <span data-start="410.22" data-end="411.93">probably swarming algorithm will kind of</span> <span data-start="411.93" data-end="415.89">follow my cursor and all this again</span> <span data-start="415.89" data-end="416.94">these are experiences that the web</span> <span data-start="416.94" data-end="419.01">previously hadn't hadn't been capable of</span> <span data-start="419.01" data-end="420.27">just this level of performance in the</span> <span data-start="420.27" data-end="421.86">fidelity and not having to invent it</span> <span data-start="421.86" data-end="423.96">twice once for the web and once for</span> <span data-start="423.96" data-end="426.18">desktop we can now just do it once and</span> <span data-start="426.18" data-end="430.35">export for the web so I think that's</span> <span data-start="430.35" data-end="430.95">pretty cool</span> </p>
<p><span data-start="430.95" data-end="435.87">I talked about compiling for Windows or</span> <span data-start="435.87" data-end="438.21">Mac or Linux and and how that meant</span> <span data-start="438.21" data-end="440.07">source level portability but not binary</span> <span data-start="440.07" data-end="443.22">level portability but it's more complex</span> <span data-start="443.22" data-end="444.3">than that because you're not just</span> <span data-start="444.3" data-end="446.85">compiling for Windows or Linux you're</span> <span data-start="446.85" data-end="448.32">compiling for a specific CPU</span> <span data-start="448.32" data-end="450.57">architecture on one of these operating</span> <span data-start="450.57" data-end="452.04">systems so you might be compiling for</span> <span data-start="452.04" data-end="456.12">32-bit windows and Intel 32-bit Linux</span> <span data-start="456.12" data-end="457.83">and you might also compile for armed on</span> <span data-start="457.83" data-end="461.37">Linux which is the the CPU architecture</span> <span data-start="461.37" data-end="462.96">on your phone it's what's in a Raspberry</span> </p>
<p><span data-start="462.96" data-end="465.78">Pi and so if I want to support all these</span> <span data-start="465.78" data-end="468.18">platforms I can but I have to recompile</span> <span data-start="468.18" data-end="470.51">dozens of times to cover every possible</span> <span data-start="470.51" data-end="472.83">CPU that exists now or might exist in</span> <span data-start="472.83" data-end="478.17">the future let's talk about sass CSS</span> <span data-start="478.17" data-end="480.06">conference yesterday who here likes and</span> <span data-start="480.06" data-end="483.84">loves and uses sass half the hands there</span> <span data-start="483.84" data-end="485.58">should be more it's great absolutely</span> <span data-start="485.58" data-end="487.86">great library it it's a preprocessor for</span> </p>
<p><span data-start="487.86" data-end="489.87">CSS that lets you write shorthand and</span> <span data-start="489.87" data-end="492.42">and more humanely manage a lot of your</span> <span data-start="492.42" data-end="494.61">style sheets the problem was it was</span> <span data-start="494.61" data-end="496.35">written in Ruby and Ruby is a great</span> <span data-start="496.35" data-end="499.35">language like JavaScript but it's a</span> <span data-start="499.35" data-end="500.55">dynamic language it's a high-level</span> <span data-start="500.55" data-end="502.62">language it requires its own runtime I</span> <span data-start="502.62" data-end="504.39">can't just send somebody sass dot exe</span> <span data-start="504.39" data-end="506.16">and have them run it they also need to</span> <span data-start="506.16" data-end="508.08">install Ruby and if I'm writing a</span> <span data-start="508.08" data-end="509.55">JavaScript program and I want to use</span> <span data-start="509.55" data-end="511.89">sass well now I have to manage a program</span> <span data-start="511.89" data-end="513.03">written in JavaScript I'm program</span> <span data-start="513.03" data-end="514.56">written in Ruby and it just it gets</span> <span data-start="514.56" data-end="518.46">complicated so some people rewrote sass</span> <span data-start="518.46" data-end="520.53">they were implemented as libsass in C</span> <span data-start="520.53" data-end="522.21">and C++ because these lower-level</span> <span data-start="522.21" data-end="524.85">languages don't make as many assumptions</span> <span data-start="524.85" data-end="527.61">about where and how they'll be running</span> <span data-start="527.61" data-end="529.98">in this case you can compile Assaf saath</span> <span data-start="529.98" data-end="531.69">exe and pass it around and it'll work</span> <span data-start="531.69" data-end="533.7">and because it's written in this the</span> <span data-start="533.7" data-end="535.5">level language it's easier to call it</span> <span data-start="535.5" data-end="537.33">from other languages so there are</span> <span data-start="537.33" data-end="539.9">bindings from Java to sass from</span> </p>
<p><span data-start="539.9" data-end="542.25">JavaScript to sass from Lua to sass from</span> <span data-start="542.25" data-end="545.82">Python to Ruby etc and I want to look at</span> <span data-start="545.82" data-end="549.03">the node version node sass great project</span> <span data-start="549.03" data-end="551.37">tries to create this conceptual model</span> <span data-start="551.37" data-end="552.84">where you have a JavaScript API but at</span> <span data-start="552.84" data-end="556.8">the core is libsass C and you don't have</span> <span data-start="556.8" data-end="557.82">to know that because you're just</span> <span data-start="557.82" data-end="558.96">interacting with the JavaScript layer</span> <span data-start="558.96" data-end="560.94">but they didn't have to rewrite sass in</span> <span data-start="560.94" data-end="562.44">JavaScript they could just reuse that c</span> <span data-start="562.44" data-end="563.63">version</span> <span data-start="563.63" data-end="566.31">the problem is sass is only libsass and</span> <span data-start="566.31" data-end="568.83">only portable at the source level so if</span> <span data-start="568.83" data-end="570.15">you go to the github release page for</span> <span data-start="570.15" data-end="571.71">notes fast they've got this matrix of</span> <span data-start="571.71" data-end="574.8">operating systems CPU architectures and</span> <span data-start="574.8" data-end="577.74">node versions and for every release of</span> <span data-start="577.74" data-end="579.75">libsass they have to build a separate</span> <span data-start="579.75" data-end="582.09">copy of that library for each of these</span> <span data-start="582.09" data-end="585.48">these platforms and each one's a couple</span> <span data-start="585.48" data-end="587.58">megabytes and it just goes on and on and</span> <span data-start="587.58" data-end="589.89">on so every release is hundreds of</span> <span data-start="589.89" data-end="591.3">megabytes binaries and you can't put</span> <span data-start="591.3" data-end="593.13">that in your npm module nobody would npm</span> <span data-start="593.13" data-end="595.38">install that so we knew npm install node</span> <span data-start="595.38" data-end="597.36">sass it goes out to the web and tries to</span> <span data-start="597.36" data-end="600.84">fetch the right binding for you the</span> <span data-start="600.84" data-end="602.31">trick is something really important's</span> <span data-start="602.31" data-end="604.23">missing they don't build for arm</span> </p>
<p><span data-start="604.23" data-end="607.8">I knit libsass builds on arm but they</span> <span data-start="607.8" data-end="609.75">don't provide the binary and so if I'm</span> <span data-start="609.75" data-end="611.07">trying to install this on a Raspberry Pi</span> <span data-start="611.07" data-end="613.41">I also need to install a C compiler I</span> <span data-start="613.41" data-end="614.91">also need to install a bunch of headers</span> <span data-start="614.91" data-end="616.74">and there's a pre-installed hook that</span> <span data-start="616.74" data-end="619.26">tries to compile it for me and that's</span> <span data-start="619.26" data-end="620.73">kind of a pain in the button that's not</span> <span data-start="620.73" data-end="622.2">that's not what I love about jobs here</span> <span data-start="622.2" data-end="623.91">boy I love about JavaScript is it's</span> <span data-start="623.91" data-end="626.46">universal and it works everywhere and so</span> <span data-start="626.46" data-end="628.26">what they were trying to create was was</span> <span data-start="628.26" data-end="630.9">that experience of one library shared</span> <span data-start="630.9" data-end="634.95">core across multiple languages etc but</span> <span data-start="634.95" data-end="636.57">what actually happens is you have 70</span> <span data-start="636.57" data-end="639.93">different compiled binaries depending on</span> <span data-start="639.93" data-end="641.25">what platform you're looking for and</span> <span data-start="641.25" data-end="642.18">like I said that doesn't cover</span> <span data-start="642.18" data-end="643.8">everything who knows what the next</span> <span data-start="643.8" data-end="645.27">version of node will do in terms of ABI</span> <span data-start="645.27" data-end="647.25">changes who knows what the next CPU</span> <span data-start="647.25" data-end="648.69">architecture that becomes popular will</span> <span data-start="648.69" data-end="650.94">be I don't think anyone predicted the</span> <span data-start="650.94" data-end="657.15">rise of arm over Intel ten years ago so</span> <span data-start="657.15" data-end="658.74">we've got this combinatoric explosion</span> <span data-start="658.74" data-end="661.39">source level compatibility is great</span> <span data-start="661.39" data-end="663.72">but you have to compile a lot of times</span> <span data-start="663.72" data-end="665.83">what webassembly does is it introduces</span> <span data-start="665.83" data-end="668.35">another architecture a virtual</span> <span data-start="668.35" data-end="671.89">architecture and I know what some of you</span> <span data-start="671.89" data-end="673.09">are thinking because you've told me this</span> <span data-start="673.09" data-end="674.92">as I was rehearsing your think about</span> <span data-start="674.92" data-end="676.69">this xkcd about I know will create</span> <span data-start="676.69" data-end="679.57">another standard and now we have another</span> <span data-start="679.57" data-end="681.52">standard instead of one standard to rule</span> <span data-start="681.52" data-end="682.71">them all</span> <span data-start="682.71" data-end="684.73">the reason this is difference is</span> <span data-start="684.73" data-end="686.73">different is because webassembly isn't a</span> <span data-start="686.73" data-end="689.68">physical processor specification it's</span> <span data-start="689.68" data-end="691.09">not a real architecture it's a virtual</span> <span data-start="691.09" data-end="694.18">architecture and the the basic</span> <span data-start="694.18" data-end="695.8">instruction set and web assembly is</span> <span data-start="695.8" data-end="699.25">designed to be kind of the the least</span> <span data-start="699.25" data-end="701.14">common denominator all the commonalities</span> <span data-start="701.14" data-end="704.5">of the popular real world silicon CPUs</span> <span data-start="704.5" data-end="706.24">that are out there so we take things</span> <span data-start="706.24" data-end="709.93">that are common to x86 — arm — MIPS and</span> <span data-start="709.93" data-end="712.84">we've kind of abstracted that out which</span> <span data-start="712.84" data-end="714.31">means it's really easy to go from web</span> <span data-start="714.31" data-end="716.05">assembly to any of those other</span> <span data-start="716.05" data-end="719.11">instruction sets just like you might</span> <span data-start="719.11" data-end="723.34">think about a you know a flash movie or</span> <span data-start="723.34" data-end="725.98">a Java jar we have a bytecode that the</span> <span data-start="725.98" data-end="727.36">end computer is responsible for</span> <span data-start="727.36" data-end="730.81">translating down to whatever the</span> <span data-start="730.81" data-end="733.87">physical hardware is but it's low-level</span> <span data-start="733.87" data-end="735.46">so that it's a very quick and efficient</span> <span data-start="735.46" data-end="741.25">translation webassembly is supported by</span> <span data-start="741.25" data-end="743.47">default in node 8 which means for for</span> <span data-start="743.47" data-end="745.66">libsass for node SAS instead of shipping</span> <span data-start="745.66" data-end="747.58">these eight different binaries for node</span> <span data-start="747.58" data-end="750.25">eight and then eight more for node nine</span> <span data-start="750.25" data-end="752.71">then eight more for node ten they really</span> <span data-start="752.71" data-end="754.36">could replace that with a single libsass</span> <span data-start="754.36" data-end="757.06">tile Azzam maintain the same javascript</span> <span data-start="757.06" data-end="759.58">api your code has no no need to know</span> <span data-start="759.58" data-end="761.95">that the implementation is in something</span> <span data-start="761.95" data-end="764.59">anything other than JavaScript but now</span> <span data-start="764.59" data-end="765.85">they could shift X would be a single</span> <span data-start="765.85" data-end="767.38">file and it worked everywhere and it</span> <span data-start="767.38" data-end="769.24">works wherever no it goes because it's</span> <span data-start="769.24" data-end="771.04">implemented on top of that VM it's</span> <span data-start="771.04" data-end="772.18">implemented kind of on top of the the</span> </p>
<p><span data-start="772.18" data-end="776.41">JavaScript runtime I think someone</span> <span data-start="776.41" data-end="779.62">should do this I want to do that but</span> <span data-start="779.62" data-end="781.96">then I got busy so I'm starting to put</span> <span data-start="781.96" data-end="783.19">in my talks and hopes that someone else</span> <span data-start="783.19" data-end="784.39">will do it</span> <span data-start="784.39" data-end="786.49">file a bug show someone the recording</span> <span data-start="786.49" data-end="790.27">this this potential to start taking</span> <span data-start="790.27" data-end="791.8">these native libraries and bringing them</span> <span data-start="791.8" data-end="793.75">to the server side in an easy way you</span> <span data-start="793.75" data-end="794.68">don't have to worry about</span> <span data-start="794.68" data-end="796.149">you don't have to worry about compiler</span> <span data-start="796.149" data-end="798.91">tool chains I think holds a lot of</span> <span data-start="798.91" data-end="800.32">promise because it means that all of a</span> <span data-start="800.32" data-end="805.39">sudden the the whole web ecosystem not</span> <span data-start="805.39" data-end="806.649">just on the server side not just know</span> <span data-start="806.649" data-end="810.67">but also the browser has access to this</span> <span data-start="810.67" data-end="813.58">universe of of new libraries and when I</span> <span data-start="813.58" data-end="815.44">say sit it's an open standard I say well</span> <span data-start="815.44" data-end="816.31">this simply is an open standard</span> <span data-start="816.31" data-end="817.899">supported by all major browsers I mean</span> <span data-start="817.899" data-end="820.3">it as of this month even edge is</span> <span data-start="820.3" data-end="823.089">shipping whether simply on by default in</span> <span data-start="823.089" data-end="825.58">their current release Safari on iOS if</span> <span data-start="825.58" data-end="827.29">shipping love is simply on by default in</span> <span data-start="827.29" data-end="829.18">their current release this is real it's</span> <span data-start="829.18" data-end="831.97">here it only appeared in March and yet</span> <span data-start="831.97" data-end="833.89">we now have cross browser adoption in</span> <span data-start="833.89" data-end="837.52">every major platform the web is not used</span> <span data-start="837.52" data-end="840.55">to moving this fast and and that's why</span> </p>
<p><span data-start="840.55" data-end="841.63">I'm giving this talk today is to</span> <span data-start="841.63" data-end="843.279">hopefully inspire you and make you aware</span> <span data-start="843.279" data-end="847.39">of this new capability that exists so we</span> <span data-start="847.39" data-end="848.589">have a new universe of portable</span> <span data-start="848.589" data-end="849.7">libraries there's no need to</span> <span data-start="849.7" data-end="851.68">re-implement Sasuke s to bring it to the</span> <span data-start="851.68" data-end="853.98">browser we can just recompile the C++</span> <span data-start="853.98" data-end="856.69">and that's that's cool but how does it</span> <span data-start="856.69" data-end="859.029">do it what is web assembly doing what</span> <span data-start="859.029" data-end="861.88">makes it fast what makes it useful the</span> <span data-start="861.88" data-end="863.5">key to all this is that web assembly in</span> <span data-start="863.5" data-end="865.06">contrast to JavaScript Java scripts a</span> <span data-start="865.06" data-end="866.74">very high level text based format it's</span> <span data-start="866.74" data-end="868.63">meant to be read and edited and used by</span> <span data-start="868.63" data-end="870.52">humans and written by humans</span> <span data-start="870.52" data-end="872.709">well of assembly is a low-level binary</span> <span data-start="872.709" data-end="875.02">format it's you're not intended to write</span> <span data-start="875.02" data-end="877.36">whether assembly by hand instead you're</span> <span data-start="877.36" data-end="878.23">supposed to write in a language a</span> <span data-start="878.23" data-end="880.18">low-level language like C or C++ or rust</span> <span data-start="880.18" data-end="883.779">and compile that to web assembly so</span> <span data-start="883.779" data-end="884.74">let's do some of that and see if the</span> <span data-start="884.74" data-end="891.42">network holds up so if I go to also</span> <span data-start="891.42" data-end="895.18">tabby cat the best extension randomly</span> <span data-start="895.18" data-end="900.25">generated cats so have a little tool</span> <span data-start="900.25" data-end="904.15">called the lazarum explorer which lets</span> <span data-start="904.15" data-end="906.73">you kind of type in C they make this a</span> <span data-start="906.73" data-end="909.4">little more visible for people and it</span> <span data-start="909.4" data-end="911.98">will compile it to web assembly in in</span> <span data-start="911.98" data-end="913.029">the browser we're not actually shipping</span> <span data-start="913.029" data-end="914.56">the compiler to the browser though</span> <span data-start="914.56" data-end="917.32">that's possible but it'll post your C to</span> <span data-start="917.32" data-end="918.339">a back-end that will compile it and</span> <span data-start="918.339" data-end="920.44">it'll give you either simply back so I'm</span> <span data-start="920.44" data-end="923.92">gonna write a c function called foo that</span> <span data-start="923.92" data-end="927.37">takes an int X and returns X divided by</span> <span data-start="927.37" data-end="928.8">4</span> <span data-start="928.8" data-end="932.56">and when I compiled that I get the</span> <span data-start="932.56" data-end="934.06">webassembly representation this is this</span> <span data-start="934.06" data-end="935.71">is a text form and for reading but the</span> <span data-start="935.71" data-end="938.08">actual web assembly itself is in binary</span> <span data-start="938.08" data-end="941.59">and then this column over here on the</span> <span data-start="941.59" data-end="944.53">right is the native code so you give the</span> <span data-start="944.53" data-end="946.03">browser the middle column and say here's</span> <span data-start="946.03" data-end="949">this intermediate virtual instruction</span> <span data-start="949" data-end="952">set this virtual program please compile</span> <span data-start="952" data-end="955.36">it that last mile — to the native</span> <span data-start="955.36" data-end="958.54">silicon on this computer as a developer</span> <span data-start="958.54" data-end="959.44">this is kind of like minification</span> <span data-start="959.44" data-end="962.17">uglification you'll never actually deal</span> <span data-start="962.17" data-end="964.81">with these day-to-day but it's</span> <span data-start="964.81" data-end="965.83">interesting to know that they're there</span> <span data-start="965.83" data-end="967.36">and see what what they're doing you'll</span> </p>
<p><span data-start="967.36" data-end="968.62">Smoove us your time in the in the</span> <span data-start="968.62" data-end="971.77">high-level language on the left so</span> <span data-start="971.77" data-end="972.55">whether somebody's a stack-based</span> <span data-start="972.55" data-end="974.65">language it also has static imports and</span> <span data-start="974.65" data-end="977.17">exports and it's strongly typed so in</span> <span data-start="977.17" data-end="978.75">here we can see we have a function foo</span> <span data-start="978.75" data-end="981.94">that takes a parameter that's a 32-bit</span> <span data-start="981.94" data-end="983.65">end and it returns a result that's also</span> <span data-start="983.65" data-end="986.11">a 32-bit end and the way it works is it</span> <span data-start="986.11" data-end="987.73">gets that first parameter it gets X puts</span> <span data-start="987.73" data-end="990.43">it on the stack it gets four puts that</span> <span data-start="990.43" data-end="992.71">on the stack and then calls divided</span> <span data-start="992.71" data-end="994.72">underscore s which is a signed integer</span> <span data-start="994.72" data-end="996.79">division so it pops those off divides</span> <span data-start="996.79" data-end="998.35">them puts the result back on the stack</span> <span data-start="998.35" data-end="1002.31">and you're done the interesting thing</span> <span data-start="1002.31" data-end="1005.43">about about getting to here from a lower</span> <span data-start="1005.43" data-end="1007.2">level languages we can add more type</span> <span data-start="1007.2" data-end="1009.03">information Java Script is a really</span> <span data-start="1009.03" data-end="1010.92">dynamic language and so when you're</span> <span data-start="1010.92" data-end="1012.51">running JavaScript if you employed the</span> <span data-start="1012.51" data-end="1013.92">same function in JavaScript your browser</span> <span data-start="1013.92" data-end="1015.33">wouldn't know going in is this an</span> <span data-start="1015.33" data-end="1016.92">integer or is it a floating-point number</span> <span data-start="1016.92" data-end="1018.9">or is it a string I don't I don't know</span> <span data-start="1018.9" data-end="1020.13">and I'd have to check and I'd have to do</span> <span data-start="1020.13" data-end="1022.47">a lot of profiling and and the browsers</span> </p>
<p><span data-start="1022.47" data-end="1024.839">JIT compiler kind of guesses at these</span> <span data-start="1024.839" data-end="1026.339">optimizations and then every time you</span> <span data-start="1026.339" data-end="1027.78">call the function it tries to validate</span> <span data-start="1027.78" data-end="1030.06">was i right about this optimization know</span> <span data-start="1030.06" data-end="1031.589">all right throw it out profile it again</span> <span data-start="1031.589" data-end="1033.75">but if we have this type information</span> <span data-start="1033.75" data-end="1035.339">upfront for instance if we say these are</span> <span data-start="1035.339" data-end="1036.87">unsigned integers they're always going</span> <span data-start="1036.87" data-end="1039.54">to be positive then instead of a divided</span> <span data-start="1039.54" data-end="1043.02">by four I shift right by two because for</span> <span data-start="1043.02" data-end="1045.03">positive integer if you move all the</span> <span data-start="1045.03" data-end="1048.27">bits over by two places that's the same</span> <span data-start="1048.27" data-end="1050.34">as dividing by two each each place you</span> <span data-start="1050.34" data-end="1052.05">move so if you move twice it's dividing</span> <span data-start="1052.05" data-end="1055.02">by four and this is a much more</span> <span data-start="1055.02" data-end="1056.73">efficient operation a much simpler</span> <span data-start="1056.73" data-end="1059.12">operation for your CPU to implement</span> <span data-start="1059.12" data-end="1061.61">so that's cool let's go ahead and</span> <span data-start="1061.61" data-end="1065.21">download that just for kicks you can</span> <span data-start="1065.21" data-end="1067.6">also look at this if I change this to a</span> <span data-start="1067.6" data-end="1072.559">floating-point number you'll see it</span> <span data-start="1072.559" data-end="1074.2">instead of a 32s we're now dealing with</span> <span data-start="1074.2" data-end="1077.09">64-bit floating-point numbers f/64 x'</span> <span data-start="1077.09" data-end="1082.49">and we're multiplying X by 0.25 what</span> <span data-start="1082.49" data-end="1083.99">assembly only knows about numbers it's a</span> <span data-start="1083.99" data-end="1086.51">really low-level language you've got 32</span> <span data-start="1086.51" data-end="1088.64">and 64-bit floats and ents and that's it</span> <span data-start="1088.64" data-end="1089.72">whether somebody doesn't know about</span> <span data-start="1089.72" data-end="1091.76">strings it doesn't know about objects it</span> <span data-start="1091.76" data-end="1095.24">doesn't really know about arrays but if</span> <span data-start="1095.24" data-end="1096.559">you're doing computation this actually</span> <span data-start="1096.559" data-end="1098.419">you don't need those things and you can</span> <span data-start="1098.419" data-end="1100.34">can have this really thin layer between</span> <span data-start="1100.34" data-end="1102.26">the web assembly world in the JavaScript</span> <span data-start="1102.26" data-end="1104.36">world and the way I do that over my</span> <span data-start="1104.36" data-end="1106.82">browser if I say if I say fetch test</span> <span data-start="1106.82" data-end="1111.13">azzam and then that's going to return</span> <span data-start="1111.13" data-end="1113.24">that visible here I'll move it a little</span> <span data-start="1113.24" data-end="1121.35">little higher on the screen there we go</span> <span data-start="1121.36" data-end="1123.98">so I do that and then I get a result and</span> </p>
<p><span data-start="1123.98" data-end="1125.48">I'll turn that result into an array</span> <span data-start="1125.48" data-end="1129.649">buffer and then with that buffer I'm</span> <span data-start="1129.649" data-end="1134.12">going to call web assembly dot</span> <span data-start="1134.12" data-end="1137.45">instantiate buffer so all I'm doing is</span> <span data-start="1137.45" data-end="1138.649">I'm going in downloading this binary</span> <span data-start="1138.649" data-end="1141.23">file turn you into a byte array and</span> <span data-start="1141.23" data-end="1142.97">passing that byte array to the web</span> <span data-start="1142.97" data-end="1145.34">assembly instantiate function it gives</span> <span data-start="1145.34" data-end="1148.159">me a promise that eventually gets</span> <span data-start="1148.159" data-end="1150.169">fulfilled into an object with two</span> <span data-start="1150.169" data-end="1153.26">properties the web assembly instance in</span> <span data-start="1153.26" data-end="1156.73">a web assembly module the instance is</span> <span data-start="1156.73" data-end="1160.07">this is the running copy of the code the</span> <span data-start="1160.07" data-end="1162.679">module is this right side so the module</span> <span data-start="1162.679" data-end="1163.82">is kind of here's your compiled</span> <span data-start="1163.82" data-end="1165.59">executable the instances</span> <span data-start="1165.59" data-end="1167.36">here's that but it's running it has</span> <span data-start="1167.36" data-end="1169.01">memory it has state it's kind of the</span> <span data-start="1169.01" data-end="1171.14">difference between an exe and something</span> <span data-start="1171.14" data-end="1173.899">in your process manager let's go ahead</span> <span data-start="1173.899" data-end="1175.399">and pop this instance out into a global</span> <span data-start="1175.399" data-end="1178.429">variable so we can get it more easily it</span> <span data-start="1178.429" data-end="1180.71">has a property on it called exports and</span> <span data-start="1180.71" data-end="1183.5">on that as our function foo and so if I</span> <span data-start="1183.5" data-end="1188.539">call foo of 64 I get back 16 and that's</span> <span data-start="1188.539" data-end="1191.03">that's the C we wrote over here running</span> <span data-start="1191.03" data-end="1192.409">in the browser</span> <span data-start="1192.409" data-end="1201.659">and if I go and look at this this is the</span> <span data-start="1201.659" data-end="1204.029">binary that we sent to the browser it's</span> <span data-start="1204.029" data-end="1206.519">tiny it doesn't know anything there's no</span> </p>
<p><span data-start="1206.519" data-end="1208.769">JavaScript here and yet we're able to</span> <span data-start="1208.769" data-end="1210.209">call that function as though a were a</span> <span data-start="1210.209" data-end="1211.679">JavaScript function and we're able to</span> <span data-start="1211.679" data-end="1213.209">pass it data and it's able to return</span> <span data-start="1213.209" data-end="1215.759">information completely transparently you</span> <span data-start="1215.759" data-end="1216.959">don't have to know and you wouldn't know</span> <span data-start="1216.959" data-end="1219.089">unless I told you that the</span> <span data-start="1219.089" data-end="1221.879">implementation of foo was in a language</span> <span data-start="1221.879" data-end="1224.729">other than JavaScript which is cool cuz</span> <span data-start="1224.729" data-end="1226.259">it gives you that ability to take that</span> <span data-start="1226.259" data-end="1228.389">common core that common library wrap it</span> <span data-start="1228.389" data-end="1230.399">in the JavaScript API and now you can</span> <span data-start="1230.399" data-end="1231.599">reuse the core you get some more</span> <span data-start="1231.599" data-end="1236.369">performance out of it those those</span> <span data-start="1236.369" data-end="1239.7">performance things like doing the you</span> <span data-start="1239.7" data-end="1242.549">know the unsigned integer again your</span> <span data-start="1242.549" data-end="1244.049">your browser may eventually arrive at</span> <span data-start="1244.049" data-end="1245.729">that if you wrote it in JavaScript but</span> <span data-start="1245.729" data-end="1247.139">with web assembly you can compile that</span> <span data-start="1247.139" data-end="1248.82">in up front and hand the browser</span> <span data-start="1248.82" data-end="1252.989">optimize code at the start this is</span> <span data-start="1252.989" data-end="1253.979">really useful if you have something</span> <span data-start="1253.979" data-end="1255.809">that's CPU bound or something that's</span> <span data-start="1255.809" data-end="1257.249">really performance intensive because you</span> <span data-start="1257.249" data-end="1259.109">have complete manual control over how</span> <span data-start="1259.109" data-end="1261.119">you use memory and that's really</span> <span data-start="1261.119" data-end="1262.919">important for game engines for audio</span> <span data-start="1262.919" data-end="1266.219">codecs video codecs things where it's</span> <span data-start="1266.219" data-end="1267.599">much better for instance it's better if</span> <span data-start="1267.599" data-end="1269.19">a game engine runs at a steady 30 frames</span> <span data-start="1269.19" data-end="1272.369">a second but if it's sways between you</span> <span data-start="1272.369" data-end="1273.899">know five frames a second sometimes and</span> <span data-start="1273.899" data-end="1276.269">120 other times because as humans we</span> <span data-start="1276.269" data-end="1278.969">perceive the differences and we see that</span> <span data-start="1278.969" data-end="1280.529">stuttering and it becomes really</span> <span data-start="1280.529" data-end="1283.769">uncomfortable but there's no way around</span> <span data-start="1283.769" data-end="1285.209">it because JavaScript such a high level</span> <span data-start="1285.209" data-end="1286.619">language you can't opt out of garbage</span> <span data-start="1286.619" data-end="1288.809">collection you can't opt out of how</span> <span data-start="1288.809" data-end="1290.279">javascript represents things in memory</span> <span data-start="1290.279" data-end="1291.899">you don't have that low level control</span> <span data-start="1291.899" data-end="1296.369">you do with web assembly it's an</span> <span data-start="1296.369" data-end="1299.879">interesting example of this there's a</span> <span data-start="1299.879" data-end="1301.559">program called web or a library called</span> <span data-start="1301.559" data-end="1303.989">web DSP that implemented a whole bunch</span> <span data-start="1303.989" data-end="1307.32">of different video filters identically</span> <span data-start="1307.32" data-end="1311.729">in JavaScript and in C++ and they just</span> <span data-start="1311.729" data-end="1314.609">do a feature detection query does web</span> <span data-start="1314.609" data-end="1316.229">assembly exist in browser okay use the</span> <span data-start="1316.229" data-end="1318.45">web assembly version otherwise use the</span> </p>
<p><span data-start="1318.45" data-end="1320.279">JavaScript version and in most cases</span> <span data-start="1320.279" data-end="1321.929">javascript is fast enough but if you're</span> <span data-start="1321.929" data-end="1323.369">doing a lot of computation on each frame</span> <span data-start="1323.369" data-end="1324.809">like trying to do edge to</span> <span data-start="1324.809" data-end="1327.629">detection it's pretty Jinky we're taking</span> <span data-start="1327.629" data-end="1331.35">about 250 milliseconds every frame so</span> <span data-start="1331.35" data-end="1334.409">we're getting four frames a second but</span> <span data-start="1334.409" data-end="1335.429">if I switch over to the webassembly</span> <span data-start="1335.429" data-end="1337.44">version because it's able to reuse</span> <span data-start="1337.44" data-end="1339.87">memory it's able to control exactly how</span> <span data-start="1339.87" data-end="1341.999">memory is allocated and freed we're</span> <span data-start="1341.999" data-end="1344.419">running a steady 60 frames a second</span> <span data-start="1344.419" data-end="1346.499">again you may not need this in many</span> <span data-start="1346.499" data-end="1347.61">areas but if you have a performance</span> <span data-start="1347.61" data-end="1349.08">bottleneck in your JavaScript</span> <span data-start="1349.08" data-end="1351.389">application you now finally have the</span> <span data-start="1351.389" data-end="1352.799">opportunity to drop down to a lower</span> <span data-start="1352.799" data-end="1356.999">level language to address that does that</span> <span data-start="1356.999" data-end="1358.889">make sense to people I can see some</span> <span data-start="1358.889" data-end="1367.11">nodding some nodding all right things</span> <span data-start="1367.11" data-end="1369.99">could go fast now but why do we need it</span> <span data-start="1369.99" data-end="1371.519">we need it because plugins were the only</span> <span data-start="1371.519" data-end="1373.499">way you could do this before and they</span> <span data-start="1373.499" data-end="1374.999">were dying because plugins were an awful</span> <span data-start="1374.999" data-end="1377.73">security situation and they didn't have</span> <span data-start="1377.73" data-end="1380.1">a replacement and we couldn't just say</span> <span data-start="1380.1" data-end="1381.57">compile everything to JavaScript because</span> </p>
<p><span data-start="1381.57" data-end="1383.009">JavaScript was hostile to certain types</span> <span data-start="1383.009" data-end="1385.049">of optimizations javascript is is a</span> <span data-start="1385.049" data-end="1386.49">really lovely language it's a very</span> <span data-start="1386.49" data-end="1388.11">expressive language but that extra civet</span> <span data-start="1388.11" data-end="1390.149">e in that dynamism in it makes it hard</span> <span data-start="1390.149" data-end="1391.529">to run quickly it makes it hard to</span> <span data-start="1391.529" data-end="1393.72">compile ahead of time and that meant</span> <span data-start="1393.72" data-end="1395.159">that we couldn't effectively reuse</span> <span data-start="1395.159" data-end="1396.869">existing code on the web so things like</span> <span data-start="1396.869" data-end="1400.559">Adobe's PDF Reader I don't know how many</span> <span data-start="1400.559" data-end="1402.72">human years have been invested into that</span> <span data-start="1402.72" data-end="1406.74">that engine it doesn't make sense to</span> <span data-start="1406.74" data-end="1408.24">rebuild it for the web it makes sense to</span> <span data-start="1408.24" data-end="1409.32">take that code and bring it to the web</span> <span data-start="1409.32" data-end="1412.049">in a way that like Java Script is safe</span> <span data-start="1412.049" data-end="1414.059">and Universal but that runs as quickly</span> <span data-start="1414.059" data-end="1415.889">as native code and that provides</span> <span data-start="1415.889" data-end="1417.539">consistent predictable performance so</span> <span data-start="1417.539" data-end="1418.529">those those were our goals were</span> <span data-start="1418.529" data-end="1420.21">webassembly and trying to do this in a</span> <span data-start="1420.21" data-end="1421.769">way that allowed code reuse between the</span> <span data-start="1421.769" data-end="1423.36">web and native platforms and we did it</span> <span data-start="1423.36" data-end="1426.21">it worked and so so if you're interested</span> <span data-start="1426.21" data-end="1428.19">in this anyhow performance problems or</span> <span data-start="1428.19" data-end="1430.499">or you want to reuse code between two</span> <span data-start="1430.499" data-end="1431.909">libraries or you want portability</span> <span data-start="1431.909" data-end="1433.009">between platforms</span> <span data-start="1433.009" data-end="1435.299">you may not have there may not be a</span> <span data-start="1435.299" data-end="1437.129">libsass that you can import but you may</span> <span data-start="1437.129" data-end="1438.96">want to code the core logic of your app</span> <span data-start="1438.96" data-end="1441.659">in in a language like rust and compile</span> <span data-start="1441.659" data-end="1443.279">that to web assembly and also compile it</span> <span data-start="1443.279" data-end="1445.23">to other languages or to run on other</span> <span data-start="1445.23" data-end="1447.269">platforms and now you can share that</span> <span data-start="1447.269" data-end="1448.649">common core between the front-end in the</span> <span data-start="1448.649" data-end="1452.07">backend and native and web and that's</span> <span data-start="1452.07" data-end="1454.049">really exciting and we're starting to</span> <span data-start="1454.049" data-end="1455.549">see this technology be picked up by game</span> <span data-start="1455.549" data-end="1458.029">engines Mozilla is using both assembly</span> <span data-start="1458.029" data-end="1460.279">prototype a new browser our new codec</span> <span data-start="1460.279" data-end="1462.229">for videos in the browser so we can</span> <span data-start="1462.229" data-end="1465.229">actually ship the the video decoder as a</span> <span data-start="1465.229" data-end="1467.419">wasm file and render it out to a canvas</span> <span data-start="1467.419" data-end="1468.279">and it works</span> </p>
<p><span data-start="1468.279" data-end="1471.349">AutoCAD can run the browser now through</span> <span data-start="1471.349" data-end="1473.719">web assembly all sorts of crazy things</span> <span data-start="1473.719" data-end="1476.299">and it's it's possible because we've</span> <span data-start="1476.299" data-end="1477.379">designed web assembly as a</span> <span data-start="1477.379" data-end="1478.759">general-purpose virtual architecture</span> <span data-start="1478.759" data-end="1480.559">there's despite the name web there's</span> <span data-start="1480.559" data-end="1483.619">nothing specifically webby about it what</span> <span data-start="1483.619" data-end="1485.179">we did is we we looked at the way</span> <span data-start="1485.179" data-end="1486.59">JavaScript engines are currently</span> <span data-start="1486.59" data-end="1487.94">constructed in there they're really</span> <span data-start="1487.94" data-end="1489.289">complex virtual machines where you've</span> <span data-start="1489.289" data-end="1492.499">got a JavaScript engine v8 or or spider</span> <span data-start="1492.499" data-end="1494.119">monkey that comes with a garbage</span> <span data-start="1494.119" data-end="1495.799">collector it comes with a JIT compiler</span> <span data-start="1495.799" data-end="1497.869">it comes with all these these capability</span> <span data-start="1497.869" data-end="1499.489">that kind of is a virtual architecture</span> <span data-start="1499.489" data-end="1501.349">unto itself and the way it interacts</span> <span data-start="1501.349" data-end="1502.789">with the outside world or through API is</span> <span data-start="1502.789" data-end="1504.649">so the browser provides things like</span> </p>
<p><span data-start="1504.649" data-end="1508.46">WebGL WebRTC and X DB node provides</span> <span data-start="1508.46" data-end="1511.609">things like sockets and and file system</span> <span data-start="1511.609" data-end="1514.009">access but we had this really good VM</span> <span data-start="1514.009" data-end="1516.769">and had the JIT compiler and had the</span> <span data-start="1516.769" data-end="1520.309">profilers and it had the optimizers but</span> <span data-start="1520.309" data-end="1521.69">javascript is really hard language to</span> <span data-start="1521.69" data-end="1523.489">work with and the the whole purpose of</span> <span data-start="1523.489" data-end="1525.109">something like v8 or spider monkey is to</span> <span data-start="1525.109" data-end="1527.239">take JavaScript and try to get it as</span> <span data-start="1527.239" data-end="1529.009">close to native code as possible and</span> <span data-start="1529.009" data-end="1531.499">then for things that are constantly and</span> <span data-start="1531.499" data-end="1533.57">frequently called to compile just those</span> <span data-start="1533.57" data-end="1536.719">bits into native code and so with</span> <span data-start="1536.719" data-end="1537.95">weather symbol we can actually just put</span> <span data-start="1537.95" data-end="1539.359">it right alongside JavaScript and say</span> <span data-start="1539.359" data-end="1540.469">well hey you're trying to get to this</span> <span data-start="1540.469" data-end="1541.969">point anyways we've done it for you we</span> <span data-start="1541.969" data-end="1544.159">did it ahead of time I compile it on my</span> <span data-start="1544.159" data-end="1545.869">laptop it's already optimized just run</span> <span data-start="1545.869" data-end="1548.96">this and it works because we can reuse</span> <span data-start="1548.96" data-end="1550.399">the existing architecture this also</span> <span data-start="1550.399" data-end="1552.049">means that web assembly is running with</span> <span data-start="1552.049" data-end="1553.879">the same sort of security properties as</span> <span data-start="1553.879" data-end="1555.889">any other JavaScript running in the</span> <span data-start="1555.889" data-end="1558.08">browser or on node where you don't have</span> <span data-start="1558.08" data-end="1559.759">access to raw sockets you don't have</span> <span data-start="1559.759" data-end="1561.109">access to to things that the web</span> <span data-start="1561.109" data-end="1562.789">platform doesn't give you access to and</span> <span data-start="1562.789" data-end="1565.009">and that's okay because web platform is</span> <span data-start="1565.009" data-end="1566.809">capable and because this also minimizes</span> <span data-start="1566.809" data-end="1568.279">the attack surface you don't have to</span> <span data-start="1568.279" data-end="1570.289">worry about like when I go to a random</span> <span data-start="1570.289" data-end="1572.839">web site I trust my browser to prevent</span> <span data-start="1572.839" data-end="1574.009">the code running on that site from</span> <span data-start="1574.009" data-end="1575.239">deleting all the files on my hard drive</span> </p>
<p><span data-start="1575.239" data-end="1577.639">I don't have that same trust if I</span> <span data-start="1577.639" data-end="1579.349">download a random binary from somewhere</span> <span data-start="1579.349" data-end="1582.679">and run that but webassembly kind of</span> <span data-start="1582.679" data-end="1583.759">splits the difference you get a binary</span> <span data-start="1583.759" data-end="1586.369">but it runs in the browser sandbox it's</span> <span data-start="1586.369" data-end="1590.049">fast it's safe</span> <span data-start="1590.059" data-end="1593.359">so so what is all this</span> <span data-start="1593.359" data-end="1595.83">at its core web assembly is a compiler</span> <span data-start="1595.83" data-end="1597.049">target for the web</span> <span data-start="1597.049" data-end="1599.58">it's a low-level binary format for</span> <span data-start="1599.58" data-end="1602.039">programs built on an open standard with</span> <span data-start="1602.039" data-end="1604.529">cross browser support it's a direct</span> <span data-start="1604.529" data-end="1606.029">successor of Mozilla's experience with</span> <span data-start="1606.029" data-end="1607.769">Azam's yes and it's a general-purpose</span> <span data-start="1607.769" data-end="1610.289">virtual architecture so much like node</span> <span data-start="1610.289" data-end="1612.989">took a JavaScript engine and took away</span> <span data-start="1612.989" data-end="1614.429">the browser layer and just said well we</span> <span data-start="1614.429" data-end="1615.479">can take this engine when you put some</span> <span data-start="1615.479" data-end="1617.359">different api's on it and that's great</span> <span data-start="1617.359" data-end="1619.559">well obviously works in both node in the</span> <span data-start="1619.559" data-end="1621.029">browser and someone could conceivably</span> <span data-start="1621.029" data-end="1623.609">build another runtime that's derived</span> <span data-start="1623.609" data-end="1625.139">from neither of those that's tailored</span> <span data-start="1625.139" data-end="1627.479">just to web assembly it's truly a</span> <span data-start="1627.479" data-end="1630.21">general-purpose virtual architecture to</span> <span data-start="1630.21" data-end="1633.419">target programs ad and this is</span> <span data-start="1633.419" data-end="1634.919">interesting because well it doesn't</span> <span data-start="1634.919" data-end="1636.899">replace JavaScript like not everyone is</span> <span data-start="1636.899" data-end="1638.94">going to go and write C++ today because</span> <span data-start="1638.94" data-end="1641.399">they saw this in the same way that node</span> <span data-start="1641.399" data-end="1643.559">actually exists despite the option to</span> <span data-start="1643.559" data-end="1645.21">write C++ on the server different tools</span> <span data-start="1645.21" data-end="1646.739">are good for different different tasks</span> <span data-start="1646.739" data-end="1648.839">but this expands what the web can do</span> <span data-start="1648.839" data-end="1650.639">because previously the web only allowed</span> <span data-start="1650.639" data-end="1653.339">you to to act at the high level and now</span> <span data-start="1653.339" data-end="1654.869">we can have these hybrid designs where</span> <span data-start="1654.869" data-end="1657.239">the core logic the core functionality</span> <span data-start="1657.239" data-end="1658.95">might be in a lower level language like</span> <span data-start="1658.95" data-end="1661.529">web assembly but the application logic</span> <span data-start="1661.529" data-end="1664.049">might live in JavaScript it means that</span> <span data-start="1664.049" data-end="1665.519">for compilers the web is just another</span> <span data-start="1665.519" data-end="1668.609">platform it's here today it really works</span> <span data-start="1668.609" data-end="1672.659">and it's got a bright future we're</span> <span data-start="1672.659" data-end="1673.44">working on adding things like</span> <span data-start="1673.44" data-end="1675.239">multi-threading garbage collection</span> <span data-start="1675.239" data-end="1678.719">better tooling sem d support many other</span> <span data-start="1678.719" data-end="1680.249">things to webassembly over the next next</span> <span data-start="1680.249" data-end="1682.619">few years I think the ability for us to</span> <span data-start="1682.619" data-end="1686.07">go from zero browsers supporting it to</span> <span data-start="1686.07" data-end="1689.07">all browsers supporting it within the</span> <span data-start="1689.07" data-end="1691.169">space of a year is really encouraging</span> <span data-start="1691.169" data-end="1694.349">and I think I think speaks to the fact</span> <span data-start="1694.349" data-end="1695.759">that this will continue to evolve and</span> <span data-start="1695.759" data-end="1697.139">you'll be able to use the things that</span> <span data-start="1697.139" data-end="1702.149">come out in the future a couple of</span> <span data-start="1702.149" data-end="1703.08">questions that people have asked me that</span> </p>
<p><span data-start="1703.08" data-end="1705.589">I want to want to cover before I close</span> <span data-start="1705.589" data-end="1707.489">people here about this like I can</span> <span data-start="1707.489" data-end="1709.2">finally stop using javascript or is</span> <span data-start="1709.2" data-end="1712.2">JavaScript dead and no Java scripts</span> <span data-start="1712.2" data-end="1715.499">alive but it's client-side monopoly is</span> <span data-start="1715.499" data-end="1717.96">dead the the notion that you can only</span> <span data-start="1717.96" data-end="1720.33">use javascript in the browser is no</span> <span data-start="1720.33" data-end="1721.38">longer true you can use</span> <span data-start="1721.38" data-end="1725.309">any language that you can compile but</span> <span data-start="1725.309" data-end="1727.86">these complement each other well this</span> <span data-start="1727.86" data-end="1729.299">simply is low-level it's binary</span> <span data-start="1729.299" data-end="1731.009">javascript is high level in its textual</span> <span data-start="1731.009" data-end="1735.059">there's a place for both makes new</span> <span data-start="1735.059" data-end="1737.159">things possible what about older</span> <span data-start="1737.159" data-end="1738.6">browsers well I said that web assembly</span> <span data-start="1738.6" data-end="1743.399">started as a direct successor to as MJS</span> <span data-start="1743.399" data-end="1745.919">as MJS is just JavaScript but with some</span> <span data-start="1745.919" data-end="1749.49">weird little annotations that let</span> <span data-start="1749.49" data-end="1752.13">certain engines edge Firefox etc run it</span> <span data-start="1752.13" data-end="1755.309">faster but it still is JavaScript so it</span> <span data-start="1755.309" data-end="1756.99">does work everywhere and so you can use</span> <span data-start="1756.99" data-end="1759.6">it as a fallback the most common</span> <span data-start="1759.6" data-end="1761.309">compiler chain right now they use dim</span> <span data-start="1761.309" data-end="1765.139">script them take C or C++ or rust</span> <span data-start="1765.139" data-end="1767.549">compile it to as MJS and then compiles</span> <span data-start="1767.549" data-end="1771.899">the azzam js2 web assembly you can just</span> <span data-start="1771.899" data-end="1773.97">save them and you know inscription does</span> <span data-start="1773.97" data-end="1775.529">the first step in re n does the second</span> <span data-start="1775.529" data-end="1777.299">step we're working on adding native</span> <span data-start="1777.299" data-end="1779.6">support to web for web assembly to LLVM</span> <span data-start="1779.6" data-end="1783.12">should be coming soon ish but for now</span> <span data-start="1783.12" data-end="1784.98">you can just save the as MJS and the web</span> <span data-start="1784.98" data-end="1786.33">assembly and say well do you support web</span> <span data-start="1786.33" data-end="1788.039">symbol use that if not use azzam j/s</span> <span data-start="1788.039" data-end="1789.45">it'll still work it just won't be as</span> <span data-start="1789.45" data-end="1792.6">fast other people ask well web</span> <span data-start="1792.6" data-end="1793.919">assemblies so fast can I compile my</span> </p>
<p><span data-start="1793.919" data-end="1795.87">JavaScript for my typescript — what</span> <span data-start="1795.87" data-end="1801.419">assembly no don't do that just like if</span> <span data-start="1801.419" data-end="1802.86">you wrote a program in JavaScript or a</span> <span data-start="1802.86" data-end="1804.36">program in Ruby or a program in Python</span> <span data-start="1804.36" data-end="1805.679">you have to distribute the runtime with</span> <span data-start="1805.679" data-end="1808.049">it compared to a program in C where you</span> <span data-start="1808.049" data-end="1810.659">can just send the binary around you'd</span> <span data-start="1810.659" data-end="1812.009">have to ship your own JavaScript runtime</span> <span data-start="1812.009" data-end="1813.36">you'd have to ship your own equivalent</span> <span data-start="1813.36" data-end="1815.7">to v8 or spider monkey if you did this</span> <span data-start="1815.7" data-end="1817.08">cuz well as immed uhz n't know anything</span> <span data-start="1817.08" data-end="1818.669">about java javascript it doesn't know</span> <span data-start="1818.669" data-end="1820.559">anything about modules or arrays or</span> <span data-start="1820.559" data-end="1823.62">objects and your browser already has a</span> <span data-start="1823.62" data-end="1825.24">really good runtime for javascript it</span> <span data-start="1825.24" data-end="1828.09">knows all the dirty tricks so so trying</span> <span data-start="1828.09" data-end="1829.289">to re-implement that isn't going to get</span> <span data-start="1829.289" data-end="1831.179">you very far but what web assembly is</span> <span data-start="1831.179" data-end="1832.47">good at is different from what java</span> <span data-start="1832.47" data-end="1835.23">scripts good at other people ask what</span> <span data-start="1835.23" data-end="1836.899">about type errors so web this simply has</span> <span data-start="1836.899" data-end="1841.379">the the well defined by 32 I 64 F 32 f</span> <span data-start="1841.379" data-end="1844.289">64 types well I can JavaScript the</span> <span data-start="1844.289" data-end="1845.97">browser courses types at that boundary</span> <span data-start="1845.97" data-end="1848.159">and a compile time you can check to make</span> <span data-start="1848.159" data-end="1849.36">sure there are no tight mismatches</span> <span data-start="1849.36" data-end="1853.379">within web assembly Eckler script has</span> <span data-start="1853.379" data-end="1854.96">really well-defined rules for what</span> <span data-start="1854.96" data-end="1856.19">if you passed the wrong type to a</span> <span data-start="1856.19" data-end="1857.63">function that is expecting something</span> <span data-start="1857.63" data-end="1858.89">else so in the same way that you're not</span> <span data-start="1858.89" data-end="1860.6">worried about like calling the square</span> <span data-start="1860.6" data-end="1862.01">root of hello world crashing your</span> <span data-start="1862.01" data-end="1863.6">browser it's not gonna crash a web</span> <span data-start="1863.6" data-end="1865.64">assembly program either that string is</span> <span data-start="1865.64" data-end="1867.2">going to get turned into a number that's</span> <span data-start="1867.2" data-end="1868.64">gonna be passed to a function if it</span> <span data-start="1868.64" data-end="1872.419">wants a number it works there are rules</span> <span data-start="1872.419" data-end="1875.2">you can learn them it's fine</span> <span data-start="1875.2" data-end="1877.1">but I've been talked about about these</span> <span data-start="1877.1" data-end="1879.35">interesting hybrid applications a lot of</span> <span data-start="1879.35" data-end="1882.049">a lot of the initial work in web</span> <span data-start="1882.049" data-end="1887.24">assembly has gone into trying to take</span> <span data-start="1887.24" data-end="1895.25">desktop apps game engines import them to</span> <span data-start="1895.25" data-end="1897.169">the web and they can just render on a</span> <span data-start="1897.169" data-end="1898.34">canvas you don't have to really care</span> <span data-start="1898.34" data-end="1902.809">about anything in terms of I guess web</span> <span data-start="1902.809" data-end="1905.12">enos it's kind of like flash it's not</span> <span data-start="1905.12" data-end="1906.71">accessible it's not indexable but it</span> <span data-start="1906.71" data-end="1909.95">works and you can play it the web's</span> <span data-start="1909.95" data-end="1911.059">getting more capable and some really</span> <span data-start="1911.059" data-end="1913.24">interesting things are happening so so</span> <span data-start="1913.24" data-end="1916.46">something I saw that is webby in a</span> <span data-start="1916.46" data-end="1918.649">different way this may take a minute to</span> <span data-start="1918.649" data-end="1924.14">boot some folks built DOSBox</span> <span data-start="1924.14" data-end="1927.679">which is a window or which is a 16-bit</span> </p>
<p><span data-start="1927.679" data-end="1932.419">Intel emulator runs Doss they ported</span> <span data-start="1932.419" data-end="1935.149">that to web assembly they got it to</span> <span data-start="1935.149" data-end="1938.659">render to a canvas they're using that</span> <span data-start="1938.659" data-end="1941.029">canvas as a texture inside a webview our</span> <span data-start="1941.029" data-end="1945.71">environment so while this boots you know</span> <span data-start="1945.71" data-end="1948.169">I can look around and it's actually</span> <span data-start="1948.169" data-end="1950">fully multi-user so that that little</span> <span data-start="1950" data-end="1951.44">smartphone you see flying there is</span> <span data-start="1951.44" data-end="1953.12">another tab I have open in case the</span> <span data-start="1953.12" data-end="1956.12">internet didn't work so this is gonna</span> <span data-start="1956.12" data-end="1960.679">finish loading and let's see so it's</span> <span data-start="1960.679" data-end="1964.799">gonna try to make a dial-up connection</span> <span data-start="1964.809" data-end="1974.179">do to do come on windsock so we'll mute</span> <span data-start="1974.179" data-end="1976.64">that but so so the person that built</span> <span data-start="1976.64" data-end="1978.59">this demo has this talking over a</span> </p>
<p><span data-start="1978.59" data-end="1981.95">WebSocket emulating tcp/ip so you can</span> <span data-start="1981.95" data-end="1983.96">actually get to the outside world but</span> <span data-start="1983.96" data-end="1985.48">for now I can do things like I can run</span> <span data-start="1985.48" data-end="1991.17">solitaire and I can</span> <span data-start="1991.18" data-end="1994.73">to do paintbrush and this is running on</span> <span data-start="1994.73" data-end="1998.15">a Windows emulator on a 16-bit Intel</span> <span data-start="1998.15" data-end="2000.52">emulator in my browser so we all</span> <span data-start="2000.52" data-end="2001.75">compiled web assembly so it works</span> <span data-start="2001.75" data-end="2003.52">anywhere like my computer is Intel based</span> <span data-start="2003.52" data-end="2005.41">but it also works on my phone which is a</span> <span data-start="2005.41" data-end="2006.7">completely different architecture which</span> <span data-start="2006.7" data-end="2009.04">which gives you that magic that the web</span> <span data-start="2009.04" data-end="2011.38">is supposed to work everywhere and you</span> <span data-start="2011.38" data-end="2012.88">know this works I can say hello</span> </p>
<p><span data-start="2012.88" data-end="2018.43">Jas comp Budapest and yeah go spray</span> <span data-start="2018.43" data-end="2022.74">paint tool give it some some sparkles</span> <span data-start="2022.74" data-end="2029.77">yay but we can we can preserve some of</span> <span data-start="2029.77" data-end="2031.15">our digital Heritage's this way which i</span> <span data-start="2031.15" data-end="2032.47">think is also really really fascinating</span> <span data-start="2032.47" data-end="2034.75">but you can take all these existing</span> <span data-start="2034.75" data-end="2036.55">programs and all this existing software</span> <span data-start="2036.55" data-end="2037.93">and you can bring it to the web and it's</span> <span data-start="2037.93" data-end="2040.21">not locked into a platform specific</span> <span data-start="2040.21" data-end="2041.5">binary anymore if you can bring the</span> <span data-start="2041.5" data-end="2047.05">platform itself to the web and so I look</span> <span data-start="2047.05" data-end="2048.55">at this and I think about the potential</span> <span data-start="2048.55" data-end="2050.77">here it takes way too long to load you</span> <span data-start="2050.77" data-end="2052.78">can also load Netscape which is kind of</span> <span data-start="2052.78" data-end="2057.2">ironic running Netscape inside Firefox</span> <span data-start="2057.21" data-end="2060.239">it'll take a minute but</span> <span data-start="2060.239" data-end="2066.53">[Applause]</span> <span data-start="2066.53" data-end="2068.73">but I look at this and I think about the</span> <span data-start="2068.73" data-end="2072.3">potential that we have in terms of we in</span> <span data-start="2072.3" data-end="2073.619">the web community in the JavaScript</span> <span data-start="2073.619" data-end="2075.839">community learning from and leveraging</span> <span data-start="2075.839" data-end="2077.399">all of the software and all the</span> <span data-start="2077.399" data-end="2078.599">knowledge that's out there in the C and</span> </p>
<p><span data-start="2078.599" data-end="2081.78">C++ worlds and then creating new things</span> <span data-start="2081.78" data-end="2083.04">with them and teaching them about the</span> <span data-start="2083.04" data-end="2084.48">web and creating these hybrid</span> <span data-start="2084.48" data-end="2086.129">experiences that leverage the strengths</span> <span data-start="2086.129" data-end="2088.349">of both platforms there's a great</span> <span data-start="2088.349" data-end="2089.849">initiative right now on the rust foreign</span> <span data-start="2089.849" data-end="2092.22">language to make web assembly one of</span> <span data-start="2092.22" data-end="2095.069">rusts primary tier one platforms so that</span> <span data-start="2095.069" data-end="2096.149">if you want to build for the web you</span> <span data-start="2096.149" data-end="2098.609">build in rust and compile it to web</span> <span data-start="2098.609" data-end="2101.16">assembly and I think that'll be again a</span> <span data-start="2101.16" data-end="2102.77">really positive development if we can</span> <span data-start="2102.77" data-end="2104.97">can manage to come together and bridge</span> <span data-start="2104.97" data-end="2106.589">these these two communities because we</span> <span data-start="2106.589" data-end="2108.329">know things that they don't I mean the</span> </p>
<p><span data-start="2108.329" data-end="2110.849">Unity engine knows a little bit about</span> <span data-start="2110.849" data-end="2112.5">the web the Unreal Engine they're used</span> <span data-start="2112.5" data-end="2114.599">to being able to come on DVDs or come on</span> <span data-start="2114.599" data-end="2116.609">like massive Steam downloads or a</span> <span data-start="2116.609" data-end="2118.8">multi-gigabyte you can't do that on the</span> <span data-start="2118.8" data-end="2119.849">web you have to be able to stream your</span> <span data-start="2119.849" data-end="2121.829">assets you have to be a smaller smaller</span> <span data-start="2121.829" data-end="2123.869">package and we can teach them how to do</span> <span data-start="2123.869" data-end="2127.98">that obviously home DM kaam kaam is not</span> <span data-start="2127.98" data-end="2131.4">going to load and also anything over SSL</span> <span data-start="2131.4" data-end="2134.28">is not going to work because we don't</span> <span data-start="2134.28" data-end="2138.359">support TLS 1.1 Netscape 3 but you get</span> <span data-start="2138.359" data-end="2138.98">the idea right</span> <span data-start="2138.98" data-end="2141.72">brand-new things are possible web</span> <span data-start="2141.72" data-end="2145.41">assembly is here it's real please come</span> <span data-start="2145.41" data-end="2147.48">talk to me please experiment this keep</span> <span data-start="2147.48" data-end="2152.39">your eyes out the web is it's just</span> <span data-start="2152.39" data-end="2156.79">amazing today thank you so much</span> <span data-start="2156.79" data-end="2162.89">[Applause]</span> </p>
</section>

<!-- div#container ends -->
</div>

<img alt="The End" id="fin" src="../images/fin.jpg">

<script>
/*eslint-disable */
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google-translate');
}
/* eslint-enable */
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="../js/main.js"></script>

</body>

</html>
