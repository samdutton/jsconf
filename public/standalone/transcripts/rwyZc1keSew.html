<!DOCTYPE html>

<!--
Copyright 2019 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="//google.com">
  <meta name="description" content="web.dev LIVE video transcript">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>rwyZc1keSew</title>
  <link rel="stylesheet" href="../css/main.css">
</head>

<body>

<iframe id="youtube" src="https://www.youtube.com/embed/rwyZc1keSew?enablejsapi=1"></iframe>

<div id="container">

<div id="options">
  <div id="google-translate"></div>
  <div>
    <input type="checkbox" id="videoSticky" checked>
    <label for="videoSticky">Video position sticky</label>
  </div>
  <div>
    <input type="checkbox" id="captionScroll" checked>
    <label for="captionScroll">Keep current caption visible</label>
  </div>
</div>

<section>
<p><span data-start="3.1" data-end="6.33">Ben Schwarz Real world connectivity — Beyond the bubble</span> <span data-start="6.33" data-end="8.109"Audience member: One did my favourite things about both JSConf and CSSConf is this warm and fuzzy</span> <span data-start="8.109" data-end="9.109">feeling you get when you come here, like a family reunion without the bad parts!</span> <span data-start="9.109" data-end="10.109">I love that.</span> <span data-start="10.109" data-end="11.109">I've been coming for I think four years, and every single time, it is even more amazing,</span> <span data-start="11.109" data-end="12.109">and more people are getting into this nice family of ours.</span> <span data-start="12.109" data-end="13.109">Ben is a really good example of that.</span> <span data-start="13.109" data-end="14.109">He not only runs JSConf back in Australia, but he's been coming here for three or four</span> <span data-start="14.109" data-end="15.109">years.</span> <span data-start="15.109" data-end="16.109">He mc'ed two of them, and now he's speaking so it comes around.</span> <span data-start="16.109" data-end="17.109">You can end up attending and then speaking, which is really great.</span> <span data-start="17.109" data-end="18.109">You can be on the stage.</span> </p>
<p><span data-start="18.109" data-end="19.109">Yes, Ben is from Melbourne in Australia which is a great city.</span> <span data-start="19.109" data-end="20.109">I lived there, too.</span> <span data-start="20.109" data-end="21.109">He's a founder of Calibre which is a web-performance monitoring tool and he will tell you about</span> <span data-start="21.109" data-end="22.109">the state of connectivity, the state of the internet and what we can do for people to</span> <span data-start="22.109" data-end="23.109">make the internet and web faster for them.</span> <span data-start="23.109" data-end="29.54">Please give a really washing welcome to Ben Schwarz.</span> <span data-start="29.54" data-end="30.54">[Applause].</span> </p>
</section>

<section>
<p><span data-start="30.54" data-end="31.87"><span class="speaker">Ben</span>: Hello!</span> <span data-start="31.87" data-end="33.309">How are we doing?</span> <span data-start="33.309" data-end="35.53">Doing good?</span> <span data-start="35.53" data-end="40.289">My mother doesn't know what I do, so this isn't going to help her, but if everyone can</span> <span data-start="40.289" data-end="44.46">just yell "ya" as I come around, okay?</span> </p>
</section>

<section>
<p><span data-start="44.46" data-end="45.96"><span class="speaker">Audience</span>: Ya.</span> </p>
</section>

<section>
<p><span data-start="45.96" data-end="50.039"><span class="speaker">Ben</span>: Mum .. I don't know!</span> <span data-start="50.039" data-end="51.039">[Laughter].</span> <span data-start="51.039" data-end="53.809">That was fun.</span> <span data-start="53.809" data-end="55.11">My name is Ben Schwarz.</span> <span data-start="55.11" data-end="58.309">I'm from Melbourne, Australia.</span> <span data-start="58.309" data-end="63.269">I've been coming here for a few years and it's my favourite conference anywhere in the</span> <span data-start="63.269" data-end="65.08">world to come.</span> <span data-start="65.08" data-end="67.39">It is a huge privilege.</span> <span data-start="67.39" data-end="71.67">Thanks for everyone for making it great for me to be here.</span> <span data-start="71.67" data-end="78.74">My talk today is called "Beyond the Bubble" and I hope to achieve, to give you some context</span> <span data-start="78.74" data-end="88.32">that maybe you haven't maybe necessarily considered as part of your day jobs.</span> <span data-start="88.32" data-end="92.28">When we usually talk about performance, we talk about how quickly pages load, we talk</span> <span data-start="92.28" data-end="98.939">about how much money Amazon made when they made something half a second faster, but often,</span> <span data-start="98.939" data-end="104.509">that's kind of really as far as we go, I think is really sad because performance is a pillar</span> <span data-start="104.509" data-end="109.47">of user experience, and yet every aspect of performance work we are doing right now seems</span> <span data-start="109.47" data-end="111.88">to be a bit of an afterthought.</span> </p>
<p><span data-start="111.88" data-end="117.27">Sites are often deployed to production, and then we say all right, let's see how this</span> <span data-start="117.27" data-end="118.369">performance.</span> <span data-start="118.369" data-end="124.4">And if the result are disappointing, then maybe do our best to see what we can do.</span> <span data-start="124.4" data-end="129.06">But often we have to just move on because there isn't the time and budget, and nobody</span> <span data-start="129.06" data-end="133.97">is really committed to it by that point.</span> <span data-start="133.97" data-end="138.86">And we are still, when we're doing this, when we're building the sites and apps and these</span> <span data-start="138.86" data-end="142.94">experiences, we are doing doing using a $3,000 dollar computer or a $1,000 phone and you're</span> <span data-start="142.94" data-end="144.47">doing it on localhost.</span> <span data-start="144.47" data-end="150.13">Of course it is going to be fast.</span> </p>
<p><span data-start="150.13" data-end="154.4">I think it is our  —  doing it on localhost.</span> <span data-start="154.4" data-end="160.47">I am the founder of a company called Calibre, a recently young company.</span> <span data-start="160.47" data-end="164.39">It is so young, in fact, that I'm the only person in the company.</span> <span data-start="164.39" data-end="167.01">I do everything.</span> <span data-start="167.01" data-end="169.32">What that really means is I'm full-time now.</span> <span data-start="169.32" data-end="178.58">I became full-time in January, and ultimately, that means that every day, I am helping to</span> <span data-start="178.58" data-end="185.15">build tools to make the web faster, or helping to try to contribute to that, or I'm doing</span> <span data-start="185.15" data-end="187.94">audits for people, or I'm diving in stack traces.</span> </p>
<p><span data-start="187.94" data-end="191.79">I'm kind of doing that performance work that you would maybe do if you had the time, but</span> <span data-start="191.79" data-end="193.61">that's all I'm doing right now.</span> <span data-start="193.61" data-end="198.21">I hope through that you will maybe enjoy the talk ahead.</span> <span data-start="198.21" data-end="206.34">So, I thought it would be really interesting look at somewhere where time really equalled</span> <span data-start="206.34" data-end="214.59">money, and in the last 30 years, we've been trying to reduce latency between locations,</span> <span data-start="214.59" data-end="223.95">but somewhere it was really hyperfocused was in the stock changes between Chicago and New</span> </p>
<p><span data-start="223.95" data-end="225.99">York.</span> <span data-start="225.99" data-end="233.09">Every few milliseconds you save or make literally billions of dollars.</span> <span data-start="233.09" data-end="242.33">In the made 1980s, the round-trip latency was 14 and a half milliseconds, cut by a millisecond</span> <span data-start="242.33" data-end="251.861">and a half in 2010 by shortening the physical fibre route they took.</span> <span data-start="251.861" data-end="262.06">They thought this is too slow and we will do something else.</span> <span data-start="262.06" data-end="266.03">[Sound cut] you see that large tower there.</span> <span data-start="266.03" data-end="271">That's a microwave tower.</span> <span data-start="271" data-end="276.79">These towers — using these towers, they were able to get that connection speed right down</span> <span data-start="276.79" data-end="284.51">to 4.2 milliseconds which is a huge improvements, three times over where we started in the 1980s.</span> <span data-start="284.51" data-end="289.68">Interestingly enough, when these towers were constructed, they were buying up little plots</span> <span data-start="289.68" data-end="295.58">of farmland and between, and I think some of these towers they actually had to pay these</span> <span data-start="295.58" data-end="302.23">farmers — in the regions of $500 million just to put a tower there.</span> </p>
<p><span data-start="302.23" data-end="306.861">I think that's particularly interesting because I think when we are building sites and apps</span> <span data-start="306.861" data-end="312.74">and throwing them in a browser and we are delivering this HTML, right, and, as you saw</span> <span data-start="312.74" data-end="318.28">in the previous talk, we are getting better at detecting the resources on the page and</span> <span data-start="318.28" data-end="327.62">pre-getting them, but up to now, what we've been doing is this: we're just throwing things</span> <span data-start="327.62" data-end="328.91">at the customer.</span> <span data-start="328.91" data-end="332.43">Saying take it all, I don't care about you.</span> <span data-start="332.43" data-end="338.38">Whether on a tiny phone with a slow CPU, or maybe you've used all your data plan, like</span> <span data-start="338.38" data-end="343.389">I have in Berlin already in a week, we're not doing enough here.</span> <span data-start="343.389" data-end="353.35">I'm going to take you through some stats about the state of global connectivity.</span> <span data-start="353.35" data-end="358.22">Right now, there are 7.4 billion people on the planet.</span> <span data-start="358.22" data-end="362.55">46 per cent of them have access to the internet.</span> <span data-start="362.55" data-end="367.08">That means that we are actually at a point where there are four billion people who don't</span> <span data-start="367.08" data-end="369.27">have any access to the internet at all.</span> <span data-start="369.27" data-end="370.79">We're only halfway there.</span> <span data-start="370.79" data-end="374.2">We're not even halfway there yet.</span> </p>
<p><span data-start="374.2" data-end="380.7">So why don't we have an a look at how quickly the internet is growing, and if you were thinking</span> <span data-start="380.7" data-end="387.13">maybe Europe is getting better connectivity, maybe it's US, 300 million people there, may</span> <span data-start="387.13" data-end="391.62">be it is in Australia where I'm from, and really trying to build a faster internet,</span> <span data-start="391.62" data-end="401.36">but struggling, it isn't really sort of in that bubble that we are in right now today.</span> <span data-start="401.36" data-end="408.06">If you look at India just last year, their internet users grew by 108 million people,</span> <span data-start="408.06" data-end="415.4">which, in case you were wondering, that's more than the population of Germany.</span> <span data-start="415.4" data-end="422.15">This is 30 per cent year on year from the year previously.</span> <span data-start="422.15" data-end="426.87">If those numbers are matched again this year, that will be 140 million people.</span> <span data-start="426.87" data-end="434.72">Airtel, who are the largest carrier, have 255 million customers, people who just have</span> <span data-start="434.72" data-end="443.169">a phone plan, and this stat, the last time I researched it, it's gone up by 5 million</span> <span data-start="443.169" data-end="451.29">subscribers, and their share has fallen from 32 per cent of the marketplace.</span> </p>
<p><span data-start="451.29" data-end="455.64">Truly, truly incredible numbers.</span> <span data-start="455.64" data-end="467.15">In India only 635 per cent 1.2 billion don't have access to the internet, so that means</span> <span data-start="467.15" data-end="472.04">that's 864 million people who are yet to get the internet.</span> <span data-start="472.04" data-end="473.68">They're about to.</span> <span data-start="473.68" data-end="477.36">That's essential lit population of China again.</span> <span data-start="477.36" data-end="484.55">I took time to look at what data costs in different locations.</span> <span data-start="484.55" data-end="490.78">The way that I came up with these numbers here is I took a pre-paid plan, which is usually</span> <span data-start="490.78" data-end="498.2">cheaper than a post-paid plan, and I took the minimum wage of these countries, and I</span> <span data-start="498.2" data-end="501.78">calculated how many hours would you have to work just to get 500megs of data.</span> <span data-start="501.78" data-end="509.72">In India, it is it is 17 hours, but in Germany, it is less than one hour.</span> <span data-start="509.72" data-end="516.349">Our, let's call it, data addiction isn't met with the same enthusiasm in other places in</span> <span data-start="516.349" data-end="517.349">the world.</span> <span data-start="517.349" data-end="520.579">Could I get some water?</span> <span data-start="520.579" data-end="522.469">Thank you.</span> </p>
<p><span data-start="522.469" data-end="528.79">That could be one hour for eight songs on Spotify, six minutes of YouTube, and less</span> <span data-start="528.79" data-end="535.879">than an hour playing games.</span> <span data-start="535.879" data-end="549.39">Or you can go to the Burj, empty your cache and hit reload 28 times.</span> <span data-start="549.39" data-end="555.85">Even if you can afford the internet, you're not necessarily going to get fast internet</span> <span data-start="555.85" data-end="557.54">all the time.</span> </p>
<p><span data-start="557.54" data-end="562.24">Back in Melbourne last year, I lived on the wrong side of the street to get cable connection</span> <span data-start="562.24" data-end="566.85">so I ended up having DSL and it was a lot slower than it should have been.</span> <span data-start="566.85" data-end="572.26">Even if you have LTE advertise the on your phone, you may not get the same LTE speeds.</span> <span data-start="572.26" data-end="583.66">In Singapore, the average is capping out at about 50 which is super great, but in India,</span> <span data-start="583.66" data-end="585.459">it is doing 6.39Mbit/s.</span> </p>
<p><span data-start="585.459" data-end="590.319">It's no matter where you are in the world.</span> <span data-start="590.319" data-end="596.309">I had a look at the German internet plans because I'm Australian, and it's very different</span> <span data-start="596.309" data-end="597.309">here.</span> <span data-start="597.309" data-end="602.54">I Shaw that there are 400 Mbit connections.</span> <span data-start="602.54" data-end="609.66">Over the year if it worked out to EUR30 a month.</span> <span data-start="609.66" data-end="618.389">Put that on a global scale, does anyone want to guess where the global average for connection</span> <span data-start="618.389" data-end="619.389">speed would be?</span> <span data-start="619.389" data-end="621.029">Shout out numbers?</span> <span data-start="621.029" data-end="622.529">Two?</span> <span data-start="622.529" data-end="624.029">50?</span> <span data-start="624.029" data-end="625.529">50.</span> <span data-start="625.529" data-end="627.029">Okay.</span> <span data-start="627.029" data-end="631.05">It is actually seven.</span> <span data-start="631.05" data-end="633.35">This is the global average.</span> <span data-start="633.35" data-end="638.66">So this is, it is pulled down by some places and pulled up by others.</span> </p>
<p><span data-start="638.66" data-end="643.81">I thought maybe we could look at the mobile speed.</span> <span data-start="643.81" data-end="651.269">In Canada, which is covering the Americas region, the best average, or the highest average</span> <span data-start="651.269" data-end="653.449">speed is 10.3.</span> <span data-start="653.449" data-end="657.85">In Australia, for Asia-Pacific, 13.</span> <span data-start="657.85" data-end="666.029">For the United Kingdom, Europe, it was 26.8 — [Laughter] — and the UAE for the Middle</span> </p>
<p><span data-start="666.029" data-end="670.999">East and Africa region was 17.2.</span> <span data-start="670.999" data-end="672.55">But it goes further than that.</span> <span data-start="672.55" data-end="680.18">60 per cent of all but global mobile connections are actually 2G.</span> <span data-start="680.18" data-end="685.67">So we know that, even if you do have LTE, you can't really assume it's going to be fast.</span> <span data-start="685.67" data-end="689.85">On average, we're only doing 7Mbit a second.</span> <span data-start="689.85" data-end="692.629">Let's look at devices.</span> <span data-start="692.629" data-end="696.86">Most devices on the web are handsets.</span> </p>
<p><span data-start="696.86" data-end="699.369">This has been the case since 2014.</span> <span data-start="699.369" data-end="701.689">I thought maybe I would have a look.</span> <span data-start="701.689" data-end="705.481">I have an iPhone in my pocket, and I'm sure a lot of you do too, and maybe use an android,</span> <span data-start="705.481" data-end="707.25">and that is cool too.</span> </p>
<p><span data-start="707.25" data-end="711.17">Have you thought of devices that people use in other locations?</span> <span data-start="711.17" data-end="717.509">Here are the top five devices for three regions.</span> <span data-start="717.509" data-end="724.899">China had three phones I had never heard of, and they were selling enough devices to cover</span> <span data-start="724.899" data-end="730.86">the population of my country multiple times over a year, so that's reasonably significant.</span> <span data-start="730.86" data-end="737.249">The I don't know hands in India is corresponding to its very mixed market but it is a big collection</span> <span data-start="737.249" data-end="738.249">of devices.</span> <span data-start="738.249" data-end="749.699">So, I got to wondering, is there a single device that best represents average?</span> <span data-start="749.699" data-end="753.55">If we need to — we know that these devices are super, super different.</span> <span data-start="753.55" data-end="759.209">How do we test this and understand what to do next?</span> <span data-start="759.209" data-end="762.579">Thanks to our friends at Google, there's been some research done into this.</span> <span data-start="762.579" data-end="769.259">At the moment today, if you were to take a fairly average phone, it is not super expensive,</span> <span data-start="769.259" data-end="774.829">I think in Germany, it is EUR180 if you were to go and buy one won you would end up with</span> <span data-start="774.829" data-end="779.91">a quad core CPU, decent amount of storage.</span> </p>
<p><span data-start="779.91" data-end="786.739">This isn't the slow phone that people will tell you in talks you have to think about</span> <span data-start="786.739" data-end="789.559">these other people, this is a pretty middle-of-the-road phobe.</span> <span data-start="789.559" data-end="793.06">It is not the fastest and it is not the slowest.</span> <span data-start="793.06" data-end="797.269">If you average out global devices, this is where you will end up.</span> <span data-start="797.269" data-end="798.749">Has really great.</span> <span data-start="798.749" data-end="804.91">You can test them on web page tests, and they have these devices in data centres around</span> <span data-start="804.91" data-end="807.83">the world.</span> <span data-start="807.83" data-end="810.899">Let's say you didn't have access to a device.</span> </p>
<p><span data-start="810.899" data-end="812.99">Here's what you can do.</span> <span data-start="812.99" data-end="821.199">Go into your current dev tools.</span> <span data-start="821.199" data-end="822.439">Click on the timeline.</span> <span data-start="822.439" data-end="826.279">Click on "capture settings" CPU, drag it down to 5.</span> <span data-start="826.279" data-end="831.529">I know 5 is seemingly an abstract number, but if you're on a recent Macbook Pro, you</span> <span data-start="831.529" data-end="835.079">will end up with the speed of about a MotoG4.</span> <span data-start="835.079" data-end="841.069">There's been research done into this, and you can calibrate your device, but if you're</span> <span data-start="841.069" data-end="845.95">looking for a close enough experience, that's where you should end up.</span> <span data-start="845.95" data-end="848.509">5x slowdown.</span> <span data-start="848.509" data-end="854.269">What is clear after we've looked at connectivity and devises is there aren't any context.</span> <span data-start="854.269" data-end="859.22">If you go for a proper average, it changes daily.</span> <span data-start="859.22" data-end="865.279">I like to think that there are two versions of the internet.</span> <span data-start="865.279" data-end="869.629">There's the one that we use — us — and then there's one that we usually don't.</span> </p>
<p><span data-start="869.629" data-end="874.679">I've been experiencing a little bit of the column B in the last couple of weeks here</span> <span data-start="874.679" data-end="881.41">in Germany, and the aeroplane Wi-Fi I think at times was better than the Airbnb I have</span> <span data-start="881.41" data-end="883.199">at the moment.</span> <span data-start="883.199" data-end="890.35">The conference Wi-Fi hasn't been too bad — thanks for doing OK on that, JSConf — and Lie-fi</span> <span data-start="890.35" data-end="897.779">when it says you're on Wi-Fi and nothing happens.</span> <span data-start="897.779" data-end="900.981">We know that the connections vary and it might be that because you're at the wrong end of</span> <span data-start="900.981" data-end="906.86">the building, and too many brick walls, or for whatever fucking reason, your modem needs</span> <span data-start="906.86" data-end="908.119">restarting again.</span> </p>
<p><span data-start="908.119" data-end="910.499">It happens, I understand.</span> <span data-start="910.499" data-end="921.829">One thing is clear, we need to stop optimising for $3,000 computer with fast connections.</span> <span data-start="921.829" data-end="926.189">Inconsistency is a major property of the web in general, but now that we are understanding</span> <span data-start="926.189" data-end="933.48">that we are in a global landscape, it is time that we started by about what we are delivering</span> <span data-start="933.48" data-end="940.089">to people so we should gather knowledge and build with more understanding and empty.</span> <span data-start="940.089" data-end="946.36">Looking beyond the delivery of an asset or looking how an asset is put down on to a device,</span> <span data-start="946.36" data-end="952.07">we are generally looking at three things: delivery, so this is the time where we are</span> <span data-start="952.07" data-end="953.839">saying how many scripts are there on this page?</span> <span data-start="953.839" data-end="954.839">How big are they?</span> <span data-start="954.839" data-end="955.93">What do they look like?</span> <span data-start="955.93" data-end="960.259">There is the pass cycle.</span> <span data-start="960.259" data-end="964.95">This is when the browser gets those assets, and it has to figure out something.</span> <span data-start="964.95" data-end="971.249">Maybe it has to decompress the G zip on a resource, maybe it has to parse and compile</span> <span data-start="971.249" data-end="976.949">the JavaScript, maybe it has to get an image and then composite it before it actually paints</span> <span data-start="976.949" data-end="980.089">it.</span> <span data-start="980.089" data-end="982.35">The last part of that is run time.</span> </p>
<p><span data-start="982.35" data-end="985.91">These three phases of performance that we should worry about.</span> <span data-start="985.91" data-end="992.639">Runtime is actually the actual run time that we are giving smooth, fluid animations and</span> <span data-start="992.639" data-end="996.1">making it responsive to a user input.</span> <span data-start="996.1" data-end="999.259">But unfortunately at the moment, the one rear really forgetting this is parse time.</span> <span data-start="999.259" data-end="1004.859">We're throwing down scripts at the browser and we're just hoping for the best.</span> <span data-start="1004.859" data-end="1012.35">This wonderful graphic is taken from a brilliant blog post called JavaScript start-up time</span> <span data-start="1012.35" data-end="1020.73">and a rough how V8 works or more like, the V8 people tell me, how it will work really</span> <span data-start="1020.73" data-end="1022.209">soon.</span> <span data-start="1022.209" data-end="1030.069">This varies from engine to engine, but they take your JS, they generate byte code, do</span> <span data-start="1030.069" data-end="1036.38">optimisation stuff, and then they build it for your architecture.</span> <span data-start="1036.38" data-end="1042.289">When you're taking the 410 average script size, this is the average across the web,</span> <span data-start="1042.289" data-end="1043.289">right?</span> <span data-start="1043.289" data-end="1044.899">This is what we are on average setting.</span> <span data-start="1044.899" data-end="1053.71">There's been the argument that maybe we can reduce that size, just remove a jpeg — I won't</span> <span data-start="1053.71" data-end="1058.72">name names — but this became a bit of a popular thing to say a couple of years ago, but I</span> <span data-start="1058.72" data-end="1063.899">tell you why it's wrong.</span> </p>
<p><span data-start="1063.899" data-end="1064.919">Forget 410kb.</span> <span data-start="1064.919" data-end="1067.84">When you decompress, it could be three to four megabytes.</span> <span data-start="1067.84" data-end="1075.409">It is the three to four megabytes that your phone has to understand, compile.</span> <span data-start="1075.409" data-end="1081.45">I took the JSConf site which is really light, whoever worked on it didn't have to do much</span> <span data-start="1081.45" data-end="1090.059">stuff to make a pretty website to tell you about the conference — it only had 57KB-of-scripts,</span> <span data-start="1090.059" data-end="1102.98">jQuery, some web stats and a tiny 1kb.</span> <span data-start="1102.98" data-end="1110.36">When I bench marked it on desktop, this one, and a MotoG4, I found that the script time,</span> <span data-start="1110.36" data-end="1115.36">all I'm dealing is loading the page, and we are spending three times the amount of time</span> <span data-start="1115.36" data-end="1119.299">just in scripting.</span> <span data-start="1119.299" data-end="1120.58">Why is that important?</span> <span data-start="1120.58" data-end="1125.539">It is important because this is happening in the JavaScript main thread.</span> <span data-start="1125.539" data-end="1129.919">This is also blogging Paint, and in these are all the little things that make your website</span> <span data-start="1129.919" data-end="1136.32">feel when you're also contending with web fonts loading, and disappearing, and a different</span> <span data-start="1136.32" data-end="1141.38">one appears, and a user is controlling, and then an image loads and then that pops back</span> <span data-start="1141.38" data-end="1143.87">up — you've all even is, right?</span> </p>
<p><span data-start="1143.87" data-end="1145.25">We are suspect to it.</span> <span data-start="1145.25" data-end="1152.16">I look the Lufthansa site this this is the mobile site.</span> <span data-start="1152.16" data-end="1156.69">This is probably reasonably optimised.</span> <span data-start="1156.69" data-end="1161.09">On average, a little bit bigger than other stuff.</span> <span data-start="1161.09" data-end="1166.6">And it actually compressed really, really well, and, again, well, it was double.</span> <span data-start="1166.6" data-end="1168.57">It doesn't mean that these numbers are completely linear.</span> <span data-start="1168.57" data-end="1172.22">You can't say that it's going to be 600kB.</span> <span data-start="1172.22" data-end="1174.169">You do need to test that stuff.</span> <span data-start="1174.169" data-end="1176.389">I did start testing.</span> <span data-start="1176.389" data-end="1181.62">Let's do an experiment here.</span> <span data-start="1181.62" data-end="1185.429">Maybe I can just say, "Delete all of your JavaScript".</span> <span data-start="1185.429" data-end="1189.48">You might not like that be.</span> <span data-start="1189.48" data-end="1191.04">So I took the Guardian's website.</span> </p>
<p><span data-start="1191.04" data-end="1192.799">They've done some fantastic work.</span> <span data-start="1192.799" data-end="1199.82">Patrick Hammond who is here spoke two years ago at CSSConf, and he showed all the really</span> <span data-start="1199.82" data-end="1202.639">great work he's done at the Guardian.</span> <span data-start="1202.639" data-end="1207.59">I don't want to bash it up too much, but I'm going to show you something.</span> <span data-start="1207.59" data-end="1210.039">This is the Guardian loading side by side.</span> <span data-start="1210.039" data-end="1218.289">On the left, we have it without JavaScript and on the right, we have it with.</span> <span data-start="1218.289" data-end="1225.43">The version on the left was completely visible in under 5 seconds on a 3G connection — bang,</span> <span data-start="1225.43" data-end="1227.36">done.</span> <span data-start="1227.36" data-end="1231.74">The other side: well, there is the fonts, switching, loading.</span> <span data-start="1231.74" data-end="1235.88">The weather appeared and then a related article appeared at the bottom of the screen and it</span> <span data-start="1235.88" data-end="1240.18">stopped rendering somewhere around the 22-second mark.</span> <span data-start="1240.18" data-end="1244.37">Unfortunately, the 22-second mark is about the average.</span> <span data-start="1244.37" data-end="1247.07">The average for this is about 17 seconds.</span> </p>
<p><span data-start="1247.07" data-end="1248.519">This is not a bad website.</span> <span data-start="1248.519" data-end="1251.61">This is very, very normal.</span> <span data-start="1251.61" data-end="1256.63">It goes further too.</span> <span data-start="1256.63" data-end="1261.99">Of the difference between the requests, and it wasn't all JavaScript, it was images and</span> <span data-start="1261.99" data-end="1269.159">assets and other stuff, we, with JavaScript, it was 3.4 megabytes, 115 requests, otherwise</span> <span data-start="1269.159" data-end="1274.58">1.59 and 61 requests.</span> <span data-start="1274.58" data-end="1278.82">I think that's a lot just to show people a related article and whether and different</span> <span data-start="1278.82" data-end="1283.98">[sound cut] but we didn't really improve it.</span> <span data-start="1283.98" data-end="1300.679">We talk about progressive enhancement [sound cut] one thing that I've really noticed this</span> <span data-start="1300.679" data-end="1311.86">that the metrics we're currently — I think they are the important part.</span> <span data-start="1311.86" data-end="1318.16">Metrics like unload, on DOM-content loaded which is everything ready, DOM ready, and</span> <span data-start="1318.16" data-end="1329.36">speed index which is my particular favourite to have a little go at.</span> </p>
<p><span data-start="1329.36" data-end="1341.82">I know people who put "MS" after it so that is looks .. good metrics try to aim something.</span> <span data-start="1341.82" data-end="1345.279">Here are some examples of good metrics.</span> <span data-start="1345.279" data-end="1348.94">Has 19 heard of them?</span> <span data-start="1348.94" data-end="1350.33">Any of them, all of them?</span> <span data-start="1350.33" data-end="1355.409">I'm going to explain a little bit about what they are.</span> <span data-start="1355.409" data-end="1361.47">The user navigates.</span> <span data-start="1361.47" data-end="1362.47">We have a first paint.</span> <span data-start="1362.47" data-end="1366.309">The first paint is when we see anything a wide screen.</span> <span data-start="1366.309" data-end="1371.409">We go on, render a little bit more.</span> <span data-start="1371.409" data-end="1376.18">Then we have some more graphic starting to appear, the font hasn't uploaded yet, and</span> <span data-start="1376.18" data-end="1378.69">then we get to a point where we get the meaningful paint.</span> <span data-start="1378.69" data-end="1385.55">That means that the text is visible, somebody did see something readable approximately visually</span> <span data-start="1385.55" data-end="1394.32">complete means when the area in the view port is fully resolved, let's call it.</span> <span data-start="1394.32" data-end="1399.45">That's great.</span> </p>
<p><span data-start="1399.45" data-end="1401.2">Visually complete is a difficult one.</span> <span data-start="1401.2" data-end="1407.529">It is not something that you do get out of dev tools, so how can we produce these metrics</span> <span data-start="1407.529" data-end="1410.32">and actually get something out of it.</span> <span data-start="1410.32" data-end="1416.169">Thankfully, there's a tool called Lighthouse built by the Google Chrome team which comes</span> <span data-start="1416.169" data-end="1419.34">as a browser extension.</span> <span data-start="1419.34" data-end="1423.25">And you can just go to a website, click on it, generate a report.</span> <span data-start="1423.25" data-end="1432.13">It loads the site by default in nexus 5x, I think, and it slows the CPU down, it checks</span> <span data-start="1432.13" data-end="1438.59">it in an offline mode, it will give you some stats with how it's performing as a progressive</span> <span data-start="1438.59" data-end="1448.74">web app, accessibility stuff request and best practices.</span> <span data-start="1448.74" data-end="1449.74">That's really great.</span> </p>
<p><span data-start="1449.74" data-end="1457.37">I have a little secret though: can we keep this between us?</span> <span data-start="1457.37" data-end="1458.779">Yes.</span> <span data-start="1458.779" data-end="1463.47">As of Thursday, Lighthouse dropped into Google Chrome can nary.</span> <span data-start="1463.47" data-end="1466.929">I will show you how to get this now.</span> <span data-start="1466.929" data-end="1475.59">You need the latest Chrome Canary and animate, I imagine.</span> </p>
<p><span data-start="1475.59" data-end="1481.37">You need to go to the chrome Flags page, search for dev tools experiments and turn that on.</span> <span data-start="1481.37" data-end="1483.82">Then relaunch your browser — this is quite a step.</span> <span data-start="1483.82" data-end="1489.8">Go to the thing that you want, and pop up your dev tools, go to the settings down here,</span> <span data-start="1489.8" data-end="1493.58">over to the experiments, you don't see it, right?</span> <span data-start="1493.58" data-end="1494.58">See how it appeared.</span> <span data-start="1494.58" data-end="1496.539">You have to hit shift.</span> <span data-start="1496.539" data-end="1498.809">It's a little secret.</span> <span data-start="1498.809" data-end="1501.74">Then they appear, all those things that you didn't know were there.</span> <span data-start="1501.74" data-end="1503.49">Then you have to turn it on.</span> </p>
<p><span data-start="1503.49" data-end="1504.49">Close it.</span> <span data-start="1504.49" data-end="1507.029">Open it again, and audits two will appear.</span> <span data-start="1507.029" data-end="1514.95">Then you get a lighthouse button and you can choose the audits that you want to do and</span> <span data-start="1514.95" data-end="1517.97">you will get some idea of the performance of your browser.</span> <span data-start="1517.97" data-end="1523.6">I'm not sure when this is going to reach stable but they're working hard on it Google IOs</span> <span data-start="1523.6" data-end="1529.74">in a week and a half and the guys have been worked really, really half.</span> <span data-start="1529.74" data-end="1532.5">First meaningful paint, visually complete.</span> </p>
<p><span data-start="1532.5" data-end="1537.77">I'm going to talk to you about a what this other metric we've heard a little bit about</span> <span data-start="1537.77" data-end="1538.77">is.</span> <span data-start="1538.77" data-end="1541.389">It is time to visually complete.</span> <span data-start="1541.389" data-end="1543.77">This is how they're calculating it now in lighthouse.</span> <span data-start="1543.77" data-end="1547.48">I think it is really, really cool.</span> </p>
<p><span data-start="1547.48" data-end="1553.331">We watch the timeline and we figure out when the browser is visually complete, and then</span> <span data-start="1553.331" data-end="1558.99">we are watching the JavaScript main thread,and we're watching the sub tasks that are happening,</span> <span data-start="1558.99" data-end="1561.57">looking for them that are shorter than 50 milliseconds.</span> <span data-start="1561.57" data-end="1571.72">We figure out when there is a five-second window without a long Taft, task.</span> <span data-start="1571.72" data-end="1579.49">The reason we do that because time to interactive is a really good way of getting that empathy</span> <span data-start="1579.49" data-end="1583.919">for a user that it's not popping around the web fonts nor and it's not jumping up and</span> <span data-start="1583.919" data-end="1587.57">down and going all over the place.</span> <span data-start="1587.57" data-end="1593.451">Your target for every device, and I'm talking about the phones in your pockets is to get</span> <span data-start="1593.451" data-end="1598.519">it in under five seconds.</span> <span data-start="1598.519" data-end="1604.909">Even better come up with the Twitter team do having a metric of time to first Tweet.</span> <span data-start="1604.909" data-end="1607.789">They've been doing it for years.</span> <span data-start="1607.789" data-end="1613.529">Trying to find ways of understanding how your users are using your apps and sites and get</span> <span data-start="1613.529" data-end="1614.75">a metric and track it.</span> </p>
<p><span data-start="1614.75" data-end="1617.69">Because it doesn't matter when unload happens.</span> <span data-start="1617.69" data-end="1620.7">It is totally irrelevant.</span> <span data-start="1620.7" data-end="1623.07">Don't try and keep people on your side for as long as possible.</span> <span data-start="1623.07" data-end="1628.74">Help them get to their goals and do it quickly so they can do something else which is far</span> <span data-start="1628.74" data-end="1629.74">better.</span> </p>
<p><span data-start="1629.74" data-end="1634.629">I know that the performance landscape is realising fast and so many bits and pieces to worry</span> <span data-start="1634.629" data-end="1636.009">about.</span> <span data-start="1636.009" data-end="1639.64">My advice is to pick one or two and give them a shot.</span> <span data-start="1639.64" data-end="1645.24">All of these things that are on the screen here, using a CDN, like weapon P, the purple</span> <span data-start="1645.24" data-end="1651.12">pattern, all of these will improve website performance, give one of them a go, test it,</span> <span data-start="1651.12" data-end="1652.529">measure it and improve.</span> <span data-start="1652.529" data-end="1658.279">If you're wondering where I got the stats from, they are from the State of the Internet</span> <span data-start="1658.279" data-end="1659.279">report?</span> <span data-start="1659.279" data-end="1661.44">Has anyone seen this before?</span> <span data-start="1661.44" data-end="1663.379">Like ten people, I think.</span> <span data-start="1663.379" data-end="1672.79">It is a quarterly report put out, so, all my data is from Q42016, and it is just a pdf</span> <span data-start="1672.79" data-end="1673.79">report.</span> <span data-start="1673.79" data-end="1676.879">You can see what the global averages are.</span> <span data-start="1676.879" data-end="1684.679">The global average for connection speed went from 62M/bit per second to the 7.</span> </p>
<p><span data-start="1684.679" data-end="1688.34">We are improving but it is very slow.</span> <span data-start="1688.34" data-end="1694.509">We've been focused on the wealthy Western web for so long, we're building for the machines</span> <span data-start="1694.509" data-end="1697.78">we're using, but that's bullshit.</span> <span data-start="1697.78" data-end="1698.78">We didn't sign up for that.</span> <span data-start="1698.78" data-end="1700.799">We signed up for the World Wide Web.</span> <span data-start="1700.799" data-end="1706.429">I want to encourage you to make the web faster, everyone.</span> </p>
<p><span data-start="1706.429" data-end="1710.21">That's what I'm trying to do at Calibre, and that's what I'm dedicating all my work to</span> <span data-start="1710.21" data-end="1712.399">at the moment.</span> <span data-start="1712.399" data-end="1714.35">Hopefully, you can get Calibre, give it a shot.</span> <span data-start="1714.35" data-end="1715.919">If you don't, try Lighthouse, that's great.</span> <span data-start="1715.919" data-end="1718.19">Otherwise, if you want stickers, come and see me or something.</span> <span data-start="1718.19" data-end="1719.19">It will be cool.</span> <span data-start="1719.19" data-end="1720.19">Thanks a lot.</span> <span data-start="1720.19" data-end="1721.19">[Applause].</span> <span data-start="1721.19" data-end="1723.129"Audience member: You have literally 60 seconds to get coffee or snacks.</span> <span data-start="1723.129" data-end="1724.129">Run!</span> <span data-start="1724.129" data-end="1725.129">Are we ready?</span> </p>
</section>

<!-- div#container ends -->
</div>

<img alt="The End" id="fin" src="../images/fin.jpg">

<script>
/*eslint-disable */
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google-translate');
}
/* eslint-enable */
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="../js/main.js"></script>

</body>

</html>
