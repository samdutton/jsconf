<!DOCTYPE html>

<!--
Copyright 2019 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="//google.com">
  <meta name="description" content="web.dev LIVE video transcript">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>hN_7tAKh0dM</title>
  <link rel="stylesheet" href="../css/main.css">
</head>

<body>

<iframe id="youtube" src="https://www.youtube.com/embed/hN_7tAKh0dM?enablejsapi=1"></iframe>

<div id="container">

<div id="options">
  <div id="google-translate"></div>
  <div>
    <input type="checkbox" id="videoSticky" checked>
    <label for="videoSticky">Video position sticky</label>
  </div>
  <div>
    <input type="checkbox" id="captionScroll" checked>
    <label for="captionScroll">Keep current caption visible</label>
  </div>
</div>

<section>
<p><span data-start="8.6" data-end="11.52">thank you so the title of the talk is</span> <span data-start="11.52" data-end="13.8">kick-ass code editing and enter of</span> <span data-start="13.8" data-end="15.51">end-to-end JavaScript debugging</span> <span data-start="15.51" data-end="18.54">my name is five any are cops if you want</span> <span data-start="18.54" data-end="22.529">you can follow me on Twitter and let's</span> <span data-start="22.529" data-end="27.57">get started so we say code editing and</span> <span data-start="27.57" data-end="32.279">debugging why do we do this yeah we are</span> <span data-start="32.279" data-end="36.27">building an IDE we building an IDE for</span> <span data-start="36.27" data-end="40.8">the web and we called the baby</span> <span data-start="40.8" data-end="44.25">cloud9 IDE and what I'm going to do now</span> <span data-start="44.25" data-end="47.519">is are today is present the vision of</span> <span data-start="47.519" data-end="51.989">cloud9 IDE but even more I described</span> <span data-start="51.989" data-end="54.12">some of the technical details in</span> <span data-start="54.12" data-end="55.859">building this because there is a tech</span> <span data-start="55.859" data-end="57.359">conference this is not a product</span> <span data-start="57.359" data-end="60.51">conference you can follow a cloud or de</span> <span data-start="60.51" data-end="67.89">on cloud9 IDE alright so the overview</span> <span data-start="67.89" data-end="70.8">for this talk will be the code editor we</span> <span data-start="70.8" data-end="72.93">use for the IDE so technical details of</span> <span data-start="72.93" data-end="77.19">the code editor what how plugins work</span> <span data-start="77.19" data-end="81.33">and a showcase of how how we can debug</span> <span data-start="81.33" data-end="85.23">code in the cloud so let me to get</span> <span data-start="85.23" data-end="88.68">started let me give you a small demo how</span> <span data-start="88.68" data-end="97.02">this looks like ok so this is the IDE</span> <span data-start="97.02" data-end="101.1">just looks very familiar and one of the</span> <span data-start="101.1" data-end="103.53">basic things you should be able to do</span> <span data-start="103.53" data-end="108.99">with our ideas create files like so</span> <span data-start="108.99" data-end="111.99">let's create a hello world is and the</span> <span data-start="111.99" data-end="113.37">other thing is you should be able to</span> <span data-start="113.37" data-end="121.06">edit files</span> <span data-start="121.07" data-end="126.75">okay it's all nice but just having files</span> <span data-start="126.75" data-end="128.88">on the server doesn't help you sir let's</span> <span data-start="128.88" data-end="131.97">run this beast and you see well it's</span> <span data-start="131.97" data-end="133.59">printing something in the console but</span> <span data-start="133.59" data-end="135.63">where does it actually run so this could</span> <span data-start="135.63" data-end="138">could be run in the browser but it's</span> <span data-start="138" data-end="140.67">actually run a run on the server in a</span> <span data-start="140.67" data-end="142.74">node instance and I can prove it to you</span> <span data-start="142.74" data-end="145.38">by changing this to the hello world</span> <span data-start="145.38" data-end="147.27">version of node does anyone know about</span> <span data-start="147.27" data-end="150.54">the hello world version of notice right</span> </p>
<p><span data-start="150.54" data-end="159.42">HTTP so that's required GDP create</span> <span data-start="159.42" data-end="164.82">server and this one takes a callback</span> <span data-start="164.82" data-end="172.21">with a request and a response object</span> <span data-start="172.22" data-end="182.34">alright and then rewrite success so we</span> <span data-start="182.34" data-end="192.02">can do this and</span> <span data-start="192.03" data-end="195.64">and clothes the response of course we</span> <span data-start="195.64" data-end="204.31">have to listen excuse me</span> <span data-start="204.31" data-end="213.88">oh yes and yes yes and so we see what's</span> <span data-start="213.88" data-end="226.18">doing we say HTTP all right save the</span> </p>
<p><span data-start="226.18" data-end="244.12">Beast and I don't see something oh okay</span> <span data-start="244.12" data-end="256.34">let's kill it oh I guess I've just</span> <span data-start="256.35" data-end="257.609">hooray</span> <span data-start="257.609" data-end="261.31">here we go Wow looking we run it on the</span> <span data-start="261.31" data-end="263.53">server so it actually runs a node</span> <span data-start="263.53" data-end="265.99">instance on the server we can edit it</span> <span data-start="265.99" data-end="267.49">from here we can start it from here and</span> <span data-start="267.49" data-end="270.54">we can stop it from here so that's the</span> <span data-start="270.54" data-end="273.55">basic overview how the IDE is going to</span> <span data-start="273.55" data-end="273.82">work</span> <span data-start="273.82" data-end="275.71">of course I've used absolute as you've</span> <span data-start="275.71" data-end="278.11">seen this is still a tech preview this</span> <span data-start="278.11" data-end="280.75">is far from being a complete product but</span> <span data-start="280.75" data-end="282.43">nonetheless we just want to get out</span> <span data-start="282.43" data-end="284.919">early and show what we what we think</span> <span data-start="284.919" data-end="287.229">could be the next step in in writing</span> <span data-start="287.229" data-end="294.1">code in the cloud so yeah so nobody</span> <span data-start="294.1" data-end="296.47">really will use an IDE of the editor</span> <span data-start="296.47" data-end="299.68">sucks so everyone has his editor with VI</span> <span data-start="299.68" data-end="302.47">emails texts made maybe eclipse on</span> </p>
<p><span data-start="302.47" data-end="306.4">NetBeans and one one of the key parts of</span> <span data-start="306.4" data-end="310.99">the IDE is an editor that actually works</span> <span data-start="310.99" data-end="315.28">my aim for the editor was that it should</span> <span data-start="315.28" data-end="318.28">at least replace text made for me so all</span> <span data-start="318.28" data-end="319.75">the features I love from text made</span> <span data-start="319.75" data-end="323.14">should eventually be available in the in</span> <span data-start="323.14" data-end="327.7">the code editor are the same for for</span> <span data-start="327.7" data-end="329.169">some of the Eclipse features that I</span> <span data-start="329.169" data-end="332.11">really like so what are the requirements</span> <span data-start="332.11" data-end="334.06">for for code editor</span> <span data-start="334.06" data-end="335.38">well first of all it should be cross</span> <span data-start="335.38" data-end="337.11">browser</span> <span data-start="337.11" data-end="339.19">shouldn't should not be a big</span> <span data-start="339.19" data-end="341.41">restriction on which for us it runs so</span> <span data-start="341.41" data-end="344.74">including ie7 i8 should be fully</span> <span data-start="344.74" data-end="346.54">featured sheriff all the features we</span> <span data-start="346.54" data-end="348.94">need should be configurable that like</span> <span data-start="348.94" data-end="351.79">users won't want to show the hidden</span> <span data-start="351.79" data-end="353.77">hidden characters like spaces and tabs</span> <span data-start="353.77" data-end="356.2">or don't want to see them and all kinds</span> <span data-start="356.2" data-end="357.73">of stuff that should be able to be</span> <span data-start="357.73" data-end="359.71">configured by the user should be</span> <span data-start="359.71" data-end="363.28">scalable it shouldn't break down on</span> <span data-start="363.28" data-end="365.95">really large files like their their</span> <span data-start="365.95" data-end="368.05">files that are like 10,000 lines long</span> <span data-start="368.05" data-end="370.93">and should just be able to handle it and</span> <span data-start="370.93" data-end="373.39">should be hackable that means if someone</span> <span data-start="373.39" data-end="375.34">wants to to add a functionality that's</span> <span data-start="375.34" data-end="378.04">not there any seasoned JavaScript check</span> </p>
<p><span data-start="378.04" data-end="381.01">I should be able to just implement it so</span> <span data-start="381.01" data-end="384.25">why not Best Buy that's obvious almost</span> <span data-start="384.25" data-end="387.19">all of this is already implement our</span> <span data-start="387.19" data-end="391.36">best thing sorry skywriter stick to best</span> <span data-start="391.36" data-end="395.32">but you think best man has a really</span> <span data-start="395.32" data-end="396.85">excellent has done a really excellent</span> <span data-start="396.85" data-end="401.26">job — - pioneering in this area to show</span> <span data-start="401.26" data-end="403.51">that it's actually possible to to do</span> <span data-start="403.51" data-end="405.43">advanced text editing or code editing in</span> <span data-start="405.43" data-end="407.58">the browser or there are some things</span> <span data-start="407.58" data-end="411.4">that didn't fit for our things one is</span> <span data-start="411.4" data-end="413.74">that's inefficient if it's scaled to</span> <span data-start="413.74" data-end="417.28">really big canvas because it has to do</span> <span data-start="417.28" data-end="419.17">to draw all the pieces individually</span> <span data-start="419.17" data-end="422.49">that's like what Paul Bako said for the</span> <span data-start="422.49" data-end="425.68">phones game engine it's similar to to</span> <span data-start="425.68" data-end="428.53">the code editor it's not cross browser</span> <span data-start="428.53" data-end="430.96">because it's using canvas obviously so</span> <span data-start="430.96" data-end="436.3">no ie ie 708 is 6 if you want to but I</span> <span data-start="436.3" data-end="439.6">don't really care and when we started</span> <span data-start="439.6" data-end="441.34">had a big dependency on spot colors like</span> <span data-start="441.34" data-end="444.16">500k external dependency on an on</span> <span data-start="444.16" data-end="446.5">library we don't use on ourself so in</span> <span data-start="446.5" data-end="448.69">today's jquery which is a lot better in</span> <span data-start="448.69" data-end="451">terms of code size but still something</span> <span data-start="451" data-end="456.76">we don't need for the ide so so that's</span> <span data-start="456.76" data-end="458.71">why we didn't use best friend so we</span> <span data-start="458.71" data-end="460.99">choose to you to implement our own code</span> <span data-start="460.99" data-end="463.96">editor so there are several options you</span> <span data-start="463.96" data-end="465.99">can you can take and in doing this you</span> <span data-start="465.99" data-end="469.28">can have content editable you can</span> <span data-start="469.28" data-end="470.93">using canvas as best benders or you can</span> <span data-start="470.93" data-end="472.97">use pure Dom methods to render</span> <span data-start="472.97" data-end="476.45">everything that's a quick look at it so</span> <span data-start="476.45" data-end="480.29">content editable well it doesn't really</span> <span data-start="480.29" data-end="482.21">give you enough control to do advanced</span> <span data-start="482.21" data-end="485.72">stuff it has a lot of issues to get</span> <span data-start="485.72" data-end="487.88">right cross browser and we really want</span> <span data-start="487.88" data-end="490.49">you to do like fancy stuff with a</span> <span data-start="490.49" data-end="492.59">selection we want to support in the</span> <span data-start="492.59" data-end="494.78">future like rectangular selections like</span> <span data-start="494.78" data-end="496.669">text meters and there's no way you can</span> <span data-start="496.669" data-end="498.38">do this with content edit editable and</span> <span data-start="498.38" data-end="500.24">current editable was really designed to</span> <span data-start="500.24" data-end="502.52">do weeks rich text editing which we</span> <span data-start="502.52" data-end="505.04">don't really need so it's not worth it</span> <span data-start="505.04" data-end="508.58">exploring it for for code editing well</span> <span data-start="508.58" data-end="510.74">of course there's canvas canvas is nice</span> <span data-start="510.74" data-end="513.14">because you have full control about what</span> <span data-start="513.14" data-end="515.93">you want to display so you can can do</span> <span data-start="515.93" data-end="518.719">anything but seriously for code editor I</span> <span data-start="518.719" data-end="521.419">don't care if I can do fancy stuff I</span> <span data-start="521.419" data-end="523.76">just need some some rectangles and lines</span> <span data-start="523.76" data-end="525.65">and text so I don't really need all of</span> <span data-start="525.65" data-end="528.86">this and it also means that you you</span> <span data-start="528.86" data-end="532.839">cannot run it on all current ie versions</span> <span data-start="532.839" data-end="536.089">excluding the but except the ie9 beta</span> <span data-start="536.089" data-end="540.08">but that's not all yet another point is</span> <span data-start="540.08" data-end="541.97">if you use canvas you have to implement</span> <span data-start="541.97" data-end="543.74">all the key and mouse interaction</span> <span data-start="543.74" data-end="546.2">yourself because there's nothing you can</span> <span data-start="546.2" data-end="548.9">you can use leverage but that's not</span> <span data-start="548.9" data-end="550.37">actually a bad thing because it means</span> <span data-start="550.37" data-end="553.19">you can do you have full control over</span> <span data-start="553.19" data-end="556.73">everything what happens I know my very</span> <span data-start="556.73" data-end="559.31">unscientific big o-notation is the</span> <span data-start="559.31" data-end="561.44">canvas Kay it's roughly where the number</span> <span data-start="561.44" data-end="563.6">of visible pixels that means if you have</span> <span data-start="563.6" data-end="565.97">a small canvas it's all good and fine if</span> <span data-start="565.97" data-end="567.62">the canvas is really big</span> <span data-start="567.62" data-end="572.62">yeah well that's it's going to be slower</span> <span data-start="572.62" data-end="575.69">and then there's pure Dom so what is</span> <span data-start="575.69" data-end="578">pure don't give us give us drawing text</span> <span data-start="578" data-end="580.91">lines drawing text drawing lines drawing</span> <span data-start="580.91" data-end="583.55">rectangles all with different colors</span> <span data-start="583.55" data-end="588.26">borders that's all we need so it should</span> <span data-start="588.26" data-end="592.49">be able to be done but also like with</span> <span data-start="592.49" data-end="594.38">the canvas since we are not using a</span> <span data-start="594.38" data-end="599.45">predefined editor form we have to do all</span> <span data-start="599.45" data-end="602.54">the all the event stuff ourselves so</span> <span data-start="602.54" data-end="605.69">have to define exactly what happens if</span> <span data-start="605.69" data-end="608.99">you do shift cursor down or shift page</span> <span data-start="608.99" data-end="612.23">up and control left control right all</span> <span data-start="612.23" data-end="614.51">this has to be implemented manually the</span> <span data-start="614.51" data-end="618.02">same is for most interaction and the</span> <span data-start="618.02" data-end="621.23">naive implementation scales roughly with</span> <span data-start="621.23" data-end="623.3">a number of lines in the document so the</span> <span data-start="623.3" data-end="625.91">naive implementation would be put</span> <span data-start="625.91" data-end="628.81">everything in one big HTML document</span> <span data-start="628.81" data-end="630.8">which means if you have a very large</span> <span data-start="630.8" data-end="634.52">document the speed degrades but there's</span> <span data-start="634.52" data-end="637.31">a better way to do this which scales</span> <span data-start="637.31" data-end="638.96">with the number of visible lines which</span> <span data-start="638.96" data-end="643.22">is much much nicer so and this is by</span> <span data-start="643.22" data-end="645.68">using a virtual viewport so the idea is</span> <span data-start="645.68" data-end="649.19">really simple you always only see a</span> <span data-start="649.19" data-end="652.04">small fraction of the of the document so</span> <span data-start="652.04" data-end="654.26">there's no reason to generate any HTML</span> <span data-start="654.26" data-end="657.05">markup for the whole document you can</span> <span data-start="657.05" data-end="659.54">just render generate the HTML markup for</span> <span data-start="659.54" data-end="662.06">the the viewport for the thing that you</span> <span data-start="662.06" data-end="666.38">see so as I said rendering a full</span> <span data-start="666.38" data-end="668.78">document and Dom doesn't scale so we</span> <span data-start="668.78" data-end="670.73">only render the visible rows and if we</span> <span data-start="670.73" data-end="674.96">scroll like this we just always update</span> <span data-start="674.96" data-end="677.23">the contents so the updating itself of</span> <span data-start="677.23" data-end="679.79">course is a little bit expensive because</span> <span data-start="679.79" data-end="683.72">we have to really easy to implement so</span> <span data-start="683.72" data-end="687.11">our Endre we have a strategy of reuse of</span> </p>
<p><span data-start="687.11" data-end="690.08">Dom for drawing only so we don't store</span> <span data-start="690.08" data-end="692.84">any state in the DOM and we never read</span> <span data-start="692.84" data-end="695.87">the Dom so we just use the Dom as a</span> <span data-start="695.87" data-end="698.42">painting API like we would do with SVG</span> <span data-start="698.42" data-end="704.78">always over canvas right now by using</span> <span data-start="704.78" data-end="707.54">the Dom we can we can use the the</span> <span data-start="707.54" data-end="710.09">composition features of the Dom so like</span> <span data-start="710.09" data-end="712.76">we can have different layers which are</span> <span data-start="712.76" data-end="715.16">divs which are stacked behind each other</span> <span data-start="715.16" data-end="716.75">and each of the layers can draw a</span> <span data-start="716.75" data-end="720.32">different element of the of the document</span> <span data-start="720.32" data-end="721.85">like we have a layer for the selection</span> <span data-start="721.85" data-end="723.44">we have a layer for the curves or we</span> <span data-start="723.44" data-end="725.12">have a layer for the text and if you</span> <span data-start="725.12" data-end="726.77">move the cursor you only have to update</span> <span data-start="726.77" data-end="728.57">the cursor layer and you don't have to</span> <span data-start="728.57" data-end="731.06">update the text so it's really efficient</span> <span data-start="731.06" data-end="733.31">to to change the selection or to move</span> <span data-start="733.31" data-end="734.81">the cursor because it doesn't</span> <span data-start="734.81" data-end="740">of any any costly operations and then</span> <span data-start="740" data-end="741.95">you just put it all on top of each other</span> <span data-start="741.95" data-end="747.8">and that's how the editor looks like of</span> <span data-start="747.8" data-end="752.089">course I'd like to to show you some of</span> <span data-start="752.089" data-end="760.7">the features of the editor not perfect</span> <span data-start="760.7" data-end="764.45">yet okay so now we have an HTML document</span> <span data-start="764.45" data-end="766.339">so one of the features of the document</span> <span data-start="766.339" data-end="768.68">the editor is that it looks like</span> <span data-start="768.68" data-end="771.2">highlighting of course but it also has</span> <span data-start="771.2" data-end="773.63">nested syntax highlighting like we have</span> <span data-start="773.63" data-end="775.94">an HTML file but then there is a CSS</span> <span data-start="775.94" data-end="778.339">block and we switch the son expediting</span> <span data-start="778.339" data-end="781.01">mode to CSS and a little bit further</span> <span data-start="781.01" data-end="785.089">down we have a script mark and the</span> <span data-start="785.089" data-end="788.15">inside of the script block we switch the</span> <span data-start="788.15" data-end="790.82">highlighting to use javascript</span> <span data-start="790.82" data-end="792.98">highlighting and then we as I said I</span> <span data-start="792.98" data-end="796.3">want to have all the the features that a</span> <span data-start="796.3" data-end="799.64">normal code editor gives me like let's</span> <span data-start="799.64" data-end="804.14">assume I want to indent this within the</span> <span data-start="804.14" data-end="808.16">script block so I can select this hit</span> <span data-start="808.16" data-end="810.38">tab so I can all to indent it okay</span> <span data-start="810.38" data-end="813.71">that's much nicer and let's say okay the</span> <span data-start="813.71" data-end="817.22">on resize method I think has a buck so</span> <span data-start="817.22" data-end="821.33">what I usually do is I create a copy of</span> <span data-start="821.33" data-end="823.49">this as a reference and then comment it</span> <span data-start="823.49" data-end="828.11">out and I say okay let's do something</span> <span data-start="828.11" data-end="833.96">else the Lord as you see the cursor</span> <span data-start="833.96" data-end="835.61">jumps to the right position so we have</span> <span data-start="835.61" data-end="837.98">auto indenting so usually in a normal</span> <span data-start="837.98" data-end="839.81">text editor or in the normal text field</span> <span data-start="839.81" data-end="841.67">to cover jump to the beginning of the</span> <span data-start="841.67" data-end="845.3">line and I'm closing it and I have</span> <span data-start="845.3" data-end="849.02">authorization and also you see I don't</span> <span data-start="849.02" data-end="850.67">know if it's visible that it's</span> <span data-start="850.67" data-end="853.57">highlighting the matching parentheses</span> <span data-start="853.57" data-end="857.69">okay well well that's not really fixed</span> <span data-start="857.69" data-end="861.11">thing so I can its reverted so it also</span> <span data-start="861.11" data-end="864.47">has full undo stack and this is of</span> <span data-start="864.47" data-end="865.61">course something that you have to</span> <span data-start="865.61" data-end="867.83">implement yourself as well because our</span> <span data-start="867.83" data-end="868.75">we are not</span> <span data-start="868.75" data-end="872.29">is just dumb notes and all the the</span> <span data-start="872.29" data-end="874.27">changes are just changes through the Dom</span> <span data-start="874.27" data-end="878.44">by reacting on the events also the cause</span> <span data-start="878.44" data-end="881.8">is just a blip a small diff that's</span> <span data-start="881.8" data-end="887.71">hidden and shown again it again and the</span> <span data-start="887.71" data-end="889.99">other thing was yeah I claimed that</span> <span data-start="889.99" data-end="891.49">should be able to handle really large</span> <span data-start="891.49" data-end="895.18">files so this is a file from from our</span> <span data-start="895.18" data-end="898.21">project that's I think it's generated</span> <span data-start="898.21" data-end="901.33">but it has like like sixteen thousand</span> <span data-start="901.33" data-end="903.4">files so in scrolling in this in this</span> <span data-start="903.4" data-end="906.54">file and opening it a writing code in it</span> <span data-start="906.54" data-end="911.7">that's really no difference to a file</span> <span data-start="911.7" data-end="916.18">which is which is only 20 or 100 aligns</span> <span data-start="916.18" data-end="918.58">long because all that matters for our</span> <span data-start="918.58" data-end="921.22">father for scaling is how big the</span> <span data-start="921.22" data-end="923.44">viewport is so if I hadn't had a really</span> <span data-start="923.44" data-end="926.08">large screen then of course crawling and</span> <span data-start="926.08" data-end="928.33">doing stuff would be would be slower</span> <span data-start="928.33" data-end="930.7">because I have to riri render stuff but</span> <span data-start="930.7" data-end="933.31">this is this it it is even bigger for</span> <span data-start="933.31" data-end="937.75">for using canvas canvas degrades for</span> <span data-start="937.75" data-end="939.85">really large screens a lot more than</span> <span data-start="939.85" data-end="943.03">than the Dom and we only are concerned</span> <span data-start="943.03" data-end="946.81">about the the vertical hate and not</span> <span data-start="946.81" data-end="956.44">about the horizontal width alright so</span> <span data-start="956.44" data-end="965.32">this is the editor yeah plugins to have</span> <span data-start="965.32" data-end="967.27">an IDE to be really successful you need</span> <span data-start="967.27" data-end="970.69">a way to to plug in external external</span> <span data-start="970.69" data-end="973.21">functionality because there is no way</span> <span data-start="973.21" data-end="975.28">that a small company like Ajax orc and</span> <span data-start="975.28" data-end="977.29">could implement all the functionality</span> <span data-start="977.29" data-end="980.86">that any developer would want so we can</span> <span data-start="980.86" data-end="983.14">concentrate on the core features and</span> <span data-start="983.14" data-end="986.23">everything else should be plugins and in</span> <span data-start="986.23" data-end="988.6">this case we designed it so everything</span> <span data-start="988.6" data-end="990.85">as a plugin search as a plugin file</span> <span data-start="990.85" data-end="992.56">system as a plug in the new file</span> <span data-start="992.56" data-end="995.02">dialogues plug-in even the editor is a</span> <span data-start="995.02" data-end="996.91">plug-in so if you don't like the editor</span> <span data-start="996.91" data-end="999.63">you can replace it with a different one</span> <span data-start="999.63" data-end="1002.79">the language mods are Plex plugins</span> <span data-start="1002.79" data-end="1005.21">the syntax highlighting and indentation</span> <span data-start="1005.21" data-end="1010.65">stuff like this all these are plugins so</span> <span data-start="1010.65" data-end="1013.65">and the plug-in is very simple it's just</span> <span data-start="1013.65" data-end="1016.8">a JavaScript file for the client code</span> <span data-start="1016.8" data-end="1019.14">it's JavaScript for the server-side code</span> <span data-start="1019.14" data-end="1021.27">since we're running a note and it's some</span> </p>
<p><span data-start="1021.27" data-end="1026.16">XML to describe the UI and we at Ajax</span> <span data-start="1026.16" data-end="1029.28">org we have a UI framework called APF</span> <span data-start="1029.28" data-end="1032.699">Atrix or platform which we use to build</span> <span data-start="1032.699" data-end="1036.209">this application and this XML is on HX</span> <span data-start="1036.209" data-end="1039.39">or platform XML that you need to to</span> <span data-start="1039.39" data-end="1045.06">write the UI so I've prepared a little</span> <span data-start="1045.06" data-end="1053.31">video so it's it's poisonous so to give</span> <span data-start="1053.31" data-end="1054.74">you some context what's happening now</span> <span data-start="1054.74" data-end="1057.84">what's happening now is that we are</span> <span data-start="1057.84" data-end="1060.8">going to write a small plugin which</span> <span data-start="1060.8" data-end="1062.94">takes the current selection in the</span> <span data-start="1062.94" data-end="1067.5">editor which should be JSON and does a</span> <span data-start="1067.5" data-end="1069.42">pretty printing of the selection so</span> <span data-start="1069.42" data-end="1072.6">essentially it does a a JSON pass and</span> <span data-start="1072.6" data-end="1074.94">then json stringify with the indentation</span> <span data-start="1074.94" data-end="1080.28">string so what you see here it's just</span> <span data-start="1080.28" data-end="1082.05">the template you have the JavaScript</span> <span data-start="1082.05" data-end="1088.17">file for the client-side code it's a</span> <span data-start="1088.17" data-end="1090.48">template so we replace template with a</span> <span data-start="1090.48" data-end="1100.55">format Jason right we save the file and</span> <span data-start="1100.55" data-end="1103.29">the UI in this case is an empty window</span> <span data-start="1103.29" data-end="1108.12">so and we add to this window VBox for</span> <span data-start="1108.12" data-end="1111">for the controls for the controls we</span> <span data-start="1111" data-end="1112.77">want in and the if you click the button</span> <span data-start="1112.77" data-end="1116.07">it would call it will actually call the</span> <span data-start="1116.07" data-end="1120.11">format function in the JavaScript file</span> <span data-start="1120.11" data-end="1126.12">it's ok no so now we are going to write</span> <span data-start="1126.12" data-end="1127.68">the the format function it takes this</span> <span data-start="1127.68" data-end="1131.549">argument invitation</span> <span data-start="1131.559" data-end="1139.269">it takes the current editor so it picks</span> <span data-start="1139.269" data-end="1143.08">the current editor and to do this we</span> <span data-start="1143.08" data-end="1144.899">need a little little information we need</span> <span data-start="1144.899" data-end="1150.61">some of the editor API and so we are we</span> <span data-start="1150.61" data-end="1152.74">are accessing there the range object</span> <span data-start="1152.74" data-end="1155.44">like you see this is all using requirejs</span> <span data-start="1155.44" data-end="1161.529">to to load the files ok so this is the</span> <span data-start="1161.529" data-end="1162.869">code</span> <span data-start="1162.869" data-end="1168.309">stop it a moment and here you see the</span> <span data-start="1168.309" data-end="1171.429">actual like business logic json</span> <span data-start="1171.429" data-end="1174.429">stringify json.parse with indentation as</span> <span data-start="1174.429" data-end="1182.019">third argument and at the bottom we yeah</span> <span data-start="1182.019" data-end="1184.149">we get the range we get the value from</span> <span data-start="1184.149" data-end="1186.97">the range stringify it and then we do</span> <span data-start="1186.97" data-end="1189.19">document replace and then we update the</span> <span data-start="1189.19" data-end="1194.259">selection ok and now the button the</span> <span data-start="1194.259" data-end="1196.029">bottom there's a little bit of like</span> <span data-start="1196.029" data-end="1197.559">lifecycle management so there are</span> <span data-start="1197.559" data-end="1199.539">functions which are called when the</span> <span data-start="1199.539" data-end="1202.69">plug-in is enabled disabled initialize</span> <span data-start="1202.69" data-end="1209.139">and stuff like that ok so so the UI is</span> <span data-start="1209.139" data-end="1216.249">completed yeah now we are gone we can go</span> <span data-start="1216.249" data-end="1219.309">to the plugin manager and since we edit</span> <span data-start="1219.309" data-end="1222.58">this within the IDE we can immediately</span> <span data-start="1222.58" data-end="1225.159">enable the plugin so we add the plugin</span> <span data-start="1225.159" data-end="1227.74">requirejs loads the plugin that we just</span> <span data-start="1227.74" data-end="1229.509">just written and now the plug-in is</span> <span data-start="1229.509" data-end="1237.019">enabled and now let's go to in JSON file</span> <span data-start="1237.029" data-end="1242.679">and there's the menu option and here we</span> <span data-start="1242.679" data-end="1247.29">go so that's</span> <span data-start="1247.29" data-end="1251.94">how how the how essentially all of the</span> <span data-start="1251.94" data-end="1254.49">idea is implemented all of the IDE core</span> <span data-start="1254.49" data-end="1256.28">functionality besides the basic</span> <span data-start="1256.28" data-end="1259.71">workspace is done using plugins like</span> <span data-start="1259.71" data-end="1269.13">this oh all right so now let's go to the</span> <span data-start="1269.13" data-end="1272.31">debugger how would you do debugging in</span> <span data-start="1272.31" data-end="1274.41">the cloud so that is a big big question</span> <span data-start="1274.41" data-end="1276.66">because if you host something in the</span> <span data-start="1276.66" data-end="1279.3">cloud and run it on the server</span> <span data-start="1279.3" data-end="1281.25">how can you debug the code that's</span> <span data-start="1281.25" data-end="1285.21">running on the server and this is really</span> <span data-start="1285.21" data-end="1289.08">crucial because if you don't really have</span> <span data-start="1289.08" data-end="1290.52">a handle to the application you can</span> <span data-start="1290.52" data-end="1292.44">really touch it so we need a way to</span> <span data-start="1292.44" data-end="1294.9">expose that and the way we are doing</span> <span data-start="1294.9" data-end="1298.41">this is by using the v8 debugger</span> <span data-start="1298.41" data-end="1301.41">protocol which node fortunately supports</span> <span data-start="1301.41" data-end="1304.65">so what we do is we the IDE server</span> <span data-start="1304.65" data-end="1307.65">starts a node process with the dash dash</span> <span data-start="1307.65" data-end="1310.52">debug argument and then connects to the</span> <span data-start="1310.52" data-end="1314.13">debugger port was a small TCP client and</span> <span data-start="1314.13" data-end="1317.91">the IDE server then simply proxies the</span> <span data-start="1317.91" data-end="1322.05">debugger protocol over socket IO which</span> <span data-start="1322.05" data-end="1325.35">is a really nice framework to do to do</span> <span data-start="1325.35" data-end="1327.9">server push from the server to the</span> <span data-start="1327.9" data-end="1332.01">client to proxy the v8 protocol to the</span> <span data-start="1332.01" data-end="1333.96">client and essentially the client</span> <span data-start="1333.96" data-end="1336.21">implements the whole via a debugger</span> <span data-start="1336.21" data-end="1338.58">protocol handling it passes the messages</span> <span data-start="1338.58" data-end="1341.73">and keeps the state and stuff and also</span> <span data-start="1341.73" data-end="1345.69">issues commands to the debugger so this</span> <span data-start="1345.69" data-end="1349.07">is how we can debug the node application</span> <span data-start="1349.07" data-end="1353.82">so there's one missing link that is what</span> <span data-start="1353.82" data-end="1356.03">if you want to also debug the</span> <span data-start="1356.03" data-end="1358.5">client-side application like the</span> <span data-start="1358.5" data-end="1360.84">javascript in the browser so there is a</span> <span data-start="1360.84" data-end="1363.57">way to do this but it's a little bit</span> <span data-start="1363.57" data-end="1366.99">tricky to get to get to get it running</span> <span data-start="1366.99" data-end="1369.81">because and that is by using chrome</span> <span data-start="1369.81" data-end="1372.99">chrome also exposes the same debugger</span> <span data-start="1372.99" data-end="1374.94">protocol but first of all chrome is we</span> <span data-start="1374.94" data-end="1376.83">started with a command line argument so</span> <span data-start="1376.83" data-end="1377.79">you have the way</span> <span data-start="1377.79" data-end="1379.92">have to have a way to start chrome and</span> <span data-start="1379.92" data-end="1382.5">then well you need to need a way to</span> <span data-start="1382.5" data-end="1386.54">connect to the Chrome browser which is</span> <span data-start="1386.54" data-end="1389.01">which is freaky because the server</span> <span data-start="1389.01" data-end="1391.47">cannot do it so the client has to do it</span> <span data-start="1391.47" data-end="1393.54">and to do this the client would have to</span> <span data-start="1393.54" data-end="1398.22">have a plug-in or something ok but so we</span> <span data-start="1398.22" data-end="1400.29">had a prototype showing showing chrome</span> <span data-start="1400.29" data-end="1402.9">debugging but it's not in the IDE yet so</span> <span data-start="1402.9" data-end="1404.58">this is something that that's going to</span> <span data-start="1404.58" data-end="1413.01">come ok let's do a small demo again so</span> <span data-start="1413.01" data-end="1414.87">this is really the most exciting demo</span> <span data-start="1414.87" data-end="1421.05">for me okay so let's go back to our our</span> <span data-start="1421.05" data-end="1428.99">application that we've written before I</span> <span data-start="1428.99" data-end="1440.41">happen to have this open let's</span> <span data-start="1440.42" data-end="1453.14">running okay</span> <span data-start="1453.15" data-end="1466.06">all right</span> <span data-start="1466.07" data-end="1469.71">okay we put it here so we can see it can</span> <span data-start="1469.71" data-end="1478.299">hit it reload</span> <span data-start="1478.309" data-end="1483.27">all right ah so but but instead of</span> <span data-start="1483.27" data-end="1485.73">hitting run we can also hit debug what</span> <span data-start="1485.73" data-end="1488.429">this does is it makes the viewport very</span> <span data-start="1488.429" data-end="1491.28">small but also it starts the node</span> <span data-start="1491.28" data-end="1493.26">process with was a debugger argument and</span> <span data-start="1493.26" data-end="1496.92">connects to it so what I can do now is I</span> <span data-start="1496.92" data-end="1499.44">can set a breakpoint here and if I hit</span> <span data-start="1499.44" data-end="1506.34">reload I can it breaks at this</span> <span data-start="1506.34" data-end="1508.05">breakpoint I can just stuff like</span> <span data-start="1508.05" data-end="1510.66">navigating the call stack let's see it's</span> <span data-start="1510.66" data-end="1513.3">called by event emitter and this comes</span> <span data-start="1513.3" data-end="1518.46">from HTTP and this comes from socket and</span> <span data-start="1518.46" data-end="1521.94">this also shows our code that you know</span> <span data-start="1521.94" data-end="1523.86">that you usually don't see on the on the</span> <span data-start="1523.86" data-end="1527.1">hard disk because because it's compiled</span> <span data-start="1527.1" data-end="1529.05">into note but the debugger where our</span> <span data-start="1529.05" data-end="1531.809">protocol also exposes it and what you</span> <span data-start="1531.809" data-end="1534.45">can do as well is let's go back of</span> <span data-start="1534.45" data-end="1538.44">course also inspect the local the local</span> <span data-start="1538.44" data-end="1542.07">scope like you can go to the request can</span> <span data-start="1542.07" data-end="1544.08">take a look at the headers stuff like</span> <span data-start="1544.08" data-end="1549.36">that well and then of course you can do</span> <span data-start="1549.36" data-end="1552">stuff like step into this little bit</span> <span data-start="1552" data-end="1555.15">smaller so I'm now stepping into into</span> <span data-start="1555.15" data-end="1556.71">node I'm not really interesting I can</span> <span data-start="1556.71" data-end="1559.98">step out and then I can say okay let's</span> <span data-start="1559.98" data-end="1564.51">continue so this is how can do debugging</span> <span data-start="1564.51" data-end="1566.88">but there's also one one</span> <span data-start="1566.88" data-end="1568.32">so that makes it a little bit more</span> <span data-start="1568.32" data-end="1640.51">interesting to you</span> <span data-start="1640.52" data-end="1645.78">and I can click on it and inspect it but</span> </p>
<p><span data-start="1645.78" data-end="1647.91">I cannot only inspect stuff I can also</span> <span data-start="1647.91" data-end="1652.16">change stuff like I can say message is</span> <span data-start="1652.16" data-end="1658.62">Yahoo Jay is Cohen so what this means I</span> <span data-start="1658.62" data-end="1660.75">evaluate this code in the current</span> <span data-start="1660.75" data-end="1662.97">context that means I'm changing the</span> <span data-start="1662.97" data-end="1665.43">variable in the closure and if I</span> <span data-start="1665.43" data-end="1676.07">continue now you see Yahoo J's comes</span> <span data-start="1676.08" data-end="1682.049">I pretty amazing yeah so let's let's</span> <span data-start="1682.049" data-end="1685.23">continue and if I reload of course now</span> <span data-start="1685.23" data-end="1687.059">it will always return you who JS count</span> <span data-start="1687.059" data-end="1690.7">because it's now stalled in the closure</span> <span data-start="1690.71" data-end="1695.519">so it is so but but this is this is just</span> <span data-start="1695.519" data-end="1697.59">the beginning you've seen that still has</span> <span data-start="1697.59" data-end="1699.809">a lot of edge cases it's not not a</span> <span data-start="1699.809" data-end="1703.049">product yet but I still think it's nice</span> <span data-start="1703.049" data-end="1704.88">to show what you can actually do in</span> <span data-start="1704.88" data-end="1707.37">running stuff on the web at the moment</span> <span data-start="1707.37" data-end="1710.46">this runs totally locally so there's</span> <span data-start="1710.46" data-end="1711.929">something you can install locally on</span> <span data-start="1711.929" data-end="1715.44">your machine and then immediately start</span> <span data-start="1715.44" data-end="1717.289">working on your code on your machine</span> <span data-start="1717.289" data-end="1725.82">yeah we have an nvm package yes and yes</span> <span data-start="1725.82" data-end="1733.72">you can install it with an NB a —  npm</span> <span data-start="1733.73" data-end="1736.95">right so that was the demo so we can</span> <span data-start="1736.95" data-end="1739.62">come over closing words so our vision is</span> <span data-start="1739.62" data-end="1742.44">to be to eclipse with Google Docs is to</span> <span data-start="1742.44" data-end="1744.33">word that means all the important</span> <span data-start="1744.33" data-end="1746.88">features plus all the features all the</span> <span data-start="1746.88" data-end="1750.299">benefits of being in the cloud so we</span> <span data-start="1750.299" data-end="1752.279">really want the next step will be to</span> <span data-start="1752.279" data-end="1754.889">move this on to the hosted servers to</span> <span data-start="1754.889" data-end="1756.51">run it directly from the server at the</span> <span data-start="1756.51" data-end="1760.74">moment it's all local and we would like</span> <span data-start="1760.74" data-end="1763.919">to thank the community since we are</span> <span data-start="1763.919" data-end="1765.75">using a lot of stuff that you guys have</span> <span data-start="1765.75" data-end="1769.409">built we are using connect as node web</span> <span data-start="1769.409" data-end="1771.029">framework we use socket iOS to</span> <span data-start="1771.029" data-end="1773.7">communicate from service server to</span> <span data-start="1773.7" data-end="1776.88">client of course we use nodejs and we</span> <span data-start="1776.88" data-end="1779.46">use requirejs to to do the the</span> <span data-start="1779.46" data-end="1781.2">client-side loading and plug-in loading</span> <span data-start="1781.2" data-end="1784.769">and I really love to use requirejs I</span> <span data-start="1784.769" data-end="1787.169">would even love it more if I could use</span> <span data-start="1787.169" data-end="1790.169">requires modules directly a note that's</span> <span data-start="1790.169" data-end="1793.74">maybe that's happening and then of</span> <span data-start="1793.74" data-end="1795.75">course we are also contributing stuff</span> <span data-start="1795.75" data-end="1798.83">back there's a lot of code that we</span> <span data-start="1798.83" data-end="1801.149">release as open source as well or</span> <span data-start="1801.149" data-end="1803.22">maintained as open source that's for one</span> </p>
<p><span data-start="1803.22" data-end="1806.76">APF the UI framework that's junior staff</span> <span data-start="1806.76" data-end="1807.26">there</span> <span data-start="1807.26" data-end="1809.27">my colleague Mike has done it's a</span> <span data-start="1809.27" data-end="1813.77">node-based web dev server which we use</span> <span data-start="1813.77" data-end="1816.53">to use the file system stuff for the</span> <span data-start="1816.53" data-end="1819.14">file system tree we have not all three</span> <span data-start="1819.14" data-end="1821.48">XML we're not using it yet</span> <span data-start="1821.48" data-end="1826.22">it's a wrapper for lip XML and a fast</span> <span data-start="1826.22" data-end="1830.6">wrapper for Pugi XML which is very fast</span> <span data-start="1830.6" data-end="1832.25">it's in the library with a slightly</span> <span data-start="1832.25" data-end="1834.62">limited feature set we're going to use</span> <span data-start="1834.62" data-end="1836.63">not github that github that's a library</span> <span data-start="1836.63" data-end="1838.76">that I've written to access the github</span> </p>
<p><span data-start="1838.76" data-end="1842.09">API and we using async s it's a very</span> <span data-start="1842.09" data-end="1844.97">small library by me too which basically</span> <span data-start="1844.97" data-end="1848.12">wraps the the note filesystem API on top</span> <span data-start="1848.12" data-end="1852.08">of this we are releasing the full editor</span> <span data-start="1852.08" data-end="1854.18">source code today as open source which</span> <span data-start="1854.18" data-end="1855.8">also contains implementation of the</span> <span data-start="1855.8" data-end="1860.89">debugger the 80 bug our protocol oh</span> <span data-start="1860.89" data-end="1862.37">that's not it</span> <span data-start="1862.37" data-end="1865.16">so we also release the full source code</span> <span data-start="1865.16" data-end="1868.07">of the IDE today so you can go now to</span> <span data-start="1868.07" data-end="1871.88">get up check out the source code it will</span> <span data-start="1871.88" data-end="1875.21">probably break in in in a lot of cases</span> <span data-start="1875.21" data-end="1878.06">but you can try try to take a look at</span> <span data-start="1878.06" data-end="1882.77">the source code and hang on it so the</span> <span data-start="1882.77" data-end="1885.17">servers are up and the project on github</span> <span data-start="1885.17" data-end="1888.97">are open now so really would like to</span> <span data-start="1888.97" data-end="1892.49">like you to join us in building the Java</span> </p>
<p><span data-start="1892.49" data-end="1895.76">Script IDE for Java Script / developers</span> <span data-start="1895.76" data-end="1897.56">why JavaScript developers that's our</span> <span data-start="1897.56" data-end="1901.31">vision and that's it</span> <span data-start="1901.31" data-end="1912.87">thank you</span> <span data-start="1912.88" data-end="1915.539">okay</span> <span data-start="1915.549" data-end="1917.799">are there any questions</span> <span data-start="1917.799" data-end="1923.179">Martin the idea itself will at the</span> <span data-start="1923.179" data-end="1925.99">beginning be GPL</span> <span data-start="1925.99" data-end="1931.57">the editor and the no debugger are LGPL</span> <span data-start="1931.57" data-end="1935.69">now we are considering in using more</span> <span data-start="1935.69" data-end="1937.37">liberal license later but at the moment</span> <span data-start="1937.37" data-end="1940.52">we want to want to stick to two GPL for</span> <span data-start="1940.52" data-end="1949.73">the ID yes yeah one one of the design</span> <span data-start="1949.73" data-end="1952.94">goals for the editor was to not have a</span> <span data-start="1952.94" data-end="1954.83">big dependency on anything else the</span> <span data-start="1954.83" data-end="1956.059">editor itself has no external</span> <span data-start="1956.059" data-end="1957.95">dependencies besides require.js</span> <span data-start="1957.95" data-end="1963.559">so we don't use any external now we are</span> <span data-start="1963.559" data-end="1967.33">not doing it right now but we are really</span> <span data-start="1967.33" data-end="1969.679">really want to have this in the future</span> <span data-start="1969.679" data-end="1972.169">that you have some collaboration on code</span> <span data-start="1972.169" data-end="1975.14">editing that's part of our plan it's not</span> <span data-start="1975.14" data-end="1991.359">implemented yet it was yeah</span> <span data-start="1991.369" data-end="1994.919">yes we do want this we don't have it now</span> <span data-start="1994.919" data-end="1996.84">at the moment it's something you can</span> <span data-start="1996.84" data-end="1999.269">install on your PC and edit your local</span> <span data-start="1999.269" data-end="2001.94">files with the local file server but we</span> <span data-start="2001.94" data-end="2003.799">definitely want you to make it a hosted</span> <span data-start="2003.799" data-end="2005.989">service and we definitely want to have</span> <span data-start="2005.989" data-end="2007.489">some collaboration features where you</span> <span data-start="2007.489" data-end="2009.98">can work on the same source code maybe</span> <span data-start="2009.98" data-end="2013.61">with a chat window on the side at the</span> <span data-start="2013.61" data-end="2022.309">same time yes I'm pretty sure it's not</span> <span data-start="2022.309" data-end="2026.929">working on the iPad it's I haven't</span> <span data-start="2026.929" data-end="2030.46">tested the iPad yet but since we are</span> <span data-start="2030.46" data-end="2038.379">going heavily on the UI interactions to</span> <span data-start="2038.379" data-end="2041.6">interpret what's happening manually I'm</span> <span data-start="2041.6" data-end="2043.249">pretty sure it's not working on the iPad</span> <span data-start="2043.249" data-end="2044.869">yet but if you want to make it work on</span> <span data-start="2044.869" data-end="2046.96">the iPad but we would be really happy</span> <span data-start="2046.96" data-end="2055.669">sir alright then thank you for listening</span> </p>
</section>

<!-- div#container ends -->
</div>

<img alt="The End" id="fin" src="../images/fin.jpg">

<script>
/*eslint-disable */
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google-translate');
}
/* eslint-enable */
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="../js/main.js"></script>

</body>

</html>
