<!DOCTYPE html>

<!--
Copyright 2019 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="//google.com">
  <meta name="description" content="web.dev LIVE video transcript">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>hAZWYtTP4Tw</title>
  <link rel="stylesheet" href="../css/main.css">
</head>

<body>

<iframe id="youtube" src="https://www.youtube.com/embed/hAZWYtTP4Tw?enablejsapi=1"></iframe>

<div id="container">

<div id="options">
  <div id="google-translate"></div>
  <div>
    <input type="checkbox" id="videoSticky" checked>
    <label for="videoSticky">Video position sticky</label>
  </div>
  <div>
    <input type="checkbox" id="captionScroll" checked>
    <label for="captionScroll">Keep current caption visible</label>
  </div>
</div>

<section>
<p><span data-start="19.22" data-end="21.57">so this isn't going to be like</span> <span data-start="21.57" data-end="23.49">generating sounds and cool stuff like</span> <span data-start="23.49" data-end="25.17">that you can find those on the internet</span> <span data-start="25.17" data-end="29.07">this is going to be kind of ramp tea I</span> <span data-start="29.07" data-end="36.57">hope I don't make the mics crackle so my</span> <span data-start="36.57" data-end="38.91">name is Blaine bublitz you can find me</span> <span data-start="38.91" data-end="41.61">on github at faded if you can't remember</span> <span data-start="41.61" data-end="49.4">that it's fat ed and I started a company</span> <span data-start="49.4" data-end="52.08">it's not last December this December</span> <span data-start="52.08" data-end="54.03">before with my business partner Louie</span> <span data-start="54.03" data-end="55.26">you might have saw us talk earlier it's</span> <span data-start="55.26" data-end="56.94">called ice dev we do javascript</span> <span data-start="56.94" data-end="60.059">consulting and html5 gaming we're always</span> <span data-start="60.059" data-end="62.22">looking for awesome fun projects so if</span> <span data-start="62.22" data-end="64.71">you have anything hit me up we also have</span> <span data-start="64.71" data-end="68.46">fantastic shirts to give away limited</span> <span data-start="68.46" data-end="74.07">edition and I want to give all of them</span> <span data-start="74.07" data-end="78.42">away so find me and and take a shirt we</span> <span data-start="78.42" data-end="79.799">have an open source game engine called</span> <span data-start="79.799" data-end="82.859">frozen j/s and we've been working on it</span> <span data-start="82.859" data-end="84.57">really hard for the last five months</span> <span data-start="84.57" data-end="86.939">we've put out four versions in that time</span> <span data-start="86.939" data-end="90.299">and we're really proud of it we want to</span> <span data-start="90.299" data-end="92.25">actually start like making games for</span> <span data-start="92.25" data-end="94.859">money but right now we're consulting go</span> <span data-start="94.859" data-end="98.039">use it submit issues tell us what's</span> <span data-start="98.039" data-end="100.619">wrong with it stuff like that we also</span> <span data-start="100.619" data-end="102.39">have awesome stickers that look like</span> <span data-start="102.39" data-end="107.039">that so get them too and I run</span> <span data-start="107.039" data-end="109.229">hackathons Ian Phoenix where I'm from</span> <span data-start="109.229" data-end="112.409">and we did an html5 game hackathon in</span> </p>
<p><span data-start="112.409" data-end="115.92">December Arduino in March and if you</span> <span data-start="115.92" data-end="117.719">want to have awesome time and you're in</span> <span data-start="117.719" data-end="119.909">Phoenix or close to Fenix you should</span> <span data-start="119.909" data-end="121.53">definitely come out because we have tons</span> <span data-start="121.53" data-end="124.95">of prizes and also always looking for</span> <span data-start="124.95" data-end="130.229">sponsors so gather round everybody well</span> <span data-start="130.229" data-end="133.26">I tell you a story of ancient times when</span> <span data-start="133.26" data-end="135.209">the proprietary once ruled the world and</span> <span data-start="135.209" data-end="138.39">made us do horrible things like embed an</span> <span data-start="138.39" data-end="143.18">object until one day the html5 warriors</span> <span data-start="143.18" data-end="146.9">vanquished them and delivered unto us</span> <span data-start="146.9" data-end="149.29">multimedia</span> <span data-start="149.29" data-end="152.219">most of you explored the sunnylands of</span> <span data-start="152.219" data-end="156.549">the audio and video tag but very few</span> <span data-start="156.549" data-end="158.829">ventured into things such as web audio</span> <span data-start="158.829" data-end="164.019">and codecs and mobile I decided to take</span> <span data-start="164.019" data-end="165.549">on this challenge so I dawn my</span> <span data-start="165.549" data-end="170.17">adventurers gear and before I even began</span> <span data-start="170.17" data-end="172.599">my quest the great wizard bulto Gnaeus</span> <span data-start="172.599" data-end="175.81">uttered these words to me sound will age</span> <span data-start="175.81" data-end="180.849">you I i told him that i was going to be</span> <span data-start="180.849" data-end="185.709">working on sound and he was right sounds</span> <span data-start="185.709" data-end="187.239">are important we can all agree that</span> <span data-start="187.239" data-end="189.669">sounds are important if you've ever</span> <span data-start="189.669" data-end="191.62">watched a movie or a TV show or play the</span> <span data-start="191.62" data-end="193.239">game with the sound off it's not the</span> <span data-start="193.239" data-end="196.54">same when I was little I was scared of</span> </p>
<p><span data-start="196.54" data-end="200.95">Chucky so I turned off the air I muted</span> <span data-start="200.95" data-end="202.599">it and it's just a stupid doll running</span> <span data-start="202.599" data-end="204.31">around with a knife in his hand it's</span> <span data-start="204.31" data-end="206.98">kind of funny actually and I didn't plug</span> <span data-start="206.98" data-end="208.569">in the speaker thing so we're going to</span> <span data-start="208.569" data-end="212.23">do this really loud I kind of wanted to</span> <span data-start="212.23" data-end="216.519">play a game sounds are iconic if you can</span> <span data-start="216.519" data-end="218.379">hear these and you know them shout out</span> <span data-start="218.379" data-end="234.289">what you think they are yeah sonic nice</span> <span data-start="234.299" data-end="236.56">if I can die and there's pack men out</span> <span data-start="236.56" data-end="242.949">there yeah mega man dying yes so we all</span> <span data-start="242.949" data-end="245.519">right but a lot of us recognize them</span> <span data-start="245.519" data-end="248.049">they they really they bring you back to</span> <span data-start="248.049" data-end="249.25">a moment they bring you back to memories</span> <span data-start="249.25" data-end="251.709">sounds are iconic and they they add a</span> <span data-start="251.709" data-end="255.849">lot sounds are also very hard ask</span> <span data-start="255.849" data-end="258.97">anybody that does sound not just in the</span> <span data-start="258.97" data-end="265">browser but sounds are hard I don't know</span> <span data-start="265" data-end="266.5">why we haven't made it but why we</span> <span data-start="266.5" data-end="270.789">haven't made it easier so my perspective</span> <span data-start="270.789" data-end="272.74">is from frozen j/s which we've been</span> <span data-start="272.74" data-end="274.99">working on so it's coming from a games</span> <span data-start="274.99" data-end="277.24">perspective a lot of this talk will be</span> <span data-start="277.24" data-end="279.82">influenced by that and hopefully you can</span> <span data-start="279.82" data-end="281.68">take it and apply it to web apps stuff</span> <span data-start="281.68" data-end="283.469">like that</span> <span data-start="283.469" data-end="285.759">but i just wanted to point out that it's</span> <span data-start="285.759" data-end="289.99">towards games i guess so let's take a</span> <span data-start="289.99" data-end="291.879">look at like I said Web Audio verse</span> <span data-start="291.879" data-end="294.219">html5 audio like how to implement kind</span> <span data-start="294.219" data-end="296.8">of the same things in each codex how to</span> <span data-start="296.8" data-end="300.18">deal with codex that's you'll see and</span> <span data-start="300.18" data-end="304.569">mobile and that's where the ranting</span> <span data-start="304.569" data-end="309.039">comes in so so the first implementation</span> <span data-start="309.039" data-end="312.879">of frozen it had a sound implementation</span> <span data-start="312.879" data-end="318.699">but it was just Web Audio so that was</span> <span data-start="318.699" data-end="319.9">like the best foot forward this that's</span> <span data-start="319.9" data-end="325.18">the technology that we want to use but</span> <span data-start="325.18" data-end="327.31">it didn't have any fall back sword</span> <span data-start="327.31" data-end="328.9">enough nothing happen if you didn't have</span> <span data-start="328.9" data-end="332.56">web audio so my partner Louie</span> <span data-start="332.56" data-end="334.06">implemented it at the first</span> <span data-start="334.06" data-end="335.439">implementation and he did something</span> <span data-start="335.439" data-end="337.36">really he did something right right he</span> <span data-start="337.36" data-end="339.55">started with Web Audio like this</span> <span data-start="339.55" data-end="341.139">technology that they've developed for</span> <span data-start="341.139" data-end="343.27">for us for four games and stuff it says</span> <span data-start="343.27" data-end="346">in spec he did something horribly</span> <span data-start="346" data-end="348.55">horribly horribly wrong he only</span> <span data-start="348.55" data-end="351.279">implemented Web Audio and expected that</span> <span data-start="351.279" data-end="353.77">the browser vendors actually cared</span> <span data-start="353.77" data-end="356.919">enough to get it out quickly so you can</span> <span data-start="356.919" data-end="360.879">see by this can i use thing that chrome</span> <span data-start="360.879" data-end="364.69">has had it for a long time and it just</span> <span data-start="364.69" data-end="367.33">got into Safari and iOS Safari which is</span> <span data-start="367.33" data-end="368.949">really cool and it looks like it's</span> <span data-start="368.949" data-end="370.3">coming in Firefox it's actually a</span> <span data-start="370.3" data-end="374.139">nightly on flag right now and who knows</span> <span data-start="374.139" data-end="376.81">about ie it might it might not I don't</span> <span data-start="376.81" data-end="379.93">know and there's bugs open for firefox</span> </p>
<p><span data-start="379.93" data-end="382.96">Android I I definitely encourage you to</span> <span data-start="382.96" data-end="384.789">go there plus 1 then at least show</span> <span data-start="384.789" data-end="386.65">people or show the browser vendors that</span> <span data-start="386.65" data-end="388.479">we are that we want them that we need</span> <span data-start="388.479" data-end="393.039">them or that we need these api's so if</span> <span data-start="393.039" data-end="396.18">we start with Web Audio what do we get</span> <span data-start="396.18" data-end="399.789">things like very high performance low</span> <span data-start="399.789" data-end="402.4">latency so like you can fire a</span> <span data-start="402.4" data-end="404.5">thousandth of a second right like just</span> <span data-start="404.5" data-end="406.96">crazy amounts of sound processing and</span> <span data-start="406.96" data-end="409.99">playing and all this stuff it actually</span> <span data-start="409.99" data-end="413.08">uses buffers instead of resource loading</span> <span data-start="413.08" data-end="416.2">so so the html5 audio tag goes through</span> <span data-start="416.2" data-end="418.72">a resource loading process and streams</span> <span data-start="418.72" data-end="421.9">the the data down and plays it but Web</span> </p>
<p><span data-start="421.9" data-end="423.01">Audio if we're just going to play a</span> <span data-start="423.01" data-end="426.06">sound it we grab the whole buffer in and</span> <span data-start="426.06" data-end="430.81">we know when when we have it and so so</span> <span data-start="430.81" data-end="433.54">start with web audio but fall back like</span> <span data-start="433.54" data-end="434.67">I said he did something horribly wrong</span> <span data-start="434.67" data-end="437.41">the browser vendors don't move as fast</span> <span data-start="437.41" data-end="442.24">as we would like and to make games and</span> <span data-start="442.24" data-end="445.21">apps we want to support browsers so do</span> <span data-start="445.21" data-end="447.4">fall back to html5 audio for browser</span> <span data-start="447.4" data-end="450.43">support I just wanted to show you some</span> <span data-start="450.43" data-end="452.2">of the things that you would want to do</span> <span data-start="452.2" data-end="454.78">in web web audio and then that you can</span> <span data-start="454.78" data-end="458.86">fall back on html5 audio it's things</span> <span data-start="458.86" data-end="461.05">like initializing like preparing right</span> <span data-start="461.05" data-end="463.66">it's getting their new audio context</span> <span data-start="463.66" data-end="465.64">it's actually prefixed right now in in</span> <span data-start="465.64" data-end="468.13">chrome and safari so it's WebKit audio</span> <span data-start="468.13" data-end="470.83">context hopefully they move away from</span> <span data-start="470.83" data-end="472.66">that and then html5 out of your just</span> <span data-start="472.66" data-end="474.4">moving up an audio object I like descent</span> <span data-start="474.4" data-end="476.38">syntax better than document create</span> <span data-start="476.38" data-end="482.59">element audio so use this one instead to</span> <span data-start="482.59" data-end="485.56">load us a resource for web audio like I</span> <span data-start="485.56" data-end="487.15">said we have to get this buffer ahead of</span> <span data-start="487.15" data-end="492.25">time and then after we have the buffer</span> <span data-start="492.25" data-end="494.41">we can decode it into our audio stream</span> <span data-start="494.41" data-end="500.56">or yeah and then we can use it so we</span> <span data-start="500.56" data-end="502.36">just make an AJAX request out we grab it</span> <span data-start="502.36" data-end="504.16">you just have to make sure that your</span> <span data-start="504.16" data-end="506.62">response type is array buffer if it's</span> <span data-start="506.62" data-end="511.62">not shit's going to get man and</span> <span data-start="511.62" data-end="514.18">and then when we get it back we just</span> <span data-start="514.18" data-end="516.36">pass it to the decode audio data and</span> <span data-start="516.36" data-end="519.16">we'll get a buffer and that'll that does</span> <span data-start="519.16" data-end="521.2">it a sink so you have to do your two</span> <span data-start="521.2" data-end="523.57">callbacks one per on error on success it</span> <span data-start="523.57" data-end="527.88">on air that's how you load an html5</span> <span data-start="527.88" data-end="531.88">audio tech set its source and it starts</span> <span data-start="531.88" data-end="533.56">downloading because preload is such a</span> <span data-start="533.56" data-end="538.6">true by default to play it you for Web</span> </p>
<p><span data-start="538.6" data-end="540.58">Audio you create a buffer source you got</span> <span data-start="540.58" data-end="541.87">to have some place to stick this buffer</span> <span data-start="541.87" data-end="543.76">now that you have it and then you just</span> <span data-start="543.76" data-end="545.86">connect it to a destination that's like</span> <span data-start="545.86" data-end="549.73">speakers and in in headphones your</span> <span data-start="549.73" data-end="551.41">browser your audio context keeps track</span> <span data-start="551.41" data-end="553.06">of that and then you just want to start</span> <span data-start="553.06" data-end="559.269">it you start it on a second so that's</span> <span data-start="559.269" data-end="562.54">how you play in web audio just a note</span> <span data-start="562.54" data-end="565.959">note on is the old API and I believe</span> <span data-start="565.959" data-end="570.72">that Safari only supports the old API</span> <span data-start="570.72" data-end="576.19">html5 audio is just calling play for</span> <span data-start="576.19" data-end="577.69">volume again it's a little more</span> <span data-start="577.69" data-end="579.49">complicated because like Web Audio has</span> <span data-start="579.49" data-end="582.76">this node system and use plug nodes</span> <span data-start="582.76" data-end="584.769">together so you're actually creating a</span> <span data-start="584.769" data-end="586.62">game which is like a volume thing</span> <span data-start="586.62" data-end="589.18">connecting your source to that so that</span> <span data-start="589.18" data-end="591.339">it knows about the volume and then you</span> <span data-start="591.339" data-end="592.93">take the volume node and connect that to</span> <span data-start="592.93" data-end="594.61">the destination instead of the source</span> <span data-start="594.61" data-end="596.56">directly because otherwise it's just the</span> <span data-start="596.56" data-end="599.74">default level and then you can just set</span> <span data-start="599.74" data-end="601.69">the game value and that changes the</span> <span data-start="601.69" data-end="603.88">volume an additional five audio just</span> <span data-start="603.88" data-end="606.85">volume so you're probably saying like</span> <span data-start="606.85" data-end="608.92">that's so complicated why is there so</span> <span data-start="608.92" data-end="612.97">much boilerplate for Web Audio it's</span> <span data-start="612.97" data-end="615.819">really because they implemented this the</span> </p>
<p><span data-start="615.819" data-end="617.649">API so that they can extend it later</span> <span data-start="617.649" data-end="619.36">like they really paid attention to that</span> <span data-start="619.36" data-end="621.49">the whole node thing so they can add any</span> <span data-start="621.49" data-end="625.75">note and just plug it in but so if it's</span> <span data-start="625.75" data-end="626.92">so complicated why do you want to do it</span> <span data-start="626.92" data-end="629.29">we get a ton of extras so yeah we can</span> <span data-start="629.29" data-end="631.389">fall back for those simple things but we</span> <span data-start="631.389" data-end="633.67">can't do things like we can't create</span> <span data-start="633.67" data-end="638.29">sounds in the html5 audio tag we don't</span> <span data-start="638.29" data-end="640.329">have transitions it's just like cut off</span> <span data-start="640.329" data-end="642.699">start another one and you can't do any</span> <span data-start="642.699" data-end="643.99">kind of processing or anything on the</span> <span data-start="643.99" data-end="646.949">fly so Web Audio is definitely the best</span> <span data-start="646.949" data-end="650.56">way to go and like I said future</span> <span data-start="650.56" data-end="653.47">features stuff like that so i guess the</span> <span data-start="653.47" data-end="659.079">goal is to turn this into that and i</span> <span data-start="659.079" data-end="660.94">think i have a link at the end to go go</span> <span data-start="660.94" data-end="666.04">to this it's pretty cool all right so</span> <span data-start="666.04" data-end="671.17">let's talk about codex this is a pain</span> <span data-start="671.17" data-end="674.79">point not not as big as the next one but</span> <span data-start="674.79" data-end="677.29">you can see all the not supported I hope</span> <span data-start="677.29" data-end="678.37">you can see all their not supported</span> <span data-start="678.37" data-end="682.39">there is a lot it is not fun at all if</span> <span data-start="682.39" data-end="685.26">you notice</span> <span data-start="685.27" data-end="691.13">ie does not support wave all right</span> <span data-start="691.13" data-end="695.57">moving on so something that you can use</span> <span data-start="695.57" data-end="697.7">that they expose this API as part of the</span> <span data-start="697.7" data-end="700.28">spec we can check if our browser can</span> <span data-start="700.28" data-end="703.94">play a codec it the function is called</span> <span data-start="703.94" data-end="707.54">can play type alright so yeah that's a</span> <span data-start="707.54" data-end="709.88">cool that's cool function name but I</span> <span data-start="709.88" data-end="712.58">don't know about you all you but I don't</span> <span data-start="712.58" data-end="714.95">like getting strings back from my</span> <span data-start="714.95" data-end="721.32">functions that say maybe or probably</span> <span data-start="721.33" data-end="724.91">like 0 to 1 come on we have floating</span> <span data-start="724.91" data-end="729.41">points so if it if the browser thinks it</span> <span data-start="729.41" data-end="732.56">may be can play it returns maybe if it</span> <span data-start="732.56" data-end="735.71">thinks that it probably can play like</span> <span data-start="735.71" data-end="737.2">what does that even mean I don't know</span> <span data-start="737.2" data-end="741.8">like why can so web M only has one Kodak</span> <span data-start="741.8" data-end="744.08">right now so why is that a maybe if it</span> <span data-start="744.08" data-end="745.67">doesn't have that codec it shouldn't be</span> <span data-start="745.67" data-end="750.32">able to play so I I don't like it but</span> <span data-start="750.32" data-end="754.37">it's in the spec so to get full browser</span> <span data-start="754.37" data-end="757.9">support because I e doesn't support wave</span> <span data-start="757.9" data-end="762.76">we need mp3 and everybody likes mp3's</span> <span data-start="762.76" data-end="766.01">mp3 so bored by chrome IE Safari some of</span> <span data-start="766.01" data-end="767.78">the Firefox is like weird edge things</span> <span data-start="767.78" data-end="772.13">like if it's a brand new firefox on a</span> <span data-start="772.13" data-end="775.4">platform that has mp3 codec installed</span> <span data-start="775.4" data-end="778.43">it'll go out to the operating system and</span> <span data-start="778.43" data-end="781.04">use it but it doesn't come with it so</span> <span data-start="781.04" data-end="783.77">that's a big pain so expect to use web M</span> <span data-start="783.77" data-end="787.07">log on firefox also chromium does not</span> <span data-start="787.07" data-end="790.37">have it so if you if any of you use</span> <span data-start="790.37" data-end="792.98">chromium you don't have mp3s and opera</span> <span data-start="792.98" data-end="794.96">doesn't and that'll be based off</span> <span data-start="794.96" data-end="797.93">chromium so it still won't and like I</span> <span data-start="797.93" data-end="799.67">said Chrome Safari they also support</span> <span data-start="799.67" data-end="803.06">this stuff but I e is the main thing so</span> <span data-start="803.06" data-end="805.85">you probably want to start with mp3 so</span> <span data-start="805.85" data-end="809.84">how do we decide which codec to pick and</span> <span data-start="809.84" data-end="813.83">use to to play our sound we can have an</span> <span data-start="813.83" data-end="816.05">array that has both of our sounds in it</span> <span data-start="816.05" data-end="817.08">with a different</span> <span data-start="817.08" data-end="819.06">tight a different type and a different</span> <span data-start="819.06" data-end="822.96">extension if we start with mp3 as the</span> <span data-start="822.96" data-end="825">first one and web them as a second one</span> <span data-start="825" data-end="827.28">we can just go we can just iterate over</span> <span data-start="827.28" data-end="829.8">them returning early of course when we</span> <span data-start="829.8" data-end="831.96">hit one that doesn't return empty string</span> <span data-start="831.96" data-end="834.21">we check if it can play type and then we</span> <span data-start="834.21" data-end="836.55">just assign it to the source and I have</span> <span data-start="836.55" data-end="838.53">comments at the bottom telling like what</span> <span data-start="838.53" data-end="840.36">browsers would have which extension and</span> <span data-start="840.36" data-end="843.75">all of my examples I just did a fiddle</span> <span data-start="843.75" data-end="844.86">and then I kept building on the fiddle</span> <span data-start="844.86" data-end="852.57">so like the links are at the bottom so</span> <span data-start="852.57" data-end="857.46">what if we try to do an mp3 when it</span> <span data-start="857.46" data-end="862.11">tells us maybe and it doesn't work it</span> <span data-start="862.11" data-end="864.56">just errors out like big error is</span> <span data-start="864.56" data-end="867.84">horrible but we can listen for the error</span> <span data-start="867.84" data-end="870.48">event and if we do that we can then</span> <span data-start="870.48" data-end="872.04">filter out our current ones since we</span> <span data-start="872.04" data-end="877.23">know it errored and we can try the next</span> <span data-start="877.23" data-end="878.91">one right so we filter it out and then</span> <span data-start="878.91" data-end="881.28">we just do our same iteration over and</span> <span data-start="881.28" data-end="883.41">get the next one that's available if</span> <span data-start="883.41" data-end="885.3">you're doing a bunch of like different</span> <span data-start="885.3" data-end="887.94">codecs because of file size or whatever</span> <span data-start="887.94" data-end="891.9">that this is very helpful because you</span> <span data-start="891.9" data-end="897.62">just keep trying</span> <span data-start="897.63" data-end="900.48">so I said we had maybe and I said we had</span> <span data-start="900.48" data-end="903.95">probably and now we're catching errors</span> <span data-start="903.95" data-end="908.25">but the errors happen after we try to</span> <span data-start="908.25" data-end="909.69">get something so we're doing a round</span> <span data-start="909.69" data-end="913.77">trip to the server which sucks so what</span> <span data-start="913.77" data-end="916.17">we probably want to do is try all the</span> <span data-start="916.17" data-end="919.88">probably's first then try all the maybes</span> <span data-start="919.88" data-end="922.77">so what we can do is we can go over our</span> <span data-start="922.77" data-end="925.95">whole array of sounds find all the</span> <span data-start="925.95" data-end="927.57">probably's put them at the beginning of</span> <span data-start="927.57" data-end="929.97">our of a new array find all the maybes</span> <span data-start="929.97" data-end="931.95">and shove them at the end anything that</span> <span data-start="931.95" data-end="933.81">gives us an empty string just ignore it</span> <span data-start="933.81" data-end="939.45">and then our set source kind of becomes</span> <span data-start="939.45" data-end="940.89">a little easier and we also don't need</span> <span data-start="940.89" data-end="946.14">to filter so you then you do set source</span> <span data-start="946.14" data-end="949.38">and you just shift off and you're trying</span> <span data-start="949.38" data-end="950.94">all the probably's then you try all the</span> <span data-start="950.94" data-end="953.31">maybes so that's really that's that's</span> <span data-start="953.31" data-end="956.19">good that's the least likely to make a</span> <span data-start="956.19" data-end="958.95">second round trip to the server which is</span> <span data-start="958.95" data-end="964.26">good turn it into a function call it</span> <span data-start="964.26" data-end="966.53">load it just needs up an audio object</span> <span data-start="966.53" data-end="969.12">injects the filename into our array and</span> <span data-start="969.12" data-end="971.79">gives us all of that boilerplate we just</span> <span data-start="971.79" data-end="973.92">wrote and then it returns the audio</span> <span data-start="973.92" data-end="975.78">object out so then we can just call play</span> <span data-start="975.78" data-end="977.97">and we know that we have one that that's</span> <span data-start="977.97" data-end="980.13">either working or completely didn't work</span> <span data-start="980.13" data-end="988.26">at all so in frozen we have some plugins</span> <span data-start="988.26" data-end="990.12">and when we use them to manage resources</span> </p>
<p><span data-start="990.12" data-end="994.05">I was really proud I had a lot of fun</span> <span data-start="994.05" data-end="995.4">with and I'm really proud of like the</span> <span data-start="995.4" data-end="1000.67">load sound implementation plugin it</span> <span data-start="1000.67" data-end="1003.74">defaults to web audio sounds if you</span> <span data-start="1003.74" data-end="1004.85">don't have web audio it falls back to</span> <span data-start="1004.85" data-end="1006.47">html5 audio if you don't have HTML five</span> <span data-start="1006.47" data-end="1010.16">audio it falls back to an no opt version</span> <span data-start="1010.16" data-end="1013.64">like a just empty play and empty load</span> <span data-start="1013.64" data-end="1015.26">all this stuff so you can just write the</span> <span data-start="1015.26" data-end="1019.81">same code and if you call this extension</span> <span data-start="1019.81" data-end="1024.5">with a file name without and if you call</span> <span data-start="1024.5" data-end="1025.88">log in with a file name without an</span> <span data-start="1025.88" data-end="1030.439">extension it will auto complete the</span> <span data-start="1030.439" data-end="1031.4">extension so it</span> <span data-start="1031.4" data-end="1033.47">will do the maybes or the probably than</span> <span data-start="1033.47" data-end="1039.329">the maybes and get you the best sound</span> <span data-start="1039.339" data-end="1044.57">alright so don't codex what do you guys</span> <span data-start="1044.57" data-end="1052.22">expect play to do alright and load all</span> <span data-start="1052.22" data-end="1060.2">right me too so these are the specs and</span> </p>
<p><span data-start="1060.2" data-end="1062.44">I just copy and pasted them because it's</span> <span data-start="1062.44" data-end="1066.86">the spec you can see me do load supposed</span> <span data-start="1066.86" data-end="1070.73">to load media play is supposed to load</span> <span data-start="1070.73" data-end="1076.34">if it's not loaded and play it's</span> <span data-start="1076.34" data-end="1081.32">supposed to load we don't need no</span> <span data-start="1081.32" data-end="1085.1">stinkin spec here chrome works chrome</span> <span data-start="1085.1" data-end="1089.68">loads chrome plays Firefox plays loads I</span> <span data-start="1089.68" data-end="1094.85">even plays and loads Opera Safari how</span> <span data-start="1094.85" data-end="1100.58">about mobile safari no but chrome on</span> </p>
<p><span data-start="1100.58" data-end="1105.47">Android no there is hope though firefox</span> <span data-start="1105.47" data-end="1107.96">on android it plays and loads and</span> <span data-start="1107.96" data-end="1111.5">Firefox OS plays and look what what's</span> <span data-start="1111.5" data-end="1114.74">wrong with this you guys lost all of it</span> <span data-start="1114.74" data-end="1121.4">it was beautiful anyways there's</span> <span data-start="1121.4" data-end="1126.56">beautiful beautiful logos up there so I</span> <span data-start="1126.56" data-end="1130.07">OS is excuse on there like developer</span> <span data-start="1130.07" data-end="1133.88">documentation copied and pasted I don't</span> <span data-start="1133.88" data-end="1135.89">care if you read all that but read that</span> <span data-start="1135.89" data-end="1143.21">God yeah read this</span> <span data-start="1143.22" data-end="1146.769">so preload and autoplay are disabled</span> <span data-start="1146.769" data-end="1151.179">javascript play and load methods are</span> <span data-start="1151.179" data-end="1154.6">also in active until the user initiates</span> <span data-start="1154.6" data-end="1159.759">playback so in my java script that I</span> <span data-start="1159.759" data-end="1162.549">wrote on my web page that a user chose</span> <span data-start="1162.549" data-end="1167.159">to go to I cannot play or load a sound</span> <span data-start="1167.159" data-end="1172.24">without them touching the page and then</span> </p>
<p><span data-start="1172.24" data-end="1177.129">Android on the same bandwagon it's</span> <span data-start="1177.129" data-end="1179.649">intended was their response to a bug and</span> <span data-start="1179.649" data-end="1182.44">then 30 days later that bug was closed</span> <span data-start="1182.44" data-end="1184.72">so then somebody opened another issue</span> <span data-start="1184.72" data-end="1188.44">saying the exact same thing and there's</span> <span data-start="1188.44" data-end="1191.769">the source of that quote I in my other</span> <span data-start="1191.769" data-end="1193.029">slides where I point to the body I point</span> <span data-start="1193.029" data-end="1197.1">to the new bug it will cost data usage</span> <span data-start="1197.1" data-end="1199.84">remember that quote we will get back to</span> <span data-start="1199.84" data-end="1204.94">it meanwhile you can download terabytes</span> <span data-start="1204.94" data-end="1213.73">of images unrestricted try it and don't</span> <span data-start="1213.73" data-end="1215.95">even display the images download them in</span> <span data-start="1215.95" data-end="1220.24">the background okay so they're going to</span> <span data-start="1220.24" data-end="1221.86">stick us with this weird requirement</span> <span data-start="1221.86" data-end="1224.289">that's off spec in terrible so how do we</span> <span data-start="1224.289" data-end="1228.7">work around it we do a we bind to touch</span> <span data-start="1228.7" data-end="1230.049">start because we're on mobile because</span> <span data-start="1230.049" data-end="1233.7">mobile is the problem and we call load</span> <span data-start="1233.7" data-end="1236.679">be so we intercept this user interaction</span> <span data-start="1236.679" data-end="1237.909">and then we just remove it because we</span> <span data-start="1237.909" data-end="1240.759">only need to do it once per audio</span> <span data-start="1240.759" data-end="1244.779">element you can't do it on one and then</span> <span data-start="1244.779" data-end="1246.159">it works for all of them it's each</span> <span data-start="1246.159" data-end="1251.11">individual one all right so this is our</span> <span data-start="1251.11" data-end="1252.429">work around this is what they tell us to</span> <span data-start="1252.429" data-end="1258.85">do so all's good right we intercept user</span> <span data-start="1258.85" data-end="1264.899">input and this these sounds are loaded</span> <span data-start="1264.899" data-end="1268.69">but nothing is actually how it seems you</span> <span data-start="1268.69" data-end="1271.359">intercept user input and call load and</span> <span data-start="1271.359" data-end="1274.6">it loads them a second time that means</span> <span data-start="1274.6" data-end="1276.039">on Chrome on</span> <span data-start="1276.039" data-end="1282.7">android it already loaded them it they</span> <span data-start="1282.7" data-end="1286.57">are saving data usage by already loading</span> <span data-start="1286.57" data-end="1289.299">the files and telling you that they</span> <span data-start="1289.299" data-end="1293.979">don't load so we can do better because</span> <span data-start="1293.979" data-end="1296.229">we now know this because i thought that</span> <span data-start="1296.229" data-end="1297.82">i could write some code and it would</span> <span data-start="1297.82" data-end="1298.929">work the way i thought and then i</span> <span data-start="1298.929" data-end="1302.769">debugged it and it wasn't we can set the</span> <span data-start="1302.769" data-end="1306.729">volume to 0 we can play the sound so</span> <span data-start="1306.729" data-end="1310.539">that it doesn't load and then we can</span> <span data-start="1310.539" data-end="1312.94">pause the sound immediately that we can</span> <span data-start="1312.94" data-end="1321.859">turn the volume back up is it solved</span> <span data-start="1321.869" data-end="1324.129">it's actually a solved as we can get it</span> <span data-start="1324.129" data-end="1327.07">so they're still late there there's</span> <span data-start="1327.07" data-end="1330.879">still some latency because it pulls it</span> <span data-start="1330.879" data-end="1333.429">it feels like it pulls down some but not</span> <span data-start="1333.429" data-end="1335.769">all or something it's weird like this</span> <span data-start="1335.769" data-end="1337.299">doesn't give you a lot of information as</span> <span data-start="1337.299" data-end="1340.179">you can see it doesn't even show that is</span> <span data-start="1340.179" data-end="1342.639">loaded it likes shows pending and it</span> <span data-start="1342.639" data-end="1345.099">doesn't and even when you call load it</span> <span data-start="1345.099" data-end="1347.59">doesn't show load loaded so there's</span> <span data-start="1347.59" data-end="1350.289">weird and it's still latent so that's</span> <span data-start="1350.289" data-end="1352.059">the best we can do but at least we're</span> <span data-start="1352.059" data-end="1354.58">not loading things twice which is good</span> <span data-start="1354.58" data-end="1359.83">for the user right alright so we have a</span> <span data-start="1359.83" data-end="1364.509">new hope and that is disabled gesture</span> <span data-start="1364.509" data-end="1368.159">requirement for media playback yes do it</span> <span data-start="1368.159" data-end="1371.83">if you have chrome on on Chrome for</span> </p>
<p><span data-start="1371.83" data-end="1375.519">Android you can go and enable this and</span> <span data-start="1375.519" data-end="1377.229">do it please please please please please</span> <span data-start="1377.229" data-end="1380.2">it will make everybody's life easier and</span> <span data-start="1380.2" data-end="1382.71">hopefully because they have this this</span> <span data-start="1382.71" data-end="1385.269">this flag now I'm hoping that they</span> <span data-start="1385.269" data-end="1387.599">actually try to move that into</span> <span data-start="1387.599" data-end="1393.249">unflagging which is a good thing so I</span> <span data-start="1393.249" data-end="1394.899">can't go a whole talk without talking</span> <span data-start="1394.899" data-end="1396.429">about streams you know like there's this</span> <span data-start="1396.429" data-end="1400.72">node thing and like they say streams I'm</span> <span data-start="1400.72" data-end="1403.869">just kidding so audio stream so so audio</span> <span data-start="1403.869" data-end="1405.429">streams are like playing once out and</span> <span data-start="1405.429" data-end="1406.419">playing another son at the same time</span> <span data-start="1406.419" data-end="1409.549">right I'm getting really close to you</span> <span data-start="1409.549" data-end="1414.35">and so we want to layer these sounds</span> <span data-start="1414.35" data-end="1417.46">right we want to create a kind of a</span> <span data-start="1417.46" data-end="1421.1">sound scene of like person walking and a</span> <span data-start="1421.1" data-end="1422.84">clock ticking and a gun firing right we</span> <span data-start="1422.84" data-end="1423.889">want to layer all these things to make</span> <span data-start="1423.889" data-end="1425.929">it an immersive experience we need it</span> <span data-start="1425.929" data-end="1428.889">like that's how you make a good game on</span> <span data-start="1428.889" data-end="1434.619">mobile no you start playing a sound and</span> <span data-start="1434.619" data-end="1436.73">then you start playing another sound and</span> <span data-start="1436.73" data-end="1440.869">it cuts you off the first one and then</span> <span data-start="1440.869" data-end="1442.1">you play another one it cuts it off and</span> <span data-start="1442.1" data-end="1444.71">these are individual elements or like</span> <span data-start="1444.71" data-end="1446.179">separate elements it's not the same one</span> <span data-start="1446.179" data-end="1447.769">that you're playing again it's a totally</span> <span data-start="1447.769" data-end="1449.35">different one it just cuts it off it's</span> <span data-start="1449.35" data-end="1453.649">like we cannot create html5 games or</span> <span data-start="1453.649" data-end="1457.19">even like really good web apps that that</span> <span data-start="1457.19" data-end="1460.159">need sound for emerging without fixing</span> <span data-start="1460.159" data-end="1462.909">these fundamental things on mobile and</span> <span data-start="1462.909" data-end="1465.649">there's no reason for them to be there</span> <span data-start="1465.649" data-end="1469.999">firefox doesn't have them there is hope</span> <span data-start="1469.999" data-end="1473.69">again the return of the jedi mean Web</span> </p>
<p><span data-start="1473.69" data-end="1478.34">Audio it is in chrome again in chrome</span> <span data-start="1478.34" data-end="1481.609">beta 28 so install it and enable it</span> <span data-start="1481.609" data-end="1485.45">again flags are awesome Web Audio they</span> <span data-start="1485.45" data-end="1486.919">let you play as many streams as you want</span> <span data-start="1486.919" data-end="1492.639">the same time and it feels fantastic</span> <span data-start="1492.639" data-end="1494.989">some of the games that we wrote actually</span> <span data-start="1494.989" data-end="1496.999">are amazing now on mobile because you</span> <span data-start="1496.999" data-end="1500.869">can actually hear the sounds so we're</span> <span data-start="1500.869" data-end="1502.73">much better than before we need sound</span> <span data-start="1502.73" data-end="1503.809">like I said we need for immersion</span> <span data-start="1503.809" data-end="1506.119">feedback feedback like if you shoot a</span> <span data-start="1506.119" data-end="1507.739">gun you might not see a bullet fly out</span> <span data-start="1507.739" data-end="1509.389">but you'll hear it right and brand</span> <span data-start="1509.389" data-end="1512.119">recognition like those sounds at the</span> <span data-start="1512.119" data-end="1514.609">beginning the iconic sounds right say</span> <span data-start="1514.609" data-end="1519.95">stuff like that sounds are that's why we</span> <span data-start="1519.95" data-end="1524.059">need them so we start with Web Audio for</span> <span data-start="1524.059" data-end="1525.289">all the awesome reasons that I already</span> <span data-start="1525.289" data-end="1529.789">said we fall back to html5 audio because</span> <span data-start="1529.789" data-end="1532.279">it's there on pretty much everything and</span> <span data-start="1532.279" data-end="1534.489">it can get us kind of the way there</span> <span data-start="1534.489" data-end="1539.21">there are some for some trade-offs don't</span> <span data-start="1539.21" data-end="1541.279">fall back to flash we all know that</span> <span data-start="1541.279" data-end="1543.35">flash sucks where JavaScript errs</span> <span data-start="1543.35" data-end="1545.63">there's no support on mobile pretty much</span> <span data-start="1545.63" data-end="1548.179">right andand SF is a resource hog why do</span> <span data-start="1548.179" data-end="1550.46">you want the fans spinning up for a web</span> <span data-start="1550.46" data-end="1553.64">browser game for your user you don't if</span> <span data-start="1553.64" data-end="1556.669">at all possible so let's push Web Audio</span> <span data-start="1556.669" data-end="1558.799">instead don't do flash screw that don't</span> <span data-start="1558.799" data-end="1560.69">write libraries for that push Web Audio</span> <span data-start="1560.69" data-end="1564.62">go a comment on the issues and +1 them</span> <span data-start="1564.62" data-end="1566.51">and get get get them to get that in</span> <span data-start="1566.51" data-end="1568.549">there faster and enable it in Chrome</span> <span data-start="1568.549" data-end="1571.37">it's awesome they're still areas we need</span> <span data-start="1571.37" data-end="1573.53">to improve like I said about Android and</span> <span data-start="1573.53" data-end="1576.409">iOS enough we need to fix those can play</span> <span data-start="1576.409" data-end="1578.27">type like maybe it should be a floating</span> <span data-start="1578.27" data-end="1582.44">point 0 to 1 and we need some better</span> <span data-start="1582.44" data-end="1584.419">abstractions for like Web Audio and like</span> <span data-start="1584.419" data-end="1585.59">even creating sound stuff like that</span> <span data-start="1585.59" data-end="1588.2">there are some cool stuff out there such</span> <span data-start="1588.2" data-end="1590.69">as this awesome list I found howler</span> <span data-start="1590.69" data-end="1592.88">actually the right as those finish up</span> <span data-start="1592.88" data-end="1594.679">the talk it looks really nice and then</span> <span data-start="1594.679" data-end="1597.14">there's some that are not not fall back</span> <span data-start="1597.14" data-end="1599.72">libraries but actually let you do the</span> <span data-start="1599.72" data-end="1602.96">sum of the sound creation and stuff some</span> <span data-start="1602.96" data-end="1604.76">game engines with good sound</span> <span data-start="1604.76" data-end="1607.34">implementations I have to say frozen</span> <span data-start="1607.34" data-end="1609.98">because I did it sound Jess looks</span> <span data-start="1609.98" data-end="1611.57">excellent i actually found that one will</span> <span data-start="1611.57" data-end="1614.03">ball researching or making my slides</span> <span data-start="1614.03" data-end="1615.919">i'll probably be taking a lot of their</span> <span data-start="1615.919" data-end="1620.539">advice issues go participate go forth</span> <span data-start="1620.539" data-end="1624.5">and participate some tutorials and stuff</span> <span data-start="1624.5" data-end="1626.89">to eat you off the ground with web audio</span> <span data-start="1626.89" data-end="1629.929">the specs because everybody likes</span> <span data-start="1629.929" data-end="1634.45">reading specs yeah images and I'm blind</span> <span data-start="1634.45" data-end="1637.789">all my awesome links and that's where my</span> <span data-start="1637.789" data-end="1643.72">slide deck is at</span> <span data-start="1643.73" data-end="1659.389">thanks</span> </p>
</section>

<!-- div#container ends -->
</div>

<img alt="The End" id="fin" src="../images/fin.jpg">

<script>
/*eslint-disable */
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google-translate');
}
/* eslint-enable */
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="../js/main.js"></script>

</body>

</html>
