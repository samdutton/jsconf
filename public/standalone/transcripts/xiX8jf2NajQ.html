<!DOCTYPE html>

<!--
Copyright 2019 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="//google.com">
  <meta name="description" content="web.dev LIVE video transcript">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>xiX8jf2NajQ</title>
  <link rel="stylesheet" href="../css/main.css">
</head>

<body>

<iframe id="youtube" src="https://www.youtube.com/embed/xiX8jf2NajQ?enablejsapi=1"></iframe>

<div id="container">

<div id="options">
  <div id="google-translate"></div>
  <div>
    <input type="checkbox" id="videoSticky" checked>
    <label for="videoSticky">Video position sticky</label>
  </div>
  <div>
    <input type="checkbox" id="captionScroll" checked>
    <label for="captionScroll">Keep current caption visible</label>
  </div>
</div>

<section>
<p><span data-start="6.799" data-end="15.719">reject thank you for the intro can you</span> <span data-start="15.719" data-end="19.619">hear me all right cool yeah so you could</span> <span data-start="19.619" data-end="20.85">really hear Oh</span> <span data-start="20.85" data-end="22.89">first of all hey reject is how are y'all</span> <span data-start="22.89" data-end="28.439">doing nice I wanted to say a quick thank</span> <span data-start="28.439" data-end="30.3">you to the organizers who were like very</span> <span data-start="30.3" data-end="33.45">supportive in like making me like</span> <span data-start="33.45" data-end="36.149">actually propose a talk and then Here I</span> <span data-start="36.149" data-end="38.46">am standing talking to you and I'm</span> <span data-start="38.46" data-end="41.61">thinking a very thankful for that as Yun</span> <span data-start="41.61" data-end="43.02">said hi I'm Lisa</span> <span data-start="43.02" data-end="47.36">um yes there is a hashtag with my name</span> <span data-start="47.36" data-end="50.129">other ways of communicating with me are</span> <span data-start="50.129" data-end="52.26">shooting me an email this is my</span> <span data-start="52.26" data-end="53.789">preferred way and if you're really into</span> <span data-start="53.789" data-end="56.1">social media I am NOT on Twitter that is</span> <span data-start="56.1" data-end="58.199">the reason why there's this hashtag so</span> <span data-start="58.199" data-end="60.059">people can talk about me without me</span> <span data-start="60.059" data-end="64.53">being involved and but if you're really</span> <span data-start="64.53" data-end="66.39">really into social media and you can</span> <span data-start="66.39" data-end="68.76">find me with this handle this a wk3 arc</span> <span data-start="68.76" data-end="70.5">on diaspora which is a super cool</span> <span data-start="70.5" data-end="72.24">decentralized open-source social network</span> <span data-start="72.24" data-end="73.68">and if you don't know what that is come</span> <span data-start="73.68" data-end="77.7">talk to me afterwards yeah let's get</span> <span data-start="77.7" data-end="81.119">started um exciting times we saw like in</span> <span data-start="81.119" data-end="82.83">the first talk like Hardware hacks with</span> </p>
<p><span data-start="82.83" data-end="85.74">JavaScript and it feels like this every</span> <span data-start="85.74" data-end="87.75">day there's something new we get new</span> <span data-start="87.75" data-end="90.57">browser api's we get new a new standard</span> <span data-start="90.57" data-end="92.28">is released or a new best practice or</span> <span data-start="92.28" data-end="94.59">somebody has an opinion an opinion on</span> <span data-start="94.59" data-end="96.42">something and somebody else has a</span> <span data-start="96.42" data-end="98.159">different opinion and you think like hmm</span> <span data-start="98.159" data-end="101.34">what is my opinion on that thing yeah</span> <span data-start="101.34" data-end="102.63">and there's all these things that come</span> <span data-start="102.63" data-end="105.24">up and all the things that I read about</span> <span data-start="105.24" data-end="107.28">and I feel like oh my god I really want</span> <span data-start="107.28" data-end="108.78">to hack on this I want to get my hands</span> <span data-start="108.78" data-end="110.1">dirty I want to like build something</span> <span data-start="110.1" data-end="111.24">that's cool with like all the stuff that</span> <span data-start="111.24" data-end="113.31">is now available and I can just do it in</span> </p>
<p><span data-start="113.31" data-end="115.77">JavaScript because like the entry level</span> <span data-start="115.77" data-end="119.189">to all these things is so low the thing</span> <span data-start="119.189" data-end="122.369">is I don't know where to start</span> <span data-start="122.369" data-end="124.53">I spent my day job mostly writing CSS</span> <span data-start="124.53" data-end="126.35">with a little bit of JavaScript and</span> <span data-start="126.35" data-end="129.3">we're using ember and there's not much</span> <span data-start="129.3" data-end="131.16">time to experiment on like all these</span> <span data-start="131.16" data-end="133.5">things that are so crazy and so cool</span> <span data-start="133.5" data-end="137.25">and so I have like no no entry point</span> <span data-start="137.25" data-end="139.8">really and also what would I built</span> <span data-start="139.8" data-end="142.8">because so I'm working at Travis CI and</span> <span data-start="142.8" data-end="144.39">we build continuous integration software</span> <span data-start="144.39" data-end="146.85">and but this is nothing that I would do</span> <span data-start="146.85" data-end="149.43">as like a pet or hobby project where I</span> <span data-start="149.43" data-end="152.24">would rather do something else with</span> <span data-start="152.24" data-end="156.24">basically anything else that is fun like</span> <span data-start="156.24" data-end="159.47">really fun for me as a programmer</span> <span data-start="159.47" data-end="163.26">something that's also fun for me is or</span> <span data-start="163.26" data-end="166.68">are video games I've been a fan of video</span> <span data-start="166.68" data-end="169.2">games for like a long long time I spend</span> <span data-start="169.2" data-end="170.67">a lot of time in my youth</span> <span data-start="170.67" data-end="172.68">playing video games and I think I've</span> <span data-start="172.68" data-end="174.81">only grown more attached to them as I</span> <span data-start="174.81" data-end="177.06">learned to program because I started to</span> <span data-start="177.06" data-end="179.25">think about what is actually happening</span> <span data-start="179.25" data-end="180.959">happening like in the back of a video</span> <span data-start="180.959" data-end="184.11">game and I said I think about like how</span> <span data-start="184.11" data-end="186.51">game design works and what is it that</span> <span data-start="186.51" data-end="188.57">like in fast people was like really like</span> <span data-start="188.57" data-end="192.5">making them obsessed with playing a game</span> <span data-start="192.5" data-end="197.7">yeah so reasons why and I thought about</span> <span data-start="197.7" data-end="199.17">a lot about that why I like video games</span> <span data-start="199.17" data-end="200.85">so much and select the combination of</span> <span data-start="200.85" data-end="205.019">all the all the things basically you not</span> <span data-start="205.019" data-end="207.06">only have like visual and textual and</span> <span data-start="207.06" data-end="208.739">audio information that goes into that</span> <span data-start="208.739" data-end="211.019">it's like the combination of those and</span> <span data-start="211.019" data-end="212.64">the set of rules that a game gives you</span> <span data-start="212.64" data-end="217.05">to explore and explore not only the</span> <span data-start="217.05" data-end="219.39">input and decide on the output of the</span> <span data-start="219.39" data-end="221.91">game but everything else that is in</span> <span data-start="221.91" data-end="228.09">between and the most like the thing that</span> <span data-start="228.09" data-end="230.82">blew my mind at one point was wait I can</span> <span data-start="230.82" data-end="232.799">control basically every aspect of the</span> <span data-start="232.799" data-end="237.45">game with code that I write and from</span> <span data-start="237.45" data-end="239.4">that point on it's like okay games are</span> <span data-start="239.4" data-end="242.01">basically the canvas of what I can</span> <span data-start="242.01" data-end="246.54">create and what I can like what I can</span> <span data-start="246.54" data-end="252.299">make aside from a web app yeah</span> <span data-start="252.299" data-end="254.4">so this is basically the thing where I</span> <span data-start="254.4" data-end="257.82">say that games are art because a lot of</span> <span data-start="257.82" data-end="259.979">people don't think that is true because</span> <span data-start="259.979" data-end="261.78">for them video games are like shooting</span> <span data-start="261.78" data-end="264.419">people which is still a big part of the</span> <span data-start="264.419" data-end="266.7">game industry but this is not the part</span> <span data-start="266.7" data-end="269.1">the game industry that I like and that I</span> <span data-start="269.1" data-end="273.57">really really really really love so this</span> <span data-start="273.57" data-end="276.15">is more about being creative with a</span> <span data-start="276.15" data-end="280.68">medium so back in the beginning and</span> <span data-start="280.68" data-end="282.51">there's lots of Technology especially on</span> <span data-start="282.51" data-end="283.8">the web platform there's lots of</span> <span data-start="283.8" data-end="286.56">technology that we can work on with</span> </p>
<p><span data-start="286.56" data-end="289.68">JavaScript and then there's video games</span> <span data-start="289.68" data-end="291.57">as like this medium that is defined by</span> <span data-start="291.57" data-end="295.32">its credit creativity and those two</span> <span data-start="295.32" data-end="297.69">together are just awesome and I like</span> <span data-start="297.69" data-end="303.83">awesome do you like awesome I thought so</span> <span data-start="303.83" data-end="310.02">yeah so this talk is called ukulele here</span> <span data-start="310.02" data-end="311.88">this is why I'm introducing ukulele hero</span> <span data-start="311.88" data-end="317.34">to you now people who are somewhat</span> <span data-start="317.34" data-end="319.11">familiar with a similar sounding game</span> <span data-start="319.11" data-end="321.15">called Guitar Hero was like I don't know</span> <span data-start="321.15" data-end="323.94">if you heard of it it's a musical game</span> <span data-start="323.94" data-end="327.45">where you play City play along to a song</span> <span data-start="327.45" data-end="331.47">and you have a plastic guitar that is</span> <span data-start="331.47" data-end="333.3">like aims to give you the feeling of</span> <span data-start="333.3" data-end="335.49">like really being able to play a guitar</span> <span data-start="335.49" data-end="340.56">and I thought hmm well there's this new</span> <span data-start="340.56" data-end="343.65">cool thing which is like the Web Audio</span> </p>
<p><span data-start="343.65" data-end="346.83">API and one year ago basically exactly</span> <span data-start="346.83" data-end="349.02">one year ago at last year's Web Audio</span> <span data-start="349.02" data-end="351.42">heck day and there's one this Saturday</span> <span data-start="351.42" data-end="355.47">as well I for the first time touched the</span> <span data-start="355.47" data-end="357.21">Web Audio API and it was kind of like oh</span> <span data-start="357.21" data-end="358.77">my god there's so much stuff going on</span> <span data-start="358.77" data-end="361.65">that I have no idea about I want to know</span> <span data-start="361.65" data-end="364.41">more and this is like I started a lot</span> <span data-start="364.41" data-end="366.3">about reading about the Web Audio API</span> <span data-start="366.3" data-end="368.91">not understanding anything and reading</span> <span data-start="368.91" data-end="370.35">more about it and still not</span> <span data-start="370.35" data-end="372.9">understanding anything and this is like</span> <span data-start="372.9" data-end="375.06">a long process that at one point</span> <span data-start="375.06" data-end="380">accumulated in this torque so whoo yeah</span> <span data-start="380" data-end="383.64">so I'm gonna like I'm gonna play the</span> <span data-start="383.64" data-end="386.79">game now with you or for you and I hope</span> <span data-start="386.79" data-end="389.04">you'll enjoy it I'm kind of proud of it</span> <span data-start="389.04" data-end="391.65">but it doesn't look that good so this is</span> <span data-start="391.65" data-end="394.65">like disclaimer this is a hack this is</span> <span data-start="394.65" data-end="398.25">in no way anyway like something that</span> <span data-start="398.25" data-end="399.49">would I should like</span> </p>
<p><span data-start="399.49" data-end="401.71">I would show it to my friends and since</span> <span data-start="401.71" data-end="402.91">we're all a community your are my</span> <span data-start="402.91" data-end="405.22">friends so I will show it to you so this</span> <span data-start="405.22" data-end="406.78">is demo time now</span> <span data-start="406.78" data-end="411.46">I brought a ukulele and and I will know</span> <span data-start="411.46" data-end="415.06">very elegantly switch to my play screen</span> <span data-start="415.06" data-end="417.509">so yep</span> <span data-start="417.509" data-end="424.18">matching slides and game so we start I</span> <span data-start="424.18" data-end="427.599">get some I will get audio information</span> <span data-start="427.599" data-end="429.46">from the microphone from the computer</span> <span data-start="429.46" data-end="433.509">with getusermedia and I did not click</span> <span data-start="433.509" data-end="437.259">right share please does it say share I</span> <span data-start="437.259" data-end="442.36">can't even read it built-in microphone</span> <span data-start="442.36" data-end="447.729">yes please share selected and it doesn't</span> <span data-start="447.729" data-end="455.47">work that's great let's lose this one</span> <span data-start="455.47" data-end="470.139">maybe no that's weird it works today I</span> <span data-start="470.139" data-end="477.14">want to share please</span> <span data-start="477.15" data-end="481.75">hmm okay can does someone if the other</span> <span data-start="481.75" data-end="487.2">people know anything about this okay</span> <span data-start="487.21" data-end="493.84">let's do it</span> <span data-start="493.85" data-end="496.25">damnit I also did not prepare a</span> <span data-start="496.25" data-end="502.67">recording of what I would do me great so</span> <span data-start="502.67" data-end="506.87">what would happen is that it would get</span> <span data-start="506.87" data-end="510.53">to a list that would tell me like to</span> <span data-start="510.53" data-end="511.82">choose a song one of the songs that I</span> <span data-start="511.82" data-end="515.87">prepared it would analyze the song life</span> <span data-start="515.87" data-end="517.64">in the browser which is like really</span> <span data-start="517.64" data-end="522.74">everything this was about and then draw</span> <span data-start="522.74" data-end="529.04">and yes sorry it doesn't work in Chrome</span> <span data-start="529.04" data-end="548.19">because it did yes oh okay</span> </p>
<p><span data-start="548.2" data-end="556.92">No</span> <span data-start="556.93" data-end="580.859">okay debugging I love it</span> <span data-start="580.869" data-end="584.389">you think okay let's try it sorry I'll</span> <span data-start="584.389" data-end="589.189">do people in my work let's make this</span> <span data-start="589.189" data-end="596.42">work now</span> <span data-start="596.43" data-end="600.8">mmm that is sad</span> <span data-start="600.8" data-end="608.55">okay so I will just continue with the</span> <span data-start="608.55" data-end="616.73">slides so no demo time I'm sorry if I</span> <span data-start="616.73" data-end="621.6">can play your song I have to kind of</span> <span data-start="621.6" data-end="623.55">because I like this is really bad</span> <span data-start="623.55" data-end="627.02">who here knows the show Adventure Time</span> <span data-start="627.02" data-end="629.76">okay do you do you want to sing along</span> <span data-start="629.76" data-end="630.45">with me</span> <span data-start="630.45" data-end="633.69">The Adventure Time theme song can you do</span> <span data-start="633.69" data-end="635.79">that okay</span> <span data-start="635.79" data-end="639.18">sorry Adventure Time come on grab your</span> <span data-start="639.18" data-end="643.26">friends we go to very distant lands Jake</span> <span data-start="643.26" data-end="646.26">the dog and Finn the human the fun will</span> <span data-start="646.26" data-end="659.699">never end it's adventure time thank you</span> <span data-start="659.709" data-end="662.27">just imagine that with basically a</span> <span data-start="662.27" data-end="665.54">little illustration of look like the</span> <span data-start="665.54" data-end="669.08">charts I was playing but yeah anyway if</span> <span data-start="669.08" data-end="670.7">this would have worked</span> </p>
<p><span data-start="670.7" data-end="674.38">I would now explain you how it works</span> <span data-start="674.38" data-end="678.68">yeah so I would have loaded and analyzed</span> <span data-start="678.68" data-end="680.959">the song there was a song that I picked</span> <span data-start="680.959" data-end="682.37">from SoundCloud from a Creative Commons</span> <span data-start="682.37" data-end="687.92">license and then I would get like the</span> <span data-start="687.92" data-end="689.93">analyze get the life input from the</span> <span data-start="689.93" data-end="691.58">ukulele through the microphone which did</span> <span data-start="691.58" data-end="693.5">not work and this is like the weird part</span> <span data-start="693.5" data-end="696.29">because that always works</span> <span data-start="696.29" data-end="698.779">and then I build like a little game</span> <span data-start="698.779" data-end="701.45">structure around it to like compare what</span> </p>
<p><span data-start="701.45" data-end="703.91">I have calculated before and the input</span> <span data-start="703.91" data-end="707.57">that I gave it life and yeah make it</span> <span data-start="707.57" data-end="713.72">pretty in quotes so in depth the song I</span> <span data-start="713.72" data-end="717.56">don't know if like who here has like try</span> <span data-start="717.56" data-end="721.64">it out Web Audio API at one point okay a</span> <span data-start="721.64" data-end="725.39">few so what you usually start is start</span> <span data-start="725.39" data-end="727.279">with is creating an audio context and</span> <span data-start="727.279" data-end="729.92">from that audio context you get all the</span> <span data-start="729.92" data-end="731.69">other nodes that you like connect and</span> <span data-start="731.69" data-end="733.399">then at one point you have this like</span> <span data-start="733.399" data-end="735.86">long pipeline of the input that</span> <span data-start="735.86" data-end="740.63">eventually goes and output in your your</span> <span data-start="740.63" data-end="742.94">speakers and then you do stuff in the</span> <span data-start="742.94" data-end="745.01">middle with it and this is also how I</span> <span data-start="745.01" data-end="746.72">started when I thought about how can I</span> <span data-start="746.72" data-end="751.279">analyze the song turns out like this is</span> <span data-start="751.279" data-end="753.26">really really great for having like real</span> <span data-start="753.26" data-end="755.66">timeline analysis of the of the audio</span> <span data-start="755.66" data-end="760.16">source like what I would do with ukulele</span> <span data-start="760.16" data-end="763.18">but not if I want to like analyze a song</span> <span data-start="763.18" data-end="767.42">upfront yeah because I actually needed</span> <span data-start="767.42" data-end="769.579">to need faster processing of the sort of</span> <span data-start="769.579" data-end="771.589">the source material and therefore</span> <span data-start="771.589" data-end="773.69">there's a fairly new thing that I only</span> <span data-start="773.69" data-end="775.64">found out by accident because I was on</span> </p>
<p><span data-start="775.64" data-end="778.07">Stack Overflow wondering like why can't</span> <span data-start="778.07" data-end="780.94">I like process these things faster and</span> <span data-start="780.94" data-end="785.709">there is offline audio context who knew</span> <span data-start="785.709" data-end="788.99">they didn't ended will like what offline</span> <span data-start="788.99" data-end="791.079">audio context does it will analyze data</span> <span data-start="791.079" data-end="793.1">the audio data</span> <span data-start="793.1" data-end="795.32">fast as it can and here's the thing why</span> <span data-start="795.32" data-end="797.54">it won't work in chrome because there's</span> <span data-start="797.54" data-end="800.24">a bug in Chrome apparently that just</span> <span data-start="800.24" data-end="802.91">like that the processing happens so fast</span> <span data-start="802.91" data-end="806.51">and that it will skip a lot of samples</span> <span data-start="806.51" data-end="809.27">and we'll get like a very inaccurate and</span> <span data-start="809.27" data-end="812.06">very like faulty kind of result but it</span> <span data-start="812.06" data-end="814.37">works in Firefox this is why I'm I need</span> <span data-start="814.37" data-end="818">to use Firefox which I usually do and so</span> <span data-start="818" data-end="821.78">that's cool offline audio context as</span> <span data-start="821.78" data-end="825.02">compared like in as opposed to the usual</span> <span data-start="825.02" data-end="827.66">audio context takes three arguments and</span> <span data-start="827.66" data-end="829.94">the first one is the channel or the</span> <span data-start="829.94" data-end="832.31">number of channels you want to have the</span> <span data-start="832.31" data-end="834.62">second one is the length of a buffer and</span> <span data-start="834.62" data-end="836.51">the third one is the sample rate and</span> <span data-start="836.51" data-end="840.29">these are all like very weird like</span> <span data-start="840.29" data-end="842.51">things that you need to give to an audio</span> <span data-start="842.51" data-end="844.52">context and I also had no idea this is</span> <span data-start="844.52" data-end="846.38">why we have a little intermission where</span> </p>
<p><span data-start="846.38" data-end="849.14">I try to explain these things to you</span> <span data-start="849.14" data-end="851.99">because nobody explains them on the</span> <span data-start="851.99" data-end="854.51">internet really and this it was a long</span> <span data-start="854.51" data-end="856.43">journey through a lot of Wikipedia</span> <span data-start="856.43" data-end="859.97">entries and Stack Exchange physics kind</span> <span data-start="859.97" data-end="863.33">of things okay I think I understand it</span> <span data-start="863.33" data-end="867.05">and everything starts with sounds so</span> <span data-start="867.05" data-end="869.69">let's take like take a step back from</span> <span data-start="869.69" data-end="872.86">like Web Audio and talk about physics</span> <span data-start="872.86" data-end="875.99">sounds sound comes in periodic waves</span> <span data-start="875.99" data-end="879.32">they look like this kind of without the</span> <span data-start="879.32" data-end="883.36">colors</span> <span data-start="883.37" data-end="885.949">yeah so we have like different kinds of</span> <span data-start="885.949" data-end="889.589">wave shapes and this in this case it's</span> <span data-start="889.589" data-end="891.63">like a sine wave so it's like very even</span> <span data-start="891.63" data-end="894.93">and the interesting thing like about</span> <span data-start="894.93" data-end="896.91">these ways is that we can measure them</span> <span data-start="896.91" data-end="900.569">and we measure the frequency which is</span> <span data-start="900.569" data-end="903.81">the pattern and then a number of times</span> <span data-start="903.81" data-end="905.97">the wave pattern repeats a within a</span> <span data-start="905.97" data-end="910.38">second so you have like a wave pattern</span> <span data-start="910.38" data-end="912.509">starts at 0 it will peak to the top it</span> <span data-start="912.509" data-end="914.55">will peak down and then it will hit zero</span> <span data-start="914.55" data-end="921.66">again and this one cycle of the 1 cycle</span> <span data-start="921.66" data-end="925.829">is basically the number of times this</span> <span data-start="925.829" data-end="928.8">repeats within a second is what we call</span> <span data-start="928.8" data-end="930.509">the frequency it's not its measured in</span> </p>
<p><span data-start="930.509" data-end="935.04">Hertz so when I go back to this one the</span> <span data-start="935.04" data-end="938.1">pink wave will have like a very high</span> <span data-start="938.1" data-end="940.199">frequency because it repeats more often</span> <span data-start="940.199" data-end="942.66">and the red one at the top will have a</span> <span data-start="942.66" data-end="945.089">low frequency because it takes longer to</span> <span data-start="945.089" data-end="950.49">repeat itself what does this tell us</span> <span data-start="950.49" data-end="953.22">so you might be familiar with another</span> <span data-start="953.22" data-end="956.009">word which is pitch and the pitch is</span> <span data-start="956.009" data-end="959.16">basically just the way we perceive these</span> <span data-start="959.16" data-end="962.91">frequencies so a high frequency is</span> <span data-start="962.91" data-end="965.399">perceived as a higher pitch and a low</span> <span data-start="965.399" data-end="968.509">frequency is perceived as a lower pitch</span> <span data-start="968.509" data-end="970.829">that might sound simple but it took me a</span> <span data-start="970.829" data-end="973.949">long time to understand that but now we</span> <span data-start="973.949" data-end="978.439">know that we can go a bit further</span> <span data-start="978.439" data-end="980.97">because for the analysis of audio of</span> <span data-start="980.97" data-end="983.91">audio data we're talking about simple</span> <span data-start="983.91" data-end="986.97">frames and this respect to like 3</span> <span data-start="986.97" data-end="989.22">arguments that we need one was channel</span> <span data-start="989.22" data-end="992.16">then we have the passer size and then</span> <span data-start="992.16" data-end="996.41">the sample rate and the same here's a</span> <span data-start="996.41" data-end="998.939">diagram that kind of shows where</span> <span data-start="998.939" data-end="1001.85">channels and samples and frames fit</span> <span data-start="1001.85" data-end="1005.36">together so channels are played in</span> <span data-start="1005.36" data-end="1006.86">parallel in this case we have two</span> <span data-start="1006.86" data-end="1010.069">channels stereo like stereo so we have</span> <span data-start="1010.069" data-end="1011.569">left and a right channel we can also</span> <span data-start="1011.569" data-end="1013.13">only have one channel which is what I</span> <span data-start="1013.13" data-end="1015.5">was using because it's way easier to buy</span> <span data-start="1015.5" data-end="1018.01">do math with only one and A two or even</span> <span data-start="1018.01" data-end="1021.35">six channels or you can go up to a 32 if</span> <span data-start="1021.35" data-end="1022.97">you want or if you have like a real use</span> <span data-start="1022.97" data-end="1029.09">case and per frame all the samples of</span> <span data-start="1029.09" data-end="1032.45">the like the samples of a channel are</span> <span data-start="1032.45" data-end="1035.27">played in parallel in one frame and then</span> <span data-start="1035.27" data-end="1037.24">you go frame by frame by frame and have</span> <span data-start="1037.24" data-end="1043.91">samples per channel per frame and this</span> <span data-start="1043.91" data-end="1045.41">is like the way we analyze the audio</span> <span data-start="1045.41" data-end="1049.04">data in respect to time and so what are</span> <span data-start="1049.04" data-end="1050.27">all the lengths and the sample rate that</span> <span data-start="1050.27" data-end="1052.37">we give to the audio context length is</span> <span data-start="1052.37" data-end="1055.18">the sample is the size of sample frames</span> <span data-start="1055.18" data-end="1058.64">so and the sample rate is the number of</span> <span data-start="1058.64" data-end="1064.1">sample frames per second so I chose one</span> <span data-start="1064.1" data-end="1066.56">channel so that I can have a sample rate</span> <span data-start="1066.56" data-end="1071.69">of 44,000 100 Hertz this is like the</span> <span data-start="1071.69" data-end="1074">number of frames that we pass per second</span> <span data-start="1074" data-end="1079.58">so 44100 two frames per second and the</span> <span data-start="1079.58" data-end="1080.9">length of the buffer that we need to</span> <span data-start="1080.9" data-end="1084.17">store this data is basically these this</span> <span data-start="1084.17" data-end="1087.59">amount of samples per second which is</span> <span data-start="1087.59" data-end="1092.57">why I so I chose a sample like an audio</span> <span data-start="1092.57" data-end="1094.85">sample of 60 seconds so I would need the</span> <span data-start="1094.85" data-end="1101.02">length of the sample rate per like times</span> <span data-start="1101.02" data-end="1106.8">the seconds I hope I said that right</span> <span data-start="1106.81" data-end="1110.35">yeah so end of intermission so we like</span> <span data-start="1110.35" data-end="1112.28">basically need to I'm just like or I</span> <span data-start="1112.28" data-end="1115.85">need to understand how we like how live</span> <span data-start="1115.85" data-end="1118.01">audio processes audio data and all the</span> <span data-start="1118.01" data-end="1120.47">parameters that go into it just to like</span> <span data-start="1120.47" data-end="1127.1">load a song with an like simple request</span> <span data-start="1127.1" data-end="1130.13">which yeah so I'll get the song from</span> <span data-start="1130.13" data-end="1133.64">that I uploaded and have to run all</span> <span data-start="1133.64" data-end="1136.94">these I don't even run anything at this</span> <span data-start="1136.94" data-end="1138.26">point I just need to understand what I'm</span> <span data-start="1138.26" data-end="1141.47">doing and what kind of data I get next</span> <span data-start="1141.47" data-end="1143.12">up I hook up and analyze a node which is</span> <span data-start="1143.12" data-end="1147.17">the standard like it's a node that comes</span> <span data-start="1147.17" data-end="1149.12">with the Web Audio</span> <span data-start="1149.12" data-end="1154.309">context and it gives you like data of</span> <span data-start="1154.309" data-end="1157.97">the of the input source like the sound</span> <span data-start="1157.97" data-end="1161.659">or the file that you upload you created</span> <span data-start="1161.659" data-end="1167.179">from the context and we or i define a</span> <span data-start="1167.179" data-end="1170.57">the FFT size of the of the analyzer node</span> </p>
<p><span data-start="1170.57" data-end="1172.46">F of T stands for fast Fourier</span> <span data-start="1172.46" data-end="1176.72">transformation I think which is a way or</span> <span data-start="1176.72" data-end="1178.549">an algorithm that analyze the sound data</span> <span data-start="1178.549" data-end="1180.559">it's built into Web Audio API so you</span> <span data-start="1180.559" data-end="1181.999">don't have to understand what's going on</span> <span data-start="1181.999" data-end="1185.72">because this is crazy and what the</span> <span data-start="1185.72" data-end="1188.389">number is it's a number that needs to be</span> <span data-start="1188.389" data-end="1192.35">a power of two and this later influences</span> <span data-start="1192.35" data-end="1195.44">the way we received the samples from our</span> <span data-start="1195.44" data-end="1200.74">analyzing part I chose 4096</span> <span data-start="1200.74" data-end="1203.649">maybe remember that it will come back</span> <span data-start="1203.649" data-end="1205.73">what else do I have I have a script</span> <span data-start="1205.73" data-end="1208.34">processor node which is also note of the</span> <span data-start="1208.34" data-end="1213.619">web audio context and the way this works</span> <span data-start="1213.619" data-end="1216.44">is the fun thing is actually that the</span> <span data-start="1216.44" data-end="1218.09">documentation already says that the</span> <span data-start="1218.09" data-end="1220.24">script processor note is deprecated</span> <span data-start="1220.24" data-end="1222.86">without having the successor which is</span> <span data-start="1222.86" data-end="1225.83">the audio worker implemented in any</span> <span data-start="1225.83" data-end="1230.149">browser which is yeah I don't know yeah</span> <span data-start="1230.149" data-end="1232.309">so I like basically needed to work with</span> <span data-start="1232.309" data-end="1233.69">something that is already deprecated</span> <span data-start="1233.69" data-end="1235.399">because the successor is not yet there</span> <span data-start="1235.399" data-end="1240.259">cool but it works but the the script the</span> <span data-start="1240.259" data-end="1242.299">processor node and gets three arguments</span> <span data-start="1242.299" data-end="1244.129">the first one is also by the power of</span> <span data-start="1244.129" data-end="1249.499">two it's the amount of samples it it</span> <span data-start="1249.499" data-end="1251.96">takes like four one cycle of processing</span> <span data-start="1251.96" data-end="1256.1">and an output like output and input and</span> <span data-start="1256.1" data-end="1259.85">output connections which is in both</span> <span data-start="1259.85" data-end="1262.999">cases one for me because I like to keep</span> <span data-start="1262.999" data-end="1267.32">things simple so that they work and the</span> <span data-start="1267.32" data-end="1268.999">processor node comes with an audio</span> <span data-start="1268.999" data-end="1271.97">process event and here's an interesting</span> <span data-start="1271.97" data-end="1274.07">part where I like hook up the analyzer</span> <span data-start="1274.07" data-end="1278.539">node to get the data and the data that</span> <span data-start="1278.539" data-end="1281.46">we get is called byte frequency data</span> <span data-start="1281.46" data-end="1284.01">and I think some for another</span> <span data-start="1284.01" data-end="1285.99">intermission because I talk a lot and I</span> <span data-start="1285.99" data-end="1287.64">took fast and this is all these weird</span> <span data-start="1287.64" data-end="1292.32">words the FFT data that we get from the</span> <span data-start="1292.32" data-end="1295.409">analyzer node it looks like this</span> <span data-start="1295.409" data-end="1298.35">and in my case I would get an array that</span> <span data-start="1298.35" data-end="1302.49">has length of 161 like elements in an</span> <span data-start="1302.49" data-end="1304.32">array this is calculated from the</span> <span data-start="1304.32" data-end="1307.89">original sample rates from the audio</span> <span data-start="1307.89" data-end="1313.2">context divided by the sample rate of</span> <span data-start="1313.2" data-end="1316.14">this processor node which in this case</span> <span data-start="1316.14" data-end="1318.75">yields 161 so I can adjust these numbers</span> <span data-start="1318.75" data-end="1322.08">to get more or less and every element in</span> <span data-start="1322.08" data-end="1325.86">itself is an unsigned you you into eight</span> <span data-start="1325.86" data-end="1328.529">array which is an error like structured</span> <span data-start="1328.529" data-end="1330.57">for dealing with binary data in your</span> <span data-start="1330.57" data-end="1336.169">browser and each of these areas has 2048</span> <span data-start="1336.169" data-end="1339.09">like value pairs and this is like the</span> <span data-start="1339.09" data-end="1343.47">half of the half of the rate that I gave</span> <span data-start="1343.47" data-end="1348.51">to the analyzer node which was 4096 so I</span> <span data-start="1348.51" data-end="1350.37">get like half of this so you need to</span> <span data-start="1350.37" data-end="1352.26">remind yourself that like you will</span> <span data-start="1352.26" data-end="1354.809">always lose some sort of you will lose a</span> <span data-start="1354.809" data-end="1357.63">lot of information or samples along the</span> <span data-start="1357.63" data-end="1360.029">way so start high and you will in the</span> <span data-start="1360.029" data-end="1361.44">end you need to get something that is</span> <span data-start="1361.44" data-end="1365.37">still kind of a decent output out of the</span> <span data-start="1365.37" data-end="1370.14">data within DV like the you I call them</span> <span data-start="1370.14" data-end="1371.45">you into eight areas but I don't know</span> <span data-start="1371.45" data-end="1375.33">look like and they look like this so you</span> <span data-start="1375.33" data-end="1378.299">always have the key and like some value</span> <span data-start="1378.299" data-end="1380.1">and that the first like I had this in my</span> <span data-start="1380.1" data-end="1382.289">console I was like what what is this</span> <span data-start="1382.289" data-end="1385.02">like I thought about like I would get a</span> <span data-start="1385.02" data-end="1387.02">frequency or something and then</span> <span data-start="1387.02" data-end="1388.95">something related to the frequency</span> <span data-start="1388.95" data-end="1390.48">because that's what the thing should do</span> <span data-start="1390.48" data-end="1396.72">analyze my audio data so I yeah I was</span> <span data-start="1396.72" data-end="1398.97">reading some Stack Exchange thread where</span> <span data-start="1398.97" data-end="1401.07">someone is like I want to do like fast</span> </p>
<p><span data-start="1401.07" data-end="1402.84">Fourier transformation but what do I do</span> <span data-start="1402.84" data-end="1404.549">with the data that I get and then I</span> <span data-start="1404.549" data-end="1407.88">understood that every key corresponds to</span> <span data-start="1407.88" data-end="1410.7">a frequency already and the value that</span> <span data-start="1410.7" data-end="1413.97">we have here is which is always like a</span> <span data-start="1413.97" data-end="1414.94">value between one</span> <span data-start="1414.94" data-end="1419.32">and 255 which is like how like the</span> <span data-start="1419.32" data-end="1421.179">volume or like the the magnitude of that</span> <span data-start="1421.179" data-end="1423.72">frequency within the sample that we have</span> <span data-start="1423.72" data-end="1426.94">so there's a lot of them in this like</span> <span data-start="1426.94" data-end="1428.229">the little screenshot that we have here</span> <span data-start="1428.229" data-end="1432.309">key 14 would be like the the strongest</span> <span data-start="1432.309" data-end="1437.019">like the highest magnitude and for the</span> <span data-start="1437.019" data-end="1438.639">kind of analysis that I did because I</span> <span data-start="1438.639" data-end="1439.69">have no idea what I'm doing</span> </p>
<p><span data-start="1439.69" data-end="1442.809">I just thought mmm I just like pick the</span> <span data-start="1442.809" data-end="1444.879">key with the highest value and that is</span> <span data-start="1444.879" data-end="1446.529">kind of like the core that I would be</span> <span data-start="1446.529" data-end="1448.72">playing which is like a very very very</span> <span data-start="1448.72" data-end="1451.989">very simplified solution to the problem</span> <span data-start="1451.989" data-end="1454.21">that I had of like getting a chord from</span> <span data-start="1454.21" data-end="1458.979">my audio sample data yeah</span> <span data-start="1458.979" data-end="1460.96">the way that you calculate the actual</span> <span data-start="1460.96" data-end="1466.21">frequency from this is kind of still</span> <span data-start="1466.21" data-end="1468.639">another like weird thing that I needed</span> <span data-start="1468.639" data-end="1472.809">to figure out so I from my all my</span> <span data-start="1472.809" data-end="1475.119">samples like the the very long areas I</span> <span data-start="1475.119" data-end="1477.489">always took the the biggest value and</span> <span data-start="1477.489" data-end="1484.33">the key and the key that I get so the</span> <span data-start="1484.33" data-end="1487.57">the samples that the FTT data gets me is</span> <span data-start="1487.57" data-end="1490.749">always within the the range of what is</span> <span data-start="1490.749" data-end="1493.33">here belen hertz frequency to the human</span> <span data-start="1493.33" data-end="1497.95">ear so humans can perceive frequencies</span> <span data-start="1497.95" data-end="1501.039">between 20 Hertz and 20,000 Hertz and in</span> <span data-start="1501.039" data-end="1503.139">the beginning I started with forty four</span> <span data-start="1503.139" data-end="1505.33">thousand one hundred Hertz and I will</span> <span data-start="1505.33" data-end="1507.879">lose like kind of half of it in the in</span> <span data-start="1507.879" data-end="1509.889">the analyzing process so I would still</span> <span data-start="1509.889" data-end="1513.009">end up with more frequencies available</span> <span data-start="1513.009" data-end="1516.639">to analyze than humans can hear which is</span> <span data-start="1516.639" data-end="1523.289">cool so I can like cover all that and</span> <span data-start="1523.289" data-end="1526.299">this the range that I then get is then</span> <span data-start="1526.299" data-end="1527.94">divided again by the keys so I can</span> <span data-start="1527.94" data-end="1530.95">recalculate the key that corresponds to</span> <span data-start="1530.95" data-end="1532.779">a frequency and once I have the</span> <span data-start="1532.779" data-end="1534.97">frequency I can look up what this would</span> <span data-start="1534.97" data-end="1538.269">be as a musical note because those are</span> <span data-start="1538.269" data-end="1540.46">just basically every frequency</span> <span data-start="1540.46" data-end="1545.32">corresponds to a musical note this would</span> <span data-start="1545.32" data-end="1546.489">be so much cooler if you had actually</span> <span data-start="1546.489" data-end="1550.79">seen the game and</span> <span data-start="1550.8" data-end="1554.89">mmm-hmm you have it okay</span> <span data-start="1554.89" data-end="1558.31">he has it working okay I will like we'll</span> <span data-start="1558.31" data-end="1560.32">try again in the end because I'm kind of</span> <span data-start="1560.32" data-end="1561.19">almost done</span> <span data-start="1561.19" data-end="1563.02">because part two the input that did not</span> <span data-start="1563.02" data-end="1566.71">work this is actually all done by Chris</span> </p>
<p><span data-start="1566.71" data-end="1568.99">Wilson who does a lot of cool web audio</span> <span data-start="1568.99" data-end="1573.58">hacks and he made a pitch detector which</span> <span data-start="1573.58" data-end="1576.64">I found really cool and I yeah basically</span> <span data-start="1576.64" data-end="1578.32">took his code from the pitch detection</span> <span data-start="1578.32" data-end="1582.31">and made it so it like fits within the</span> <span data-start="1582.31" data-end="1585.37">game but he does he gets the request</span> <span data-start="1585.37" data-end="1588.04">like he gets the user media like the</span> <span data-start="1588.04" data-end="1591.25">audio stream uses dead stream as a</span> <span data-start="1591.25" data-end="1592.84">source for an audio context where I</span> <span data-start="1592.84" data-end="1596.08">would use in my offline in my offline</span> <span data-start="1596.08" data-end="1598.78">analysis would use a song or like an</span> <span data-start="1598.78" data-end="1602.08">audio file and he also uses an island as</span> <span data-start="1602.08" data-end="1604.54">a node to get the data but he does</span> <span data-start="1604.54" data-end="1606.13">different that he uses like an actual</span> <span data-start="1606.13" data-end="1608.14">algorithm and an autocorrelation</span> <span data-start="1608.14" data-end="1611.38">algorithm to determine the actual input</span> <span data-start="1611.38" data-end="1615.07">frequency where I just like hacked</span> <span data-start="1615.07" data-end="1616.69">something together that kind of worked</span> <span data-start="1616.69" data-end="1620.53">for me which is cool yeah so if you want</span> <span data-start="1620.53" data-end="1622.15">to know if you read if you want to read</span> <span data-start="1622.15" data-end="1625.06">about autocorrelation there is a lot of</span> <span data-start="1625.06" data-end="1626.74">stuff on Wikipedia I just stopped after</span> <span data-start="1626.74" data-end="1629.53">the intro because I don't I couldn't get</span> <span data-start="1629.53" data-end="1634.27">my head around it which is fine it I was</span> <span data-start="1634.27" data-end="1635.56">part of the the game that I was working</span> <span data-start="1635.56" data-end="1642.79">on okay so we had like the the the song</span> <span data-start="1642.79" data-end="1644.47">that I would load that like most of the</span> <span data-start="1644.47" data-end="1646.42">code came from me the second part of the</span> <span data-start="1646.42" data-end="1648.58">input that came from Chris Wilson's</span> <span data-start="1648.58" data-end="1651.55">pitch detection and then I have like the</span> <span data-start="1651.55" data-end="1653.23">actual game like the interface and how</span> <span data-start="1653.23" data-end="1654.85">everything goes together I like to call</span> <span data-start="1654.85" data-end="1657.7">it the spaghetti code because it's just</span> <span data-start="1657.7" data-end="1660.37">like making things work in whatever kind</span> <span data-start="1660.37" data-end="1662.97">of way and thinking about the logic and</span> <span data-start="1662.97" data-end="1664.48">what could I do</span> <span data-start="1664.48" data-end="1667.75">so what would have been is like I would</span> <span data-start="1667.75" data-end="1671.08">fire events every time like I detect the</span> <span data-start="1671.08" data-end="1674.77">chord change in the data and once I get</span> <span data-start="1674.77" data-end="1676.179">to take like a chord change in the the</span> <span data-start="1676.179" data-end="1679">sound that I'm that in the song that I</span> <span data-start="1679" data-end="1681.1">analyzed I would fire an event that</span> <span data-start="1681.1" data-end="1681.309">would</span> <span data-start="1681.309" data-end="1684.37">then check the life input data for like</span> <span data-start="1684.37" data-end="1687.549">hey do these chords match and I just in</span> <span data-start="1687.549" data-end="1690.19">this case I only compare the actual</span> <span data-start="1690.19" data-end="1692.169">musical notes that I calculated and not</span> <span data-start="1692.169" data-end="1696.48">the frequencies because the the</span> <span data-start="1696.48" data-end="1699.639">frequency spans from the life input and</span> <span data-start="1699.639" data-end="1702.49">the offline are they diverged a lot in</span> <span data-start="1702.49" data-end="1705.789">the process then I made up a scoring</span> <span data-start="1705.789" data-end="1709.21">system where I like calculated basically</span> <span data-start="1709.21" data-end="1711.549">the percentage on based upon the amount</span> <span data-start="1711.549" data-end="1714.49">of chord changes and then I had some</span> <span data-start="1714.49" data-end="1717.249">visuals like some simple drawings on a</span> <span data-start="1717.249" data-end="1719.71">canvas with bars that I calculated from</span> <span data-start="1719.71" data-end="1725.23">again the transformation data and then</span> <span data-start="1725.23" data-end="1726.94">it would have been done yes and it</span> <span data-start="1726.94" data-end="1731.559">worked kind of I will try again now for</span> <span data-start="1731.559" data-end="1734.129">some reason what browser did you use</span> <span data-start="1734.129" data-end="1739.679">same cool yeah maybe it was just weird</span> <span data-start="1739.679" data-end="1749.499">one last time no can we hook it up okay</span> </p>
<p><span data-start="1749.499" data-end="1752.799">I will quickly end the presentation</span> <span data-start="1752.799" data-end="1755.2">because I think two more slides one is</span> <span data-start="1755.2" data-end="1757.809">thank you so much for like you as</span> <span data-start="1757.809" data-end="1760.509">community to the people who write the</span> <span data-start="1760.509" data-end="1762.58">Mozilla developer Network articles and</span> <span data-start="1762.58" data-end="1764.649">documentation people hanging out in the</span> <span data-start="1764.649" data-end="1767.019">web audio slack and all other support</span> <span data-start="1767.019" data-end="1768.279">channels and select the people who</span> <span data-start="1768.279" data-end="1770.529">answer questions in-depth on Stack</span> </p>
<p><span data-start="1770.529" data-end="1774.73">Overflow this is like I like this</span> <span data-start="1774.73" data-end="1776.32">community because we help each other and</span> <span data-start="1776.32" data-end="1778.36">I like the the thought of like having</span> <span data-start="1778.36" data-end="1780.82">communities to support all the people</span> <span data-start="1780.82" data-end="1782.74">like people like me who have no idea</span> <span data-start="1782.74" data-end="1784.509">what they're doing and still like spend</span> <span data-start="1784.509" data-end="1786.82">a lot of time hacking on stuff and I</span> <span data-start="1786.82" data-end="1787.99">would like to thank all the people who</span> <span data-start="1787.99" data-end="1789.759">like open-source the things so that I</span> <span data-start="1789.759" data-end="1792.369">can use them build upon them and develop</span> <span data-start="1792.369" data-end="1796.059">things further and thank you also given</span> <span data-start="1796.059" data-end="1797.83">a pulse to yourself because you're part</span> <span data-start="1797.83" data-end="1805.28">of that community</span> <span data-start="1805.29" data-end="1809.05">yeah and there's an online version of</span> <span data-start="1809.05" data-end="1810.49">the game I don't even know if that works</span> <span data-start="1810.49" data-end="1812.47">and there's also the source code of like</span> <span data-start="1812.47" data-end="1813.85">to get the game and the presentation</span> <span data-start="1813.85" data-end="1816.73">it's all on github if you're interested</span> <span data-start="1816.73" data-end="1818.95">and if this if there's a lovely person</span> <span data-start="1818.95" data-end="1829.98">has it working on their computer once no</span> </p>
<p><span data-start="1829.98" data-end="1837.73">I only have an HTM I think okay we can</span> <span data-start="1837.73" data-end="1839.47">try it in the break come find me you can</span> <span data-start="1839.47" data-end="1854.25">play the ukulele if you want thank you</span> </p>
</section>

<!-- div#container ends -->
</div>

<img alt="The End" id="fin" src="../images/fin.jpg">

<script>
/*eslint-disable */
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google-translate');
}
/* eslint-enable */
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="../js/main.js"></script>

</body>

</html>
