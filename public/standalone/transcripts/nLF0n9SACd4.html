<!DOCTYPE html>

<!--
Copyright 2019 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="//google.com">
  <meta name="description" content="web.dev LIVE video transcript">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>nLF0n9SACd4</title>
  <link rel="stylesheet" href="../css/main.css">
</head>

<body>

<iframe id="youtube" src="https://www.youtube.com/embed/nLF0n9SACd4?enablejsapi=1"></iframe>

<div id="container">

<div id="options">
  <div id="google-translate"></div>
  <div>
    <input type="checkbox" id="videoSticky" checked>
    <label for="videoSticky">Video position sticky</label>
  </div>
  <div>
    <input type="checkbox" id="captionScroll" checked>
    <label for="captionScroll">Keep current caption visible</label>
  </div>
</div>

<section>
<p><span data-start="2.06" data-end="6.029">all right hi my name is Dan and I work</span> <span data-start="6.029" data-end="10.74">at Facebook on the react team and in</span> <span data-start="10.74" data-end="12.15">this talk I want to talk about the</span> <span data-start="12.15" data-end="14.34">future of react and originally when I</span> <span data-start="14.34" data-end="16.41">planned this talk I thought that I would</span> <span data-start="16.41" data-end="19.08">talk about react 16o release and then</span> <span data-start="19.08" data-end="21.75">the upcoming react 16 free release which</span> <span data-start="21.75" data-end="24.15">finally fixes the contacts API and then</span> <span data-start="24.15" data-end="26.31">talk a little bit at the end about the</span> <span data-start="26.31" data-end="28.529">future of react but I was playing with</span> <span data-start="28.529" data-end="30.449">some features that my teammates have</span> <span data-start="30.449" data-end="33.39">been building like future features some</span> <span data-start="33.39" data-end="34.92">of them we've talked before some of them</span> <span data-start="34.92" data-end="37.62">we've never even talked before and I</span> <span data-start="37.62" data-end="39">realized that I actually want to</span> <span data-start="39" data-end="40.8">dedicate my whole talk to these new</span> <span data-start="40.8" data-end="43.11">features that aren't available yet but I</span> <span data-start="43.11" data-end="45.719">find them pretty fascinating and I hope</span> <span data-start="45.719" data-end="50.64">you like them too so disclaimer I'm</span> <span data-start="50.64" data-end="52.649">going to show the demos this is a very</span> <span data-start="52.649" data-end="56.37">kind of demo oriented talk the things</span> <span data-start="56.37" data-end="57.629">that I'm showing are not production</span> <span data-start="57.629" data-end="60.42">already yet the exact api's will change</span> <span data-start="60.42" data-end="64.229">don't fixate on them too much but I want</span> <span data-start="64.229" data-end="66.39">to emphasize that this this is a real</span> <span data-start="66.39" data-end="68.13">builds of react so there's enough fake</span> <span data-start="68.13" data-end="71.64">journals these are using actual actual</span> <span data-start="71.64" data-end="75.42">react code and I want to start with a</span> <span data-start="75.42" data-end="78.63">question and the question is as library</span> <span data-start="78.63" data-end="82.07">developers we need to think about our</span> <span data-start="82.07" data-end="84.72">immediate users the developers who are</span> <span data-start="84.72" data-end="87.03">building apps and also the users of our</span> <span data-start="87.03" data-end="89.28">users that is the actual people parties</span> <span data-start="89.28" data-end="93.299">in those apps and so at Facebook our</span> <span data-start="93.299" data-end="95.43">scale is pretty global so we need to</span> <span data-start="95.43" data-end="97.439">consider all kinds of connections and</span> <span data-start="97.439" data-end="101.04">all kinds of devices such as you know</span> <span data-start="101.04" data-end="103.92">high powered CPUs like on a laptop or</span> <span data-start="103.92" data-end="106.619">low powered CPU such as on the mobile</span> <span data-start="106.619" data-end="108.869">device and either fast or slow</span> <span data-start="108.869" data-end="111.57">connections and we need to think about</span> <span data-start="111.57" data-end="114.45">how can we as library developers empower</span> <span data-start="114.45" data-end="117.93">the application developers to give the</span> <span data-start="117.93" data-end="120.84">best user experience regardless of the</span> <span data-start="120.84" data-end="123.03">device or the network and is there</span> <span data-start="123.03" data-end="124.829">anything that we are can do better to</span> <span data-start="124.829" data-end="130.279">enable them</span> <span data-start="130.289" data-end="132.87">so when we think about those issues we</span> <span data-start="132.87" data-end="134.939">tend to group them into two different</span> <span data-start="134.939" data-end="138">areas the issues related to the</span> <span data-start="138" data-end="139.739">computing power and the differences in</span> <span data-start="139.739" data-end="141.75">the computing power and the different</span> <span data-start="141.75" data-end="143.519">the issues are related to the</span> <span data-start="143.519" data-end="145.68">differences in network speed and I'm</span> <span data-start="145.68" data-end="149.87">going to refer to this as CPU and IO and</span> <span data-start="149.87" data-end="153.239">in the context of react when we think of</span> <span data-start="153.239" data-end="155.549">the CPU work you usually think about</span> <span data-start="155.549" data-end="157.47">creating the Dom nodes creating</span> <span data-start="157.47" data-end="160.079">components rendering them updating them</span> <span data-start="160.079" data-end="163.23">calculating the updates and so on so</span> <span data-start="163.23" data-end="165.18">things that are tend to be synchronous</span> <span data-start="165.18" data-end="168.299">and when we think about the i/o work in</span> <span data-start="168.299" data-end="170.099">the context of react we should think</span> <span data-start="170.099" data-end="171.75">about the data fashion and the code</span> <span data-start="171.75" data-end="173.909">splitting so is there something that we</span> </p>
<p><span data-start="173.909" data-end="177.42">I could do better in those areas I'm</span> <span data-start="177.42" data-end="181.98">going to start with the CPU area and I</span> <span data-start="181.98" data-end="184.47">have a demo as I said this is a demo</span> <span data-start="184.47" data-end="192.54">oriented talk so this is my demo if</span> <span data-start="192.54" data-end="194.4">maybe it doesn't look like a real I have</span> <span data-start="194.4" data-end="196.5">that T built but at least it's pretty</span> <span data-start="196.5" data-end="199.019">beautiful and it's graphic so it's</span> <span data-start="199.019" data-end="202.44">easier to see from the audience but what</span> </p>
<p><span data-start="202.44" data-end="205.47">I have here is I have a tax box I can</span> <span data-start="205.47" data-end="207.47">type into the text box</span> <span data-start="207.47" data-end="211.47">hello yes come and I have a bunch of</span> <span data-start="211.47" data-end="213.329">charts and every time I type the charts</span> <span data-start="213.329" data-end="215.819">update and I made it so that the longer</span> <span data-start="215.819" data-end="223.23">I type the more complicated the charts</span> <span data-start="223.23" data-end="226.739">become so this lets me show that no</span> <span data-start="226.739" data-end="229.709">matter how fast the implementation of</span> <span data-start="229.709" data-end="232.62">component is eventually if the component</span> <span data-start="232.62" data-end="235.23">tree is deep enough and there are enough</span> </p>
<p><span data-start="235.23" data-end="237.9">Dom nodes there is enough computation is</span> <span data-start="237.9" data-end="240.48">going to slow down and I don't mean to</span> <span data-start="240.48" data-end="242.25">nitpick us on a specific like chart</span> <span data-start="242.25" data-end="245.79">example the you can imagine that instead</span> <span data-start="245.79" data-end="247.56">of a chart there could be any kind of</span> <span data-start="247.56" data-end="249.69">react component tree so the main point</span> <span data-start="249.69" data-end="251.34">is just that it's a heavy tree with a</span> <span data-start="251.34" data-end="252.989">lot of dumb notes a lot of components</span> <span data-start="252.989" data-end="256.549">and it updates every time I type and so</span> <span data-start="256.549" data-end="259.409">already with this level of complexity</span> <span data-start="259.409" data-end="261.47">when I type I experience color</span> <span data-start="261.47" data-end="263.06">and I'm the one who experiences it</span> <span data-start="263.06" data-end="265.1">you're probably maybe you don't see it</span> <span data-start="265.1" data-end="269.84">so I build a small clock so the clock</span> <span data-start="269.84" data-end="274.28">shows the how how the screen updates so</span> <span data-start="274.28" data-end="277.34">when the when the crate sorry when the</span> <span data-start="277.34" data-end="280.19">clock is green it means that the last</span> <span data-start="280.19" data-end="283.64">frames are were drawn pretty near to</span> <span data-start="283.64" data-end="287.03">each other so it feels responsive but if</span> <span data-start="287.03" data-end="290.84">you see when I type I can see yellow and</span> <span data-start="290.84" data-end="292.7">even red this means that it takes a lot</span> <span data-start="292.7" data-end="295.55">of time between different frames so the</span> <span data-start="295.55" data-end="303.62">user experience suffers and eventually</span> <span data-start="303.62" data-end="306.11">no matter usually no matter what kind of</span> <span data-start="306.11" data-end="307.58">app you're building eventually you're</span> <span data-start="307.58" data-end="309.44">bumping into this problem where no</span> <span data-start="309.44" data-end="311.15">particular component is slow but you</span> <span data-start="311.15" data-end="312.86">just have so many features and such</span> <span data-start="312.86" data-end="315.91">deepness then that you have this problem</span> <span data-start="315.91" data-end="318.59">so the typical solution to this is to</span> <span data-start="318.59" data-end="320.9">debounce the input so instead of</span> <span data-start="320.9" data-end="323.57">updating the updating the output</span> <span data-start="323.57" data-end="326.57">immediately as a type I can just wait</span> <span data-start="326.57" data-end="328.82">until the type and finishes and then do</span> <span data-start="328.82" data-end="334.1">a single update so I can type the the</span> <span data-start="334.1" data-end="338.18">input is completely responsive but then</span> <span data-start="338.18" data-end="340.1">the user experience suffers in the sense</span> <span data-start="340.1" data-end="342.77">that if my computer is actually powerful</span> <span data-start="342.77" data-end="345.86">enough so like I will remove some</span> <span data-start="345.86" data-end="348.35">characters to make the the the</span> <span data-start="348.35" data-end="352.01">complexity smaller I still have to wait</span> <span data-start="352.01" data-end="354.65">until to finish typing to see the</span> <span data-start="354.65" data-end="356.66">results so this program doesn't really</span> <span data-start="356.66" data-end="359.48">adapt to the performance of the of my</span> <span data-start="359.48" data-end="361.97">computer and to the complexity of the</span> <span data-start="361.97" data-end="366.8">team and this is even more pronounced if</span> </p>
<p><span data-start="366.8" data-end="369.919">I enable the CPU throttling so CPU</span> <span data-start="369.919" data-end="372.74">throttling is a way to emulate</span> <span data-start="372.74" data-end="375.14">performance of a mobile device of a less</span> <span data-start="375.14" data-end="377.63">powered device so I will slow down the</span> <span data-start="377.63" data-end="383.78">CPU by 4 times and now you can see that</span> <span data-start="383.78" data-end="388.49">even so a type which is called Iceland</span> <span data-start="388.49" data-end="392.33">and even though you waited a little bit</span> <span data-start="392.33" data-end="395.36">it still froze the underlying</span> <span data-start="395.36" data-end="397.22">it's just that the update is big and</span> <span data-start="397.22" data-end="399.199">it's synchronous so as soon as the react</span> <span data-start="399.199" data-end="402.139">starts rendering it cannot stop well</span> <span data-start="402.139" data-end="404.65">what if there was a way to make updates</span> <span data-start="404.65" data-end="407.75">asynchronous so that reactive starts</span> <span data-start="407.75" data-end="409.819">rendering something but then healed back</span> <span data-start="409.819" data-end="411.71">to the browser and if there is a higher</span> <span data-start="411.71" data-end="414.409">priority event like an input the browser</span> <span data-start="414.409" data-end="416.689">could handle that first and not started</span> <span data-start="416.689" data-end="419.3">a thread so I will disable the throttle</span> <span data-start="419.3" data-end="421.43">thing for now let's see how it normally</span> <span data-start="421.43" data-end="431.36">behaves in asynchronous mode so what you</span> <span data-start="431.36" data-end="433.669">can see here is that when the input is</span> <span data-start="433.669" data-end="436.969">short and it doesn't there is not a lot</span> <span data-start="436.969" data-end="438.979">of computation in a base almost</span> <span data-start="438.979" data-end="441.469">synchronously so it feels like as if it</span> <span data-start="441.469" data-end="450.169">were synchronous but if I type more what</span> <span data-start="450.169" data-end="452.509">happens is that instead of hanging the</span> <span data-start="452.509" data-end="454.58">thread the thread says responds if you</span> <span data-start="454.58" data-end="456.379">can see that it's most agreeing but</span> <span data-start="456.379" data-end="459.44">instead we actress updates the chart</span> <span data-start="459.44" data-end="462.44">it's left less often and the elect</span> <span data-start="462.44" data-end="464.87">behind my input a little bit but in many</span> <span data-start="464.87" data-end="466.94">cases this actually doesn't matter and</span> <span data-start="466.94" data-end="469.4">it's a completely fine compromise from</span> <span data-start="469.4" data-end="473.9">the UI perspective let's see what</span> <span data-start="473.9" data-end="476.99">happens on a slow device so I enable the</span> </p>
<p><span data-start="476.99" data-end="486.2">CPU throttling four times slower</span> <span data-start="486.21" data-end="488.38">you can see that it does starter a</span> <span data-start="488.38" data-end="490.78">little bit but it's mostly green and it</span> <span data-start="490.78" data-end="492.61">tries to catch up to of my typing even</span> <span data-start="492.61" data-end="495.43">though the device is slower compared to</span> <span data-start="495.43" data-end="497.02">the synchronous version where it just</span> <span data-start="497.02" data-end="507.53">stutters on every keystroke</span> <span data-start="507.54" data-end="510.28">of course in real apps you often can</span> <span data-start="510.28" data-end="512.32">optimize updates specifically so maybe</span> <span data-start="512.32" data-end="515.14">only part of your app updates and so you</span> <span data-start="515.14" data-end="516.97">can just update those components and</span> <span data-start="516.97" data-end="522.099">avoid a large update but not every there</span> <span data-start="522.099" data-end="523.539">are also scenarios where you just need</span> <span data-start="523.539" data-end="526.51">to mount and you have a tree so I will</span> <span data-start="526.51" data-end="529.87">unmount this chart completely and then</span> <span data-start="529.87" data-end="532.99">mount it again with froth enabled so</span> <span data-start="532.99" data-end="535.15">that's simulating a slow device and you</span> <span data-start="535.15" data-end="537.07">can see that it hangs every time and</span> <span data-start="537.07" data-end="539.59">while it's while it's rendering the</span> <span data-start="539.59" data-end="540.13">chart</span> <span data-start="540.13" data-end="542.5">nothing is interactive so I can actually</span> <span data-start="542.5" data-end="544.15">click on this clock to simulate an</span> <span data-start="544.15" data-end="546.46">interaction but while it's mounting it</span> <span data-start="546.46" data-end="550.66">doesn't register my clicks now</span> <span data-start="550.66" data-end="552.13">debouncing doesn't help us here because</span> <span data-start="552.13" data-end="554.35">d bouncing is only helpful for updates</span> <span data-start="554.35" data-end="556.24">but here I'm just mounting a huge</span> <span data-start="556.24" data-end="558.46">component tree so let's compare this</span> <span data-start="558.46" data-end="560.83">with asynchronous mode and I still have</span> <span data-start="560.83" data-end="562.27">the throttle and a enabled so that's</span> <span data-start="562.27" data-end="566.35">emulating the slow device so in</span> <span data-start="566.35" data-end="568.84">asynchronous mode you can see that even</span> <span data-start="568.84" data-end="570.67">though it Strutters a little bit it</span> <span data-start="570.67" data-end="573.58">doesn't go into red and interestingly</span> <span data-start="573.58" data-end="576.49">the circle stays interactive so I can</span> <span data-start="576.49" data-end="579.49">actually I can start mountain I can</span> <span data-start="579.49" data-end="581.8">click on this interact with this so the</span> <span data-start="581.8" data-end="584.53">whole app is still working while the</span> <span data-start="584.53" data-end="587.44">rendering is mounting in fact I can even</span> <span data-start="587.44" data-end="590.35">start typing in the input and it's going</span> <span data-start="590.35" data-end="596.47">to update to my type in so that was the</span> </p>
<p><span data-start="596.47" data-end="599.53">CPU demo</span> <span data-start="599.54" data-end="606.07">[Applause]</span> <span data-start="606.07" data-end="608.96">and I want to emphasize that this is not</span> <span data-start="608.96" data-end="611.06">about the charts or the inputs we've</span> <span data-start="611.06" data-end="613.34">built a generic way to ensure the high</span> <span data-start="613.34" data-end="615.56">priority updates don't get blocked by</span> <span data-start="615.56" data-end="617.51">low prior to update and in this</span> <span data-start="617.51" data-end="619.67">particular example high priority update</span> <span data-start="619.67" data-end="621.71">was updating the input and a low</span> <span data-start="621.71" data-end="623.45">priority update was rerender in the</span> <span data-start="623.45" data-end="625.46">chart but it could have been any kind of</span> <span data-start="625.46" data-end="628.37">react component for example a feed story</span> <span data-start="628.37" data-end="630.98">that gets loaded and we don't want to</span> <span data-start="630.98" data-end="632.96">freeze the scroll while we'll load in</span> <span data-start="632.96" data-end="636.11">new items and defeat and we call this</span> <span data-start="636.11" data-end="640.19">feature time slicing so it doesn't block</span> <span data-start="640.19" data-end="642.17">the Frog the thread while it's rendering</span> <span data-start="642.17" data-end="644.9">and if my device is fast enough it feels</span> <span data-start="644.9" data-end="647.39">almost like it's synchronous but if it</span> <span data-start="647.39" data-end="649.55">is slow then it feels at least it feels</span> <span data-start="649.55" data-end="652.43">responsive so it adapts to the device</span> <span data-start="652.43" data-end="654.8">thanks to browser exposing a request</span> <span data-start="654.8" data-end="657.1">idle callback api that we use for that</span> <span data-start="657.1" data-end="659.6">also notice that only the final state</span> <span data-start="659.6" data-end="662.27">was displayed the update the rendered</span> <span data-start="662.27" data-end="664.04">screen is always consistent we don't get</span> <span data-start="664.04" data-end="667.28">artifacts of slowly rendering something</span> <span data-start="667.28" data-end="669.89">that is going to cause a junky user</span> <span data-start="669.89" data-end="672.11">experience we only flush when the low</span> <span data-start="672.11" data-end="674.54">priority update is ready and you might</span> <span data-start="674.54" data-end="677.96">think oh maybe I changed those chars to</span> <span data-start="677.96" data-end="680.3">like make it's probably a lot of work to</span> <span data-start="680.3" data-end="683.42">make charts this chart component worked</span> <span data-start="683.42" data-end="685.7">like this but actually I just used it a</span> <span data-start="685.7" data-end="687.65">ready-made component from NPM</span> </p>
<p><span data-start="687.65" data-end="690.77">I didn't make any changes to it so we</span> <span data-start="690.77" data-end="694.55">can look at the code and it's just a run</span> <span data-start="694.55" data-end="696.35">a regular render method I have a chart</span> <span data-start="696.35" data-end="698.96">component it renders components from NPM</span> <span data-start="698.96" data-end="702.02">I pass data to it and I call set state</span> <span data-start="702.02" data-end="704.24">and I use a special flag to tell react</span> <span data-start="704.24" data-end="714.12">that it's is a low priority sad state</span> <span data-start="714.13" data-end="716.33">and personally I've found it very</span> <span data-start="716.33" data-end="718.76">helpful to use version control as a</span> <span data-start="718.76" data-end="721.19">metaphor for this so when I didn't know</span> <span data-start="721.19" data-end="722.87">about version control and I would just</span> <span data-start="722.87" data-end="725.66">modify the files as I've worked on them</span> <span data-start="725.66" data-end="727.88">hopefully I never like did anything</span> <span data-start="727.88" data-end="731.93">silly that I can't undo so I would just</span> <span data-start="731.93" data-end="735.44">work on a feature in my application but</span> <span data-start="735.44" data-end="737.06">then if suddenly in the middle of</span> <span data-start="737.06" data-end="738.74">working on that feature I need to fix a</span> <span data-start="738.74" data-end="741.2">bug now I can't do it because I only</span> <span data-start="741.2" data-end="743.99">have one version of my tree so I have to</span> <span data-start="743.99" data-end="745.64">finish working on the future first and</span> <span data-start="745.64" data-end="748.13">this is kind of how react works without</span> <span data-start="748.13" data-end="750.68">time slicing the react that you know is</span> <span data-start="750.68" data-end="752.6">that it can't interrupt the lunk update</span> <span data-start="752.6" data-end="754.94">but when I learned version control I</span> <span data-start="754.94" data-end="756.74">learned to work in a branch so I could</span> <span data-start="756.74" data-end="758.63">start working on the feature working it</span> <span data-start="758.63" data-end="760.64">in the branch but then if I need to do</span> <span data-start="760.64" data-end="762.44">an urgent bug fix I just do it and</span> <span data-start="762.44" data-end="764.96">master and then I can rebase the branch</span> <span data-start="764.96" data-end="768.14">on top of that and so this is pretty</span> <span data-start="768.14" data-end="770.18">much how react works with time slicing</span> <span data-start="770.18" data-end="771.86">except that you don't have to rebase</span> <span data-start="771.86" data-end="773.93">anything and react does that work so</span> <span data-start="773.93" data-end="775.61">reactive term is how to apply a</span> <span data-start="775.61" data-end="778.22">low-priority update on the top and it</span> <span data-start="778.22" data-end="780.59">can continue working and then flush when</span> <span data-start="780.59" data-end="782.39">everything is ready just like I can</span> <span data-start="782.39" data-end="788.99">merge the branch when it's ready so</span> <span data-start="788.99" data-end="790.97">we'll look at what we have could do</span> <span data-start="790.97" data-end="794.6">better at the CPU side what about the</span> <span data-start="794.6" data-end="797.08">i/o data fashion and code splitting I</span> <span data-start="797.08" data-end="801.14">have another demo that's that's the fun</span> <span data-start="801.14" data-end="802.28">part</span> <span data-start="802.28" data-end="805.75">[Applause]</span> <span data-start="805.75" data-end="810.73">all right</span> </p>
<p><span data-start="810.74" data-end="818.09">I built a movie app so you can see this</span> <span data-start="818.09" data-end="821.54">is the app it has a list of movies I can</span> <span data-start="821.54" data-end="822.92">click on a movie</span> <span data-start="822.92" data-end="824.87">it shows the detailed page were with</span> <span data-start="824.87" data-end="827.96">movie details and the reviews and that's</span> <span data-start="827.96" data-end="830.72">basically pretty much everything that it</span> <span data-start="830.72" data-end="833.36">does so it has an app component at the</span> <span data-start="833.36" data-end="836.33">top the trenders either movie list from</span> <span data-start="836.33" data-end="838.73">movie list page which is this page or</span> <span data-start="838.73" data-end="841.34">the movie details page which is this</span> <span data-start="841.34" data-end="843.86">page so there is just to kind of pages</span> <span data-start="843.86" data-end="846.2">here and the data is currently</span> <span data-start="846.2" data-end="848.21">absolutely hard-coded so there's like a</span> </p>
<p><span data-start="848.21" data-end="851.12">Jason with with the array of those</span> <span data-start="851.12" data-end="854.75">things and we take the data by ID from</span> <span data-start="854.75" data-end="857.66">the Jason so what if I wanted to change</span> <span data-start="857.66" data-end="861.01">that to fetch data from a remote API</span> <span data-start="861.01" data-end="864.2">let's go to the movie page component I'm</span> <span data-start="864.2" data-end="866.09">going to remove the hard-coded movie</span> <span data-start="866.09" data-end="868.4">details trace and import and instead I</span> <span data-start="868.4" data-end="877.87">will import fetch movie details from API</span> <span data-start="877.87" data-end="881.6">alright and I'm going to use another</span> <span data-start="881.6" data-end="884.03">function that I'll import from the</span> <span data-start="884.03" data-end="888.44">future again the exact API doesn't</span> <span data-start="888.44" data-end="892.31">matter it may change most likely so I</span> <span data-start="892.31" data-end="896.33">will call it create fetcher for now then</span> </p>
<p><span data-start="896.33" data-end="897.59">I'll go through the movie details</span> <span data-start="897.59" data-end="901.58">component so currently movie details</span> <span data-start="901.58" data-end="905.51">reads from JSON object but I'm going to</span> <span data-start="905.51" data-end="906.98">do something different I will create</span> <span data-start="906.98" data-end="909.5">something called a fetcher so I'll call</span> <span data-start="909.5" data-end="913.52">it movie details fetcher equals create</span> <span data-start="913.52" data-end="916.1">fetcher and I will pass my promised</span> <span data-start="916.1" data-end="917.99">return the function fetch movie details</span> <span data-start="917.99" data-end="921.05">through it now the next step is going to</span> <span data-start="921.05" data-end="925.31">be a little bit controversial so if you</span> <span data-start="925.31" data-end="928.04">know react you probably know that you're</span> <span data-start="928.04" data-end="929.78">not supposed to do data fetch and in</span> <span data-start="929.78" data-end="933.02">renderer so in this talk I'm going to</span> <span data-start="933.02" data-end="935.96">ban this rule a little bit and I just</span> <span data-start="935.96" data-end="938.87">want you to follow along with it and see</span> <span data-start="938.87" data-end="942.74">where it leads us so when react came out</span> <span data-start="942.74" data-end="944.48">it was pretty controversial</span> </p>
<p><span data-start="944.48" data-end="947.809">I think we can make more controversial</span> <span data-start="947.809" data-end="955.249">things all right so I have this fetcher</span> <span data-start="955.249" data-end="958.999">object and it works as a cache it has a</span> <span data-start="958.999" data-end="961.129">single method called read so I'm going</span> <span data-start="961.129" data-end="963.829">to call movie details fetcher that read</span> <span data-start="963.829" data-end="968.72">and pass the ID so what's going to</span> <span data-start="968.72" data-end="970.609">happen is that when a reactor enters the</span> <span data-start="970.609" data-end="972.769">movie details component it will try to</span> <span data-start="972.769" data-end="975.41">get this data from the cache but the TV</span> <span data-start="975.41" data-end="977.149">is not there because it's not fetched</span> <span data-start="977.149" data-end="977.569">yet</span> <span data-start="977.569" data-end="979.609">so reactor is going to fetch the data</span> <span data-start="979.609" data-end="982.519">and Rehab is going to prevent the entire</span> <span data-start="982.519" data-end="985.069">update from occurring until the data is</span> <span data-start="985.069" data-end="987.35">ready there is just one more thing I</span> <span data-start="987.35" data-end="989.329">need to do I need to tell react that is</span> <span data-start="989.329" data-end="992.389">actually ok for the transition from this</span> <span data-start="992.389" data-end="994.73">page to the details page to be</span> <span data-start="994.73" data-end="998.059">asynchronous so again the exact API is</span> <span data-start="998.059" data-end="1000.639">probably going to be different but here</span> <span data-start="1000.639" data-end="1002.259">in the movie click where it says state</span> <span data-start="1002.259" data-end="1006.459">show detail true I will call something</span> <span data-start="1006.459" data-end="1009.549">called differs at state with the same</span> <span data-start="1009.549" data-end="1016.419">state so let's see if that works I click</span> <span data-start="1016.419" data-end="1023.049">on an item it waits and it loads and if</span> <span data-start="1023.049" data-end="1024.61">you don't believe me I actually built a</span> <span data-start="1024.61" data-end="1026.709">small debugger here so it shows the</span> <span data-start="1026.709" data-end="1029.11">pending requests and how requests happen</span> <span data-start="1029.11" data-end="1031.329">so if I remove everything from the cache</span> <span data-start="1031.329" data-end="1033.189">and I click on the movie there is a</span> <span data-start="1033.189" data-end="1035.169">request here and when it comes back</span> <span data-start="1035.169" data-end="1038.35">react renders the detail view now you</span> <span data-start="1038.35" data-end="1040.059">might think oh there must be a race</span> <span data-start="1040.059" data-end="1042.939">conditions and maybe you think that the</span> <span data-start="1042.939" data-end="1044.62">screen is not interactive well as</span> <span data-start="1044.62" data-end="1047.139">fashion no it's it's interactive I can</span> <span data-start="1047.139" data-end="1049.57">click here I can click here it's going</span> <span data-start="1049.57" data-end="1052.029">to load the right one now it's in cache</span> </p>
<p><span data-start="1052.029" data-end="1055.45">I can go back I can click on this movie</span> <span data-start="1055.45" data-end="1060.68">it's in cache so it renders instantly</span> <span data-start="1060.69" data-end="1063.279">however what if the latency is high what</span> <span data-start="1063.279" data-end="1064.929">if their network request takes a lot of</span> <span data-start="1064.929" data-end="1067.419">time like in this example three seconds</span> <span data-start="1067.419" data-end="1069.159">but it could have been like 15 seconds</span> <span data-start="1069.159" data-end="1072.94">so now if I click on a movie it seems</span> <span data-start="1072.94" data-end="1074.44">like nothing is happening if you don't</span> <span data-start="1074.44" data-end="1076.419">have the debugger open so that's not a</span> <span data-start="1076.419" data-end="1077.96">very good user</span> <span data-start="1077.96" data-end="1082.41">we can improve it so I'm going to import</span> <span data-start="1082.41" data-end="1086.49">something else from the future it's very</span> <span data-start="1086.49" data-end="1089.54">convenient to have access to the feature</span> <span data-start="1089.54" data-end="1092.07">I'm going to import the component called</span> <span data-start="1092.07" data-end="1097.88">a placeholder and I'm going to say that</span> <span data-start="1097.88" data-end="1101.22">if anything inside the movie page is not</span> <span data-start="1101.22" data-end="1107.47">ready we're gonna render a placeholder</span> <span data-start="1107.48" data-end="1111.72">if the movie page takes more than a</span> <span data-start="1111.72" data-end="1113.88">second and a half to load so there's a</span> <span data-start="1113.88" data-end="1117.33">delay milliseconds argument then I want</span> <span data-start="1117.33" data-end="1126.72">to show a spinner</span> <span data-start="1126.73" data-end="1128.89">so what we are is going to do is going</span> <span data-start="1128.89" data-end="1131.02">to try to render this component but if</span> <span data-start="1131.02" data-end="1133.81">any of its child is going to render as</span> <span data-start="1133.81" data-end="1136.93">much of the tree as it can but if any of</span> <span data-start="1136.93" data-end="1138.7">the children are waiting for a single</span> <span data-start="1138.7" data-end="1140.56">dependencies is going to wait for those</span> <span data-start="1140.56" data-end="1142.84">children and if it takes more than this</span> <span data-start="1142.84" data-end="1144.79">amount of time is going to display the</span> <span data-start="1144.79" data-end="1147.4">for the placeholder until those</span> <span data-start="1147.4" data-end="1149.95">dependencies are resolved so let's see</span> <span data-start="1149.95" data-end="1150.67">how this works</span> </p>
<p><span data-start="1150.67" data-end="1157.54">I click on a movie in this case my</span> <span data-start="1157.54" data-end="1160">default latency is 1 second so it</span> <span data-start="1160" data-end="1163.33">actually feels almost instantaneous so I</span> <span data-start="1163.33" data-end="1165.61">don't see the loading indicator but if</span> <span data-start="1165.61" data-end="1169.48">the latency is high 3 seconds and I</span> <span data-start="1169.48" data-end="1174.22">click on a movie then it shows the the</span> <span data-start="1174.22" data-end="1176.2">placeholder and then it shows the real</span> <span data-start="1176.2" data-end="1179.98">thing when it's ready here is another</span> <span data-start="1179.98" data-end="1182.02">interesting thing even while it's</span> <span data-start="1182.02" data-end="1183.67">showing the placeholder the app is fully</span> <span data-start="1183.67" data-end="1186.16">interactive it is never frozen so I can</span> <span data-start="1186.16" data-end="1189.93">pause all new requests start a fashion</span> <span data-start="1189.93" data-end="1194.85">imitate the fetch it takes a long time</span> <span data-start="1194.85" data-end="1198.01">but say I want to go back I can actually</span> <span data-start="1198.01" data-end="1200.41">go back so the whole the screen is</span> <span data-start="1200.41" data-end="1208.51">always interactive now which has fetched</span> <span data-start="1208.51" data-end="1210.28">the details but what if we want to fetch</span> <span data-start="1210.28" data-end="1214.45">the reviews as well to do that I'm going</span> <span data-start="1214.45" data-end="1216.61">to back to movie page component and I'm</span> <span data-start="1216.61" data-end="1221.32">opening the let me import remove the</span> <span data-start="1221.32" data-end="1223.42">hard-coded chase on import and instead</span> <span data-start="1223.42" data-end="1230.47">import fetch movie reviews and I'm</span> <span data-start="1230.47" data-end="1232.03">scrolling down to my movie reviews</span> <span data-start="1232.03" data-end="1234.97">component that currently reads it from</span> </p>
<p><span data-start="1234.97" data-end="1240.57">Jason and I create movie reviews fetcher</span> <span data-start="1240.57" data-end="1244.99">great fetcher with fetch movie reviews</span> <span data-start="1244.99" data-end="1249.25">and again I just call read I said sorry</span> <span data-start="1249.25" data-end="1254.86">movie reviews fetcher dot read for props</span> <span data-start="1254.86" data-end="1257.38">idea</span> <span data-start="1257.39" data-end="1259.83">so move your reviews and movie details</span> <span data-start="1259.83" data-end="1261.81">are siblings but the reality is going to</span> <span data-start="1261.81" data-end="1263.82">wait for both of them before continuing</span> <span data-start="1263.82" data-end="1266.85">so let's see if the latency is 1 second</span> <span data-start="1266.85" data-end="1270.51">is waiting for both but wolf resolved in</span> <span data-start="1270.51" data-end="1272.7">time so it doesn't display any</span> <span data-start="1272.7" data-end="1274.5">intermediate loading states and doesn't</span> <span data-start="1274.5" data-end="1278.43">the page doesn't jump with spinners but</span> <span data-start="1278.43" data-end="1281.36">let's say that I pause near request a</span> <span data-start="1281.36" data-end="1283.02">start fetching</span> </p>
<p><span data-start="1283.02" data-end="1284.94">I'll let the reviews come through first</span> <span data-start="1284.94" data-end="1287.25">while reactor can't render reviews alone</span> <span data-start="1287.25" data-end="1289.35">it's important that the screen is always</span> <span data-start="1289.35" data-end="1291.12">consistent with what's in the render</span> <span data-start="1291.12" data-end="1292.92">methods so react is still showing the</span> <span data-start="1292.92" data-end="1295.29">placeholder but when the details of the</span> <span data-start="1295.29" data-end="1297.33">movie are loaded this is when it shows</span> <span data-start="1297.33" data-end="1301.23">everything together now this may be fine</span> <span data-start="1301.23" data-end="1302.61">but there is a downside what if I</span> <span data-start="1302.61" data-end="1304.17">actually don't care about the reviews</span> <span data-start="1304.17" data-end="1306.33">that much and I don't want to delay</span> <span data-start="1306.33" data-end="1308.19">showing the details if the details told</span> <span data-start="1308.19" data-end="1309.29">it first</span> <span data-start="1309.29" data-end="1312.15">well to do that I use the placeholder</span> <span data-start="1312.15" data-end="1316.8">component from the future so I can wrap</span> <span data-start="1316.8" data-end="1318.93">the movie reviews component in a</span> <span data-start="1318.93" data-end="1322.74">placeholder and I can say that if the</span> <span data-start="1322.74" data-end="1325.23">movie review specifically took longer</span> <span data-start="1325.23" data-end="1327.36">than a second to load since the</span> <span data-start="1327.36" data-end="1329.79">interaction we actually don't care about</span> <span data-start="1329.79" data-end="1331.8">them that much and we're going to show</span> <span data-start="1331.8" data-end="1340.38">another spinner with a medium size let's</span> <span data-start="1340.38" data-end="1344.7">see what happens so I pause all new</span> <span data-start="1344.7" data-end="1348.27">requests start loading a movie and allow</span> <span data-start="1348.27" data-end="1352.62">the details first it shows the details</span> <span data-start="1352.62" data-end="1354.57">but the reviews are still loading and</span> <span data-start="1354.57" data-end="1357.06">when the read is already it shows the</span> <span data-start="1357.06" data-end="1359.19">reviews and again there are no risk</span> <span data-start="1359.19" data-end="1362.91">conditions I can go back I can clear</span> <span data-start="1362.91" data-end="1365.4">this I can start fetching this start</span> <span data-start="1365.4" data-end="1368.9">fetching the reviews go back well here</span> <span data-start="1368.9" data-end="1372.09">start afresh in the details it knows</span> <span data-start="1372.09" data-end="1375.36">exactly what's the right thing to do and</span> <span data-start="1375.36" data-end="1376.77">it respects the props that I passed</span> <span data-start="1376.77" data-end="1379.74">through it but we can still make the</span> <span data-start="1379.74" data-end="1382.23">user experience better for example when</span> </p>
<p><span data-start="1382.23" data-end="1385.38">I just click if the delay is less than a</span> <span data-start="1385.38" data-end="1386.04">second</span> <span data-start="1386.04" data-end="1388.53">it's nice that the screen pops in when</span> <span data-start="1388.53" data-end="1391.02">is ready but before that happens I don't</span> <span data-start="1391.02" data-end="1392.37">have any visual indication that</span> <span data-start="1392.37" data-end="1393.39">something's happening</span> <span data-start="1393.39" data-end="1399.57">so can we fix that yes I will go into</span> <span data-start="1399.57" data-end="1405.87">the app component and I will import</span> <span data-start="1405.87" data-end="1407.69">something else from the future</span> <span data-start="1407.69" data-end="1411.57">it's called loading so this is not the</span> <span data-start="1411.57" data-end="1414.3">final API this actually this API is most</span> <span data-start="1414.3" data-end="1417.21">likely to change but for now loading is</span> <span data-start="1417.21" data-end="1420.78">just a component that gives me a render</span> <span data-start="1420.78" data-end="1424.44">prop cold is loading that lets me decide</span> <span data-start="1424.44" data-end="1427.05">what to show for now I'll copy paste</span> <span data-start="1427.05" data-end="1428.37">what I already have here</span> <span data-start="1428.37" data-end="1429.93">so either the detail view or the</span> </p>
<p><span data-start="1429.93" data-end="1435.93">ListView but I already prepared my movie</span> <span data-start="1435.93" data-end="1438.3">list page in a way that I can pass a</span> <span data-start="1438.3" data-end="1440.58">load and ID through it and it will show</span> <span data-start="1440.58" data-end="1442.56">an inline spinner so for example if I</span> <span data-start="1442.56" data-end="1444.96">pass loading ID equals 1 it shows a</span> <span data-start="1444.96" data-end="1447.36">spinner like this if a passcode and D</span> <span data-start="1447.36" data-end="1448.14">equals 2</span> <span data-start="1448.14" data-end="1449.94">it shows the spinner on the second movie</span> <span data-start="1449.94" data-end="1451.95">so what I'm going to do is I'm going to</span> <span data-start="1451.95" data-end="1454.17">make loading ID and argument to render</span> <span data-start="1454.17" data-end="1458.04">list and I'm going to call render</span> <span data-start="1458.04" data-end="1461.99">released so if we are currently loading</span> <span data-start="1461.99" data-end="1464.34">which is what we wanted to ask react</span> <span data-start="1464.34" data-end="1466.55">then I just pass the current idea</span> <span data-start="1466.55" data-end="1470.94">otherwise I pass null and I can even</span> <span data-start="1470.94" data-end="1474.35">remove the the main placeholder now</span> <span data-start="1474.35" data-end="1479.1">let's see what happens so now when I</span> <span data-start="1479.1" data-end="1481.8">click it shows an inline spinner and</span> <span data-start="1481.8" data-end="1483.99">again no race conditions I can click</span> <span data-start="1483.99" data-end="1486">here then click here it shows the right</span> <span data-start="1486" data-end="1487.95">thing the screen is always interactive</span> <span data-start="1487.95" data-end="1498.05">and now this is cached</span> <span data-start="1498.06" data-end="1501.52">so this is all cool but we can still</span> <span data-start="1501.52" data-end="1503.43">improve the user experience even further</span> <span data-start="1503.43" data-end="1507.28">for example currently we show the the</span> <span data-start="1507.28" data-end="1509.56">movie page below the code for the movie</span> <span data-start="1509.56" data-end="1511.3">page right away but we don't actually</span> <span data-start="1511.3" data-end="1514.06">need it until we click on the movie so</span> </p>
<p><span data-start="1514.06" data-end="1516.22">I'm going to replace this with a</span> <span data-start="1516.22" data-end="1518.2">component that does code splitting so</span> <span data-start="1518.2" data-end="1520">I'll call it movie page loader and I</span> <span data-start="1520" data-end="1525.4">define it above it takes the props and</span> <span data-start="1525.4" data-end="1530.47">passes them to movie page so if we are</span> <span data-start="1530.47" data-end="1532.24">code splitting do we need to show a</span> <span data-start="1532.24" data-end="1535.39">spinner while the code is loading or</span> <span data-start="1535.39" data-end="1537.13">does a question even make sense if we</span> <span data-start="1537.13" data-end="1540.01">have these new primitives that's him I'm</span> <span data-start="1540.01" data-end="1544.99">going to import create fetcher again and</span> </p>
<p><span data-start="1544.99" data-end="1552.55">I will create a movie page fetcher to</span> <span data-start="1552.55" data-end="1554.17">fetch the movie page I will use the</span> <span data-start="1554.17" data-end="1557.35">dynamic import syntax so I will return a</span> <span data-start="1557.35" data-end="1559.69">promise that returns import to movie</span> <span data-start="1559.69" data-end="1562.06">page and I remove the static webpack</span> <span data-start="1562.06" data-end="1563.71">import so it's not going to be in the</span> <span data-start="1563.71" data-end="1567.82">initial bundle finally to get the movie</span> <span data-start="1567.82" data-end="1571.15">page component I call the read function</span> <span data-start="1571.15" data-end="1574.5">on the fetcher and read the default</span> <span data-start="1574.5" data-end="1576.88">default property from the module because</span> <span data-start="1576.88" data-end="1580.42">it's the default export so I'll see if</span> <span data-start="1580.42" data-end="1583.21">that works I click here there is no</span> <span data-start="1583.21" data-end="1586.03">global loading indicator if the request</span> <span data-start="1586.03" data-end="1587.98">takes fast enough</span> <span data-start="1587.98" data-end="1591.99">yeah just edit code split into my app</span> <span data-start="1591.99" data-end="1595.51">but if the request is slow oh I guess I</span> <span data-start="1595.51" data-end="1597.34">removed the fallback so yeah that's not</span> <span data-start="1597.34" data-end="1601.27">gonna work but we can check that this</span> <span data-start="1601.27" data-end="1604.24">actually did something so if i refresh I</span> <span data-start="1604.24" data-end="1607.36">clear the network top and I press you</span> <span data-start="1607.36" data-end="1609.4">can see that there is a chunk here so</span> <span data-start="1609.4" data-end="1610.96">you can see that this component truly</span> <span data-start="1610.96" data-end="1614.47">was loaded with collision there is still</span> <span data-start="1614.47" data-end="1616.57">one improvement to the user interface</span> <span data-start="1616.57" data-end="1621.909">that I can make her</span> <span data-start="1621.919" data-end="1625.5">you might have noticed that this movie</span> <span data-start="1625.5" data-end="1629.039">has a taller posture than other movies</span> <span data-start="1629.039" data-end="1630.779">let's say that we don't know their sizes</span> <span data-start="1630.779" data-end="1633.299">immediately so when I click on it for</span> <span data-start="1633.299" data-end="1635.46">the first time the page jumps a little</span> <span data-start="1635.46" data-end="1639.029">bit when they when they movie loads so</span> <span data-start="1639.029" data-end="1641.82">can we avoid showing the page until the</span> <span data-start="1641.82" data-end="1645.72">image is ready well we can go to the</span> <span data-start="1645.72" data-end="1649.049">movie page component and find the movie</span> <span data-start="1649.049" data-end="1651.2">poster component that renders an image</span> <span data-start="1651.2" data-end="1653.58">and I will create my custom image</span> <span data-start="1653.58" data-end="1657.6">component with capital I the choice</span> <span data-start="1657.6" data-end="1663.539">renders the browser image except with</span> <span data-start="1663.539" data-end="1668.45">the twist I create an image feature</span> <span data-start="1668.45" data-end="1672.84">which is a fetcher now I need to return</span> <span data-start="1672.84" data-end="1675.14">a promise so return a function that</span> <span data-start="1675.14" data-end="1679.32">returns a promise that resolves when I</span> <span data-start="1679.32" data-end="1683.49">create a browser image object to preload</span> <span data-start="1683.49" data-end="1687.179">the image and what that image loads I</span> <span data-start="1687.179" data-end="1691.95">resolve my promise and I started the</span> <span data-start="1691.95" data-end="1699.27">loading process and now I say that the</span> <span data-start="1699.27" data-end="1702.96">source is image fetcher that read prop</span> <span data-start="1702.96" data-end="1710.909">source I'm bad at this right yeah this</span> <span data-start="1710.909" data-end="1713.22">should be an argument because I pass it</span> <span data-start="1713.22" data-end="1714.84">to the wreath so it's going to come out</span> <span data-start="1714.84" data-end="1720.779">here now if I click on it that didn't</span> <span data-start="1720.779" data-end="1724.14">work okay it's a live demo some things</span> <span data-start="1724.14" data-end="1724.98">don't</span> <span data-start="1724.98" data-end="1726.84">oh right I forgot to use my image</span> <span data-start="1726.84" data-end="1729.75">component that's why you should let look</span> <span data-start="1729.75" data-end="1732.929">at the lint warnings so let's use the</span> <span data-start="1732.929" data-end="1737.039">image component now I'll click on it and</span> <span data-start="1737.039" data-end="1739.02">jumps on the page when the image is</span> <span data-start="1739.02" data-end="1743.9">ready</span> <span data-start="1743.91" data-end="1747.55">and this was the IO demo</span> <span data-start="1747.55" data-end="1756.47">[Applause]</span> <span data-start="1756.48" data-end="1759.13">we've built a generic way for components</span> <span data-start="1759.13" data-end="1761.2">to suspend rendering when they load</span> <span data-start="1761.2" data-end="1763.15">asynchronous data or dependencies or</span> <span data-start="1763.15" data-end="1766.09">really anything asynchronous and we call</span> <span data-start="1766.09" data-end="1770.71">this feature suspense you can pause any</span> <span data-start="1770.71" data-end="1772.809">state update until the data is ready as</span> <span data-start="1772.809" data-end="1775.27">specified by the components and you can</span> <span data-start="1775.27" data-end="1777.64">add agent load into any component</span> <span data-start="1777.64" data-end="1779.2">anywhere deep in the tree without</span> <span data-start="1779.2" data-end="1781.66">clumping all the props and state and</span> <span data-start="1781.66" data-end="1784.59">hoisting it up and using readouts or</span> <span data-start="1784.59" data-end="1789.1">anything you usually do for that and on</span> <span data-start="1789.1" data-end="1791.559">a fast Network the upside is that you</span> <span data-start="1791.559" data-end="1793.72">can make it appear very fluent and</span> <span data-start="1793.72" data-end="1796.809">almost instantaneous without the cheran</span> <span data-start="1796.809" data-end="1799.15">cascade of spinners that appear and</span> <span data-start="1799.15" data-end="1801.76">disappear all the time but on a slow</span> </p>
<p><span data-start="1801.76" data-end="1804.429">Network you you can be intentional about</span> <span data-start="1804.429" data-end="1806.44">design in the loading States and not</span> <span data-start="1806.44" data-end="1809.11">just let them be artifacts of how the</span> <span data-start="1809.11" data-end="1811.33">code is written in study explicitly</span> <span data-start="1811.33" data-end="1812.89">design which load and States you want</span> <span data-start="1812.89" data-end="1814.84">the user to see and how brenner</span> <span data-start="1814.84" data-end="1817.96">of course they must be and there is both</span> <span data-start="1817.96" data-end="1820.36">a high level and a low level API so the</span> <span data-start="1820.36" data-end="1822.49">API that I showed you is a high level</span> <span data-start="1822.49" data-end="1824.44">reference implementation that we're</span> <span data-start="1824.44" data-end="1826.33">going to provide but there is a lower</span> <span data-start="1826.33" data-end="1828.34">level API that libraries can use to</span> <span data-start="1828.34" data-end="1832.15">integrate with this and again I found it</span> <span data-start="1832.15" data-end="1833.65">helpful to use version control as a</span> <span data-start="1833.65" data-end="1837.28">metaphor so when I use version version</span> <span data-start="1837.28" data-end="1839.08">control and I start working on something</span> <span data-start="1839.08" data-end="1842.38">and do this on a branch but sometimes</span> <span data-start="1842.38" data-end="1844.179">maybe I can't continue working on the</span> <span data-start="1844.179" data-end="1845.92">feature because I'm waiting for the</span> <span data-start="1845.92" data-end="1849.19">designer to give me the final design so</span> </p>
<p><span data-start="1849.19" data-end="1851.95">I put that work aside and I can do</span> <span data-start="1851.95" data-end="1854.53">something else and this is how react</span> <span data-start="1854.53" data-end="1857.71">suspends works is that react knows that</span> <span data-start="1857.71" data-end="1859.48">these some of the children need some</span> <span data-start="1859.48" data-end="1861.97">async dependencies so it just suspends</span> <span data-start="1861.97" data-end="1865.57">that tree but it can still handle a</span> <span data-start="1865.57" data-end="1867.61">higher priority event so this is why I</span> <span data-start="1867.61" data-end="1870.27">was able to click on everything and</span> <span data-start="1870.27" data-end="1874.24">continue navigating through the app and</span> <span data-start="1874.24" data-end="1876.85">later just like I can rebase my old</span> <span data-start="1876.85" data-end="1878.59">branch when I finally have the designs</span> <span data-start="1878.59" data-end="1882.4">on top of the master react rebuses they</span> <span data-start="1882.4" data-end="1883.36">suspended update</span> <span data-start="1883.36" data-end="1885.61">and can continue when the async</span> <span data-start="1885.61" data-end="1887.62">dependencies are satisfied and then</span> <span data-start="1887.62" data-end="1892.51">committed to the Dom so coming back to</span> <span data-start="1892.51" data-end="1894.94">my question how does how can a reaction</span> <span data-start="1894.94" data-end="1896.95">able better user experiences for people</span> <span data-start="1896.95" data-end="1898.45">with different devices and different</span> <span data-start="1898.45" data-end="1902.53">networks we think that time slicing</span> <span data-start="1902.53" data-end="1907.39">helps the CPU case and the the saucepans</span> <span data-start="1907.39" data-end="1910.69">feature helps the i/o case is that we</span> <span data-start="1910.69" data-end="1913.27">can be more intentional about designing</span> <span data-start="1913.27" data-end="1914.92">for slower devices and how they should</span> <span data-start="1914.92" data-end="1917.68">behave but we can also provide better</span> <span data-start="1917.68" data-end="1920.83">experiences of past devices and you can</span> <span data-start="1920.83" data-end="1923.08">see that there are a lot of similarities</span> <span data-start="1923.08" data-end="1926.74">between these two these two axes so this</span> <span data-start="1926.74" data-end="1928.38">is why we don't really think these are</span> <span data-start="1928.38" data-end="1931.21">separate performance problems we think</span> <span data-start="1931.21" data-end="1934.12">that both the problem the main problem</span> <span data-start="1934.12" data-end="1935.5">here is not the performance but</span> <span data-start="1935.5" data-end="1938.08">scheduling and the solution has to think</span> <span data-start="1938.08" data-end="1940.84">about the scheduling and so we call this</span> <span data-start="1940.84" data-end="1943.45">see the features async rendering in</span> <span data-start="1943.45" data-end="1946.72">react and our goals is to let app</span> <span data-start="1946.72" data-end="1949.33">developers adapt to users constraints</span> <span data-start="1949.33" data-end="1951.58">such as device and network to make fast</span> <span data-start="1951.58" data-end="1953.62">interactions feel instant without the</span> <span data-start="1953.62" data-end="1955.93">janky things popping out of the screen</span> <span data-start="1955.93" data-end="1959.23">and make slower interactions feel</span> <span data-start="1959.23" data-end="1961.41">responsive and we designed intentionally</span> <span data-start="1961.41" data-end="1966.16">and importantly this is still the react</span> <span data-start="1966.16" data-end="1967.93">you know this is still the component</span> <span data-start="1967.93" data-end="1971.14">declarative component paradigm now if he</span> <span data-start="1971.14" data-end="1973.27">is reactive you probably that's what you</span> <span data-start="1973.27" data-end="1977.26">like about it so it's not ready yet but</span> <span data-start="1977.26" data-end="1980.17">these are not fake product like you saw</span> <span data-start="1980.17" data-end="1983.68">me really using it so it's a real thing</span> <span data-start="1983.68" data-end="1986.31">there is a pull request for this and</span> <span data-start="1986.31" data-end="1988.36">there is more work to be done</span> <span data-start="1988.36" data-end="1990.88">to enable this and to ship this as a</span> <span data-start="1990.88" data-end="1993.4">stable feature and we hope to deliver it</span> <span data-start="1993.4" data-end="2003.039">this year thank you</span> </p>
</section>

<!-- div#container ends -->
</div>

<img alt="The End" id="fin" src="../images/fin.jpg">

<script>
/*eslint-disable */
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google-translate');
}
/* eslint-enable */
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="../js/main.js"></script>

</body>

</html>
