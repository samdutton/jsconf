<!DOCTYPE html>

<!--
Copyright 2019 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="//google.com">
  <meta name="description" content="web.dev LIVE video transcript">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>3gkm7oafWxs</title>
  <link rel="stylesheet" href="../css/main.css">
</head>

<body>

<iframe id="youtube" src="https://www.youtube.com/embed/3gkm7oafWxs?enablejsapi=1"></iframe>

<div id="container">

<div id="options">
  <div id="google-translate"></div>
  <div>
    <input type="checkbox" id="videoSticky" checked>
    <label for="videoSticky">Video position sticky</label>
  </div>
  <div>
    <input type="checkbox" id="captionScroll" checked>
    <label for="captionScroll">Keep current caption visible</label>
  </div>
</div>

<section>
<p><span data-start="1.1" data-end="19.84">[Music]</span> <span data-start="19.84" data-end="23.15">salamat petang thank you so much all for</span> <span data-start="23.15" data-end="25.13">being here I put this in front of every</span> <span data-start="25.13" data-end="26.48">one of my presentations it's a lot of</span> <span data-start="26.48" data-end="28.82">fun and I'll just stare at it can we get</span> <span data-start="28.82" data-end="36.69">the house lights lowered please pardon</span> <span data-start="36.7" data-end="39.56">so I look up at this cat and I just kind</span> <span data-start="39.56" data-end="46.16">of reach I just do this generally not</span> <span data-start="46.16" data-end="47.84">this long but again I'm just stalling</span> <span data-start="47.84" data-end="55.57">for the lights and it calms me down as</span> <span data-start="55.57" data-end="57.77">long as you keep laughing I'm going to</span> <span data-start="57.77" data-end="65.79">keep doing it</span> <span data-start="65.8" data-end="69.01">okay that seems good I'm so much more</span> <span data-start="69.01" data-end="72.37">relaxed now okay so let's let's talk</span> <span data-start="72.37" data-end="74.88">about node versions so my name is miles</span> </p>
<p><span data-start="74.88" data-end="79.02">I work for a small disruptive startup</span> <span data-start="79.02" data-end="85.09">called IBM and I contribute to a small</span> <span data-start="85.09" data-end="87.88">platform called nodejs it's worth</span> <span data-start="87.88" data-end="89.38">mentioning you'll see cut at the bottom</span> <span data-start="89.38" data-end="91.39">here the opinions in this talk are my</span> <span data-start="91.39" data-end="93.97">own you know you got to just say that if</span> <span data-start="93.97" data-end="95.5">you're ever up on stage I advise that</span> <span data-start="95.5" data-end="98.2">you say that always cover yourself but</span> <span data-start="98.2" data-end="102.04">so version how do they work so it turns</span> <span data-start="102.04" data-end="104.32">out you know versions are versions are a</span> <span data-start="104.32" data-end="107.17">lot like magnets and stick with me on</span> <span data-start="107.17" data-end="110.08">this for a second versions versions are</span> <span data-start="110.08" data-end="117.01">a lot like magnets primarily in the way</span> <span data-start="117.01" data-end="119.11">that many people are pretty darn</span> <span data-start="119.11" data-end="121.15">confused about how they work like how do</span> <span data-start="121.15" data-end="122.68">magnets work I don't know how two</span> <span data-start="122.68" data-end="124.09">versions work well I do know so that's</span> <span data-start="124.09" data-end="125.59">why I'm here I'm going to tell you about</span> <span data-start="125.59" data-end="128.679">it but you know real talk this stuff is</span> <span data-start="128.679" data-end="131.35">complicated there's a lot of moving</span> <span data-start="131.35" data-end="134.35">parts and trying to hold it all in your</span> <span data-start="134.35" data-end="135.7">head at one time can be really hard</span> <span data-start="135.7" data-end="137.26">especially if it's not something that</span> <span data-start="137.26" data-end="140.83">you're used to but you know the nice</span> <span data-start="140.83" data-end="142.66">thing here is that you don't actually</span> <span data-start="142.66" data-end="145.03">need to understand everything to</span> <span data-start="145.03" data-end="147.43">contribute in a meaningful way I think</span> <span data-start="147.43" data-end="148.95">this is a really great takeaway for</span> <span data-start="148.95" data-end="151.69">software in general or even just you</span> <span data-start="151.69" data-end="154.06">know like life but you don't need to</span> <span data-start="154.06" data-end="155.739">understand everything to make a</span> <span data-start="155.739" data-end="157.3">difference to contribute and to help</span> <span data-start="157.3" data-end="159.88">make a difference so what we're going to</span> <span data-start="159.88" data-end="161.08">do is we're going to start with a small</span> <span data-start="161.08" data-end="163.06">piece we're going to break it down and</span> <span data-start="163.06" data-end="164.83">figure out how this becomes something</span> <span data-start="164.83" data-end="167.05">bigger and the first small piece to talk</span> <span data-start="167.05" data-end="170.32">about is semantic versioning Rico is</span> <span data-start="170.32" data-end="172.72">awesome and brought it up earlier and</span> <span data-start="172.72" data-end="176.02">you know we see this in any of you have</span> <span data-start="176.02" data-end="178.239">written code how many of you have have</span> <span data-start="178.239" data-end="179.62">heard of semantic versioning before can</span> </p>
<p><span data-start="179.62" data-end="181.93">I just see hands that's awesome that's a</span> <span data-start="181.93" data-end="183.79">lot of you for those of you who haven't</span> <span data-start="183.79" data-end="187.15">any time you see a version number that</span> <span data-start="187.15" data-end="188.92">version number can be semantic</span> <span data-start="188.92" data-end="191.2">versioning I'll say can be because some</span> <span data-start="191.2" data-end="192.61">people just like to put random numbers</span> <span data-start="192.61" data-end="193.66">in front of their code and it doesn't</span> <span data-start="193.66" data-end="196">mean anything but what semantic</span> <span data-start="196" data-end="198.52">versioning is is it's a contract it's a</span> <span data-start="198.52" data-end="199.63">contract from the people who</span> <span data-start="199.63" data-end="201.37">we're developing the code to the people</span> <span data-start="201.37" data-end="204.43">are using the code to let them know how</span> <span data-start="204.43" data-end="206.44">the code works and what kind of changes</span> <span data-start="206.44" data-end="208.6">to expect them between versions we have</span> <span data-start="208.6" data-end="212.29">the major the minor and the patch</span> <span data-start="212.29" data-end="214.3">version numbers and so let's talk a</span> <span data-start="214.3" data-end="216.24">little bit about what those are</span> <span data-start="216.24" data-end="220.06">assembler a patch is any change which</span> <span data-start="220.06" data-end="222.61">does not add new features and does not</span> <span data-start="222.61" data-end="225.79">break any expected behavior a patch</span> <span data-start="225.79" data-end="227.62">change can be an update to documentation</span> <span data-start="227.62" data-end="231.22">it can be an update to a test it can be</span> <span data-start="231.22" data-end="233.47">an optimization to make something faster</span> <span data-start="233.47" data-end="235.78">it could be a bug fix there's a whole</span> <span data-start="235.78" data-end="237.01">list of things that can come in</span> <span data-start="237.01" data-end="239.02">assembler patch and basically as I was</span> <span data-start="239.02" data-end="240.16">saying the only thing that's important</span> <span data-start="240.16" data-end="242.02">is it's not a new feature and it doesn't</span> <span data-start="242.02" data-end="246.37">change behavior what's a minor so a</span> <span data-start="246.37" data-end="249.42">minor is anything that adds any new</span> <span data-start="249.42" data-end="253.36">functionality to a piece of code this</span> <span data-start="253.36" data-end="255.37">can be a new function this can be an</span> <span data-start="255.37" data-end="260.83">extended API this could be this could be</span> <span data-start="260.83" data-end="262.78">a new feature that isn't even something</span> <span data-start="262.78" data-end="264.67">that you directly call on but it just</span> <span data-start="264.67" data-end="266.8">kind of changes the way things work any</span> <span data-start="266.8" data-end="269.35">time that you add something new to a</span> <span data-start="269.35" data-end="270.7">code and you're doing a release you</span> <span data-start="270.7" data-end="272.41">should do that release as December minor</span> <span data-start="272.41" data-end="276.61">a December major is any change that's</span> <span data-start="276.61" data-end="278.89">breaking that could be changing the name</span> <span data-start="278.89" data-end="280.81">of a function that could be changing the</span> <span data-start="280.81" data-end="282.94">functionality of a return in the node</span> <span data-start="282.94" data-end="284.77">project we even consider changing error</span> <span data-start="284.77" data-end="286.39">messages assembler major because of how</span> <span data-start="286.39" data-end="289.78">many people rely on our error messages</span> <span data-start="289.78" data-end="291.73">for making decisions or for checking</span> <span data-start="291.73" data-end="293.8">things you may be doing like a catch and</span> <span data-start="293.8" data-end="295.21">then making a change based on the catch</span> <span data-start="295.21" data-end="298.65">of a throw so we'll get more into</span> <span data-start="298.65" data-end="300.82">examples of things that are breaking a</span> <span data-start="300.82" data-end="304.57">little bit later so node has a number of</span> <span data-start="304.57" data-end="306.31">different release lines we have the</span> <span data-start="306.31" data-end="307.96">current release line which is most</span> <span data-start="307.96" data-end="309.61">recently released v seven point two</span> <span data-start="309.61" data-end="312.46">point zero that was released on Tuesday</span> <span data-start="312.46" data-end="314.05">or as I've learned on Wednesday in</span> </p>
<p><span data-start="314.05" data-end="317.77">Singapore we have active LTS there's</span> <span data-start="317.77" data-end="320.92">versions 6.9 point 1 and version four</span> <span data-start="320.92" data-end="323.8">point six point two these are two</span> <span data-start="323.8" data-end="326.37">different release lines v4 has been</span> <span data-start="326.37" data-end="328.6">being released a little bit longer and</span> <span data-start="328.6" data-end="332.229">v6 is a little more is a little newer v6</span> <span data-start="332.229" data-end="333.34">was actually moved in</span> <span data-start="333.34" data-end="336.07">LTS about a month ago and we'll talk a</span> <span data-start="336.07" data-end="337.84">little bit more about what LTS is it</span> <span data-start="337.84" data-end="340.87">stands for long-term support and we have</span> <span data-start="340.87" data-end="342.55">maintenance LT LT s and you're going to</span> <span data-start="342.55" data-end="345.82">see these 0 1217 you'll notice that V 0</span> <span data-start="345.82" data-end="348.34">10 is not on there anymore which is</span> <span data-start="348.34" data-end="350.32">really great 10 was around for a long</span> <span data-start="350.32" data-end="351.85">time and it's it's great that we don't</span> <span data-start="351.85" data-end="354.91">need to maintain it anymore because it</span> <span data-start="354.91" data-end="356.05">was very different than all the other</span> <span data-start="356.05" data-end="358.66">releases and we'll talk about why so as</span> </p>
<p><span data-start="358.66" data-end="360.94">I said the 0-10 is no longer mint</span> <span data-start="360.94" data-end="363.52">maintained and v-0 12 is actually going</span> <span data-start="363.52" data-end="365.65">to be end of life in December so if any</span> <span data-start="365.65" data-end="367.24">of you are running note and production</span> <span data-start="367.24" data-end="369.07">at your company's and you currently have</span> <span data-start="369.07" data-end="371.65">stuff running on V 0 10 or V 0 12 you</span> <span data-start="371.65" data-end="373.03">should work on getting that upgraded as</span> <span data-start="373.03" data-end="374.62">soon as possible and we'll talk a little</span> <span data-start="374.62" data-end="376.36">bit later about what versions to use and</span> <span data-start="376.36" data-end="380.08">and why so you know we were talking</span> <span data-start="380.08" data-end="382.81">about V 0 10 and then V 0 12 and then</span> <span data-start="382.81" data-end="385.63">all of a sudden we jump to v4 and v6 so</span> <span data-start="385.63" data-end="388.389">where the heck did V 1 through 3 go and</span> <span data-start="388.389" data-end="390.49">what's the deal with 12 and where's 5</span> <span data-start="390.49" data-end="391.99">there's all these different numbers what</span> <span data-start="391.99" data-end="395.919">do they mean so when node when the node</span> <span data-start="395.919" data-end="398.8">project was started you had even an odd</span> <span data-start="398.8" data-end="400.96">releases and the even releases were</span> <span data-start="400.96" data-end="402.639">stable releases and the odd releases</span> <span data-start="402.639" data-end="405.31">were unstable releases and for a very</span> <span data-start="405.31" data-end="407.169">long time you would have you know like</span> <span data-start="407.169" data-end="410.44">v08 and that was a stable release and it</span> <span data-start="410.44" data-end="411.91">was expected not to have any breaking</span> <span data-start="411.91" data-end="413.53">changes on it and then you would have V</span> <span data-start="413.53" data-end="415.3">0 11 we're more experimental things</span> <span data-start="415.3" data-end="417.94">would happen v9 we're more expensive</span> <span data-start="417.94" data-end="418.99">things would happen and then when they</span> <span data-start="418.99" data-end="421.84">were ready for a bump they would bump up</span> <span data-start="421.84" data-end="424.539">to an even number again you're going to</span> <span data-start="424.539" data-end="425.95">notice there's an interesting pattern in</span> <span data-start="425.95" data-end="428.289">cember if you do not have a 1 in the</span> <span data-start="428.289" data-end="430.99">first digit your sembra minor digit</span> <span data-start="430.99" data-end="432.7">actually becomes December major digit</span> <span data-start="432.7" data-end="434.56">and you're cember patch digit becomes</span> <span data-start="434.56" data-end="436.389">your sin ver minor digit and you end up</span> <span data-start="436.389" data-end="438.94">losing the granularity of even having</span> <span data-start="438.94" data-end="441.97">the idea of assembler patch this is a</span> <span data-start="441.97" data-end="443.86">problem if you want to follow some ver</span> <span data-start="443.86" data-end="447.22">direct like to the key and the spec and</span> <span data-start="447.22" data-end="448.69">that's why actually a lot of people</span> <span data-start="448.69" data-end="450.07">suggest that you start your code at</span> <span data-start="450.07" data-end="452.26">version 1 point 0 which may not be</span> <span data-start="452.26" data-end="456.01">entirely intuitive based on practices in</span> <span data-start="456.01" data-end="457.57">the past many people would wait until</span> <span data-start="457.57" data-end="459.43">their code base was stable and reliable</span> <span data-start="459.43" data-end="461.77">before going to one and using going to</span> <span data-start="461.77" data-end="464.56">one as a way to signal that personally I</span> <span data-start="464.56" data-end="466.34">think having that extra grand</span> <span data-start="466.34" data-end="467.48">molarity and the ability to stick</span> </p>
<p><span data-start="467.48" data-end="470.18">December is way more important people</span> <span data-start="470.18" data-end="471.38">will know the stability based on your</span> <span data-start="471.38" data-end="475.07">documentation so it started taking a</span> <span data-start="475.07" data-end="477.83">really long time to get to v-0 12 the</span> <span data-start="477.83" data-end="480.38">0-10 was the stable version of node for</span> <span data-start="480.38" data-end="483.02">almost two years in the path 20 12</span> <span data-start="483.02" data-end="484.699">wasn't entirely clear and even more so</span> <span data-start="484.699" data-end="487.37">than that the path to v1 was like</span> <span data-start="487.37" data-end="489.68">completely people had no idea when node</span> <span data-start="489.68" data-end="491.18">was going to go to v1 and start being</span> <span data-start="491.18" data-end="493.91">able to properly follow cember and a</span> <span data-start="493.91" data-end="497.09">number of people on the project fed up</span> <span data-start="497.09" data-end="499.82">with waiting fork the project in</span> <span data-start="499.82" data-end="501.979">December of 2014 it's hard to believe</span> <span data-start="501.979" data-end="503.479">that it's almost been two years since I</span> <span data-start="503.479" data-end="506.24">ojs when they forked the project they</span> <span data-start="506.24" data-end="509.03">did what is actually interestingly the</span> <span data-start="509.03" data-end="511.13">correct cember thing and they released</span> <span data-start="511.13" data-end="513.8">it as one point oh so this new I ojs</span> <span data-start="513.8" data-end="515.24">project came out it came out with</span> <span data-start="515.24" data-end="516.979">version 1 point 0 they still released</span> <span data-start="516.979" data-end="519.05">binaries that were called node and you</span> <span data-start="519.05" data-end="520.25">could have the choice to go and download</span> <span data-start="520.25" data-end="522.2">node V 0 10 or you could go and download</span> </p>
<p><span data-start="522.2" data-end="526.79">I ojs one and so as that project moved</span> <span data-start="526.79" data-end="530.089">forward it just did more releases in the</span> <span data-start="530.089" data-end="532.37">februari of 2015 right before node</span> <span data-start="532.37" data-end="536.209">summit joint released v 0 12 v 0 dot 12</span> <span data-start="536.209" data-end="538.22">did not have any of the updates that</span> <span data-start="538.22" data-end="540.02">were happening in the I ojs project and</span> <span data-start="540.02" data-end="542.15">had a slightly updated version of v8</span> <span data-start="542.15" data-end="544.04">which was still quite old unfortunately</span> <span data-start="544.04" data-end="545.209">and I had some updates to</span> <span data-start="545.209" data-end="546.56">internationalization which was very</span> <span data-start="546.56" data-end="549.23">useful but it had still continued to go</span> <span data-start="549.23" data-end="551">further away from the direction that a</span> <span data-start="551" data-end="552.47">lot of the community had been working on</span> <span data-start="552.47" data-end="557.12">so during this time the I ojs project</span> <span data-start="557.12" data-end="559.75">move forward in n cuts version 1 2 and 3</span> <span data-start="559.75" data-end="563.3">based on semantic versioning they had an</span> <span data-start="563.3" data-end="564.8">extremely aggressive release process</span> <span data-start="564.8" data-end="566.51">where basically anytime that something</span> <span data-start="566.51" data-end="567.92">was agreed on that it should be landed</span> <span data-start="567.92" data-end="569.66">it just landed and when they cut a</span> <span data-start="569.66" data-end="570.95">release they would just cut a release</span> <span data-start="570.95" data-end="573.68">with the appropriate December to signal</span> <span data-start="573.68" data-end="575.779">the release line this is really great as</span> <span data-start="575.779" data-end="577.52">a way to move a project forward quickly</span> <span data-start="577.52" data-end="578.9">and there was a lot of ground to catch</span> <span data-start="578.9" data-end="581.089">up on the node project but this isn't</span> <span data-start="581.089" data-end="582.74">the best way to do something when you</span> <span data-start="582.74" data-end="583.79">have a project that's being run in</span> <span data-start="583.79" data-end="585.77">production by companies such as NASA and</span> <span data-start="585.77" data-end="588.74">paypal and netflix they need something</span> <span data-start="588.74" data-end="590">that's a little bit more reliable and</span> <span data-start="590" data-end="592.13">you can't be expecting your teams to do</span> <span data-start="592.13" data-end="594.38">assembler major bump every other week</span> <span data-start="594.38" data-end="598.16">and have to fix broken stuff so node was</span> <span data-start="598.16" data-end="599.48">put in a foundation</span> <span data-start="599.48" data-end="601.639">and the projects I ojs and node were</span> <span data-start="601.639" data-end="603.74">merged as version four point oh in</span> </p>
<p><span data-start="603.74" data-end="606.38">September of 2015 this is around the</span> <span data-start="606.38" data-end="607.82">same time that I started working on the</span> <span data-start="607.82" data-end="612.139">project so what we have up here is our</span> <span data-start="612.139" data-end="615.62">release schedule for nodejs so what you</span> <span data-start="615.62" data-end="618.649">can see up here is node 0 10 which ended</span> <span data-start="618.649" data-end="621.86">maintenance in October 2016 we could see</span> <span data-start="621.86" data-end="624.709">that 0 12 had a current release and a</span> <span data-start="624.709" data-end="626.81">top in October 2015 and moved into</span> <span data-start="626.81" data-end="629">active LTS and then it was a maintenance</span> <span data-start="629" data-end="631.31">until December at which wich point</span> <span data-start="631.31" data-end="633.199">december 31st of this year we're going</span> <span data-start="633.199" data-end="636.23">to be deprecating node V 0 12 you'll see</span> <span data-start="636.23" data-end="637.37">we have master here and we'll talk a</span> <span data-start="637.37" data-end="638.75">little bit more about that and how we</span> <span data-start="638.75" data-end="640.82">manage the different versions and we</span> <span data-start="640.82" data-end="642.92">have knowed v4 note before is the is the</span> <span data-start="642.92" data-end="645.44">first LTS release of node it is</span> <span data-start="645.44" data-end="647.329">currently in an active LTS release</span> <span data-start="647.329" data-end="648.589">process we'll talk a little bit more</span> <span data-start="648.589" data-end="651.29">about that in a bit and in April of 2017</span> <span data-start="651.29" data-end="653.93">that will move to maintenance node v5</span> <span data-start="653.93" data-end="657.88">was a current release from October 2015</span> <span data-start="657.88" data-end="662.269">until a little bit after April 2016 so</span> <span data-start="662.269" data-end="663.86">the way that it works right now is we</span> <span data-start="663.86" data-end="665.6">have our current release line every six</span> <span data-start="665.6" data-end="667.19">months we do a cember major bump and</span> <span data-start="667.19" data-end="671.18">every even release is a release that's</span> <span data-start="671.18" data-end="673.61">going to go into into LTS and have you</span> <span data-start="673.61" data-end="675.38">every odd release is a release that</span> <span data-start="675.38" data-end="676.639">would be deprecated after the release</span> <span data-start="676.639" data-end="679.279">process so you can see lower down how we</span> <span data-start="679.279" data-end="682.22">have the same release process for v6 and</span> <span data-start="682.22" data-end="683.959">we have v7 which is the current release</span> <span data-start="683.959" data-end="687.11">which will be end of life you know in in</span> </p>
<p><span data-start="687.11" data-end="689.54">October when we bump to v8 so what</span> <span data-start="689.54" data-end="690.649">you'll notice on here is that we have an</span> <span data-start="690.649" data-end="693.17">active LTS in a maintenance LTS so long</span> <span data-start="693.17" data-end="696.44">term support lasts for 30 months after</span> <span data-start="696.44" data-end="698.06">the branch has moved out of the current</span> <span data-start="698.06" data-end="700.399">release stream you have 18 months of</span> <span data-start="700.399" data-end="702.26">active back boarding and 12 months of</span> <span data-start="702.26" data-end="703.459">maintenance back boarding so let's take</span> <span data-start="703.459" data-end="706.1">a little bit more into that so current</span> <span data-start="706.1" data-end="709.459">which right now is v7 gets every commit</span> <span data-start="709.459" data-end="711.47">that lands on to master that is in</span> <span data-start="711.47" data-end="713.66">cember major so every week or every</span> <span data-start="713.66" data-end="716.18">other week depending on how many commits</span> <span data-start="716.18" data-end="718.069">are sitting on master will cut a new</span> <span data-start="718.069" data-end="720.41">version of the current release line that</span> <span data-start="720.41" data-end="722.269">will get a bump to either cember minor</span> <span data-start="722.269" data-end="724.19">or cember patch depending on the commits</span> <span data-start="724.19" data-end="726.5">that are in that are sitting on master</span> <span data-start="726.5" data-end="729.62">everything gets in there these can be</span> <span data-start="729.62" data-end="731.6">updates that may actually have the</span> <span data-start="731.6" data-end="733.22">potential of a regression</span> <span data-start="733.22" data-end="735.709">the purpose of this is that by living on</span> <span data-start="735.709" data-end="737.089">the current release lining going out</span> <span data-start="737.089" data-end="739.1">into production for individuals we can</span> <span data-start="739.1" data-end="740.36">catch regressions that we're not</span> <span data-start="740.36" data-end="742.16">catching in our review or testing</span> <span data-start="742.16" data-end="744.47">process quickly and before it ends up</span> <span data-start="744.47" data-end="749.149">reaching in LTS so active LTS is the</span> <span data-start="749.149" data-end="750.949">process of back porting commits that</span> <span data-start="750.949" data-end="752.48">have landed into the current release</span> <span data-start="752.48" data-end="755.029">line onto our active release line so are</span> <span data-start="755.029" data-end="757.85">right now v4 and v6 are both active LTS</span> <span data-start="757.85" data-end="760.37">and so we go through when we audit every</span> <span data-start="760.37" data-end="762.92">commit that's landed on on master that</span> <span data-start="762.92" data-end="764.959">have moved into current that's been in a</span> <span data-start="764.959" data-end="767.209">release for at least two weeks the idea</span> <span data-start="767.209" data-end="769.699">here is that what these can be updates</span> <span data-start="769.699" data-end="772.49">to tests updates to documentation and</span> <span data-start="772.49" data-end="775.37">bug fixes we generally do not backports</span> <span data-start="775.37" data-end="778.73">ember major commits assembler december</span> <span data-start="778.73" data-end="781.22">minor commits to LTS but if something</span> <span data-start="781.22" data-end="783.23">makes sense and has a very very low</span> <span data-start="783.23" data-end="785.959">probability of causing breakages we have</span> <span data-start="785.959" data-end="787.399">a working group that will vote on it and</span> <span data-start="787.399" data-end="789.139">sometimes we'll backports ember minor</span> <span data-start="789.139" data-end="791.509">stuff an example of that would be we're</span> <span data-start="791.509" data-end="793.639">in the process of releasing some new</span> <span data-start="793.639" data-end="795.98">symbols for openssl to windows so</span> <span data-start="795.98" data-end="797.689">there's a lot of hacks that exist in the</span> <span data-start="797.689" data-end="800.72">ecosystem right now to be able to act to</span> <span data-start="800.72" data-end="803.54">access some openssl symbols when writing</span> <span data-start="803.54" data-end="805.85">native modules on windows and buyback</span> <span data-start="805.85" data-end="807.649">porting this we're able to actually get</span> <span data-start="807.649" data-end="809.209">this fixed in production we have</span> <span data-start="809.209" data-end="810.62">companies such as PayPal who have come</span> <span data-start="810.62" data-end="811.939">to us and told us that they're floating</span> <span data-start="811.939" data-end="813.8">these commits already in production on</span> <span data-start="813.8" data-end="815.569">the LTS release lines so we know that</span> <span data-start="815.569" data-end="817.1">it's stable we know that there's a very</span> <span data-start="817.1" data-end="818.779">low chance of breaking things so it</span> <span data-start="818.779" data-end="821.18">makes sense to backport it so we also</span> <span data-start="821.18" data-end="823.1">have maintenance LTS that's the last 12</span> <span data-start="823.1" data-end="825.259">months of the 30-month cycle maitenance</span> </p>
<p><span data-start="825.259" data-end="827.12">LTS is not going to have the same active</span> <span data-start="827.12" data-end="828.559">back porting we're not going back and</span> <span data-start="828.559" data-end="830.24">getting as many things as possible</span> <span data-start="830.24" data-end="832.189">landed what we're doing is we're making</span> <span data-start="832.189" data-end="833.689">sure that if there's major security</span> <span data-start="833.689" data-end="835.55">vulnerabilities or major bugs that are</span> <span data-start="835.55" data-end="837.41">found that we're patching them in</span> <span data-start="837.41" data-end="839.569">releasing security updates so this</span> <span data-start="839.569" data-end="841.25">happens whenever there's a cv for</span> <span data-start="841.25" data-end="842.779">something like openssl which there's</span> <span data-start="842.779" data-end="845.42">been a couple releases on v12 and v10 in</span> <span data-start="845.42" data-end="847.819">the last six months for those this could</span> <span data-start="847.819" data-end="849.8">be a bug that's found we've had security</span> <span data-start="849.8" data-end="852.529">releases for our own modules for HTTP</span> <span data-start="852.529" data-end="854.959">we've had security releases for a number</span> <span data-start="854.959" data-end="856.779">of other other dependents that we ship</span> <span data-start="856.779" data-end="860.089">this is really important we want to make</span> <span data-start="860.089" data-end="861.949">sure that if you go and put something</span> <span data-start="861.949" data-end="863.6">into production on note if you went and</span> <span data-start="863.6" data-end="865.189">put something in production on node V</span> <span data-start="865.189" data-end="866.81">for when it when LTS a</span> <span data-start="866.81" data-end="868.279">year ago you're going to have three</span> <span data-start="868.279" data-end="870.68">years of support where you don't have to</span> <span data-start="870.68" data-end="872.48">worry about things breaking or about</span> <span data-start="872.48" data-end="873.92">vulnerabilities well you have your code</span> <span data-start="873.92" data-end="876.32">in there and we believe that that's</span> <span data-start="876.32" data-end="878.15">enough time to give you an upgrade path</span> <span data-start="878.15" data-end="880.01">for your things that you have sitting in</span> <span data-start="880.01" data-end="885.23">production so what about master we've</span> <span data-start="885.23" data-end="886.67">talked about master a little bit but I</span> <span data-start="886.67" data-end="888.29">didn't talk too much about how we land</span> <span data-start="888.29" data-end="890.63">things master is a special case any</span> <span data-start="890.63" data-end="893.54">commit that gets approved lands directly</span> <span data-start="893.54" data-end="895.67">into master we don't have a dev branch</span> <span data-start="895.67" data-end="898.94">we don't have any special branch for</span> <span data-start="898.94" data-end="900.77">master we have master and then our</span> <span data-start="900.77" data-end="902.21">release lines that branch off of that</span> <span data-start="902.21" data-end="904.43">any cember major commit any sin ver</span> <span data-start="904.43" data-end="906.62">patch commit any sin ver minor commit</span> <span data-start="906.62" data-end="908.3">they all just go right into master and</span> <span data-start="908.3" data-end="910.1">then we cherry pick off of master to our</span> <span data-start="910.1" data-end="911.36">release lines when we're ready to do</span> <span data-start="911.36" data-end="913.61">releases what this means is if you're</span> <span data-start="913.61" data-end="915.11">ever running off the nightly version of</span> <span data-start="915.11" data-end="917.93">node that's built off the head which</span> <span data-start="917.93" data-end="920.51">would right now be a nightly a v8 you</span> <span data-start="920.51" data-end="922.25">have the opportunity or potential of</span> <span data-start="922.25" data-end="924.29">getting major changes that are sitting</span> <span data-start="924.29" data-end="927.08">there we tend to not land december</span> <span data-start="927.08" data-end="928.82">majors right away all the time we give</span> <span data-start="928.82" data-end="931.28">it a lot of time but we also cut off</span> <span data-start="931.28" data-end="933.71">cember majors landing on to master about</span> <span data-start="933.71" data-end="934.97">a month before we're about to cut a</span> <span data-start="934.97" data-end="936.8">release so that we have the proper time</span> <span data-start="936.8" data-end="939.47">to run an air RC + beta + test the</span> <span data-start="939.47" data-end="940.58">things aren't going to break things for</span> <span data-start="940.58" data-end="945.76">people so how do we manage all of this</span> <span data-start="945.76" data-end="951.07">magic mostly and particularly</span> <span data-start="951.07" data-end="953.99">particularly we do it with get magic and</span> <span data-start="953.99" data-end="956.21">what I really love about get magic is</span> <span data-start="956.21" data-end="957.95">that get magic is magic with trees and</span> <span data-start="957.95" data-end="961.64">that basically makes us elves which I'm</span> <span data-start="961.64" data-end="964.43">really into but so we maintain release</span> <span data-start="964.43" data-end="965.99">branches and this is what's important we</span> <span data-start="965.99" data-end="968.99">have a zero 12x French a 4x branch a6x</span> <span data-start="968.99" data-end="971.3">branch and a7x branch these are our</span> <span data-start="971.3" data-end="974.12">release branch lines we also have</span> <span data-start="974.12" data-end="977.24">staging branches 12x staging 4x staging</span> <span data-start="977.24" data-end="980.209">6x staging and 7x staging each of these</span> <span data-start="980.209" data-end="982.39">staging branches are where we'll we'll</span> <span data-start="982.39" data-end="984.65">cherry-pick commits off of master in</span> <span data-start="984.65" data-end="989.66">between releases so most changes as I</span> <span data-start="989.66" data-end="991.25">said have to live in a release for at</span> <span data-start="991.25" data-end="992.72">least two weeks before they'll be back</span> <span data-start="992.72" data-end="994.85">ported to the LTS staging but as soon as</span> <span data-start="994.85" data-end="996.83">something lands on master it can land on</span> <span data-start="996.83" data-end="999.26">7x staging now the only time where this</span> <span data-start="999.26" data-end="1000.07">is an entirely</span> <span data-start="1000.07" data-end="1002.56">true is for documentation updates or</span> <span data-start="1002.56" data-end="1004.6">sometimes for tooling updates we won't</span> <span data-start="1004.6" data-end="1005.92">actually wait for things to go out</span> <span data-start="1005.92" data-end="1008.32">because we need to like for a tap</span> <span data-start="1008.32" data-end="1009.97">reporter update for example we need our</span> <span data-start="1009.97" data-end="1012.16">entire CI release working on all of our</span> <span data-start="1012.16" data-end="1014.23">different branches so it's not a like</span> <span data-start="1014.23" data-end="1016.12">fast and hard rule but for anything that</span> <span data-start="1016.12" data-end="1017.98">has any potential of breaking things it</span> <span data-start="1017.98" data-end="1019.66">needs to be in production before we</span> <span data-start="1019.66" data-end="1022.81">landed on LTS so let's do a little bit</span> <span data-start="1022.81" data-end="1024.459">of a demo and I'm going to be having a</span> <span data-start="1024.459" data-end="1026.079">screen up here so if you can't read it</span> <span data-start="1026.079" data-end="1027.55">just all of you together just scream</span> <span data-start="1027.55" data-end="1029.68">enhance and I'll zoom in a little bit so</span> <span data-start="1029.68" data-end="1032.23">you can see but see here's here's the</span> <span data-start="1032.23" data-end="1034.69">nodejs repo and I'm going to show you a</span> <span data-start="1034.69" data-end="1036.16">little bit of how our release process</span> <span data-start="1036.16" data-end="1038.44">works so we can go here to pull requests</span> <span data-start="1038.44" data-end="1040.12">and you know I'm just going to go and</span> <span data-start="1040.12" data-end="1041.89">grab a random pull request that I</span> <span data-start="1041.89" data-end="1043.51">definitely haven't audited or thought</span> <span data-start="1043.51" data-end="1045.76">that I'm going to use as an example here</span> <span data-start="1045.76" data-end="1049.03">this is by my friend Francis it's a new</span> <span data-start="1049.03" data-end="1051.37">commit that allows test dot pi to use</span> <span data-start="1051.37" data-end="1053.32">the full path of a test so this is</span> <span data-start="1053.32" data-end="1054.64">actually really useful for us we have a</span> <span data-start="1054.64" data-end="1055.87">test runner and the test runner is</span> <span data-start="1055.87" data-end="1057.88">written in Python if you go to run that</span> <span data-start="1057.88" data-end="1060.45">test runner you can run individual tests</span> <span data-start="1060.45" data-end="1062.2">unfortunately the test runner was</span> <span data-start="1062.2" data-end="1064.06">designed that you can't actually pass</span> <span data-start="1064.06" data-end="1067.21">the full test so if we take a look here</span> <span data-start="1067.21" data-end="1070.21">if we had the word test in front and the</span> <span data-start="1070.21" data-end="1072.64">dot J s at the end the test runner</span> <span data-start="1072.64" data-end="1074.02">actually wouldn't recognize that path</span> <span data-start="1074.02" data-end="1076.33">what it would recognize is without the</span> <span data-start="1076.33" data-end="1078.16">test directory and without the j s at</span> <span data-start="1078.16" data-end="1080.38">the end and that's not really useful if</span> <span data-start="1080.38" data-end="1081.58">you're working on your own machine and</span> <span data-start="1081.58" data-end="1084.73">one or on your own test so Francis went</span> <span data-start="1084.73" data-end="1086.83">through and basically all it does is</span> <span data-start="1086.83" data-end="1088.54">normalize the path in case you have</span> <span data-start="1088.54" data-end="1090.55">tests in front and gf's at the at the</span> <span data-start="1090.55" data-end="1094.63">end and this allows us to now run</span> <span data-start="1094.63" data-end="1097.78">individual tests so what we can do here</span> <span data-start="1097.78" data-end="1100.12">is we can go and grab this commit and we</span> <span data-start="1100.12" data-end="1101.83">could copy the link this is a really</span> <span data-start="1101.83" data-end="1103.36">cool thing will go and look at when we</span> <span data-start="1103.36" data-end="1107.59">open it here we could see the commit so</span> <span data-start="1107.59" data-end="1109.78">github actually has this amazing feature</span> <span data-start="1109.78" data-end="1112.21">where you can add dot patch to the end</span> <span data-start="1112.21" data-end="1115.75">of a commit they broke it actually so</span> <span data-start="1115.75" data-end="1118.72">you need to like I have a little regex</span> <span data-start="1118.72" data-end="1121.45">that fixes that but now we get this get</span> <span data-start="1121.45" data-end="1123.64">mail message come and grab me later if</span> <span data-start="1123.64" data-end="1124.9">you want to learn more about what a mail</span> <span data-start="1124.9" data-end="1127.06">messages but it's the old way in which</span> <span data-start="1127.06" data-end="1128.86">the gate project used to pass around</span> <span data-start="1128.86" data-end="1130.72">commits and you can float a mail message</span> <span data-start="1130.72" data-end="1133.66">directly onto a tree without having any</span> <span data-start="1133.66" data-end="1135.37">expected changes happening to that tree</span> <span data-start="1135.37" data-end="1137.32">so it's really great about this is we</span> <span data-start="1137.32" data-end="1139">can take those mail messages pass them</span> <span data-start="1139" data-end="1140.92">to get a.m. and it's going to patch it</span> <span data-start="1140.92" data-end="1143.26">directly onto the head of the tree so we</span> <span data-start="1143.26" data-end="1146.02">can go we can take this link we can go</span> <span data-start="1146.02" data-end="1151.23">here on master and we can patch it and</span> <span data-start="1151.23" data-end="1154.48">we've applied it to the head so now we</span> <span data-start="1154.48" data-end="1158.92">can go and look at the commit and we can</span> <span data-start="1158.92" data-end="1160.84">see that we have this commit here in a</span> <span data-start="1160.84" data-end="1162.1">commit message but it's missing the</span> <span data-start="1162.1" data-end="1164.59">metadata that we use in the project so</span> <span data-start="1164.59" data-end="1166.92">what I can do is I can go back here to</span> <span data-start="1166.92" data-end="1169.6">the original pull request and we have</span> <span data-start="1169.6" data-end="1173.41">this little utility that we use going to</span> <span data-start="1173.41" data-end="1183.289">just refresh this really quickly</span> <span data-start="1183.299" data-end="1185.97">so the utility is deciding not to work</span> <span data-start="1185.97" data-end="1188.789">in that version of Chrome so as we've</span> <span data-start="1188.789" data-end="1191.279">seen with live coding today being fun</span> <span data-start="1191.279" data-end="1194.61">let's try it here for a second we press</span> <span data-start="1194.61" data-end="1196.619">this it's going to generate the metadata</span> <span data-start="1196.619" data-end="1199.08">that we need for the commit we're going</span> <span data-start="1199.08" data-end="1201.239">to go back in here we're going to paste</span> <span data-start="1201.239" data-end="1203.489">the metadata into the commit we're going</span> <span data-start="1203.489" data-end="1204.809">to save that we're going to close it</span> <span data-start="1204.809" data-end="1207.809">we've now made the commit and then we're</span> <span data-start="1207.809" data-end="1214.559">going to push to master so we've just</span> <span data-start="1214.559" data-end="1216.899">updated note and so what I'm going to do</span> <span data-start="1216.899" data-end="1218.129">is I'm going to go and grab that commit</span> </p>
<p><span data-start="1218.129" data-end="1222.659">I'm going to go back to the to the thing</span> <span data-start="1222.659" data-end="1224.669">here i'm going to say you know where it</span> <span data-start="1224.669" data-end="1227.22">landed and i'm going to close it so</span> <span data-start="1227.22" data-end="1229.019">we've actually landed a pull request on</span> <span data-start="1229.019" data-end="1232.019">two nodes master branch so because this</span> <span data-start="1232.019" data-end="1233.369">is a commit that doesn't affect anything</span> <span data-start="1233.369" data-end="1235.559">that's problematic we can actually go</span> <span data-start="1235.559" data-end="1238.2">ahead and start back boarding it on to</span> <span data-start="1238.2" data-end="1241.47">our various release lines so we can look</span> <span data-start="1241.47" data-end="1243.69">here at the head we can grab this and we</span> <span data-start="1243.69" data-end="1246.83">can check out the seven point x staging</span> <span data-start="1246.83" data-end="1252.389">okay and now we can cherry-pick it so</span> <span data-start="1252.389" data-end="1253.889">now we can see it's sitting on on the</span> <span data-start="1253.889" data-end="1257.399">staging branch for the next release and</span> <span data-start="1257.399" data-end="1259.139">we could push that and as long as no one</span> <span data-start="1259.139" data-end="1260.46">else has put anything on the stage one</span> <span data-start="1260.46" data-end="1263.19">branch we should be good which we are so</span> <span data-start="1263.19" data-end="1264.359">now we've updated and put it into</span> <span data-start="1264.359" data-end="1266.309">staging but we can also do is take it a</span> <span data-start="1266.309" data-end="1270.33">step further we can look here at v 68 we</span> <span data-start="1270.33" data-end="1271.919">can update the tree so we could get the</span> <span data-start="1271.919" data-end="1273.419">commits that are sitting in master and</span> <span data-start="1273.419" data-end="1274.769">just what we're doing that I'm going to</span> <span data-start="1274.769" data-end="1280.739">update d for as well and can go you can</span> <span data-start="1280.739" data-end="1287.69">grab this commit grab that link address</span> <span data-start="1287.7" data-end="1292.45">we can patch it on v6 we catch it on v4</span> <span data-start="1292.45" data-end="1296.08">and we can push upstream to both the v6</span> <span data-start="1296.08" data-end="1299.44">staging and the v4 staging so now we've</span> <span data-start="1299.44" data-end="1301.18">gone ahead and we've we've landed this</span> <span data-start="1301.18" data-end="1303.61">update into all of our release lines so</span> </p>
<p><span data-start="1303.61" data-end="1304.96">I can go and market so that we know that</span> <span data-start="1304.96" data-end="1307">it's ready to go so we've gone ahead and</span> <span data-start="1307" data-end="1308.77">taken this commit that fixes our tooling</span> <span data-start="1308.77" data-end="1310.99">we've updated all of our release lines</span> <span data-start="1310.99" data-end="1312.85">and it's ready to go in all of our next</span> <span data-start="1312.85" data-end="1315.58">releases for node so this is kind of an</span> <span data-start="1315.58" data-end="1317.17">example of what the release process</span> <span data-start="1317.17" data-end="1320.17">looks like so if any of you have more</span> <span data-start="1320.17" data-end="1321.52">questions about how we manage that</span> <span data-start="1321.52" data-end="1323.62">release come and grab me but this is the</span> <span data-start="1323.62" data-end="1325.6">process of landing code onto node and</span> <span data-start="1325.6" data-end="1327.24">updating our different release processes</span> <span data-start="1327.24" data-end="1330.49">so when we're ready for a release we'll</span> <span data-start="1330.49" data-end="1332.83">go and we'll branch off of the four</span> <span data-start="1332.83" data-end="1334.33">point x six point X or seven its</span> <span data-start="1334.33" data-end="1336.34">branches and then we'll cherry picker</span> <span data-start="1336.34" data-end="1337.78">commits that are sitting on staging</span> <span data-start="1337.78" data-end="1340.66">ready to go into the release how do we</span> <span data-start="1340.66" data-end="1342.31">know which trick which commits we're</span> <span data-start="1342.31" data-end="1344.23">going to cherry pick we primarily know</span> <span data-start="1344.23" data-end="1346.72">through github labels so every commit</span> <span data-start="1346.72" data-end="1348.97">the December major has a label every</span> <span data-start="1348.97" data-end="1350.5">commits the December minor has a label</span> <span data-start="1350.5" data-end="1353.26">we also have LTS watch labels and we</span> <span data-start="1353.26" data-end="1355.54">have don't land labels so if I go back</span> <span data-start="1355.54" data-end="1357.79">to the repo here for a second and we go</span> <span data-start="1357.79" data-end="1361.57">to our pull requests here we could go</span> <span data-start="1361.57" data-end="1363.13">here and we can say hey what's</span> <span data-start="1363.13" data-end="1367">everything that we have unlike on the</span> <span data-start="1367" data-end="1371.77">floor point LTS watch for v4 point X and</span> <span data-start="1371.77" data-end="1373.57">we're going to see all the stuff that's</span> <span data-start="1373.57" data-end="1375.16">ready to land there and we can do LTS</span> <span data-start="1375.16" data-end="1378.49">watch for six point X as well and now we</span> <span data-start="1378.49" data-end="1379.69">have a list of all the commits that are</span> <span data-start="1379.69" data-end="1382.18">ready to land on both that have closed</span> <span data-start="1382.18" data-end="1383.8">and already landed on master we have a</span> <span data-start="1383.8" data-end="1386.53">big list here so we can go back here and</span> <span data-start="1386.53" data-end="1389.41">we can see that there's another commit</span> <span data-start="1389.41" data-end="1394.18">that I was that i was looking at which</span> <span data-start="1394.18" data-end="1395.98">is this right here which changes a</span> <span data-start="1395.98" data-end="1398.44">deprecated deprecated method that isn't</span> <span data-start="1398.44" data-end="1399.97">supposed to exist but still does and we</span> <span data-start="1399.97" data-end="1403.57">can see that this was landed by Franzi</span> <span data-start="1403.57" data-end="1404.8">who's sitting in the audience right now</span> <span data-start="1404.8" data-end="1407.35">and she landed it in eighty nineteen</span> <span data-start="1407.35" data-end="1409.84">forty one two and so I asked her if it</span> <span data-start="1409.84" data-end="1411.7">should be backboard and she said that if</span> <span data-start="1411.7" data-end="1413.71">it lands cleanly we can so we can go</span> <span data-start="1413.71" data-end="1415.42">ahead and we can copy this commit that's</span> <span data-start="1415.42" data-end="1418.22">ready to land and we can run our</span> <span data-start="1418.22" data-end="1422.09">to command but it didn't work which is</span> <span data-start="1422.09" data-end="1424.22">unfortunate but expected so we can</span> <span data-start="1424.22" data-end="1426.74">actually just say please and now we're</span> <span data-start="1426.74" data-end="1428.33">going to use a three-way merge strategy</span> <span data-start="1428.33" data-end="1430.97">instead of the git merge strategy and we</span> <span data-start="1430.97" data-end="1434.21">push it upstream and we can see there's</span> <span data-start="1434.21" data-end="1437.48">the commit and I think that it's already</span> <span data-start="1437.48" data-end="1440.45">landed so now we can go back to v4 and</span> <span data-start="1440.45" data-end="1444.409">we can try to patch it and we're going</span> <span data-start="1444.409" data-end="1446.179">to see a wait it didn't work so we can</span> <span data-start="1446.179" data-end="1447.53">see what's going on we can see there's</span> <span data-start="1447.53" data-end="1452.39">actually a diff in note CC and we can</span> <span data-start="1452.39" data-end="1453.71">see that there's actually some stuff</span> <span data-start="1453.71" data-end="1455.21">that exists on this tree that doesn't</span> <span data-start="1455.21" data-end="1457.909">exist in v4 and generally when we start</span> <span data-start="1457.909" data-end="1459.59">touching c++ and changes that I'm not</span> <span data-start="1459.59" data-end="1461.84">familiar with I get kind of nervous so</span> <span data-start="1461.84" data-end="1463.19">what I'm going to do is I'm actually</span> <span data-start="1463.19" data-end="1465.23">just going to abort this I'm going to go</span> <span data-start="1465.23" data-end="1466.88">back to this I'm going to switch the tag</span> <span data-start="1466.88" data-end="1470.57">for LTS v6 and let them know that we've</span> <span data-start="1470.57" data-end="1472.22">landed it but I'm also going to do is</span> <span data-start="1472.22" data-end="1474.23">again a lamo label to say don't tool and</span> <span data-start="1474.23" data-end="1476.6">don't land it on v4 because it didn't</span> <span data-start="1476.6" data-end="1479.12">land cleanly we're going to see those</span> <span data-start="1479.12" data-end="1480.679">labels update we're going to go down</span> <span data-start="1480.679" data-end="1482.89">here and I'm going to just messaged</span> <span data-start="1482.89" data-end="1486.32">frenzy and just say you know landed</span> <span data-start="1486.32" data-end="1491.27">cleanly on v6 but not before please feel</span> <span data-start="1491.27" data-end="1494.51">free to manually backport so now we've</span> <span data-start="1494.51" data-end="1497.09">gone it's landed on six it's ready to go</span> <span data-start="1497.09" data-end="1499.37">in a 6 release it didn't land on for so</span> <span data-start="1499.37" data-end="1500.87">we put a label so that we know that it's</span> <span data-start="1500.87" data-end="1502.039">not going to land on the four in the</span> <span data-start="1502.039" data-end="1503.659">future but we've messaged someone to</span> <span data-start="1503.659" data-end="1505.01">give them the opportunity to land it</span> <span data-start="1505.01" data-end="1508.58">later if we'd like so this is how we go</span> <span data-start="1508.58" data-end="1510.049">through and we have tools that we can</span> <span data-start="1510.049" data-end="1512.419">use that can automate going through all</span> <span data-start="1512.419" data-end="1514.7">of these different labels so if we're on</span> <span data-start="1514.7" data-end="1516.98">the six right here we can use this tool</span> <span data-start="1516.98" data-end="1518.99">called branch diff and we can say hey</span> <span data-start="1518.99" data-end="1520.13">you know what's the difference between</span> <span data-start="1520.13" data-end="1523.94">the 6.8 staging and v6 point acts and</span> <span data-start="1523.94" data-end="1526.13">it's nothing which was fun but we could</span> <span data-start="1526.13" data-end="1527.299">then go and say well what's the</span> <span data-start="1527.299" data-end="1529.46">difference between v6 and master it's</span> <span data-start="1529.46" data-end="1530.45">going to go through and it's going to</span> <span data-start="1530.45" data-end="1532.25">grab every single commit it's going to</span> <span data-start="1532.25" data-end="1534.32">compare them based on labels and what's</span> <span data-start="1534.32" data-end="1536.03">really cool about this tool is instead</span> <span data-start="1536.03" data-end="1537.799">of doing it based on the tree which is</span> <span data-start="1537.799" data-end="1539.659">what a git diff usually does it does it</span> <span data-start="1539.659" data-end="1541.28">based on our metadata and it does it</span> <span data-start="1541.28" data-end="1543.169">based on the titles of the commit so</span> <span data-start="1543.169" data-end="1545.03">what it can do is we actually care about</span> <span data-start="1545.03" data-end="1547.549">atomic change atomic change is not the</span> <span data-start="1547.549" data-end="1549.919">same thing as the changes in which we</span> <span data-start="1549.919" data-end="1551.6">have in a get</span> <span data-start="1551.6" data-end="1554.059">tree so a diff between two trees that</span> <span data-start="1554.059" data-end="1555.47">have different changes are going to be a</span> <span data-start="1555.47" data-end="1557.39">diff but we care about are the actual</span> <span data-start="1557.39" data-end="1559.61">commits so now what we can see here are</span> <span data-start="1559.61" data-end="1561.799">all the commits that are a master that</span> <span data-start="1561.799" data-end="1564.169">are not on v6 and there's a whole bunch</span> <span data-start="1564.169" data-end="1565.97">and a lot of them are cember major so</span> <span data-start="1565.97" data-end="1567.23">what we're able to do is actually make a</span> <span data-start="1567.23" data-end="1568.61">whole bunch of different labels and you</span> <span data-start="1568.61" data-end="1573.02">can see here if I go to github com to my</span> <span data-start="1573.02" data-end="1576.679">gists I maintain a gist of various</span> <span data-start="1576.679" data-end="1578.63">audits that I'm doing and we could see</span> <span data-start="1578.63" data-end="1580.46">the audit of v6 this is the command that</span> <span data-start="1580.46" data-end="1582.38">includes excluding labels and these are</span> <span data-start="1582.38" data-end="1583.61">all the commits that still need to be</span> <span data-start="1583.61" data-end="1585.2">labeled they have not yet been labeled</span> <span data-start="1585.2" data-end="1587.12">they live on master not yet on these six</span> <span data-start="1587.12" data-end="1588.98">and i go through periodically you know</span> <span data-start="1588.98" data-end="1590.84">once every two weeks or so and audit</span> <span data-start="1590.84" data-end="1592.64">these the last time i actually did a</span> <span data-start="1592.64" data-end="1594.95">live stream of it and explained commits</span> <span data-start="1594.95" data-end="1595.97">what was going through what was</span> <span data-start="1595.97" data-end="1598.25">happening if you follow me on twitter at</span> <span data-start="1598.25" data-end="1600.44">the alpha nerd I'll tweet on there</span> <span data-start="1600.44" data-end="1601.73">whenever I'm going to be doing these</span> <span data-start="1601.73" data-end="1604.1">these live sessions and if enough of you</span> <span data-start="1604.1" data-end="1606.02">from Singapore interested because I have</span> <span data-start="1606.02" data-end="1607.76">a really weird sleep schedule I totally</span> <span data-start="1607.76" data-end="1609.32">be up for doing it at a time it's like</span> <span data-start="1609.32" data-end="1611.84">reasonable for you but so now that we</span> <span data-start="1611.84" data-end="1613.22">have these labels were able to use tools</span> <span data-start="1613.22" data-end="1615.53">like I was talking about release tools</span> <span data-start="1615.53" data-end="1617.45">including branch diff to find the</span> <span data-start="1617.45" data-end="1618.89">difference release tools such as</span> <span data-start="1618.89" data-end="1621.47">changelog maker which can use that the</span> <span data-start="1621.47" data-end="1623.299">diffs between the branches and generate</span> <span data-start="1623.299" data-end="1625.85">our change log for us we also have</span> <span data-start="1625.85" data-end="1627.919">various scripts that we use during the</span> <span data-start="1627.919" data-end="1632.33">release and all of those allow us to do</span> <span data-start="1632.33" data-end="1634.7">our release process and automate it so</span> <span data-start="1634.7" data-end="1637.039">we got a little bit of time left so</span> <span data-start="1637.039" data-end="1638">we're going to talk a little bit about</span> <span data-start="1638" data-end="1641.09">what is a breaking change I love this</span> <span data-start="1641.09" data-end="1645.2">one I really hope no one got hurt but</span> <span data-start="1645.2" data-end="1648.679">it's just that's pretty glorious just</span> <span data-start="1648.679" data-end="1650.39">good I know I just said I don't have a</span> <span data-start="1650.39" data-end="1652.07">lot of time but I'm just gonna watch it</span> <span data-start="1652.07" data-end="1656.12">anyways so as we talked about before</span> <span data-start="1656.12" data-end="1658.64">what's December major change what's a</span> <span data-start="1658.64" data-end="1660.23">breaking change it's a change in</span> <span data-start="1660.23" data-end="1662.45">behavior generally a change in behavior</span> <span data-start="1662.45" data-end="1665.21">is obvious but sometimes we can be</span> <span data-start="1665.21" data-end="1666.559">really surprised and we're going to talk</span> <span data-start="1666.559" data-end="1668.24">a little bit about how we figure out if</span> <span data-start="1668.24" data-end="1671.12">we have breaking changes and then look</span> <span data-start="1671.12" data-end="1672.47">at an example of one that's unexpected</span> <span data-start="1672.47" data-end="1676.19">so how do we avoid breaking changes you</span> <span data-start="1676.19" data-end="1677.99">know there's obvious ways continuous</span> <span data-start="1677.99" data-end="1680.75">integration and a large testing suite</span> <span data-start="1680.75" data-end="1682.7">but we also do something called smoke</span> <span data-start="1682.7" data-end="1684.409">testing so one of the utilities that</span> </p>
<p><span data-start="1684.409" data-end="1685.28">I've worked on is called</span> <span data-start="1685.28" data-end="1687.17">canary in the gold mine what it will do</span> <span data-start="1687.17" data-end="1689">is it will actually go and grab the</span> <span data-start="1689" data-end="1691.28">tarball from github of a module it will</span> <span data-start="1691.28" data-end="1694.16">untie it it will NPM install it and then</span> <span data-start="1694.16" data-end="1696.17">it will run npm test it will then take</span> <span data-start="1696.17" data-end="1697.79">the results of that test and give us the</span> <span data-start="1697.79" data-end="1700.13">results so you can npm install this npm</span> <span data-start="1700.13" data-end="1702.74">install g you can see I TGM and start</span> <span data-start="1702.74" data-end="1704.24">running test Suites on your laptop if</span> <span data-start="1704.24" data-end="1705.8">you want but what's interesting is it</span> <span data-start="1705.8" data-end="1707.6">also comes with the lookup table of the</span> <span data-start="1707.6" data-end="1709.52">top 70 modules in the ecosystem that</span> <span data-start="1709.52" data-end="1710.9">we've derived for a number of different</span> <span data-start="1710.9" data-end="1713.6">reasons we then run that in CI and we</span> <span data-start="1713.6" data-end="1715.07">can run the test suite automate the test</span> <span data-start="1715.07" data-end="1717.38">suite of 70 of the top modules in n p.m.</span> <span data-start="1717.38" data-end="1719.66">and then get those results to see if</span> <span data-start="1719.66" data-end="1721.19">something's broken and we can run that</span> <span data-start="1721.19" data-end="1723.89">test on any arbitrary commit of node we</span> <span data-start="1723.89" data-end="1725.12">are now at the point where we will not</span> <span data-start="1725.12" data-end="1726.8">land December major change or do a</span> <span data-start="1726.8" data-end="1729.05">release if anything is broken and canary</span> <span data-start="1729.05" data-end="1730.91">in the gold line so what this means is</span> <span data-start="1730.91" data-end="1732.44">that anytime someone sends a commit</span> <span data-start="1732.44" data-end="1734.45">that's questionable we can run canary in</span> <span data-start="1734.45" data-end="1735.89">the gold mine and we can tell whether or</span> <span data-start="1735.89" data-end="1737.21">not we've actually broken something in</span> <span data-start="1737.21" data-end="1742.25">the ecosystem so once upon a time canary</span> <span data-start="1742.25" data-end="1743.84">in the gold mine found some failures</span> <span data-start="1743.84" data-end="1745.31">there was a failure in Jade and a</span> <span data-start="1745.31" data-end="1748.97">failure and body parser so it turned out</span> <span data-start="1748.97" data-end="1750.68">that Jade just moved their args their</span> <span data-start="1750.68" data-end="1751.7">orgs and did an update their</span> <span data-start="1751.7" data-end="1753.83">package.json so this was an example of</span> <span data-start="1753.83" data-end="1755.48">where we didn't actually break anything</span> <span data-start="1755.48" data-end="1757.43">but the modules themselves broke</span> <span data-start="1757.43" data-end="1758.81">something and this has been an awesome</span> <span data-start="1758.81" data-end="1760.31">side effect of canary on a gold mine</span> <span data-start="1760.31" data-end="1762.44">that wasn't expected was that when we</span> <span data-start="1762.44" data-end="1764.45">actually have were able to test that</span> <span data-start="1764.45" data-end="1766.97">these orgs have broken things we can</span> <span data-start="1766.97" data-end="1768.74">actually give a heads up to people hey</span> <span data-start="1768.74" data-end="1770.54">your module is broken and they like they</span> <span data-start="1770.54" data-end="1773.06">love it two days ago we actually found</span> <span data-start="1773.06" data-end="1774.77">that ember CLI pushed some stuff that</span> <span data-start="1774.77" data-end="1776.75">was unexpected that broke note in a</span> <span data-start="1776.75" data-end="1779.75">weird way just on v4 and we were able to</span> <span data-start="1779.75" data-end="1781.46">let them know within like two days of</span> <span data-start="1781.46" data-end="1783.02">their release and they were able to get</span> <span data-start="1783.02" data-end="1784.58">an update out in about 30 minutes</span> <span data-start="1784.58" data-end="1788.09">because they were so adamant that they</span> <span data-start="1788.09" data-end="1789.05">would be tested in canary in the</span> <span data-start="1789.05" data-end="1790.31">coalmine that they worked with us super</span> <span data-start="1790.31" data-end="1793.16">quickly so the next one that broke was</span> <span data-start="1793.16" data-end="1795.65">body parser how many people here know</span> <span data-start="1795.65" data-end="1798.92">what body parser is can I see a number</span> <span data-start="1798.92" data-end="1800.99">of hands how many people here know what</span> </p>
<p><span data-start="1800.99" data-end="1805.37">Express is cool so Express is a tool</span> <span data-start="1805.37" data-end="1808.55">that's used for running all sorts of</span> <span data-start="1808.55" data-end="1810.71">servers it's used inside a paypal's</span> <span data-start="1810.71" data-end="1812.72">Kraken so an idea of how much it's used</span> <span data-start="1812.72" data-end="1815.6">so there was an optimization to query</span> <span data-start="1815.6" data-end="1818.69">string parse that took a length and</span> <span data-start="1818.69" data-end="1821.54">this is the change that came in and we</span> <span data-start="1821.54" data-end="1823.01">can see just like right here essentially</span> <span data-start="1823.01" data-end="1825.71">originally we just checked if the max</span> <span data-start="1825.71" data-end="1828.05">keys was larger than the length and then</span> <span data-start="1828.05" data-end="1831.11">we just cut it and instead we realize</span> <span data-start="1831.11" data-end="1835.43">that you can too stringed up split you</span> <span data-start="1835.43" data-end="1837.56">could pass a max length and in doing so</span> <span data-start="1837.56" data-end="1839.18">we were able to have an optimization and</span> <span data-start="1839.18" data-end="1842.54">not create lots of garbage so one thing</span> <span data-start="1842.54" data-end="1844.04">we didn't account for was infinity</span> <span data-start="1844.04" data-end="1846.86">because based on the spec the number</span> <span data-start="1846.86" data-end="1848.81">that you give for max length is actually</span> <span data-start="1848.81" data-end="1851">an integer and when infinity gets</span> <span data-start="1851" data-end="1853.31">inferred to be an integer it infers 20</span> <span data-start="1853.31" data-end="1855.35">so body parts are actually had a test</span> <span data-start="1855.35" data-end="1857.32">for this and we found out that basically</span> <span data-start="1857.32" data-end="1860.03">what would originally have passed one</span> <span data-start="1860.03" data-end="1863.27">with this code started passing zero so</span> <span data-start="1863.27" data-end="1864.44">this was a code that was a small</span> <span data-start="1864.44" data-end="1865.64">optimization it was something that</span> <span data-start="1865.64" data-end="1867.23">easily would have been backported we</span> <span data-start="1867.23" data-end="1868.55">would have had no idea that this could</span> <span data-start="1868.55" data-end="1870.29">have broken code in production but I</span> <span data-start="1870.29" data-end="1872.03">mean this is an extremely hot code this</span> <span data-start="1872.03" data-end="1873.77">could have broken the world but Canarian</span> <span data-start="1873.77" data-end="1875.72">the gold mine found it smoke testing</span> <span data-start="1875.72" data-end="1878.75">save the day so with the change the</span> <span data-start="1878.75" data-end="1880.01">change had landed on master but not</span> <span data-start="1880.01" data-end="1881.78">going on out in a release yet so we were</span> <span data-start="1881.78" data-end="1883.19">able to land to fix before it even hit</span> <span data-start="1883.19" data-end="1887.3">userland so let's quickly wrap up which</span> <span data-start="1887.3" data-end="1890.18">version should you use forex has had the</span> <span data-start="1890.18" data-end="1893.33">while on LTS to stabilize 6x has been on</span> </p>
<p><span data-start="1893.33" data-end="1894.98">LTS for about a month and it's getting</span> <span data-start="1894.98" data-end="1897.44">ready for a third LTS release and v7 is</span> <span data-start="1897.44" data-end="1898.7">always getting the latest and greatest</span> <span data-start="1898.7" data-end="1902.15">things so why use V for hardened by an</span> <span data-start="1902.15" data-end="1904.34">ongoing release process you already have</span> <span data-start="1904.34" data-end="1905.6">an app in production that's working you</span> <span data-start="1905.6" data-end="1906.71">probably should just stick to vie for</span> <span data-start="1906.71" data-end="1910.46">right now why use v6 and it's going to</span> <span data-start="1910.46" data-end="1911.81">have the longest support cycle of all</span> <span data-start="1911.81" data-end="1913.28">the LTS releases that are out right now</span> <span data-start="1913.28" data-end="1915.77">and it's the closer to master of all the</span> <span data-start="1915.77" data-end="1918.83">LTS releases it also comes with v8 5.1</span> <span data-start="1918.83" data-end="1920.72">which has a much larger coverage of es6</span> <span data-start="1920.72" data-end="1924.59">than 4.8 which was in node v4 and it has</span> <span data-start="1924.59" data-end="1926.09">the inspector api i don't know if you've</span> <span data-start="1926.09" data-end="1927.59">used that yet some people have talked</span> <span data-start="1927.59" data-end="1928.91">about it earlier this conference it's</span> <span data-start="1928.91" data-end="1932.18">awesome do you have to use LTS you know</span> <span data-start="1932.18" data-end="1933.68">no you can do whatever you want I'm not</span> <span data-start="1933.68" data-end="1936.26">the boss of you but if you want to use</span> <span data-start="1936.26" data-end="1938.6">6x what you're going to get is v8 5.4</span> <span data-start="1938.6" data-end="1940.39">you're going to get a little bit of yes</span> <span data-start="1940.39" data-end="1942.8">2016 you know you can use two stars for</span> <span data-start="1942.8" data-end="1944.15">doing exponents which is super cool</span> <span data-start="1944.15" data-end="1945.47">you're going to have the latest and</span> <span data-start="1945.47" data-end="1947.24">greatest stuff but if you use in</span> <span data-start="1947.24" data-end="1949.12">production I'm going to be really scared</span> <span data-start="1949.12" data-end="1951.65">so you know be prepared for breakages if</span> <span data-start="1951.65" data-end="1952.19">you're in</span> <span data-start="1952.19" data-end="1953.33">doctor and that's just kind of the</span> <span data-start="1953.33" data-end="1954.47">message that will leave you with their</span> <span data-start="1954.47" data-end="1957.11">so thank you all so much this is a dog</span> <span data-start="1957.11" data-end="1960.07">surfing</span> </p>
</section>

<!-- div#container ends -->
</div>

<img alt="The End" id="fin" src="../images/fin.jpg">

<script>
/*eslint-disable */
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google-translate');
}
/* eslint-enable */
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="../js/main.js"></script>

</body>

</html>
