<!DOCTYPE html>

<!--
Copyright 2019 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="//google.com">
  <meta name="description" content="web.dev LIVE video transcript">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>sS5EByZm1EI</title>
  <link rel="stylesheet" href="../css/main.css">
</head>

<body>

<iframe id="youtube" src="https://www.youtube.com/embed/sS5EByZm1EI?enablejsapi=1"></iframe>

<div id="container">

<div id="options">
  <div id="google-translate"></div>
  <div>
    <input type="checkbox" id="videoSticky" checked>
    <label for="videoSticky">Video position sticky</label>
  </div>
  <div>
    <input type="checkbox" id="captionScroll" checked>
    <label for="captionScroll">Keep current caption visible</label>
  </div>
</div>

<section>
<p><span data-start="1.43" data-end="25.63">There's quite a lot of you to come and here about make.</span> <span data-start="25.63" data-end="32.629">So, it's going to be one‑on‑one talk, quite basic, I'm going go through the steps</span> <span data-start="32.629" data-end="38.55">of building up a decent make file, if you already know make, and you're an expert, I</span> <span data-start="38.55" data-end="41.12">apologize, please do go next door.</span> <span data-start="41.12" data-end="47.559">I'm Rob Ashton, if you tried following me on Twitter from the page on site it's not</span> <span data-start="47.559" data-end="56.12">spelled like that, I'm not him, don't send abuse to him on Twitter, he'll be very confused,</span> <span data-start="56.12" data-end="63.14">send it to me here, these are things I don't like, quite a lot of things, quite a lot of</span> <span data-start="63.14" data-end="69.21">things, these are things do like, needles to say I don't like very much.</span> </p>
<p><span data-start="69.21" data-end="77.28">Some context, I work in a team of predominantly airline developers, beard wearing E Mac users,</span> <span data-start="77.28" data-end="84.549">a lot of C, a lot of bash and a lot of make, our C and airline are Polished diamonds and</span> <span data-start="84.549" data-end="90.61">wrapped up in duck take and that's bash and make, because of this it made sense to use</span> <span data-start="90.61" data-end="93.4">make for our JavaScript, it may not make sense for you.</span> <span data-start="93.4" data-end="101.17">I'm not Evanial rising, yet I kind of am though I haven't seen a nice tidy grump file.</span> <span data-start="101.17" data-end="107.229">I found this picture on a make web site, I quite like it.</span> <span data-start="107.229" data-end="111.869">Apparently it's afully Gnu, however you say it, looks like it was drawn by a three‑year‑old,</span> <span data-start="111.869" data-end="120.39">drawn by a thirty‑year‑old, make, as old as the hills, it solved all the problems and</span> <span data-start="120.39" data-end="126.13">solved all the problems in weird wacky ways which makes it super fun, I always have established</span> <span data-start="126.13" data-end="131.68">that if you're using cowboys language like JavaScript, and it is, and mind as well use</span> <span data-start="131.68" data-end="132.9">cowboy tuning around it.</span> <span data-start="132.9" data-end="141.409">Try to keep professional\h‑‑ like grump or gulp, and arrange everything in a tiny</span> <span data-start="141.409" data-end="147.47">nice streams, it's all very fun, but it's not as fun as wading through obscure symbols</span> <span data-start="147.47" data-end="154.139">and traversing where to\h‑‑ I really enjoy this find it entertaining, so yes, that's</span> <span data-start="154.139" data-end="160.319">why make, I'm going to jump right into what make is, and do some demos because it's more</span> </p>
<p><span data-start="160.319" data-end="161.319">E.</span> <span data-start="161.319" data-end="162.319">siting.</span> <span data-start="162.319" data-end="166.029">And more importantly, what make is not, so over here if this directory, I've got some</span> <span data-start="166.029" data-end="170.43">stuff, I haven't got any cool music, to play.</span> <span data-start="170.43" data-end="174.26">You hum or whatever, do a dance.</span> <span data-start="174.26" data-end="176.299">Use your imagination now.</span> <span data-start="176.299" data-end="180.739">I have a recursor file to make something in it.</span> <span data-start="180.739" data-end="184.51">I just want to demonstrate that make is not procedural.</span> </p>
<p><span data-start="184.51" data-end="192.249">So, here I have a variable and signs whatever the value of 2 is, like another variable and</span> <span data-start="192.249" data-end="198.139">assign it to where there's all there $3 is, 3 is equal to hello world, down here in the</span> <span data-start="198.139" data-end="201.589">all target, make that bigger, you can all see it.</span> <span data-start="201.589" data-end="207">That look good in the back ? yeah, yeah, we're good, okay, cool.</span> <span data-start="207" data-end="212.049">I'm going to echo out, do whatever is in the value of 3.</span> <span data-start="212.049" data-end="213.549">And if I run this.</span> <span data-start="213.549" data-end="225.589">So, over here we get hello world printed out which is quite interesting if you read that</span> <span data-start="225.589" data-end="232.439">top down, all these variables are lacy, value of a point of actual use them, it's called</span> <span data-start="232.439" data-end="237.329">variable expansion, these are recuresively, actually, I got that wrong, these are meant</span> <span data-start="237.329" data-end="239.449">to be\h‑‑ O Oop, whatever.</span> <span data-start="239.449" data-end="243.189">Forget everything I just said.</span> <span data-start="243.189" data-end="254.639">I, if I go into supervise over here, you also have these ones, semi colon in there instead,</span> <span data-start="254.639" data-end="260.65">these are actually evaluated at the point of time, which means in my all over here if</span> <span data-start="260.65" data-end="263.039">I echo out the value of one p ..</span> <span data-start="263.039" data-end="274.629">t Ooops, I should not have worked,\h‑‑ that should not have worked, I did everything</span> <span data-start="274.629" data-end="275.629">wrong.</span> </p>
<p><span data-start="275.629" data-end="279.27">I'm doomed to fail already.</span> <span data-start="279.27" data-end="286.379">Ooops, meant to do that, quite, so, any way, because of the semicolon, because of this</span> <span data-start="286.379" data-end="292.52">channel over here, these are values of execution, value of one over here is nothing, this is</span> <span data-start="292.52" data-end="298.56">kind of important, make is all about expanding expressions, whether those expressions are</span> <span data-start="298.56" data-end="303.949">simple variable assignment, function calls to get list of crap, not really important.</span> <span data-start="303.949" data-end="311.099">What we have a very non‑procedural language, recursive variables are lacy, simple expanded</span> <span data-start="311.099" data-end="318.169">variables are not (Laze city) so whatever, I'm going to use recursive variables everywhere</span> <span data-start="318.169" data-end="324.419">in these demos what is the structure of a make file, what does it look like? Well, it's</span> <span data-start="324.419" data-end="331.56">separated out into these things called targets, prerecs, and recipes, I try ouse the terminology</span> <span data-start="331.56" data-end="335.62">on the side I call it a big pile of make and get on with life.</span> </p>
<p><span data-start="335.62" data-end="337.819">That's not to everyone's taste.</span> <span data-start="337.819" data-end="344.639">I have a very simple set up in a directory, very simple copy.</span> <span data-start="344.639" data-end="353.52">Okay, we have a make file and we have an in directory, in our in directory we have a file</span> <span data-start="353.52" data-end="364.499">called Pinki file, rainbow dash is not best pony if you don't know this, you do now.</span> </p>
<p><span data-start="364.499" data-end="367.309">It's a truism.</span> <span data-start="367.309" data-end="368.949">\h‑‑ we have a make file, right.</span> <span data-start="368.949" data-end="373.84">I'm going to copy and paste from down here rather than try to write things, I think I'm</span> <span data-start="373.84" data-end="380.46">in demo fail mood today this is preparation, it is, right, so what I'm going to do over</span> <span data-start="380.46" data-end="387.039">here, I'm going to define a target, it's a directory called out, we have Pinkie text,</span> <span data-start="387.039" data-end="391.31">and it has independency on Pinki.text.</span> <span data-start="391.31" data-end="396.389">And also dependency on out, which is nice, copy and paste.</span> <span data-start="396.389" data-end="400.34">The press pee is found underneath this.</span> <span data-start="400.34" data-end="405.21">So here I have in Pinkie text and out Pinkie text.</span> <span data-start="405.21" data-end="411.3">And here we have a target called out, which is directory, and we simply say, please make</span> <span data-start="411.3" data-end="415.09">the directory called out.</span> <span data-start="415.09" data-end="424.49">Over here we're just echoing Dev null\h‑‑ if I run this, so I go to simple copy and</span> <span data-start="424.49" data-end="429.71">say, hey, please make that, you'll see here it copied over my Pinkie and rain by, if I</span> <span data-start="429.71" data-end="432.069">run it again, it doesn't anything at all.</span> <span data-start="432.069" data-end="437.21">Make is quite clever when you have targets and dependents set up, it looks at files and</span> <span data-start="437.21" data-end="441.8">times stamps and only dose things when something is different than expected.</span> </p>
<p><span data-start="441.8" data-end="455.849">If I go to Pinkie text and say Pinkie pie is the best pony it will only copy Pinkie.text.</span> <span data-start="455.849" data-end="460.31">If you set up a decent dependency graph, it will be clever about what it runs and doesn't</span> <span data-start="460.31" data-end="461.31">run.</span> <span data-start="461.31" data-end="462.31">This is the best thing about make.</span> <span data-start="462.31" data-end="469.439">I believe that was the only point I wanted to make here, really, we can go copying of</span> <span data-start="469.439" data-end="471.12">Gumpf.</span> <span data-start="471.12" data-end="475.439">We have a target,list of prerequisites and they execute from right to left.</span> </p>
<p><span data-start="475.439" data-end="478.389">Got that, of course we did, excellent.</span> <span data-start="478.389" data-end="483.729">What we learned here are targets that are actual physical outputs on the disk, prerequisites</span> <span data-start="483.729" data-end="490.24">can be files or other targets you're executing and recipes are scripts that execute to make</span> <span data-start="490.24" data-end="492.819">the targets appear from the dependencies.</span> <span data-start="492.819" data-end="495.969">Nothing too exciting.</span> <span data-start="495.969" data-end="500.039">Of course, that make file was awfully crap, I can't sit there and write a make file for</span> <span data-start="500.039" data-end="505.22">every single file for my input and out put directories because this would take me all</span> <span data-start="505.22" data-end="507.87">day, so we have patterns, rules.</span> <span data-start="507.87" data-end="509.65">Let's do a demo of that.</span> <span data-start="509.65" data-end="514.11">So, let's go to my patent directory.</span> <span data-start="514.11" data-end="519.839">So, here I have the exact same make fail, I just made before.</span> <span data-start="519.839" data-end="527.37">That's wrong keyboard short cut, I'm normally a Linux usually, I just closed it instead</span> <span data-start="527.37" data-end="531.68">of VM, I'm going to present that happened.</span> </p>
<p><span data-start="531.68" data-end="538.81">I don't know my keyboard short cuts on Mac OS, I'm afraid, I make mistakes all the time.</span> <span data-start="538.81" data-end="540.35">Okay, Kayry on.</span> <span data-start="540.35" data-end="545.95">So here we have really crap make file because we're copying files independently all the</span> <span data-start="545.95" data-end="552.829">time, we can use pattern rules do this, actually if we have a, if we call a target where it's</span> <span data-start="552.829" data-end="555.88">any pattern matching out/something.text.</span> <span data-start="555.88" data-end="565.51">Then, actually, dependency will be in something.text,and, down here, we can actually take the value,</span> <span data-start="565.51" data-end="570.07">which we've got from above, which will be\h‑‑ is it a ..</span> <span data-start="570.07" data-end="575.06">it's an angle wrack et, of course it is the incantations are important.</span> <span data-start="575.06" data-end="581.68">I want a copy from here, wrong keyboard short cut again and I'm getting confused on Mac</span> </p>
<p><span data-start="581.68" data-end="586.769">OS that the control key is in the wrong place, it always gets me.</span> <span data-start="586.769" data-end="594.339">So, isn't that exciting, with can say, this is a magic automatic variable given to us</span> <span data-start="594.339" data-end="599.87">by make that says whatever the target is, please put it in dollar open angle bracket</span> <span data-start="599.87" data-end="605.67">and the other one dollar at whatever our first prerequisite was.</span> <span data-start="605.67" data-end="610.56">We still have up here all out slash Pinkie and rainbow text and they will part earn match</span> <span data-start="610.56" data-end="617.6">on the target over here and they'll both work so if I go and run that, I say, make, that</span> <span data-start="617.6" data-end="622.98">actually works and expands to Pinkie and rainbow and works like it did before.</span> <span data-start="622.98" data-end="627.93">Which is super awesome and nice, we saw here something really nice, which is we have pattern</span> <span data-start="627.93" data-end="632.88">rules where we have substitutions with that lovely percent symbol, automatic variables</span> <span data-start="632.88" data-end="638.13">are exposed to recipes from the targets and prewe can we sits we have a magic list of</span> <span data-start="638.13" data-end="642.62">incantations that will get things out of the list.</span> <span data-start="642.62" data-end="646.56">You start memorizing the incantations, I've forgotten them because I'm on stage and panicking.</span> </p>
<p><span data-start="646.56" data-end="654.8">There are dozens of them, it makes it clear to read, when cru near a can have fee shop</span> <span data-start="654.8" data-end="659.16">and peek looking over your shoulder they think you're dead clever.</span> <span data-start="659.16" data-end="667.899">Make has a Maureen Bunyan of of built in functions.</span> <span data-start="667.899" data-end="674.32">The thing with make file, I don't really like is that over here I'm having to do out/pin</span> <span data-start="674.32" data-end="680.98">I can and out slash rainbow as my actual targets, well, that's kind of crap because I don't</span> <span data-start="680.98" data-end="687.709">want to write out all of my targets manually in my make file, it's rubbish, I can call</span> <span data-start="687.709" data-end="688.709">functions instead.</span> <span data-start="688.709" data-end="693.54">I'm going to do that over here, inputs, I can generate a list of inputs over here, and</span> <span data-start="693.54" data-end="699.36">say, actually if I call this function wild card and match on anything in the in directory,</span> <span data-start="699.36" data-end="704.79">asterisk, and\h‑‑ please put it in a variable called inputs thank you very much.</span> <span data-start="704.79" data-end="711.779">Well, that's not very useful, because, of course, I want to replace out/Pinkie and out/rainbow</span> <span data-start="711.779" data-end="719.37">over here, so I can call more\h‑‑ I can call more function on my inputs.</span> <span data-start="719.37" data-end="724.73">6 Ooops, and Ooops again.</span> <span data-start="724.73" data-end="727.94">There we go.</span> </p>
<p><span data-start="727.94" data-end="734.18">And I Kayk say, actually can you do a pattern substitute on in/whatever and replace that</span> <span data-start="734.18" data-end="738.61">whatever without/whatever on all the inputs.</span> <span data-start="738.61" data-end="740.34">And now I have a list of out puts.</span> <span data-start="740.34" data-end="746.509">I can actually print out this list, going to hide this entire line now, so, of I say,</span> <span data-start="746.509" data-end="752.399">I'm going to echo out my output.</span> <span data-start="752.399" data-end="754.6">And for good measure, inputs as well.</span> </p>
<p><span data-start="754.6" data-end="757.509">Of that's no good.</span> <span data-start="757.509" data-end="762.589">Of did I mention I don't know my keyboard short cuts on Mac OS, I'm hitting all the</span> <span data-start="762.589" data-end="770.86">wrong keys, so if I run this make file, you'll see over here my output list contain out/rainbow</span> <span data-start="770.86" data-end="777.889">of and out/Pinkie, and the include list\h‑‑ I've general herb rated a list of file and</span> <span data-start="777.889" data-end="781.839">replaced the expressions with something else.</span> <span data-start="781.839" data-end="785.42">My inputs and out puts.</span> <span data-start="785.42" data-end="793.389">I can feed these outputs into my of target over here as a dependency.</span> <span data-start="793.389" data-end="800.94">And that will mash past this out/and I'll execute this against everything, these inputs</span> <span data-start="800.94" data-end="806.12">over here aren't actually used but to build out puts collections, another exam you might</span> <span data-start="806.12" data-end="813.65">chose to did that, so I'm going to echo to Den null, I don't like to print out, so I</span> <span data-start="813.65" data-end="819.43">run this now, actually executed, so I copy over my Pinkie to my output directory, because</span> <span data-start="819.43" data-end="827.459">if I cat out/Pinkie, and cat out/rainbow we see that Pinki pie still best pony and dash</span> <span data-start="827.459" data-end="833.91">is not best pony.</span> </p>
<p><span data-start="833.91" data-end="840.25">We can generate list of inputs using wild cards and we can generate a list of outputs</span> <span data-start="840.25" data-end="847.839">by pat ton producing on that list, that is cool when combine that with pat enrules, you</span> <span data-start="847.839" data-end="851.97">go and scan your fold erstructure, which is known for the structure for all the files</span> <span data-start="851.97" data-end="856.69">you were to input into various command line tools and generate the outputs you want out</span> <span data-start="856.69" data-end="861.16">of that and generate big part targets out of that and run all your code and hopefully</span> <span data-start="861.16" data-end="865.99">you end up with come peopling an application which is super cool this is why Pinkie pie</span> <span data-start="865.99" data-end="869.53">is best pony because she plays all the instruments.</span> <span data-start="869.53" data-end="876.79">I'm going to build something that's roughly equatable to a real world example.</span> <span data-start="876.79" data-end="880.92">It's not going to be a real world example because I adopt want to play with barrels</span> <span data-start="880.92" data-end="887.579">of fire and MPM and reactor fire that I would use in a java application, I'm going to go</span> <span data-start="887.579" data-end="892.12">incompared my vanilla, that this is not how I do things in the real world too much.</span> <span data-start="892.12" data-end="896">I didn't want to start throwing in all sorts of crazy concepts.</span> <span data-start="896" data-end="906.16">Over here I have a similar widgets directory, in my simple widgets directory, never mind\h‑‑</span> <span data-start="906.16" data-end="912.5">I have a widgets folder in that widgets folder we have three wig its, once one's called Celestia,</span> </p>
<p><span data-start="912.5" data-end="924.22">Pink Ie, and rainbow, each have a style sheet, have an index file, and they have some images</span> <span data-start="924.22" data-end="928.23">too, so pictures of Celest aye as a child and groan up.</span> <span data-start="928.23" data-end="932.62">I don't want to know what they're composed of, but I have a convention in any project</span> <span data-start="932.62" data-end="940.339">that all widgets have some kind of index enindustry point and some kind of style sheet, and I</span> <span data-start="940.339" data-end="946.939">want to copy all that across so this index file will actually work, I'm referencing budgets.CSS</span> <span data-start="946.939" data-end="954.55">and J S, and they magically appear over here, in here in the real world I would use browser</span> <span data-start="954.55" data-end="957.899">five, this is a nice simple example.</span> <span data-start="957.899" data-end="964.319">I have two outputs here at least, and wig its.CSS and I have widgets in these folders,</span> <span data-start="964.319" data-end="966.87">and copy them as welt.</span> <span data-start="966.87" data-end="977.319">Real project you might want to put them in image map, we're not going to do that today.</span> <span data-start="977.319" data-end="982.04">Thankfully I have it all down here before, copy and paste everything again.</span> <span data-start="982.04" data-end="983.67">Absolutely wonderful.</span> <span data-start="983.67" data-end="988.73">The first thing I always do when making a mu make file is figure out my nut output files</span> <span data-start="988.73" data-end="990.47">and work my way up.</span> </p>
<p><span data-start="990.47" data-end="995.3">It's clear I have two outputs over here.</span> <span data-start="995.3" data-end="1004.37">And these outputs are going to have to be\h‑‑ they're completely wrong, got the wrong file</span> <span data-start="1004.37" data-end="1005.69">open.</span> <span data-start="1005.69" data-end="1009.629">There we go.</span> <span data-start="1009.629" data-end="1012.259">Of wow.</span> </p>
<p><span data-start="1012.259" data-end="1014.899">Okay, good.</span> <span data-start="1014.899" data-end="1022.481">So hereby I want to make a widget.JS and clearly I'm going to need some JavaScript files and</span> <span data-start="1022.481" data-end="1024.39">I'm going to need some CS file to point over there.</span> <span data-start="1024.39" data-end="1030.97">So how am I going to get those, let's go to the top of the file over hering let's go and</span> <span data-start="1030.97" data-end="1034.95">get some expansions.</span> <span data-start="1034.95" data-end="1036.28">So ..</span> <span data-start="1036.28" data-end="1044.04">if I have some coffee files in each wig it, over here, I'm going to wild card against</span> <span data-start="1044.04" data-end="1049.65">one it/against whatever the wig it is and anything that's coffee in the directory, and</span> <span data-start="1049.65" data-end="1056.01">generate a list of output files from that, placing all the coffee with J Ses, obviously</span> <span data-start="1056.01" data-end="1062.93">as you do, going do the same with stylus files, I want to take take all the stylus files,/whatever,/whatever</span> <span data-start="1062.93" data-end="1070.26">file, success files are going to look like that, the file replaced by CSS, make sense</span> <span data-start="1070.26" data-end="1075.17">so far? Of course it does, nothing complicated here at all.</span> </p>
<p><span data-start="1075.17" data-end="1076.8">I hope not any way.</span> <span data-start="1076.8" data-end="1083.63">So, cool, I'm going to if he cuss on CSS and such for now, what I need to do is I need</span> <span data-start="1083.63" data-end="1089.3">to somehow convert all my JavaScript files\h‑‑ my coffee files to JavaScript files before</span> <span data-start="1089.3" data-end="1090.52">calf Nateing them.</span> <span data-start="1090.52" data-end="1093.2">To do that we need to compile them.</span> <span data-start="1093.2" data-end="1102.44">That's the coffee script Compiler, if I gather up all of my .</span> <span data-start="1102.44" data-end="1110.01">If I gather up all of my coffee files over here as dependencies, one it/whatever coffee,</span> <span data-start="1110.01" data-end="1116.74">and we have widget/whatever JS, coffee script Compiler against the target I want generated.</span> <span data-start="1116.74" data-end="1119.03">Which will work perfectly fine.</span> </p>
<p><span data-start="1119.03" data-end="1133.59">It's quite clear that if I want to generate a pile of one it of CSS, I can do the same</span> <span data-start="1133.59" data-end="1134.59">thing.</span> <span data-start="1134.59" data-end="1137.7">Take the files, general ate some outputs.</span> <span data-start="1137.7" data-end="1142.22">If I want to execute these rules I'm going to have to say, well, actually let's make</span> <span data-start="1142.22" data-end="1146.46">two place holder rules over here, we have style and we have coffee.</span> </p>
<p><span data-start="1146.46" data-end="1153.15">The style and coffee by the way go intinesically hand in hand, if you haven't got coffee, you</span> <span data-start="1153.15" data-end="1154.23">haven't got style.</span> <span data-start="1154.23" data-end="1161.84">Out put CSS files goes to/site\h‑‑ success and output files\h‑‑ nothing over there.</span> <span data-start="1161.84" data-end="1168.92">Of soft here if I call coffee, it's going to match against this rule for every single</span> <span data-start="1168.92" data-end="1174.59">JS file and look at the coffee spiel, look at coffee script against any file that hasn't</span> <span data-start="1174.59" data-end="1178.84">been change in the recent times, which is nice.</span> <span data-start="1178.84" data-end="1186.041">So, if I go over here, and I want to generate my code, I can say over here, well, if I want</span> <span data-start="1186.041" data-end="1190.94">to do the code, I want to execute the coffee script Compiler, and I want to make the wig</span> <span data-start="1190.94" data-end="1191.94">it.</span> <span data-start="1191.94" data-end="1206.28">JS file, so over here offul I'm confusing myself, I hope you're following.</span> <span data-start="1206.28" data-end="1214.78">We take all the J S output files and we cut them all together in really horrible way,</span> <span data-start="1214.78" data-end="1218.16">so I hope semi colon in the file, there will be semi colon, because we're using coffee</span> <span data-start="1218.16" data-end="1227.38">script, if there wasn't semi colons then this wouldn't work.</span> <span data-start="1227.38" data-end="1230.62">Friends don't let friends use semi colons.</span> </p>
<p><span data-start="1230.62" data-end="1235.38">I'm going to make a clean directory over here because it's polite.</span> <span data-start="1235.38" data-end="1237.01">It's good to be polite.</span> <span data-start="1237.01" data-end="1239.86">Let's love the images for now though.</span> <span data-start="1239.86" data-end="1240.86">Cool.</span> <span data-start="1240.86" data-end="1248.66">I'm going to save say my all depends on my code and my style.</span> <span data-start="1248.66" data-end="1256.09">I'm going to echo this down to receive/Nul.</span> <span data-start="1256.09" data-end="1267.7">Cool, so what we've (Dev/Null\h‑‑ we generated targets for them which are JavaScript and</span> <span data-start="1267.7" data-end="1273.69">another target a JavaScript target file and we have a nice pipeline of individual files</span> <span data-start="1273.69" data-end="1275.95">to individual files to one big file.</span> <span data-start="1275.95" data-end="1276.95">Which is super cool.</span> <span data-start="1276.95" data-end="1280.26">And because I don't trust my copy and paste, I'm going to copy and paste all this over</span> <span data-start="1280.26" data-end="1282.43">here.</span> <span data-start="1282.43" data-end="1289.82">Let's pretend I live code all of this.</span> <span data-start="1289.82" data-end="1298.47">So, I'm going to copy all of my CSS across into one file, my JavaScript file, I run this.</span> </p>
<p><span data-start="1298.47" data-end="1299.47">Over here.</span> <span data-start="1299.47" data-end="1305.13">And we see here, around my JavaScript Compiler, I did everything like that, run, fine, fine,</span> <span data-start="1305.13" data-end="1310.99">if I run page again, nothing at all, nothing needs to be done, because nothing's changed,</span> <span data-start="1310.99" data-end="1314.99">which is super cool, I'ming going to make clean.</span> <span data-start="1314.99" data-end="1318.97">One of the great things about make, once you have all the targets set up and doing things</span> <span data-start="1318.97" data-end="1326.22">on a file by file basis, this is important, it's very easy to parallelize, using make/J</span> <span data-start="1326.22" data-end="1331.97">parallelizes all of that and super quick, you get this for free if you build a sensible</span> <span data-start="1331.97" data-end="1337.2">composed make file comprised of lots of small targets and small files that's granular you</span> <span data-start="1337.2" data-end="1343.67">can get a fast build process out of the grate by parallelizing it for free.</span> <span data-start="1343.67" data-end="1357.15">The site made, there's my Http servers if I go to Safari or Chrome.</span> </p>
<p><span data-start="1357.15" data-end="1358.6">Pinkie Pie and Celestia.</span> <span data-start="1358.6" data-end="1367.17">These are my wig it, they you click on them and they do things.</span> <span data-start="1367.17" data-end="1368.86">It's cool.</span> <span data-start="1368.86" data-end="1370.55">Okay, cool.</span> <span data-start="1370.55" data-end="1377.51">Of so, we'll see here that we is av a wig it CSS and image directory of everything copied</span> <span data-start="1377.51" data-end="1386.61">across, I have a make file\h‑‑ in a nice granular way, now the thing is, this is kind</span> <span data-start="1386.61" data-end="1391.82">of cool, you have a make file which opens and compos very well, place holder files,</span> <span data-start="1391.82" data-end="1396.88">time stamps and we have automatic parallelism, clearly if you're on windows it doesn't works,</span> <span data-start="1396.88" data-end="1400.35">but I don't really care about that.</span> <span data-start="1400.35" data-end="1405.78">This make file is not perfect, obviousfully a real world, it's probably browserfy against</span> </p>
<p><span data-start="1405.78" data-end="1412.42">JavaScript files, we probably reexecute make on a per one it basis you can do more explicit</span> <span data-start="1412.42" data-end="1419.72">pattern matching Andrea have a widgets folder that we pattern match on the module folder</span> <span data-start="1419.72" data-end="1426.34">that's I do at my workplace, I load modules contain all the JavaScript, all of the CSS,</span> <span data-start="1426.34" data-end="1432.59">all images, pattern match against a module derricktory, we can build image maps out put</span> <span data-start="1432.59" data-end="1438.181">CSS and paralyze and it's super fast only things that change get copies across, which</span> <span data-start="1438.181" data-end="1439.4">is awesome.</span> <span data-start="1439.4" data-end="1446.07">Quite a lot of stream based pipelines forego that, and put them through a stream and complicated</span> <span data-start="1446.07" data-end="1450.27">and hard to understand, come collated but also incredibly simple.</span> <span data-start="1450.27" data-end="1454.95">Reuse, I've spent all this time making an amazing make file, it this case it wasn't</span> <span data-start="1454.95" data-end="1460.9">amazing, it was simple, but my work one is probably 500 lines of make, I want to reuse</span> <span data-start="1460.9" data-end="1465.281">across all my lines of projects, they have a similar structure all of my projects, how</span> <span data-start="1465.281" data-end="1469.11">do I do that . let's look at that.</span> <span data-start="1469.11" data-end="1470.35">Shall we.</span> <span data-start="1470.35" data-end="1475.51">What I've done is on to GitHub I've pushed this reproand there's an assets folder over</span> <span data-start="1475.51" data-end="1483.27">here where I have common.Merk, nothing's changed, except for over here we have a conditional</span> <span data-start="1483.27" data-end="1490.2">assignment of widget to widgets, so widget had been specified by the caller of this make</span> <span data-start="1490.2" data-end="1496.32">file, we'll actually not sign this variable, so in my current project I want to call widgets</span> <span data-start="1496.32" data-end="1500.46">gadgets or baubles or something, I don't know.</span> </p>
<p><span data-start="1500.46" data-end="1506.04">And the thing over here, I have the default goals, I will always call goal unless I specify</span> <span data-start="1506.04" data-end="1508.14">a goal myself.</span> <span data-start="1508.14" data-end="1517.83">What I can then do is inside my\h‑‑ inside a make file on an actual project, that's empty</span> <span data-start="1517.83" data-end="1523.5">because I he want it to be empty, of course we go, clef er.</span> <span data-start="1523.5" data-end="1529.61">Of we can export some configuration for that, you can say export widget port equals baubles,</span> <span data-start="1529.61" data-end="1536.21">the make files to that we invoked at this point, set a target at common.America, if</span> <span data-start="1536.21" data-end="1545.64">we haven't got a common.Mk, go and get it\h‑‑ comment.mk, this is what our make files look</span> <span data-start="1545.64" data-end="1552.03">at work, which downloads a latest version of our make and goes and gets it, are if I</span> <span data-start="1552.03" data-end="1559.2">run this right now, hopefully on the WiFi, it sound loaded the make file into common.Mk,and</span> <span data-start="1559.2" data-end="1565.51">executed against bauble directory and gave me a site, so, there we go, baubles, CSS,</span> <span data-start="1565.51" data-end="1571.13">and Html, it's exactly the same as before, just ponies.</span> </p>
<p><span data-start="1571.13" data-end="1577.1">I say just ponies, I'm very fond of ponies, no such thing as ponies, they're awesome.</span> <span data-start="1577.1" data-end="1584.82">Boot strapping our make files, we can export variables which is super cool, you can set</span> <span data-start="1584.82" data-end="1587.1">default goals, which is useful.</span> <span data-start="1587.1" data-end="1591.45">And, if you have a set of conventions across your projects you can use your make files</span> <span data-start="1591.45" data-end="1595.37">across all things and get much joy and happiness from your life.</span> <span data-start="1595.37" data-end="1597.63">Especially as your make files look very pretty.</span> <span data-start="1597.63" data-end="1601.76">Here's a friendly warning of something not to do.</span> <span data-start="1601.76" data-end="1610.81">This is what I see quite a lot with Mk files, I see this a lot GitHub\h‑‑ we have targets</span> <span data-start="1610.81" data-end="1617.88">call build JS and they invoke some command line against an entire directory of JavaScript,</span> <span data-start="1617.88" data-end="1624.1">and then we have pony directives down there, these are not real output these execute these</span> <span data-start="1624.1" data-end="1630.04">every single time and make is being used as a task runner, I see this a lot not in node</span> <span data-start="1630.04" data-end="1635.1">projects but this airline projects as well, but the common\h‑‑ airline is a glorified</span> <span data-start="1635.1" data-end="1642.16">bash script made in make, it's really slow, it's not doing any additional compilation,</span> <span data-start="1642.16" data-end="1648.03">it's just compiling every single bean file inset of asking if it's out of date.</span> </p>
<p><span data-start="1648.03" data-end="1652.9">Build systems are not task runners, and vice versa, not true, one of the mistakes I see,</span> <span data-start="1652.9" data-end="1657.63">one of the problems I see all the time that grunt and GitHub being used as a combination</span> <span data-start="1657.63" data-end="1665.04">of these things that's why t's confusing, if you just want a task runner, that's what</span> <span data-start="1665.04" data-end="1670.75">NPM scripts are for\h‑‑ in my workplace it's a bash scripts calling a bunch of bash</span> <span data-start="1670.75" data-end="1678.7">scripts we're a bunch of coy boys that's what we like do\h‑‑ cowboys\h‑‑ these two</span> <span data-start="1678.7" data-end="1684.25">things go together very well, close tools wisely, that's it and I am running out of</span> <span data-start="1684.25" data-end="1686.97">time, I was right about having to rush myself a little bit.</span> <span data-start="1686.97" data-end="1692.11">If you want to come and tell me how awful it was, do so outside over coffee or breed</span> </p>
</section>

<!-- div#container ends -->
</div>

<img alt="The End" id="fin" src="../images/fin.jpg">

<script>
/*eslint-disable */
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google-translate');
}
/* eslint-enable */
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="../js/main.js"></script>

</body>

</html>
