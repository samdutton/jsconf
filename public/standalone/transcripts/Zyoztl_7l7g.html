<!DOCTYPE html>

<!--
Copyright 2019 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="//google.com">
  <meta name="description" content="web.dev LIVE video transcript">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Zyoztl_7l7g</title>
  <link rel="stylesheet" href="../css/main.css">
</head>

<body>

<iframe id="youtube" src="https://www.youtube.com/embed/Zyoztl_7l7g?enablejsapi=1"></iframe>

<div id="container">

<div id="options">
  <div id="google-translate"></div>
  <div>
    <input type="checkbox" id="videoSticky" checked>
    <label for="videoSticky">Video position sticky</label>
  </div>
  <div>
    <input type="checkbox" id="captionScroll" checked>
    <label for="captionScroll">Keep current caption visible</label>
  </div>
</div>

<section>
<p><span data-start="0" data-end="16.269">[Music]</span> <span data-start="16.279" data-end="18.57">nativist modules this is what I'm gonna</span> <span data-start="18.57" data-end="23.609">talk about but first first first make it</span> <span data-start="23.609" data-end="26.43">work there we go</span> <span data-start="26.43" data-end="32.61">so I'm I go way back to the 80s I tried</span> <span data-start="32.61" data-end="34.68">the whole startup CTO thing didn't work</span> <span data-start="34.68" data-end="40.36">out I'm probably gonna die developer</span> <span data-start="40.37" data-end="43.92">coding till the last minute testing the</span> <span data-start="43.92" data-end="46.62">code is a passion of had since like</span> <span data-start="46.62" data-end="50.309">forever like 20 years I test everything</span> <span data-start="50.309" data-end="52.23">I write how many people the right test</span> <span data-start="52.23" data-end="55.53">for their code okay how many people</span> <span data-start="55.53" data-end="59.64">write this for their CSS see if you want</span> <span data-start="59.64" data-end="61.43">to learn about it come talk to me about</span> <span data-start="61.43" data-end="63.809">applitools Apple it was all about visual</span> <span data-start="63.809" data-end="66.93">testing we have a booth come over it'll</span> <span data-start="66.93" data-end="69.84">be interesting but I'm not here to talk</span> <span data-start="69.84" data-end="71.88">about visual testing I'm here to make</span> <span data-start="71.88" data-end="75.99">things work okay I'll stick here but</span> <span data-start="75.99" data-end="80.28">before that surprise that's me the</span> <span data-start="80.28" data-end="83.67">little baby that's my dad and in the</span> <span data-start="83.67" data-end="85.68">background do you know what what that is</span> <span data-start="85.68" data-end="92.549">that's Singapore I was born here yeah 50</span> <span data-start="92.549" data-end="99.06">years ago ooh my age so it's an amazing</span> <span data-start="99.06" data-end="100.799">experience for me I got here yesterday</span> <span data-start="100.799" data-end="102.869">and just you know walked around it oh my</span> <span data-start="102.869" data-end="105.81">god this is this is this is home just</span> <span data-start="105.81" data-end="108.119">the last one my mother and me and I</span> <span data-start="108.119" data-end="109.439">don't know you probably recognize the</span> <span data-start="109.439" data-end="112.02">pool it's probably very changed so yeah</span> </p>
<p><span data-start="112.02" data-end="118.09">I'm home thank you for having me</span> <span data-start="118.1" data-end="122.759">nativist modules just a reminder for</span> <span data-start="122.759" data-end="126.09">those of us who haven't used es modules</span> <span data-start="126.09" data-end="128.429">it's the export/import thing where if</span> <span data-start="128.429" data-end="130.56">you're exporting you have a module a</span> <span data-start="130.56" data-end="133.5">file and you export a function or X</span> <span data-start="133.5" data-end="136.11">for the value or whatever and then in</span> <span data-start="136.11" data-end="138.21">another module you import it using that</span> <span data-start="138.21" data-end="140.55">syntax that is what I talk about when</span> </p>
<p><span data-start="140.55" data-end="141.21">I'm saying</span> <span data-start="141.21" data-end="144.09">es modules okay so everybody is on board</span> <span data-start="144.09" data-end="146.94">most front-end developers know what that</span> <span data-start="146.94" data-end="148.8">is because web packing and all those</span> <span data-start="148.8" data-end="151.59">bundlers back in people lists</span> <span data-start="151.59" data-end="155.43">okay what are native es modules right</span> <span data-start="155.43" data-end="158.01">the way the way I define it as es code</span> <span data-start="158.01" data-end="161.4">that you know just works without without</span> <span data-start="161.4" data-end="163.95">any any problem and I'll explain that</span> <span data-start="163.95" data-end="166.77">because back in 2015 I gave a talk it</span> <span data-start="166.77" data-end="168.72">was called navigating the wild seas of</span> <span data-start="168.72" data-end="171.36">es modules and I had to explain stuff</span> <span data-start="171.36" data-end="174.959">like the syntax which isn't he doesn't</span> <span data-start="174.959" data-end="176.64">need to be explained today default</span> <span data-start="176.64" data-end="179.37">export translation the whole idea of</span> </p>
<p><span data-start="179.37" data-end="182.7">Babel wasn't really used back then not</span> <span data-start="182.7" data-end="184.47">to mention bundling the idea of taking</span> <span data-start="184.47" data-end="186.69">all that JavaScript code and bundling it</span> <span data-start="186.69" data-end="189.12">into one file this whole idea was very</span> <span data-start="189.12" data-end="191.97">new I had to explain it and everything</span> <span data-start="191.97" data-end="194.28">we take for granted today was needed to</span> <span data-start="194.28" data-end="197.22">be explained and today you we all know</span> <span data-start="197.22" data-end="198.78">the syntax well almost all of you</span> <span data-start="198.78" data-end="200.73">translation is a given everybody who's</span> <span data-start="200.73" data-end="203.16">barbel in the front end and bundling is</span> <span data-start="203.16" data-end="206.34">like yeah right and and and we forgot</span> <span data-start="206.34" data-end="210.45">something we forgot that between 2015</span> <span data-start="210.45" data-end="212.67">and 2019 we had to go through the valley</span> <span data-start="212.67" data-end="214.709">of JavaScript fatigue who remembers</span> <span data-start="214.709" data-end="217.38">JavaScript fatigue there we go what's</span> <span data-start="217.38" data-end="220.32">this whole you know the configurations</span> <span data-start="220.32" data-end="222.93">and webpack people got confused so much</span> <span data-start="222.93" data-end="225.06">about all that and for the right reasons</span> <span data-start="225.06" data-end="227.4">it was difficult and still is difficult</span> <span data-start="227.4" data-end="229.62">but today it's like you know we're back</span> </p>
<p><span data-start="229.62" data-end="233.67">Bob L configuration hell nobody sees the</span> <span data-start="233.67" data-end="237.39">problem anymore but it's there it's not</span> <span data-start="237.39" data-end="241.739">easy and native modules is trying to go</span> <span data-start="241.739" data-end="245.91">back to the simpler times yeah trying to</span> <span data-start="245.91" data-end="247.739">go back to the simpler times when we can</span> <span data-start="247.739" data-end="250.56">just refresh the webpage and that's it</span> <span data-start="250.56" data-end="253.049">work no configuration no web pack no</span> <span data-start="253.049" data-end="256.32">translation no nothing we want as much</span> <span data-start="256.32" data-end="260.79">as to just work and we want them to work</span> <span data-start="260.79" data-end="263.16">both in the browser and in no js' and</span> <span data-start="263.16" data-end="264.84">this talk is exactly about that</span> <span data-start="264.84" data-end="267.33">how the path is going to be it's not</span> <span data-start="267.33" data-end="269.94">there yet and I will you will see it</span> <span data-start="269.94" data-end="273.18">it's not there 2019 we're not there with</span> <span data-start="273.18" data-end="275.37">s modules native ES modules but I</span> <span data-start="275.37" data-end="277.62">believe somewhere in 2020 and definitely</span> <span data-start="277.62" data-end="280.919">in 2021 we will all be using es modules</span> <span data-start="280.919" data-end="285.75">natively so you know come I'll come back</span> <span data-start="285.75" data-end="287.879">in two years hopefully and you will tell</span> <span data-start="287.879" data-end="293.49">me remember you were wrong that's a plug</span> <span data-start="293.49" data-end="296.43">in for my CFP in two years okay</span> <span data-start="296.43" data-end="299.55">using these modules today we code with</span> <span data-start="299.55" data-end="301.409">es modules we have lots of files they're</span> <span data-start="301.409" data-end="303.15">all importing and exporting thing and</span> <span data-start="303.15" data-end="305.159">we're basically creating a dependency</span> <span data-start="305.159" data-end="308.789">graph of files and modules importing and</span> <span data-start="308.789" data-end="310.83">exporting one another and we take that</span> <span data-start="310.83" data-end="313.86">we use webpack or roll-up or any bundler</span> <span data-start="313.86" data-end="316.349">of choice we create one big file which</span> <span data-start="316.349" data-end="318.09">we just stripped source but that's what</span> <span data-start="318.09" data-end="322.199">it is today no native but believe it or</span> <span data-start="322.199" data-end="326.27">not today all modern browsers</span> <span data-start="326.27" data-end="332.219">meaning not ie okay seriously who hates</span> </p>
<p><span data-start="332.219" data-end="336.18">I I have to support it in my visual grid</span> <span data-start="336.18" data-end="339.24">anyway all native is modules all old</span> <span data-start="339.24" data-end="341.849">browsers all modern browsers use native</span> <span data-start="341.849" data-end="344.669">modules you can just use them without</span> <span data-start="344.669" data-end="347.699">transpiling and how do you do that first</span> <span data-start="347.699" data-end="349.44">of all your scripture is just like any</span> <span data-start="349.44" data-end="351.33">other but you don't scriptures a bundle</span> <span data-start="351.33" data-end="353.31">your scriptures to the root of the</span> <span data-start="353.31" data-end="355.71">application app J s or whatever but you</span> <span data-start="355.71" data-end="358.169">add type equals module first of all was</span> <span data-start="358.169" data-end="360.479">that what's that type equals module</span> <span data-start="360.479" data-end="362.58">thing and the answer is it's a new</span> <span data-start="362.58" data-end="364.259">concept it's actually not new it's from</span> <span data-start="364.259" data-end="369.33">2015 from es6 es6 defined two kinds of</span> <span data-start="369.33" data-end="372.09">codes or two kinds of interpretations of</span> </p>
<p><span data-start="372.09" data-end="374.219">JavaScript code one is script that's the</span> <span data-start="374.219" data-end="376.74">one we're used to and the others module</span> <span data-start="376.74" data-end="378.74">that's the new one and I'll explain</span> <span data-start="378.74" data-end="381.36">script is not allowed to use import or</span> <span data-start="381.36" data-end="383.539">export that's the first thing easy and</span> <span data-start="383.539" data-end="386.039">for there are little minor differences</span> <span data-start="386.039" data-end="388.11">for example this the this and in the</span> <span data-start="388.11" data-end="391.199">global scope is window or global or</span> <span data-start="391.199" data-end="393.719">whatever global thing we have and it's</span> <span data-start="393.719" data-end="395.669">non strict by default if you want it to</span> <span data-start="395.669" data-end="399.21">be strict you add you strict module code</span> <span data-start="399.21" data-end="400.71">is allowed to use import index</span> <span data-start="400.71" data-end="403.169">obviously it's module code and this is</span> <span data-start="403.169" data-end="406.41">no idea why but this is true</span> <span data-start="406.41" data-end="408.539">and it's always tricked by definition</span> <span data-start="408.539" data-end="411.509">it's strict always so remember that</span> <span data-start="411.509" data-end="414.78">script source app jeaious this is real</span> <span data-start="414.78" data-end="416.46">this is from a front-end testing</span> <span data-start="416.46" data-end="418.53">workshop I'm giving I'm using native es</span> <span data-start="418.53" data-end="419.82">modules kids because it's the simplest</span> <span data-start="419.82" data-end="423.33">and I'm doing import controller from dot</span> <span data-start="423.33" data-end="426.18">slash control yes and this just works</span> <span data-start="426.18" data-end="429.66">okay no bundling no nothing browsers</span> <span data-start="429.66" data-end="432.36">understand that without web bank so</span> <span data-start="432.36" data-end="434.789">let's let's talk about that first of all</span> <span data-start="434.789" data-end="437.58">each import we have so we can see three</span> <span data-start="437.58" data-end="439.32">imports here that's each of them is a</span> <span data-start="439.32" data-end="441.509">separate HTTP GET they're basically</span> <span data-start="441.509" data-end="445.83">getting the controller JS file and there</span> <span data-start="445.83" data-end="447.9">are no bears specifiers you have to</span> <span data-start="447.9" data-end="450.539">start everything either in absolute URL</span> </p>
<p><span data-start="450.539" data-end="453.96">HTTP colon slash whatever or a relative</span> <span data-start="453.96" data-end="456.24">URL dot slash whatever or dot slash</span> <span data-start="456.24" data-end="458.88">folder slash folders left whatever dot J</span> <span data-start="458.88" data-end="461.43">S and you have to specify the extension</span> <span data-start="461.43" data-end="463.74">because that's how a web servers work</span> <span data-start="463.74" data-end="466.139">you need to specify the extension okay</span> <span data-start="466.139" data-end="467.659">that's the three things</span> <span data-start="467.659" data-end="471.419">h/h import is an HTTP GET no bear</span> <span data-start="471.419" data-end="473.82">specifiers like import load — or import</span> <span data-start="473.82" data-end="476.25">whatever and you must specify the</span> <span data-start="476.25" data-end="478.77">extension and the execution model is</span> <span data-start="478.77" data-end="481.229">cool it's not like today it's</span> <span data-start="481.229" data-end="483.75">asynchronous so all the loading and the</span> <span data-start="483.75" data-end="486.36">parsing of modules is asynchronous it's</span> <span data-start="486.36" data-end="488.4">happening in parallel so this is really</span> <span data-start="488.4" data-end="490.979">really fast and the ink in the sync the</span> <span data-start="490.979" data-end="493.139">execution once the loading and parsing</span> <span data-start="493.139" data-end="494.909">is done you first load and parse</span> <span data-start="494.909" data-end="496.8">everything asynchronously and then you</span> <span data-start="496.8" data-end="498.479">start executing the modules that</span> <span data-start="498.479" data-end="500.96">javascript and the modules bottom up</span> <span data-start="500.96" data-end="503.88">today it's synchronous tomorrow once we</span> <span data-start="503.88" data-end="506.159">have top-level await hopefully it will</span> <span data-start="506.159" data-end="509.82">be also asynchronous but the million</span> <span data-start="509.82" data-end="511.47">dollar question is the question on</span> <span data-start="511.47" data-end="514.829">everyone's mind ok extensions and</span> <span data-start="514.829" data-end="516.899">everything can we take our NPM waistcoat</span> <span data-start="516.899" data-end="519.3">our web pack code which uses imports and</span> <span data-start="519.3" data-end="523.05">just use it in the browser and the</span> <span data-start="523.05" data-end="524.57">answer is nope</span> <span data-start="524.57" data-end="528.36">not yet not yet remember 2021 when I'm</span> <span data-start="528.36" data-end="530.4">back here</span> <span data-start="530.4" data-end="535.27">hyejung extent why first of all do when</span> <span data-start="535.27" data-end="537.37">we import a relative like imports</span> <span data-start="537.37" data-end="540.34">something from dot /foo do we added rjs</span> <span data-start="540.34" data-end="544.84">today no the the web pack or if we're</span> <span data-start="544.84" data-end="547.3">using node as the dodgiest automatically</span> <span data-start="547.3" data-end="550.06">but in in today's world in the browser</span> <span data-start="550.06" data-end="552.76">world we need to add that no bare</span> <span data-start="552.76" data-end="554.8">specifies I mean without bare specifies</span> <span data-start="554.8" data-end="557.14">without importing packages like lodash</span> <span data-start="557.14" data-end="559.78">and and and whatever we can't really</span> <span data-start="559.78" data-end="562.06">work and the last thing is I have</span> <span data-start="562.06" data-end="565.47">hundreds of es modules in my in my app</span> </p>
<p><span data-start="565.47" data-end="568.06">HTTP getting each and every one of them</span> <span data-start="568.06" data-end="570.52">that that's a killer we will talk about</span> <span data-start="570.52" data-end="574.51">each one of these and how we will deal</span> <span data-start="574.51" data-end="576.76">with them and part of how we will deal</span> <span data-start="576.76" data-end="579.84">with them is looking to the nodejs part</span> <span data-start="579.84" data-end="583.33">let's see how that works</span> <span data-start="583.33" data-end="587.5">in in node Reyes native is modules in</span> <span data-start="587.5" data-end="589.45">nodejs and then we'll combine everything</span> <span data-start="589.45" data-end="592.42">in and you'll see the whole picture now</span> <span data-start="592.42" data-end="595.6">no chest already has a really good</span> <span data-start="595.6" data-end="597.85">module solution negative if you want</span> <span data-start="597.85" data-end="600.49">it's called common areas and it looks</span> <span data-start="600.49" data-end="602.26">like this for all you front-end</span> <span data-start="602.26" data-end="603.94">developers that don't trust back-end</span> <span data-start="603.94" data-end="607.21">developers I remember that don't don't</span> <span data-start="607.21" data-end="611.53">go walking in alleys at night and I see</span> <span data-start="611.53" data-end="617.76">her now I've been both by the way so</span> <span data-start="617.76" data-end="621.16">okay so require it's it's required users</span> <span data-start="621.16" data-end="622.81">require syntax it's not a syntax</span> <span data-start="622.81" data-end="624.73">actually a function which imports net</span> <span data-start="624.73" data-end="627.82">and DNS and node fetch and whatever very</span> <span data-start="627.82" data-end="630.88">very similar the syntax is similar to es</span> <span data-start="630.88" data-end="635.04">modules but it isn't okay it's it's</span> <span data-start="635.04" data-end="637.03">specific to node.js and it's called</span> <span data-start="637.03" data-end="641.32">common J's or CJ s in short and SM is es</span> <span data-start="641.32" data-end="643.839">modules in short so yes I mean no js'</span> <span data-start="643.839" data-end="648.839">has to take the existing system and</span> <span data-start="648.839" data-end="652.36">slowly migrate to a totally new system</span> <span data-start="652.36" data-end="655.839">which is similar but not exactly the</span> <span data-start="655.839" data-end="659.05">same which is really really tough and</span> <span data-start="659.05" data-end="662.94">it's a it's a it's a it's a</span> <span data-start="662.94" data-end="665.28">a tug of war sorry it's a tug of war</span> <span data-start="665.28" data-end="668.6">between two things between two goals</span> <span data-start="668.6" data-end="672.24">first of all forward thinking I want es</span> </p>
<p><span data-start="672.24" data-end="674.64">Eman no Jas we want es mi no J's to be</span> <span data-start="674.64" data-end="677.25">compatible with tc39 with with</span> <span data-start="677.25" data-end="680.34">JavaScript's specification it has to be</span> <span data-start="680.34" data-end="682.44">compatible to the letter it can't just</span> <span data-start="682.44" data-end="685.59">do its own thing and the other thing it</span> <span data-start="685.59" data-end="688.89">needs to be compatible with browser is</span> <span data-start="688.89" data-end="693.09">modules why because the the modules</span> <span data-start="693.09" data-end="696.75">working group in node and wants the</span> <span data-start="696.75" data-end="699.06">whole thing to work together once code</span> <span data-start="699.06" data-end="701.4">that is universal that works both in the</span> <span data-start="701.4" data-end="704.04">browser and in nodejs and works</span> <span data-start="704.04" data-end="706.8">seamlessly together so that is one of</span> <span data-start="706.8" data-end="708.93">the goals of nodejs work modules working</span> <span data-start="708.93" data-end="711.63">group not ignore what is happening in</span> <span data-start="711.63" data-end="715.71">the browser unfortunately we need to go</span> <span data-start="715.71" data-end="717.9">the other way we want to work well with</span> <span data-start="717.9" data-end="721.71">common GS okay and we want to be</span> <span data-start="721.71" data-end="724.62">somewhat compatible with the web pack</span> <span data-start="724.62" data-end="727.35">way of esm as we've seen web pack and</span> <span data-start="727.35" data-end="730.59">browser ism are not the same we can't</span> <span data-start="730.59" data-end="732.93">move from one to another but we want to</span> <span data-start="732.93" data-end="735.57">be somewhat compatible with them so that</span> <span data-start="735.57" data-end="737.7">the migration process works</span> <span data-start="737.7" data-end="740.13">okay so we have forward thinking goals</span> <span data-start="740.13" data-end="742.35">and backward compatibility goals and a</span> <span data-start="742.35" data-end="744.09">lot of times there's a conflict between</span> <span data-start="744.09" data-end="748.08">them and we have to choose and it's a</span> <span data-start="748.08" data-end="751.59">discussion it's very very controversial</span> <span data-start="751.59" data-end="754.92">but usually what is chosen is the</span> <span data-start="754.92" data-end="757.56">forward thinking goes this will hamper</span> <span data-start="757.56" data-end="760.56">migration probably but in the end it</span> <span data-start="760.56" data-end="762.51">will I think it will benefit everybody</span> <span data-start="762.51" data-end="764.46">so let's see what they came up with you</span> <span data-start="764.46" data-end="769.08">know in no.12 first of all not like</span> <span data-start="769.08" data-end="771.24">require required does the same thing as</span> <span data-start="771.24" data-end="773.25">web pack you don't have to specify the</span> <span data-start="773.25" data-end="776.1">extension so this won't work import</span> <span data-start="776.1" data-end="778.71">something from somewhere won't work this</span> <span data-start="778.71" data-end="780.96">is better you must specify the extension</span> <span data-start="780.96" data-end="789.21">dot Jas but it's not yes it's MJS or as</span> </p>
<p><span data-start="789.21" data-end="791.31">I like to call it the michael jackson</span> <span data-start="791.31" data-end="794.43">script</span> <span data-start="794.44" data-end="796.06">yeah</span> <span data-start="796.06" data-end="799.88">so yeah it's actually module JavaScript</span> <span data-start="799.88" data-end="802.7">or or whatever jsm was was already taken</span> <span data-start="802.7" data-end="806.66">so MJS is the new thing first of all why</span> <span data-start="806.66" data-end="810.44">extensions my extensions obviously</span> <span data-start="810.44" data-end="812.39">browser compatibility remember the goal</span> <span data-start="812.39" data-end="814.61">is browser compatibility if browsers say</span> <span data-start="814.61" data-end="816.649">that we need an extension then we're</span> <span data-start="816.649" data-end="820.55">going that way in node.js but why it dot</span> </p>
<p><span data-start="820.55" data-end="823.73">MJS and not dodge yes because an ESM</span> <span data-start="823.73" data-end="827.39">file is not a script it's a module and</span> <span data-start="827.39" data-end="830.209">it has different way of thinking about</span> <span data-start="830.209" data-end="832.61">the code in there and if an editor tool</span> <span data-start="832.61" data-end="836">for example wants to yes let's say yes</span> <span data-start="836" data-end="838.43">lint what's this lint the file it needs</span> <span data-start="838.43" data-end="840.47">to know that this is a margin this is</span> <span data-start="840.47" data-end="844.22">module code and not script code so they</span> <span data-start="844.22" data-end="848.089">decided on a specific extension there</span> <span data-start="848.089" data-end="850.76">are other reasons but in essence that is</span> <span data-start="850.76" data-end="855.37">the point this was like they're idiots</span> <span data-start="855.37" data-end="857.959">back there and in the modules working</span> <span data-start="857.959" data-end="860.089">group this caused a huge uproar and we</span> <span data-start="860.089" data-end="862.76">understand that developers love their</span> </p>
<p><span data-start="862.76" data-end="865.579">JavaScript extension and I understand</span> <span data-start="865.579" data-end="867.77">there's a there's you know it's just an</span> <span data-start="867.77" data-end="869.6">extension but there's an emotion feeling</span> <span data-start="869.6" data-end="875.079">to dot J s I really understand that and</span> <span data-start="875.079" data-end="877.94">so they came up in no.12 with a solution</span> <span data-start="877.94" data-end="880.67">which is type equals module so if you</span> <span data-start="880.67" data-end="883.76">have a package.json with type module in</span> <span data-start="883.76" data-end="887.27">it a field a property then all the ESM</span> <span data-start="887.27" data-end="890.63">all that package the j s files will be</span> </p>
<p><span data-start="890.63" data-end="893.24">ESM but then they will be only a same</span> <span data-start="893.24" data-end="895.22">and not common J's so you can switch</span> <span data-start="895.22" data-end="897.95">between the two you can say I want this</span> <span data-start="897.95" data-end="901.61">to be a regular package common J s J's</span> <span data-start="901.61" data-end="905.38">file is a common J's or I want it to be</span> <span data-start="905.38" data-end="909.529">a SM in all J's or ASM so you have this</span> <span data-start="909.529" data-end="912.98">dot MJS is always yeah yes M is always</span> <span data-start="912.98" data-end="916.16">yes M code dot CJ s is always CJ s and</span> <span data-start="916.16" data-end="920.029">that j s is by default common j s but if</span> <span data-start="920.029" data-end="922.73">we have type module then it's es m weird</span> <span data-start="922.73" data-end="926.48">but it's you know like compromise No</span> <span data-start="926.48" data-end="930.8">but is really happy which is good we in</span> <span data-start="930.8" data-end="933.8">in in in common jazz we can NN webpack</span> <span data-start="933.8" data-end="935.149">we can do something like import</span> <span data-start="935.149" data-end="938.029">something and specify a directory ok</span> <span data-start="938.029" data-end="942.529">this doesn't work anymore well if this</span> <span data-start="942.529" data-end="944.63">doesn't work anymore if we have dot</span> <span data-start="944.63" data-end="947.899">index jsr index dot MJS that doesn't</span> <span data-start="947.899" data-end="950.449">work anymore it works only if some deer</span> <span data-start="950.449" data-end="953.209">has a package.json again browser</span> <span data-start="953.209" data-end="956.959">compatibility and this is bear</span> <span data-start="956.959" data-end="959.24">specifiers import something from low -</span> <span data-start="959.24" data-end="962.36">or from whatever package it is obviously</span> <span data-start="962.36" data-end="965.36">this works I mean if that didn't work</span> <span data-start="965.36" data-end="969.11">no no js' program would work anywhere</span> <span data-start="969.11" data-end="973.82">but you can't use the index J s thing in</span> <span data-start="973.82" data-end="975.889">node module so package has to have a</span> <span data-start="975.889" data-end="978.35">package.json with a main entry point and</span> <span data-start="978.35" data-end="982.459">you can't rely on index dot Reyes but</span> <span data-start="982.459" data-end="984.529">you're saying why do we need this whole</span> <span data-start="984.529" data-end="988.79">thing because bear specifiers are anyway</span> <span data-start="988.79" data-end="991.699">not backward-compatible it doesn't</span> <span data-start="991.699" data-end="994.49">really matter whatever we choose in</span> <span data-start="994.49" data-end="998.149">nodejs because there are no bear</span> <span data-start="998.149" data-end="1003.43">specifiers in in in the browser which</span> <span data-start="1003.43" data-end="1005.649">brings us to yes they're not specified</span> <span data-start="1005.649" data-end="1007.209">there yet they're currently illegal if</span> <span data-start="1007.209" data-end="1009.16">you try to put a bear specifier in a</span> <span data-start="1009.16" data-end="1011.589">browser code then it will blow up and</span> <span data-start="1011.589" data-end="1015.639">give an error but and it works in nodejs</span> <span data-start="1015.639" data-end="1020.8">but this was an opportunity finally for</span> <span data-start="1020.8" data-end="1025.03">the node people to start influencing the</span> <span data-start="1025.03" data-end="1028.059">browser people okay for note saying look</span> <span data-start="1028.059" data-end="1030.939">we understand bear specifiers we know</span> <span data-start="1030.939" data-end="1033.309">how that ecosystem works let's work with</span> <span data-start="1033.309" data-end="1036.16">you people and define something that</span> <span data-start="1036.16" data-end="1038.049">will make bear specifiers work in the</span> <span data-start="1038.049" data-end="1040.63">browser and be node.js compatible and</span> <span data-start="1040.63" data-end="1043.919">what they make what they came up with</span> <span data-start="1043.919" data-end="1048.61">was import Maps import maps are needed</span> <span data-start="1048.61" data-end="1051.64">only by the browser no js' doesn't need</span> <span data-start="1051.64" data-end="1054.16">them yet but they're needed only brought</span> <span data-start="1054.16" data-end="1056.74">by the browser no js' if it gets a bear</span> <span data-start="1056.74" data-end="1058.99">specifier it knows to look in the node</span> <span data-start="1058.99" data-end="1060.46">modules folder</span> <span data-start="1060.46" data-end="1062.47">in the node modules directory but</span> <span data-start="1062.47" data-end="1066.22">browsers don't so what you do is and</span> <span data-start="1066.22" data-end="1068.83">let's look at the right side we have a</span> <span data-start="1068.83" data-end="1070.6">script type equals module and it's</span> <span data-start="1070.6" data-end="1072.82">importing lodash for example that's a</span> <span data-start="1072.82" data-end="1076.33">bare specifier to for this to work we</span> <span data-start="1076.33" data-end="1078.88">need another script type equals import</span> <span data-start="1078.88" data-end="1083.23">map which specifies all the imports so</span> <span data-start="1083.23" data-end="1085.06">for example you have import moment and</span> <span data-start="1085.06" data-end="1087.61">import load — and the import load that</span> <span data-start="1087.61" data-end="1090.48">says if we're importing a bear specifier</span> <span data-start="1090.48" data-end="1094.18">then that bear specifier that will be</span> <span data-start="1094.18" data-end="1097.51">the file for that bear specifier so the</span> <span data-start="1097.51" data-end="1100.42">browser looks into that conversion map</span> <span data-start="1100.42" data-end="1105.31">and knows where which HTTP GET to do to</span> <span data-start="1105.31" data-end="1108.67">bring lodash in it's actually makes</span> <span data-start="1108.67" data-end="1111.1">total sense and very easy there's a lot</span> <span data-start="1111.1" data-end="1112.87">of details around it you can go and look</span> <span data-start="1112.87" data-end="1115">import maps on the web it's really</span> <span data-start="1115" data-end="1117.4">interesting and really cool it's</span> <span data-start="1117.4" data-end="1119.35">starting to become implemented in Chrome</span> <span data-start="1119.35" data-end="1121.78">hopefully other browsers will catch up</span> <span data-start="1121.78" data-end="1124.09">and we will have a standard and it is a</span> <span data-start="1124.09" data-end="1127.03">path to universal es modules modules</span> <span data-start="1127.03" data-end="1129.94">that work without any change both in</span> <span data-start="1129.94" data-end="1135.01">node and the browser and web pack and</span> <span data-start="1135.01" data-end="1138.1">how will it work in node the idea is or</span> <span data-start="1138.1" data-end="1140.53">or for browsers the idea is once you npm</span> <span data-start="1140.53" data-end="1144.4">install or yarn add your module that npm</span> <span data-start="1144.4" data-end="1146.98">install or yarn add will modify an</span> <span data-start="1146.98" data-end="1149.53">import map in the root of your in the</span> <span data-start="1149.53" data-end="1152.65">root in the root of your package it will</span> <span data-start="1152.65" data-end="1154.93">modify the import map so that browsers</span> <span data-start="1154.93" data-end="1156.91">if your script source to that import map</span> <span data-start="1156.91" data-end="1159.94">will know exactly where things are so</span> <span data-start="1159.94" data-end="1163.27">you will npm install your packages and</span> <span data-start="1163.27" data-end="1166.57">then just import them there using native</span> <span data-start="1166.57" data-end="1168.94">syntax and then know where pack is</span> <span data-start="1168.94" data-end="1171.4">needed you will just refresh change the</span> <span data-start="1171.4" data-end="1173.65">file refresh the page or do hot module</span> <span data-start="1173.65" data-end="1177.34">reloading and boom everything works no</span> <span data-start="1177.34" data-end="1180.13">we're back know bundlers whatsoever by</span> <span data-start="1180.13" data-end="1181.81">the way the npm install things that</span> <span data-start="1181.81" data-end="1183.22">updates the import map that's a</span> <span data-start="1183.22" data-end="1189.22">speculation of mine so coffin here so as</span> <span data-start="1189.22" data-end="1192.19">we've seen we get used universal native</span> <span data-start="1192.19" data-end="1193.84">is modules mean</span> <span data-start="1193.84" data-end="1195.429">knowledge eels that were both in the</span> <span data-start="1195.429" data-end="1198.4">browser and in npm LAN nodejs etc</span> <span data-start="1198.4" data-end="1202.15">without any change and this is the most</span> <span data-start="1202.15" data-end="1204.4">important thing import Maps will allow</span> <span data-start="1204.4" data-end="1205.96">no Jason browser J's browser</span> <span data-start="1205.96" data-end="1208.36">compatibility with no translation or</span> <span data-start="1208.36" data-end="1214.029">bundling so let's review what about the</span> <span data-start="1214.029" data-end="1216">problem of extensions for module files</span> <span data-start="1216" data-end="1218.98">node forces you to write extension so</span> <span data-start="1218.98" data-end="1222.549">the everybody is basically saying when</span> <span data-start="1222.549" data-end="1224.14">you're importing something or when</span> <span data-start="1224.14" data-end="1226.57">you're requiring something start adding</span> <span data-start="1226.57" data-end="1228.97">extensions to that thing because the</span> <span data-start="1228.97" data-end="1231.01">world is migrating to having the</span> <span data-start="1231.01" data-end="1233.35">extension in the import it may be a bit</span> <span data-start="1233.35" data-end="1235.51">ugly but that is the reality</span> <span data-start="1235.51" data-end="1237.61">what about bear specifiers bear</span> <span data-start="1237.61" data-end="1239.86">specifiers which was a problem now we</span> <span data-start="1239.86" data-end="1242.08">have we will have import maps in a year</span> <span data-start="1242.08" data-end="1244.929">or two and we've solved that problem</span> <span data-start="1244.929" data-end="1248.02">what about HTTP getting every one of my</span> <span data-start="1248.02" data-end="1250.779">hundred modules is that solved nope and</span> <span data-start="1250.779" data-end="1253.299">the answer here that I call it the black</span> <span data-start="1253.299" data-end="1256.48">hole problem because I'm certain a lot</span> <span data-start="1256.48" data-end="1258.76">of you have seen this the heaviest</span> <span data-start="1258.76" data-end="1261.19">object in the universe and some of you</span> <span data-start="1261.19" data-end="1266.35">haven't that's nice yeah node modules is</span> <span data-start="1266.35" data-end="1271.27">huge lots of modules first of all it's</span> <span data-start="1271.27" data-end="1274.48">not that big because we want the the not</span> <span data-start="1274.48" data-end="1275.83">the dev dependency we want the</span> <span data-start="1275.83" data-end="1277.809">production dependencies most of the</span> <span data-start="1277.809" data-end="1279.909">hugeness in node modules is having</span> <span data-start="1279.909" data-end="1281.98">typescript bubble web pack is lint and</span> <span data-start="1281.98" data-end="1283.87">all those development tools inside node</span> <span data-start="1283.87" data-end="1286.63">modules it's like in Java every project</span> <span data-start="1286.63" data-end="1289.659">has a Java compiler and Eclipse and</span> <span data-start="1289.659" data-end="1292.24">whatever development tools are inside</span> <span data-start="1292.24" data-end="1294.37">this is the situation in in in</span> </p>
<p><span data-start="1294.37" data-end="1296.74">JavaScript today so it's not that big</span> <span data-start="1296.74" data-end="1298.87">but it's still too big for production</span> <span data-start="1298.87" data-end="1301.27">it's still like tens of modules hundreds</span> <span data-start="1301.27" data-end="1303.52">of more of modules too big for</span> <span data-start="1303.52" data-end="1305.559">production if I need to HTTP get all of</span> <span data-start="1305.559" data-end="1309.789">them that's a problem now I don't have a</span> <span data-start="1309.789" data-end="1312.73">lot of time so I'm not gonna you know</span> <span data-start="1312.73" data-end="1315.19">expand on this the solution people</span> <span data-start="1315.19" data-end="1318.25">thought was gonna happen was HTTP 2</span> <span data-start="1318.25" data-end="1320.5">which allows us to bring a lot of files</span> <span data-start="1320.5" data-end="1323.26">at were at the same time and for the</span> <span data-start="1323.26" data-end="1327.67">server to push all these files to the</span> <span data-start="1327.67" data-end="1333.65">even before the browser requests them</span> <span data-start="1333.66" data-end="1336.46">yeah that's better</span> <span data-start="1336.46" data-end="1338.559">but it's not good enough there's an</span> <span data-start="1338.559" data-end="1340.33">article on that I don't want to I don't</span> <span data-start="1340.33" data-end="1341.92">want to talk about that</span> <span data-start="1341.92" data-end="1344.29">it's it's it's like I do want to talk</span> <span data-start="1344.29" data-end="1346.57">about that but I'm out of time and the</span> <span data-start="1346.57" data-end="1349">other thing and I think the real answer</span> <span data-start="1349" data-end="1351.84">is what is called the web packages</span> <span data-start="1351.84" data-end="1355.51">solution the web packages is a upcoming</span> <span data-start="1355.51" data-end="1357.28">standard which enables us to bundle</span> <span data-start="1357.28" data-end="1360.61">files as they are as HTTP resources and</span> <span data-start="1360.61" data-end="1362.28">give them to the browser in one time</span> <span data-start="1362.28" data-end="1365.32">fascinating a subject again I don't have</span> <span data-start="1365.32" data-end="1370.289">time so wrap up</span> <span data-start="1370.299" data-end="1374.08">browsers support only relative paths and</span> <span data-start="1374.08" data-end="1377.47">it's lunch I know I know</span> <span data-start="1377.47" data-end="1379.78">node support for relative path is</span> <span data-start="1379.78" data-end="1382.299">intentionally browser compatible so it</span> <span data-start="1382.299" data-end="1385.72">uses extension it uses MJS but if you</span> <span data-start="1385.72" data-end="1388.75">really love your Jas use type module in</span> <span data-start="1388.75" data-end="1392.11">the package.json bear specifiers are</span> <span data-start="1392.11" data-end="1395.049">there a node support for bear specifiers</span> <span data-start="1395.049" data-end="1396.85">in browser will be coming hopefully</span> <span data-start="1396.85" data-end="1399.549">using the import map proposal and the</span> <span data-start="1399.549" data-end="1402.13">black hole problem is a problem now but</span> <span data-start="1402.13" data-end="1403.929">it probably will be solved by technology</span> <span data-start="1403.929" data-end="1406.66">sister HTTP 2 and web packages so the</span> <span data-start="1406.66" data-end="1409.2">future is very bright for its modules</span> <span data-start="1409.2" data-end="1411.48">node and browser interoperability</span> <span data-start="1411.48" data-end="1414.28">without the need for bundlers and</span> <span data-start="1414.28" data-end="1416.559">transpilers simpler times people are</span> <span data-start="1416.559" data-end="1419.94">coming thank you very much</span> </p>
</section>

<!-- div#container ends -->
</div>

<img alt="The End" id="fin" src="../images/fin.jpg">

<script>
/*eslint-disable */
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google-translate');
}
/* eslint-enable */
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="../js/main.js"></script>

</body>

</html>
