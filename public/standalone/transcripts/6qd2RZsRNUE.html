<!DOCTYPE html>

<!--
Copyright 2019 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="//google.com">
  <meta name="description" content="web.dev LIVE video transcript">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>6qd2RZsRNUE</title>
  <link rel="stylesheet" href="../css/main.css">
</head>

<body>

<iframe id="youtube" src="https://www.youtube.com/embed/6qd2RZsRNUE?enablejsapi=1"></iframe>

<div id="container">

<div id="options">
  <div id="google-translate"></div>
  <div>
    <input type="checkbox" id="videoSticky" checked>
    <label for="videoSticky">Video position sticky</label>
  </div>
  <div>
    <input type="checkbox" id="captionScroll" checked>
    <label for="captionScroll">Keep current caption visible</label>
  </div>
</div>

<section>
<p><span data-start="51.44" data-end="52.44">Hi, welcome to our talk.</span> <span data-start="52.44" data-end="53.44">My name is Mariko Kosaka.</span> <span data-start="53.44" data-end="55">My Twitter handle is @kosamari.</span> </p>
</section>

<section>
<p><span data-start="55" data-end="60.34"><span class="speaker">Suz</span>: And I'm Suz Hinton, and my Twitter is @noopkat.</span> </p>
</section>

<section>
<p><span data-start="60.34" data-end="67.64"><span class="speaker">Mariko</span>: And we are web developers, not exclusively JavaScript but we like to use JavaScript in</span> <span data-start="67.64" data-end="68.9">weird places.</span> <span data-start="68.9" data-end="74.56">So, for example, Suz makes this awesome, awesome library to control hardware and to put pixels</span> <span data-start="74.56" data-end="77.52">in hardware with JavaScript.</span> </p>
<p><span data-start="77.52" data-end="85.71">I'm involved in a project to make an electric knitting machine so that I can make textile</span> <span data-start="85.71" data-end="86.71">design.</span> <span data-start="86.71" data-end="88.74">That was convoluted.</span> <span data-start="88.74" data-end="91.55">Anyways, so we basically go to same meetups.</span> <span data-start="91.55" data-end="98.7">We see each other pretty much every week, maybe and we, at this point, we are like BFFs</span> <span data-start="98.7" data-end="100.979">that finish each other's sentences.</span> </p>
<p><span data-start="100.979" data-end="106.61">Yesterday we flew in red eye, super jetlagged, some tired.</span> <span data-start="106.61" data-end="115.17">We were rehearsing this talk and we just couldn't  —  but we were shouting same words at the</span> <span data-start="115.17" data-end="116.61">same time.</span> <span data-start="116.61" data-end="117.61">[ Laughter ]</span> <span data-start="117.61" data-end="124.34">So a year ago at one of the meetups in New York, Suz proposed to me saying, like, hey,</span> <span data-start="124.34" data-end="128.09">do you want to maybe sometimes work on projects together?</span> <span data-start="128.09" data-end="132.12">And maybe sometimes, like, talk at a conference together?</span> <span data-start="132.12" data-end="136.68">And without thinking anything about what it's going to be, I just said, "Heck yes!"</span> <span data-start="136.68" data-end="140.849">But we didn't really figure out what we wanted to do immediately.</span> <span data-start="140.849" data-end="145.439">We talked about, what about this, what about that, we spent months and months just talking</span> <span data-start="145.439" data-end="149.719">about the idea of doing this secret project together.</span> <span data-start="149.719" data-end="156.761">But that quickly ended when October 6th, 2016 last year, I saw this tweet from Jan, one</span> <span data-start="156.761" data-end="164.36">of the curators of this conference said, can you give us an update to the fax machine.</span> </p>
<p><span data-start="164.36" data-end="170.889">And one of my other friends in Melbourne said, is this still in use?</span> <span data-start="170.889" data-end="176.909">I have a secret wish that we own one and send each other little drawings and I thought this</span> <span data-start="176.909" data-end="178.48">was a perfect idea.</span> <span data-start="178.48" data-end="183.489">Suz, immediately saying, like, hey, do you want to do a fax machine, and without me explaining,</span> <span data-start="183.489" data-end="187.33">she replied, "Love it!"</span> </p>
</section>

<section>
<p><span data-start="187.33" data-end="189.26"><span class="speaker">Suz</span>: Great.</span> <span data-start="189.26" data-end="194.019">We had to come up with a few more constraints other than we're just going to make some fax-machine-related</span> <span data-start="194.019" data-end="195.019">thing.</span> <span data-start="195.019" data-end="200.309">So what we ended up deciding on is we were going to build two separate machines and that's</span> <span data-start="200.309" data-end="202.169">where the project was going to diverge.</span> <span data-start="202.169" data-end="209.01">And so what our machine needed to do was it needed to be able to accept any kind of data</span> <span data-start="209.01" data-end="214.699">type that one of us sent to it, and then it would be able to interpret that, and then</span> <span data-start="214.699" data-end="217.26">output it in whatever way we chose to.</span> <span data-start="217.26" data-end="222.599">So, essentially, if Mariko sent my machine an audio file, or an image file, or some kind</span> <span data-start="222.599" data-end="226.68">of binary data, it knew what to do with that data and vice versa.</span> <span data-start="226.68" data-end="230.14">So if I spent something to Mariko's machine, it would be able to understand what to do</span> <span data-start="230.14" data-end="232.59">that, and what it was.</span> </p>
</section>

<section>
<p><span data-start="232.59" data-end="237.599"><span class="speaker">Mariko</span>: So on top of that  —  SUZ: So on top of that, we ended up even with</span> <span data-start="237.599" data-end="245.109">more constraints, Mariko decided to create her interpreter on the browser, and I decided</span> <span data-start="245.109" data-end="250.25">to create mine only on the command line console, no browser allowed.</span> <span data-start="250.25" data-end="251.809">Scary for me, but yeah.</span> </p>
</section>

<section>
<p><span data-start="251.809" data-end="258.65"><span class="speaker">Mariko</span>: And we decided how we're going to do this project and how every day of each</span> <span data-start="258.65" data-end="265.55">transaction, we're going to make a journal on documenting whatever we did on our own,</span> <span data-start="265.55" data-end="268.159">and kind of sharing that journal together.</span> <span data-start="268.159" data-end="271.02">But every project needs a good name.</span> <span data-start="271.02" data-end="275.97">Like, we are the kind of person who starts thinking about logo even before we start the</span> <span data-start="275.97" data-end="276.97">project.</span> <span data-start="276.97" data-end="282.06">And so we talked about this idea of fax machine and we were looking at Wikipedia, fax machine</span> <span data-start="282.06" data-end="294.29">comes from facsimile and we really liked the idea of getting binary data and interpreting</span> <span data-start="294.29" data-end="296.94">it so that we can make something like what they sent.</span> <span data-start="296.94" data-end="298.699">And so we decided to call it Make Alike.</span> </p>
</section>

<section>
<p><span data-start="298.699" data-end="301.5"><span class="speaker">Suz</span>: We thought it was a really adorable name so..</span> </p>
</section>

<section>
<p><span data-start="301.5" data-end="309.55"><span class="speaker">Mariko</span>: So we did one data exchange and we wrote our own journal and that's what we won't</span> <span data-start="309.55" data-end="310.83">do today.</span> <span data-start="310.83" data-end="313.61">So I'm going to go into my presentation.</span> <span data-start="313.61" data-end="318.699">So my bit, I called my Journal Code, Journal 00 because I'm a JavaScript developer.</span> <span data-start="318.699" data-end="325.349">Like Elly has to start from zero and then I titled, when I decided we were going to</span> <span data-start="325.349" data-end="331.59">look at binary data and decode it in the browser, I was super, super excited.</span> <span data-start="331.59" data-end="342.61">I love looking at hex code.</span> <span data-start="342.61" data-end="347.419">But looking at this I can exactly tell you how many patterns are in this pattern code,</span> <span data-start="347.419" data-end="354.32">and about how how big that is, and to the point of I kind of notice, like, certain sequences</span> <span data-start="354.32" data-end="357.3">and then I can tell the color collection of those things.</span> <span data-start="357.3" data-end="361.99">I spent a lot of times looking at those things, and it's like a puzzle.</span> <span data-start="361.99" data-end="368.49">So Suz told me that she committed the binary file so I pulled down.</span> <span data-start="368.49" data-end="375.08">We use GitHub  —  and so I pulled down on GitHub and by just habit, I typed next command, open,</span> <span data-start="375.08" data-end="381.439">dot, for the next whatever command to send and we talked about because it is a project,</span> <span data-start="381.439" data-end="384.15">it would be like no cheating.</span> </p>
<p><span data-start="384.15" data-end="388.789">No putting on external software, no putting on, you know, easy way out, we were going</span> <span data-start="388.789" data-end="392.509">to do the hard work, the groundwork ourselves.</span> <span data-start="392.509" data-end="400.93">But in through that, it was so fucking helpful that they decoded that binary for me on cassette</span> <span data-start="400.93" data-end="408.219">tape on preview, and so I messaged Suz and said, I'm sorry, the OS decoded for me already.</span> </p>
</section>

<section>
<p><span data-start="408.219" data-end="414.879"><span class="speaker">Suz</span>: I was so devastated because it took me hours to pick this particular image and then</span> <span data-start="414.879" data-end="418.53">I had to start from scratch and find something really quickly.</span> </p>
</section>

<section>
<p><span data-start="418.53" data-end="426.44"><span class="speaker">Mariko</span>: So after that, she sent me a new file, and this time with even the preview finder,</span> <span data-start="426.44" data-end="427.53">it was a text file.</span> <span data-start="427.53" data-end="432.51">She told me it was an image, that was the only clue she gave me, but it was a text file,</span> <span data-start="432.51" data-end="435.939">and I got to be a binary detective.</span> </p>
<p><span data-start="435.939" data-end="441.75">And so the first thing I thought was what if I miss inform the HTML element, what if</span> <span data-start="441.75" data-end="447.189">I give the HTML element text file, are they going to be unhappy and give me an error message</span> <span data-start="447.189" data-end="460.24">and then I have to investigate  —  so I got through the HTML and the browser is also helpful.</span> <span data-start="460.24" data-end="466.319">So even though I was thinking that this is a binary text file into source of image element,</span> <span data-start="466.319" data-end="472.28">so they should, like  —  but they would go ahead and interpret it, and show me the picture.</span> <span data-start="472.28" data-end="474.779">So the this is second picture.</span> <span data-start="474.779" data-end="478.719">And Suz keeps talking to me about, like, the order is really important.</span> <span data-start="478.719" data-end="481.28">And, like, giving me clues or something.</span> <span data-start="481.28" data-end="482.4">So can you, like, elaborate?</span> <span data-start="482.4" data-end="487.43">Because I haven't figured out any connection between the cassette tape and that.</span> </p>
</section>

<section>
<p><span data-start="487.43" data-end="491.62"><span class="speaker">Suz</span>: Yeah, so there's a lot of clues in this picture but I think it's going to unfold as</span> <span data-start="491.62" data-end="492.62">we send you more.</span> <span data-start="492.62" data-end="499.229">So I'm going to send you more files and this is the first clue and I think this is the</span> <span data-start="499.229" data-end="502.41">hardest one because you won't see the pattern yet.</span> <span data-start="502.41" data-end="508.46">The format is a clue, the color palette is a clue, and the subject matter is a clue.</span> </p>
</section>

<section>
<p><span data-start="508.46" data-end="513.58"><span class="speaker">Mariko</span>: That's good to know because I've actually investigated the format for this journal.</span> <span data-start="513.58" data-end="520.63">So at this point I was like, I can't really be a browser detective because OSes are super</span> <span data-start="520.63" data-end="524.94">helpful, and browsers are even more helpful because they're decoding for me.</span> <span data-start="524.94" data-end="529.27">So this plan on being a browser detective isn't working.</span> <span data-start="529.27" data-end="535.63">Instead I'm going to be a browser anthropologist, and observe the habitat of the HTML element</span> <span data-start="535.63" data-end="540.98">and how they're interpretation my binary data.</span> <span data-start="540.98" data-end="544.85">So this was my first research.</span> <span data-start="544.85" data-end="552.15">I picked other media elements and put the text over it to test, is browser really smart</span> <span data-start="552.15" data-end="556.71">enough to know that the file is image, or the file is audio.</span> <span data-start="556.71" data-end="562.46">I load it in the browser, and then, indeed, browser only decoded the file as image and</span> <span data-start="562.46" data-end="564.27">then failed on audio and video.</span> </p>
<p><span data-start="564.27" data-end="566.41">It didn't play at all.</span> <span data-start="566.41" data-end="573.66">So this proves the hypothesis of those media elements knows more than input because when</span> <span data-start="573.66" data-end="580.12">we code, the form inputFileElement, we can access the data about file name, type, size,</span> <span data-start="580.12" data-end="585.4">last date modified, it's kind of what you get, like, on the browser finder, the metadata,</span> <span data-start="585.4" data-end="589.89">and those come back as, like, text, or as type text, plain.</span> </p>
<p><span data-start="589.89" data-end="596.65">So input level, they think it's a text file but when you send it down to the media element,</span> <span data-start="596.65" data-end="600.9">they somehow figure out that that is a media source file.</span> <span data-start="600.9" data-end="607.88">So I kind of mentioned that the input element, looking at the metadata is, like, previewing</span> <span data-start="607.88" data-end="609.08">in the Finder.</span> <span data-start="609.08" data-end="614.02">So when we double-click on the files, the files open up, or iTunes start.</span> <span data-start="614.02" data-end="618.72">So what's the equivalent of double-clicking on those files and letting the computer figure</span> <span data-start="618.72" data-end="619.72">it out?</span> </p>
<p><span data-start="619.72" data-end="625.54">So in browser you can use something called FileReader API which basically reads the file</span> <span data-start="625.54" data-end="631">for you, and returns the value, and the value, you can specify what kind of value you want.</span> <span data-start="631" data-end="639.19">So, for example, the leadAsUrl, you basically gets the C4 stream back, so that's something</span> <span data-start="639.19" data-end="649.95">you can use, by letting your user quote-unquote, upload the image, but, in fact, it's all done</span> <span data-start="649.95" data-end="653.24">on client side and changing the background.</span> <span data-start="653.24" data-end="659.65">You can also do leadAsText which returns the text of the things.</span> <span data-start="659.65" data-end="662.29">Sorry, my words are not coming out.</span> <span data-start="662.29" data-end="663.29">[ Laughter ]</span> <span data-start="663.29" data-end="669.23">You can also leadAsBinaryString, which somehow turns out, figures out the string.</span> <span data-start="669.23" data-end="674.36">The last one that's interesting is leadAsArrayBuffer.</span> <span data-start="674.36" data-end="680.69">And this is one that you can't console.log because it's an arrayBuffer.</span> <span data-start="680.69" data-end="687.59">Any even know what buffer means, and as a web developer, I ran into MDN, and here's</span> <span data-start="687.59" data-end="689.12">what I learned about it.</span> </p>
<p><span data-start="689.12" data-end="696.5">Array buffer is, like, a masterpiece that belongs to a museum that belongs in the glass</span> <span data-start="696.5" data-end="697.5">case.</span> <span data-start="697.5" data-end="704.41">You can examine it, you can examine the cutout of it, but you can't touch it.</span> <span data-start="704.41" data-end="709.96">In order to touch it, or do any work on it, you have to do it on your own, whatever tool,</span> <span data-start="709.96" data-end="716.95">whatever format, whatever binary format you want, you have to create a new observe representative</span> <span data-start="716.95" data-end="722.74">of the array buffer in order to do work on it and the way to create those are things</span> <span data-start="722.74" data-end="728.67">like typeArray and dataView.</span> <span data-start="728.67" data-end="740.04">So on lead on load, you put the and then you access it, toString it, and then lead in hex</span> <span data-start="740.04" data-end="744.11">and then something like 42 comes back.</span> <span data-start="744.11" data-end="751.42">So in doing so, I noticed that if I do it in text, I see a lot of, like, metadata already.</span> <span data-start="751.42" data-end="756.72">I noticed that there is a pattern that they are putting image from data on top of a file.</span> <span data-start="756.72" data-end="762.8">And, you know, looking at these, and being an awesome JavaScript web developer, I was,</span> <span data-start="762.8" data-end="770.07">like, can I maybe just, you know, like, you know, and quickly I was like, never mind because,</span> <span data-start="770.07" data-end="775.1">like, A, I know enough that it's a bad idea.</span> </p>
<p><span data-start="775.1" data-end="780.14">But also, it wasn't the point of, like, me figuring out how to do it, my investigation</span> <span data-start="780.14" data-end="784.87">of being a browser anthropologist was figuring out how the browser does it.</span> <span data-start="784.87" data-end="790.55">So thinking about browser, I was like, how the hell all the different kinds of browser</span> <span data-start="790.55" data-end="796.72">takes one single code that I wrote, and all displayed somewhat similar and then came down</span> <span data-start="796.72" data-end="797.79">to web standards.</span> <span data-start="797.79" data-end="802.92">So all the way a browser should behave is all defined in web standards.</span> <span data-start="802.92" data-end="810.45">So I was like, okay, great, is still web standards for leading how to lead what the file is  —  what</span> <span data-start="810.45" data-end="813.79">the file type is, I guess  —  there is?</span> </p>
<p><span data-start="813.79" data-end="820.22">It's called MIME insisting on WG Standards and if you read the introduction, you don't</span> <span data-start="820.22" data-end="821.61">have to read it.</span> <span data-start="821.61" data-end="832.64">It basically solves the same problem of what if a malicious user uploads a script, or wrapped</span> <span data-start="832.64" data-end="836.9">up as HTML and you accidentally execute it?</span> <span data-start="836.9" data-end="842.11">You have to make sure that the binary level, what that actual looks like and this was,</span> <span data-start="842.11" data-end="843.63">in the introduction, that was great.</span> <span data-start="843.63" data-end="844.63">Okay.</span> <span data-start="844.63" data-end="846.55">Give me the specification to that image.</span> <span data-start="846.55" data-end="852.92">And this is the graph for the image type pattern and I was like, great, those are the steps</span> <span data-start="852.92" data-end="858.52">for doing those things, and step-by-step defining it.</span> </p>
</section>

<section>
<p><span data-start="858.52" data-end="861.62"><span class="speaker">Suz</span>: You went deep, Mariko.</span> </p>
</section>

<section>
<p><span data-start="861.62" data-end="868.87"><span class="speaker">Mariko</span>: Read the byte sequence to be matched, and the MIME standard.</span> <span data-start="868.87" data-end="874.87">And I was like, am I supposed to understand this?</span> <span data-start="874.87" data-end="879.4">Is there a hidden web development class that I took and I missed?</span> <span data-start="879.4" data-end="882.42">Like, you're a native English speaker, do you understand this?</span> </p>
</section>

<section>
<p><span data-start="882.42" data-end="887.53"><span class="speaker">Suz</span>: I think it feels more philosophical and Shakespeare than the actual spec.</span> </p>
</section>

<section>
<p><span data-start="887.53" data-end="893.57"><span class="speaker">Mariko</span>: So I asked some of my friends who works on standards and edited the standards,</span> <span data-start="893.57" data-end="902.37">and Alex roughly said that this standard specification is a particular dialect of English that compiles</span> <span data-start="902.37" data-end="903.41">to C++.</span> <span data-start="903.41" data-end="909.59">So I was like, okay, these documents, even though they're in English, the compiler target</span> <span data-start="909.59" data-end="911.69">is computer, and not me.</span> <span data-start="911.69" data-end="917.88">And so I spent a few hours over the weekend.</span> <span data-start="917.88" data-end="921.19">You can see, I pretty much visited all the links except for bytes.</span> <span data-start="921.19" data-end="924.6">Bytes are still left in blue.</span> <span data-start="924.6" data-end="930.55">Somehow figure that out, what they're saying is lead the first bytes of the file and then</span> <span data-start="930.55" data-end="935.85">compare it to the one on that column, and then compare that result to that one on the</span> <span data-start="935.85" data-end="940.17">second column to make sure that pattern mark, whatever that is is correct.</span> <span data-start="940.17" data-end="942.55">So I'm like, okay, great!</span> <span data-start="942.55" data-end="948.54">I'm going to code, I'm going to make that thing that is 100% compact.</span> <span data-start="948.54" data-end="952.87">And this is the part of the talk that I'm supposed to tell you that I made this npm</span> <span data-start="952.87" data-end="958.59">module that is 100% spec compatible, and I published it today at the conference.</span> </p>
<p><span data-start="958.59" data-end="959.59">But in fact, I didn't.</span> <span data-start="959.59" data-end="962.09">Because I'm still figuring out the configuration.</span> <span data-start="962.09" data-end="967.6">It's like, give me a break.</span> <span data-start="967.6" data-end="975.77">So what I did, I still took the uploads of sniffing the binary, but not 100% compact</span> <span data-start="975.77" data-end="976.77">way.</span> </p>
<p><span data-start="976.77" data-end="981.63">So what I made at the end is, like, this little app that has a fileInput element.</span> <span data-start="981.63" data-end="988.67">You can give them any file, and then I sniffed the MIME type and then put into appropriate</span> <span data-start="988.67" data-end="989.67">media tag.</span> <span data-start="989.67" data-end="995.29">So if you give a text file that's actually an audio file, it puts in the audio tag.</span> <span data-start="995.29" data-end="1000.17">Image file that is not having a file type can just go to image.</span> <span data-start="1000.17" data-end="1001.92">And that was my first pass.</span> <span data-start="1001.92" data-end="1003.26">And now I'll move on to Suz.</span> </p>
</section>

<section>
<p><span data-start="1003.26" data-end="1006.86"><span class="speaker">Suz</span>: I have one question for you: What format was the image I sent you?</span> </p>
</section>

<section>
<p><span data-start="1006.86" data-end="1009.54"><span class="speaker">Mariko</span>: That was bitmap?</span> </p>
</section>

<section>
<p><span data-start="1009.54" data-end="1014.951"><span class="speaker">Suz</span>: She figured it out.</span> <span data-start="1014.951" data-end="1015.951">Awesome.</span> <span data-start="1015.951" data-end="1017.6">So I'll start my part off with building blocks.</span> <span data-start="1017.6" data-end="1025.78">So if you'll remember, I only the command line available because I like using the browser</span> <span data-start="1025.78" data-end="1032.49">as a crutch, but one of the things that I really love about the command line is pipes.</span> <span data-start="1032.49" data-end="1036.76">Pipes are awesome because this, for example, takes the processes that are currently running</span> <span data-start="1036.76" data-end="1043.11">and pipes that into grep and with grep, you can kind of keyword within that list.</span> <span data-start="1043.11" data-end="1046.62">And this is what it looks like when you're running it.</span> <span data-start="1046.62" data-end="1051.1">You could pipe into grep and you could look at your batch processes for example.</span> </p>
<p><span data-start="1051.1" data-end="1058.29">So really what PS Pig is saying, hey, grep, I have this list of processes and grep total</span> <span data-start="1058.29" data-end="1062.53">says, hey, thanks, I'm just grabbing that from the pipe and I'm just going to list out</span> <span data-start="1062.53" data-end="1064.93">the ones that have bash in them.</span> <span data-start="1064.93" data-end="1066.62">So that's pretty straightforward.</span> <span data-start="1066.62" data-end="1071.47">So the first thing that I wrote was a really simple pipe such as a hello world so I know</span> <span data-start="1071.47" data-end="1076.84">how that works in things like Node.js because if you remember, like it was in JavaScript,</span> <span data-start="1076.84" data-end="1078.61">and mine were in command line only.</span> <span data-start="1078.61" data-end="1083.11">So mine are, like, shell scripts that you can run in Node.js.</span> <span data-start="1083.11" data-end="1088.83">So that wasn't really useful, and so I thought, cat is a highly useful command that people</span> <span data-start="1088.83" data-end="1090.74">use, and they pipe it into lots of things.</span> <span data-start="1090.74" data-end="1096.42">So, for example, you can do file.text, I could supply that to cat, cat is going to dump out</span> <span data-start="1096.42" data-end="1101.52">onto the console, exactly how that file was, and then from there, I can actually take that</span> <span data-start="1101.52" data-end="1103.5">output and pipe it into something else.</span> </p>
</section>

<section>
<p><span data-start="1103.5" data-end="1108.81"><span class="speaker">Mariko</span>: Can I just stop and comment on what that cat is saying?</span> </p>
</section>

<section>
<p><span data-start="1108.81" data-end="1110.23"><span class="speaker">Suz</span>: Yeah.</span> <span data-start="1110.23" data-end="1111.23">[ Laughter ]</span> </p>
</section>

<section>
<p><span data-start="1111.23" data-end="1113.79"><span class="speaker">Mariko</span>: I'm just commenting.</span> </p>
</section>

<section>
<p><span data-start="1113.79" data-end="1119.42"><span class="speaker">Suz</span>: And so I've just simplified this slightly because cat has a lot of different things</span> <span data-start="1119.42" data-end="1124.92">but I've done the basic cat command which is to basically open the file and pipe that</span> <span data-start="1124.92" data-end="1130.6">into the standard process, which is to the command line console.</span> <span data-start="1130.6" data-end="1134.75">So that was kind of out of the way, so the way that I tested it was I made the file executable</span> <span data-start="1134.75" data-end="1143.36">and then I fed through Ada Lovelace quote and I thought, okay, I'm fine for Mariko sending</span> <span data-start="1143.36" data-end="1149.05">me the first piece of binary data and then she opened a pull request and then she promptly</span> <span data-start="1149.05" data-end="1150.05">merged it easier had.</span> </p>
</section>

<section>
<p><span data-start="1150.05" data-end="1157.32"><span class="speaker">Mariko</span>: Because I can.</span> <span data-start="1157.32" data-end="1158.89">I didn't have attenuate for you.</span> </p>
</section>

<section>
<p><span data-start="1158.89" data-end="1162.12"><span class="speaker">Suz</span>: There's no rules when you're on GitHub with creative projects.</span> <span data-start="1162.12" data-end="1167.79">It arrived mysteriously missing a file extension now when I merged this down, I was so scared</span> <span data-start="1167.79" data-end="1171.63">that I was going to accidentally open it, and this was before you accidentally opened</span> <span data-start="1171.63" data-end="1173.64">mine that I was just super weird.</span> <span data-start="1173.64" data-end="1175.42">I just closed all my Finder windows.</span> <span data-start="1175.42" data-end="1178.91">I was terrified of the open command so I just left it.</span> <span data-start="1178.91" data-end="1182.47">So I ran it through my cat program, and this is what I saw.</span> <span data-start="1182.47" data-end="1188.12">And so you can see here that it's just a whole pile of gobbledygook, but when I looked the</span> <span data-start="1188.12" data-end="1193.9">the headers of the file, I saw the clues, that kind of audio file is this so I can start</span> <span data-start="1193.9" data-end="1195.15">decoding it?</span> <span data-start="1195.15" data-end="1199.09">So the first thing that I started here was this id3 tag.</span> <span data-start="1199.09" data-end="1207.09">Id3 tags were a standard that was made for MP3 files.</span> </p>
<p><span data-start="1207.09" data-end="1213.38">And the next thing I was was what is this GarageBand tag in here?</span> <span data-start="1213.38" data-end="1216.29">Did Mariko make me a song?</span> </p>
</section>

<section>
<p><span data-start="1216.29" data-end="1221.5"><span class="speaker">Mariko</span>: This is just a confirmation that I didn't have time to learn the full Web Audio</span> <span data-start="1221.5" data-end="1222.5">API.</span> <span data-start="1222.5" data-end="1224.12">Which I didn't have time to do.</span> </p>
</section>

<section>
<p><span data-start="1224.12" data-end="1225.19"><span class="speaker">Suz</span>: I loved it.</span> <span data-start="1225.19" data-end="1226.19">It was a great detail.</span> <span data-start="1226.19" data-end="1228.12">And I loved this eye tune here.</span> </p>
<p><span data-start="1228.12" data-end="1231.32">Which is totally meaningless meaning that GarageBand  — </span> <span data-start="1231.32" data-end="1234.18">[ Lapse in Audio ]</span> <span data-start="1234.18" data-end="1244.87"> —  so what I did know was that it was an mp3 made in iTunes and I could move on.</span> <span data-start="1244.87" data-end="1252.79">So with my browser as my crutch, I was able to find a Node.js module that emulates the</span> </p>
<p><span data-start="1252.79" data-end="1254.27">API to a degree.</span> <span data-start="1254.27" data-end="1258.52">So you do have to spin up an additional module called Speaker.</span> <span data-start="1258.52" data-end="1263.1">Speaker is great because it can attach directly to your drive on your computer.</span> <span data-start="1263.1" data-end="1267.53">And so I was trying to make this on a Raspberry Pi because I wanted to make a machine.</span> <span data-start="1267.53" data-end="1277.75">But also created a function with the actual data in it with the audio file, and I had</span> <span data-start="1277.75" data-end="1282.76">to play that to the actual destination so I could play it to the system.</span> <span data-start="1282.76" data-end="1291.65">And from there I had to use fs to open the file, and so you can type the command file</span> <span data-start="1291.65" data-end="1295.43">and then the actual file to open it, so I did that.</span> <span data-start="1295.43" data-end="1299.92">So this is what the command ended up looking like when I ran it on the command line.</span> <span data-start="1299.92" data-end="1303.92">And then this was when I heard the sound for the very first time.</span> <span data-start="1303.92" data-end="1306.43">So this is what I heard.</span> <span data-start="1306.43" data-end="1311.91">Hopefully.. oh, no.</span> <span data-start="1311.91" data-end="1313.74">Okay.</span> <span data-start="1313.74" data-end="1320.58">Maybe we can go back.</span> </p>
</section>

<section>
<p><span data-start="1320.58" data-end="1331.57"><span class="speaker">Mariko</span>: This was, like, a particularly, like, hand-picked, hand-crafted piece of music.</span> </p>
</section>

<section>
<p><span data-start="1331.57" data-end="1335.01"><span class="speaker">Suz</span>: Clearly, it was, like, worthy.</span> <span data-start="1335.01" data-end="1338.13">And I thought, this is really weird.</span> <span data-start="1338.13" data-end="1344.3">She did this in GarageBand, and it's not really following normal musical aesthetic taste.</span> <span data-start="1344.3" data-end="1349.66">But I was like, wait a second, Mariko sent me a video several months ago, and it was</span> <span data-start="1349.66" data-end="1357.82">this video here.</span> </p>
</section>

<section>
<p><span data-start="1357.82" data-end="1375.5"><span class="speaker">Mariko</span>: That one sounds more like actual music.</span> </p>
</section>

<section>
<p><span data-start="1375.5" data-end="1380.85"><span class="speaker">Suz</span>: So that was really cool, and it was something about Mariko's audio file and the give-away</span> <span data-start="1380.85" data-end="1386.33">in the GarageBand file that told me that she made a picture.</span> <span data-start="1386.33" data-end="1389.38">But here's the thing, I don't have the GarageBand file.</span> <span data-start="1389.38" data-end="1393.93">And I only have the command line, so how do I visualize the picture she made for me, and</span> <span data-start="1393.93" data-end="1397.44">maybe she didn't even make a picture and she's messing with me.</span> <span data-start="1397.44" data-end="1405.08">So what I ended up doing is, this is Raspberry Pi, and I can't use Chrome on it, I have to</span> <span data-start="1405.08" data-end="1406.19">use Chromium.</span> <span data-start="1406.19" data-end="1411.59">I had to kind of stream the GUI channel over to the virtual frame buffer.</span> <span data-start="1411.59" data-end="1417.76">So X Virtual Framebuffer is a really great tool for doing that.</span> <span data-start="1417.76" data-end="1426.96">That then runs a HTML file on localhost with a canvas in it and an audio element in it.</span> <span data-start="1426.96" data-end="1432.77">And essentially the Web Audio API analyzes the frequencies because the frequencies can</span> <span data-start="1432.77" data-end="1436.64">be mapped to notes which we learned earlier if you went to Ruth's talk, and I said, maybe</span> <span data-start="1436.64" data-end="1441.9">I can map the frequencies like that and I could see a picture come out.</span> <span data-start="1441.9" data-end="1447.61">But I had to run this headless so I had to figure out a way to get the image from the</span> <span data-start="1447.61" data-end="1452.6">canvas out and actually look at it, so I ended up taking the result in canvas after mapping</span> <span data-start="1452.6" data-end="1457.14">all the frequency graphs on it, and I made that a basic coded string that I was able</span> <span data-start="1457.14" data-end="1461.75">to DOM out into the console, I was able to take that string and pipe it out into another</span> <span data-start="1461.75" data-end="1470.25">program I wrote, that's 64, and then converts that to a png file itself.</span> </p>
<p><span data-start="1470.25" data-end="1475.53">And then that would console.log the path to where that file is, and then I could pipe</span> <span data-start="1475.53" data-end="1482.89">that into a great npm package called picture-tube which allows me to look at pictures in my</span> <span data-start="1482.89" data-end="1483.89">console.</span> <span data-start="1483.89" data-end="1488.37">And so all of this was JavaScript from beginning to end, and this is the way that I had to</span> <span data-start="1488.37" data-end="1489.85">do it all on the command line.</span> </p>
<p><span data-start="1489.85" data-end="1490.85">Good times.</span> </p>
</section>

<section>
<p><span data-start="1490.85" data-end="1497.95"><span class="speaker">Mariko</span>: Can I just comment the fact that I sounded super mean..</span> <span data-start="1497.95" data-end="1500.32">I wasn't trying to be mean.</span> <span data-start="1500.32" data-end="1501.52">I thought it was cool.</span> </p>
</section>

<section>
<p><span data-start="1501.52" data-end="1506.309"><span class="speaker">Suz</span>: I was expecting PCM data and I was a little offended that you sent me compressed</span> <span data-start="1506.309" data-end="1510.19">audio data since I'm used to working with PCM.</span> <span data-start="1510.19" data-end="1513.73">So this is the headless Chromium job.</span> <span data-start="1513.73" data-end="1520.19">I set it with a query parameter, so it could go fetch it in the API.</span> <span data-start="1520.19" data-end="1526.65">And there would be cases where I would have a bug in the code and the bug wouldn't send</span> <span data-start="1526.65" data-end="1530.9">properly and so I had to put a 60-second timer on it and kill the process.</span> <span data-start="1530.9" data-end="1532.83">So that was fun.</span> <span data-start="1532.83" data-end="1541.05">The base-64 process there is taking the image data from the standard and it's  —  sorry,</span> <span data-start="1541.05" data-end="1547.61">it's taking the base-64 string and then it's piping that into an actual file, and then</span> <span data-start="1547.61" data-end="1550.44">this is kind of what my final command ended up looking like.</span> </p>
<p><span data-start="1550.44" data-end="1551.81">So it's a rather long run.</span> <span data-start="1551.81" data-end="1556.29">It took me a while to write because I'm not a super fast typer.</span> <span data-start="1556.29" data-end="1565.38">So I'm drawing the canvas and then I use that as an argument to picture-tube in order to</span> <span data-start="1565.38" data-end="1566.94">view the image.</span> </p>
</section>

<section>
<p><span data-start="1566.94" data-end="1568.94"><span class="speaker">Mariko</span>: This is what it looks like.</span> </p>
</section>

<section>
<p><span data-start="1568.94" data-end="1573.86"><span class="speaker">Suz</span>: Is this what you drew me because it's really not that good.</span> <span data-start="1573.86" data-end="1574.97">It doesn't look that good.</span> <span data-start="1574.97" data-end="1579.02">I mean if you squint, it kind of looks like a puppy that's kind of facing that way.</span> </p>
</section>

<section>
<p><span data-start="1579.02" data-end="1583.37"><span class="speaker">Mariko</span>: I can see how you might get this is what I would send because this is like what</span> <span data-start="1583.37" data-end="1586.85">I would do for my textile patterns.</span> </p>
</section>

<section>
<p><span data-start="1586.85" data-end="1590.38"><span class="speaker">Suz</span>: I was expecting something different.</span> <span data-start="1590.38" data-end="1596.95">And so I managed to shell into the pi, and I managed to drag down to it, into a computer</span> <span data-start="1596.95" data-end="1601.98">that has a graphical user interface.</span> <span data-start="1601.98" data-end="1606.34">So here's the thing, if Mariko layered several notes on top of each other playing at the</span> <span data-start="1606.34" data-end="1609.74">same time, I don't really have access to that.</span> <span data-start="1609.74" data-end="1614.99">That's very hard for me to pull out pixels that are kind of laid on top of each other.</span> <span data-start="1614.99" data-end="1616.059">So this is the best I could do.</span> <span data-start="1616.059" data-end="1620.67">I ended up just pumping out a whole bunch of different frequencies to see if I could</span> <span data-start="1620.67" data-end="1632.09">see patterns emerging.</span> <span data-start="1632.09" data-end="1633.8">This is actually what it looks like.</span> <span data-start="1633.8" data-end="1635.26">Not that great.</span> </p>
</section>

<section>
<p><span data-start="1635.26" data-end="1641.33"><span class="speaker">Mariko</span>: And this is the file name of the emoji that I used, it was heart, heart, heart, wink.</span> </p>
</section>

<section>
<p><span data-start="1641.33" data-end="1645.94"><span class="speaker">Suz</span>: So she mapped it to the file name, so I should have known all along.</span> <span data-start="1645.94" data-end="1651.97">But in my defense, if you look at it, when you layer it on top of, you can see the bits</span> <span data-start="1651.97" data-end="1654.8">of silence between the shapes.</span> <span data-start="1654.8" data-end="1659.74">And if you really squint, I think that you can kind of make out, like, the peaks on the</span> <span data-start="1659.74" data-end="1663.15">heart shape at the top, but yeah, I thought that was pretty cool.</span> <span data-start="1663.15" data-end="1667.559">So that was kind of my exploration of trying to figure out the mystery that Mariko had</span> <span data-start="1667.559" data-end="1669.62">encoded in the MP3 file.</span> </p>
</section>

<section>
<p><span data-start="1669.62" data-end="1673.61"><span class="speaker">Mariko</span>: So what did we learn from this entire experience?</span> <span data-start="1673.61" data-end="1675.75">We had a few thoughts of what we thought we learned.</span> </p>
</section>

<section>
<p><span data-start="1675.75" data-end="1677.26"><span class="speaker">Suz</span>: We learned a lot.</span> </p>
</section>

<section>
<p><span data-start="1677.26" data-end="1684.929"><span class="speaker">Mariko</span>: So the journey, we realized that it's not about the end result; it's about the process.</span> <span data-start="1684.929" data-end="1690.34">The end result  —  the tiny app that I made is super simple  —  you could have made it</span> <span data-start="1690.34" data-end="1696.3">in a few hours if you know your thing but I didn't know any of those standards, or binary,</span> <span data-start="1696.3" data-end="1702.89">or array buffer or anything, and I learned a whole ton by making a tiny thing that does</span> <span data-start="1702.89" data-end="1704.22">a maybe simple thing.</span> </p>
</section>

<section>
<p><span data-start="1704.22" data-end="1708.63"><span class="speaker">Suz</span>: I didn't have time to cover this in my section but I went a deep rabbit hole about</span> <span data-start="1708.63" data-end="1714.33">the MP3 file format, learned a ton about that and then started writing a decoder, and started</span> <span data-start="1714.33" data-end="1717.89">realizing that this is probably a path that I didn't want to go down under.</span> <span data-start="1717.89" data-end="1720.74">But that's why I cheated with the Web Audio API.</span> <span data-start="1720.74" data-end="1721.85">Yeah, learned a lot.</span> </p>
</section>

<section>
<p><span data-start="1721.85" data-end="1730.92"><span class="speaker">Mariko</span>: Next one, it doesn't have to have a point.</span> <span data-start="1730.92" data-end="1735.87">Many times when we mention to people, that, hey, Suz and I are doing a special project.</span> <span data-start="1735.87" data-end="1740.52">Everybody is like, what are doing with that special project?</span> <span data-start="1740.52" data-end="1745.71">You guys are starting stuff all the time.</span> <span data-start="1745.71" data-end="1747.82">Just do a project for fun.</span> <span data-start="1747.82" data-end="1750.06">It's like you learn a ton.</span> </p>
</section>

<section>
<p><span data-start="1750.06" data-end="1751.1"><span class="speaker">Suz</span>: It's your personal time.</span> <span data-start="1751.1" data-end="1755.99">So really do what makes you passionate and if that's a business, that's okay.</span> <span data-start="1755.99" data-end="1760.31">But for us, we just want to make a thing together, play jokes on each other along the way, and</span> <span data-start="1760.31" data-end="1762.53">yeah, just teach each other stuff, too.</span> </p>
</section>

<section>
<p><span data-start="1762.53" data-end="1767.679"><span class="speaker">Mariko</span>: And a lot of times people think that we're doing this side project really seriously</span> <span data-start="1767.679" data-end="1772.53">and then ask for, like, what's the weekly update kind of thing but it's a side project.</span> <span data-start="1772.53" data-end="1773.96">We have day jobs.</span> </p>
</section>

<section>
<p><span data-start="1773.96" data-end="1777.67"><span class="speaker">Suz</span>: Yeah, we went for weeks without hearing from each other, and, again, I never got to</span> <span data-start="1777.67" data-end="1780.76">see that GarageBand file until we got to Berlin.</span> </p>
</section>

<section>
<p><span data-start="1780.76" data-end="1787.72"><span class="speaker">Mariko</span>: And lastly, having a friend who has a similar, like-minded understanding of what</span> <span data-start="1787.72" data-end="1789.39">we do together.</span> <span data-start="1789.39" data-end="1793.799">I don't know if that language made sense, that might sound like spec language, was great.</span> <span data-start="1793.799" data-end="1800.429">One thing that I learned from this experience was not the few months be or the few weeks</span> <span data-start="1800.429" data-end="1805.88">that we actually did the data exchange but the six or eight months leading up to it.</span> <span data-start="1805.88" data-end="1808.83">We decided to do a project, we were in it.</span> <span data-start="1808.83" data-end="1814.17">And then every meetup, every conference, every subway ride, if we see something that we like,</span> <span data-start="1814.17" data-end="1818.17">we just wink at each other, hey, what do you think about that thing?</span> <span data-start="1818.17" data-end="1822.6">And it's so nice to have somebody who don't have to, like, worry about.</span> <span data-start="1822.6" data-end="1827.56">Like, hey, if I mention this thing and it didn't use like the latest Babel Translate,</span> <span data-start="1827.56" data-end="1830.85">is she going to judge me?</span> <span data-start="1830.85" data-end="1833.429">It's like, this sounds cool, let's do it.</span> </p>
</section>

<section>
<p><span data-start="1833.429" data-end="1839.99"><span class="speaker">Suz</span>: You should always find your code weirdos that are weird in the same way as you.</span> <span data-start="1839.99" data-end="1844.16">And that's what I learned.</span> <span data-start="1844.16" data-end="1848.89">And on that note, we are going to part ways but we are just going to tell you about just</span> <span data-start="1848.89" data-end="1850.67">a couple of quick things that we're working on.</span> <span data-start="1850.67" data-end="1860.1">I do a live twit stream almost every Sunday so I kind of code on open source and also</span> <span data-start="1860.1" data-end="1862.27">on weird projects like this.</span> <span data-start="1862.27" data-end="1867.24">I secretly coded on the next step  —  I don't know if you knew that  —  I was was secretly</span> <span data-start="1867.24" data-end="1869.98">coding on the next step.</span> <span data-start="1869.98" data-end="1879.56">It's switch.db/noopkat, and I call it multipaired programming because I just implement the suggestions</span> <span data-start="1879.56" data-end="1880.74">that people have on the chat.</span> <span data-start="1880.74" data-end="1881.93">Which is cool.</span> </p>
</section>

<section>
<p><span data-start="1881.93" data-end="1891.29"><span class="speaker">Mariko</span>: And I started joining a tech concept called tiny humans in colorful boxes and this</span> <span data-start="1891.29" data-end="1895.33">was something I was thinking, like, a data infrastructure.</span> <span data-start="1895.33" data-end="1899.23">I wanted to build an infrastructure and I wanted to make sure that our data is secure.</span> <span data-start="1899.23" data-end="1903.429">So I started reading up on encryption and secured Internet connections and things, so</span> <span data-start="1903.429" data-end="1904.429">I started learning that stuff and put it on my Twitter.</span> <span data-start="1904.429" data-end="1905.429">So if you're interested, check out my Twitter.</span> <span data-start="1905.429" data-end="1906.429">And on that note.. thank you very much.</span> </p>
</section>

<section>
<p><span data-start="1906.429" data-end="1907.429"><span class="speaker">Suz</span>: Thank you.</span> <span data-start="1907.429" data-end="1908.429">[ Applause ]</span> <span data-start="1908.429" data-end="1909.429"Audience member: Thank you so much.</span> <span data-start="1909.429" data-end="1910.429">That was amazing.</span> <span data-start="1910.429" data-end="1911.429">I think you really cornered the market on having fun with JavaScript.</span> <span data-start="1911.429" data-end="1912.429">I don't think anyone is doing it better than you.</span> <span data-start="1912.429" data-end="1913.429">So we're going to have a quick break now.</span> <span data-start="1913.429" data-end="1914.429">Get caffeinated, get beered up if you want to start early.</span> <span data-start="1914.429" data-end="1915.429">You can also get your butts to the Community Lounge during this break and there's a lightning</span> <span data-start="1915.429" data-end="1916.429">talk there that's what is live.js.</span> <span data-start="1916.429" data-end="1917.429">And these are the people who are doing the music during the breaks.</span> <span data-start="1917.429" data-end="1918.429">So if you want to go see that, check back here at 5:45.</span> </p>
</section>

<!-- div#container ends -->
</div>

<img alt="The End" id="fin" src="../images/fin.jpg">

<script>
/*eslint-disable */
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google-translate');
}
/* eslint-enable */
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="../js/main.js"></script>

</body>

</html>
