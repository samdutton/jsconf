<!DOCTYPE html>

<!--
Copyright 2019 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="//google.com">
  <meta name="description" content="web.dev LIVE video transcript">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>JrO3qjBSddY</title>
  <link rel="stylesheet" href="../css/main.css">
</head>

<body>

<iframe id="youtube" src="https://www.youtube.com/embed/JrO3qjBSddY?enablejsapi=1"></iframe>

<div id="container">

<div id="options">
  <div id="google-translate"></div>
  <div>
    <input type="checkbox" id="videoSticky" checked>
    <label for="videoSticky">Video position sticky</label>
  </div>
  <div>
    <input type="checkbox" id="captionScroll" checked>
    <label for="captionScroll">Keep current caption visible</label>
  </div>
</div>

<section>
<p><span data-start="0.24" data-end="0.949">[Applause]</span> <span data-start="0.949" data-end="5.37">Hey hello so I hope you're doing fine</span> <span data-start="5.37" data-end="8.04">my name is Velasco Raquel I work for a</span> <span data-start="8.04" data-end="9.389">company called Blackrock</span> <span data-start="9.389" data-end="11.79">and yeah it's a financial company but</span> <span data-start="11.79" data-end="14.429">also a software company because we are</span> <span data-start="14.429" data-end="16.44">selling our platform asset management</span> <span data-start="16.44" data-end="18.9">platform Aladin to other companies as</span> <span data-start="18.9" data-end="22.17">well so we have a nice office in</span> <span data-start="22.17" data-end="24.359">Budapest in a building called the white</span> <span data-start="24.359" data-end="26.789">house so you might say that I'm a</span> <span data-start="26.789" data-end="28.83">vice-president from the White House not</span> <span data-start="28.83" data-end="31.199">the president though and it's a not a</span> <span data-start="31.199" data-end="38.219">good joke nowadays so the bridge between</span> <span data-start="38.219" data-end="40.92">people and the underlying software</span> <span data-start="40.92" data-end="43.23">systems that the V developers build is</span> <span data-start="43.23" data-end="49.68">the user interface and it could be it</span> <span data-start="49.68" data-end="51.719">can can come in different variations</span> <span data-start="51.719" data-end="53.94">just think about the smart speakers that</span> <span data-start="53.94" data-end="61.859">are pretty popular today and most of the</span> <span data-start="61.859" data-end="64.11">applications have a visual interface now</span> <span data-start="64.11" data-end="66.659">you need really need to pay attention to</span> <span data-start="66.659" data-end="70.53">this visual interface because if you</span> <span data-start="70.53" data-end="74.49">break this link then it will make your</span> <span data-start="74.49" data-end="80.26">users lose trust in your business so</span> <span data-start="80.27" data-end="84.119">later in in the hands-on part of the</span> <span data-start="84.119" data-end="86.479">talk I'm going to show you how you can</span> <span data-start="86.479" data-end="91.74">use the tool called storybook to render</span> <span data-start="91.74" data-end="93.689">your components in isolation in your</span> <span data-start="93.689" data-end="96.99">angular project so I'm going to use</span> <span data-start="96.99" data-end="99.869">angular for this example and then I'm</span> <span data-start="99.869" data-end="102.57">going to show you how you can use a the</span> <span data-start="102.57" data-end="106.59">add-on called story shots to create</span> <span data-start="106.59" data-end="109.229">snapshots and then later how you can</span> <span data-start="109.229" data-end="111.03">automate this whole process to compare</span> <span data-start="111.03" data-end="113.46">the old snapshots with the new snapshots</span> <span data-start="113.46" data-end="116.25">as you're changing your code and running</span> <span data-start="116.25" data-end="121.689">the test again okay</span> <span data-start="121.689" data-end="125.329">so hands up if you have used this</span> <span data-start="125.329" data-end="129.16">software okay</span> <span data-start="129.16" data-end="131.81">okay I thought it would be a bit less</span> <span data-start="131.81" data-end="134.93">but but yeah so I think this is a really</span> <span data-start="134.93" data-end="137.18">great example of a well sold out user</span> <span data-start="137.18" data-end="140.11">interface it really made life easier</span> <span data-start="140.11" data-end="142.94">compared to copying files on the</span> <span data-start="142.94" data-end="145.549">personal computers in the 90s in fact</span> <span data-start="145.549" data-end="148.849">everybody pretty much had this had</span> <span data-start="148.849" data-end="151.79">norton commander on their PC it was the</span> <span data-start="151.79" data-end="154.79">first thing you installed or just copied</span> <span data-start="154.79" data-end="159.17">right and for those who don't know it</span> <span data-start="159.17" data-end="163.67">it's it has two panels side by side now</span> <span data-start="163.67" data-end="166.76">on this image I just only have one panel</span> <span data-start="166.76" data-end="168.5">open and the other is just showing the</span> <span data-start="168.5" data-end="170.269">information about this but could be two</span> <span data-start="170.269" data-end="172.91">panels with different locations on your</span> <span data-start="172.91" data-end="174.5">file system and you can easily copy</span> <span data-start="174.5" data-end="178">files from one panel to the other now</span> <span data-start="178" data-end="181.7">people don't believe this anymore do you</span> <span data-start="181.7" data-end="185.15">think why do you know why so I think the</span> <span data-start="185.15" data-end="187.67">reason is because people don't use</span> <span data-start="187.67" data-end="192.049">computers anymore you know what is the</span> <span data-start="192.049" data-end="194.93">personal computer anyway so instead what</span> <span data-start="194.93" data-end="200">they do is they watch movies they browse</span> <span data-start="200" data-end="204.579">the Internet they message each other and</span> <span data-start="204.579" data-end="208.73">if you're talking about design in the</span> <span data-start="208.73" data-end="210.59">software industry you pretty much have</span> <span data-start="210.59" data-end="213.68">to talk about Steve Jobs and his team at</span> </p>
<p><span data-start="213.68" data-end="216.47">Apple right because Apple had this</span> <span data-start="216.47" data-end="219.65">vision that computers will one day be</span> <span data-start="219.65" data-end="223.19">just a part of our everyday life as just</span> <span data-start="223.19" data-end="226.91">just tools and pretty much hiding the</span> <span data-start="226.91" data-end="231.349">underlining technology and it turned out</span> <span data-start="231.349" data-end="239.09">to be true and I think this is this</span> <span data-start="239.09" data-end="241.639">image really kind of represents apples</span> <span data-start="241.639" data-end="244.16">philosophy and although I have an iPad</span> <span data-start="244.16" data-end="247.669">here it was really around 2007 with the</span> <span data-start="247.669" data-end="250.37">introduction of the iPhone and then all</span> <span data-start="250.37" data-end="253.609">the other smartphones when things really</span> <span data-start="253.609" data-end="255.11">changed because this</span> <span data-start="255.11" data-end="258.739">new form factor required people to be</span> <span data-start="258.739" data-end="262.43">more creative and figure out new ways to</span> <span data-start="262.43" data-end="266.33">to do wijl interfaces and you know use</span> <span data-start="266.33" data-end="275.93">gestures and so on so now let's look at</span> <span data-start="275.93" data-end="282.05">some also I want to mention that a lot</span> <span data-start="282.05" data-end="284.6">of these changes that people figured out</span> <span data-start="284.6" data-end="287.24">on the smart phones were transferred</span> <span data-start="287.24" data-end="288.95">back to the desktop so let's see a</span> <span data-start="288.95" data-end="293.38">couple of examples of what changed okay</span> <span data-start="293.38" data-end="298.72">so this is a form that was previously a</span> <span data-start="298.72" data-end="301.46">registration form maybe it's pretty</span> <span data-start="301.46" data-end="304.37">static yeah you have some input fields</span> <span data-start="304.37" data-end="307.73">there but you get the error message once</span> <span data-start="307.73" data-end="309.38">you submitted the form and it was</span> <span data-start="309.38" data-end="311.39">rendered on the server side and sent</span> <span data-start="311.39" data-end="316.25">back with a new page yeah it's pretty</span> <span data-start="316.25" data-end="319.97">boring so now we have more sophisticated</span> <span data-start="319.97" data-end="322.91">form controls right they have different</span> <span data-start="322.91" data-end="326.27">states they have different ways to input</span> <span data-start="326.27" data-end="332.18">data as you type they show you whether</span> <span data-start="332.18" data-end="334.09">you have an error in the field or not</span> <span data-start="334.09" data-end="339.62">and yeah we can hopefully see in a</span> <span data-start="339.62" data-end="343.1">moment it you know it turns if you enter</span> <span data-start="343.1" data-end="346.76">a valid email and we have form controls</span> <span data-start="346.76" data-end="350.84">that even present you with a pop-up so</span> <span data-start="350.84" data-end="352.1">in one word they are more sophisticated</span> <span data-start="352.1" data-end="357.229">and of course it's more complex to</span> <span data-start="357.229" data-end="360.65">implement so luckily we have designed</span> <span data-start="360.65" data-end="363.14">systems widely available for example</span> </p>
<p><span data-start="363.14" data-end="365.93">Google's material design but also maybe</span> <span data-start="365.93" data-end="372.229">bootstrap however and you as a front-end</span> <span data-start="372.229" data-end="375.83">developer quino's can always just use</span> <span data-start="375.83" data-end="379.85">this but companies today are realizing</span> <span data-start="379.85" data-end="382.82">more and more that they actually have to</span> <span data-start="382.82" data-end="385.19">have their own branding their own design</span> <span data-start="385.19" data-end="389.15">system and inherently that means more</span> <span data-start="389.15" data-end="393.53">right because one design system wears</span> <span data-start="393.53" data-end="395.3">this many design systems you know it</span> <span data-start="395.3" data-end="404.06">cannot possibly be as good so let's now</span> <span data-start="404.06" data-end="409.2">take a look at one more example</span> <span data-start="409.21" data-end="411.41">previously this could have been a</span> <span data-start="411.41" data-end="413.96">banking application and a screen where</span> <span data-start="413.96" data-end="418.07">you transfer money from you know from</span> <span data-start="418.07" data-end="419.63">the image you can tell that it's packed</span> <span data-start="419.63" data-end="422.66">with features and you know what happens</span> <span data-start="422.66" data-end="427.54">if if the interface is slightly off well</span> <span data-start="427.54" data-end="430.31">you don't even notice it right you you</span> <span data-start="430.31" data-end="433.12">don't really dub that it will work now</span> <span data-start="433.12" data-end="437.66">today a startup company might offer you</span> <span data-start="437.66" data-end="439.58">an application in your smartphone so</span> <span data-start="439.58" data-end="442.94">this and they are using their own design</span> <span data-start="442.94" data-end="445.07">system right not using any native</span> <span data-start="445.07" data-end="446.45">components because they want to</span> <span data-start="446.45" data-end="450.26">distinguish themselves and so they come</span> <span data-start="450.26" data-end="451.91">up with a nice-looking application and</span> <span data-start="451.91" data-end="454.01">then they promise that it's gonna be the</span> <span data-start="454.01" data-end="455.93">easiest ever experience and the most</span> <span data-start="455.93" data-end="459.23">convenient and you start using it but</span> <span data-start="459.23" data-end="461.84">what happens if the developers screw up</span> <span data-start="461.84" data-end="465.23">and the user interface is slightly off</span> <span data-start="465.23" data-end="469.4">well in this case you quickly you lose</span> <span data-start="469.4" data-end="471.92">trust in the whole application and the</span> <span data-start="471.92" data-end="474.68">company because you know I mean it</span> <span data-start="474.68" data-end="476.36">should look professional but this</span> <span data-start="476.36" data-end="482.6">doesn't look professional and there are</span> <span data-start="482.6" data-end="484.22">some other things as well</span> <span data-start="484.22" data-end="486.74">that today make life harder for the</span> <span data-start="486.74" data-end="490.52">front-end developers so of course you</span> <span data-start="490.52" data-end="493.34">need to support multiple devices of</span> <span data-start="493.34" data-end="494.84">course you need to support multiple</span> <span data-start="494.84" data-end="499.25">locales and slow connections and you</span> <span data-start="499.25" data-end="501.68">need to think about accessibility so</span> <span data-start="501.68" data-end="504.23">user interfaces are more complex and</span> <span data-start="504.23" data-end="507.35">it's easier than ever to break them so</span> <span data-start="507.35" data-end="508.78">what do we do about that</span> <span data-start="508.78" data-end="513.38">well for one we are we do we create our</span> <span data-start="513.38" data-end="516.46">architecture in a way that supports</span> <span data-start="516.46" data-end="519.2">testing supports unit testing so as you</span> <span data-start="519.2" data-end="522.769">can see here there is a unit direct</span> <span data-start="522.769" data-end="524.42">shanell flow of the data along the</span> <span data-start="524.42" data-end="527.929">yellow arrows data flows from somewhere</span> <span data-start="527.929" data-end="530.569">the state through a container component</span> <span data-start="530.569" data-end="532.819">to a presentation component you can call</span> <span data-start="532.819" data-end="534.829">them smart or dumb components as well</span> <span data-start="534.829" data-end="539.059">and then if the user clicks something</span> <span data-start="539.059" data-end="541.459">then that action has an effect and that</span> <span data-start="541.459" data-end="544.059">along the purple arrows it flows back</span> <span data-start="544.059" data-end="546.379">ultimately into the state and from the</span> <span data-start="546.379" data-end="548.48">state the new data flows to the</span> <span data-start="548.48" data-end="553.639">presentation components right so of</span> <span data-start="553.639" data-end="556.309">course the presentation components can</span> <span data-start="556.309" data-end="557.989">have multiple layers depending on your</span> <span data-start="557.989" data-end="561.85">composition and we all will test these</span> <span data-start="561.85" data-end="564.529">components in isolation for their</span> <span data-start="564.529" data-end="567.309">functionality with unit tests I think</span> <span data-start="567.309" data-end="569.749">today probably everybody is familiar</span> <span data-start="569.749" data-end="574.519">with unit testing in angular but what</span> <span data-start="574.519" data-end="578.42">about visual testing wouldn't it be nice</span> <span data-start="578.42" data-end="582.259">if without the whole application you can</span> <span data-start="582.259" data-end="586.339">just test this component visually what</span> <span data-start="586.339" data-end="588.97">if you could render it in isolation so</span> <span data-start="588.97" data-end="594.11">that's what I'm going to show you now</span> <span data-start="594.11" data-end="600.499">and it's gonna be a live example so</span> <span data-start="600.499" data-end="603.92">fingers crossed and what I will do is I</span> <span data-start="603.92" data-end="606.41">will click quickly show you a sample</span> <span data-start="606.41" data-end="608.42">application that I created for this</span> <span data-start="608.42" data-end="612.499">purpose and then I will tell you how you</span> <span data-start="612.499" data-end="615.319">can add storybook it's really easy and</span> <span data-start="615.319" data-end="619.279">storybook will help you with just that</span> <span data-start="619.279" data-end="621.889">so you can render your visual components</span> <span data-start="621.889" data-end="623.99">in isolation it's also good for</span> <span data-start="623.99" data-end="626.059">documenting all your visual components</span> <span data-start="626.059" data-end="628.79">then I will show you how you can create</span> <span data-start="628.79" data-end="631.73">a simple story a story is the unit test</span> <span data-start="631.73" data-end="634.399">in storybook or the equivalent of the</span> <span data-start="634.399" data-end="635.959">unit test I will show you what you can</span> <span data-start="635.959" data-end="638.089">do with more complex components that</span> <span data-start="638.089" data-end="641.019">have downward dependencies and</span> <span data-start="641.019" data-end="643.309">ultimately how what you can do with a</span> <span data-start="643.309" data-end="645.679">container component that has maybe a</span> <span data-start="645.679" data-end="647.329">dependency on an asynchronous data</span> <span data-start="647.329" data-end="652.309">source so then we move on to capturing</span> <span data-start="652.309" data-end="655.47">images with the story shots Pauline</span> <span data-start="655.47" data-end="657.57">and storing those images for each</span> <span data-start="657.57" data-end="661.35">component and then later when we change</span> <span data-start="661.35" data-end="663.18">the code you can run it again and</span> <span data-start="663.18" data-end="665.85">compare the new snapshots with the old</span> <span data-start="665.85" data-end="668.28">snapshots so when ultimately you can</span> <span data-start="668.28" data-end="670.38">turn that into an automated visual</span> <span data-start="670.38" data-end="688.78">regression test okay change a bit okay</span> <span data-start="688.79" data-end="694.38">okay all right so is it running it's</span> <span data-start="694.38" data-end="702.42">running okay who likes Star Wars not so</span> <span data-start="702.42" data-end="705.87">many people well okay I'm gonna afford</span> <span data-start="705.87" data-end="708.09">those who lifestyle bores I'm gonna give</span> <span data-start="708.09" data-end="710.49">you a sneak peek into the new movie</span> <span data-start="710.49" data-end="713.1">that's coming in December of course I'm</span> <span data-start="713.1" data-end="715.77">joking right this has nothing to do with</span> <span data-start="715.77" data-end="718.79">a new movie which we're all eager to see</span> <span data-start="718.79" data-end="722.16">but instead it's just a silly game that</span> </p>
<p><span data-start="722.16" data-end="727.55">I developed now in this game some virus</span> <span data-start="727.55" data-end="730.7">spread over the galaxy and some</span> <span data-start="730.7" data-end="733.26">well-known Star Wars characters turned</span> <span data-start="733.26" data-end="736.05">into zombies and now your test will be</span> <span data-start="736.05" data-end="739.02">in the game to fight against the zombies</span> <span data-start="739.02" data-end="742.14">so all right here we have the zombies</span> <span data-start="742.14" data-end="744.03">the team zombies and then on the other</span> <span data-start="744.03" data-end="746.07">side we have the so-called renegades</span> <span data-start="746.07" data-end="747.9">there they are</span> <span data-start="747.9" data-end="751.26">people from both sides right and the</span> <span data-start="751.26" data-end="753.66">computer already chose me an opponent</span> <span data-start="753.66" data-end="756.48">from the zombies so let me choose</span> <span data-start="756.48" data-end="760.68">somebody well let me choose Bo and let's</span> <span data-start="760.68" data-end="764.1">fight okay so pong po1 it's by the way a</span> <span data-start="764.1" data-end="767.1">sophisticated machine learning algorithm</span> <span data-start="767.1" data-end="768.96">that calculates the winner based on</span> <span data-start="768.96" data-end="774.27">different properties okay okay so</span> <span data-start="774.27" data-end="777.9">another fight oh not looking good</span> <span data-start="777.9" data-end="783.48">so yeah as you can see unfortunately who</span> <span data-start="783.48" data-end="785.82">did I choose well anyway it turned into</span> <span data-start="785.82" data-end="788.839">a zombie so I only have two team</span> <span data-start="788.839" data-end="792.819">let's hope okay okay I'm doing good oh</span> <span data-start="792.819" data-end="797.6">nice so I might actually even this oh</span> <span data-start="797.6" data-end="801.47">yeah I defeated the zombies great so</span> <span data-start="801.47" data-end="805.91">that's the the application now okay so</span> <span data-start="805.91" data-end="807.35">let's let's take a look at this</span> <span data-start="807.35" data-end="809.059">application so you can kind of imagine</span> <span data-start="809.059" data-end="813.41">that maybe this is a component write a</span> <span data-start="813.41" data-end="815.509">low-level presentation component and</span> <span data-start="815.509" data-end="818.36">then the whole team is rendered with</span> <span data-start="818.36" data-end="821.769">another component there kind of has a</span> <span data-start="821.769" data-end="826.66">dependency on this component so let's</span> <span data-start="826.66" data-end="830.709">okay so let's take a look at the</span> <span data-start="830.709" data-end="834.259">structure quickly so I'm not going to go</span> <span data-start="834.259" data-end="836.6">into the details but I'm serving the the</span> <span data-start="836.6" data-end="839.089">backend for this application from my</span> <span data-start="839.089" data-end="841.249">local machine so I have a rest server</span> <span data-start="841.249" data-end="843.11">and on top of that I have a graph cure</span> <span data-start="843.11" data-end="848.149">server for another talk but for now I'm</span> <span data-start="848.149" data-end="850.069">going to just going to focus on the</span> <span data-start="850.069" data-end="856.669">clients part and in this clients I have</span> <span data-start="856.669" data-end="859.819">a couple of libraries and most</span> <span data-start="859.819" data-end="861.919">importantly I have the presentation</span> <span data-start="861.919" data-end="864.829">components right so in the presentation</span> <span data-start="864.829" data-end="866.419">components I have all the components</span> <span data-start="866.419" data-end="869.779">that are dumb components operate with</span> <span data-start="869.779" data-end="876.019">inputs and outputs okay so how can I</span> <span data-start="876.019" data-end="879.949">then take this component and render it</span> <span data-start="879.949" data-end="883.999">in isolation so for this I can install</span> <span data-start="883.999" data-end="886.16">storybook storybook I'm not going to</span> <span data-start="886.16" data-end="888.949">actually install it I cheated and I</span> <span data-start="888.949" data-end="893.089">already installed it but then I'm gonna</span> <span data-start="893.089" data-end="896.779">just stop the application and run</span> <span data-start="896.779" data-end="902.989">storybook and if I run storybook evil in</span> <span data-start="902.989" data-end="909.769">a second just building it's really quick</span> <span data-start="909.769" data-end="913.339">by the way compared to maybe compiling a</span> <span data-start="913.339" data-end="914.46">larger application</span> <span data-start="914.46" data-end="918.75">okay so by default I don't have any</span> <span data-start="918.75" data-end="923.13">stories right so let's create one story</span> <span data-start="923.13" data-end="926.73">which as I said is a unit test for</span> <span data-start="926.73" data-end="928.529">original digital company you can think</span> <span data-start="928.529" data-end="932.13">about a unit test like unit so I'm going</span> <span data-start="932.13" data-end="937.459">to go here make it larger</span> <span data-start="937.459" data-end="940.56">okay I'm gonna copy the name of this</span> <span data-start="940.56" data-end="943.17">component and then create a new file I'm</span> <span data-start="943.17" data-end="949.459">gonna name it dot stories dot yes okay</span> <span data-start="949.459" data-end="954.029">so it's an empty file so how do I create</span> <span data-start="954.029" data-end="957.72">a unit test here okay I'm writing</span> <span data-start="957.72" data-end="960.839">stories off and I'm obviously there can</span> <span data-start="960.839" data-end="964.05">be multiple test cases for this</span> <span data-start="964.05" data-end="966.75">component but this is going to bundle</span> <span data-start="966.75" data-end="971.459">the test cases here so I'm going to just</span> <span data-start="971.459" data-end="976.589">name it after the component okay and</span> <span data-start="976.589" data-end="984.3">then I'm going to I'm going to name this</span> <span data-start="984.3" data-end="988.8">test case and I'm going to name it</span> <span data-start="988.8" data-end="991.26">renegade view because I want to render a</span> <span data-start="991.26" data-end="998.97">renegade character there so okay I'm</span> <span data-start="998.97" data-end="1001.49">adding the function that configures this</span> <span data-start="1001.49" data-end="1009.41">story and what I do just simply yes I'm</span> <span data-start="1009.41" data-end="1016.61">specifying the component so with that so</span> <span data-start="1016.61" data-end="1019.49">with that if I go back tada</span> <span data-start="1019.49" data-end="1023.029">storybook recognize my story and it</span> <span data-start="1023.029" data-end="1025.25">already rendered something now of course</span> <span data-start="1025.25" data-end="1027.5">this component has a couple of inputs</span> <span data-start="1027.5" data-end="1029.929">that I am not supplying here so it</span> <span data-start="1029.929" data-end="1031.939">doesn't look good right now but you can</span> <span data-start="1031.939" data-end="1033.439">see that on the left side I have the</span> <span data-start="1033.439" data-end="1036.11">collection of my stories just currently</span> <span data-start="1036.11" data-end="1039.65">just one okay so what do I do about it</span> <span data-start="1039.65" data-end="1044.3">well in this props property I can supply</span> <span data-start="1044.3" data-end="1046.049">some inputs to my</span> <span data-start="1046.049" data-end="1052.039">opponent so I can say I want this name</span> <span data-start="1052.039" data-end="1068.46">and I have an image URL as well and it's</span> <span data-start="1068.47" data-end="1071.82">if I did it right</span> <span data-start="1071.82" data-end="1078.009">no just one more zero all right sorry</span> <span data-start="1078.009" data-end="1082.059">as you can see I have I have worked with</span> <span data-start="1082.059" data-end="1084.25">this particular presentation component</span> <span data-start="1084.25" data-end="1086.289">without any other parts of the</span> <span data-start="1086.289" data-end="1089.049">application I supply the inputs and I</span> <span data-start="1089.049" data-end="1091.72">got it rendered on the screen very nice</span> <span data-start="1091.72" data-end="1094.419">but if you go into this component you</span> <span data-start="1094.419" data-end="1096.19">can see that there are some other inputs</span> <span data-start="1096.19" data-end="1101.049">here that I am missing already so what I</span> <span data-start="1101.049" data-end="1104.639">can do is just copy this part right and</span> </p>
<p><span data-start="1104.639" data-end="1107.259">I'm gonna name it</span> <span data-start="1107.259" data-end="1110.98">zombie view why not and then I'm going</span> <span data-start="1110.98" data-end="1117.759">to say zombie true and okay I have this</span> <span data-start="1117.759" data-end="1120.909">other story here so yeah</span> <span data-start="1120.909" data-end="1125.22">renegades Amba view I have some other</span> <span data-start="1125.22" data-end="1130.61">some other things here as well so I can</span> <span data-start="1130.62" data-end="1137.59">say selected I'm gonna say zombie true</span> <span data-start="1137.59" data-end="1141.72">and so at the — and I will name it some</span> <span data-start="1141.72" data-end="1149.83">selected okay and it's there but I have</span> <span data-start="1149.83" data-end="1152.71">one problem in the CSS there is some</span> <span data-start="1152.71" data-end="1155.74">negative margins there so what do I do</span> <span data-start="1155.74" data-end="1158.799">about it so you can get you get the idea</span> <span data-start="1158.799" data-end="1161.44">you can define these stories with</span> <span data-start="1161.44" data-end="1163.12">multiple combinations of the input</span> <span data-start="1163.12" data-end="1166.87">properties and storable storybook will</span> <span data-start="1166.87" data-end="1170.139">just pick up those and it will render</span> <span data-start="1170.139" data-end="1174.09">them so now I have this problem that</span> <span data-start="1174.09" data-end="1180.46">it's slightly off the screen okay so</span> <span data-start="1180.46" data-end="1182.71">what I can do about that is that I can</span> <span data-start="1182.71" data-end="1186.25">say instead of this part I can say</span> <span data-start="1186.25" data-end="1191.95">template template and I can just put an</span> </p>
<p><span data-start="1191.95" data-end="1199.41">HTML template there</span> <span data-start="1199.42" data-end="1207.65">just a second okay okay so here I have</span> <span data-start="1207.65" data-end="1210.95">the component and put it to some work</span> <span data-start="1210.95" data-end="1211.79">right</span> <span data-start="1211.79" data-end="1215.63">why doesn't it work well if I am</span> <span data-start="1215.63" data-end="1218.72">specifying the template I will I will</span> <span data-start="1218.72" data-end="1224.56">also have to add a decorator here and</span> <span data-start="1224.56" data-end="1230.19">what I'm doing with this really is</span> <span data-start="1230.2" data-end="1233">something very similar to an angular</span> <span data-start="1233" data-end="1239.9">module okay so I'm going to say</span> <span data-start="1239.9" data-end="1243.2">declarations I need to declare this</span> <span data-start="1243.2" data-end="1250.82">component and I can also do imports okay</span> <span data-start="1250.82" data-end="1252.38">so this is what I need for this</span> <span data-start="1252.38" data-end="1254.45">component right and if I go back well</span> <span data-start="1254.45" data-end="1257.57">it's there the only problem is whatever</span> <span data-start="1257.57" data-end="1261.65">the properties yeah that's not there so</span> <span data-start="1261.65" data-end="1266.54">what I can do here as well yes I'm just</span> <span data-start="1266.54" data-end="1271.43">going to maybe do the name property so I</span> <span data-start="1271.43" data-end="1274.73">can do something like this I can use the</span> <span data-start="1274.73" data-end="1278.03">regular way of data binding that you</span> <span data-start="1278.03" data-end="1280.75">have in angular and you can see it works</span> <span data-start="1280.75" data-end="1284.36">so you know this is what you can do with</span> <span data-start="1284.36" data-end="1287.6">just a simple component so now what I'm</span> <span data-start="1287.6" data-end="1290.51">going to do is I'm going to write all</span> <span data-start="1290.51" data-end="1293.15">the stories for all the components just</span> <span data-start="1293.15" data-end="1308.69">pretty quickly</span> <span data-start="1308.7" data-end="1315.04">just a second don't need this anymore</span> <span data-start="1315.04" data-end="1316.73">[Music]</span> <span data-start="1316.73" data-end="1320.539">and let's jump over to the master ban so</span> <span data-start="1320.539" data-end="1323.609">in the background story book runs and</span> <span data-start="1323.609" data-end="1327.72">picks up everything from the master ban</span> <span data-start="1327.72" data-end="1332.549">so you can see that I have this all all</span> <span data-start="1332.549" data-end="1335.039">kinds of you know visual tests for this</span> <span data-start="1335.039" data-end="1336.779">component now some of these components</span> <span data-start="1336.779" data-end="1341.359">for example the team view is a component</span> <span data-start="1341.359" data-end="1345.09">that depends on other components so</span> <span data-start="1345.09" data-end="1351.119">let's take a look at the HTML okay so</span> <span data-start="1351.119" data-end="1354.33">you can see that there is a ng4 here and</span> <span data-start="1354.33" data-end="1356.519">then in within the ng 4 I'm using the</span> <span data-start="1356.519" data-end="1360.409">character box so what happens here is</span> </p>
<p><span data-start="1360.409" data-end="1364.529">I'm using well first of all if I'm if</span> <span data-start="1364.529" data-end="1366.72">I'm doing multiple stories it's a good</span> <span data-start="1366.72" data-end="1369.539">idea right — to just create your</span> <span data-start="1369.539" data-end="1372.779">properties as constants so you can reuse</span> <span data-start="1372.779" data-end="1376.739">them and then in the stories when I'm</span> <span data-start="1376.739" data-end="1378.389">adding the decorator and the module</span> <span data-start="1378.389" data-end="1379.08">metadata</span> <span data-start="1379.08" data-end="1382.619">I'm just specifying both components here</span> <span data-start="1382.619" data-end="1386.999">right and in this case I'm using this</span> <span data-start="1386.999" data-end="1389.46">template but I could just use the</span> <span data-start="1389.46" data-end="1391.799">regular component version but what's</span> <span data-start="1391.799" data-end="1394.859">important here is that I am pretty much</span> <span data-start="1394.859" data-end="1398.46">mocking all the upwards dependencies but</span> <span data-start="1398.46" data-end="1400.619">I am NOT mocking the downwards</span> <span data-start="1400.619" data-end="1403.999">dependencies because they I need them to</span> <span data-start="1403.999" data-end="1406.98">render this component so this is how I</span> <span data-start="1406.98" data-end="1411.749">do it and then finally let's take a look</span> <span data-start="1411.749" data-end="1413.879">at the container component so by the way</span> <span data-start="1413.879" data-end="1419.429">as you can see I can I can use this pipe</span> <span data-start="1419.429" data-end="1423.69">to to put my stories into different</span> <span data-start="1423.69" data-end="1425.789">categories right here I have the</span> <span data-start="1425.789" data-end="1427.499">presentation component and then I have</span> <span data-start="1427.499" data-end="1430.649">the container components so this is a</span> <span data-start="1430.649" data-end="1433.47">container component that depends on some</span> <span data-start="1433.47" data-end="1439.35">asynchronous data if you if you go</span> <span data-start="1439.35" data-end="1448.11">look at the cold air right here you can</span> <span data-start="1448.11" data-end="1452.25">see that it has observable data bindings</span> <span data-start="1452.25" data-end="1456.059">from a service well so what do you do</span> <span data-start="1456.059" data-end="1457.89">about this well actually it's no</span> <span data-start="1457.89" data-end="1461.429">surprise it's just like other unit tests</span> <span data-start="1461.429" data-end="1463.799">you need to mock them so you just create</span> <span data-start="1463.799" data-end="1466.62">a more class and then in the module</span> <span data-start="1466.62" data-end="1471.87">metadata you just use it you know as as</span> <span data-start="1471.87" data-end="1475.86">the class to provide the real service so</span> <span data-start="1475.86" data-end="1480.299">that's all right okay so now very</span> <span data-start="1480.299" data-end="1486.419">quickly what can you do to store the</span> <span data-start="1486.419" data-end="1491.039">images of these components well so there</span> <span data-start="1491.039" data-end="1493.47">is this plugin called story shots for</span> <span data-start="1493.47" data-end="1495.45">story book that you can install I'm not</span> <span data-start="1495.45" data-end="1497.25">going to go into the installation</span> <span data-start="1497.25" data-end="1500.309">because it's a bit more complicated but</span> <span data-start="1500.309" data-end="1502.2">ultimately what's important here is that</span> </p>
<p><span data-start="1502.2" data-end="1505.23">I have created a separate library just</span> <span data-start="1505.23" data-end="1510.6">for the story shots test file it's just</span> <span data-start="1510.6" data-end="1515.46">one one test file right and the</span> <span data-start="1515.46" data-end="1517.86">important part in this file is this</span> <span data-start="1517.86" data-end="1520.38">well I'm where I'm initializing the</span> <span data-start="1520.38" data-end="1522.299">story shots plug-in so I just tell that</span> <span data-start="1522.299" data-end="1525.27">it's the angular framework I give it</span> <span data-start="1525.27" data-end="1526.83">some configuration now the configuration</span> <span data-start="1526.83" data-end="1529.799">you don't need to understand it too much</span> <span data-start="1529.799" data-end="1533.34">but it does just point to the stories</span> <span data-start="1533.34" data-end="1538.65">files and then I am also specifying that</span> <span data-start="1538.65" data-end="1543.539">I want to compare newer and older</span> <span data-start="1543.539" data-end="1547.32">versions of this component with images I</span> <span data-start="1547.32" data-end="1551.63">could also do an HTML template compare</span> <span data-start="1551.63" data-end="1559.14">but I want to do the images part okay so</span> <span data-start="1559.14" data-end="1561.47">if I</span> <span data-start="1561.47" data-end="1565.879">run this just like a unit test by the</span> <span data-start="1565.879" data-end="1570.95">way you need to use jest so it's part of</span> <span data-start="1570.95" data-end="1572.99">the configuration if you're not using</span> <span data-start="1572.99" data-end="1575.059">just in your angular project you need to</span> <span data-start="1575.059" data-end="1578">come to your just to run the story shots</span> <span data-start="1578" data-end="1582.649">plug-in well yeah that's life yeah</span> <span data-start="1582.649" data-end="1588.399">and so when I run it it will create</span> <span data-start="1588.399" data-end="1591.529">these image snapshots the reason it's it</span> <span data-start="1591.529" data-end="1594.559">is a bit slow it's because I configured</span> <span data-start="1594.559" data-end="1596.659">the plug-in to wait one second before</span> <span data-start="1596.659" data-end="1599.899">taking the screen shot because I'm</span> <span data-start="1599.899" data-end="1602.029">loading images and although I'm loading</span> <span data-start="1602.029" data-end="1605.509">them from my local machine well just to</span> <span data-start="1605.509" data-end="1607.549">be sure I configure it for one second</span> <span data-start="1607.549" data-end="1612.2">now the result of the oh by the way so</span> <span data-start="1612.2" data-end="1614.179">you know as you can see everything is</span> <span data-start="1614.179" data-end="1616.94">green right when you run it the first</span> <span data-start="1616.94" data-end="1618.95">time it will just create the snapshots</span> <span data-start="1618.95" data-end="1622.58">like that and you can for example take a</span> <span data-start="1622.58" data-end="1624.95">look at it so this is the image created</span> <span data-start="1624.95" data-end="1628.179">from my component from my you know my</span> <span data-start="1628.179" data-end="1631.039">visual unit test that I made in</span> <span data-start="1631.039" data-end="1635.179">storybook okay so now what can you do</span> <span data-start="1635.179" data-end="1638.389">with this why is it useful well you can</span> <span data-start="1638.389" data-end="1644.48">go into the CSS variables for example</span> <span data-start="1644.48" data-end="1647.419">and you know you're wondering what would</span> <span data-start="1647.419" data-end="1649.039">happen what would be the effect of</span> <span data-start="1649.039" data-end="1655.07">changing this well let's run the visual</span> <span data-start="1655.07" data-end="1657.919">regression test right it takes some time</span> <span data-start="1657.919" data-end="1664.7">and here because storybook is watching</span> <span data-start="1664.7" data-end="1667.7">all the files you can actually see if it</span> <span data-start="1667.7" data-end="1670.669">found something because it will just</span> <span data-start="1670.669" data-end="1673.22">reload all the files when a new file is</span> <span data-start="1673.22" data-end="1677.779">written and I hope people to demonstrate</span> </p>
<p><span data-start="1677.779" data-end="1681.48">I'm saying come on</span> <span data-start="1681.48" data-end="1690.03">spits low yes one failed okay</span> <span data-start="1690.03" data-end="1695.71">one failed and I can go here to my image</span> <span data-start="1695.71" data-end="1702.33">snapshots and I can see a diff and well</span> <span data-start="1702.33" data-end="1707.26">okay I hope you can see so there is the</span> <span data-start="1707.26" data-end="1709.48">old version there is the new version and</span> <span data-start="1709.48" data-end="1711.64">in the middle you can see the difference</span> <span data-start="1711.64" data-end="1715.84">now this algorithm works by subtracting</span> <span data-start="1715.84" data-end="1718.84">the two images and so when you're</span> <span data-start="1718.84" data-end="1720.25">configuring this whole thing you can</span> <span data-start="1720.25" data-end="1723.45">specify a threshold in percent</span> <span data-start="1723.45" data-end="1727">percentage because sometimes there's</span> <span data-start="1727" data-end="1729.22">slight changes between you know the</span> <span data-start="1729.22" data-end="1731.79">images that you don't want to actually</span> <span data-start="1731.79" data-end="1740.41">treat as an error yeah so that's it and</span> <span data-start="1740.41" data-end="1743.13">so back to this slide</span> <span data-start="1743.13" data-end="1747.88">okay so right so so we took a quick look</span> <span data-start="1747.88" data-end="1750.61">at how you know that the sample</span> <span data-start="1750.61" data-end="1752.44">application how to add the new story</span> <span data-start="1752.44" data-end="1754.93">which is the visual unit test equivalent</span> <span data-start="1754.93" data-end="1757.81">in storybook what you can do with more</span> <span data-start="1757.81" data-end="1760.9">complex components how you can then</span> <span data-start="1760.9" data-end="1763.57">create image snapshots store them and</span> <span data-start="1763.57" data-end="1766.48">compare them to newer versions and well</span> <span data-start="1766.48" data-end="1768.82">automated vision regression test is just</span> <span data-start="1768.82" data-end="1771.16">as easy as running this process in your</span> <span data-start="1771.16" data-end="1772.93">continuous integration as part of your</span> <span data-start="1772.93" data-end="1776.47">continuous integration okay</span> <span data-start="1776.47" data-end="1780.01">so visual testing is here</span> <span data-start="1780.01" data-end="1783.04">don't use your losers trust and there is</span> <span data-start="1783.04" data-end="1784.87">really no excuse not to do it because</span> <span data-start="1784.87" data-end="1788.2">it's so easy thank you</span> </p>
</section>

<!-- div#container ends -->
</div>

<img alt="The End" id="fin" src="../images/fin.jpg">

<script>
/*eslint-disable */
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google-translate');
}
/* eslint-enable */
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="../js/main.js"></script>

</body>

</html>
