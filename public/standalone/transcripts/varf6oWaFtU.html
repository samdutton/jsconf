<!DOCTYPE html>

<!--
Copyright 2019 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="//google.com">
  <meta name="description" content="web.dev LIVE video transcript">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>varf6oWaFtU</title>
  <link rel="stylesheet" href="../css/main.css">
</head>

<body>

<iframe id="youtube" src="https://www.youtube.com/embed/varf6oWaFtU?enablejsapi=1"></iframe>

<div id="container">

<div id="options">
  <div id="google-translate"></div>
  <div>
    <input type="checkbox" id="videoSticky" checked>
    <label for="videoSticky">Video position sticky</label>
  </div>
  <div>
    <input type="checkbox" id="captionScroll" checked>
    <label for="captionScroll">Keep current caption visible</label>
  </div>
</div>

<section>
<p><span data-start="0.56" data-end="10.459">ah</span> <span data-start="10.469" data-end="25.99">I'm gonna clear we're going to join okay</span> <span data-start="25.99" data-end="28.08">i'm here to talk about the invented way</span> <span data-start="28.08" data-end="30.58">pretty much this problem stuff is</span> <span data-start="30.58" data-end="32.5">happening on the internet and you want</span> <span data-start="32.5" data-end="35.02">to do stuff when that stuff happens very</span> <span data-start="35.02" data-end="37.539">descriptive description very technical I</span> <span data-start="37.539" data-end="40.479">hope everyone you brought that first</span> <span data-start="40.479" data-end="43.12">morning expected presentation is</span> <span data-start="43.12" data-end="51.129">unexpected Jr fooled hello hello did</span> <span data-start="51.129" data-end="52.989">everyone hear me all right all right so</span> <span data-start="52.989" data-end="54.999">like I was saying stuff is happening on</span> <span data-start="54.999" data-end="56.409">the internet and you want to do stuff</span> <span data-start="56.409" data-end="59.199">when that stuff happens a bit of a</span> <span data-start="59.199" data-end="60.639">warning I did not think I'd be</span> <span data-start="60.639" data-end="61.959">presenting today I didn't even think I</span> <span data-start="61.959" data-end="64.36">would be here the tickets sold out for</span> </p>
<p><span data-start="64.36" data-end="65.619">Jay Escott before i bought low and i</span> <span data-start="65.619" data-end="67.119">came down on friday i wanted to party</span> <span data-start="67.119" data-end="69.07">with you guys meet some people and I was</span> <span data-start="69.07" data-end="70.69">lucky enough to win scurvy comp so I'm</span> <span data-start="70.69" data-end="73.3">here today there's gonna be some badly</span> <span data-start="73.3" data-end="74.86">created slides which I made last night</span> <span data-start="74.86" data-end="77.23">on the boat and this morning and I'm a</span> <span data-start="77.23" data-end="80.62">little nervous so just bear with me web</span> <span data-start="80.62" data-end="83.35">books okay so in the world of the</span> <span data-start="83.35" data-end="85.36">invented web it's really all about web</span> <span data-start="85.36" data-end="88.6">books so what is a web hook there's no</span> </p>
<p><span data-start="88.6" data-end="90.46">RFC for web hooks there's no standard</span> <span data-start="90.46" data-end="93.52">definition there's no committee most</span> <span data-start="93.52" data-end="94.96">people have dealt with web hooks before</span> <span data-start="94.96" data-end="97.75">if you do web development usually they</span> <span data-start="97.75" data-end="99.46">are presented as a restful web hook</span> <span data-start="99.46" data-end="101.44">there's a bit of information out about</span> <span data-start="101.44" data-end="104.35">this at web hooks org jeff lindsay is</span> <span data-start="104.35" data-end="106.06">kind of a pioneer working with this</span> <span data-start="106.06" data-end="107.5">stuff I haven't seen much other</span> <span data-start="107.5" data-end="110.5">information out there and yeah the</span> <span data-start="110.5" data-end="111.79">definition of a web book is kind of</span> <span data-start="111.79" data-end="114.01">ambiguous right now so most people think</span> <span data-start="114.01" data-end="116.35">of restful web hooks you have an</span> <span data-start="116.35" data-end="118.78">arbitrary URL that's not a real URL</span> <span data-start="118.78" data-end="121.54">don't go there and it's just sitting</span> <span data-start="121.54" data-end="122.8">there and it's waiting for an HTTP</span> <span data-start="122.8" data-end="124.81">request when the HTTP request comes in</span> <span data-start="124.81" data-end="126.729">some arbitrary action is going to happen</span> <span data-start="126.729" data-end="128.14">and this is kind of how most people</span> <span data-start="128.14" data-end="130.929">think of web books today so I kind of</span> <span data-start="130.929" data-end="132.76">disagree with this restful web hooks are</span> <span data-start="132.76" data-end="135.129">not web hooks they're a type of web hook</span> <span data-start="135.129" data-end="137.98">they are a of web hook yeah</span> <span data-start="137.98" data-end="141.8">excellent so yes a restful web hook is</span> <span data-start="141.8" data-end="144.92">just a type of web hook so we're going</span> <span data-start="144.92" data-end="147.29">to kind of restate our assertion here</span> <span data-start="147.29" data-end="149.12">stuff is happening on the internet and</span> <span data-start="149.12" data-end="151.19">you want to do stuff when that stuff</span> <span data-start="151.19" data-end="156.44">happens so an incoming HTTP request does</span> <span data-start="156.44" data-end="158.42">count as stuff but there's way more</span> <span data-start="158.42" data-end="159.68">things that you could be listening for</span> <span data-start="159.68" data-end="163.31">not just an incoming HTTP connection so</span> <span data-start="163.31" data-end="165.65">first who is this guy with the dumbo hat</span> <span data-start="165.65" data-end="169.67">and who led them on stage hi my name is</span> <span data-start="169.67" data-end="171.62">maroc Squires I'm a software developer</span> <span data-start="171.62" data-end="175.16">from NYC I participate in the NYC j/s</span> <span data-start="175.16" data-end="177.44">group a little bit this is my github I</span> <span data-start="177.44" data-end="179.63">don't do Twitter I have a fake facebook</span> <span data-start="179.63" data-end="182.3">can't find me so yeah check me out on</span> <span data-start="182.3" data-end="186.08">the github I've been involved in a few</span> <span data-start="186.08" data-end="187.73">internet hijinks for those who know me</span> <span data-start="187.73" data-end="189.62">they're not really appropriate to be</span> <span data-start="189.62" data-end="192.23">speaking about here I've been banned</span> <span data-start="192.23" data-end="194.39">from most online services at least once</span> <span data-start="194.39" data-end="198.08">that's the banhammer even got banned</span> <span data-start="198.08" data-end="200.39">from github they unban me thank you very</span> <span data-start="200.39" data-end="204.14">much for those who don't know the story</span> <span data-start="204.14" data-end="206.72">i created a bit of a script that worst</span> <span data-start="206.72" data-end="208.61">people to watch a library that i created</span> <span data-start="208.61" data-end="210.47">and it went pretty far before they</span> <span data-start="210.47" data-end="213.23">caught on but uh yeah so i'm not going</span> <span data-start="213.23" data-end="214.459">to do that again because getting banned</span> <span data-start="214.459" data-end="215.51">from github would probably be</span> <span data-start="215.51" data-end="218.54">problematic and I once scurvy comp</span> <span data-start="218.54" data-end="219.739">because I could yell louder than</span> <span data-start="219.739" data-end="224.09">everybody else so also i'm here because</span> <span data-start="224.09" data-end="226.73">of kokia which is a product or a open</span> <span data-start="226.73" data-end="228.44">source project that i've made i like to</span> <span data-start="228.44" data-end="231.5">call it yahoo crack pipes the websites</span> <span data-start="231.5" data-end="233.57">up right now it's hooked I it's pretty</span> <span data-start="233.57" data-end="234.92">rudimentary you'll probably be able to</span> <span data-start="234.92" data-end="238.91">break it if you try hard enough so I'm</span> <span data-start="238.91" data-end="240.29">going to give you a very brief history</span> <span data-start="240.29" data-end="243.53">of hokey oh this is the github commit</span> <span data-start="243.53" data-end="245.329">log I've got 88 Watchers I'm pretty</span> <span data-start="245.329" data-end="246.59">proud of that they're legitimate</span> </p>
<p><span data-start="246.59" data-end="249.799">Watchers not ones that I forced you can</span> <span data-start="249.799" data-end="251.45">see from the commit log actually do have</span> <span data-start="251.45" data-end="253.01">a full-time day job which I'm not</span> <span data-start="253.01" data-end="255.32">allowed to work on other projects so you</span> <span data-start="255.32" data-end="259.549">can kind of see I don't sleep much this</span> <span data-start="259.549" data-end="261.979">is hooky oh the main application it's</span> <span data-start="261.979" data-end="265.46">about yeah 9000 sir shins this is the</span> <span data-start="265.46" data-end="267.86">front end for hooky oh another seven</span> <span data-start="267.86" data-end="270.86">thousand or so and I started this</span> <span data-start="270.86" data-end="271.65">project two months</span> <span data-start="271.65" data-end="273.09">and the first line of code went two</span> <span data-start="273.09" data-end="275.82">months ago so it's been pretty busy for</span> <span data-start="275.82" data-end="277.56">the past two months with all of these</span> <span data-start="277.56" data-end="282.63">commits and yes so what's hokey oh</span> <span data-start="282.63" data-end="284.94">Tokyo's a few things Tokyo is a</span> <span data-start="284.94" data-end="288.12">standalone server Tokyo is a common j/s</span> <span data-start="288.12" data-end="290.19">module Tokyo is a freemium</span> <span data-start="290.19" data-end="292.35">software-as-a-service Tokyo is</span> <span data-start="292.35" data-end="295.199">open-source MIT license and who Kia was</span> <span data-start="295.199" data-end="297.03">a standard interface for building web I</span> <span data-start="297.03" data-end="301.08">oh okay so oh one more thing kokia was</span> <span data-start="301.08" data-end="304.44">100% javascript in nodejs no JSL</span> <span data-start="304.44" data-end="308.75">interface that's a Brian as you can see</span> <span data-start="308.75" data-end="311.13">so I didn't really explain anything I</span> <span data-start="311.13" data-end="312.15">just kind of threw out a bunch of</span> <span data-start="312.15" data-end="315.27">buzzwords so yes what exactly is hokey</span> </p>
<p><span data-start="315.27" data-end="316.47">Oh aside from these things I just</span> <span data-start="316.47" data-end="318.66">described well Tokyo is a web platform</span> <span data-start="318.66" data-end="321.75">and yes platform is probably a terrible</span> <span data-start="321.75" data-end="323.37">word to use maybe it's an application</span> <span data-start="323.37" data-end="325.05">framework but let's not get bogged down</span> <span data-start="325.05" data-end="327.06">by the semantics Tokyo is going to</span> <span data-start="327.06" data-end="328.44">listen for stuff to happen on the</span> <span data-start="328.44" data-end="329.82">internet and when that stuff happens</span> <span data-start="329.82" data-end="334.59">it's going to do other stuff so in the</span> <span data-start="334.59" data-end="335.88">world of hooky oh we have two main</span> <span data-start="335.88" data-end="338.13">concepts we have web hook definitions</span> <span data-start="338.13" data-end="341.07">and we have web hook protocols a web</span> <span data-start="341.07" data-end="343.5">book definition comes in two different</span> <span data-start="343.5" data-end="345.9">flavors there's a web hook listener and</span> <span data-start="345.9" data-end="348.36">a web hook action web book definitions</span> <span data-start="348.36" data-end="353.849">are common j/s modules so pretty much</span> <span data-start="353.849" data-end="355.32">what happens with a web book is that</span> <span data-start="355.32" data-end="357.87">it's going to listen for an action for</span> <span data-start="357.87" data-end="359.28">an event and when that happens it's</span> <span data-start="359.28" data-end="360.87">going to perform an event or an action</span> <span data-start="360.87" data-end="362.4">arbitrary it doesn't matter what it</span> <span data-start="362.4" data-end="363.93">listens for it doesn't matter what the</span> <span data-start="363.93" data-end="366.63">action is going to be so for the most</span> <span data-start="366.63" data-end="368.52">part when I say listening there's two</span> <span data-start="368.52" data-end="369.96">ways that hook EO can listen for events</span> <span data-start="369.96" data-end="372.479">on the internet it can pull which is not</span> <span data-start="372.479" data-end="373.68">really a traditional way of listening</span> <span data-start="373.68" data-end="374.94">since it's actually going out and</span> <span data-start="374.94" data-end="377.28">pulling a resource but what happens is</span> <span data-start="377.28" data-end="378.78">that hook you can actively you know</span> <span data-start="378.78" data-end="381.06">request a resource on an interval which</span> <span data-start="381.06" data-end="382.65">is polling and it's going to listen for</span> <span data-start="382.65" data-end="384.479">a change listen for content listen for</span> <span data-start="384.479" data-end="387.51">something or Tokyo can use sockets ochio</span> <span data-start="387.51" data-end="389.25">will open up a socket and wait for data</span> <span data-start="389.25" data-end="391.71">so if you think of a restful web hook</span> <span data-start="391.71" data-end="393.75">that's really just an HTTP socket</span> <span data-start="393.75" data-end="397.639">waiting for an incoming connection</span> <span data-start="397.639" data-end="400.86">actions so in a web hook definition we</span> <span data-start="400.86" data-end="402.57">have actions well what are they they're</span> <span data-start="402.57" data-end="403.8">just arbitrary action</span> <span data-start="403.8" data-end="405.629">they can be literally anything it</span> <span data-start="405.629" data-end="407.19">doesn't even need to be over the wire it</span> <span data-start="407.19" data-end="408.539">could be something for system</span> <span data-start="408.539" data-end="411.659">administration who knows in most cases</span> <span data-start="411.659" data-end="416.069">it will be an outgoing HTTP request so</span> <span data-start="416.069" data-end="417.72">kind of look at a little bit of code</span> <span data-start="417.72" data-end="419.879">here this is a sample hookie Oh webhook</span> <span data-start="419.879" data-end="423.629">listener this is for incoming HTTP</span> <span data-start="423.629" data-end="425.639">requests so if you take a look at this</span> <span data-start="425.639" data-end="427.44">code there's not really too much going</span> <span data-start="427.44" data-end="430.65">on here we define the definition we give</span> <span data-start="430.65" data-end="433.319">it a configuration and then we give it a</span> <span data-start="433.319" data-end="437.55">handler here we have a hook EO webhook</span> <span data-start="437.55" data-end="440.039">custom action definition and again</span> <span data-start="440.039" data-end="441.33">there's not really much going on here</span> <span data-start="441.33" data-end="443.819">this is for sending emails and all we</span> <span data-start="443.819" data-end="447.36">have is a config 42 and then the body is</span> <span data-start="447.36" data-end="448.53">very simple I don't think we have a</span> <span data-start="448.53" data-end="451.889">subject in here yet and yeah as you can</span> <span data-start="451.889" data-end="453.629">see these are just common J's modules</span> <span data-start="453.629" data-end="455.069">and a little bit of Jason in a</span> <span data-start="455.069" data-end="457.86">definition so it doesn't really look</span> <span data-start="457.86" data-end="459.3">like they do anything it just looks like</span> <span data-start="459.3" data-end="460.86">their configuration and validation</span> <span data-start="460.86" data-end="462.06">options and that's kind of the whole</span> <span data-start="462.06" data-end="465.09">point is that all the business logic is</span> <span data-start="465.09" data-end="466.68">uploaded to something we call Tokyo</span> <span data-start="466.68" data-end="470.099">protocols and probably not the best word</span> <span data-start="470.099" data-end="471.99">a lot of the problem with working on</span> <span data-start="471.99" data-end="473.699">this project has kind of been defining</span> <span data-start="473.699" data-end="476.31">new definitions as we go along so a</span> <span data-start="476.31" data-end="478.5">hookie Oh protocol is just a cluster of</span> <span data-start="478.5" data-end="480.93">business logic for doing stuff in most</span> <span data-start="480.93" data-end="483.15">cases your hook yo protocol would be a</span> <span data-start="483.15" data-end="484.74">thin wrapper for communicating with a</span> <span data-start="484.74" data-end="487.349">third party aap I also hook your</span> <span data-start="487.349" data-end="491.479">protocols are valid common J's modules</span> <span data-start="491.479" data-end="494.699">so what protocols are available in Tokyo</span> <span data-start="494.699" data-end="496.5">the first version um we've got a bunch</span> <span data-start="496.5" data-end="498.9">of stuff in here you know we can parse</span> <span data-start="498.9" data-end="501.06">hamill markdown mustache we can</span> <span data-start="501.06" data-end="502.889">communicate with s3 we can communicate</span> <span data-start="502.889" data-end="505.139">with Twitter they're streaming API and</span> <span data-start="505.139" data-end="507.36">they're playing API we have a timer</span> <span data-start="507.36" data-end="509.25">which is what a lot of the polling is</span> <span data-start="509.25" data-end="512.01">based off of it's an interval we have a</span> <span data-start="512.01" data-end="513.659">documentation protocol which is pretty</span> <span data-start="513.659" data-end="516.57">sweet recently just got mints going I</span> <span data-start="516.57" data-end="517.709">don't know if you guys know about this</span> <span data-start="517.709" data-end="521.909">it's a documentation project for node.js</span> <span data-start="521.909" data-end="524.039">applications and JavaScript applications</span> <span data-start="524.039" data-end="525.63">which is pretty sweet so the</span> <span data-start="525.63" data-end="527.61">documentation protocol every time hook</span> <span data-start="527.61" data-end="529.11">yo starts up for the first time we</span> <span data-start="529.11" data-end="531.089">actually auto generate the documentation</span> <span data-start="531.089" data-end="533.22">based on some static markdown files and</span> <span data-start="533.22" data-end="534.27">then based on the ex</span> <span data-start="534.27" data-end="536.52">words from our common J's modules so if</span> <span data-start="536.52" data-end="538.02">you're making changes in the code and</span> <span data-start="538.02" data-end="539.67">you restart the application its Auto</span> <span data-start="539.67" data-end="541.2">documented instantly which is pretty</span> <span data-start="541.2" data-end="544.32">neat and again protocols are just</span> <span data-start="544.32" data-end="547.32">clusters of logic so for instance the</span> </p>
<p><span data-start="547.32" data-end="550.47">HTTP protocol handles incoming HTTP</span> <span data-start="550.47" data-end="552.18">connections and outgoing HTTP</span> <span data-start="552.18" data-end="553.95">connections but you can make a hook yo</span> <span data-start="553.95" data-end="558.42">protocol for anything okay so let's back</span> <span data-start="558.42" data-end="560.85">up a second how did I build all of these</span> <span data-start="560.85" data-end="562.95">protocols and right fifteen thousand</span> <span data-start="562.95" data-end="568.38">lines of code in two months I didn't the</span> <span data-start="568.38" data-end="571.05">trick is sub modules nodejs has a really</span> <span data-start="571.05" data-end="572.37">strong community and there's a lot of</span> <span data-start="572.37" data-end="573.9">really good people doing really good</span> <span data-start="573.9" data-end="576.98">work and I've just been stealing at all</span> <span data-start="576.98" data-end="580.23">so um but going back to protocols this</span> <span data-start="580.23" data-end="581.87">is kind of what we have right now and</span> <span data-start="581.87" data-end="584.16">what we're planning for the next release</span> <span data-start="584.16" data-end="587.25">we're going to have github API access</span> <span data-start="587.25" data-end="589.23">we're going to have a get protocol for</span> <span data-start="589.23" data-end="592.26">doing system level get stuff working on</span> <span data-start="592.26" data-end="595.2">a really cool RSS burner parser from you</span> <span data-start="595.2" data-end="597.78">know aggregating a bunch of RSS feeds we</span> <span data-start="597.78" data-end="599.01">want to integrate with the Facebook</span> </p>
<p><span data-start="599.01" data-end="601.41">Connect API and then some of the really</span> <span data-start="601.41" data-end="602.91">interesting stuff is I've been working</span> <span data-start="602.91" data-end="606.42">with my friend Eli who did jas Tom he</span> <span data-start="606.42" data-end="607.95">goes by Templar if anybody knows him</span> <span data-start="607.95" data-end="610.43">we're working on doing server side</span> <span data-start="610.43" data-end="613.26">support for Yui which came out a few</span> <span data-start="613.26" data-end="616.86">weeks ago jquery and just HTML parsing</span> <span data-start="616.86" data-end="618.69">so the interesting thing here is that we</span> <span data-start="618.69" data-end="620.61">can begin to scrape pages and then</span> <span data-start="620.61" data-end="623.01">perform client-side selectors server</span> <span data-start="623.01" data-end="624.66">side so you don't need to learn any new</span> <span data-start="624.66" data-end="626.13">selector library if you're familiar with</span> <span data-start="626.13" data-end="628.65">jquery your sizzle or yui you can start</span> <span data-start="628.65" data-end="630.84">to use that stuff server side so i'm</span> <span data-start="630.84" data-end="632.07">sure a lot of people here have had to</span> <span data-start="632.07" data-end="634.8">deal with scraping static web pages and</span> <span data-start="634.8" data-end="636.75">it's a pain in the ass the traditional</span> <span data-start="636.75" data-end="638.67">approach is you know pearl and a whole</span> <span data-start="638.67" data-end="640.47">bunch of reg ex going back a few years</span> <span data-start="640.47" data-end="643.08">and it just doesn't work so being able</span> <span data-start="643.08" data-end="644.46">to leverage some of these existing</span> <span data-start="644.46" data-end="646.29">technologies which have been really well</span> <span data-start="646.29" data-end="648.27">defined on the front end is a very</span> <span data-start="648.27" data-end="652.02">interesting thing so yes the node</span> <span data-start="652.02" data-end="653.52">community is awesome I've gotten a lot</span> <span data-start="653.52" data-end="655.02">of help there's a lot of really good</span> <span data-start="655.02" data-end="657.57">people writing modules github is pretty</span> <span data-start="657.57" data-end="659.61">amazing as well everyone's on github</span> <span data-start="659.61" data-end="661.29">that's um involved the node community</span> <span data-start="661.29" data-end="663.03">you know you can I need to go tell you</span> <span data-start="663.03" data-end="666.09">guys how github works I like to think</span> </p>
<p><span data-start="666.09" data-end="667.59">I'm a core contributor but I</span> <span data-start="667.59" data-end="669.33">and submitted anything to note itself I</span> <span data-start="669.33" data-end="671.19">just yell at other people to fix their</span> <span data-start="671.19" data-end="673.68">modules which is kind of fun I'm in the</span> <span data-start="673.68" data-end="675.6">IRC room all the time I might be the</span> <span data-start="675.6" data-end="678.18">most active person there in there right</span> <span data-start="678.18" data-end="682.77">now go back to that so hooky oh the</span> <span data-start="682.77" data-end="684.65">development plan like I stated before</span> <span data-start="684.65" data-end="687.93">really I'm not trying to reinvent any</span> <span data-start="687.93" data-end="690.54">wheels people are doing really good work</span> <span data-start="690.54" data-end="692.76">and I just want to leverage that so the</span> <span data-start="692.76" data-end="694.59">current plan is to just fork and steal</span> <span data-start="694.59" data-end="696.75">all of the best common Jas modules and</span> <span data-start="696.75" data-end="699.18">then for can steal all the best work</span> <span data-start="699.18" data-end="701.19">from the node community and then of</span> <span data-start="701.19" data-end="702.9">course integrate with every single web</span> <span data-start="702.9" data-end="707.25">service we can find create a lot of</span> <span data-start="707.25" data-end="709.08">github issues and hope somebody fixes</span> <span data-start="709.08" data-end="711.81">them I like to join the github IRC room</span> <span data-start="711.81" data-end="713.52">on occasion and say hey I've been</span> <span data-start="713.52" data-end="715.44">creating issues on my github project but</span> <span data-start="715.44" data-end="720.84">nobody's fixing them is github down yeah</span> <span data-start="720.84" data-end="723.57">they don't like that too much and of</span> <span data-start="723.57" data-end="725.22">course part of the development plan is</span> <span data-start="725.22" data-end="728.46">to yell at more people on IRC so now</span> <span data-start="728.46" data-end="730.05">that we've kind of talked about what</span> <span data-start="730.05" data-end="731.82">hooky Oh is like well how could we use</span> <span data-start="731.82" data-end="733.5">it how could I build an application on</span> <span data-start="733.5" data-end="737.34">hooky Oh as a developer so first I kind</span> <span data-start="737.34" data-end="740.31">of want to talk about the hook EO API so</span> <span data-start="740.31" data-end="743.16">the API for hooky o is exposed through</span> <span data-start="743.16" data-end="745.02">different interfaces so you can</span> <span data-start="745.02" data-end="746.73">communicate to the API through many</span> <span data-start="746.73" data-end="749.73">different ways json-rpc is the current</span> <span data-start="749.73" data-end="751.14">way that it's exposed but we'll get a</span> <span data-start="751.14" data-end="753.51">little bit into that later so at the</span> <span data-start="753.51" data-end="755.55">lowest level the hook EO API is exposed</span> <span data-start="755.55" data-end="757.92">through a common J's module so you just</span> <span data-start="757.92" data-end="760.14">require hook view of the commonjs module</span> <span data-start="760.14" data-end="762.51">and then you have access to hook Yoda</span> </p>
<p><span data-start="762.51" data-end="764.7">API which is the top level API calls</span> <span data-start="764.7" data-end="767.88">some other interesting things is that if</span> <span data-start="767.88" data-end="769.47">you're importing hookie Oh as a common</span> <span data-start="769.47" data-end="771.03">j/s module new tend to use it in that</span> <span data-start="771.03" data-end="772.65">fashion you also have access to the</span> <span data-start="772.65" data-end="774.96">underscore library by Jeremy are no fees</span> <span data-start="774.96" data-end="777.57">in here right now underscore is a</span> <span data-start="777.57" data-end="779.52">functional library for a JavaScript it's</span> <span data-start="779.52" data-end="782.19">pretty cool you have access to the raw</span> </p>
<p><span data-start="782.19" data-end="784.5">DB command so if you want to bypass the</span> <span data-start="784.5" data-end="786.45">API you can just go straight to the DB</span> <span data-start="786.45" data-end="788.88">layer and start running queries you have</span> <span data-start="788.88" data-end="791.1">access to hooky ODOT de bug which is</span> <span data-start="791.1" data-end="793.59">really neat it's an alias for node debug</span> <span data-start="793.59" data-end="794.7">which is another project I've been</span> <span data-start="794.7" data-end="796.86">working on it's a synchronous web</span> <span data-start="796.86" data-end="798.63">console for debugging for node</span> <span data-start="798.63" data-end="801.36">s so I actually had a few more options</span> <span data-start="801.36" data-end="803.55">for hokey oh you can log to a file you</span> <span data-start="803.55" data-end="805.92">can log to the console and of course to</span> <span data-start="805.92" data-end="808.44">the asynchronous web console and then I</span> <span data-start="808.44" data-end="809.79">started to add some flow control</span> <span data-start="809.79" data-end="811.56">libraries by Tim Casswell step is in</span> <span data-start="811.56" data-end="814.16">there right now which is pretty neat so</span> <span data-start="814.16" data-end="816.39">now that we have this idea of the hook</span> <span data-start="816.39" data-end="819.24">gyo API we're going to talk about using</span> <span data-start="819.24" data-end="821.4">hokey o as a software-as-a-service so</span> <span data-start="821.4" data-end="823.68">like I said before ochio is a standalone</span> <span data-start="823.68" data-end="826.17">application a common J's module and a</span> <span data-start="826.17" data-end="827.94">software-as-a-service so it's a little</span> <span data-start="827.94" data-end="829.77">confusing because the name of the</span> <span data-start="829.77" data-end="831.69">project is also the name of the website</span> <span data-start="831.69" data-end="833.19">which is also the name of the software</span> <span data-start="833.19" data-end="834.99">as a service which is also the name of a</span> <span data-start="834.99" data-end="837.93">common j/s module so if you want to use</span> <span data-start="837.93" data-end="839.16">the software as a service now it's</span> <span data-start="839.16" data-end="841.91">available at hook do as the JSON RPC</span> <span data-start="841.91" data-end="844.47">we're going to be investigating exposing</span> <span data-start="844.47" data-end="846.51">it you know maybe xml-rpc maybe so if</span> <span data-start="846.51" data-end="848.6">there's a lot of options we can do</span> <span data-start="848.6" data-end="851.31">working on Jason P support so you can</span> <span data-start="851.31" data-end="852.75">start doing some cross browsers to I'm</span> <span data-start="852.75" data-end="856.02">sorry at cross domain stuff so using</span> <span data-start="856.02" data-end="857.64">hook yo as the software as a service you</span> <span data-start="857.64" data-end="860.91">can build a standalone client just on</span> <span data-start="860.91" data-end="862.02">the front and it's just going to talk</span> <span data-start="862.02" data-end="864.06">over JavaScript so we have a browser</span> <span data-start="864.06" data-end="866.97">side JavaScript API which wraps the</span> </p>
<p><span data-start="866.97" data-end="870.42">Tokyo API in je s and then communicates</span> <span data-start="870.42" data-end="872.49">over the JSON RPC so if you're using</span> <span data-start="872.49" data-end="873.9">hookie oh you know as a common J's</span> <span data-start="873.9" data-end="875.49">module you've become familiar with the</span> <span data-start="875.49" data-end="877.59">API calls it's going to be identical for</span> <span data-start="877.59" data-end="879.81">the JSON RPC and pretty much anywhere</span> <span data-start="879.81" data-end="882.24">you expose the API through any interface</span> <span data-start="882.24" data-end="883.98">all the calls are one to one so you</span> <span data-start="883.98" data-end="888.63">don't need to learn different things so</span> <span data-start="888.63" data-end="890.7">okay hook you as a standalone server</span> <span data-start="890.7" data-end="892.83">really simple all you have to do is just</span> <span data-start="892.83" data-end="895.26">clone it run the sub-module update will</span> <span data-start="895.26" data-end="896.85">be doing packaging for later versions</span> <span data-start="896.85" data-end="898.62">but for now they're sub modules and then</span> <span data-start="898.62" data-end="901.17">you just node server j/s so the</span> <span data-start="901.17" data-end="902.67">interesting thing here is if you look at</span> <span data-start="902.67" data-end="905.13">the actual server JS file all we're</span> <span data-start="905.13" data-end="906.63">doing is just requiring hookie oh and</span> <span data-start="906.63" data-end="915.45">starting it up so part of the problem</span> <span data-start="915.45" data-end="916.8">when I've been developing hook me oh is</span> <span data-start="916.8" data-end="918">that I'm trying to solve a domain</span> <span data-start="918" data-end="920.04">problem that isn't very well defined and</span> <span data-start="920.04" data-end="921.63">what I was hoping is that I would kind</span> <span data-start="921.63" data-end="923.52">of cut my presentation a little bit</span> <span data-start="923.52" data-end="925.11">short and I want to open this up to a QA</span> <span data-start="925.11" data-end="926.85">so we can kind of talk about web hooks</span> <span data-start="926.85" data-end="928.8">and the web hook environment I know a</span> <span data-start="928.8" data-end="930.05">lot of people here have</span> <span data-start="930.05" data-end="931.88">to deal with this in applications and</span> </p>
<p><span data-start="931.88" data-end="933.38">I'm kind of curious and get some</span> <span data-start="933.38" data-end="935.209">feedback about you know what do you</span> <span data-start="935.209" data-end="936.709">think of web hooks what do you think</span> <span data-start="936.709" data-end="939.26">Tokyo would you ever consider using a</span> <span data-start="939.26" data-end="940.76">service like it and what features would</span> <span data-start="940.76" data-end="943.79">you like to see so um if anyone has any</span> <span data-start="943.79" data-end="945.709">questions I'd like to kind of turn this</span> <span data-start="945.709" data-end="951.17">into a QA that's yeah anybody where do</span> <span data-start="951.17" data-end="952.91">you sort of see the first potential use</span> <span data-start="952.91" data-end="955.459">of this and like in the industry right</span> <span data-start="955.459" data-end="956.75">because right now you just have it as a</span> <span data-start="956.75" data-end="958.85">more of a private project or public</span> <span data-start="958.85" data-end="960.89">project rather but where do you see it</span> <span data-start="960.89" data-end="963.29">kind of being hooked into so if you go</span> <span data-start="963.29" data-end="964.519">to hook that I oh there's actually a</span> <span data-start="964.519" data-end="967.61">section called business ideas there's a</span> <span data-start="967.61" data-end="969.23">lot of businesses right now web</span> <span data-start="969.23" data-end="971.06">businesses that I consider a subset of</span> <span data-start="971.06" data-end="972.769">pokeo functionality if you look at</span> <span data-start="972.769" data-end="974.36">something like bit ly like a URL</span> <span data-start="974.36" data-end="976.55">shortening service and hook EO all that</span> <span data-start="976.55" data-end="979.1">is is a listener for a unique URL and</span> <span data-start="979.1" data-end="980.66">then an action which redirects to</span> <span data-start="980.66" data-end="983.6">another URL so in theory you know you</span> <span data-start="983.6" data-end="985.16">just kind of replicated the basic</span> <span data-start="985.16" data-end="986.69">functionality of bit ly right there and</span> <span data-start="986.69" data-end="988.82">the way that web hooks work in hookie oh</span> <span data-start="988.82" data-end="990.5">is that you can chain them so you have</span> <span data-start="990.5" data-end="992.45">the initial action of an incoming URL</span> <span data-start="992.45" data-end="994.64">and then a redirection so you could put</span> <span data-start="994.64" data-end="996.17">a couple of hooks in between and then</span> <span data-start="996.17" data-end="997.339">you could start logging things like</span> <span data-start="997.339" data-end="998.93">analytics you know where they came from</span> <span data-start="998.93" data-end="1001.87">and so that's like one specific use case</span> <span data-start="1001.87" data-end="1003.16">but um there's probably like eight or</span> <span data-start="1003.16" data-end="1005.07">ten of them on there there's a lot of</span> <span data-start="1005.07" data-end="1007.12">services right now like people are</span> <span data-start="1007.12" data-end="1010.209">parsing and scraping HTML from sites and</span> <span data-start="1010.209" data-end="1011.86">then there a cure gating that data and</span> <span data-start="1011.86" data-end="1014.05">then pushing it somewhere like Tokyo</span> <span data-start="1014.05" data-end="1015.55">could really take over a lot of that</span> <span data-start="1015.55" data-end="1021.129">stuff into the question</span> <span data-start="1021.139" data-end="1024.649">so the general purpose of it is to kind</span> <span data-start="1024.649" data-end="1029.09">of monitor or what a job there and</span> <span data-start="1029.1" data-end="1033.07">rules are something that once it catches</span> <span data-start="1033.07" data-end="1035.83">that then you perform some punk</span> <span data-start="1035.83" data-end="1039.7">interaction on average indeed sure so</span> <span data-start="1039.7" data-end="1042.52">monitoring a web page would be polar</span> <span data-start="1042.52" data-end="1044.74">you'd be pulling like a static resource</span> <span data-start="1044.74" data-end="1046.06">so that's one way that hokey o can</span> <span data-start="1046.06" data-end="1048.31">listen for things but again it can also</span> <span data-start="1048.31" data-end="1049.63">do sockets oh yeah you're just like</span> <span data-start="1049.63" data-end="1051.34">listening for some event and then you're</span> <span data-start="1051.34" data-end="1052.96">going to perform some arbitrary action</span> <span data-start="1052.96" data-end="1055.36">so a lot of the use cases I think will</span> <span data-start="1055.36" data-end="1056.86">be for scraping like you're saying you</span> <span data-start="1056.86" data-end="1059.17">can start aggregating information from a</span> <span data-start="1059.17" data-end="1061.75">static page or you kind of turn it</span> <span data-start="1061.75" data-end="1063.31">dynamic so suppose there was a website</span> <span data-start="1063.31" data-end="1065.32">you really liked going to and you wanted</span> <span data-start="1065.32" data-end="1066.61">to get updates from it but they didn't</span> <span data-start="1066.61" data-end="1068.35">have an RSS feed and they didn't have a</span> <span data-start="1068.35" data-end="1070.03">mailing list or anything like that you</span> <span data-start="1070.03" data-end="1072.67">could set up a polar to check that page</span> <span data-start="1072.67" data-end="1074.35">and then when the content updated you</span> <span data-start="1074.35" data-end="1076.15">could fire an action maybe send email</span> <span data-start="1076.15" data-end="1077.53">then it would send you the contents of</span> <span data-start="1077.53" data-end="1080.98">the page so what's your description</span> <span data-start="1080.98" data-end="1083.5">there else I guess I'd probably want to</span> <span data-start="1083.5" data-end="1086.44">think more about the similarities</span> <span data-start="1086.45" data-end="1089.36">so of course so in one of the future</span> <span data-start="1089.36" data-end="1090.59">versions of hook you we haven't really</span> <span data-start="1090.59" data-end="1092.06">planned it out I want to make cookie o</span> <span data-start="1092.06" data-end="1095">itself a pop-up sub of note i guess and</span> <span data-start="1095" data-end="1096.53">i don't think it would be very difficult</span> <span data-start="1096.53" data-end="1098.27">to do because to just push those</span> <span data-start="1098.27" data-end="1100.22">messages back and forth is you know we</span> <span data-start="1100.22" data-end="1101.36">already have most of the functionality</span> <span data-start="1101.36" data-end="1106.28">established another user fee I'll go to</span> <span data-start="1106.28" data-end="1110.09">my head of gamer testing content on</span> <span data-start="1110.09" data-end="1113.18">holidays like is the API up org or</span> <span data-start="1113.18" data-end="1117.71">something like that yeah we still a lot</span> <span data-start="1117.71" data-end="1121.34">of unit testing working so then we</span> <span data-start="1121.34" data-end="1123.17">always do the testing prior to pushing</span> <span data-start="1123.17" data-end="1125.33">the code Apple once it's out there if</span> <span data-start="1125.33" data-end="1127.22">you know something changes if you're</span> <span data-start="1127.22" data-end="1129.85">including gums for</span> <span data-start="1129.85" data-end="1131.94">that's failing for rent</span> <span data-start="1131.94" data-end="1134.19">something but is this one this would be</span> <span data-start="1134.19" data-end="1138.389">rendered JavaScript but definitely outta</span> <span data-start="1138.389" data-end="1142.559">there any other questions you do yeah I</span> <span data-start="1142.559" data-end="1144.75">can show the live site I was a little</span> <span data-start="1144.75" data-end="1147.45">hesitant to do a demo hopefully nobody's</span> <span data-start="1147.45" data-end="1150.6">taking it down yet so this is the live</span> <span data-start="1150.6" data-end="1151.889">site right now I'm going to probably</span> <span data-start="1151.889" data-end="1154.379">load up the local version so there's a</span> <span data-start="1154.379" data-end="1156.899">few things going on here sites down so</span> <span data-start="1156.899" data-end="1159.84">see if this is up okay so we have some</span> </p>
<p><span data-start="1159.84" data-end="1161.61">API unit tests i think the last ones</span> <span data-start="1161.61" data-end="1166.47">failing right now awesome so again kind</span> <span data-start="1166.47" data-end="1168.179">of the mantra when something happens do</span> <span data-start="1168.179" data-end="1171.11">something else so in this case will say</span> <span data-start="1171.11" data-end="1175.62">ochio URL visit i'll just say blah and</span> <span data-start="1175.62" data-end="1177.32">then we'll say do something else and</span> <span data-start="1177.32" data-end="1180.809">then we could say perform arbitrary HTTP</span> <span data-start="1180.809" data-end="1183.96">requests or we can say send an email</span> <span data-start="1183.96" data-end="1188.22">this is always fun yeah so i don't think</span> <span data-start="1188.22" data-end="1189.809">i have send mail setup on this machine</span> <span data-start="1189.809" data-end="1191.399">but the idea would be is you you know</span> <span data-start="1191.399" data-end="1192.779">you can figure the listener and then you</span> <span data-start="1192.779" data-end="1194.85">can figure the action gives you a little</span> <span data-start="1194.85" data-end="1196.35">pretty print confirmation of what's</span> <span data-start="1196.35" data-end="1198.96">about to happen here you have your web</span> <span data-start="1198.96" data-end="1201.21">hook object you have the listener and</span> <span data-start="1201.21" data-end="1203.129">then you have the actions array so the</span> <span data-start="1203.129" data-end="1205.98">listener is going to be HTTP and you're</span> <span data-start="1205.98" data-end="1207.96">going listen for the path of blah so</span> <span data-start="1207.96" data-end="1210.12">this means an incoming HTTP request with</span> <span data-start="1210.12" data-end="1211.919">this matching path and when that happens</span> <span data-start="1211.919" data-end="1213.24">we're going to perform these actions</span> <span data-start="1213.24" data-end="1215.61">which is going to be send email with the</span> <span data-start="1215.61" data-end="1218.519">values rocks wires from President Obama</span> </p>
<p><span data-start="1218.519" data-end="1222.69">Tokyo is awesome what's wrong</span> <span data-start="1222.69" data-end="1226.72">okay so this is the protocol would be</span> <span data-start="1226.72" data-end="1230.41">the type so the type is the protocol</span> <span data-start="1230.41" data-end="1233.65">HTTP and the action protocol would be</span> <span data-start="1233.65" data-end="1235.84">send email so in the web book definition</span> <span data-start="1235.84" data-end="1237.85">the listener is going to be listening</span> <span data-start="1237.85" data-end="1240.01">using the HTTP protocol which we've</span> <span data-start="1240.01" data-end="1241.9">defined with these configurations and</span> <span data-start="1241.9" data-end="1244.57">then the sent email for the action is</span> <span data-start="1244.57" data-end="1246.78">going to be using the send email</span> <span data-start="1246.78" data-end="1248.92">protocol which is a very thin wrapper</span> <span data-start="1248.92" data-end="1251.56">for my email protocol which we could</span> <span data-start="1251.56" data-end="1252.88">probably abstract into something else</span> <span data-start="1252.88" data-end="1255.52">and yeah and it's going to send it out</span> <span data-start="1255.52" data-end="1257.47">with this definition that answer your</span> <span data-start="1257.47" data-end="1263.43">question and then yeah so create this</span> <span data-start="1263.43" data-end="1265.75">confirm successful look is successful</span> <span data-start="1265.75" data-end="1271.39">and then if we go to front / blah it</span> <span data-start="1271.39" data-end="1272.98">found the hook and right now I don't</span> <span data-start="1272.98" data-end="1274.03">think it's actually performing the</span> <span data-start="1274.03" data-end="1275.29">action it's just kind of bringing it up</span> <span data-start="1275.29" data-end="1276.61">and dumping it and that's the action ID</span> <span data-start="1276.61" data-end="1285.98">so any other questions</span> <span data-start="1285.99" data-end="1289.65">so I'm curious as to exactly how would</span> <span data-start="1289.65" data-end="1292.08">we get from listening to actually</span> <span data-start="1292.08" data-end="1296.22">scraping content bulova whistling you so</span> <span data-start="1296.22" data-end="1298.62">sure yeah so um it's a little hard to</span> <span data-start="1298.62" data-end="1299.94">explain without you know a concrete</span> <span data-start="1299.94" data-end="1301.98">example to show you but the idea would</span> <span data-start="1301.98" data-end="1303.69">be is that when something happens you</span> <span data-start="1303.69" data-end="1307.38">would say on a timer right so you say</span> <span data-start="1307.38" data-end="1310.89">every 30 seconds I want to perform an</span> <span data-start="1310.89" data-end="1316.41">arbitrary HTTP requests right so now</span> <span data-start="1316.41" data-end="1317.73">what we haven't really set up yet in</span> <span data-start="1317.73" data-end="1318.84">which we're really working on for the</span> <span data-start="1318.84" data-end="1320.52">second version for the scraping and the</span> <span data-start="1320.52" data-end="1322.92">server-side Dom parsing would be on the</span> <span data-start="1322.92" data-end="1325.77">timer this would hit the URL every 30</span> <span data-start="1325.77" data-end="1327.15">seconds and then we would have another</span> <span data-start="1327.15" data-end="1329.52">hook that would be chained on to this so</span> <span data-start="1329.52" data-end="1330.96">when the response came back and the</span> <span data-start="1330.96" data-end="1332.67">timer fire we would say take the payload</span> <span data-start="1332.67" data-end="1334.53">from that HTTP request and then perform</span> <span data-start="1334.53" data-end="1336.78">some custom validation or parsing on it</span> <span data-start="1336.78" data-end="1338.04">and then based off that we can fire</span> <span data-start="1338.04" data-end="1343.2">another web book yes that's all I I</span> <span data-start="1343.2" data-end="1345.059">didn't really go over it here but that's</span> <span data-start="1345.059" data-end="1346.44">really where it's going to be going is</span> <span data-start="1346.44" data-end="1347.73">some flow control you know many</span> <span data-start="1347.73" data-end="1349.559">listeners to many actions and then you</span> <span data-start="1349.559" data-end="1352.29">can create complex chains so by creating</span> <span data-start="1352.29" data-end="1353.97">simple web hooks in a chain you can</span> <span data-start="1353.97" data-end="1355.77">really make some awesome functionality</span> <span data-start="1355.77" data-end="1356.64">and then of course you can start</span> <span data-start="1356.64" data-end="1362.49">splitting the chain for and then in the</span> <span data-start="1362.49" data-end="1369.28">back network</span> <span data-start="1369.29" data-end="1371.72">distribute</span> <span data-start="1371.72" data-end="1374.45">so there's UJ totally so there's two</span> <span data-start="1374.45" data-end="1376.61">approaches here um you could easily just</span> <span data-start="1376.61" data-end="1378.62">set up to wikio instances completely</span> <span data-start="1378.62" data-end="1379.76">separately and then make them</span> <span data-start="1379.76" data-end="1380.87">communicate with each other through</span> <span data-start="1380.87" data-end="1383.09">restful web hooks that's kind of the</span> <span data-start="1383.09" data-end="1385.28">cheat you could also have been kind of</span> <span data-start="1385.28" data-end="1387.59">thinking about I know that um Rick over</span> <span data-start="1387.59" data-end="1388.789">there has been working on something</span> <span data-start="1388.789" data-end="1391.46">called dealer j/s so like I'm definitely</span> <span data-start="1391.46" data-end="1392.96">thinking of being able to set up</span> <span data-start="1392.96" data-end="1395.45">clusters of pokeo servers and actually</span> <span data-start="1395.45" data-end="1396.679">have them communicate maybe like you</span> <span data-start="1396.679" data-end="1398.419">know through a TCP socket opposed to</span> <span data-start="1398.419" data-end="1400.58">doing HTTP requests so there's nothing</span> <span data-start="1400.58" data-end="1402.53">available right now but that's</span> <span data-start="1402.53" data-end="1407.61">definitely planned for the future</span> <span data-start="1407.62" data-end="1412.52">anybody else are we done great well</span> <span data-start="1412.52" data-end="1413.99">thanks a lot i'm really glad you guys</span> <span data-start="1413.99" data-end="1415.07">voted for me and i got the opportunity</span> <span data-start="1415.07" data-end="1417.35">to speak here and yeah check out the</span> <span data-start="1417.35" data-end="1419.059">check out the site hooked on Io and</span> <span data-start="1419.059" data-end="1421.159">check out check me out on github maroc</span> </p>
</section>

<!-- div#container ends -->
</div>

<img alt="The End" id="fin" src="../images/fin.jpg">

<script>
/*eslint-disable */
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google-translate');
}
/* eslint-enable */
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="../js/main.js"></script>

</body>

</html>
