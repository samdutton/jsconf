<!DOCTYPE html>

<!--
Copyright 2019 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="//google.com">
  <meta name="description" content="web.dev LIVE video transcript">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>k46qeHzKbuY</title>
  <link rel="stylesheet" href="../css/main.css">
</head>

<body>

<iframe id="youtube" src="https://www.youtube.com/embed/k46qeHzKbuY?enablejsapi=1"></iframe>

<div id="container">

<div id="options">
  <div id="google-translate"></div>
  <div>
    <input type="checkbox" id="videoSticky" checked>
    <label for="videoSticky">Video position sticky</label>
  </div>
  <div>
    <input type="checkbox" id="captionScroll" checked>
    <label for="captionScroll">Keep current caption visible</label>
  </div>
</div>

<section>
<p><span data-start="0.7" data-end="6.16">[Applause]</span> <span data-start="6.17" data-end="8.79">so last year my colleagues and I did</span> <span data-start="8.79" data-end="11.13">something pretty exciting using only the</span> <span data-start="11.13" data-end="12.809">browser a little bit of JavaScript and</span> <span data-start="12.809" data-end="15.69">something called the Web Audio API we</span> <span data-start="15.69" data-end="18.27">were able to decipher brain waves now</span> <span data-start="18.27" data-end="19.71">that sounds a little pretty a little bit</span> <span data-start="19.71" data-end="22.26">sensational but it's mostly true so</span> <span data-start="22.26" data-end="23.609">today I'd like to tell you the story of</span> <span data-start="23.609" data-end="25.14">our journey through the lows and highs</span> <span data-start="25.14" data-end="27.119">of web audio on a quest to decipher</span> <span data-start="27.119" data-end="30.09">brain waves in the browser so this is</span> <span data-start="30.09" data-end="32.16">story of discovery it's about finding</span> <span data-start="32.16" data-end="34.11">out what the web can offer it's a story</span> <span data-start="34.11" data-end="36.059">of exploration about pushing the</span> <span data-start="36.059" data-end="38.67">boundaries of web technologies to differ</span> <span data-start="38.67" data-end="41.7">to make a difference and last it's well</span> <span data-start="41.7" data-end="43.26">it's a story that has a really cool demo</span> <span data-start="43.26" data-end="46.77">at the end so stay tuned but before I</span> <span data-start="46.77" data-end="48.719">can tell you that story have to tell you</span> <span data-start="48.719" data-end="51.239">this one so my name is Braden Moore I'm</span> <span data-start="51.239" data-end="52.8">a full-stack developer at an Australian</span> <span data-start="52.8" data-end="55.59">medical technology startup called C R so</span> </p>
<p><span data-start="55.59" data-end="57.6">C R provides Australia's largest</span> <span data-start="57.6" data-end="59.76">epilepsy management and diagnostic</span> <span data-start="59.76" data-end="61.41">service in fact the tagline of our</span> <span data-start="61.41" data-end="63.899">corporate website is epileptic diagnosis</span> <span data-start="63.899" data-end="66">made easy now I didn't know anything</span> <span data-start="66" data-end="67.38">about epilepsy before I started working</span> <span data-start="67.38" data-end="70.049">at C R and I guess that's kind of true</span> <span data-start="70.049" data-end="71.88">for a lot of people so let me give you</span> <span data-start="71.88" data-end="74.1">some of the facts so epilepsy is a</span> <span data-start="74.1" data-end="75.689">chronic condition that affects over 6</span> <span data-start="75.689" data-end="78.06">million people worldwide now the</span> <span data-start="78.06" data-end="79.86">symptoms of EPs can vary from person to</span> <span data-start="79.86" data-end="81.869">person but could range from loss of</span> <span data-start="81.869" data-end="83.46">awareness loss of bodily control to</span> <span data-start="83.46" data-end="86.28">full-body seizures now these events can</span> <span data-start="86.28" data-end="88.409">vary in frequency summer times happening</span> <span data-start="88.409" data-end="90.27">multiple times a day up to once a month</span> <span data-start="90.27" data-end="92.28">or even just as rare as once a year but</span> <span data-start="92.28" data-end="93.81">the results can be devastating</span> <span data-start="93.81" data-end="96.659">regardless and there's no known cure for</span> <span data-start="96.659" data-end="98.939">all types of epilepsy but with their</span> <span data-start="98.939" data-end="100.5">diagnosis some of the symptoms can be</span> <span data-start="100.5" data-end="104.009">treated so the way that epilepsy</span> <span data-start="104.009" data-end="106.079">diagnose is by reviewing a patient's</span> <span data-start="106.079" data-end="108.18">brain waves in what's called an EEG or</span> <span data-start="108.18" data-end="110.61">electroencephalogram so each of these</span> <span data-start="110.61" data-end="112.979">traces they represent the electoral</span> <span data-start="112.979" data-end="115.049">signals from certain parts of a</span> <span data-start="115.049" data-end="116.219">patient's brain captured using</span> <span data-start="116.219" data-end="118.649">electrodes on the head so a clinical</span> <span data-start="118.649" data-end="120.689">team uses EEG just like these to help</span> <span data-start="120.689" data-end="123.24">provide a diagnosis now the service that</span> <span data-start="123.24" data-end="124.32">we offer to see it looks like this</span> <span data-start="124.32" data-end="126.299">patient comes to our clinics where they</span> <span data-start="126.299" data-end="127.59">get connected with his electrodes to</span> <span data-start="127.59" data-end="129.539">monitor their brainwaves over the next</span> <span data-start="129.539" data-end="131.34">seven days we send them home they can</span> <span data-start="131.34" data-end="132.51">live their life in a comfort of their</span> <span data-start="132.51" data-end="133.89">own home while being monitored</span> <span data-start="133.89" data-end="135.569">then after that time they come back to</span> <span data-start="135.569" data-end="137.85">our clinic they get disconnected and</span> <span data-start="137.85" data-end="140.61">then we spent a few weeks looking</span> <span data-start="140.61" data-end="142.14">through our data and looking for</span> <span data-start="142.14" data-end="143.9">something that might give us a diagnosis</span> <span data-start="143.9" data-end="146.28">so we've got seven days with the data</span> <span data-start="146.28" data-end="147.63">what is it that the scientists are</span> <span data-start="147.63" data-end="149.4">looking for well look sometimes they're</span> <span data-start="149.4" data-end="150.54">looking for the obvious they're looking</span> <span data-start="150.54" data-end="151.68">for something like these minute long</span> <span data-start="151.68" data-end="153.03">seizures that are pretty easy to capture</span> <span data-start="153.03" data-end="155.19">on tape but if these are very rare</span> <span data-start="155.19" data-end="156.69">events happening once a month or even</span> <span data-start="156.69" data-end="157.8">once a year it's not guaranteed that</span> <span data-start="157.8" data-end="159.66">will capture that during the seven days</span> <span data-start="159.66" data-end="161.459">of getting wanted so more often they're</span> <span data-start="161.459" data-end="162.51">looking for something a bit smaller</span> <span data-start="162.51" data-end="163.89">they're looking for something like a</span> <span data-start="163.89" data-end="166.47">needle in a haystack well in epilepsy</span> <span data-start="166.47" data-end="167.67">there's something called the</span> <span data-start="167.67" data-end="169.8">characteristic signal of epilepsy which</span> <span data-start="169.8" data-end="171.63">is called a spike wave so it's these</span> <span data-start="171.63" data-end="174.63">little spikes and little waves that</span> <span data-start="174.63" data-end="176.76">around half a second long each and so</span> <span data-start="176.76" data-end="177.69">while a patient might only have a</span> <span data-start="177.69" data-end="179.64">seizure once a month they might have</span> <span data-start="179.64" data-end="182.34">dozens of these little spike waves every</span> <span data-start="182.34" data-end="184.26">day and so it's these needle and</span> <span data-start="184.26" data-end="185.459">haystack so they're scientists are</span> <span data-start="185.459" data-end="187.05">looking for in fact you're looking at a</span> <span data-start="187.05" data-end="189.15">whole kind of run of little spike waves</span> <span data-start="189.15" data-end="192.239">right there okay that's great but what</span> <span data-start="192.239" data-end="193.769">does a web developer have to do with it</span> </p>
<p><span data-start="193.769" data-end="195.72">I mentioned before that our clinical</span> <span data-start="195.72" data-end="197.58">team gets this data and then they start</span> <span data-start="197.58" data-end="198.69">reviewing it but that's not the full</span> <span data-start="198.69" data-end="201.75">story like every second Plattner company</span> <span data-start="201.75" data-end="202.92">these days we have our own cloud</span> <span data-start="202.92" data-end="206.43">platform and it's a platform for secure</span> <span data-start="206.43" data-end="208.11">management of storage and review of</span> <span data-start="208.11" data-end="210.66">medical data so and one of the powerful</span> <span data-start="210.66" data-end="212.459">things about this platform is it allows</span> <span data-start="212.459" data-end="215.22">a clinical team to upload this EEG brain</span> <span data-start="215.22" data-end="217.739">wave data and then review it anywhere at</span> <span data-start="217.739" data-end="220.53">anytime or through a browser one of the</span> <span data-start="220.53" data-end="222.2">major technical challenges of this</span> <span data-start="222.2" data-end="224.25">building this platform is the ability to</span> <span data-start="224.25" data-end="226.44">view or they start on the platform so to</span> <span data-start="226.44" data-end="227.91">tackle this problem we've built</span> <span data-start="227.91" data-end="229.5">something that's very creatively called</span> <span data-start="229.5" data-end="232.59">our viewer to view the data an Emmy</span> <span data-start="232.59" data-end="234.36">because it's hard and it looks something</span> <span data-start="234.36" data-end="237.06">like this in fact it looks exactly like</span> <span data-start="237.06" data-end="238.32">this this is a screen shot I just took</span> <span data-start="238.32" data-end="240.66">you know a few minutes ago and so it's</span> <span data-start="240.66" data-end="242.88">this data viewer that our clinical team</span> <span data-start="242.88" data-end="245.13">uses to review these seven days worth of</span> <span data-start="245.13" data-end="245.549">data</span> <span data-start="245.549" data-end="248.25">and to label events and to eventually</span> <span data-start="248.25" data-end="251.22">deliver a diagnosis one of the big</span> <span data-start="251.22" data-end="253.5">challenges in getting us scientists to</span> <span data-start="253.5" data-end="256.32">move from traditional so one of the big</span> <span data-start="256.32" data-end="257.459">challenges sorry that we face in splat</span> <span data-start="257.459" data-end="259.109">form is getting neurophysiologists as</span> <span data-start="259.109" data-end="260.88">they called to move from traditional</span> <span data-start="260.88" data-end="263.37">desktop based software's into a cloud</span> <span data-start="263.37" data-end="265.96">platform now</span> <span data-start="265.96" data-end="268.81">they often neurophysiologist often flick</span> <span data-start="268.81" data-end="270.22">through EEG data very quickly they're</span> <span data-start="270.22" data-end="272.62">going for pages a second so flick flick</span> <span data-start="272.62" data-end="273.819">flick that is looking very quickly</span> <span data-start="273.819" data-end="275.289">through this because if you want to get</span> <span data-start="275.289" data-end="276.61">through lots of data you don't wanna be</span> <span data-start="276.61" data-end="279.759">spending a lot of time on each page the</span> <span data-start="279.759" data-end="281.08">way they are able to accomplish that is</span> <span data-start="281.08" data-end="282.31">because they're trained to look at for</span> <span data-start="282.31" data-end="283.63">patterns they're looking for certain</span> <span data-start="283.63" data-end="284.83">things like these spike in waves</span> <span data-start="284.83" data-end="287.229">remember that's a half second thing in a</span> <span data-start="287.229" data-end="288.58">10 second page that you're looking at</span> <span data-start="288.58" data-end="290.53">for these pages per second so you're</span> <span data-start="290.53" data-end="292.18">looking for a needle in a haystack but</span> <span data-start="292.18" data-end="293.71">what happens when a needle doesn't look</span> <span data-start="293.71" data-end="296.319">like a needle what happens when the EEG</span> <span data-start="296.319" data-end="297.52">data that you're trained to look for</span> <span data-start="297.52" data-end="299.86">doesn't look quite right well in cases</span> <span data-start="299.86" data-end="301.449">like those those could lead to</span> <span data-start="301.449" data-end="304.199">misdiagnosis and awful patient outcomes</span> <span data-start="304.199" data-end="308.11">so this is our problem how can we take a</span> </p>
<p><span data-start="308.11" data-end="311.4">ETA review from desktop to the browser</span> <span data-start="311.4" data-end="314.02">so there's one particular aspect of</span> <span data-start="314.02" data-end="316.27">displaying this EEG that's very</span> <span data-start="316.27" data-end="317.919">important but also a little bit tricky</span> <span data-start="317.919" data-end="320.169">and that's called signal filtering so if</span> <span data-start="320.169" data-end="321.669">this problem of signal filtering that</span> <span data-start="321.669" data-end="324.49">we're going to explore today so let's</span> <span data-start="324.49" data-end="326.56">illustrate the problem on the Left</span> <span data-start="326.56" data-end="328.81">here's some EEG data that has signal</span> <span data-start="328.81" data-end="330.909">filters applied that's great on the</span> <span data-start="330.909" data-end="333.4">right is that same data with filters</span> <span data-start="333.4" data-end="335.44">turned off so clearly there's a very big</span> <span data-start="335.44" data-end="337.57">difference between these two so why is</span> <span data-start="337.57" data-end="339.039">this you know where we store it's still</span> <span data-start="339.039" data-end="340.96">you know recording the brain here well</span> <span data-start="340.96" data-end="342.849">like most electrical signals when you're</span> <span data-start="342.849" data-end="344.46">recording something you're not just</span> <span data-start="344.46" data-end="346.3">recording that brain activity you're</span> <span data-start="346.3" data-end="348.19">also recording a bunch of extra noise</span> <span data-start="348.19" data-end="350.229">and artifact so some of this noise can</span> <span data-start="350.229" data-end="351.58">come from let's say hi if we're gonna</span> <span data-start="351.58" data-end="353.58">see muscle contractions could come from</span> <span data-start="353.58" data-end="357.159">like a DC drift or it can come from like</span> <span data-start="357.159" data-end="359.05">the mains electricity noise so all of</span> <span data-start="359.05" data-end="361.06">these things aren't brain waves but they</span> <span data-start="361.06" data-end="364.599">still show up in this EEG so what does</span> <span data-start="364.599" data-end="366.94">it filter after all well no it's not</span> <span data-start="366.94" data-end="369.759">that one let me explain what a filter is</span> <span data-start="369.759" data-end="372.009">by talking a bit about music we all like</span> <span data-start="372.009" data-end="374.409">music so this is an audio spectrograph</span> <span data-start="374.409" data-end="376.87">it's a visual representation of all the</span> <span data-start="376.87" data-end="378.94">frequencies of a piece of audio like</span> <span data-start="378.94" data-end="380.469">your favorite song at a given point in</span> <span data-start="380.469" data-end="382.659">time so it has like low frequency is</span> <span data-start="382.659" data-end="384.46">like the Bass & Drums mid frequencies</span> <span data-start="384.46" data-end="386.289">like another spoken voice and maybe</span> <span data-start="386.289" data-end="388.93">higher frequencies like wind chimes or</span> <span data-start="388.93" data-end="390.219">pan flutes or other you know super</span> <span data-start="390.219" data-end="392.32">common instruments that you'd hear so</span> <span data-start="392.32" data-end="394.81">just like audio your brain wave is also</span> <span data-start="394.81" data-end="396.159">composed of a range of different</span> <span data-start="396.159" data-end="397.69">frequencies all happening at the same</span> <span data-start="397.69" data-end="398.669">time</span> <span data-start="398.669" data-end="400.59">so think about music imagine you're</span> <span data-start="400.59" data-end="402.27">producing a song but you've got this</span> <span data-start="402.27" data-end="403.499">kind of bass noise you're not really</span> <span data-start="403.499" data-end="404.58">wanting in the air or there's too much</span> <span data-start="404.58" data-end="406.56">pan-flute well one way to get rid of</span> <span data-start="406.56" data-end="408.599">that is by filtering out like the lower</span> <span data-start="408.599" data-end="410.039">frequencies or filtering out the higher</span> <span data-start="410.039" data-end="413.43">frequencies and so for eg there's kind</span> <span data-start="413.43" data-end="415.289">of three main filters we'd like to apply</span> <span data-start="415.289" data-end="417.599">you can have a high-pass filter which is</span> <span data-start="417.599" data-end="419.699">like this it lets everything higher than</span> <span data-start="419.699" data-end="420.9">the filter frequency pass through</span> <span data-start="420.9" data-end="423.389">there's a notch filter which notches or</span> <span data-start="423.389" data-end="426.479">cuts out the the frequent range of</span> <span data-start="426.479" data-end="428.129">frequencies and the low pass which is</span> <span data-start="428.129" data-end="429.629">the opposite of your high pass filter</span> <span data-start="429.629" data-end="430.8">everything lower than the filter if we</span> <span data-start="430.8" data-end="433.08">can see passes through you can also</span> <span data-start="433.08" data-end="434.61">combine them you can have multiple of</span> <span data-start="434.61" data-end="436.83">these filters running at once and that's</span> <span data-start="436.83" data-end="440.159">exactly what we'd like to do so okay how</span> <span data-start="440.159" data-end="442.259">can we go about implementing filters in</span> <span data-start="442.259" data-end="443.93">javascript in the browser on the cloud</span> <span data-start="443.93" data-end="446.49">well look first could we not have a</span> <span data-start="446.49" data-end="447.81">filter at all you know the best code is</span> <span data-start="447.81" data-end="450.539">the code you don't have to write but now</span> <span data-start="450.539" data-end="452.58">remember a couple of slides back with</span> <span data-start="452.58" data-end="454.5">filtering without filtering that's it's</span> <span data-start="454.5" data-end="455.639">kind of night and day right there so</span> <span data-start="455.639" data-end="458.129">that's a bit of a no-go I mean how would</span> <span data-start="458.129" data-end="460.469">have been happy with it but so could we</span> <span data-start="460.469" data-end="462.659">write our own filter implementation well</span> <span data-start="462.659" data-end="465.659">it's kind of a maybe and because of</span> <span data-start="465.659" data-end="468.779">stuff like this and and this and all</span> <span data-start="468.779" data-end="470.25">this stuff so I trained as a particle</span> <span data-start="470.25" data-end="471.839">physicist not an electrical engineer so</span> <span data-start="471.839" data-end="473.61">don't know too much about filtering but</span> </p>
<p><span data-start="473.61" data-end="474.81">I've been told that there's a bit of</span> <span data-start="474.81" data-end="476.699">subtleties involved in implementing a</span> <span data-start="476.699" data-end="479.49">filter and I'm sure you could agree that</span> <span data-start="479.49" data-end="480.75">JavaScript probably isn't the best</span> <span data-start="480.75" data-end="482.43">language to handle you know complex</span> <span data-start="482.43" data-end="485.129">mathematical processes so put that on</span> <span data-start="485.129" data-end="487.199">the back burner maybe could we use a</span> <span data-start="487.199" data-end="488.55">package you know where JavaScript</span> <span data-start="488.55" data-end="489.539">developers after all it's what we're</span> <span data-start="489.539" data-end="492.24">trying to do so how about this one this</span> <span data-start="492.24" data-end="492.779">is promising</span> <span data-start="492.779" data-end="494.43">DSP kit it's a digital signal processing</span> <span data-start="494.43" data-end="495.659">library it seems like Inc process</span> <span data-start="495.659" data-end="498.409">signals it is not intended to be used</span> <span data-start="498.409" data-end="501.539">it's good Fairplay to them how about</span> <span data-start="501.539" data-end="501.96">this one</span> </p>
<p><span data-start="501.96" data-end="503.969">DSP Jas now actually this one is I think</span> <span data-start="503.969" data-end="506.49">it's the most starred signal processing</span> <span data-start="506.49" data-end="507.99">library in JavaScript so you thought you</span> <span data-start="507.99" data-end="509.909">think this is probably the way to go but</span> <span data-start="509.909" data-end="511.919">it hasn't had a meaningful update in</span> <span data-start="511.919" data-end="516.24">nine years I mean I wasn't even coding</span> <span data-start="516.24" data-end="517.56">nine years ago so I think of this</span> <span data-start="517.56" data-end="519.479">happened in the web since then so maybe</span> <span data-start="519.479" data-end="520.68">maybe that's not the way either</span> <span data-start="520.68" data-end="523.019">so those three options are exhausted now</span> <span data-start="523.019" data-end="525.69">what are we left with well if you've</span> <span data-start="525.69" data-end="527.069">read the title of this talk you probably</span> <span data-start="527.069" data-end="529.05">know what's coming next I want I won't</span> <span data-start="529.05" data-end="535.25">leave you in suspense so introducing</span> <span data-start="535.26" data-end="537.52">there's very quiet drum rolls that you</span> <span data-start="537.52" data-end="539.62">could've just heard them but the Web</span> </p>
<p><span data-start="539.62" data-end="542.62">Audio API so this is a Web API that's</span> <span data-start="542.62" data-end="544.779">designed for processing audio it's</span> <span data-start="544.779" data-end="546.43">standardized while maintained as decent</span> <span data-start="546.43" data-end="548.23">browser support and it's gonna active</span> <span data-start="548.23" data-end="549.88">group of contributors and users so look</span> <span data-start="549.88" data-end="550.69">you're looking for something that works</span> <span data-start="550.69" data-end="552.6">now Web Audio is probably the way to go</span> <span data-start="552.6" data-end="554.98">well when I was first starting to use</span> </p>
<p><span data-start="554.98" data-end="556.3">Web Audio are the Mozilla developer</span> <span data-start="556.3" data-end="558.49">Network or mdn Doc's were invaluable and</span> <span data-start="558.49" data-end="559.899">actually just learned at this conference</span> <span data-start="559.899" data-end="561.7">that many of these Doc's are written by</span> <span data-start="561.7" data-end="563.89">live GS is very own routes so big shout</span> <span data-start="563.89" data-end="566.31">out so Ruth for helping me learn this</span> <span data-start="566.31" data-end="568.39">but let me take you through some of the</span> <span data-start="568.39" data-end="570.73">basic concepts here so how do you use</span> <span data-start="570.73" data-end="572.05">the Web Audio API how to actually use it</span> <span data-start="572.05" data-end="573.01">to process this data</span> <span data-start="573.01" data-end="574.779">well first you create an audio context</span> <span data-start="574.779" data-end="575.95">this is kind of the canvas where</span> <span data-start="575.95" data-end="577.839">everything happens inside this audio</span> <span data-start="577.839" data-end="579.67">context you create a bunch of nodes one</span> <span data-start="579.67" data-end="581.44">of which being your input node so this</span> <span data-start="581.44" data-end="582.79">might be an oscilloscope or this might</span> <span data-start="582.79" data-end="584.32">be like you're feeding microphone into</span> <span data-start="584.32" data-end="586.36">there next you can make a bunch of a fix</span> <span data-start="586.36" data-end="588.82">nodes so you could do things like reverb</span> <span data-start="588.82" data-end="591.1">or compression panning and many more all</span> <span data-start="591.1" data-end="592.36">the things that you know greatly with</span> <span data-start="592.36" data-end="593.95">audio maybe you wanna put reverb on your</span> </p>
<p><span data-start="593.95" data-end="597.37">IEG just just me you could also and then</span> <span data-start="597.37" data-end="599.2">you've got to specify the destination so</span> <span data-start="599.2" data-end="600.37">where is this all getting output to</span> <span data-start="600.37" data-end="601.75">conventionally that's gonna be your</span> <span data-start="601.75" data-end="604.779">speakers alright so after you do that</span> <span data-start="604.779" data-end="606.22">you string all those things together you</span> <span data-start="606.22" data-end="607.6">know one two one two one and then you</span> <span data-start="607.6" data-end="608.709">process the entire thing and there you</span> <span data-start="608.709" data-end="611.56">go stage your process audio okay that's</span> <span data-start="611.56" data-end="613.18">good but I might have jumped the gun a</span> <span data-start="613.18" data-end="617.41">little bit here what does an audio api</span> <span data-start="617.41" data-end="620.8">have to do with processing eg data like</span> <span data-start="620.8" data-end="622.57">why why did I jump from you know</span> <span data-start="622.57" data-end="624.79">packages and JavaScript to this well it</span> <span data-start="624.79" data-end="626.83">all comes down to one of the effects</span> <span data-start="626.83" data-end="628.6">nodes so the effects nodes can do really</span> <span data-start="628.6" data-end="630.63">cool things on your data such as reverb</span> <span data-start="630.63" data-end="633.37">compression padding it can also do</span> <span data-start="633.37" data-end="635.92">filtering so we had that audio</span> <span data-start="635.92" data-end="637.209">spectrograph where those filters were</span> <span data-start="637.209" data-end="639.25">applied you know turns out filtering is</span> <span data-start="639.25" data-end="641.11">a thing that musicians and music</span> <span data-start="641.11" data-end="643.18">engineers actually do so it makes sense</span> <span data-start="643.18" data-end="644.68">that they'd have really well implemented</span> <span data-start="644.68" data-end="647.38">filters in this API so if we could</span> <span data-start="647.38" data-end="649.93">somehow leverage these filters and use</span> <span data-start="649.93" data-end="652.06">them for our energy filtering then we'd</span> <span data-start="652.06" data-end="656.64">be set okay so in particular we want one</span> <span data-start="656.64" data-end="659.32">one method that's really useful for us</span> <span data-start="659.32" data-end="661.66">called the create IR filter method now</span> <span data-start="661.66" data-end="663.82">quick electro engineering lesson I R</span> <span data-start="663.82" data-end="666.269">stands for infinite impulse response</span> <span data-start="666.269" data-end="668.139">it's all you need to know you know</span> <span data-start="668.139" data-end="670.329">anything about it else about that but</span> <span data-start="670.329" data-end="671.829">it's the filter you can generate with</span> <span data-start="671.829" data-end="673.269">this crate I feel to know it crates an</span> </p>
<p><span data-start="673.269" data-end="675.939">IR filter and that's super configurable</span> <span data-start="675.939" data-end="677.109">so you can make it high pass low pass</span> <span data-start="677.109" data-end="679.269">notch whatever you want in there so</span> <span data-start="679.269" data-end="682.689">here's the plan first we need to make</span> <span data-start="682.689" data-end="684.699">some way of reading or getting the web</span> <span data-start="684.699" data-end="687.339">audio to read out EEG data once it's</span> <span data-start="687.339" data-end="689.35">there we can process this data we can</span> <span data-start="689.35" data-end="691.419">apply the filters and finally we output</span> <span data-start="691.419" data-end="692.769">this back under brainwaves displayed on</span> <span data-start="692.769" data-end="695.23">the screen cool that's all well and good</span> <span data-start="695.23" data-end="699.04">but how exactly do you read eg with an</span> <span data-start="699.04" data-end="702.22">audio API I'm glad that you asked you</span> <span data-start="702.22" data-end="704.319">you asked that question because we're</span> <span data-start="704.319" data-end="706.209">about to find out so here are the six</span> <span data-start="706.209" data-end="708.819">steps that you need to decipher your own</span> <span data-start="708.819" data-end="710.679">brain waves in the browser with the Web</span> </p>
<p><span data-start="710.679" data-end="714.429">Audio API let's go alright entering vs</span> <span data-start="714.429" data-end="718.209">code mode now so first we need to set up</span> <span data-start="718.209" data-end="720.309">an audio context remember this is the</span> <span data-start="720.309" data-end="723.009">canvas where everything happens next you</span> <span data-start="723.009" data-end="724.72">need to you know create an audio context</span> <span data-start="724.72" data-end="726.069">that's as simple as you know calling a</span> <span data-start="726.069" data-end="727.359">constructor you pass in the number of</span> <span data-start="727.359" data-end="728.619">channels the number of samples for each</span> <span data-start="728.619" data-end="730.179">channel and your sample rate on there</span> <span data-start="730.179" data-end="732.629">now this is an offline audio context and</span> <span data-start="732.629" data-end="735.1">kind of this — audio context you can use</span> <span data-start="735.1" data-end="736.809">the offline audio context in the Web</span> </p>
<p><span data-start="736.809" data-end="738.519">Audio API or something called the audio</span> <span data-start="738.519" data-end="741.16">context makes sense so the thing about</span> <span data-start="741.16" data-end="742.66">the audio context is this is the one</span> <span data-start="742.66" data-end="743.889">you'd usually want to use if you're</span> <span data-start="743.889" data-end="745.389">processing audio if you're making like a</span> <span data-start="745.389" data-end="746.739">multitrack mixer or you want to apply</span> <span data-start="746.739" data-end="749.769">some reverb in the web that's great the</span> <span data-start="749.769" data-end="751.689">problem with it though is that it plays</span> <span data-start="751.689" data-end="754.23">back the audio more or less in real time</span> <span data-start="754.23" data-end="756.73">so it's good if you actually you know</span> <span data-start="756.73" data-end="758.86">want to apply your effects in real time</span> <span data-start="758.86" data-end="761.049">on music but if you've got 7 days with</span> <span data-start="761.049" data-end="763.089">an EDD artist look through you really</span> <span data-start="763.089" data-end="764.679">don't want to be waiting you know 7 days</span> <span data-start="764.679" data-end="766.959">for that to process so that's maybe not</span> <span data-start="766.959" data-end="768.789">the way to go there's another type of</span> <span data-start="768.789" data-end="770.35">offer of audio context you could use</span> <span data-start="770.35" data-end="772.66">called the offline audio context so it's</span> <span data-start="772.66" data-end="774.16">quite similar to the regular audio</span> <span data-start="774.16" data-end="776.619">context except just taken directly from</span> <span data-start="776.619" data-end="779.189">and again in contrast with a standard</span> <span data-start="779.189" data-end="781.209">standard audio context and offer an</span> <span data-start="781.209" data-end="782.41">audio context it doesn't render the</span> <span data-start="782.41" data-end="784.149">audio to the device Hardware instead it</span> <span data-start="784.149" data-end="785.829">generates it as fast as a cannon and</span> <span data-start="785.829" data-end="788.019">outputs the result to an audio buffer</span> <span data-start="788.019" data-end="789.66">now that sounds brilliant</span> <span data-start="789.66" data-end="793.779">so basically audio context is slow often</span> <span data-start="793.779" data-end="795.189">open to this super fast what we're</span> <span data-start="795.189" data-end="796.509">trying to do so that's why we're going</span> <span data-start="796.509" data-end="797.25">with it</span> <span data-start="797.25" data-end="799.66">cool we've made this audio contacts next</span> <span data-start="799.66" data-end="801.3">we have to set up our source notes</span> <span data-start="801.3" data-end="803.62">pretty straightforward create a buffer</span> <span data-start="803.62" data-end="805.33">source and note that these methods are</span> <span data-start="805.33" data-end="806.83">all coming off the audio context so you</span> <span data-start="806.83" data-end="809.11">can't actually create nodes in the web</span> <span data-start="809.11" data-end="811.21">audio without actually being attached to</span> <span data-start="811.21" data-end="814.57">this context next up we need to create</span> <span data-start="814.57" data-end="817.3">and fill this audio buffer so first up</span> <span data-start="817.3" data-end="818.83">we're going to create a buffer it's got</span> <span data-start="818.83" data-end="820">the number of channel samples sample</span> <span data-start="820" data-end="822.64">rate that we want go to loop over our</span> <span data-start="822.64" data-end="824.53">channels and then for each channel I'm</span> <span data-start="824.53" data-end="826.69">going to kind of get the channel buffer</span> <span data-start="826.69" data-end="828.22">that I just created to remove this is</span> <span data-start="828.22" data-end="830.89">like an empty empty audio buffer so get</span> <span data-start="830.89" data-end="832.17">the channel buffer for that channel</span> <span data-start="832.17" data-end="834.43">gonna iterate over all the samples and</span> <span data-start="834.43" data-end="837.04">then right here I'm going to you know go</span> <span data-start="837.04" data-end="838.72">to our channel buffer I'm going to fill</span> <span data-start="838.72" data-end="841.36">that with pal EEG data which is in the</span> <span data-start="841.36" data-end="843.97">very credibly named data array so our</span> </p>
<p><span data-start="843.97" data-end="846.55">EEG data is just in an array of an array</span> <span data-start="846.55" data-end="848.32">of floats in this data and something</span> <span data-start="848.32" data-end="849.85">really exciting is happening here so</span> <span data-start="849.85" data-end="851.74">right there on the left</span> <span data-start="851.74" data-end="854.77">that's an audio buffer that's audio that</span> <span data-start="854.77" data-end="855.91">stuff you can process through the Web</span> <span data-start="855.91" data-end="859.33">Audio API on the right is your EEG data</span> <span data-start="859.33" data-end="861.73">and in the middle is an equal sign so</span> <span data-start="861.73" data-end="863.17">what you're doing is you're moving your</span> <span data-start="863.17" data-end="865.45">EEG data into an audio buffer which</span> <span data-start="865.45" data-end="868.15">means right now you can put filter and</span> <span data-start="868.15" data-end="869.26">reverb and compression all this cool</span> <span data-start="869.26" data-end="870.94">stuff that you really shouldn't do on eg</span> <span data-start="870.94" data-end="874.78">but you can just like that that's really</span> <span data-start="874.78" data-end="877.72">cool next you just assign you know two</span> <span data-start="877.72" data-end="878.89">audio buffer to your source and there</span> <span data-start="878.89" data-end="880.51">you go you've got your input you've fed</span> <span data-start="880.51" data-end="884.68">your EG data into the Web Audio API okay</span> <span data-start="884.68" data-end="885.97">next step we need to generate the</span> <span data-start="885.97" data-end="890.68">filters well a bit of a bit of</span> <span data-start="890.68" data-end="891.4">background on this</span> <span data-start="891.4" data-end="893.74">so the create IR filter method remember</span> <span data-start="893.74" data-end="895.9">that's kind of super configurable but</span> <span data-start="895.9" data-end="897.76">it's super configurable in the way you</span> <span data-start="897.76" data-end="899.44">have to provide certain what's called</span> <span data-start="899.44" data-end="901.3">coefficients to define what the filter</span> <span data-start="901.3" data-end="903.91">looks like now there many different</span> <span data-start="903.91" data-end="905.26">filter types one can use and are all</span> <span data-start="905.26" data-end="906.82">slightly different from our research we</span> <span data-start="906.82" data-end="908.77">found out is that desktop software's</span> <span data-start="908.77" data-end="909.88">usually use something called a</span> </p>
<p><span data-start="909.88" data-end="911.59">Butterworth filter and that's you know</span> <span data-start="911.59" data-end="913.12">pretty standard across a lot of filter</span> <span data-start="913.12" data-end="916.54">types surprisingly you know JavaScript</span> <span data-start="916.54" data-end="917.86">doesn't have its own generate</span> <span data-start="917.86" data-end="919.35">Butterworth filter coefficient</span> <span data-start="919.35" data-end="920.95">implementation so we kind of had to</span> <span data-start="920.95" data-end="922.84">write our own which looks something like</span> <span data-start="922.84" data-end="926.26">this and this and this and it just keeps</span> <span data-start="926.26" data-end="927.94">going so many more pages there's one</span> <span data-start="927.94" data-end="928.87">more page there's about two hundred</span> <span data-start="928.87" data-end="930.259">lines of code there</span> <span data-start="930.259" data-end="932.419">users like complex numbers and polls and</span> <span data-start="932.419" data-end="934.459">transforms and actually ported it from</span> <span data-start="934.459" data-end="935.72">MATLAB code one of our colleagues wrote</span> <span data-start="935.72" data-end="938.119">into JavaScript so it's possible a bit</span> <span data-start="938.119" data-end="940.04">messy a bit long but there you go so</span> <span data-start="940.04" data-end="941.479">we've got our butterworth coefficients</span> <span data-start="941.479" data-end="944.119">once we have that we can generate to the</span> </p>
<p><span data-start="944.119" data-end="946.279">IR filter by passing these coefficients</span> <span data-start="946.279" data-end="948.049">in so there you go that's you know six</span> <span data-start="948.049" data-end="950.929">lines we have our filter nodes next up</span> <span data-start="950.929" data-end="953.479">we need to connect the source of the</span> <span data-start="953.479" data-end="955.549">destination so what's happening here is</span> <span data-start="955.549" data-end="957.169">we're connecting the source to the low</span> <span data-start="957.169" data-end="958.789">pass the low pass the high pass high</span> <span data-start="958.789" data-end="960.949">pass to the notch not to the destination</span> <span data-start="960.949" data-end="963.589">all the way through simple proof finally</span> <span data-start="963.589" data-end="965.119">we need to process an app with this</span> <span data-start="965.119" data-end="966.889">audio so we just set up this big audio</span> <span data-start="966.889" data-end="968.479">graph as it's called now we need to</span> <span data-start="968.479" data-end="971.809">render this audio graph so step one is</span> <span data-start="971.809" data-end="974.239">setting what our start point is you know</span> <span data-start="974.239" data-end="975.229">makes sense that you want to start</span> <span data-start="975.229" data-end="976.279">processing from the start which is</span> <span data-start="976.279" data-end="978.529">what's happening here then we need to</span> <span data-start="978.529" data-end="980.239">call this start rendering method so this</span> <span data-start="980.239" data-end="981.499">is on the offline audio context you can</span> <span data-start="981.499" data-end="983.869">do this and it's super cool because it</span> <span data-start="983.869" data-end="985.939">returns a promise which resolves to your</span> <span data-start="985.939" data-end="989.089">process to buffer what I'm gonna do now</span> <span data-start="989.089" data-end="990.529">is you know just initialize where the</span> <span data-start="990.529" data-end="992.569">output data is going to go and then kind</span> <span data-start="992.569" data-end="993.739">of do the reverse of what we did to feed</span> <span data-start="993.739" data-end="995.239">it in gonna loop over all these channels</span> <span data-start="995.239" data-end="997.519">get the channel buffer and get the here</span> <span data-start="997.519" data-end="998.539">the channel buffer for those but now</span> <span data-start="998.539" data-end="999.919">this is full of data instead of empties</span> <span data-start="999.919" data-end="1002.619">before and for some reason here this</span> <span data-start="1002.619" data-end="1004.6">channel buffer is returns a typed array</span> <span data-start="1004.6" data-end="1006.459">rather than a regular ol array now the</span> <span data-start="1006.459" data-end="1008.289">way to convert from a typed array to a</span> <span data-start="1008.289" data-end="1009.939">regular array is build a stack overflow</span> <span data-start="1009.939" data-end="1011.619">and type how do I to convert from a</span> <span data-start="1011.619" data-end="1012.85">typed array to a regular array and copy</span> <span data-start="1012.85" data-end="1014.799">paste of the code they tell you right</span> <span data-start="1014.799" data-end="1017.679">there so that's that's the simplest way</span> </p>
<p><span data-start="1017.679" data-end="1020.649">I found it works cool now we'll return</span> <span data-start="1020.649" data-end="1023.139">our process can loop data and there you</span> <span data-start="1023.139" data-end="1025.389">go six steps we put our dial we've fed</span> <span data-start="1025.389" data-end="1026.559">it through a filter that we process it</span> <span data-start="1026.559" data-end="1031.959">this is filtered EEG data right there so</span> <span data-start="1031.959" data-end="1034.059">after our six steps we're able to turn</span> <span data-start="1034.059" data-end="1037.12">that to that and we've got so much</span> <span data-start="1037.12" data-end="1038.679">mileage out of these these images is</span> <span data-start="1038.679" data-end="1039.639">like the third time we've used at this</span> <span data-start="1039.639" data-end="1042.339">talk so look you know now is what we the</span> <span data-start="1042.339" data-end="1043.75">time where I would you know bring out a</span> <span data-start="1043.75" data-end="1045.129">demo and show you how it all works and</span> <span data-start="1045.129" data-end="1046.389">then get on a plane back to Australia</span> <span data-start="1046.389" data-end="1048.459">but you know life life isn't that simple</span> <span data-start="1048.459" data-end="1051.1">we there was a few kind of problems with</span> <span data-start="1051.1" data-end="1052.809">this and one of the biggest problems is</span> <span data-start="1052.809" data-end="1058.049">it was very slow like very very slow so</span> <span data-start="1058.049" data-end="1061.629">some further now our scientists they</span> <span data-start="1061.629" data-end="1064.27">want to review like four pages of data</span> <span data-start="1064.27" data-end="1066.64">second so that's 250 milliseconds per</span> <span data-start="1066.64" data-end="1070.39">page okay well to apply these filters it</span> <span data-start="1070.39" data-end="1072.73">takes 300 milliseconds so already we're</span> <span data-start="1072.73" data-end="1074.83">over budget and then you need to factor</span> <span data-start="1074.83" data-end="1076.21">in you know fetching and downloading</span> <span data-start="1076.21" data-end="1076.69">this data</span> <span data-start="1076.69" data-end="1077.59">you're doing the filtering and then</span> <span data-start="1077.59" data-end="1079.39">rendering that all then clearly you know</span> <span data-start="1079.39" data-end="1081.61">you're nowhere near what we need to get</span> <span data-start="1081.61" data-end="1082.33">that goal</span> <span data-start="1082.33" data-end="1084.28">so this is what I call you know just</span> <span data-start="1084.28" data-end="1087.01">some minor roadblocks so what's the</span> <span data-start="1087.01" data-end="1089.23">problem the problem is this crate IR</span> <span data-start="1089.23" data-end="1091.45">filter method you know it takes around a</span> <span data-start="1091.45" data-end="1092.8">hundred milliseconds to generate a</span> <span data-start="1092.8" data-end="1094.96">filter which is look reasonable because</span> <span data-start="1094.96" data-end="1096.07">you have to provide these coefficients</span> <span data-start="1096.07" data-end="1097.57">generate a new filter super configurable</span> <span data-start="1097.57" data-end="1100.24">from scratch that's okay but you're</span> <span data-start="1100.24" data-end="1101.44">doing that you know not just once but</span> <span data-start="1101.44" data-end="1103.69">one two three times that's four three</span> <span data-start="1103.69" data-end="1106.09">times which is you know three one</span> <span data-start="1106.09" data-end="1108.46">hundred three hundred milliseconds the</span> <span data-start="1108.46" data-end="1110.38">pain doesn't end there because now you</span> <span data-start="1110.38" data-end="1113.68">have lots and lots of things because</span> <span data-start="1113.68" data-end="1115.72">every page of data that you're looking</span> <span data-start="1115.72" data-end="1117.67">at has to generate its own filters so</span> <span data-start="1117.67" data-end="1119.68">one page 300 millisecond another page</span> <span data-start="1119.68" data-end="1121.48">300 milliseconds so it just goes on and</span> <span data-start="1121.48" data-end="1123.28">on and on so clearly this is not gonna</span> <span data-start="1123.28" data-end="1126.07">work so where can we go from here well</span> <span data-start="1126.07" data-end="1128.71">look we could use web workers maybe I'm</span> <span data-start="1128.71" data-end="1129.64">just putting that there haven't actually</span> <span data-start="1129.64" data-end="1131.8">tried it but you know even if we could</span> <span data-start="1131.8" data-end="1133.78">get web workers to use web audio it</span> <span data-start="1133.78" data-end="1135.16">still has the problem of the brows are</span> <span data-start="1135.16" data-end="1136.69">still taking that 300 millisecond so it</span> <span data-start="1136.69" data-end="1137.71">might be off the main thread but it's</span> <span data-start="1137.71" data-end="1139.96">still that waiting time there use</span> <span data-start="1139.96" data-end="1141.7">webassembly maybe you know rust didn't</span> <span data-start="1141.7" data-end="1143.23">see those languages are far better</span> <span data-start="1143.23" data-end="1144.94">suited to writing your own filter</span> <span data-start="1144.94" data-end="1146.59">implementation than javascript which is</span> <span data-start="1146.59" data-end="1149.5">what we talked about before but you know</span> <span data-start="1149.5" data-end="1151.36">we're so close we're so close for almost</span> <span data-start="1151.36" data-end="1152.65">got there we've got our data filter I</span> <span data-start="1152.65" data-end="1154.21">don't want to jump ship and go to you</span> <span data-start="1154.21" data-end="1155.98">know rust or C just just right now so</span> <span data-start="1155.98" data-end="1158.02">maybe could you feel from the backend</span> <span data-start="1158.02" data-end="1160.24">you know similar to web assembly perhaps</span> <span data-start="1160.24" data-end="1161.29">there's server-side languages that are</span> <span data-start="1161.29" data-end="1163.02">better at writing filtering permutations</span> <span data-start="1163.02" data-end="1165.58">but there's a bit of latency in having</span> <span data-start="1165.58" data-end="1167.11">to you know change the filter fetch some</span> <span data-start="1167.11" data-end="1168.46">data change the filter again fetch some</span> <span data-start="1168.46" data-end="1169.87">more data it's just a lot of data flow</span> <span data-start="1169.87" data-end="1172.51">through maybe is this something else we</span> <span data-start="1172.51" data-end="1174.73">can do all right well when you're in the</span> <span data-start="1174.73" data-end="1176.11">end and so I'll tell you about a Taylor</span> <span data-start="1176.11" data-end="1178.63">to filters now so what is that problem a</span> <span data-start="1178.63" data-end="1181.35">problem is this the great IR filter</span> <span data-start="1181.35" data-end="1184.21">filter method it's good it's super</span> <span data-start="1184.21" data-end="1185.98">configurable it you know represent the</span> <span data-start="1185.98" data-end="1187.18">second order filter configurable with</span> <span data-start="1187.18" data-end="1188.44">several different common filter types</span> <span data-start="1188.44" data-end="1190.75">but it's a bit slow to make so what's</span> <span data-start="1190.75" data-end="1191.23">the solution</span> <span data-start="1191.23" data-end="1194.14">well the solution is</span> <span data-start="1194.14" data-end="1196.7">there's an old proverb to hide a tree</span> <span data-start="1196.7" data-end="1199.04">use a forest so you know how about you</span> <span data-start="1199.04" data-end="1200.72">know the je s come for the past 2019</span> <span data-start="1200.72" data-end="1203.21">take on it to solve a filter problem use</span> <span data-start="1203.21" data-end="1205.31">a filter alright just two notes about</span> <span data-start="1205.31" data-end="1207.08">this I don't know if my my proverb</span> <span data-start="1207.08" data-end="1209.45">actually makes any sense maybe not and</span> <span data-start="1209.45" data-end="1212">secondly I thought that top when I was</span> <span data-start="1212" data-end="1213.14">writing this I thought the top row was</span> <span data-start="1213.14" data-end="1214.46">actually a super you know real ancient</span> <span data-start="1214.46" data-end="1217.25">wise proverb but it turns out it's just</span> <span data-start="1217.25" data-end="1220.46">from ninja boy in Pokemon emerald so</span> <span data-start="1220.46" data-end="1221.72">it's just something it's stuck with me</span> <span data-start="1221.72" data-end="1224.54">for 14 years but you know there you go</span> <span data-start="1224.54" data-end="1228.38">so anyway filters there's another filter</span> <span data-start="1228.38" data-end="1230.48">that we can actually use in Web Audio</span> <span data-start="1230.48" data-end="1232.46">and it's called the by quad filter node</span> <span data-start="1232.46" data-end="1234.89">now if you look if it seems like that</span> <span data-start="1234.89" data-end="1236.93">description looks pretty similar to the</span> <span data-start="1236.93" data-end="1238.25">one we just saw before you know you'd be</span> <span data-start="1238.25" data-end="1241.15">right those are the different the two</span> <span data-start="1241.15" data-end="1243.59">descriptions written the mdn Doc's give</span> <span data-start="1243.59" data-end="1245.05">you a second to spot the difference</span> <span data-start="1245.05" data-end="1247.34">there's not really much there so let's</span> <span data-start="1247.34" data-end="1251.3">do our own kind of comparison so are</span> <span data-start="1251.3" data-end="1252.47">they both do they both generate</span> <span data-start="1252.47" data-end="1255.44">second-order filters yep that's good</span> <span data-start="1255.44" data-end="1256.55">that's important because desktop</span> <span data-start="1256.55" data-end="1258.83">software's use second-order filters can</span> <span data-start="1258.83" data-end="1260.24">you create your own custom filter with</span> <span data-start="1260.24" data-end="1262.76">it well yes for the IR filter know for</span> <span data-start="1262.76" data-end="1264.02">the bicoid filter you kind of use what's</span> <span data-start="1264.02" data-end="1266.11">given to you okay that's that's alright</span> <span data-start="1266.11" data-end="1269.09">is it a Butterworth filter so remember</span> <span data-start="1269.09" data-end="1270.53">we generate our own Butterworth filter</span> <span data-start="1270.53" data-end="1272.6">with the create our filter method but</span> <span data-start="1272.6" data-end="1274.37">for the life of me I couldn't find out</span> <span data-start="1274.37" data-end="1277.04">what exact filter algorithm was used to</span> <span data-start="1277.04" data-end="1279.26">create the bicoid filter and that's</span> <span data-start="1279.26" data-end="1280.73">important because if something is</span> <span data-start="1280.73" data-end="1281.87">filtered slightly different it's gonna</span> <span data-start="1281.87" data-end="1283.16">look slightly different and it's looking</span> <span data-start="1283.16" data-end="1284.51">slightly different you might not see it</span> <span data-start="1284.51" data-end="1285.59">when you're flicking through four pages</span> <span data-start="1285.59" data-end="1288.47">a second finally kind of the big the big</span> <span data-start="1288.47" data-end="1290.24">one is the time taken to generate these</span> <span data-start="1290.24" data-end="1293.6">filters so clearly the bicoid filter is</span> <span data-start="1293.6" data-end="1294.89">a big winner here taking ten</span> <span data-start="1294.89" data-end="1296.27">milliseconds versus the hundred</span> <span data-start="1296.27" data-end="1298.94">milliseconds for the great IR filter</span> <span data-start="1298.94" data-end="1301.64">note so the question still remains is</span> <span data-start="1301.64" data-end="1304.37">does this filter filter the way we</span> <span data-start="1304.37" data-end="1306.77">wanted to do after a bit of research we</span> <span data-start="1306.77" data-end="1309.91">can say with with success yes</span> <span data-start="1309.91" data-end="1312.89">so the filtered data coming out of a</span> <span data-start="1312.89" data-end="1314.87">bipod filter is basically more or less</span> <span data-start="1314.87" data-end="1316.7">the same as the data coming through our</span> <span data-start="1316.7" data-end="1318.71">desktop software so my quad filter node</span> <span data-start="1318.71" data-end="1319.87">we just works</span> <span data-start="1319.87" data-end="1322.7">another big upside on this is that</span> <span data-start="1322.7" data-end="1324.56">remember before we had our Butterworth</span> <span data-start="1324.56" data-end="1327.44">filter code 200 lines of matlab ported</span> <span data-start="1327.44" data-end="1330.08">we transforms in complex numbers well</span> <span data-start="1330.08" data-end="1331.22">there's the coach a writer Butterworth</span> <span data-start="1331.22" data-end="1334.16">filter a bipod filter yeah that's nine</span> <span data-start="1334.16" data-end="1334.61">lines</span> <span data-start="1334.61" data-end="1336.35">let's change if you you know can</span> <span data-start="1336.35" data-end="1338.15">compress things a little bit so I call</span> <span data-start="1338.15" data-end="1344.929">this an absolute win so success things</span> <span data-start="1344.929" data-end="1347.5">are working so let me give you a demo of</span> <span data-start="1347.5" data-end="1350.299">these filters actually being applied so</span> <span data-start="1350.299" data-end="1353.57">that's not the way all right so right</span> <span data-start="1353.57" data-end="1355.91">now we have some of our EEG data and</span> <span data-start="1355.91" data-end="1357.53">this is you know usually what the</span> <span data-start="1357.53" data-end="1359.419">clinicians would do and would look at so</span> <span data-start="1359.419" data-end="1360.38">right now none of the filters are</span> <span data-start="1360.38" data-end="1362.929">applied and usually they'd be here</span> <span data-start="1362.929" data-end="1365.15">looking through this data and looks</span> <span data-start="1365.15" data-end="1367.01">alright you know without a filter but</span> <span data-start="1367.01" data-end="1368.39">sometimes you get really noisy parts</span> <span data-start="1368.39" data-end="1369.98">like this this might be where you're you</span> <span data-start="1369.98" data-end="1371.21">know muscle artifacts coming in or</span> <span data-start="1371.21" data-end="1372.919">signal noise so if you're trying to</span> <span data-start="1372.919" data-end="1373.909">review something in here there could be</span> <span data-start="1373.909" data-end="1375.32">all these spike waves underneath this</span> <span data-start="1375.32" data-end="1377.48">noise and you'd never see it so what you</span> <span data-start="1377.48" data-end="1379.46">can do though is you can just turn on</span> <span data-start="1379.46" data-end="1386.63">your filters yeah and right there that's</span> <span data-start="1386.63" data-end="1388.25">so much easy to see this is so much</span> <span data-start="1388.25" data-end="1390.679">closer to what the real EEG data looks</span> <span data-start="1390.679" data-end="1392.169">like you know you can also specify</span> <span data-start="1392.169" data-end="1394.22">exactly what filter you want you want to</span> <span data-start="1394.22" data-end="1396.14">make a you know I forty Hertz low-pass</span> <span data-start="1396.14" data-end="1399.89">you want to put a high-pass at say no</span> <span data-start="1399.89" data-end="1404.76">three cool you can do that on the fly</span> <span data-start="1404.77" data-end="1407.84">now right here I've got another bit of</span> </p>
<p><span data-start="1407.84" data-end="1410.09">EEG so this is without filters applied</span> <span data-start="1410.09" data-end="1412.63">let me just turn these filters on and</span> <span data-start="1412.63" data-end="1415.059">what you see underneath all of this</span> <span data-start="1415.059" data-end="1419.659">right here there's a spike and way so if</span> <span data-start="1419.659" data-end="1420.77">you're looking at this and it's a bit</span> <span data-start="1420.77" data-end="1422.45">noisy and you're flicking through page</span> <span data-start="1422.45" data-end="1424.49">after page you might not see this appear</span> <span data-start="1424.49" data-end="1425.84">right here but if you have these filters</span> <span data-start="1425.84" data-end="1427.13">applied you'll be able to see the</span> <span data-start="1427.13" data-end="1429.169">underlying epileptic signal there and be</span> <span data-start="1429.169" data-end="1432.049">able to give the correct diagnosis so</span> <span data-start="1432.049" data-end="1437.139">filters in the web</span> <span data-start="1437.149" data-end="1439.279">all right so we've come a long way</span> <span data-start="1439.279" data-end="1440.57">together we've learned a bit about</span> <span data-start="1440.57" data-end="1442.999">epilepsy about EEG about brainwaves and</span> <span data-start="1442.999" data-end="1444.979">how we can use the Web Audio API to the</span> <span data-start="1444.979" data-end="1446.839">help decipher these brain waves now</span> <span data-start="1446.839" data-end="1448.489">before I fly back home to the land of a</span> <span data-start="1448.489" data-end="1450.169">great beyond let me leave you with some</span> <span data-start="1450.169" data-end="1452.649">closing remarks so why does this matter</span> <span data-start="1452.649" data-end="1454.879">you know why am i giving a talk about</span> </p>
<p><span data-start="1454.879" data-end="1457.159">Web Audio and brain waves well look</span> <span data-start="1457.159" data-end="1458.839">there's many kind of other better talks</span> <span data-start="1458.839" data-end="1459.859">that could have been given about Web</span> <span data-start="1459.859" data-end="1461.389">Audio could have taught you how to make</span> <span data-start="1461.389" data-end="1462.649">your own motor track mixer and how do</span> <span data-start="1462.649" data-end="1463.099">you know</span> <span data-start="1463.099" data-end="1464.989">apply reverb and do these cool things</span> <span data-start="1464.989" data-end="1467.869">instead I gave you this one well the</span> <span data-start="1467.869" data-end="1470.57">reason is at my company seer you know we</span> <span data-start="1470.57" data-end="1471.679">help we try to help people you know</span> <span data-start="1471.679" data-end="1472.999">we've helped over a thousand patients</span> <span data-start="1472.999" data-end="1474.589">over our last two years of operation</span> <span data-start="1474.589" data-end="1476.599">we're seeing over 40 patients a week</span> <span data-start="1476.599" data-end="1478.909">coming through our services and so at</span> <span data-start="1478.909" data-end="1480.529">the end of the day what they want what</span> <span data-start="1480.529" data-end="1482.83">these patients want is a diagnosis and</span> <span data-start="1482.83" data-end="1485.839">as we saw if you don't see the right</span> <span data-start="1485.839" data-end="1487.159">data you're not going to get the right</span> <span data-start="1487.159" data-end="1488.479">diagnosis you don't get the right</span> <span data-start="1488.479" data-end="1489.589">diagnosis you can't get the right</span> <span data-start="1489.589" data-end="1491.719">treatment and you know in some small way</span> <span data-start="1491.719" data-end="1493.669">the Web Audio API is actually helping</span> <span data-start="1493.669" data-end="1496.94">with this so kind of technology you can</span> <span data-start="1496.94" data-end="1499.099">make a difference here you know it's at</span> <span data-start="1499.099" data-end="1500.269">the heart of what we're doing and it's a</span> <span data-start="1500.269" data-end="1501.679">heart of what we and I mean all of us</span> <span data-start="1501.679" data-end="1504.469">are kind of doing so I'm not sure that</span> <span data-start="1504.469" data-end="1506.179">the riders of the Web Audio API spit</span> <span data-start="1506.179" data-end="1507.859">kind of envisioned you know filters</span> <span data-start="1507.859" data-end="1510.049">being used for epilepsy diagnoses but it</span> <span data-start="1510.049" data-end="1512.69">is and it's getting done right here so</span> <span data-start="1512.69" data-end="1514.549">take nobody can make a difference but</span> <span data-start="1514.549" data-end="1516.679">it's only when you apply technology in</span> <span data-start="1516.679" data-end="1518.509">the right way that really can so at the</span> <span data-start="1518.509" data-end="1519.769">end of the day it's you know we're the</span> <span data-start="1519.769" data-end="1521.45">ones that making the difference we get</span> <span data-start="1521.45" data-end="1522.71">to choose how this technology is used</span> <span data-start="1522.71" data-end="1524.33">you know we get to choose where I spend</span> <span data-start="1524.33" data-end="1526.519">our time and look look we're not we're</span> <span data-start="1526.519" data-end="1527.809">not all you know volunteering in foreign</span> <span data-start="1527.809" data-end="1529.07">countries are working off for profits</span> <span data-start="1529.07" data-end="1531.379">you know but we can still use the web</span> <span data-start="1531.379" data-end="1532.969">technologies to make a difference in the</span> <span data-start="1532.969" data-end="1535.549">lives of others all right on a bit of a</span> <span data-start="1535.549" data-end="1537.019">lot of note I'd like to leave you with</span> <span data-start="1537.019" data-end="1541.159">one more final demo so perhaps there's a</span> <span data-start="1541.159" data-end="1543.529">question on everyone's mind previously</span> <span data-start="1543.529" data-end="1545.749">we did this we converted brain waves to</span> <span data-start="1545.749" data-end="1549.229">audio back to brain waves but what if we</span> <span data-start="1549.229" data-end="1553.82">did this brain waves to audio let's</span> <span data-start="1553.82" data-end="1556.549">leave it there all right well for the</span> <span data-start="1556.549" data-end="1559.309">first time on on any or at least this</span> <span data-start="1559.309" data-end="1561.259">particular J's comp stage I'd like to</span> <span data-start="1561.259" data-end="1562.94">present to you the the symphony of the</span> <span data-start="1562.94" data-end="1568.2">mind let's see how we go</span> <span data-start="1568.21" data-end="1574.58">you know one house there it is alright</span> </p>
<p><span data-start="1574.58" data-end="1576.26">I've got a super cool enable cool demo</span> <span data-start="1576.26" data-end="1579.37">button here cool demo is enabled</span> <span data-start="1579.37" data-end="1593.18">alright let's begin</span> <span data-start="1593.19" data-end="1594.38">put on the noise</span> <span data-start="1594.38" data-end="1605.74">[Music]</span> <span data-start="1605.75" data-end="1607.86">like an airplane noise now it's very</span> <span data-start="1607.86" data-end="1614.85">peaceful slow just got it down to</span> <span data-start="1614.85" data-end="1629">nothing</span> <span data-start="1629.01" data-end="1633.77">all right there you go</span> </p>
</section>

<!-- div#container ends -->
</div>

<img alt="The End" id="fin" src="../images/fin.jpg">

<script>
/*eslint-disable */
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google-translate');
}
/* eslint-enable */
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="../js/main.js"></script>

</body>

</html>
