<!DOCTYPE html>

<!--
Copyright 2019 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="//google.com">
  <meta name="description" content="web.dev LIVE video transcript">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>3H8pF6yoSgU</title>
  <link rel="stylesheet" href="../css/main.css">
</head>

<body>

<iframe id="youtube" src="https://www.youtube.com/embed/3H8pF6yoSgU?enablejsapi=1"></iframe>

<div id="container">

<div id="options">
  <div id="google-translate"></div>
  <div>
    <input type="checkbox" id="videoSticky" checked>
    <label for="videoSticky">Video position sticky</label>
  </div>
  <div>
    <input type="checkbox" id="captionScroll" checked>
    <label for="captionScroll">Keep current caption visible</label>
  </div>
</div>

<section>
<p><span data-start="5.33" data-end="8.519">thank ball all right so let's talk about</span> <span data-start="8.519" data-end="10.08">a little bit about security today I'll</span> <span data-start="10.08" data-end="12.09">introduce myself first my name is Ron</span> <span data-start="12.09" data-end="14.07">Ptolemy developer advocate at sneakin</span> <span data-start="14.07" data-end="16.5">from Israel I sneak we build developer</span> <span data-start="16.5" data-end="19.08">tooling real for security tooling to</span> <span data-start="19.08" data-end="20.58">help developers and empower them to</span> <span data-start="20.58" data-end="23.01">actually fix security vulnerabilities</span> <span data-start="23.01" data-end="24.269">that they have in their open-source</span> <span data-start="24.269" data-end="26.64">projects I am also actively involved in</span> <span data-start="26.64" data-end="28.68">an OG air security working group to help</span> <span data-start="28.68" data-end="31.17">improve the state of security of no GS</span> <span data-start="31.17" data-end="33.66">and the NPM ecosystem as well and to a</span> <span data-start="33.66" data-end="35.43">lot of other projects like OS node goat</span> <span data-start="35.43" data-end="37.53">and some books I wrote about security if</span> <span data-start="37.53" data-end="38.969">you're interested in any of those and</span> <span data-start="38.969" data-end="40.23">getting involved I'll be happy to help</span> <span data-start="40.23" data-end="41.87">so just ping me on Twitter and we can</span> <span data-start="41.87" data-end="45.27">take it offline so open source is</span> <span data-start="45.27" data-end="47.16">awesome right we're all using virtually</span> <span data-start="47.16" data-end="49.92">everyone is using open source in one way</span> <span data-start="49.92" data-end="51.96">or the other it is a great way for us to</span> <span data-start="51.96" data-end="54.449">go ahead and just focus on the business</span> <span data-start="54.449" data-end="55.98">logic of things that we need to build</span> <span data-start="55.98" data-end="59.07">and reuse what we need what we can from</span> <span data-start="59.07" data-end="61.289">the ecosystem we can also go ahead and</span> <span data-start="61.289" data-end="62.789">contribute back some of us even</span> <span data-start="62.789" data-end="64.26">contribute and create and maintain</span> <span data-start="64.26" data-end="66.689">project which is amazing and they</span> <span data-start="66.689" data-end="67.92">probably don't need to convince you that</span> <span data-start="67.92" data-end="69.96">you probably already know that and true</span> <span data-start="69.96" data-end="72.27">as a testament of that we have seen a</span> <span data-start="72.27" data-end="74.64">lot of growth in all the NPM all the</span> <span data-start="74.64" data-end="76.83">packaged ecosystems of different</span> <span data-start="76.83" data-end="81.18">languages even Java as it seems I don't</span> <span data-start="81.18" data-end="82.799">know if virtual T or not but generally</span> <span data-start="82.799" data-end="85.35">we've seen this growth going up through</span> <span data-start="85.35" data-end="87.72">all of them actually in just 2018</span> <span data-start="87.72" data-end="90.81">yes last year NPM has added 250 K</span> <span data-start="90.81" data-end="93.21">packages to the repository earlier this</span> <span data-start="93.21" data-end="95.579">year in June we already crossed 1</span> <span data-start="95.579" data-end="98.61">million packages on NPM which I probably</span> <span data-start="98.61" data-end="100.71">don't need to tell you that because all</span> <span data-start="100.71" data-end="102.6">of you are pulling half the universe</span> <span data-start="102.6" data-end="106.64">when you're done doing an NPM install so</span> <span data-start="106.64" data-end="109.439">really the question is how much do we</span> <span data-start="109.439" data-end="111.54">know about the NPM dependencies that</span> <span data-start="111.54" data-end="113.52">we're pulling into the project try to do</span> <span data-start="113.52" data-end="115.649">a mental exercise just now yourselves</span> <span data-start="115.649" data-end="117.57">try to imagine your package is on your</span> <span data-start="117.57" data-end="119.85">package manifest how many packages do</span> <span data-start="119.85" data-end="121.439">you know do you recognize those direct</span> <span data-start="121.439" data-end="124.409">dependencies and how many transitive</span> <span data-start="124.409" data-end="126.899">dependencies do you also pull in so</span> <span data-start="126.899" data-end="128.25">there's a lot of dependencies a lot of</span> <span data-start="128.25" data-end="130.5">unknown that we are using in our</span> <span data-start="130.5" data-end="132.69">projects and you know possibly involving</span> <span data-start="132.69" data-end="134.58">some risks</span> <span data-start="134.58" data-end="137.35">an interesting article or a research</span> <span data-start="137.35" data-end="138.64">paper that was actually published</span> <span data-start="138.64" data-end="140.38">earlier this year that I had a chance to</span> <span data-start="140.38" data-end="142.81">read and write about is something that</span> <span data-start="142.81" data-end="144.22">actually compared a Python hacker system</span> <span data-start="144.22" data-end="147.19">with the NPM ecosystem and it found that</span> <span data-start="147.19" data-end="150.79">61% of all NPM packages could be</span> <span data-start="150.79" data-end="153.01">considered abandoned now abandoned is a</span> <span data-start="153.01" data-end="155.02">very open to interpretation you know</span> <span data-start="155.02" data-end="156.64">different people have different opinions</span> <span data-start="156.64" data-end="159.07">on it for the sake of the research what</span> <span data-start="159.07" data-end="161.32">they did is considered any package that</span> <span data-start="161.32" data-end="162.91">didn't have a release in the last 12</span> <span data-start="162.91" data-end="165.7">months is abandoned which is arguable</span> <span data-start="165.7" data-end="166.93">because you could just say that you know</span> <span data-start="166.93" data-end="169.3">the package is well known it's mature</span> <span data-start="169.3" data-end="173.35">it's reached its and state and go except</span> <span data-start="173.35" data-end="175.54">in 2018 some of us may remember the</span> <span data-start="175.54" data-end="178.12">event stream incident probably the most</span> <span data-start="178.12" data-end="179.89">sophisticated attack that we've seen on</span> </p>
<p><span data-start="179.89" data-end="182.77">NPM happening happened to a package</span> <span data-start="182.77" data-end="184.75">called event stream which has been there</span> <span data-start="184.75" data-end="187.03">for almost a decade like eight years did</span> <span data-start="187.03" data-end="188.53">not have any release for the last two or</span> <span data-start="188.53" data-end="190.38">three years depending how you count it</span> <span data-start="190.38" data-end="192.91">but someone was actually able to</span> <span data-start="192.91" data-end="195.04">socially engineer their way into getting</span> <span data-start="195.04" data-end="198.01">into gaining NPM publish permissions to</span> <span data-start="198.01" data-end="200.11">publish a module injected a malicious</span> <span data-start="200.11" data-end="202.33">package in the dependency tree of event</span> <span data-start="202.33" data-end="204.94">stream itself and in this way we're able</span> <span data-start="204.94" data-end="207.19">to steal money from cryptocurrency</span> <span data-start="207.19" data-end="209.86">wallets this actually happened there's a</span> <span data-start="209.86" data-end="211.18">whole post more than one chain events if</span> <span data-start="211.18" data-end="213.37">you're interested in following that as</span> <span data-start="213.37" data-end="215.5">well but also what that research paper</span> <span data-start="215.5" data-end="218.56">actually you know highlighted is an</span> <span data-start="218.56" data-end="221.05">important note about that the dependency</span> <span data-start="221.05" data-end="222.79">tree that we are always pulling in so it</span> <span data-start="222.79" data-end="225.16">actually found that on average we'll be</span> <span data-start="225.16" data-end="228.16">pulling in four and PM packages nested</span> <span data-start="228.16" data-end="229.93">deep in every time we'll go ahead and</span> <span data-start="229.93" data-end="232.72">install and be an NPM package so this</span> <span data-start="232.72" data-end="234.31">actually is you know very interesting in</span> <span data-start="234.31" data-end="236.08">terms of how many packages are we</span> <span data-start="236.08" data-end="237.28">pulling in and what do we know about</span> <span data-start="237.28" data-end="239.049">those packages and all of those nested</span> <span data-start="239.049" data-end="240.489">dependencies in the tree watch go to</span> <span data-start="240.489" data-end="243.43">vulnerabilities they may have so as an</span> <span data-start="243.43" data-end="244.93">example and security vulnerabilities</span> <span data-start="244.93" data-end="246.85">happen all the time we just usually less</span> <span data-start="246.85" data-end="248.38">hear about them as we're less conscious</span> <span data-start="248.38" data-end="250.18">on this but where do we go with yawn</span> <span data-start="250.18" data-end="254.53">yawn is popular NPM package manager it</span> <span data-start="254.53" data-end="256.45">was it was found to be vulnerable to a</span> <span data-start="256.45" data-end="258.28">man-in-the-middle attack so for example</span> <span data-start="258.28" data-end="259.84">if you were here on the workshop or in a</span> <span data-start="259.84" data-end="261.789">coffee shop you are using a you were</span> <span data-start="261.789" data-end="263.59">doing a yarn install someone could</span> <span data-start="263.59" data-end="265.36">actually eavesdrop the connection and</span> <span data-start="265.36" data-end="267.43">get the NPM tokens that you were</span> <span data-start="267.43" data-end="269.74">sending off to to npm itself because</span> <span data-start="269.74" data-end="272.229">that was sent off on an insecure medium</span> <span data-start="272.229" data-end="274.93">so not on an HTTP so that's that's one</span> <span data-start="274.93" data-end="277.24">and I could probably do a safe a safe</span> <span data-start="277.24" data-end="279.01">estimation and guess that no one is</span> <span data-start="279.01" data-end="280.99">using this latest version of yarn that</span> <span data-start="280.99" data-end="282.81">was just released a few months ago</span> <span data-start="282.81" data-end="285.16">another example is markdown marked down</span> <span data-start="285.16" data-end="287.65">for j6 this package is actually pretty</span> <span data-start="287.65" data-end="289.75">popular it's used for a storybook UI in</span> <span data-start="289.75" data-end="292.27">several gatsby teams obviously in</span> <span data-start="292.27" data-end="295.21">several UJ s and n react.js components</span> <span data-start="295.21" data-end="297.16">as well and it is also vulnerable to</span> <span data-start="297.16" data-end="298.96">some XSS vulnerabilities which were</span> <span data-start="298.96" data-end="302.35">again only recently fixed sequel is</span> <span data-start="302.35" data-end="304.09">another even more the most up-to-date</span> <span data-start="304.09" data-end="307.63">example of an SQL injection SQL</span> <span data-start="307.63" data-end="309.46">abstraction library that is usually</span> <span data-start="309.46" data-end="312.55">popularly used on OJ's project actually</span> <span data-start="312.55" data-end="314.289">was found to be vulnerable to several</span> </p>
<p><span data-start="314.289" data-end="316.69">SQL injections and was just fixed last</span> <span data-start="316.69" data-end="318.76">month so if you know that one of your</span> <span data-start="318.76" data-end="320.05">teams is using that you should probably</span> <span data-start="320.05" data-end="321.43">scan and make sure that you're fixing it</span> <span data-start="321.43" data-end="325.27">and upgrading very quickly now this</span> <span data-start="325.27" data-end="326.979">means that a lot of open open source is</span> <span data-start="326.979" data-end="328.419">amazing and it's written by humans but</span> <span data-start="328.419" data-end="330.31">you know as we come to think about all</span> <span data-start="330.31" data-end="333.13">of this risk we come to also understand</span> <span data-start="333.13" data-end="335.02">and realize that we do not know who</span> <span data-start="335.02" data-end="336.22">wrote them and you know what is their</span> <span data-start="336.22" data-end="338.08">proficiency what is going on with those</span> <span data-start="338.08" data-end="340.06">packages for example we actually</span> <span data-start="340.06" data-end="341.349">conducted a state of open source</span> <span data-start="341.349" data-end="343.599">security in February 2019</span> <span data-start="343.599" data-end="345.25">we found a lot of interesting fact for</span> <span data-start="345.25" data-end="346.96">example this one where maintainer x'</span> <span data-start="346.96" data-end="349.419">would feel less confident in fixing</span> <span data-start="349.419" data-end="351.13">security issues once they are disclosed</span> <span data-start="351.13" data-end="353.229">because they do not think that they have</span> <span data-start="353.229" data-end="354.639">a strong enough security knowledge to</span> <span data-start="354.639" data-end="356.44">actually fix that and do something about</span> <span data-start="356.44" data-end="358.74">it similar to that for example</span> <span data-start="358.74" data-end="362.02">maintainer is usually or a 26% of the</span> <span data-start="362.02" data-end="363.88">time will not add a to their packages</span> <span data-start="363.88" data-end="366.07">they will not have any such kind of</span> <span data-start="366.07" data-end="367.9">security testing that static application</span> <span data-start="367.9" data-end="369.43">dynamic application security testing not</span> <span data-start="369.43" data-end="372.07">even a security code review so imagine</span> <span data-start="372.07" data-end="373.87">your projects although dependencies</span> <span data-start="373.87" data-end="376.12">count one out of four that did not go</span> <span data-start="376.12" data-end="378.099">any kind of security test now that</span> <span data-start="378.099" data-end="379.93">pretty is pretty easy to do an hour on a</span> <span data-start="379.93" data-end="381.28">direct dependency but just think about</span> <span data-start="381.28" data-end="382.69">how all of those are indirect</span> <span data-start="382.69" data-end="383.949">dependencies that you're pulling in as</span> <span data-start="383.949" data-end="387.669">well so as we come to talk about you</span> <span data-start="387.669" data-end="389.5">know the code that we have and how much</span> <span data-start="389.5" data-end="391.09">we rely on open source it's a it's a</span> <span data-start="391.09" data-end="393.4">simple app I built based on vgs and a UI</span> <span data-start="393.4" data-end="394.75">framework called Bouma so it doesn't</span> <span data-start="394.75" data-end="396.55">have a lot of dependencies but you can</span> <span data-start="396.55" data-end="398.02">already see that what a code is</span> <span data-start="398.02" data-end="399.49">generated from my app and from the</span> <span data-start="399.49" data-end="400.81">bundle of all the vendors</span> <span data-start="400.81" data-end="402.37">that you know I'm actually dependent</span> <span data-start="402.37" data-end="405.15">upon you know it's only represents 0.2%</span> <span data-start="405.15" data-end="407.68">my code through the whole app and I</span> <span data-start="407.68" data-end="409.27">think this is the most thing that you</span> <span data-start="409.27" data-end="411.34">know struck lightning in terms of being</span> <span data-start="411.34" data-end="413.71">able to understand and realize how much</span> <span data-start="413.71" data-end="415.419">we're using open-source because this is</span> <span data-start="415.419" data-end="417.04">a common misconception for me as a</span> <span data-start="417.04" data-end="419.139">developer were I'm building code pushing</span> <span data-start="419.139" data-end="421.48">it to production and you know this is my</span> <span data-start="421.48" data-end="424.6">app except my app is actually you know</span> <span data-start="424.6" data-end="427.12">it is that but my code what I write you</span> <span data-start="427.12" data-end="428.68">know my own responsibility is actually a</span> <span data-start="428.68" data-end="431.29">very small piece or that whole thing and</span> <span data-start="431.29" data-end="432.49">when I'm pushing this whole thing I'm</span> <span data-start="432.49" data-end="434.05">pushing a lot of code into production a</span> <span data-start="434.05" data-end="435.79">lot of risk that you know other people</span> <span data-start="435.79" data-end="438.76">would usually catch such as DevOps and</span> <span data-start="438.76" data-end="439.93">security engineers and figure out that</span> <span data-start="439.93" data-end="441.04">there's a lot of risk that I'm actually</span> <span data-start="441.04" data-end="444.85">pushing in so at this point I guess some</span> <span data-start="444.85" data-end="446.29">of us are wondering you know we're</span> <span data-start="446.29" data-end="447.52">talking about security vulnerabilities</span> <span data-start="447.52" data-end="449.53">in open-source libraries and how much</span> <span data-start="449.53" data-end="452.53">are we dependent upon so how do we jump</span> <span data-start="452.53" data-end="453.97">from a security vulnerability in a</span> <span data-start="453.97" data-end="456.58">package in a dependency that we're using</span> <span data-start="456.58" data-end="458.05">to a security vulnerability in our</span> <span data-start="458.05" data-end="459.94">application it actually puts it into</span> <span data-start="459.94" data-end="467.26">risk so let's go ahead and go to the</span> <span data-start="467.26" data-end="468.82">hands-on part of this of this</span> <span data-start="468.82" data-end="475.03">presentation so over here I have a</span> <span data-start="475.03" data-end="477.729">simple goof to do application you can do</span> <span data-start="477.729" data-end="482.8">things like I'm pretty nervous here and</span> <span data-start="482.8" data-end="484.419">it's basically a to-do app that I can</span> <span data-start="484.419" data-end="486.28">just add some stuff into it as the</span> <span data-start="486.28" data-end="488.26">security conscious developer you might</span> <span data-start="488.26" data-end="490.33">start already to think about how you</span> <span data-start="490.33" data-end="491.889">could go ahead and you know attack this</span> <span data-start="491.889" data-end="493.96">one so it has an SQL injection input</span> <span data-start="493.96" data-end="495.91">maybe I can do something around it maybe</span> </p>
<p><span data-start="495.91" data-end="498.82">I can do an exercise several things</span> <span data-start="498.82" data-end="500.8">right so maybe I would go ahead and add</span> <span data-start="500.8" data-end="503.65">something like that maybe it works maybe</span> <span data-start="503.65" data-end="505.78">it doesn't work I don't think that we</span> <span data-start="505.78" data-end="507.729">should know about this is I've built</span> <span data-start="507.729" data-end="510.669">this using marked so marked I'll go</span> <span data-start="510.669" data-end="513">ahead and increase that so you can see</span> <span data-start="513" data-end="516.45">mark is a fairly popular as well package</span> <span data-start="516.45" data-end="519.61">for doing work down one example of</span> <span data-start="519.61" data-end="521.32">understanding security and being aware</span> <span data-start="521.32" data-end="523.659">of this is this is a bad example of it</span> <span data-start="523.659" data-end="525.88">in terms of you need to opt in to</span> <span data-start="525.88" data-end="528.61">security right to sanitize the data</span> <span data-start="528.61" data-end="530.98">that's coming in when you use it so it's</span> <span data-start="530.98" data-end="532.209">not turned on by default you actually</span> <span data-start="532.209" data-end="534.13">need to know to do that so as a</span> <span data-start="534.13" data-end="535.12">developer if you</span> <span data-start="535.12" data-end="536.23">if you're reading this you have to like</span> <span data-start="536.23" data-end="537.91">understand the API is read I need</span> <span data-start="537.91" data-end="539.23">security disclosure and then then turn</span> <span data-start="539.23" data-end="542.5">it on so we have marked her and I have</span> <span data-start="542.5" data-end="543.76">marked down support so I can go ahead</span> <span data-start="543.76" data-end="546.1">and do stuff and actually scan this up</span> <span data-start="546.1" data-end="548.71">with weed snake and I can see that you</span> <span data-start="548.71" data-end="550.75">know I have I am vulnerable to</span> <span data-start="550.75" data-end="552.82">cross-site scripting right and I'm part</span> <span data-start="552.82" data-end="555.88">of like 448 libraries that I have read</span> <span data-start="555.88" data-end="557.79">so again like how what could I do next</span> <span data-start="557.79" data-end="561.4">to go ahead and cause maybe an XSS as of</span> <span data-start="561.4" data-end="563.529">sin how about if we try a different</span> <span data-start="563.529" data-end="565.3">vector we know that there is markdown so</span> </p>
<p><span data-start="565.3" data-end="570.88">I can do like this and get something</span> <span data-start="570.88" data-end="572.62">bold but then I also have this vector of</span> <span data-start="572.62" data-end="574.81">attack where I can add things so imagine</span> <span data-start="574.81" data-end="576.46">someone adding a JavaScript link into</span> <span data-start="576.46" data-end="583.519">this so maybe something like this</span> <span data-start="583.529" data-end="585.91">right and then we have links so now I</span> <span data-start="585.91" data-end="588.31">can go ahead and take this one step</span> <span data-start="588.31" data-end="594.58">further and perhaps I want to change</span> <span data-start="594.58" data-end="596.52">this with something else</span> <span data-start="596.52" data-end="600.31">this is a good way to start except it</span> <span data-start="600.31" data-end="602.8">doesn't work because markdown is</span> <span data-start="602.8" data-end="604.48">actually sanitizing it as we actually</span> <span data-start="604.48" data-end="606.76">provided it so it's doing something with</span> <span data-start="606.76" data-end="608.32">the data just you know we're not yet</span> <span data-start="608.32" data-end="612.91">there one thing that is common is to go</span> <span data-start="612.91" data-end="615.04">ahead and represent data in a different</span> <span data-start="615.04" data-end="617.92">way so we can go ahead and say : on a on</span> <span data-start="617.92" data-end="619.48">a web page could represent that by the</span> </p>
<p><span data-start="619.48" data-end="621.4">HTML entity for that so we could go</span> <span data-start="621.4" data-end="629.25">ahead and do something like this</span> <span data-start="629.25" data-end="633.4">represent this as well and do it and the</span> <span data-start="633.4" data-end="634.69">way that I know this I do not need to</span> <span data-start="634.69" data-end="636.13">reverse engineer something that is you</span> <span data-start="636.13" data-end="637.54">know very difficult because markdown is</span> <span data-start="637.54" data-end="638.77">open source I can just go to the</span> <span data-start="638.77" data-end="641.2">repository figure out what sanitize true</span> <span data-start="641.2" data-end="643.18">does and just reverse engineer that so</span> <span data-start="643.18" data-end="645.459">it's pretty easy to figure this out so I</span> <span data-start="645.459" data-end="646.75">can do this I can already see that</span> <span data-start="646.75" data-end="649.06">something different is happening so</span> <span data-start="649.06" data-end="650.41">perhaps I'm on the right path</span> <span data-start="650.41" data-end="653.41">and at this point again I can go into</span> <span data-start="653.41" data-end="655.15">markdown source code and figure out why</span> <span data-start="655.15" data-end="656.74">did these get sanitized in a different</span> <span data-start="656.74" data-end="657.13">way</span> <span data-start="657.13" data-end="662.44">the true it is the sanitization process</span> <span data-start="662.44" data-end="664.089">in marked work this way that it actually</span> <span data-start="664.089" data-end="666.79">rejects as disco part of the string so</span> <span data-start="666.79" data-end="668.889">it actually looks for this kind of code</span> <span data-start="668.889" data-end="671.17">strips this out so while I'm trying to</span> <span data-start="671.17" data-end="674.049">be outsmarting it it is actually someone</span> <span data-start="674.049" data-end="676.299">as a developer that wrote it was able to</span> <span data-start="676.299" data-end="678.509">actually think about this vector as well</span> <span data-start="678.509" data-end="681.48">what they hadn't took into account is</span> <span data-start="681.48" data-end="684.249">something that that happens in the</span> <span data-start="684.249" data-end="686.529">browser and that is router are usually</span> <span data-start="686.529" data-end="688.809">very nice in terms of they help us to if</span> <span data-start="688.809" data-end="691.029">we write like bad code but you know</span> <span data-start="691.029" data-end="692.589">broken divs or brought off forgotten</span> <span data-start="692.589" data-end="693.73">deals or stuff like that they would go</span> <span data-start="693.73" data-end="696.309">ahead and complete that so if I would</span> <span data-start="696.309" data-end="698.799">just write something like this like</span> <span data-start="698.799" data-end="700.509">literally this I know it's hard in</span> </p>
<p><span data-start="700.509" data-end="703.209">JavaScript bear with me but if I her if</span> <span data-start="703.209" data-end="705.999">I put a valid JavaScript statement like</span> <span data-start="705.999" data-end="708.399">this as a keyword it will go ahead and</span> <span data-start="708.399" data-end="710.169">pass the sanitization process by marked</span> <span data-start="710.169" data-end="713.819">because marked does not look for this it</span> <span data-start="713.819" data-end="716.47">looks for a specific string as someone</span> <span data-start="716.47" data-end="718.48">trying to hack this out so when I do</span> <span data-start="718.48" data-end="721.899">this I get this link actually working</span> <span data-start="721.899" data-end="724.449">and what the browser does is it says</span> <span data-start="724.449" data-end="728.319">well I think you meant to end that a 58</span> <span data-start="728.319" data-end="730.839">character with a with a semicolon so let</span> <span data-start="730.839" data-end="732.699">me do that for you it adds it and</span> <span data-start="732.699" data-end="734.22">because this is a valid JavaScript</span> <span data-start="734.22" data-end="737.379">statement the whole thing gets validated</span> <span data-start="737.379" data-end="739.149">as far as well and we have an XSS in our</span> <span data-start="739.149" data-end="744.129">application so one example of dust of</span> <span data-start="744.129" data-end="746.439">that is this we can go ahead and figure</span> <span data-start="746.439" data-end="750.949">out some other examples for example I</span> <span data-start="750.959" data-end="754.329">have this about page which is based on</span> <span data-start="754.329" data-end="755.86">so this is I'm not doing anything</span> <span data-start="755.86" data-end="757.569">dynamically I'm actually using a</span> <span data-start="757.569" data-end="760.329">template engine for nodejs called dust</span> </p>
<p><span data-start="760.329" data-end="762.459">J's developed by LinkedIn for a</span> <span data-start="762.459" data-end="763.929">framework called cracker and it's</span> <span data-start="763.929" data-end="765.549">actually pretty secure project etc but</span> <span data-start="765.549" data-end="768.61">bit of an oldie reference here anyway</span> <span data-start="768.61" data-end="770.619">what I have is an about page on this app</span> <span data-start="770.619" data-end="774.399">and you can see how I'm like really</span> <span data-start="774.399" data-end="776.169">great at CSS because I have this skill</span> <span data-start="776.169" data-end="783.309">to make it big make it alright so let's</span> <span data-start="783.309" data-end="786.519">go back to this so it is a mobile first</span> <span data-start="786.519" data-end="787.6">application you can see it actually</span> <span data-start="787.6" data-end="791.23">responds reactivate to what I do and at</span> <span data-start="791.23" data-end="792.789">this point again I'm trying to figure</span> <span data-start="792.789" data-end="794.379">out what can I do with us as a</span> <span data-start="794.379" data-end="798.419">templating engine on this application so</span> <span data-start="798.419" data-end="801.73">give you a bit more context into what's</span> <span data-start="801.73" data-end="802.72">going on</span> <span data-start="802.72" data-end="808.42">no this is a template for it right about</span> <span data-start="808.42" data-end="810.61">you it has the test extension I have</span> <span data-start="810.61" data-end="812.11">this condition where if something is a</span> <span data-start="812.11" data-end="814.54">device equals the desktop or mobile it's</span> <span data-start="814.54" data-end="817.03">gonna run through one of those branching</span> <span data-start="817.03" data-end="819.76">statements in my conditions and draw it</span> <span data-start="819.76" data-end="822.37">draw the draw the HTML for this so</span> <span data-start="822.37" data-end="823.72">pretty straightforward but the question</span> <span data-start="823.72" data-end="826.54">is what we can do with this if we were</span> <span data-start="826.54" data-end="829.99">to figure out what is what is that's</span> <span data-start="829.99" data-end="831.58">viable for you know if you would scan</span> <span data-start="831.58" data-end="832.93">your app you could scan it with whatever</span> <span data-start="832.93" data-end="835.15">you want sneak or NPM audit or OS</span> <span data-start="835.15" data-end="836.35">dependency check doesn't really matter</span> <span data-start="836.35" data-end="837.85">but you would find something like this</span> <span data-start="837.85" data-end="839.32">like dust is vulnerable to a code</span> <span data-start="839.32" data-end="841.27">injection what does it mean a code</span> <span data-start="841.27" data-end="842.5">injection how does that really happen</span> <span data-start="842.5" data-end="844.93">how does that impact from a library to</span> <span data-start="844.93" data-end="851">my own application so the thing is</span> <span data-start="851.01" data-end="853.21">there's a user input here so we can go</span> <span data-start="853.21" data-end="855.16">ahead and start and doing something with</span> <span data-start="855.16" data-end="857.32">it and for example I can go ahead and</span> <span data-start="857.32" data-end="860.83">put maybe a quote because maybe I'm</span> <span data-start="860.83" data-end="862.51">trying to escape this whole quote</span> <span data-start="862.51" data-end="863.98">condition and do something with this</span> <span data-start="863.98" data-end="866.83">part of the code maybe I would do</span> <span data-start="866.83" data-end="868.75">something like this except that seems to</span> <span data-start="868.75" data-end="870.46">be okay dust it's probably behind the</span> <span data-start="870.46" data-end="872.29">scenes and coding it doing it properly</span> <span data-start="872.29" data-end="880.99">etc and we can actually see that dust</span> <span data-start="880.99" data-end="884.65">has this escape HTML part of the code so</span> <span data-start="884.65" data-end="887.44">it's actually taking a string trying to</span> <span data-start="887.44" data-end="888.91">see if there's anything malicious that</span> <span data-start="888.91" data-end="890.29">should be encoded you know something</span> <span data-start="890.29" data-end="891.46">dangerous that should go trying to</span> <span data-start="891.46" data-end="893.14">encoding and then it's going to go and</span> <span data-start="893.14" data-end="894.58">encode it so it's gonna replace it with</span> <span data-start="894.58" data-end="896.71">the HTML entity for it and this way try</span> <span data-start="896.71" data-end="899.44">and you know not use the original quote</span> <span data-start="899.44" data-end="901.06">or whatever fragment or I was trying to</span> <span data-start="901.06" data-end="904.75">do to circumvent the app this is great</span> <span data-start="904.75" data-end="908.08">except it is actually only going into</span> <span data-start="908.08" data-end="909.97">this safe condition when I'm giving it a</span> <span data-start="909.97" data-end="912.79">string at this point is it too</span> <span data-start="912.79" data-end="914.62">interesting to figure out how do i hack</span> <span data-start="914.62" data-end="917.2">through that and do not give it a string</span> <span data-start="917.2" data-end="918.88">because I need to put something else but</span> <span data-start="918.88" data-end="920.74">to bypass this part which is not a</span> <span data-start="920.74" data-end="924.46">string so one example one way to do that</span> <span data-start="924.46" data-end="929.38">is to think about array parameters for</span> <span data-start="929.38" data-end="930.97">the way that you could go ahead and do</span> <span data-start="930.97" data-end="933.46">our request poisoning like this with an</span> </p>
<p><span data-start="933.46" data-end="935.11">HTTP parameter pollution and you would</span> <span data-start="935.11" data-end="935.42">say</span> <span data-start="935.42" data-end="938.12">Desktop is now actually an array this is</span> <span data-start="938.12" data-end="939.77">very common where you have like end user</span> </p>
<p><span data-start="939.77" data-end="942.02">ID equals something and use ready equals</span> <span data-start="942.02" data-end="943.1">something and you want to pass an array</span> <span data-start="943.1" data-end="945.53">to a request parameter or you can also</span> <span data-start="945.53" data-end="948.13">use the bracket notation to go ahead and</span> <span data-start="948.13" data-end="951.02">convey the same the same in terms as you</span> <span data-start="951.02" data-end="953.09">can see when I'm doing that this</span> <span data-start="953.09" data-end="956.21">continues to work just fine because when</span> <span data-start="956.21" data-end="964.22">the evaluation happens over here over</span> <span data-start="964.22" data-end="966.59">here I'm just go ahead going ahead and</span> <span data-start="966.59" data-end="968.18">doing a two string for an array that's</span> <span data-start="968.18" data-end="971.63">gonna give me the first item under so it</span> <span data-start="971.63" data-end="972.98">seems that the app is actually working</span> <span data-start="972.98" data-end="976.61">well but what's interesting is if I go</span> <span data-start="976.61" data-end="978.65">ahead and try to put a quote or</span> <span data-start="978.65" data-end="982.1">something fails and we can already see</span> <span data-start="982.1" data-end="984.29">what's going on so to understand a</span> <span data-start="984.29" data-end="986.12">little bit better what what is actually</span> <span data-start="986.12" data-end="987.53">going on behind the hood with the</span> <span data-start="987.53" data-end="990.76">security issue is this if condition is</span> <span data-start="990.76" data-end="993.86">actually something that gets evaluated</span> <span data-start="993.86" data-end="995.39">through runtime because this is</span> <span data-start="995.39" data-end="997.52">generally how the template engines work</span> <span data-start="997.52" data-end="1000.94">and dust has this helper were for if</span> <span data-start="1000.94" data-end="1002.95">it's going to go take that condition and</span> <span data-start="1002.95" data-end="1007.33">evaluates it so knowing this I can go</span> <span data-start="1007.33" data-end="1008.47">ahead and figure out well if that</span> <span data-start="1008.47" data-end="1010.18">condition works maybe I can provide a</span> <span data-start="1010.18" data-end="1014.68">specific string to do something let's</span> <span data-start="1014.68" data-end="1021.04">try to run a commander so we're at a</span> <span data-start="1021.04" data-end="1029.2">request</span> <span data-start="1029.21" data-end="1030.99">probably a life so we can do this</span> <span data-start="1030.99" data-end="1033.87">together and I'm gonna go and see that</span> <span data-start="1033.87" data-end="1036.48">everything is okay I will add a quote</span> <span data-start="1036.48" data-end="1040.2">see that everything is okay again I'm</span> <span data-start="1040.2" data-end="1043.74">gonna go and add this to do the whole</span> <span data-start="1043.74" data-end="1045.21">thing and reproduce the whole bag and</span> <span data-start="1045.21" data-end="1046.47">you know now I have a working example I</span> <span data-start="1046.47" data-end="1049.74">can actually work with and this is where</span> <span data-start="1049.74" data-end="1051.63">the fun begins right because we know</span> <span data-start="1051.63" data-end="1054.03">it's an evaluation statement so it is a</span> <span data-start="1054.03" data-end="1056.66">simple for me as doing something like</span> <span data-start="1056.66" data-end="1063.97">sorry note and then evaluating desktop</span> <span data-start="1063.98" data-end="1067.5">equals desktop for example it's gonna be</span> <span data-start="1067.5" data-end="1069.48">true but now that I know that I have a</span> <span data-start="1069.48" data-end="1071.07">way to inject data there that is not</span> <span data-start="1071.07" data-end="1073.86">being treated in any others a safe way I</span> <span data-start="1073.86" data-end="1078.07">can go ahead and do something like this</span> <span data-start="1078.08" data-end="1080.52">which is trying to evaluate an</span> <span data-start="1080.52" data-end="1082.62">expression for a place that expects a</span> <span data-start="1082.62" data-end="1085.05">value so as I do this I don't really</span> <span data-start="1085.05" data-end="1086.64">care about whether that's false or true</span> </p>
<p><span data-start="1086.64" data-end="1087.96">I care about the fact that I was</span> <span data-start="1087.96" data-end="1089.57">actually able to invoke a function</span> <span data-start="1089.57" data-end="1095.7">through this evil statement so going</span> <span data-start="1095.7" data-end="1100.71">back to a request I can do something</span> <span data-start="1100.71" data-end="1104.61">similar and I will make this a bit</span> <span data-start="1104.61" data-end="1106.44">bigger so you could see I was able to go</span> <span data-start="1106.44" data-end="1108.54">ahead and put on the server side a</span> <span data-start="1108.54" data-end="1110.43">function expression write a function</span> <span data-start="1110.43" data-end="1112.53">invocation that actually did a console</span> <span data-start="1112.53" data-end="1115.02">log so remove the code injection now</span> <span data-start="1115.02" data-end="1116.49">this is just for the example right just</span> <span data-start="1116.49" data-end="1118.5">for us to be very fast in this example</span> <span data-start="1118.5" data-end="1120.3">in the demo but imagine what I could do</span> <span data-start="1120.3" data-end="1122.55">here just require process child process</span> <span data-start="1122.55" data-end="1124.56">invoke something that I want to get from</span> <span data-start="1124.56" data-end="1126.39">your application or anything else all of</span> <span data-start="1126.39" data-end="1129.12">this is done through dust if this page</span> <span data-start="1129.12" data-end="1130.8">was not even authorized you know</span> <span data-start="1130.8" data-end="1132.42">anonymous it means everyone are able to</span> <span data-start="1132.42" data-end="1134.19">do this so it's kind of a remote code</span> <span data-start="1134.19" data-end="1142.71">injection so we're talking about all</span> <span data-start="1142.71" data-end="1144.12">these examples with open source</span> <span data-start="1144.12" data-end="1146.79">libraries and and how much you know how</span> <span data-start="1146.79" data-end="1148.05">much they affect us and what's the risk</span> <span data-start="1148.05" data-end="1149.88">that we have in them and the thing is</span> <span data-start="1149.88" data-end="1151.68">for attackers that's a really easy way</span> <span data-start="1151.68" data-end="1153.45">to do it because it's easy to think</span> <span data-start="1153.45" data-end="1155.16">about attackers and you know hackers as</span> <span data-start="1155.16" data-end="1156.66">those with hoodies</span> <span data-start="1156.66" data-end="1158.19">you know worrying that trying to hide</span> <span data-start="1158.19" data-end="1159.36">the Pentagon or something else but</span> <span data-start="1159.36" data-end="1161.1">mostly like the easy for the low-hanging</span> <span data-start="1161.1" data-end="1162.72">fruits the easy stuff that they can do</span> <span data-start="1162.72" data-end="1164.25">is just figure out all of those</span> <span data-start="1164.25" data-end="1165.87">non-public vulnerabilities that you know</span> <span data-start="1165.87" data-end="1167.34">everyone know about it's publicly known</span> <span data-start="1167.34" data-end="1169.47">but people are really late in terms of</span> <span data-start="1169.47" data-end="1170.91">patching and keeping up to date with</span> <span data-start="1170.91" data-end="1173.1">them so one vulnerability that they find</span> <span data-start="1173.1" data-end="1175.74">in an ecosystem like NPM for example</span> <span data-start="1175.74" data-end="1177.45">will mean many victims because everyone</span> <span data-start="1177.45" data-end="1179.07">are using open-source you know millions</span> <span data-start="1179.07" data-end="1180.6">of downloads for its press sample our</span> <span data-start="1180.6" data-end="1182.34">react whatever vulnerability that they</span> <span data-start="1182.34" data-end="1185.13">find and apps act is pretty hard right</span> <span data-start="1185.13" data-end="1186.75">that's one example of it and there's so</span> <span data-start="1186.75" data-end="1188.73">many things that need to happen in a</span> <span data-start="1188.73" data-end="1190.94">secure application development lifecycle</span> <span data-start="1190.94" data-end="1193.35">just one example but what's really</span> <span data-start="1193.35" data-end="1195.54">challenging is software delivery has</span> <span data-start="1195.54" data-end="1197.73">sped up it is really fast everyone</span> <span data-start="1197.73" data-end="1199.11">trying to be really mature in terms of</span> </p>
<p><span data-start="1199.11" data-end="1201.6">CI CD pushing value pushing data out</span> <span data-start="1201.6" data-end="1205.02">pushing code out etc but do we forget do</span> <span data-start="1205.02" data-end="1206.76">we do we actually do to actually embed</span> <span data-start="1206.76" data-end="1208.14">security testing in part of our</span> <span data-start="1208.14" data-end="1209.7">application in what would and what we</span> <span data-start="1209.7" data-end="1211.47">develop and what we push out do we have</span> <span data-start="1211.47" data-end="1212.88">this confidence that everything we push</span> <span data-start="1212.88" data-end="1215.13">out is really tested very well and does</span> <span data-start="1215.13" data-end="1216.27">not have any kind of security</span> <span data-start="1216.27" data-end="1220.14">vulnerabilities like this we're also</span> <span data-start="1220.14" data-end="1222.75">outnumbered in organizations right in</span> <span data-start="1222.75" data-end="1224.49">organizations the ratio that like</span> </p>
<p><span data-start="1224.49" data-end="1227.22">Gartner report was was saying is one</span> <span data-start="1227.22" data-end="1228.75">security person for 100 developers</span> <span data-start="1228.75" data-end="1232.17">that's actually a good example of it</span> <span data-start="1232.17" data-end="1233.61">because in most organization it's</span> <span data-start="1233.61" data-end="1236.49">actually pretty worse than that how</span> <span data-start="1236.49" data-end="1238.23">about the fact that as developers we do</span> <span data-start="1238.23" data-end="1241.47">not really get any knowledge or any</span> <span data-start="1241.47" data-end="1243.78">experimental experience or expertise on</span> <span data-start="1243.78" data-end="1246">security for example these are the top</span> <span data-start="1246" data-end="1247.92">computer science programs in the United</span> </p>
<p><span data-start="1247.92" data-end="1250.11">States of America I imagine that you're</span> <span data-start="1250.11" data-end="1252.96">able to recognize some of them I</span> <span data-start="1252.96" data-end="1256.14">filtered at least to show all those that</span> <span data-start="1256.14" data-end="1257.79">actually have a requirement for a</span> <span data-start="1257.79" data-end="1262.11">software security course yep</span> <span data-start="1262.11" data-end="1264.81">so no wonder that you know as developers</span> <span data-start="1264.81" data-end="1266.43">we sometimes feel that we do not have</span> <span data-start="1266.43" data-end="1268.44">that that knowledge then that gap that</span> <span data-start="1268.44" data-end="1270.36">exists for us to build applications that</span> <span data-start="1270.36" data-end="1271.49">are secure</span> <span data-start="1271.49" data-end="1274.41">how how equipped do we fill in terms of</span> <span data-start="1274.41" data-end="1276.03">not just finding but actually fixing a</span> <span data-start="1276.03" data-end="1278.07">vulnerability actually being able to</span> <span data-start="1278.07" data-end="1279.48">remediate it but because at the end of</span> <span data-start="1279.48" data-end="1281.58">the day it is our responsibility and</span> <span data-start="1281.58" data-end="1283.59">it's great that it is like that open</span> <span data-start="1283.59" data-end="1284.79">source is awesome we just need to do it</span> <span data-start="1284.79" data-end="1288.39">in a very good way it is not so easy to</span> <span data-start="1288.39" data-end="1290.55">fix of vulnerability and another thing</span> <span data-start="1290.55" data-end="1291.84">that we learned from that state of open</span> <span data-start="1291.84" data-end="1293.94">source security report is as we looked</span> <span data-start="1293.94" data-end="1295.98">at the data that sneak has on all of its</span> <span data-start="1295.98" data-end="1297.57">users we just can't package manifest</span> <span data-start="1297.57" data-end="1298.83">file so we really care just about the</span> <span data-start="1298.83" data-end="1300.81">dependency that you're using and what we</span> <span data-start="1300.81" data-end="1303.72">try to pull it out is how does that work</span> <span data-start="1303.72" data-end="1305.37">in terms of different ecosystems like</span> <span data-start="1305.37" data-end="1306.39">where do we find security</span> <span data-start="1306.39" data-end="1308.61">vulnerabilities so for NPM for example</span> <span data-start="1308.61" data-end="1311.49">you can see that 78% of the time we will</span> <span data-start="1311.49" data-end="1313.23">find security vulnerabilities in</span> <span data-start="1313.23" data-end="1315.45">transitive dependencies so even if</span> <span data-start="1315.45" data-end="1317.19">you're like a conscious developer and</span> <span data-start="1317.19" data-end="1319.23">very responsible and you track all the</span> <span data-start="1319.23" data-end="1321.54">change logs for no reactive you whatever</span> <span data-start="1321.54" data-end="1323.79">it is and you go through each code</span> <span data-start="1323.79" data-end="1326.16">change one by one most of the time we'll</span> <span data-start="1326.16" data-end="1328.05">find the issues in the vulnerabilities</span> <span data-start="1328.05" data-end="1330.72">that those dependencies pull in and the</span> <span data-start="1330.72" data-end="1335.22">problems that exist err so what if</span> <span data-start="1335.22" data-end="1336.69">security was a bit easier right what if</span> <span data-start="1336.69" data-end="1338.58">it was something that is actionable that</span> <span data-start="1338.58" data-end="1340.35">is really friendly for me to interact</span> <span data-start="1340.35" data-end="1343.35">with that I as a developer it is aligned</span> <span data-start="1343.35" data-end="1344.91">with the way that I work it's not a</span> <span data-start="1344.91" data-end="1347.04">security system that I need to log into</span> <span data-start="1347.04" data-end="1349.19">and find out about all of these things</span> <span data-start="1349.19" data-end="1351.81">what if for example the same way that</span> <span data-start="1351.81" data-end="1354.45">you have a Travis or a circle CIO code</span> <span data-start="1354.45" data-end="1356.04">coverage running in your in your you</span> <span data-start="1356.04" data-end="1358.62">know pull request you would have another</span> <span data-start="1358.62" data-end="1359.94">test and you can you can replace</span> <span data-start="1359.94" data-end="1361.14">sneakier with anything else that you</span> <span data-start="1361.14" data-end="1362.97">want generally but what if you had if</span> <span data-start="1362.97" data-end="1364.5">you add that right what if a new</span> <span data-start="1364.5" data-end="1367.08">developer was now introducing a security</span> </p>
<p><span data-start="1367.08" data-end="1368.73">Vaughn a package that has security</span> <span data-start="1368.73" data-end="1370.53">vulnerabilities whether on it or it's</span> <span data-start="1370.53" data-end="1372.15">transitive dependency you would go ahead</span> <span data-start="1372.15" data-end="1373.38">and fill the build because you already</span> <span data-start="1373.38" data-end="1374.88">detected it right there you do not need</span> <span data-start="1374.88" data-end="1376.92">to find it as you go to production and</span> <span data-start="1376.92" data-end="1380.04">find it you know a few months later what</span> <span data-start="1380.04" data-end="1381.84">if that security tooling was really</span> <span data-start="1381.84" data-end="1384.45">really good in terms of not just opening</span> <span data-start="1384.45" data-end="1386.1">a pull request for you and fixing it</span> <span data-start="1386.1" data-end="1387.84">which is a great step and doing that but</span> <span data-start="1387.84" data-end="1389.55">also doing that in a smart way so in</span> <span data-start="1389.55" data-end="1391.41">terms of if the dependency had a</span> <span data-start="1391.41" data-end="1393.54">vulnerability and then a fix in a major</span> <span data-start="1393.54" data-end="1395.34">version it will actually try and fold</span> <span data-start="1395.34" data-end="1395.85">the</span> <span data-start="1395.85" data-end="1397.68">the most minor and minimal version it</span> <span data-start="1397.68" data-end="1400.29">can to resolve the security fix so to</span> <span data-start="1400.29" data-end="1402.45">not you know get you through the hurdle</span> <span data-start="1402.45" data-end="1405.48">of actually taking in a major change or</span> <span data-start="1405.48" data-end="1406.98">breaking change or future changes that</span> <span data-start="1406.98" data-end="1408.87">you may not want to pull in with that</span> <span data-start="1408.87" data-end="1411.63">security fix so I'm going to leave you</span> <span data-start="1411.63" data-end="1413.76">with that notion open-source is awesome</span> <span data-start="1413.76" data-end="1415.77">just please join it responsibly thank</span> <span data-start="1415.77" data-end="1423">you</span> <span data-start="1424.2" data-end="1424.21">you</span> </p>
</section>

<!-- div#container ends -->
</div>

<img alt="The End" id="fin" src="../images/fin.jpg">

<script>
/*eslint-disable */
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google-translate');
}
/* eslint-enable */
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="../js/main.js"></script>

</body>

</html>
