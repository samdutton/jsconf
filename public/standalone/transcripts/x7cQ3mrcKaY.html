<!DOCTYPE html>

<!--
Copyright 2019 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="//google.com">
  <meta name="description" content="web.dev LIVE video transcript">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>x7cQ3mrcKaY</title>
  <link rel="stylesheet" href="../css/main.css">
</head>

<body>

<iframe id="youtube" src="https://www.youtube.com/embed/x7cQ3mrcKaY?enablejsapi=1"></iframe>

<div id="container">

<div id="options">
  <div id="google-translate"></div>
  <div>
    <input type="checkbox" id="videoSticky" checked>
    <label for="videoSticky">Video position sticky</label>
  </div>
  <div>
    <input type="checkbox" id="captionScroll" checked>
    <label for="captionScroll">Keep current caption visible</label>
  </div>
</div>

<section>
<p><span data-start="10.63" data-end="21.51">you</span> <span data-start="24.59" data-end="27.14">hey I'm Pete I'm going to talk to you</span> <span data-start="27.14" data-end="28.91">about a library for creating user</span> <span data-start="28.91" data-end="32.69">interfaces that we call react and we</span> <span data-start="32.69" data-end="34.85">open source this at Jas conf us a couple</span> <span data-start="34.85" data-end="37.52">months ago and we got some kind of</span> <span data-start="37.52" data-end="40.07">sarcastic responses on Twitter a little</span> <span data-start="40.07" data-end="42.29">bit of snickering that kind of thing</span> <span data-start="42.29" data-end="44.54">we weren't really communicating what we</span> <span data-start="44.54" data-end="46.64">were doing so I'd like to talk to you</span> <span data-start="46.64" data-end="49.01">today about the design decisions around</span> <span data-start="49.01" data-end="51.2">react what we're doing differently than</span> <span data-start="51.2" data-end="52.91">other frameworks and kind of the</span> <span data-start="52.91" data-end="54.77">implementation that lets us make these</span> <span data-start="54.77" data-end="57.14">decisions and make it really fast so</span> <span data-start="57.14" data-end="59.36">it's not a tutorial it's not an</span> <span data-start="59.36" data-end="60.41">introduction you're not going to learn</span> <span data-start="60.41" data-end="62.6">how to build react acts today but you</span> <span data-start="62.6" data-end="63.589">might be able to use some of the stuff</span> <span data-start="63.589" data-end="65.68">that we've discovered in your own work</span> <span data-start="65.68" data-end="67.97">so I ask that you please just give it</span> <span data-start="67.97" data-end="70.22">five minutes some of the stuff that I'm</span> <span data-start="70.22" data-end="72.11">going to say flies in the face of some</span> <span data-start="72.11" data-end="74.93">established best practices but we found</span> <span data-start="74.93" data-end="76.25">that there are certain best practices</span> <span data-start="76.25" data-end="79.7">that deserve to be challenged so meet</span> <span data-start="79.7" data-end="81.65">react it's a library for creating user</span> <span data-start="81.65" data-end="83.99">interfaces specifically we render your</span> </p>
<p><span data-start="83.99" data-end="87.56">UI and we respond to events a lot of</span> <span data-start="87.56" data-end="89.869">people think of us as the V and MVC</span> <span data-start="89.869" data-end="92.149">maybe we're the controller to really</span> <span data-start="92.149" data-end="94.939">depends on how you use it but we try to</span> <span data-start="94.939" data-end="96.95">play nicely with your stack whatever it</span> <span data-start="96.95" data-end="99.56">may be so for example we're not</span> <span data-start="99.56" data-end="101.18">opinionated about how you fetch data</span> <span data-start="101.18" data-end="103.549">people use us with you know backbone or</span> <span data-start="103.549" data-end="105.17">whatever you use for managing your data</span> <span data-start="105.17" data-end="108.92">client-side so I'm going to talk to you</span> <span data-start="108.92" data-end="111.14">about kind of the initial principles</span> <span data-start="111.14" data-end="113.119">behind react which is all about building</span> <span data-start="113.119" data-end="115.969">components then I'm going to talk about</span> <span data-start="115.969" data-end="117.979">the design decisions that we made that</span> <span data-start="117.979" data-end="119.45">make react a little bit different from</span> <span data-start="119.45" data-end="121.549">other frameworks and finally I'm going</span> <span data-start="121.549" data-end="123.619">to talk about the implementation and how</span> <span data-start="123.619" data-end="125.75">we're able to make our implementation of</span> <span data-start="125.75" data-end="127.69">this framework really really fast</span> <span data-start="127.69" data-end="129.77">so I'm going to start with building</span> <span data-start="129.77" data-end="134.6">components not templates if you want to</span> <span data-start="134.6" data-end="136.31">think about this cynically we're talking</span> <span data-start="136.31" data-end="138.14">about mixing markup and display logic</span> <span data-start="138.14" data-end="140.81">and a lot of people completely disagree</span> <span data-start="140.81" data-end="144.02">with that so this is a much sure if you</span> <span data-start="144.02" data-end="145.43">can read it but this is kind of what</span> <span data-start="145.43" data-end="148.04">react code looks like this is from our</span> <span data-start="148.04" data-end="149.78">to-do list example on the home page</span> <span data-start="149.78" data-end="152.84">react is org it's all about building</span> <span data-start="152.84" data-end="154.489">reusable components that know how to</span> <span data-start="154.489" data-end="156.28">render themselves into the DOM</span> <span data-start="156.28" data-end="159.37">um but like I said I'm not going to go</span> <span data-start="159.37" data-end="160.75">through this line by line because this</span> <span data-start="160.75" data-end="162.31">is not a tutorial this is about design</span> <span data-start="162.31" data-end="165.04">decisions but we all like separation of</span> <span data-start="165.04" data-end="168.1">concerns right this has kind of been a</span> <span data-start="168.1" data-end="170.11">fundamental tenet of building apps on</span> <span data-start="170.11" data-end="172.18">the web ever since like the PHP</span> <span data-start="172.18" data-end="175.36">pocalypse of 1999 where we were putting</span> <span data-start="175.36" data-end="176.92">my sequel fetch row in the middle of our</span> <span data-start="176.92" data-end="179.68">table rendering code but let's talk</span> <span data-start="179.68" data-end="181">about what separation of concerns</span> <span data-start="181" data-end="183.37">actually means we're talking about</span> <span data-start="183.37" data-end="185.83">reducing coupling and increasing</span> <span data-start="185.83" data-end="189.31">cohesion coupling and cohesion they're</span> <span data-start="189.31" data-end="191.17">very they're two very important</span> <span data-start="191.17" data-end="194.07">principles of software engineering</span> <span data-start="194.07" data-end="196.15">here's the definition I pulled off of</span> </p>
<p><span data-start="196.15" data-end="197.59">Wikipedia about coupling and it's the</span> <span data-start="197.59" data-end="199.66">degree to which program modules rely on</span> <span data-start="199.66" data-end="202.09">each of the other modules now that's</span> <span data-start="202.09" data-end="203.77">kind of like a fluffy definition but</span> <span data-start="203.77" data-end="206.65">more concretely if you want to implement</span> <span data-start="206.65" data-end="208.9">a feature or fix a bug and you make the</span> <span data-start="208.9" data-end="210.79">change to one module be it like a class</span> <span data-start="210.79" data-end="213.64">common j/s module function a packet of</span> <span data-start="213.64" data-end="216.07">functionality how often do you have to</span> <span data-start="216.07" data-end="217.81">go to other parts of your code base and</span> <span data-start="217.81" data-end="219.9">make changes in order for it to work and</span> <span data-start="219.9" data-end="223.03">these sorts of cascading changes are</span> <span data-start="223.03" data-end="224.86">symptoms of coupling and that's what</span> <span data-start="224.86" data-end="228.549">makes software hard to maintain cohesion</span> <span data-start="228.549" data-end="230.56">is somewhat related as well and that's</span> <span data-start="230.56" data-end="232">the degree to which elements of a module</span> <span data-start="232" data-end="233.95">belong together so if you've heard of</span> <span data-start="233.95" data-end="235.56">the single responsibility principle</span> <span data-start="235.56" data-end="238.239">basically grouping related functionality</span> <span data-start="238.239" data-end="240.22">into modules and not putting extra crap</span> <span data-start="240.22" data-end="243.459">in there you know the kind of the</span> <span data-start="243.459" data-end="245.019">witness' test is like does this class</span> <span data-start="245.019" data-end="246.61">make sense or does this function make</span> <span data-start="246.61" data-end="247.989">sense or is it doing a lot of stuff and</span> <span data-start="247.989" data-end="252.19">can you refactor it into other pieces so</span> </p>
<p><span data-start="252.19" data-end="254.38">I think that templates encourage a poor</span> <span data-start="254.38" data-end="256.269">separation of concerns and it's not just</span> <span data-start="256.269" data-end="257.89">templates specifically it's anything</span> <span data-start="257.89" data-end="260.709">that tries to augment the Dom or HTML</span> <span data-start="260.709" data-end="263.14">with some sort of functionality to make</span> <span data-start="263.14" data-end="264.85">it better at building apps so I think</span> <span data-start="264.85" data-end="266.62">angular directives also fall into this</span> <span data-start="266.62" data-end="268.57">and it's not just client-side either</span> <span data-start="268.57" data-end="270.64">it's some server-side systems as well</span> <span data-start="270.64" data-end="272.61">like Jinja and kind of traditional</span> <span data-start="272.61" data-end="275.53">templating solutions now how can I</span> <span data-start="275.53" data-end="276.82">possibly make the argument that this is</span> <span data-start="276.82" data-end="278.77">a bad separation of concerns right</span> <span data-start="278.77" data-end="280.69">you've got your display plate code in</span> <span data-start="280.69" data-end="282.88">one place like your template and you</span> <span data-start="282.88" data-end="284.2">have other code in other places that</span> <span data-start="284.2" data-end="287.5">does that do different things now</span> <span data-start="287.5" data-end="289.42">normally your controller and your</span> <span data-start="289.42" data-end="291.13">they are tied together with something</span> <span data-start="291.13" data-end="293.71">called a view model and some some</span> <span data-start="293.71" data-end="295.48">frameworks actually the controller is</span> <span data-start="295.48" data-end="297.58">almost the view model so you pull some</span> <span data-start="297.58" data-end="299.14">data out of your database or with like</span> <span data-start="299.14" data-end="301.99">an AJAX call or something and you</span> <span data-start="301.99" data-end="303.25">construct a data structure that looks</span> <span data-start="303.25" data-end="304.51">something like this</span> <span data-start="304.51" data-end="305.83">so if I wanted to show a product grid</span> <span data-start="305.83" data-end="307.54">with the example that everyone uses</span> <span data-start="307.54" data-end="311.05">which is alternating row colors in some</span> <span data-start="311.05" data-end="313.03">templating systems you have to add a</span> <span data-start="313.03" data-end="315.28">table row color attribute to your view</span> <span data-start="315.28" data-end="317.11">model and we say that that's fine</span> <span data-start="317.11" data-end="318.64">because it's a view model it's not the</span> <span data-start="318.64" data-end="320.11">model and it's not the view it's in view</span> <span data-start="320.11" data-end="322.96">model now the problem is this tightly</span> <span data-start="322.96" data-end="325.27">couples your controller to your template</span> <span data-start="325.27" data-end="327.49">so if I want to make a change to how I</span> <span data-start="327.49" data-end="330.43">render those row colors while it feels</span> <span data-start="330.43" data-end="332.02">like I'm making it change the template</span> <span data-start="332.02" data-end="333.91">there's an implicit dependency between</span> <span data-start="333.91" data-end="336.49">the template and the controller because</span> <span data-start="336.49" data-end="338.59">they both agreed on that template row</span> <span data-start="338.59" data-end="341.5">color attribute in my example so you</span> <span data-start="341.5" data-end="343.06">actually have to make cascading changes</span> <span data-start="343.06" data-end="345.3">throughout your modules so it's not real</span> <span data-start="345.3" data-end="348.43">decoupling and I think that the display</span> <span data-start="348.43" data-end="350.65">mod the display logic and markup are</span> <span data-start="350.65" data-end="354.97">inevitably tightly coupled so if you're</span> <span data-start="354.97" data-end="356.47">building apps on the web that manipulate</span> <span data-start="356.47" data-end="358.12">the Dom you have to figure out where in</span> <span data-start="358.12" data-end="361.03">the Dom you're going to change and what</span> <span data-start="361.03" data-end="363.04">parts need to be updated and what nodes</span> <span data-start="363.04" data-end="365.14">are receiving events but the good news</span> <span data-start="365.14" data-end="367.47">is is that this is highly cohesive logic</span> <span data-start="367.47" data-end="370.09">so the the JavaScript code that that</span> <span data-start="370.09" data-end="372.37">drives your UI and the markup that</span> <span data-start="372.37" data-end="374.2">displays it to the user are both doing</span> <span data-start="374.2" data-end="375.46">basically the same thing they're</span> <span data-start="375.46" data-end="376.96">handling user events and the rendering</span> <span data-start="376.96" data-end="381.07">data to the to the user so I would like</span> <span data-start="381.07" data-end="382.81">to argue that templates separate</span> <span data-start="382.81" data-end="386.56">technologies and not concerns it's not a</span> <span data-start="386.56" data-end="388.36">real separation of concerns the</span> <span data-start="388.36" data-end="389.92">separation of technologies you're using</span> <span data-start="389.92" data-end="392.88">to implement the same concern and</span> <span data-start="392.88" data-end="394.51">unfortunately the way that we're doing</span> <span data-start="394.51" data-end="396.55">this today they tend to be deliberately</span> <span data-start="396.55" data-end="400.84">underpowered so I'm going to show you a</span> <span data-start="400.84" data-end="402.13">couple of examples of what I mean by</span> <span data-start="402.13" data-end="404.38">being underpowered and the first</span> <span data-start="404.38" data-end="405.49">technology I'm going to pick on is</span> <span data-start="405.49" data-end="408.67">handlebars sorry Tom so first of all</span> <span data-start="408.67" data-end="410.32">handlebars is an excellent</span> <span data-start="410.32" data-end="412.03">implementation of templating it's really</span> <span data-start="412.03" data-end="414.28">fast it's really easy to understand and</span> <span data-start="414.28" data-end="415.42">it drops right into a lot of different</span> <span data-start="415.42" data-end="419.17">frameworks but it's an implementation of</span> <span data-start="419.17" data-end="420.88">kind of a classical way you build</span> <span data-start="420.88" data-end="422.35">templates so they</span> <span data-start="422.35" data-end="423.64">actions you have available are fairly</span> <span data-start="423.64" data-end="426.19">primitive so the the easiest one to</span> <span data-start="426.19" data-end="427.69">think of is partials if you want to</span> <span data-start="427.69" data-end="429.25">reuse a template you tend to use</span> <span data-start="429.25" data-end="432.64">partials and a partial basically takes</span> <span data-start="432.64" data-end="434.08">one template and embeds it in another</span> <span data-start="434.08" data-end="437.95">template now that embedding puts all of</span> <span data-start="437.95" data-end="439.72">the puts that template in the parents</span> <span data-start="439.72" data-end="441.46">scope so if you want to make a change to</span> <span data-start="441.46" data-end="444.55">a child template or a partial you need</span> <span data-start="444.55" data-end="446.32">to track down every single call site</span> <span data-start="446.32" data-end="448.69">that uses that template and make sure</span> <span data-start="448.69" data-end="450.01">that you don't break anything because</span> <span data-start="450.01" data-end="452.05">there isn't a strict contract between</span> <span data-start="452.05" data-end="453.76">the partial and the template that</span> <span data-start="453.76" data-end="457.21">includes it this is going to be a</span> <span data-start="457.21" data-end="460.45">recurring theme of my talk another</span> <span data-start="460.45" data-end="462.36">example of an underpowered technology</span> <span data-start="462.36" data-end="466.3">and here is each it's like oh it's like</span> <span data-start="466.3" data-end="467.68">doing functional programming but you</span> <span data-start="467.68" data-end="469.51">only have map you don't have filter you</span> <span data-start="469.51" data-end="470.95">don't have reduce it's it's hard to do</span> <span data-start="470.95" data-end="473.5">branching and frameworks have solved</span> <span data-start="473.5" data-end="474.46">some of these problems that I've</span> <span data-start="474.46" data-end="475.84">mentioned but they're kind of hacking</span> <span data-start="475.84" data-end="479.05">around the idea that we want to pull</span> <span data-start="479.05" data-end="481.66">certain parts of our display logic apart</span> <span data-start="481.66" data-end="486.44">and artificially separate technologies</span> <span data-start="486.45" data-end="488.95">another symptom is if you're continually</span> <span data-start="488.95" data-end="493.36">inventing new concepts so JavaScript is</span> <span data-start="493.36" data-end="496.69">based on a rich history of Vonn demand</span> <span data-start="496.69" data-end="498.97">based programming model language aming</span> <span data-start="498.97" data-end="501.85">languages and has kind of battle-tested</span> <span data-start="501.85" data-end="503.74">philosophies right like we understand</span> <span data-start="503.74" data-end="504.94">how functions work it's very clear</span> <span data-start="504.94" data-end="506.53">prototypical inheritance most people</span> <span data-start="506.53" data-end="509.11">understand but when you start to build</span> <span data-start="509.11" data-end="512.71">abstractions on top of you know HTML you</span> <span data-start="512.71" data-end="514.99">start to have to invent a lot of things</span> <span data-start="514.99" data-end="516.82">in order to get to the level of</span> <span data-start="516.82" data-end="518.56">expressiveness you need to build real</span> <span data-start="518.56" data-end="521.05">applications so now I'm going to pick on</span> <span data-start="521.05" data-end="523.66">angular and I just pulled this this</span> <span data-start="523.66" data-end="525.52">quote out from the angular docs and I've</span> <span data-start="525.52" data-end="527.71">highlighted every concept that they've</span> <span data-start="527.71" data-end="530.17">created that I'm not I'm either not</span> <span data-start="530.17" data-end="531.58">really sure what it means as a new user</span> <span data-start="531.58" data-end="533.53">of angular or it sort of exists in</span> </p>
<p><span data-start="533.53" data-end="536.62">JavaScript and it's based on the idea</span> <span data-start="536.62" data-end="539.35">that they want to augment HTML to</span> <span data-start="539.35" data-end="541.48">support two-way data-binding and in</span> <span data-start="541.48" data-end="542.92">order to do that you have to rethink the</span> <span data-start="542.92" data-end="545.11">idea of scopes and if you think the idea</span> <span data-start="545.11" data-end="546.58">of scopes you have to rethink the idea</span> <span data-start="546.58" data-end="548.65">of composability</span> <span data-start="548.65" data-end="550.9">and modularity and you start building</span> <span data-start="550.9" data-end="552.07">directives and train</span> <span data-start="552.07" data-end="556.75">lucien and all this other stuff but i</span> <span data-start="556.75" data-end="558.85">think the framework cannot know how to</span> <span data-start="558.85" data-end="562.42">separate your concerns for you it should</span> <span data-start="562.42" data-end="564.82">only provide powerful and expressive</span> <span data-start="564.82" data-end="568.019">tools to let you do it</span> <span data-start="568.019" data-end="571.089">what I mean by that is that a lot of</span> <span data-start="571.089" data-end="573.25">frameworks force you into this MVC style</span> <span data-start="573.25" data-end="577.329">of development and MVC is great however</span> <span data-start="577.329" data-end="579.16">your controllers tend to get really fat</span> <span data-start="579.16" data-end="580.779">or maybe your models get really fat if</span> <span data-start="580.779" data-end="582.1">that's your style of building or maybe</span> <span data-start="582.1" data-end="585.16">even your views the reason for that is</span> <span data-start="585.16" data-end="586.24">the framework is telling you how to</span> <span data-start="586.24" data-end="587.529">separate your components and the</span> <span data-start="587.529" data-end="589.18">vocabulary you're speaking is that of</span> <span data-start="589.18" data-end="590.62">the framework and not of your</span> <span data-start="590.62" data-end="593.709">application so we want to change that</span> <span data-start="593.709" data-end="595.63">and we think the best tool for this is a</span> <span data-start="595.63" data-end="597.79">react component which is a highly</span> <span data-start="597.79" data-end="599.47">cohesive building block for you is</span> <span data-start="599.47" data-end="601.18">that's loosely coupled with other</span> <span data-start="601.18" data-end="603.389">components coupling and cohesion</span> <span data-start="603.389" data-end="607.839">constant theme here so we want you to</span> <span data-start="607.839" data-end="609.81">use components to separate your concerns</span> <span data-start="609.81" data-end="612.19">with the full power of JavaScript and</span> <span data-start="612.19" data-end="614.889">not a cripple templating language so I'm</span> <span data-start="614.889" data-end="616.569">going to pull up that example I showed</span> <span data-start="616.569" data-end="618.49">earlier briefly and just highlight a</span> <span data-start="618.49" data-end="621.79">couple of things we wanted to reuse some</span> <span data-start="621.79" data-end="624.79">functionality so in react we created a</span> <span data-start="624.79" data-end="627.19">function which is how you reuse</span> <span data-start="627.19" data-end="630.61">functionality in JavaScript we wanted to</span> <span data-start="630.61" data-end="633.279">reuse um we wanted to reuse some code</span> <span data-start="633.279" data-end="635.47">and pass different parameters in each</span> <span data-start="635.47" data-end="638.199">time and have it render to the Dom so we</span> <span data-start="638.199" data-end="641.11">used composition and we composed a to-do</span> <span data-start="641.11" data-end="643.93">application out of a to-do list object</span> <span data-start="643.93" data-end="648.01">component again this is just regular</span> </p>
<p><span data-start="648.01" data-end="649.389">JavaScript software engineering</span> <span data-start="649.389" data-end="651.97">principles and we also have the full</span> <span data-start="651.97" data-end="654.67">expressive power of JavaScript so for</span> <span data-start="654.67" data-end="658.12">example I wanted to add 1/2 to the</span> <span data-start="658.12" data-end="659.86">length of this list when I render it I</span> <span data-start="659.86" data-end="661.389">didn't have to jump through any hoops I</span> <span data-start="661.389" data-end="663.189">just put a javascript expression in</span> <span data-start="663.189" data-end="668.709">there reusable components are great code</span> <span data-start="668.709" data-end="670.72">reuse we all we all we all can recognize</span> <span data-start="670.72" data-end="674.05">how awesome could reuse is composability</span> <span data-start="674.05" data-end="677.079">another big one you build the component</span> <span data-start="677.079" data-end="678.819">once you reuse it you can build more and</span> <span data-start="678.819" data-end="681.73">more complex components and it actually</span> <span data-start="681.73" data-end="683.23">you get kind of a linear increasing</span> <span data-start="683.23" data-end="684.09">complexity</span> <span data-start="684.09" data-end="687.09">then you know that giant curve of</span> <span data-start="687.09" data-end="689.67">complexity because you isolate your</span> <span data-start="689.67" data-end="692.61">complexity into separate components it's</span> <span data-start="692.61" data-end="694.14">kind of implied but these are unit</span> <span data-start="694.14" data-end="695.94">testable when you break your application</span> <span data-start="695.94" data-end="698.91">down into small units you can just unit</span> <span data-start="698.91" data-end="700.05">test them like you would unit test any</span> <span data-start="700.05" data-end="701.52">other piece of code you don't need some</span> <span data-start="701.52" data-end="703.65">sort of big you know test harness or</span> <span data-start="703.65" data-end="705.09">dependency injection framework unless</span> <span data-start="705.09" data-end="706.32">that's how you prefer to structure your</span> <span data-start="706.32" data-end="710.94">application so you're probably thinking</span> <span data-start="710.94" data-end="712.38">about spaghetti code right now I've</span> <span data-start="712.38" data-end="713.88">talked about mixing JavaScript</span> <span data-start="713.88" data-end="716.42">expressions in the Dom I've talked about</span> <span data-start="716.42" data-end="719.13">co-locating or display logic with it the</span> <span data-start="719.13" data-end="720.33">logic that generates the mark-up that</span> <span data-start="720.33" data-end="721.47">sounds like it's going to be a mess</span> <span data-start="721.47" data-end="725.43">right my answer to that is just don't</span> <span data-start="725.43" data-end="726.42">write spaghetti code</span> <span data-start="726.42" data-end="729.12">we're software engineers we can shoot</span> <span data-start="729.12" data-end="730.35">ourselves in the foot and I'm sure that</span> <span data-start="730.35" data-end="731.55">everybody's taken down something in</span> <span data-start="731.55" data-end="733.74">production before you can keep your</span> <span data-start="733.74" data-end="735.78">components small because we're trained</span> <span data-start="735.78" data-end="737.13">to do it we do it all the time with our</span> <span data-start="737.13" data-end="738.69">other JavaScript code why can't we do it</span> <span data-start="738.69" data-end="741.9">with our front end code only put display</span> <span data-start="741.9" data-end="743.46">logic in your components I'm not</span> <span data-start="743.46" data-end="745.68">advocating putting all of your your</span> <span data-start="745.68" data-end="748.11">model validation code and fetching and</span> <span data-start="748.11" data-end="750.57">data access in components you might want</span> <span data-start="750.57" data-end="751.86">to put them in third-party libraries</span> <span data-start="751.86" data-end="754.5">that have some sort of bridge to your</span> <span data-start="754.5" data-end="757.02">components but only put you know logic</span> <span data-start="757.02" data-end="759.63">that makes sense in your components and</span> <span data-start="759.63" data-end="761.49">this kind of reminds me of that</span> </p>
<p><span data-start="761.49" data-end="763.59">Spiderman quote that is always repeated</span> <span data-start="763.59" data-end="765.45">at software conferences with great power</span> <span data-start="765.45" data-end="769.36">comes great responsibility</span> <span data-start="769.37" data-end="771.15">another thing that people think about</span> <span data-start="771.15" data-end="772.77">when you're talking about generating DOM</span> <span data-start="772.77" data-end="776.3">and JavaScript is cross-site scripting</span> <span data-start="776.3" data-end="780.27">vulnerabilities so a lot of times people</span> <span data-start="780.27" data-end="782.04">do string concatenation to generate</span> <span data-start="782.04" data-end="783.68">markup and then insert that in the Dom</span> <span data-start="783.68" data-end="786.24">we've created a very lightweight library</span> <span data-start="786.24" data-end="788.01">that we call react Dom to make</span> <span data-start="788.01" data-end="789.9">generating a description of the Dom very</span> <span data-start="789.9" data-end="793.11">easily this is calling a method called a</span> <span data-start="793.11" data-end="796.34">which generates a link you pass your</span> </p>
<p><span data-start="796.34" data-end="798.78">JavaScript object of attributes in and</span> <span data-start="798.78" data-end="801.39">then a child which is the second</span> <span data-start="801.39" data-end="803.49">argument that can be you know other</span> <span data-start="803.49" data-end="806.22">react components other react Dom calls</span> <span data-start="806.22" data-end="808.2">strings collections that kind of thing</span> <span data-start="808.2" data-end="810.93">and this makes it really safe for us to</span> <span data-start="810.93" data-end="813.78">generate descriptions of the Dom the</span> <span data-start="813.78" data-end="814.71">next thing you're thinking about is</span> <span data-start="814.71" data-end="816.63">probably what about working with</span> <span data-start="816.63" data-end="817.68">designers</span> <span data-start="817.68" data-end="819.27">we're not the first people to come up</span> <span data-start="819.27" data-end="821.339">with the idea of generating Dom using</span> <span data-start="821.339" data-end="823.56">function calls but a lot of times it's a</span> <span data-start="823.56" data-end="825.36">little bit cumbersome to work with you</span> <span data-start="825.36" data-end="826.83">know we've actually found that if you're</span> <span data-start="826.83" data-end="828.54">just trying to balance parentheses</span> <span data-start="828.54" data-end="830.55">visually it can be kind of annoying to</span> <span data-start="830.55" data-end="833.76">do that and also designers tend to not</span> <span data-start="833.76" data-end="836.64">like that so we built JSX</span> <span data-start="836.64" data-end="839.55">which is an optional preprocessor it's a</span> <span data-start="839.55" data-end="841.32">syntax extension that lets you write</span> <span data-start="841.32" data-end="844.71">code that looks like this and translates</span> <span data-start="844.71" data-end="846.089">it into code that looks like that and</span> <span data-start="846.089" data-end="848.58">that's all it does we're not reinventing</span> <span data-start="848.58" data-end="851.22">a 4x there's no runtime that supports</span> <span data-start="851.22" data-end="853.32">this we're simply taking expressions</span> <span data-start="853.32" data-end="855.45">that look like HTML and turning them</span> <span data-start="855.45" data-end="857.94">into function calls so you get all the</span> <span data-start="857.94" data-end="860.16">semantics of JavaScript you get the same</span> <span data-start="860.16" data-end="862.2">line numbers as you would before the</span> <span data-start="862.2" data-end="863.91">transformation so you can actually run</span> <span data-start="863.91" data-end="865.68">your linting tools on your markup and</span> <span data-start="865.68" data-end="868.11">you know get all the same rich debugging</span> <span data-start="868.11" data-end="870.62">information that you otherwise would and</span> <span data-start="870.62" data-end="872.94">with JSX we've just found that it's very</span> <span data-start="872.94" data-end="875.46">easy for designers to contribute code I</span> <span data-start="875.46" data-end="877.35">personally don't want to spend hours</span> <span data-start="877.35" data-end="879.27">tweaking the box-shadow of all of my</span> <span data-start="879.27" data-end="880.83">elements I'd like to just have my</span> <span data-start="880.83" data-end="882.15">designer come in there and tweak them</span> <span data-start="882.15" data-end="885.48">for me and so we've actually had found</span> <span data-start="885.48" data-end="887.7">that this is very successful and we</span> <span data-start="887.7" data-end="888.57">think of it like this</span> <span data-start="888.57" data-end="890.94">it's the accessibility of templates and</span> <span data-start="890.94" data-end="896.4">the power of JavaScript the</span> <span data-start="896.4" data-end="897.9">accessibility of templates in the power</span> <span data-start="897.9" data-end="899.339">of JavaScript you can use all the</span> <span data-start="899.339" data-end="901.23">regular JavaScript code to generate</span> <span data-start="901.23" data-end="902.55">these because they're just function</span> <span data-start="902.55" data-end="904.47">calls but it looks kind of like markup</span> <span data-start="904.47" data-end="907.35">so you can go in there and kind of still</span> <span data-start="907.35" data-end="912.06">have your flow so react is all about</span> <span data-start="912.06" data-end="914.25">components and it's not about templates</span> <span data-start="914.25" data-end="915.57">and that's how we want you to separate</span> <span data-start="915.57" data-end="917.49">concerns so I'm going to talk to you</span> <span data-start="917.49" data-end="919.77">about what I think makes react awesome</span> <span data-start="919.77" data-end="923.04">and the key design decision that makes</span> <span data-start="923.04" data-end="924.33">react awesome is that we basically</span> <span data-start="924.33" data-end="926.73">rerender your entire app every on every</span> <span data-start="926.73" data-end="930.42">single data change we all know that</span> <span data-start="930.42" data-end="932.279">building UIs is hard and that's because</span> <span data-start="932.279" data-end="935.55">there's so much State you've got lots of</span> </p>
<p><span data-start="935.55" data-end="938.04">UI elements designers can't make up</span> <span data-start="938.04" data-end="939.81">their mind you ship one one version the</span> <span data-start="939.81" data-end="941.459">a/b test comes back and you want to ship</span> <span data-start="941.459" data-end="945.66">another one crazy environments if a dom</span> <span data-start="945.66" data-end="947.28">is up for a long time you may write to</span> <span data-start="947.28" data-end="948.69">the dom somewhere and forgot that you</span> <span data-start="948.69" data-end="949.51">wrote there and then</span> <span data-start="949.51" data-end="951.12">you know you forgot to keep track of it</span> <span data-start="951.12" data-end="954.07">and we've identified that data changing</span> <span data-start="954.07" data-end="956.82">over time is the root of all evil and</span> <span data-start="956.82" data-end="960.37">it's really hard for us as engineers to</span> <span data-start="960.37" data-end="963.97">reason about this and you know we're not</span> <span data-start="963.97" data-end="965.11">the first people that think this up</span> <span data-start="965.11" data-end="966.43">actually Dijkstra thought it up first</span> <span data-start="966.43" data-end="969.01">our intellectual powers are rather</span> <span data-start="969.01" data-end="971.23">geared to master static relations and</span> <span data-start="971.23" data-end="973.48">our powers to visualize processes</span> <span data-start="973.48" data-end="975.19">evolving in time are relatively poorly</span> <span data-start="975.19" data-end="978.37">developed what he's basically saying is</span> <span data-start="978.37" data-end="980.079">that it's really hard for us to think of</span> <span data-start="980.079" data-end="981.82">processes over time but it's fairly</span> <span data-start="981.82" data-end="983.199">straightforward for us to trace the flow</span> <span data-start="983.199" data-end="986.56">of a program he continues with for that</span> <span data-start="986.56" data-end="988.389">reason we should do our utmost to</span> <span data-start="988.389" data-end="990.519">shorten the conceptual gap between the</span> <span data-start="990.519" data-end="992.47">static program and the dynamic process</span> <span data-start="992.47" data-end="994.3">to make correspondence between the</span> <span data-start="994.3" data-end="996.04">program and the process as trivial as</span> <span data-start="996.04" data-end="999.04">possible now Dijkstra's advice is that</span> <span data-start="999.04" data-end="1000.69">we should take processes that go over</span> <span data-start="1000.69" data-end="1002.91">time and build abstractions that make</span> <span data-start="1002.91" data-end="1005.79">them look like programs that execute in</span> <span data-start="1005.79" data-end="1009.269">a single point of time and that's what</span> <span data-start="1009.269" data-end="1011.19">it was like in the 90s when we were</span> <span data-start="1011.19" data-end="1013.23">building server rendered apps we hit the</span> <span data-start="1013.23" data-end="1015.199">database and we'd render a page and</span> <span data-start="1015.199" data-end="1017.25">let's say it's a you know a to-do list</span> <span data-start="1017.25" data-end="1019.92">example because that's the another theme</span> <span data-start="1019.92" data-end="1022.44">of this presentation I guess you render</span> <span data-start="1022.44" data-end="1024.63">the list of items and account and when</span> <span data-start="1024.63" data-end="1026.22">you submit another to-do item you just</span> <span data-start="1026.22" data-end="1028.26">select from the database again your</span> <span data-start="1028.26" data-end="1029.699">account and your list are up to date and</span> <span data-start="1029.699" data-end="1031.679">you just refresh the whole page very</span> <span data-start="1031.679" data-end="1033.449">simple we don't have any of these</span> <span data-start="1033.449" data-end="1035.04">problems with data being out of date and</span> <span data-start="1035.04" data-end="1038.97">stuff so when the data changes react</span> <span data-start="1038.97" data-end="1040.62">does this react tree renders the entire</span> <span data-start="1040.62" data-end="1043.62">component this basically makes it really</span> <span data-start="1043.62" data-end="1045.75">easy for you to think about what state</span> <span data-start="1045.75" data-end="1047.61">your application is in set another way</span> <span data-start="1047.61" data-end="1050.16">react components are just item potent</span> <span data-start="1050.16" data-end="1052.41">functions that describe your UI at any</span> <span data-start="1052.41" data-end="1054.419">point in time just like a server</span> <span data-start="1054.419" data-end="1057.99">rendered at again because they're just</span> <span data-start="1057.99" data-end="1059.7">functions that take some parameters and</span> <span data-start="1059.7" data-end="1062.309">output a description of the UI they're</span> <span data-start="1062.309" data-end="1066.36">very easy to unit test so here's a</span> <span data-start="1066.36" data-end="1068.07">here's a very brief example this is a</span> <span data-start="1068.07" data-end="1069.69">link that I can click and the count goes</span> <span data-start="1069.69" data-end="1075.24">up we've isolated the mutable state in a</span> <span data-start="1075.24" data-end="1076.89">get initial state method and we've</span> <span data-start="1076.89" data-end="1078.78">isolated all the state transitions in</span> <span data-start="1078.78" data-end="1080.4">state and set state methods and set</span> <span data-start="1080.4" data-end="1082.98">state is basically how you tell react</span> <span data-start="1082.98" data-end="1085.92">that the data has changed and it doesn't</span> <span data-start="1085.92" data-end="1087.45">matter where your data came from we've</span> <span data-start="1087.45" data-end="1089.46">done bindings for meteor that are 14</span> <span data-start="1089.46" data-end="1091.02">lines bindings for backbone that are 5</span> <span data-start="1091.02" data-end="1093.54">lines that kind of thing but you'll</span> <span data-start="1093.54" data-end="1096.12">notice that render describes how the UI</span> <span data-start="1096.12" data-end="1098.91">looks at any point in time so no where</span> <span data-start="1098.91" data-end="1101.79">do we look in the DOM and find where we</span> <span data-start="1101.79" data-end="1104.07">should update the count or where that</span> <span data-start="1104.07" data-end="1106.77">node lives or do we we don't even set up</span> <span data-start="1106.77" data-end="1109.26">a binding between the state variable and</span> <span data-start="1109.26" data-end="1113.82">the Dom and this is actually really</span> <span data-start="1113.82" data-end="1116.43">simple because it's so declarative every</span> <span data-start="1116.43" data-end="1118.08">place we display data is guaranteed to</span> <span data-start="1118.08" data-end="1121.08">be up-to-date and we do it without</span> <span data-start="1121.08" data-end="1124.02">magical data binding without dirty</span> <span data-start="1124.02" data-end="1125.31">checking the model which can be</span> <span data-start="1125.31" data-end="1128.55">expensive and of course this is a modern</span> <span data-start="1128.55" data-end="1130.62">framework there's no more explicit Dom</span> <span data-start="1130.62" data-end="1135.13">operations and everything is declarative</span> <span data-start="1135.14" data-end="1138.81">this seems like a pretty bad idea right</span> <span data-start="1138.81" data-end="1141.15">it'd be great if we could do all this</span> <span data-start="1141.15" data-end="1144.51">declarative work but re-rendering all of</span> <span data-start="1144.51" data-end="1146.76">the the dom nodes on your page is way</span> <span data-start="1146.76" data-end="1149.76">too expensive so we decided to build a</span> <span data-start="1149.76" data-end="1151.68">virtual Dom to make rear-ending on every</span> <span data-start="1151.68" data-end="1156.27">change fast you can't just throw at the</span> </p>
<p><span data-start="1156.27" data-end="1158.07">Dom so if I'm typing into a text field</span> <span data-start="1158.07" data-end="1159.72">and another piece of data updates I</span> <span data-start="1159.72" data-end="1161.22">don't want to lose what I'm typing into</span> <span data-start="1161.22" data-end="1163.14">the text field I don't want that flash</span> <span data-start="1163.14" data-end="1166.56">and reflow of my UI I don't want to use</span> <span data-start="1166.56" data-end="1168.47">lose my scroll position all that stuff</span> <span data-start="1168.47" data-end="1170.64">so what we did is we built this virtual</span> <span data-start="1170.64" data-end="1173.34">DOM and virtual event system that's</span> <span data-start="1173.34" data-end="1175.32">optimized for performance and memory</span> <span data-start="1175.32" data-end="1177.48">footprint so I'm just going to walk you</span> <span data-start="1177.48" data-end="1181.11">through how this works so on every</span> <span data-start="1181.11" data-end="1183.09">update which we get from that state that</span> <span data-start="1183.09" data-end="1185.54">set state call that I mentioned earlier</span> <span data-start="1185.54" data-end="1188.61">we build a new virtual dom subtree and</span> <span data-start="1188.61" data-end="1191.79">we dip it with the old one so if you</span> <span data-start="1191.79" data-end="1193.47">guys caught that talk on brackets</span> <span data-start="1193.47" data-end="1195.12">there'd actually doing similar things</span> <span data-start="1195.12" data-end="1197.97">with how we do the diffs we compute the</span> <span data-start="1197.97" data-end="1199.89">minimal set of dom mutations and we'd</span> <span data-start="1199.89" data-end="1202.56">like drop them into a queue and then we</span> <span data-start="1202.56" data-end="1203.91">back to execute all of the updates</span> <span data-start="1203.91" data-end="1208.8">together this looks a lot like the doom</span> <span data-start="1208.8" data-end="1211.86">3 engine there's a great series of blog</span> <span data-start="1211.86" data-end="1214.66">posts about how the doom 3 engine works</span> <span data-start="1214.66" data-end="1217.06">but you start with a game state and user</span> <span data-start="1217.06" data-end="1219.4">input so network events user input</span> <span data-start="1219.4" data-end="1221.59">events your knowledge of where everybody</span> <span data-start="1221.59" data-end="1223.51">is on the map what gun you have open you</span> <span data-start="1223.51" data-end="1225.7">know that kind of thing and then that</span> <span data-start="1225.7" data-end="1227.47">gets passed into the the front end of</span> <span data-start="1227.47" data-end="1230.59">the Dhoom 3 engine which executes the</span> <span data-start="1230.59" data-end="1232.54">game logic so there are scripts in the</span> <span data-start="1232.54" data-end="1234.13">levels there are certain rules about how</span> <span data-start="1234.13" data-end="1235.84">you can move throughout doom and that's</span> <span data-start="1235.84" data-end="1238.18">all in the front end and that creates an</span> <span data-start="1238.18" data-end="1240.39">intermediate representation of the scene</span> <span data-start="1240.39" data-end="1243.4">that intermediate representation gets</span> <span data-start="1243.4" data-end="1245.14">passed to the back end of the renderer</span> <span data-start="1245.14" data-end="1247.45">which generates the OpenGL operations</span> <span data-start="1247.45" data-end="1248.74">that then get flushed to the graphics</span> <span data-start="1248.74" data-end="1253.39">card here's how react works you have</span> <span data-start="1253.39" data-end="1255.22">your application state you have browser</span> <span data-start="1255.22" data-end="1257.38">events those go into your react</span> <span data-start="1257.38" data-end="1259.75">component tree which describes how your</span> <span data-start="1259.75" data-end="1260.95">application should work it's the</span> <span data-start="1260.95" data-end="1262.69">business logic of your application just</span> <span data-start="1262.69" data-end="1264.43">like the front-end of Doom three is a</span> <span data-start="1264.43" data-end="1267.52">business logic of Doom three we create</span> <span data-start="1267.52" data-end="1268.81">rather than a scene intermediate</span> <span data-start="1268.81" data-end="1270.55">representation we create a virtual Dom</span> <span data-start="1270.55" data-end="1272.23">which is an intermediate representation</span> <span data-start="1272.23" data-end="1274.98">of how your app should eventually look</span> <span data-start="1274.98" data-end="1277.57">we pass that to our back-end which</span> <span data-start="1277.57" data-end="1279.22">computes the operations that we need to</span> <span data-start="1279.22" data-end="1280.99">perform and then we flush those to the</span> </p>
<p><span data-start="1280.99" data-end="1283.51">Dom at the appropriate time and that's</span> <span data-start="1283.51" data-end="1284.89">actually pluggable how we flush it if</span> <span data-start="1284.89" data-end="1286.27">you want to use your own strategy you</span> <span data-start="1286.27" data-end="1288.88">can do that and this is actually</span> <span data-start="1288.88" data-end="1291.52">extremely fast primarily because most</span> <span data-start="1291.52" data-end="1294.48">Dom operations tend to be slow and</span> <span data-start="1294.48" data-end="1296.56">there's been a lot of performance work</span> <span data-start="1296.56" data-end="1298.93">on the Dom but you most operations tend</span> <span data-start="1298.93" data-end="1301.63">to drop frames because we can reason</span> <span data-start="1301.63" data-end="1302.95">about the global state of your</span> <span data-start="1302.95" data-end="1305.62">application at any point in time we can</span> <span data-start="1305.62" data-end="1306.97">compute the minimal set of Dom</span> <span data-start="1306.97" data-end="1308.71">operations and use heuristics to do</span> <span data-start="1308.71" data-end="1311.14">optimizations that reasoning about it at</span> <span data-start="1311.14" data-end="1314.74">a incremental level you can't and</span> <span data-start="1314.74" data-end="1316.93">because you're building components and</span> <span data-start="1316.93" data-end="1319.27">we enforce a strict life cycle on those</span> <span data-start="1319.27" data-end="1321.52">components we batch reads and writes for</span> <span data-start="1321.52" data-end="1323.38">the optimal performance so you're never</span> <span data-start="1323.38" data-end="1325.06">going to get in a situation where you do</span> <span data-start="1325.06" data-end="1326.98">a read do a write to the Dom then do a</span> <span data-start="1326.98" data-end="1328.39">read from the Dom again which triggers a</span> <span data-start="1328.39" data-end="1331.06">reflow now this is all stuff that you've</span> <span data-start="1331.06" data-end="1333.04">probably already heard about but</span> <span data-start="1333.04" data-end="1334.87">enforcing this at scale with a large</span> <span data-start="1334.87" data-end="1336.25">number of engineers building a large</span> <span data-start="1336.25" data-end="1337.54">number of components is actually</span> <span data-start="1337.54" data-end="1339.73">extremely difficult and react enforces</span> <span data-start="1339.73" data-end="1342.64">that for you and we found that this is</span> <span data-start="1342.64" data-end="1344.17">usually faster than manual Dom</span> <span data-start="1344.17" data-end="1345.38">operations</span> <span data-start="1345.38" data-end="1349.88">so react is not magic just like you can</span> <span data-start="1349.88" data-end="1352.58">drop into assembler with C and beat cm</span> <span data-start="1352.58" data-end="1355.25">beat the C compiler you can drop into</span> <span data-start="1355.25" data-end="1357.41">raw Dom operations and Dom API calls and</span> <span data-start="1357.41" data-end="1358.96">beat react if you wanted to</span> <span data-start="1358.96" data-end="1363.049">however using C or you know Java or</span> </p>
<p><span data-start="1363.049" data-end="1364.4">JavaScript is an order of magnitude</span> <span data-start="1364.4" data-end="1366.02">performance improvement because you</span> <span data-start="1366.02" data-end="1367.429">don't have to worry about you know in</span> <span data-start="1367.429" data-end="1369.62">Java or JavaScript managing memory and</span> <span data-start="1369.62" data-end="1372.26">in C you know the very specifics of the</span> <span data-start="1372.26" data-end="1376.07">platform and so with react you can build</span> <span data-start="1376.07" data-end="1377.419">applications without even thinking about</span> <span data-start="1377.419" data-end="1378.919">performance and the default state is</span> <span data-start="1378.919" data-end="1383.24">fast and we don't just stop at at you</span> <span data-start="1383.24" data-end="1384.71">know computing the minimal set of Dom</span> <span data-start="1384.71" data-end="1386.059">operations and making the Dom operations</span> <span data-start="1386.059" data-end="1389.09">fast we do automatic top-level event</span> <span data-start="1389.09" data-end="1391.039">delegation we basically re implemented</span> <span data-start="1391.039" data-end="1394.13">an event system so we have event</span> <span data-start="1394.13" data-end="1395.63">plug-ins that you know you can write</span> <span data-start="1395.63" data-end="1397.63">it's it's a pluggable part of our core</span> <span data-start="1397.63" data-end="1400.85">that read the raw stream of browser</span> <span data-start="1400.85" data-end="1403.429">events that come in and generate</span> <span data-start="1403.429" data-end="1405.559">synthetic events and these synthetic</span> <span data-start="1405.559" data-end="1407.72">events are compliant to the w3c</span> <span data-start="1407.72" data-end="1410.809">specification in all browsers and then</span> <span data-start="1410.809" data-end="1412.37">we have our own implementation of</span> <span data-start="1412.37" data-end="1414.919">bubbling and capturing which works</span> <span data-start="1414.919" data-end="1416.809">consistently across all browsers now we</span> <span data-start="1416.809" data-end="1419.69">have a great side effect of this which</span> <span data-start="1419.69" data-end="1422.659">is you get some cool html5 events in IE</span> <span data-start="1422.659" data-end="1424.7">8 for example because we have an</span> <span data-start="1424.7" data-end="1429.14">entirely synthetic event system another</span> <span data-start="1429.14" data-end="1432.02">thing about performance is we provide</span> <span data-start="1432.02" data-end="1433.58">some hooks to help you get even more</span> <span data-start="1433.58" data-end="1435.799">performance so there was a great talk</span> <span data-start="1435.799" data-end="1437.72">yesterday about two-way data-binding</span> <span data-start="1437.72" data-end="1439.309">performance and comparing and</span> <span data-start="1439.309" data-end="1443.179">contrasting the techniques and any sort</span> <span data-start="1443.179" data-end="1445.73">of automatic management of your UI</span> <span data-start="1445.73" data-end="1447.789">can be made to be slow if there's a</span> <span data-start="1447.789" data-end="1452.21">crazy enough example what makes react</span> <span data-start="1452.21" data-end="1454.61">special in this even though it's fast</span> <span data-start="1454.61" data-end="1455.419">out of the box</span> <span data-start="1455.419" data-end="1457.85">we provide optimisation hooks that don't</span> <span data-start="1457.85" data-end="1460.28">require you to refactor your application</span> <span data-start="1460.28" data-end="1462.799">to get speed boosts what this mean is</span> <span data-start="1462.799" data-end="1465.049">what this means is that you can write a</span> <span data-start="1465.049" data-end="1468.08">function that can tell react not to diff</span> <span data-start="1468.08" data-end="1470.63">a certain part of the tree and this is</span> <span data-start="1470.63" data-end="1472.37">this doesn't require you to change the</span> <span data-start="1472.37" data-end="1474.08">coupling between components rethink how</span> <span data-start="1474.08" data-end="1475.64">you fundamentally architected your app</span> <span data-start="1475.64" data-end="1478.63">and these hints to react are usually</span> <span data-start="1478.63" data-end="1482.8">just one line of code and we built demos</span> <span data-start="1482.8" data-end="1485.89">that run at 60 frames per second in non</span> </p>
<p><span data-start="1485.89" data-end="1490.33">JIT iPhone 5 web views and that's the</span> <span data-start="1490.33" data-end="1491.35">environment that a lot of you know</span> <span data-start="1491.35" data-end="1496.12">PhoneGap users would use the bottleneck</span> <span data-start="1496.12" data-end="1498.43">is almost never the diffing it's always</span> <span data-start="1498.43" data-end="1503.47">the Dom operations so the virtual Dom</span> <span data-start="1503.47" data-end="1504.79">let's just do some other cool things so</span> <span data-start="1504.79" data-end="1509.35">we can run in node.js so we're talking</span> <span data-start="1509.35" data-end="1510.76">about not breaking the web in the last</span> <span data-start="1510.76" data-end="1513.79">presentation and I think there was</span> <span data-start="1513.79" data-end="1515.95">mention of Google not crawling single</span> <span data-start="1515.95" data-end="1517.36">page applications that are all rendered</span> <span data-start="1517.36" data-end="1520.63">in JavaScript so what a lot of people</span> <span data-start="1520.63" data-end="1521.65">are doing today is they're running</span> <span data-start="1521.65" data-end="1523.51">phantom j/s they're running their</span> </p>
<p><span data-start="1523.51" data-end="1524.86">JavaScript and then they're dumping a</span> <span data-start="1524.86" data-end="1526.81">static HTML file and serving it to</span> <span data-start="1526.81" data-end="1529.6">Google what we do is we can actually</span> <span data-start="1529.6" data-end="1532.99">render an entirely static HTML page</span> <span data-start="1532.99" data-end="1535.36">without a Dom on the server so it's</span> <span data-start="1535.36" data-end="1536.95">actually really really fast and you can</span> <span data-start="1536.95" data-end="1538.42">serve all of your production traffic</span> <span data-start="1538.42" data-end="1540.85">with it so there's obvious C SEO</span> <span data-start="1540.85" data-end="1543.46">benefits here but we can do some other</span> <span data-start="1543.46" data-end="1546.07">cool things too you run the same code on</span> <span data-start="1546.07" data-end="1548.59">the client in the server and you send</span> <span data-start="1548.59" data-end="1551.74">down some markup react boots up on the</span> <span data-start="1551.74" data-end="1553.81">client and looks to see if markup is</span> <span data-start="1553.81" data-end="1557.44">there if the markup is there all it does</span> <span data-start="1557.44" data-end="1559.12">is attach event listeners and initialize</span> <span data-start="1559.12" data-end="1561.76">itself so you get a faster page load</span> <span data-start="1561.76" data-end="1564.64">experience your users will get the speed</span> <span data-start="1564.64" data-end="1568.15">and of being able to interact with a you</span> <span data-start="1568.15" data-end="1570.4">know static HTML page and by the time</span> <span data-start="1570.4" data-end="1571.72">the JavaScript is downloaded the</span> <span data-start="1571.72" data-end="1574.81">interactivity will pop in for you so you</span> <span data-start="1574.81" data-end="1576.22">can imagine the first page load</span> <span data-start="1576.22" data-end="1577.51">experience is a static page you start</span> <span data-start="1577.51" data-end="1579.46">typing a comment in a comment box and by</span> <span data-start="1579.46" data-end="1580.81">the time you're done typing the comment</span> <span data-start="1580.81" data-end="1582.55">and you press submit the JavaScript is</span> <span data-start="1582.55" data-end="1583.72">loaded in the background and you're</span> <span data-start="1583.72" data-end="1586.44">ready to go it's completely seamless</span> <span data-start="1586.44" data-end="1589.08">there's some other cool things we can do</span> <span data-start="1589.08" data-end="1592.62">because you're building components that</span> <span data-start="1592.62" data-end="1594.82">separate your concerns and represent</span> <span data-start="1594.82" data-end="1596.77">your application structure we have</span> <span data-start="1596.77" data-end="1598.51">knowledge of what your application looks</span> <span data-start="1598.51" data-end="1600.58">like and what it's going to do so your</span> <span data-start="1600.58" data-end="1602.53">components tend to reflect the structure</span> <span data-start="1602.53" data-end="1604.54">of your application and the information</span> <span data-start="1604.54" data-end="1606.76">architecture of the UI you're showing so</span> <span data-start="1606.76" data-end="1608.77">we can say you know hey if the if a</span> <span data-start="1608.77" data-end="1610.66">large subset of this virtual</span> <span data-start="1610.66" data-end="1611.549">representation</span> <span data-start="1611.549" data-end="1613.379">about to change maybe we should use a</span> <span data-start="1613.379" data-end="1614.909">different method of emptying dom nodes</span> <span data-start="1614.909" data-end="1617.249">than one for a smaller subset of the of</span> <span data-start="1617.249" data-end="1620.85">the dom and this is something that you</span> <span data-start="1620.85" data-end="1624.289">can't do just with dom manipulation and</span> <span data-start="1624.289" data-end="1629.759">finally testability for free I mentioned</span> <span data-start="1629.759" data-end="1631.139">before that these are just idempotent</span> <span data-start="1631.139" data-end="1632.58">components that take in some data and</span> <span data-start="1632.58" data-end="1635.34">output a description of the DOM and it's</span> <span data-start="1635.34" data-end="1638.22">a description of the Dom so you don't</span> <span data-start="1638.22" data-end="1640.619">actually have to run a s DOM or phantom</span> <span data-start="1640.619" data-end="1642.45">j/s to test your components you can if</span> <span data-start="1642.45" data-end="1644.429">you want and there are some useful use</span> <span data-start="1644.429" data-end="1645.899">cases for actually testing in a real</span> <span data-start="1645.899" data-end="1648.929">engine but you can just pass in some</span> <span data-start="1648.929" data-end="1652.049">data and then assert what your component</span> <span data-start="1652.049" data-end="1653.999">returned from its render method it's</span> <span data-start="1653.999" data-end="1655.919">very fast and you don't need a set of a</span> <span data-start="1655.919" data-end="1659.309">convoluted test environment for it a</span> <span data-start="1659.309" data-end="1661.519">week or two ago we also open source</span> </p>
<p><span data-start="1661.519" data-end="1665.009">SVG vml and canvas support via our</span> <span data-start="1665.009" data-end="1667.98">bindings to the art library we think</span> <span data-start="1667.98" data-end="1669.899">that you should be able to render your</span> <span data-start="1669.899" data-end="1671.759">interactive charts in the same</span> <span data-start="1671.759" data-end="1674.19">declarative way that you render your</span> <span data-start="1674.19" data-end="1677.07">interactive UI on the same you just</span> <span data-start="1677.07" data-end="1678.179">create a component that renders to a</span> <span data-start="1678.179" data-end="1681.84">canvas instead of to the DOM and finally</span> <span data-start="1681.84" data-end="1683.73">we have an experimental branch that</span> <span data-start="1683.73" data-end="1685.46">renders your whole app in a webworker</span> <span data-start="1685.46" data-end="1688.34">I'm not sure that this is a great idea</span> <span data-start="1688.34" data-end="1692.399">but the point is when you have a virtual</span> </p>
<p><span data-start="1692.399" data-end="1694.619">Dom representation you're not tied to</span> <span data-start="1694.619" data-end="1696.779">the browser you can run anywhere in any</span> <span data-start="1696.779" data-end="1698.489">sort of environment and it's extremely</span> <span data-start="1698.489" data-end="1703.169">valuable and while this was kind of a</span> <span data-start="1703.169" data-end="1704.789">cool hack it wasn't really that much</span> <span data-start="1704.789" data-end="1708.029">work to do we just send the events over</span> <span data-start="1708.029" data-end="1710.429">the boundary into the web worker and it</span> <span data-start="1710.429" data-end="1711.869">sends Dom operations back over to the</span> <span data-start="1711.869" data-end="1714.299">web worker like I said not sure this is</span> <span data-start="1714.299" data-end="1715.59">a great idea but it has some cool</span> <span data-start="1715.59" data-end="1719.759">implications so let's talk about the key</span> <span data-start="1719.759" data-end="1722.07">takeaways that I just mentioned I want</span> <span data-start="1722.07" data-end="1723.899">you to build components not templates</span> <span data-start="1723.899" data-end="1726.029">because I want you to separate your</span> <span data-start="1726.029" data-end="1727.35">concerns in the language of your</span> <span data-start="1727.35" data-end="1728.97">application not in the language of the</span> <span data-start="1728.97" data-end="1732.57">framework it's really hard to think</span> <span data-start="1732.57" data-end="1734.519">about mutation so just throw out your</span> <span data-start="1734.519" data-end="1736.35">old application re render the whole</span> <span data-start="1736.35" data-end="1738.389">thing and then have the implementation</span> <span data-start="1738.389" data-end="1739.95">take care of it for you and that</span> <span data-start="1739.95" data-end="1742.2">implementation is a virtual DOM and it's</span> <span data-start="1742.2" data-end="1744.01">actually not very complicated</span> <span data-start="1744.01" data-end="1745.84">extremely fast thanks to the great</span> </p>
<p><span data-start="1745.84" data-end="1750.28">JavaScript engines we have today so with</span> <span data-start="1750.28" data-end="1752.62">that I'd like to say thanks to Jay s</span> <span data-start="1752.62" data-end="1768.29">Khan for having me that's it</span> </p>
</section>

<!-- div#container ends -->
</div>

<img alt="The End" id="fin" src="../images/fin.jpg">

<script>
/*eslint-disable */
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google-translate');
}
/* eslint-enable */
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="../js/main.js"></script>

</body>

</html>
