<!DOCTYPE html>

<!--
Copyright 2019 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="//google.com">
  <meta name="description" content="web.dev LIVE video transcript">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>l95VFLj3e2w</title>
  <link rel="stylesheet" href="../css/main.css">
</head>

<body>

<iframe id="youtube" src="https://www.youtube.com/embed/l95VFLj3e2w?enablejsapi=1"></iframe>

<div id="container">

<div id="options">
  <div id="google-translate"></div>
  <div>
    <input type="checkbox" id="videoSticky" checked>
    <label for="videoSticky">Video position sticky</label>
  </div>
  <div>
    <input type="checkbox" id="captionScroll" checked>
    <label for="captionScroll">Keep current caption visible</label>
  </div>
</div>

<section>
<p><span data-start="9.5" data-end="11.36">Hello, JSConf.</span> <span data-start="11.36" data-end="12.94">I'm super excited to be back here.</span> <span data-start="12.94" data-end="16.75">It's been a few years since I've been to JSConf EU.</span> <span data-start="16.75" data-end="22.539">I wish I could say that accessibility has gotten better in that time, but we still need</span> <span data-start="22.539" data-end="27.38">to be reminded that people with disabilities are left behind quite often.</span> <span data-start="27.38" data-end="31.589">To tell you about accessibility today, I'm going to do something a little bit different.</span> <span data-start="31.589" data-end="33">I don't have any slides.</span> <span data-start="33" data-end="38.23">Instead, we're going to take a live debugging tour of a React application that I've built</span> <span data-start="38.23" data-end="44.86">with a few components, the goal of which is to teach you how to debug components for accessibility</span> <span data-start="44.86" data-end="49.04">because you're all capable of doing it, you just need a little bit of knowledge and a</span> <span data-start="49.04" data-end="51.51">little bit of empathy for your user.</span> </p>
<p><span data-start="51.51" data-end="56.5">You can find the repo a my GitHub.</span> <span data-start="56.5" data-end="61.98">With that, we're going to dive right into code.</span> <span data-start="61.98" data-end="68.13">If I go to the browser, I can show you the basing component library I've built.</span> <span data-start="68.13" data-end="72.979">It's got three components â€” a login form, a card flip, and a menu.</span> <span data-start="72.979" data-end="76.45">It's worth reiterating we can't cover all of it in 25 minutes.</span> <span data-start="76.45" data-end="83.39">I will show you keyboard mechanics, screen reader support, and things that are chronically</span> <span data-start="83.39" data-end="84.89">forgotten.</span> <span data-start="84.89" data-end="86.77">It really ends up impacting users.</span> <span data-start="86.77" data-end="90.149">So, to get started, let's look at our login form.</span> <span data-start="90.149" data-end="91.869">It has three fields in it.</span> <span data-start="91.869" data-end="93.77">Those fields have placeholders.</span> <span data-start="93.77" data-end="99.229">Unfortunately, a placeholder is not enough for a screenreader user to use a web page,</span> <span data-start="99.229" data-end="103.829">and I wish we could move on from this, but I see this so often.</span> </p>
<p><span data-start="103.829" data-end="106.27">Let's check out how we can fix this.</span> <span data-start="106.27" data-end="111.03">If I were debugging this on a real page, I would open the developer tools.</span> <span data-start="111.03" data-end="116.999">So, if I open up my DevTools in Chrome, I can go and inspect this HTML and see what's</span> <span data-start="116.999" data-end="117.999">going on.</span> <span data-start="117.999" data-end="122.35">A quicker way to do this is to use a tool like the X Chrome extension.</span> <span data-start="122.35" data-end="123.52">There are other tools.</span> <span data-start="123.52" data-end="124.52">I like this one.</span> <span data-start="124.52" data-end="125.52">I happy to work on it.</span> <span data-start="125.52" data-end="128.369">It is built with React and JavaScript.</span> </p>
<p><span data-start="128.369" data-end="133.03">I can analyse any web page and see what's going on with this, and, sure enough, those</span> <span data-start="133.03" data-end="137.68">placeholder attributes are not enough for a screenreader user in all browsers.</span> <span data-start="137.68" data-end="139.569">That's something that we could fix.</span> <span data-start="139.569" data-end="146.1">There is also an error here about content not being contained in a landmark region.</span> <span data-start="146.1" data-end="151.76">Our main content is just sitting there in the DOM, and it's not wrapped in a landmark.</span> <span data-start="151.76" data-end="156.099">So we're not taking advantage of HTML to be screenreader users.</span> <span data-start="156.099" data-end="162.2">Let's go back over to my text editor, poke around, and fix some of this stuff.</span> <span data-start="162.2" data-end="168.58">In my app.js file, this is where everything comes together, my components.</span> <span data-start="168.58" data-end="174.03">I can see that there is a header element here, so that acts and one landmark.</span> <span data-start="174.03" data-end="178.719">If we scroll down, there is a main detective that has a class name.</span> <span data-start="178.719" data-end="179.719">Guess what?</span> <span data-start="179.719" data-end="180.98">That's not very semantic.</span> <span data-start="180.98" data-end="182.36">Let's fix that.</span> <span data-start="182.36" data-end="187.939">I'm going to change the divs to a main element which has an implicit role of main, but if</span> <span data-start="187.939" data-end="192.95">you're supporting Internet Explorer 11, which a lot of people with disabilities rely on,</span> <span data-start="192.95" data-end="194.79">we need to bolt on a role.</span> </p>
<p><span data-start="194.79" data-end="196.79">I'm going to bolt on main.</span> <span data-start="196.79" data-end="198.329">It is redundant.</span> <span data-start="198.329" data-end="204.01">If you're supporting IE11 or below, you need to add that to expose the semantics.</span> <span data-start="204.01" data-end="208.84">Similarly, on the header element, we can add a roll of banner and will expose the fact</span> <span data-start="208.84" data-end="213.959">that this is a global header, not to be confused with a header inside an article tag.</span> <span data-start="213.959" data-end="219.43">That way, assistive technology, they can use these landmarks as navigation points in our</span> <span data-start="219.43" data-end="226.049">application, of like they might navigate by headings, you can also navigate by landmarks.</span> <span data-start="226.049" data-end="229.89">We uncovered those few problems in the X Chrome extension.</span> <span data-start="229.89" data-end="234.67">I am also going to show you the login form.</span> <span data-start="234.67" data-end="241.159">The login form demo in JavaScript, this example uses an array with the three field names.</span> <span data-start="241.159" data-end="249.349">They get past the login form and we can create a dynamic login form based on this array.</span> <span data-start="249.349" data-end="257.289">If I look at the login form component, it takes that array of fields, maps them to a</span> <span data-start="257.289" data-end="258.34">set of inputs.</span> <span data-start="258.34" data-end="260.919">Each input we iterate over its name.</span> </p>
<p><span data-start="260.919" data-end="264.19">This is where those labels are missing.</span> <span data-start="264.19" data-end="271.97">So I'm going to add a label.</span> <span data-start="271.97" data-end="274.97">We've got something redundant here with the placeholder.</span> <span data-start="274.97" data-end="279.08">This is a design decision that you might need to make with your design team: do you have</span> <span data-start="279.08" data-end="283.21">a visible label, or do you use something like area label?</span> <span data-start="283.21" data-end="286.68">I'm going to opt for the visible label.</span> <span data-start="286.68" data-end="290.97">I don't know about you, but when I type in a form field that only has a placeholder and</span> <span data-start="290.97" data-end="296.169">I forget what I'm typing in, and I go back out and back, I would advocate for the visible</span> <span data-start="296.169" data-end="297.419">label.</span> <span data-start="297.419" data-end="301.47">If it was something like a telephone number, and it had a specific pattern, then that would</span> <span data-start="301.47" data-end="303.229">be a good place for a placeholder.</span> </p>
<p><span data-start="303.229" data-end="309.99">Additionally, we can use HTML better here by adding a field set element around our form</span> <span data-start="309.99" data-end="310.99">fields.</span> <span data-start="310.99" data-end="317.419">I'm going to wrap in in a field set, and then this H2 heading I will wrap in a legend tag.</span> <span data-start="317.419" data-end="322.61">Leveraging HTML's capabilities to make a more semantic and accessible form, no matter how</span> <span data-start="322.61" data-end="328.849">you're delivering your HTML, this happens to be in JSX using React, so, to test this</span> <span data-start="328.849" data-end="334.36">in the spirit of test-driven development, I'm going to apply Selenium web driver.</span> <span data-start="334.36" data-end="341.74">I have a script in my package JSON file called integration, so I'm going to run mpm run integration.</span> <span data-start="341.74" data-end="346.539">It's going to use mocha.</span> <span data-start="346.539" data-end="350.16">It has found that there are no violations in this.</span> <span data-start="350.16" data-end="360.949">If we look at this test, no pressure doing is live!</span> </p>
<p><span data-start="360.949" data-end="366.509">Login, this is the fun part, right, watching me type!</span> <span data-start="366.509" data-end="368.1">So I have a test here.</span> <span data-start="368.1" data-end="375.68">It's actually using the just library the same extension we were using in the browser extension,</span> <span data-start="375.68" data-end="382.319">and we can leverage the accessibility API so we don't have to know the nitty-gritty</span> <span data-start="382.319" data-end="388.98">details of accessible names, and colour contrasts, and a lot of common accessibility problems.</span> <span data-start="388.98" data-end="393.83">So I'm using Selenium here because that's a lot like what a real user can experience.</span> <span data-start="393.83" data-end="394.89">I can fire up a browser.</span> <span data-start="394.89" data-end="397.389">In this case, I was using Chrome.</span> <span data-start="397.389" data-end="402.83">It hits that localhost URL for the login form, and then I have a single test in here.</span> <span data-start="402.83" data-end="405.18">It uses X build er.</span> <span data-start="405.18" data-end="411.99">That will return to me an object with accessibility violations that I can use to assert accessibility</span> <span data-start="411.99" data-end="413.139">problems.</span> <span data-start="413.139" data-end="418.85">It's worth pointing out this will only catch the low-hanging fruit, so those basics we</span> <span data-start="418.85" data-end="419.85">forget.</span> </p>
<p><span data-start="419.85" data-end="425.449">It is nice to have a tool pointing out you've forgotten it and you can move on to use human</span> <span data-start="425.449" data-end="430.419">power for more complex problems.</span> <span data-start="430.419" data-end="433.319">We fixed our first few problems and our login form.</span> <span data-start="433.319" data-end="436.879">Let's go back to the browser and look at our next component.</span> <span data-start="436.879" data-end="440.409">I guess one thing to point out about this login form, when I added the field set, it</span> <span data-start="440.409" data-end="445.07">did add a border around it.</span> </p>
<p><span data-start="445.07" data-end="449.819">You can style it however you want, but under the hood, we've added great semantics to this</span> <span data-start="449.819" data-end="450.819">form.</span> <span data-start="450.819" data-end="453.71">So, on to our next component.</span> <span data-start="453.71" data-end="454.71">The card flip.</span> <span data-start="454.71" data-end="459.729">Now, I'm going â€” I'm not going to name where this came from, but it came from a real website</span> <span data-start="459.729" data-end="462.639">out of respect for the innocent!</span> <span data-start="462.639" data-end="464.379">It's a little profile.</span> <span data-start="464.379" data-end="471.93">In this case, I'm using a picture of my dog, Mr Ranier McChetterton, but, when I hover</span> <span data-start="471.93" data-end="477.76">over this, it reveals back side on the card flip.</span> <span data-start="477.76" data-end="483.689">If I'm using a keyboard only, if I tab through this web page, I don't ever reach the card</span> <span data-start="483.689" data-end="486.9">flip because it just works with the mouse.</span> <span data-start="486.9" data-end="495.24">So, for a keyboard-only user, someone using a screenreader, by the end of the workweek</span> <span data-start="495.24" data-end="504.04">when my programmer elbow problem flares up, this is super useful.</span> </p>
<p><span data-start="504.04" data-end="506.53">We need to be able to focus and flip it back and forth.</span> <span data-start="506.53" data-end="512.8">I'm going to make a design decision here to make it work on click rather than hover.</span> <span data-start="512.8" data-end="518.56">I can tell you from experience that the reality of maintaining hover animations and keyboard</span> <span data-start="518.56" data-end="524.2">support, you don't want to make this move on keyboard focus, so that one-to-one interaction</span> <span data-start="524.2" data-end="525.28">isn't the same any more.</span> <span data-start="525.28" data-end="530.88">I'm going to change it to work a little bit differently.</span> <span data-start="530.88" data-end="534.83">Just to give you a little more info before we go and make our changes to this, we can</span> <span data-start="534.83" data-end="538.67">go inspect what this markup under the hood is looking like.</span> <span data-start="538.67" data-end="540.92">It is a series of detectives.</span> <span data-start="540.92" data-end="544.07">It does  â€”  it is a series of divs.</span> </p>
<p><span data-start="544.07" data-end="545.92">I've got some content.</span> <span data-start="545.92" data-end="552.26">The back side of this card, we want to make it revealed when we interact it for everybody,</span> <span data-start="552.26" data-end="553.93">not just for mouse users.</span> <span data-start="553.93" data-end="559.18">With that, let's go back to our card flip.</span> <span data-start="559.18" data-end="564.76">The card flip demo is where we instantiate the component.</span> </p>
<p><span data-start="564.76" data-end="569.72">It may be useful, they all have this card flip interaction.</span> <span data-start="569.72" data-end="572.089">Isle passing it some data.</span> <span data-start="572.089" data-end="575.4">It instantiates this card flip component.</span> <span data-start="575.4" data-end="577.51">It needs to manage state.</span> <span data-start="577.51" data-end="583.57">Is it active or not in we need to add markup to this to reach it.</span> <span data-start="583.57" data-end="588.71">It's sad how I find user interface components who have completely forgotten the keyboard.</span> <span data-start="588.71" data-end="597.79">We are going to fix this right now.</span> <span data-start="597.79" data-end="609.23">So, our card flip, it is in a slightly better state.</span> <span data-start="609.23" data-end="613.84">So, I'm going to give you a little tour of what I fixed here.</span> <span data-start="613.84" data-end="620.26">Our card flip component, if we scroll down and look at this markup, now, instead of just</span> <span data-start="620.26" data-end="623.81">a series of divs that we hover on, we actually have a button.</span> </p>
<p><span data-start="623.81" data-end="626.37">The button is focusable by adult.</span> <span data-start="626.37" data-end="629.51">The text inside it is the team member's name, and a subtitle.</span> <span data-start="629.51" data-end="633.88">It is a short amount of title so okay for a button name.</span> <span data-start="633.88" data-end="637.24">I'm working on the click event for the button which works for everybody.</span> <span data-start="637.24" data-end="640.11">You can use it from the mouse, you can use it from the keyboard.</span> </p>
<p><span data-start="640.11" data-end="641.99">This is way more accessible.</span> <span data-start="641.99" data-end="646.089">So that button is then going to trigger the card flip, and that is going expose the back</span> <span data-start="646.089" data-end="649.75">side of this card content inside of a dialogue element.</span> <span data-start="649.75" data-end="652.25">I'm using a role of dialogue.</span> <span data-start="652.25" data-end="653.97">It is similar to our landmarks earlier.</span> <span data-start="653.97" data-end="658.352">If you're useful the landmark element, you need to bolt on the role of dialogue in order</span> <span data-start="658.352" data-end="661.63">to support its semantics in older browsers.</span> </p>
<p><span data-start="661.63" data-end="662.83">This is a good start.</span> <span data-start="662.83" data-end="667.709">Now we need to look at how we are going to handle this interaction.</span> <span data-start="667.709" data-end="672.36">So, when I land on that button, I'm going to fire that click event, and it's in React</span> <span data-start="672.36" data-end="674.24">style, I'm going to change the state.</span> <span data-start="674.24" data-end="676.37">That's why I'm going to flip between the front and back.</span> </p>
<p><span data-start="676.37" data-end="680.55">There is something you should know about this type of interaction is that we need to handle</span> <span data-start="680.55" data-end="684.42">the user's focus so they're not getting left behind in the background layer.</span> <span data-start="684.42" data-end="687.3">We will send focus into it.</span> <span data-start="687.3" data-end="691.82">In React, the great tool for that is the ref API.</span> </p>
<p><span data-start="691.82" data-end="698.899">They've added a better handle for it, so, with each element you're going to send focus</span> <span data-start="698.899" data-end="704.3">to, you can create a ref, it gives you a handle or a hook to add focus management.</span> <span data-start="704.3" data-end="707.97">So, we have one for the toggle, which is where it starts.</span> <span data-start="707.97" data-end="712.22">And then we have a close button now, because we've made this open on click, we need a way</span> <span data-start="712.22" data-end="713.97">to get back.</span> </p>
<p><span data-start="713.97" data-end="716.17">Let's check this out in the browser.</span> <span data-start="716.17" data-end="722.8">Now, when I hover over it, that's the old version, so, now, it's not hover interaction</span> <span data-start="722.8" data-end="723.82">any more.</span> <span data-start="723.82" data-end="728.85">I've indicated that it's interactive by changing the text to have some other indication which,</span> <span data-start="728.85" data-end="730.329">in this case, is an underline.</span> <span data-start="730.329" data-end="735.389">When we look at it, we can tell it's more interactive than just text on the screen.</span> <span data-start="735.389" data-end="741.47">So, when I click on it now, I can actually fire this interaction, and my focus is sent</span> <span data-start="741.47" data-end="744.19">into it.</span> <span data-start="744.19" data-end="751.019">If I'm using the keyboard, instead of passing by this component, I can use the enter key</span> <span data-start="751.019" data-end="753.98">and this is sent into the component.</span> <span data-start="753.98" data-end="759.73">This is a simple card flip, but these keyboard mechanics, you can use for other things, modal</span> <span data-start="759.73" data-end="763.459">dialogues, menus â€” which we will look at in a second.</span> <span data-start="763.459" data-end="768.79">We want to make make sure that we're not leaving the keyboard user behind completely by not</span> <span data-start="768.79" data-end="772.43">making things focusable and not handling their focus.</span> </p>
<p><span data-start="772.43" data-end="778.38">In JavaScript applications with be we want to be mindful of the user's focus and sending</span> <span data-start="778.38" data-end="781.639">them in and out of interactive layer.</span> <span data-start="781.639" data-end="783.639">This is a lot better.</span> <span data-start="783.639" data-end="788.779">There is a Twitter link in here that also needs a little bit of help.</span> <span data-start="788.779" data-end="794.16">One thing I want to fix now is, if you're seeing this blue focus ring, you might be</span> <span data-start="794.16" data-end="796.86">going, "Wait a minute, I need to turn that off.</span> <span data-start="796.86" data-end="798.209">I hate that blue outline.</span> <span data-start="798.209" data-end="799.209">I've been there."</span> <span data-start="799.209" data-end="802.44">So I have a solution for you: let's go back to our text editor.</span> <span data-start="802.44" data-end="811.019">I'm actually going to add a tool called "what input".</span> <span data-start="811.019" data-end="819.1">I can download it from MPM, gives you a hook in your â€” to input the user modality.</span> <span data-start="819.1" data-end="826.72">If you're using a mouse, they can style one way, a keyboard another way, and so on.</span> </p>
<p><span data-start="826.72" data-end="836.43">There is a standards-based condition coming been it's not ready for prime-time yet, so</span> <span data-start="836.43" data-end="843.089">I'm still a what-input fan, but we need one more piece to this.</span> <span data-start="843.089" data-end="845.49">I'm going to cheat a little bit.</span> <span data-start="845.49" data-end="852.08">I'm going to check out the solution.</span> <span data-start="852.08" data-end="858.339">If we add what-input, if we go to our CSS, instead of lining the outside line for everyone,</span> <span data-start="858.339" data-end="862.07">which, if you have outlined none for everything, nuke it from orbit.</span> </p>
<p><span data-start="862.07" data-end="863.68">Get rid of it.</span> <span data-start="863.68" data-end="869.009">Put it to focus visible to be more selective about how you apply focus.</span> <span data-start="869.009" data-end="876.44">With this what-intent input, whatever that matches, then we can hide the outline.</span> <span data-start="876.44" data-end="878.759">I will show you what effect that has.</span> <span data-start="878.759" data-end="882.74">Now, when we click on this component with the mouse, we don't get that outline.</span> <span data-start="882.74" data-end="889.079">It keeps mouse users happy, but if I use the keyboard as an input modality, I still get</span> <span data-start="889.079" data-end="893.42">that visible outline, so I can see where I am on the screen, which is super important</span> <span data-start="893.42" data-end="896.94">if you can't use a mouse, or attraction pad, even.</span> </p>
<p><span data-start="896.94" data-end="902.42">Users who rely on that can't magically grow the ability to see where they are on the screen.</span> <span data-start="902.42" data-end="908.759">This is super helpful and makes it easy to support all users.</span> <span data-start="908.759" data-end="914.73">That's a card flip animation, how we can support everybody by doing it.</span> <span data-start="914.73" data-end="918.28">I guess before we move on, I want to show you what the tests are like for this card</span> <span data-start="918.28" data-end="919.709">flip.</span> <span data-start="919.709" data-end="924">So, I've written some unit tests for this.</span> </p>
<p><span data-start="924" data-end="928.61">It's debatable whether you want your tests to live in unit tests or integrate tests.</span> <span data-start="928.61" data-end="930.339">I think you can do both.</span> <span data-start="930.339" data-end="935.4">It depends on what exactly you're testing, but for focus management, unit tests make</span> <span data-start="935.4" data-end="940.459">a lot of sense if you're testing APIs, like, if you have a focus manager throughout your</span> <span data-start="940.459" data-end="946.23">whole application, you can test with unit tests for that been in this case, I could</span> <span data-start="946.23" data-end="947.23">have done either.</span> <span data-start="947.23" data-end="950.199">I'm testing where the focus has been handled.</span> <span data-start="950.199" data-end="955.47">I'm testing the state of this component, so I'm using Jest for this component.</span> <span data-start="955.47" data-end="962.82">I'm first testing the active state, and check â€” or setting the state in the test to true.</span> <span data-start="962.82" data-end="969.67">This is the mouse-user case, and just using pure state, so, the side effect of changing</span> <span data-start="969.67" data-end="973.35">the state of this component is that it adds a CSS class of active.</span> <span data-start="973.35" data-end="979.389">I can go and check, if I modify the state, that it is handling that appropriately.</span> <span data-start="979.389" data-end="984.3">For the keyboard mechanics, I want to do the same thing, I want to see the side effect</span> <span data-start="984.3" data-end="989.54">of the DOM being manipulated but I want to simulate it with a keydown event.</span> </p>
<p><span data-start="989.54" data-end="994.25">With Enzyme in React land, you can simulate events.</span> <span data-start="994.25" data-end="998.99">The catch is that your event handling has to be in React.</span> <span data-start="998.99" data-end="1005.2">You can't use Enzyme to simulate a native implement event, so a little bit of a gotcha</span> <span data-start="1005.2" data-end="1010.47">there, but since I did use React for this, I can simulate that event and check that my</span> <span data-start="1010.47" data-end="1013.23">logic and component is doing what I expect.</span> <span data-start="1013.23" data-end="1019.85">In this case, I'm simulating a key down with an enter key on that burnt that I created.</span> <span data-start="1019.85" data-end="1024.22">I suspect it will also add that touch of class.</span> <span data-start="1024.22" data-end="1030.42">Gotcha number two is that sometimes, your DOM may not be ready when you go to test it.</span> <span data-start="1030.42" data-end="1035.9">The element might not be visible yet, and you need a way to tick.</span> <span data-start="1035.9" data-end="1036.9">Is sucks.</span> <span data-start="1036.9" data-end="1039.02">I wish we didn't have to do that.</span> <span data-start="1039.02" data-end="1046.27">If you're testing for accessibility, you might have to become friends with the sett function.</span> <span data-start="1046.27" data-end="1047.68">We just tell â€” the setTimeout function.</span> <span data-start="1047.68" data-end="1053.53">We tell the element with the focusable thing is actually visible and ready.</span> <span data-start="1053.53" data-end="1059.74">Then to take this one step further, I've got the same API that we used earlier, and the</span> </p>
<p><span data-start="1059.74" data-end="1065.66">AX web driver JS utility, using the underlying JavaScript core library.</span> <span data-start="1065.66" data-end="1072.75">If you've used lighthouse in Google Chrome, it is the same accessibility there.</span> <span data-start="1072.75" data-end="1083.01">The idea is that it's the same API to get accessibility basics into your tests automation.</span> <span data-start="1083.01" data-end="1087.5">That way, if a team-mate breaks something for accessibility, or you come back a few</span> <span data-start="1087.5" data-end="1092.84">weeks later and break your own thing, you can prevent those problems from making it</span> <span data-start="1092.84" data-end="1094.7">into production.</span> <span data-start="1094.7" data-end="1101.611">Because I'm using Jest here, which uses JS DOM, I've disabled two rules in AX: colour</span> <span data-start="1101.611" data-end="1108.15">contrast and text block, because JS DOM doesn't have some of the necessary APIs for that,</span> <span data-start="1108.15" data-end="1113.96">but then you would want to go back either to a browser extension and run those colour-contrast</span> <span data-start="1113.96" data-end="1119.89">tests again because that's actually the number-one accessibility problem on the web.</span> <span data-start="1119.89" data-end="1126.53">In this case, my app didn't really in have any colour contrast problems.</span> <span data-start="1126.53" data-end="1137.34">I'm instantiating my component, passing it dummy data and then using x.run and making</span> <span data-start="1137.34" data-end="1140.32">similar assertions as I did in my test.</span> </p>
<p><span data-start="1140.32" data-end="1145.46">I'm going to do mpm test.</span> <span data-start="1145.46" data-end="1147.96">That's going to fire up jest.</span> <span data-start="1147.96" data-end="1151.11">I can hit "all", and we will see what is going on.</span> <span data-start="1151.11" data-end="1154.06">Our tests are passing, which is amazing.</span> </p>
<p><span data-start="1154.06" data-end="1155.4">I've got that card flip.</span> <span data-start="1155.4" data-end="1156.88">It's checking the keyboard mechanics.</span> <span data-start="1156.88" data-end="1162.26">So, if I broke it, like maybe somebody didn't know what the button was for, that test would</span> <span data-start="1162.26" data-end="1163.26">then fail.</span> <span data-start="1163.26" data-end="1170.07">It is not just accessibility testing off to the side, it's baked into our tests, so it's</span> <span data-start="1170.07" data-end="1174.81">a holistic approach, and it really makes it embedded and mainstream.</span> <span data-start="1174.81" data-end="1179.08">I love that way of working, especially with test-driven development when you can write</span> <span data-start="1179.08" data-end="1184.09">a failing test, go at the feature, and then make the test pass.</span> </p>
<p><span data-start="1184.09" data-end="1185.62">So that's a card flip.</span> <span data-start="1185.62" data-end="1189.23">Let's look at our last component, which is a December top-style menu.</span> <span data-start="1189.23" data-end="1195.12">Now, if you're building something like a text editor built with web technologies, or actually</span> <span data-start="1195.12" data-end="1201.01">you have a complex web application that your menu doesn't necessarily navigate the user</span> <span data-start="1201.01" data-end="1207.77">to places, but you can do things like find something, or split consent into lines, this</span> <span data-start="1207.77" data-end="1214.13">menu that I have here is very â€” it looks like something you would pinned in a text editor.</span> <span data-start="1214.13" data-end="1218.37">When I more over each of these selections, it opens that little sub menu.</span> <span data-start="1218.37" data-end="1223.53">So, if I go in and inspect this, let's see what is going on with this markup.</span> <span data-start="1223.53" data-end="1226.47">So the menu is an unordered list.</span> <span data-start="1226.47" data-end="1233.06">It has a set of list items that are not interactive, so there is some hover going on here but no</span> <span data-start="1233.06" data-end="1235.88">handle for a keyboard user to get to.</span> <span data-start="1235.88" data-end="1240.51">The sub content is a sibling unordered list.</span> <span data-start="1240.51" data-end="1246.35">There is no programmatic association between these two, no hooks for keyboards, no screenreader</span> <span data-start="1246.35" data-end="1247.35">support.</span> </p>
<p><span data-start="1247.35" data-end="1252.32">I just found this component in any event on the internet.</span> <span data-start="1252.32" data-end="1254.06">You might find stuff like this.</span> <span data-start="1254.06" data-end="1258.7">Without a second thought, you're shipping something that you naught was saving you time</span> <span data-start="1258.7" data-end="1263.81">but opens you up for some accessibility risk, and leaving your users behind.</span> <span data-start="1263.81" data-end="1269.09">So I thought this had potential, and let's go and look at how I actually fixed this.</span> <span data-start="1269.09" data-end="1270.9">Let's go back to our text editor.</span> <span data-start="1270.9" data-end="1274.47">I will open up our menu component.</span> <span data-start="1274.47" data-end="1277.94">It's using this React menu AIM component.</span> <span data-start="1277.94" data-end="1283.371">It is actually creating a React mix-in under the hood, and then the tell me mow that I</span> <span data-start="1283.371" data-end="1287.62">pulled in gave me the opportunity to make changes to it.</span> <span data-start="1287.62" data-end="1296.171">So the default state of this is all this good stuff that is sadly not accessible, so, let's</span> <span data-start="1296.171" data-end="1297.85">go and fix it.</span> <span data-start="1297.85" data-end="1303.56">I'm going to get out of Jest, and I'm going to check out the fixed solution for this.</span> <span data-start="1303.56" data-end="1309.71">We will go and make sure that our solution is showing.</span> <span data-start="1309.71" data-end="1313.42">I guess the first thing I had to do was add assist focusable.</span> </p>
<p><span data-start="1313.42" data-end="1319.64">I added a few different items to this to the role of menu, to insist on the fact that this</span> <span data-start="1319.64" data-end="1328.13">is a desktop-style menu, and, inside the top-level list items, I opted to create a button for</span> <span data-start="1328.13" data-end="1331.28">each item so that it would be focusable by default.</span> <span data-start="1331.28" data-end="1336.26">I'm giving that a role of menu item, so kind of overloading the default semantics of that</span> <span data-start="1336.26" data-end="1339.99">element, but I'm getting the focusability for free.</span> </p>
<p><span data-start="1339.99" data-end="1342.26">This pattern is not something I made up.</span> <span data-start="1342.26" data-end="1347.03">It's from the authoring practices guide.</span> <span data-start="1347.03" data-end="1353.93">I'm using their recommended attributes of RE has pop-up of true, using REX expanded,</span> <span data-start="1353.93" data-end="1359">I can change that attribute to be true or false, and this is where the magic happens,</span> <span data-start="1359" data-end="1361.06">the on-key-down function.</span> <span data-start="1361.06" data-end="1364.92">It uses a ref so I can handle focus management between here.</span> <span data-start="1364.92" data-end="1369.66">To finish out our our tour, I have the child list.</span> <span data-start="1369.66" data-end="1374.04">Instead of being siblings, I moved it so it is inside of that list item.</span> <span data-start="1374.04" data-end="1383.03">That way, we don't have to use something like the controls, which, if you've read -</span> <span data-start="1383.03" data-end="1388.31">so I opted to use HTML's own hierarchy to make that association.</span> <span data-start="1388.31" data-end="1393.3">Then the child items for this stage one, I just did the top level.</span> </p>
<p><span data-start="1393.3" data-end="1398.18">When I handled the key events, I can hit handle up or down, and those will check where we</span> <span data-start="1398.18" data-end="1401.73">are in the menu and change the state accordingly.</span> <span data-start="1401.73" data-end="1407.23">So the state is really just setting the state of what the active index is, and then, if</span> <span data-start="1407.23" data-end="1411.53">I've used the keyboard, which I know because I've used the keyboard to get there, I can</span> <span data-start="1411.53" data-end="1417.83">add focus to the item. if I go to this menu now, it looks slightly different but you can</span> <span data-start="1417.83" data-end="1419.56">play around with the style.</span> <span data-start="1419.56" data-end="1424.54">The idea of the desktop menu, it's not actual links.</span> <span data-start="1424.54" data-end="1427.97">It is is one-tab stop.</span> <span data-start="1427.97" data-end="1434.56">I can arrow around, and now I can real reach everything for this stage one.</span> <span data-start="1434.56" data-end="1438.43">For stage 2, let's check that out real quick.</span> <span data-start="1438.43" data-end="1444.4">Let's make sure we don't have any changes.</span> <span data-start="1444.4" data-end="1448.99">For stage 2, it got a little more complex, because now I have to manage the state of</span> <span data-start="1448.99" data-end="1455.35">two levels, so, for my first pass at this, I had to add hooks for the number of item</span> <span data-start="1455.35" data-end="1463.04">in both levels, I had to refresh this, and I have to maintain the sub menu items, and</span> <span data-start="1463.04" data-end="1464.42">all kinds of stuff.</span> </p>
<p><span data-start="1464.42" data-end="1468.05">So, you can check this out on GitHub to see the full solution.</span> <span data-start="1468.05" data-end="1473.56">If we go look at it in the browser, now, I can go through tease top-level items and I</span> <span data-start="1473.56" data-end="1477.03">can get to the lower level of items.</span> <span data-start="1477.03" data-end="1481.31">With a little bit of refactoring I was able to make this way more accessible than it was</span> <span data-start="1481.31" data-end="1482.39">before.</span> </p>
<p><span data-start="1482.39" data-end="1485.98">This is something I will probably contribute back to the component, because, when you're</span> <span data-start="1485.98" data-end="1491.25">using components, you can really help other people out by filing issues for sensibility,</span> <span data-start="1491.25" data-end="1497.34">and, if you have the solution, contribute it or suggest it in the issue before we have</span> <span data-start="1497.34" data-end="1502.85">managed to make make some things way more accessible than they were before.</span> <span data-start="1502.85" data-end="1504.11">I don't have slides.</span> <span data-start="1504.11" data-end="1508.03">If you want to review what we worked on today, you can check out my GitHub.</span> <span data-start="1508.03" data-end="1511.54">I've tagged all the fixes in git tags.</span> </p>
<p><span data-start="1511.54" data-end="1513.18">There are resources here.</span> <span data-start="1513.18" data-end="1518.24">If you're new to accessibility, need help, get your team members on here, got some resources</span> <span data-start="1518.24" data-end="1519.24">here.</span> <span data-start="1519.24" data-end="1525.78">I want to, you don't need to reinvent the wheel with a lot of these interactions and</span> <span data-start="1525.78" data-end="1526.78">components.</span> <span data-start="1526.78" data-end="1532.07">You can check what is out there already and learn more about accessibility.</span> <span data-start="1532.07" data-end="1539.51">My last caveat is that automated testing and this type of work will only get to the low-hanging</span> <span data-start="1539.51" data-end="1543.88">fruit, so you also want to test with real users, because automated tooling can't catch</span> <span data-start="1543.88" data-end="1546.04">everything.</span> <span data-start="1546.04" data-end="1551.34">It relies on you to know how to make the components in your app more successful with tips like</span> <span data-start="1551.34" data-end="1557.36">I have in this repo but then test with peel people â€” people with disabilities.</span> <span data-start="1557.36" data-end="1559.55">See how they use your application.</span> <span data-start="1559.55" data-end="1564.35">You might be surprise they stumble and hit barriers.</span> </p>
<p><span data-start="1564.35" data-end="1568.89">I hope I've given you tools and techniques you can use to make your apps so much more</span> <span data-start="1568.89" data-end="1569.89">successful.</span> <span data-start="1569.89" data-end="1570.89">Thanks very much for having me.</span> </p>
</section>

<!-- div#container ends -->
</div>

<img alt="The End" id="fin" src="../images/fin.jpg">

<script>
/*eslint-disable */
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google-translate');
}
/* eslint-enable */
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="../js/main.js"></script>

</body>

</html>
