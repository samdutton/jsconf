<!DOCTYPE html>

<!--
Copyright 2019 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="//google.com">
  <meta name="description" content="web.dev LIVE video transcript">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ClHpkn_qxos</title>
  <link rel="stylesheet" href="../css/main.css">
</head>

<body>

<iframe id="youtube" src="https://www.youtube.com/embed/ClHpkn_qxos?enablejsapi=1"></iframe>

<div id="container">

<div id="options">
  <div id="google-translate"></div>
  <div>
    <input type="checkbox" id="videoSticky" checked>
    <label for="videoSticky">Video position sticky</label>
  </div>
  <div>
    <input type="checkbox" id="captionScroll" checked>
    <label for="captionScroll">Keep current caption visible</label>
  </div>
</div>

<section>
<p><span data-start="0" data-end="10.16">ah</span> <span data-start="10.17" data-end="15.15">why do you care about our x RX it's a</span> <span data-start="15.15" data-end="17.289">story rather the web is very</span> <span data-start="17.289" data-end="18.58">asynchronous look at this dictionary</span> <span data-start="18.58" data-end="22.089">suggest like when you type there's</span> <span data-start="22.089" data-end="24.46">events happening there's asynchronous</span> <span data-start="24.46" data-end="27.16">calls to the server and if you write a</span> <span data-start="27.16" data-end="28.689">lot of these things together your</span> <span data-start="28.689" data-end="30.429">program gets pretty complicated quickly</span> <span data-start="30.429" data-end="32.02">you have all these nested callbacks</span> <span data-start="32.02" data-end="35.56">continuation passing and our ex tries to</span> <span data-start="35.56" data-end="40.51">address that so if you look at for</span> <span data-start="40.51" data-end="42.19">instance at that sample it does suck you</span> <span data-start="42.19" data-end="45.19">up starts an async xmlhttprequest and</span> <span data-start="45.19" data-end="49.829">then it displays results in you could</span> <span data-start="49.829" data-end="52.3">write it like this and of course this is</span> <span data-start="52.3" data-end="55.539">a very basic sample that it's not very</span> <span data-start="55.539" data-end="57.579">smart I mean it does very well implement</span> <span data-start="57.579" data-end="59.23">it but this is like a good their first</span> <span data-start="59.23" data-end="61.6">attempt like you hook up to the input</span> <span data-start="61.6" data-end="63.699">key up in vent and then you start an</span> <span data-start="63.699" data-end="65.98">async HTTP request and once it comes</span> <span data-start="65.98" data-end="70.119">back you format the result at HTML well</span> <span data-start="70.119" data-end="72.009">turns out there is a couple more things</span> <span data-start="72.009" data-end="74.409">that you have to worry about first of</span> <span data-start="74.409" data-end="75.61">all you don't want to overload the</span> <span data-start="75.61" data-end="77.56">server so you try to tame the input on</span> <span data-start="77.56" data-end="80.229">the client you filter out the empty key</span> <span data-start="80.229" data-end="81.729">opps from your textbooks you filter out</span> <span data-start="81.729" data-end="84.13">duplicates and you want to tame the</span> <span data-start="84.13" data-end="86.35">input if the user is typing and you know</span> <span data-start="86.35" data-end="87.46">that he's going to type the second</span> <span data-start="87.46" data-end="89.439">character for its completion in 10</span> <span data-start="89.439" data-end="90.61">milliseconds it doesn't really make</span> <span data-start="90.61" data-end="93.25">sense to send an aging HTP request to</span> <span data-start="93.25" data-end="95.11">the server and put load on the server if</span> <span data-start="95.11" data-end="96.43">the user is never going to see that</span> <span data-start="96.43" data-end="99.969">value anyway and there's this thing</span> <span data-start="99.969" data-end="101.32">about ignoring old curious and we'll get</span> <span data-start="101.32" data-end="103.81">to that in a bit and you need to expect</span> <span data-start="103.81" data-end="107.53">failure web there's big pot holes in the</span> <span data-start="107.53" data-end="109.119">higher in the internet highway so you</span> <span data-start="109.119" data-end="111.729">need to expect failure everywhere so</span> <span data-start="111.729" data-end="114.13">let's look at that ignore old queries</span> <span data-start="114.13" data-end="116.829">thing so imagine that user types the</span> <span data-start="116.829" data-end="120.7">letter R in the dictionary suggest then</span> <span data-start="120.7" data-end="123.1">the server sends a response for</span> <span data-start="123.1" data-end="125.649">completions for letter R the user types</span> <span data-start="125.649" data-end="129.039">letter E and now one of the servers is</span> <span data-start="129.039" data-end="130.66">hit on your web form that is a bit</span> <span data-start="130.66" data-end="132.58">overloaded so it's going to take a bit</span> <span data-start="132.58" data-end="134.79">of time for this response to come back</span> <span data-start="134.79" data-end="137.5">meanwhile the user types next character</span> <span data-start="137.5" data-end="138.71">and</span> <span data-start="138.71" data-end="140.06">he happens to hit a server on your web</span> <span data-start="140.06" data-end="143.27">form that has plenty of time he had no</span> <span data-start="143.27" data-end="144.92">no load so he immediately sends back the</span> <span data-start="144.92" data-end="148.48">result and gives the completions for Rea</span> <span data-start="148.48" data-end="151.07">meantime the busy server decides to wake</span> <span data-start="151.07" data-end="154.43">up and send the response back for the</span> <span data-start="154.43" data-end="157.82">completions or of re and now the users</span> </p>
<p><span data-start="157.82" data-end="162.2">UI is updated with an old completion so</span> <span data-start="162.2" data-end="164.27">that's pretty bad and you don't want</span> <span data-start="164.27" data-end="168.38">that to happen so the code that takes</span> <span data-start="168.38" data-end="169.7">care of all the things that I just</span> <span data-start="169.7" data-end="171.65">mentioned can look something like this</span> <span data-start="171.65" data-end="173.54">and this might not be the optimal way to</span> <span data-start="173.54" data-end="174.92">do it but this is like a good first</span> <span data-start="174.92" data-end="177.31">attempt to write something like that so</span> <span data-start="177.31" data-end="182.84">we hook up to the key up event and we</span> <span data-start="182.84" data-end="184.16">check if there's no error occurred in</span> <span data-start="184.16" data-end="187.01">previous events then we check if there</span> <span data-start="187.01" data-end="188.09">is a difference between the current</span> <span data-start="188.09" data-end="191.75">value and previous value and we save to</span> <span data-start="191.75" data-end="194.78">the current value as for the next check</span> <span data-start="194.78" data-end="196.82">then we set a time out because you only</span> <span data-start="196.82" data-end="198.29">want to start sending the asynchronous</span> <span data-start="198.29" data-end="199.91">requests if the user hasn't typed</span> <span data-start="199.91" data-end="203.06">anything for 250 milliseconds so then</span> <span data-start="203.06" data-end="205.13">this can also have an error because the</span> <span data-start="205.13" data-end="207.11">timeout ap I could throw an error if you</span> <span data-start="207.11" data-end="211.1">have too many timeouts in the queue then</span> <span data-start="211.1" data-end="213.77">we continue after 250 milliseconds has</span> <span data-start="213.77" data-end="216.14">passed we need to have a request study</span> <span data-start="216.14" data-end="218.18">to keep track of all the requests that</span> <span data-start="218.18" data-end="220.49">happen so that we can only use the last</span> <span data-start="220.49" data-end="222.17">one that we are interested in to avoid</span> <span data-start="222.17" data-end="223.64">that a flapping problem that we saw</span> <span data-start="223.64" data-end="226.88">earlier then again because we now have</span> <span data-start="226.88" data-end="228.89">another async instruction me to check</span> <span data-start="228.89" data-end="230.33">again if there is no errors occurred in</span> <span data-start="230.33" data-end="233.96">this whole call and finally we get here</span> <span data-start="233.96" data-end="235.76">we can update the UI and we need to</span> <span data-start="235.76" data-end="236.87">check for errors in all these different</span> <span data-start="236.87" data-end="242.24">cases so all this taking care of errors</span> <span data-start="242.24" data-end="243.8">and all the different parts of your</span> <span data-start="243.8" data-end="245.66">asynchronous program can make your code</span> <span data-start="245.66" data-end="248.45">pretty bulky and harder to understand</span> <span data-start="248.45" data-end="251.3">it's not immediately clear what the the</span> <span data-start="251.3" data-end="252.68">issue was that you are trying to solve</span> <span data-start="252.68" data-end="257.33">here so if we now look at our ex and you</span> <span data-start="257.33" data-end="259.01">look at our homepage that it has like a</span> <span data-start="259.01" data-end="260.989">tag line like this our access to library</span> <span data-start="260.989" data-end="263.12">for composing a sickness and event based</span> <span data-start="263.12" data-end="266.39">programs using observable collections so</span> <span data-start="266.39" data-end="269.389">let's dissect that sentence a bit</span> <span data-start="269.389" data-end="271.68">asynchronous programming as I just</span> <span data-start="271.68" data-end="275.009">showed it's pretty hard right now so we</span> <span data-start="275.009" data-end="276.349">want to see if we can make that better</span> <span data-start="276.349" data-end="278.55">we're going to be able to compose events</span> <span data-start="278.55" data-end="281.999">you want to write a fluent api so you</span> <span data-start="281.999" data-end="283.77">want to just be able to say do this and</span> <span data-start="283.77" data-end="285.539">float by the next operation next</span> <span data-start="285.539" data-end="287.789">operation instead of having to wrap your</span> <span data-start="287.789" data-end="289.199">end program inside out which you have to</span> <span data-start="289.199" data-end="290.879">do with continuation passing right now</span> <span data-start="290.879" data-end="294.659">and then last mentions observable</span> <span data-start="294.659" data-end="297.18">collections well collections means that</span> <span data-start="297.18" data-end="299.279">we can do queries right neck database is</span> <span data-start="299.279" data-end="300.749">all about collections they're all flat</span> <span data-start="300.749" data-end="303.479">tables collections of data so maybe we</span> <span data-start="303.479" data-end="305.009">can do queries over these things as well</span> <span data-start="305.009" data-end="310.62">then so if you look at the RX basic we</span> <span data-start="310.62" data-end="312.539">have looked at like a lot of existing a</span> <span data-start="312.539" data-end="314.4">synchronous asynchronous patterns and</span> <span data-start="314.4" data-end="316.62">all of them they signal some kind of</span> <span data-start="316.62" data-end="319.02">completion when the thing that you asked</span> <span data-start="319.02" data-end="322.349">it to do is done most of them also give</span> <span data-start="322.349" data-end="324.06">you an error and there's various ways</span> <span data-start="324.06" data-end="326.849">that the different API suit is some they</span> <span data-start="326.849" data-end="329.099">take two different sets of continuations</span> <span data-start="329.099" data-end="331.979">some use the first argument of the</span> <span data-start="331.979" data-end="334.589">confirmation to signal error or not and</span> <span data-start="334.589" data-end="337.68">then most of them have a payload as well</span> <span data-start="337.68" data-end="339.479">and this can either be a single pale out</span> <span data-start="339.479" data-end="341.52">in the case of an asynchronous call or</span> <span data-start="341.52" data-end="343.08">it can be many payloads in the case of</span> <span data-start="343.08" data-end="347.399">event like mouse move so if you look at</span> <span data-start="347.399" data-end="348.87">our X we came up with the following</span> <span data-start="348.87" data-end="354">grammar there is zero or more messages</span> <span data-start="354" data-end="356.58">its payload or next followed by an</span> <span data-start="356.58" data-end="359.759">optional uncompleted message or a known</span> <span data-start="359.759" data-end="362.31">error message and I notice that these</span> <span data-start="362.31" data-end="366.75">this can only be one but this is pretty</span> <span data-start="366.75" data-end="368.129">mathematical and I promise no</span> <span data-start="368.129" data-end="370.08">mathematical stuff so we're over going</span> <span data-start="370.08" data-end="372.18">on the sliding pat down here so i won't</span> <span data-start="372.18" data-end="375.149">do more math stuff and so what's in the</span> <span data-start="375.149" data-end="378.509">package will dive in directly so RX</span> <span data-start="378.509" data-end="381.479">ships with a two prototypes observable</span> <span data-start="381.479" data-end="384.21">and observer and this is like the design</span> <span data-start="384.21" data-end="386.639">pattern from the gang of four from the</span> <span data-start="386.639" data-end="390.96">90s we have slightly modified it so the</span> <span data-start="390.96" data-end="394.259">subscribe just like in the design</span> <span data-start="394.259" data-end="396.21">pattern takes an observer that wants to</span> <span data-start="396.21" data-end="398.159">listen to that specific event stream or</span> <span data-start="398.159" data-end="400.949">a synchronous stream she do notice</span> <span data-start="400.949" data-end="402.36">there's no unsubscribe</span> <span data-start="402.36" data-end="404.28">so what we did is instead of having a</span> <span data-start="404.28" data-end="406.83">separate unsubscribe method we return</span> <span data-start="406.83" data-end="409.469">you a method of a function that when you</span> <span data-start="409.469" data-end="411.419">call it it will unsubscribe the whole</span> <span data-start="411.419" data-end="413.729">computation and the reason we do that is</span> <span data-start="413.729" data-end="415.56">because we want you to allow you to</span> <span data-start="415.56" data-end="418.5">compose all these events together and if</span> <span data-start="418.5" data-end="419.759">you have a whole chain of all these</span> <span data-start="419.759" data-end="421.77">different events you compose you want to</span> <span data-start="421.77" data-end="423.27">be able to unsubscribe them at a</span> <span data-start="423.27" data-end="425.09">moment's notice by just making one call</span> <span data-start="425.09" data-end="427.77">so the thing that we're returns you call</span> <span data-start="427.77" data-end="429.449">that and the whole subscription will be</span> <span data-start="429.449" data-end="433.979">torn down now if you look at observer we</span> <span data-start="433.979" data-end="435.599">split it into these three things that we</span> <span data-start="435.599" data-end="437.43">mentioned in our grammar all next on</span> <span data-start="437.43" data-end="441.27">error and uncompleted so if you want to</span> <span data-start="441.27" data-end="442.71">listen to these events you just</span> <span data-start="442.71" data-end="444.93">implement observer and implement these</span> <span data-start="444.93" data-end="447.509">three methods and what we do is by</span> <span data-start="447.509" data-end="449.46">default if you don't implement these two</span> <span data-start="449.46" data-end="452.159">methods on ever will fire out the it</span> <span data-start="452.159" data-end="453.8">will just read throw the exception and</span> <span data-start="453.8" data-end="457.5">on complete it will be seeing no up and</span> <span data-start="457.5" data-end="459.539">then for ease of use we also allow you</span> <span data-start="459.539" data-end="461.849">to just pass in a function instead of</span> <span data-start="461.849" data-end="466.44">having to create the observer object so</span> <span data-start="466.44" data-end="469.68">that's the basic part of the package of</span> <span data-start="469.68" data-end="472.529">course that doesn't have give that much</span> <span data-start="472.529" data-end="474.539">additional value yet the real value is</span> <span data-start="474.539" data-end="476.069">in in the lots of operators that we</span> <span data-start="476.069" data-end="479.159">provide so we have a lot of conversions</span> <span data-start="479.159" data-end="481.11">from existing JavaScript libraries we</span> <span data-start="481.11" data-end="483.509">have all the big ones jquery dojo</span> <span data-start="483.509" data-end="489.06">prototype mootools Yui 3 and then we</span> <span data-start="489.06" data-end="491.039">have a lot of manipulation operators so</span> <span data-start="491.039" data-end="493.11">we have projection time-based operators</span> <span data-start="493.11" data-end="497.789">buffers so that's really real value lies</span> <span data-start="497.789" data-end="499.71">the fact that you can combine multiple</span> <span data-start="499.71" data-end="506.46">streams and and modify the output so</span> <span data-start="506.46" data-end="508.349">let's look at some key concepts that you</span> <span data-start="508.349" data-end="509.849">need to know about observables before we</span> <span data-start="509.849" data-end="513.089">start diving into the code there's two</span> <span data-start="513.089" data-end="515.219">kinds of observables the first one is</span> <span data-start="515.219" data-end="520.349">rename call observables that means like</span> <span data-start="520.349" data-end="522.029">this one is like one of the most basic</span> <span data-start="522.029" data-end="524.67">operators it just creates an observable</span> <span data-start="524.67" data-end="526.56">that when you call subscribe on it it</span> <span data-start="526.56" data-end="528.779">will return you to value 42 so you</span> <span data-start="528.779" data-end="530.94">subscribe and your functional or</span> <span data-start="530.94" data-end="533.22">observer object will immediately be</span> <span data-start="533.22" data-end="535.57">called way to fail you 42</span> <span data-start="535.57" data-end="537.4">followed by a call to on completion I</span> <span data-start="537.4" data-end="541">don't complete it the reason we call</span> <span data-start="541" data-end="542.2">this code because it doesn't happen</span> <span data-start="542.2" data-end="545.08">until you actually ask it to do</span> <span data-start="545.08" data-end="547.84">something and that is in contrast with</span> <span data-start="547.84" data-end="550.3">hot observables so how observables are</span> <span data-start="550.3" data-end="552.58">things that will give events whether or</span> <span data-start="552.58" data-end="555.64">not you're subscribe to it so for</span> <span data-start="555.64" data-end="558.19">instance any of the mouse move events or</span> <span data-start="558.19" data-end="561.7">other events they just keep firing even</span> <span data-start="561.7" data-end="564.1">if you don't subscribe to it of course</span> <span data-start="564.1" data-end="565.57">we optimized where that we don't make</span> <span data-start="565.57" data-end="567.43">all the calls but it keeps firing in</span> <span data-start="567.43" data-end="572.11">theory so let's look at the most basic</span> <span data-start="572.11" data-end="576.16">way of using our X so as I said we</span> <span data-start="576.16" data-end="578.23">integrate with jquery so we just load</span> <span data-start="578.23" data-end="580.33">jquery followed by loading our x and</span> <span data-start="580.33" data-end="583.15">then the specific jquery bindings to our</span> <span data-start="583.15" data-end="585.91">x we just use the regular jQuery</span> <span data-start="585.91" data-end="589.11">selector to get a Dom element input</span> <span data-start="589.11" data-end="592.51">element in this case and we say we want</span> <span data-start="592.51" data-end="594.37">to subscribe to the key want to convert</span> <span data-start="594.37" data-end="597.34">the jQuery event p up to an observable</span> <span data-start="597.34" data-end="599.8">so this is an method that we added to</span> <span data-start="599.8" data-end="602.41">the jQuery prototype and now when you</span> <span data-start="602.41" data-end="605.2">ask ricky up event will hook up to the</span> <span data-start="605.2" data-end="607.99">jquery mechanism and give you a return</span> <span data-start="607.99" data-end="610.66">you and observable object and now you</span> <span data-start="610.66" data-end="614.47">can use subscribe to listen to it of</span> <span data-start="614.47" data-end="616.77">course this you could easily do without</span> </p>
<p><span data-start="616.77" data-end="619.24">RX but this is just the most basic</span> <span data-start="619.24" data-end="622.15">sample it actually shows how to start</span> <span data-start="622.15" data-end="626.53">with RX ok so let's do some javascript</span> <span data-start="626.53" data-end="631.6">hacking i figured that i ii didn't get</span> <span data-start="631.6" data-end="634">much time today so i'm going to do my</span> <span data-start="634" data-end="636.13">demonstrate IE even though it works in</span> <span data-start="636.13" data-end="641.83">all the browsers ok so after a simple</span> <span data-start="641.83" data-end="643.66">page just like let me close a couple of</span> <span data-start="643.66" data-end="645.28">these dialogues you give some more real</span> <span data-start="645.28" data-end="649.24">estate so I have a simple web page i</span> <span data-start="649.24" data-end="652.36">load RX jquery and jake RX jquery</span> <span data-start="652.36" data-end="657.64">binding i have let's show hold on i have</span> <span data-start="657.64" data-end="659.95">two elements and an input box and a diff</span> <span data-start="659.95" data-end="661.63">to show results um i'm going to write</span> <span data-start="661.63" data-end="663.46">the dictionary suggest sample using our</span> </p>
<p><span data-start="663.46" data-end="667">X so our first going to hook up to the</span> <span data-start="667" data-end="669.3">key up event from the input box</span> <span data-start="669.3" data-end="672.43">so I'm going to say input still to</span> <span data-start="672.43" data-end="678.61">observable off-key up and i'm going to</span> <span data-start="678.61" data-end="686.42">subscribe to that</span> <span data-start="686.43" data-end="688.83">and I'm going to pass the function what</span> <span data-start="688.83" data-end="690.3">it needs to do when a value comes</span> <span data-start="690.3" data-end="694.74">through and I'm just now going to put it</span> <span data-start="694.74" data-end="699.149">in the results so results innerhtml plus</span> <span data-start="699.149" data-end="705.39">equals value yeah let's see what that</span> <span data-start="705.39" data-end="714.83">does and of course I'm something wrong</span> <span data-start="714.83" data-end="723.87">refresh that demo effect okay let's</span> <span data-start="723.87" data-end="728.79">spare let me just change this to other</span> </p>
<p><span data-start="728.79" data-end="739.29">Lord see what I do wrong yeah it's just</span> <span data-start="739.29" data-end="741.899">something wrong with maybe a mistake oh</span> <span data-start="741.899" data-end="744.72">I know what I did wrong i was using</span> <span data-start="744.72" data-end="747.45">jquery object to use in NRH smell and I</span> <span data-start="747.45" data-end="750.27">should do in results the latest Mel fail</span> <span data-start="750.27" data-end="757.459">you there we go and still doesn't work</span> <span data-start="757.459" data-end="764.63">result selection series half dead</span> <span data-start="764.63" data-end="768.14">yes there you are okay so it gives me</span> <span data-start="768.14" data-end="770.51">object object and the reason for that is</span> <span data-start="770.51" data-end="773.18">because the event gives me the win the</span> <span data-start="773.18" data-end="776.21">event object back so I don't want to use</span> <span data-start="776.21" data-end="777.38">the whole event object i'm really only</span> <span data-start="777.38" data-end="779.33">interested in the value that's in the in</span> <span data-start="779.33" data-end="781.1">the textbook so i'm going to do a</span> <span data-start="781.1" data-end="784.37">projection here so i'm going to say</span> <span data-start="784.37" data-end="787.82">instead of having this event object in</span> <span data-start="787.82" data-end="790.82">here i wanna have developed and then I</span> <span data-start="790.82" data-end="795.92">pass in a function value return value</span> <span data-start="795.92" data-end="801.83">top source element don't fail you there</span> <span data-start="801.83" data-end="807.2">we go so now when i refresh this when i</span> <span data-start="807.2" data-end="809.69">type i get all the values of course now</span> <span data-start="809.69" data-end="815.75">when i do arrows so now when i copy and</span> <span data-start="815.75" data-end="817.7">paste the same thing in displace the</span> <span data-start="817.7" data-end="822.2">same value and when i do mt it also</span> <span data-start="822.2" data-end="823.85">shows that so i want to filter out those</span> <span data-start="823.85" data-end="827.03">events so first i'm going to filter out</span> <span data-start="827.03" data-end="833.67">the empty case</span> <span data-start="833.68" data-end="836.589">so if Lu is not the empty string I want</span> <span data-start="836.589" data-end="842.8">to fill send this through so now it</span> <span data-start="842.8" data-end="845.44">doesn't fire the empty case and if i</span> <span data-start="845.44" data-end="846.88">want to have two unique values there's</span> <span data-start="846.88" data-end="848.529">an operator that's called distinct until</span> <span data-start="848.529" data-end="850.45">changed it's like a distinct in a</span> <span data-start="850.45" data-end="851.92">database the only difference is that</span> <span data-start="851.92" data-end="854.529">because these observable streams can be</span> <span data-start="854.529" data-end="857.2">potentially infinite it doesn't keep a</span> <span data-start="857.2" data-end="858.459">cache of all the values that it's seen</span> <span data-start="858.459" data-end="860.2">previously it only keeps a cache of the</span> <span data-start="860.2" data-end="863.95">last value its salt so if you type a and</span> <span data-start="863.95" data-end="867.279">then a again it will not fire a but if</span> <span data-start="867.279" data-end="869.649">you type B afterwards and then a again</span> <span data-start="869.649" data-end="871.66">it will fire the eight again at a later</span> <span data-start="871.66" data-end="882.82">time there we go okay so that's working</span> <span data-start="882.82" data-end="887.92">now it's hard to see I guess so now we</span> <span data-start="887.92" data-end="890.2">have the the input that we want there's</span> <span data-start="890.2" data-end="891.52">only one thing that we still wanted to</span> <span data-start="891.52" data-end="893.11">add this we wanted to make sure that we</span> <span data-start="893.11" data-end="895.69">don't fire unless user hasn't typed for</span> <span data-start="895.69" data-end="899.26">a couple milliseconds so I'm going to</span> <span data-start="899.26" data-end="902.14">say let me throttle the user's input</span> <span data-start="902.14" data-end="906.9">here so throttle for 250 milliseconds</span> <span data-start="906.9" data-end="912.1">dot here okay so let's give this a try</span> <span data-start="912.1" data-end="915.67">so if i type AAA bc it shows up but i</span> <span data-start="915.67" data-end="917.2">didn't show the a and the B in a min</span> <span data-start="917.2" data-end="921.4">meantime okay so we have tamed our input</span> <span data-start="921.4" data-end="924.24">let's go make an asynchronous requests</span> <span data-start="924.24" data-end="927.37">so what I'm going to do is I'm going to</span> <span data-start="927.37" data-end="933.47">say select for every value that comes in</span> <span data-start="933.48" data-end="936.01">making xmit requests and we have a</span> <span data-start="936.01" data-end="939.55">wrapper around the xhr as well so i'm</span> <span data-start="939.55" data-end="942.63">going to say our exit observable xml</span> </p>
<p><span data-start="942.63" data-end="949.75">HTTP request and download that from 16 8</span> <span data-start="949.75" data-end="953.39">4 2000</span> <span data-start="953.39" data-end="957.49">queer query is and i'm just going to</span> <span data-start="957.49" data-end="963.56">escape the value here and i believe if i</span> <span data-start="963.56" data-end="970.61">need to do one more see here ok let's</span> <span data-start="970.61" data-end="978.95">give that a try and i made an error yes</span> <span data-start="978.95" data-end="989.75">well that's right yep sorry oh yes</span> <span data-start="989.75" data-end="993.32">you're right type that weight and</span> <span data-start="993.32" data-end="998.9">there's still more errors of course I</span> <span data-start="998.9" data-end="1002.04">need to return that value i'm not using</span> <span data-start="1002.04" data-end="1005.99">coffeescript</span> <span data-start="1006" data-end="1008.23">okay so now we get an object back which</span> <span data-start="1008.23" data-end="1013.03">is the xmlhttprequest so there was one</span> <span data-start="1013.03" data-end="1014.59">thing that we still needed to do because</span> <span data-start="1014.59" data-end="1017.05">now I just make an XML HTTP request for</span> <span data-start="1017.05" data-end="1018.91">every value that comes in then I just</span> <span data-start="1018.91" data-end="1020.5">said that that was bad because now you</span> <span data-start="1020.5" data-end="1022.36">can have this of flapping results</span> <span data-start="1022.36" data-end="1026.92">problem so let's go fix that so what I'm</span> <span data-start="1026.92" data-end="1028.6">going to do is I'm going to use the</span> <span data-start="1028.6" data-end="1030.449">switch operator and the switch operator</span> <span data-start="1030.449" data-end="1032.949">switches between all the new observables</span> <span data-start="1032.949" data-end="1035.86">as moment it comes in so it's going to</span> <span data-start="1035.86" data-end="1038.65">type switch and while reddit i'm going</span> <span data-start="1038.65" data-end="1043.18">to change this to change to use the</span> <span data-start="1043.18" data-end="1053.99">response text here there you go there</span> <span data-start="1054" data-end="1057.91">it's a 19-13 dictionary so it's a it's</span> <span data-start="1057.91" data-end="1060.55">not that fancy but it was the one I</span> <span data-start="1060.55" data-end="1062.14">could find it didn't have any license</span> <span data-start="1062.14" data-end="1066.01">issues okay so we have for addiction</span> <span data-start="1066.01" data-end="1068.71">it's just working so let's look a bit</span> <span data-start="1068.71" data-end="1070.27">more into what we just did with all</span> <span data-start="1070.27" data-end="1075.28">these operators so let's start with the</span> <span data-start="1075.28" data-end="1078.22">more basic operator so what we often do</span> <span data-start="1078.22" data-end="1080.29">is to explain all our operators is we</span> <span data-start="1080.29" data-end="1081.76">draw these things that we call marble</span> <span data-start="1081.76" data-end="1084.88">diagrams so this is the code for the</span> <span data-start="1084.88" data-end="1086.74">module diagram and then we show each of</span> <span data-start="1086.74" data-end="1088.45">the observables here where we usually</span> <span data-start="1088.45" data-end="1090.67">see all the inputs on top and the output</span> <span data-start="1090.67" data-end="1094.24">on the bottom and this shows time that</span> <span data-start="1094.24" data-end="1097.06">direction and then we project the values</span> <span data-start="1097.06" data-end="1098.29">how to go from the input to the output</span> <span data-start="1098.29" data-end="1101.56">stream so select will does it it gets</span> <span data-start="1101.56" data-end="1103.24">called for each value that comes through</span> <span data-start="1103.24" data-end="1106.06">its own next message and the user gets a</span> <span data-start="1106.06" data-end="1110.11">chance to transform each single value so</span> <span data-start="1110.11" data-end="1111.76">in this case we did the event source</span> <span data-start="1111.76" data-end="1113.68">elemental value so it goes from the</span> <span data-start="1113.68" data-end="1116.26">event object to the value of the data</span> <span data-start="1116.26" data-end="1118.48">and it does this as long as they're just</span> <span data-start="1118.48" data-end="1120.25">message come in until uncompleted</span> <span data-start="1120.25" data-end="1121.81">message comes in and the completed</span> <span data-start="1121.81" data-end="1123.81">message is just sent through directly</span> <span data-start="1123.81" data-end="1128.26">and doesn't carry any value of course</span> <span data-start="1128.26" data-end="1130.24">errors could happen and this could</span> <span data-start="1130.24" data-end="1132.94">happen in two places they can either be</span> <span data-start="1132.94" data-end="1134.32">errors that already existed in the</span> <span data-start="1134.32" data-end="1136.929">source observable or that could be</span> <span data-start="1136.929" data-end="1138.38">introduced by the user here in</span> <span data-start="1138.38" data-end="1142.04">in the in the selector function we try</span> <span data-start="1142.04" data-end="1143.96">to use aboard semantics or possible so</span> <span data-start="1143.96" data-end="1146.09">we sent these errors straight through</span> <span data-start="1146.09" data-end="1151.43">there's no manipulation on them distinct</span> <span data-start="1151.43" data-end="1154.97">until Chainz as I said it it starts</span> <span data-start="1154.97" data-end="1157.67">producing all the values through if it</span> <span data-start="1157.67" data-end="1159.77">has that value in its cache currently it</span> <span data-start="1159.77" data-end="1161.84">doesn't send it through so the second</span> <span data-start="1161.84" data-end="1164.15">value didn't get projected down then new</span> <span data-start="1164.15" data-end="1165.83">different value came in it gets in</span> <span data-start="1165.83" data-end="1169.91">through until a new value comes in and</span> <span data-start="1169.91" data-end="1171.89">complete it gets in through direct</span> <span data-start="1171.89" data-end="1174.98">directly and I think you can also pass</span> <span data-start="1174.98" data-end="1177.8">in a comparison if you want to do more</span> <span data-start="1177.8" data-end="1179.9">complex comparisons and just equality</span> <span data-start="1179.9" data-end="1185.69">comparison okay throttle throttle is a</span> <span data-start="1185.69" data-end="1187.25">bit more interesting operator because it</span> <span data-start="1187.25" data-end="1192.89">does time shifting so it the first time</span> <span data-start="1192.89" data-end="1197.03">the user types of character it starts a</span> <span data-start="1197.03" data-end="1199.52">timer and if the next message doesn't</span> <span data-start="1199.52" data-end="1201.44">come in by the time were times that will</span> <span data-start="1201.44" data-end="1203.93">fire it out so in this case diverse not</span> <span data-start="1203.93" data-end="1206">the second collapse before the second</span> <span data-start="1206" data-end="1207.95">value come in so it ignore the first</span> <span data-start="1207.95" data-end="1210.14">value and then after second no new</span> <span data-start="1210.14" data-end="1211.76">message came in so it projects the</span> <span data-start="1211.76" data-end="1214.22">second value the moment it gets</span> <span data-start="1214.22" data-end="1216.74">completed it actually sends it out the</span> <span data-start="1216.74" data-end="1218.48">moment that the last value has sent out</span> <span data-start="1218.48" data-end="1223.91">being sent out and that's important</span> <span data-start="1223.91" data-end="1226.01">because like if an error happens we're</span> <span data-start="1226.01" data-end="1227.87">trying to use a board semantics so even</span> <span data-start="1227.87" data-end="1230.84">though it's of value outstanding if an</span> <span data-start="1230.84" data-end="1232.43">error comes to we say up this thing has</span> <span data-start="1232.43" data-end="1234.47">to be aborted so we sent the arrow right</span> <span data-start="1234.47" data-end="1236.84">through and the one that was in flight</span> <span data-start="1236.84" data-end="1242.84">will never get sent out okay switch so</span> <span data-start="1242.84" data-end="1246.59">switch looks a lot more complicated it</span> <span data-start="1246.59" data-end="1248.21">just have to wrap your mind around it a</span> <span data-start="1248.21" data-end="1250.88">bit and then it will float automatically</span> <span data-start="1250.88" data-end="1254.18">how it should work so what we did in our</span> <span data-start="1254.18" data-end="1256.79">sample is that we selected from a value</span> <span data-start="1256.79" data-end="1259.1">to a new observable so what we actually</span> <span data-start="1259.1" data-end="1261.68">created was an observable which payload</span> <span data-start="1261.68" data-end="1264.68">it again our observable stem cells so</span> <span data-start="1264.68" data-end="1266.57">each value that comes through in that</span> <span data-start="1266.57" data-end="1269.18">original observable is itself an</span> <span data-start="1269.18" data-end="1272.24">observable so we can do is you can</span> <span data-start="1272.24" data-end="1274.79">right to these and project them out in a</span> <span data-start="1274.79" data-end="1277.22">flattened way so every time a new</span> <span data-start="1277.22" data-end="1279.679">observable comes in we start listening</span> <span data-start="1279.679" data-end="1281.63">it and all values get projected down</span> <span data-start="1281.63" data-end="1284.75">immediately the moment that on our outer</span> <span data-start="1284.75" data-end="1287.39">observe will a new message comes through</span> <span data-start="1287.39" data-end="1289.91">with the next observable we unsubscribed</span> <span data-start="1289.91" data-end="1292.49">from the first observable and then we</span> <span data-start="1292.49" data-end="1293.96">start listening to the second observable</span> <span data-start="1293.96" data-end="1296.21">and project each values through so the</span> <span data-start="1296.21" data-end="1298.82">even though this one had more values we</span> <span data-start="1298.82" data-end="1301.429">just ignore them if this one happens to</span> <span data-start="1301.429" data-end="1304.07">be completed before our outer produces a</span> <span data-start="1304.07" data-end="1305.63">new one if we just wait until the outer</span> <span data-start="1305.63" data-end="1308.42">want to give our new values and then we</span> <span data-start="1308.42" data-end="1310.82">complete when both the outer and the</span> <span data-start="1310.82" data-end="1313.46">last inner have both the completed</span> <span data-start="1313.46" data-end="1317.39">message so this is exactly solving that</span> <span data-start="1317.39" data-end="1320.87">issue with having xmit requests coming</span> <span data-start="1320.87" data-end="1327.47">out of order ok so our semantics get bit</span> <span data-start="1327.47" data-end="1329.179">more tricky because now there is much</span> <span data-start="1329.179" data-end="1332.96">more places where errors can happen so</span> <span data-start="1332.96" data-end="1335.21">errors can happen inside the interrupts</span> <span data-start="1335.21" data-end="1338.6">verbal or inside the outer observable in</span> <span data-start="1338.6" data-end="1342.429">both cases we just use aboard semantics</span> <span data-start="1342.429" data-end="1346.66">ok so our ex is a general-purpose</span> <span data-start="1346.66" data-end="1349.97">library it works not only on websites</span> <span data-start="1349.97" data-end="1352.7">and i want to show you that that's the</span> <span data-start="1352.7" data-end="1357.679">case so this virtual machine is actually</span> <span data-start="1357.679" data-end="1361.4">running node and what we did is I wrote</span> <span data-start="1361.4" data-end="1363.86">a couple wrappers around note to use</span> <span data-start="1363.86" data-end="1365.72">that create RX bindings observable</span> <span data-start="1365.72" data-end="1367.28">bindings for each of the asynchronous</span> <span data-start="1367.28" data-end="1370.28">operations so I'll quickly show you how</span> <span data-start="1370.28" data-end="1375.82">that looks like yeah</span> <span data-start="1375.82" data-end="1379.43">so instead of requiring sis and HTTP and</span> </p>
<p><span data-start="1379.43" data-end="1383.53">FS I require our axis in RX HTTP and</span> <span data-start="1383.53" data-end="1386.18">what we do stays we exported all the</span> <span data-start="1386.18" data-end="1388.07">original functions within with an RX</span> <span data-start="1388.07" data-end="1391.1">repper so I do it create HTTP server</span> <span data-start="1391.1" data-end="1394.85">just like a normal package but then what</span> <span data-start="1394.85" data-end="1397.64">I do is I want to get the parsed URL</span> <span data-start="1397.64" data-end="1402.62">instead of the the just a string URL so</span> <span data-start="1402.62" data-end="1406.36">i select in with a select the URL parse</span> <span data-start="1406.36" data-end="1409.13">version of it so that I can look at the</span> <span data-start="1409.13" data-end="1413.21">query and then as my dictionary only</span> <span data-start="1413.21" data-end="1418.73">works on alphanumeric sir alpha strings</span> </p>
<p><span data-start="1418.73" data-end="1423.83">I make sure the query is an alphabetic</span> <span data-start="1423.83" data-end="1426.71">character and so my observe will now</span> <span data-start="1426.71" data-end="1431.9">only contains URL request that that are</span> <span data-start="1431.9" data-end="1434.96">valid and then I do is select many so</span> <span data-start="1434.96" data-end="1437.09">select many is like bind in Haskell I</span> <span data-start="1437.09" data-end="1440.03">know for people who know that well does</span> <span data-start="1440.03" data-end="1441.56">it gives you an opportunity to replace</span> <span data-start="1441.56" data-end="1444.83">each value of a observable with a</span> <span data-start="1444.83" data-end="1446.45">function that's will show you the new</span> <span data-start="1446.45" data-end="1449.03">observable that's then flattened so in</span> <span data-start="1449.03" data-end="1453.65">this case I get the request in and then</span> <span data-start="1453.65" data-end="1456.29">I'm going to start an async read file</span> <span data-start="1456.29" data-end="1461.29">request so read that file and wonder</span> <span data-start="1461.29" data-end="1463.7">when that value comes through i select</span> <span data-start="1463.7" data-end="1466.67">the JSON and then in the end I just</span> <span data-start="1466.67" data-end="1469.25">subscribe to my event and we sent a</span> <span data-start="1469.25" data-end="1474.94">response out there</span> <span data-start="1474.94" data-end="1478.37">so as you can see it's not just for</span> <span data-start="1478.37" data-end="1479.9">website inference in any environment</span> <span data-start="1479.9" data-end="1483.86">that runs java script there's a lot more</span> <span data-start="1483.86" data-end="1486.62">operators in RX then i discovered in</span> <span data-start="1486.62" data-end="1490.82">this small talk there's a lot of time</span> <span data-start="1490.82" data-end="1493.33">based operators but for operators</span> <span data-start="1493.33" data-end="1496.82">there's aggregation operators there's</span> <span data-start="1496.82" data-end="1499.01">operators to convert from existing</span> <span data-start="1499.01" data-end="1502.79">events there's mechanism to create your</span> <span data-start="1502.79" data-end="1505.91">own observables so it's a it's a pretty</span> <span data-start="1505.91" data-end="1508.55">extensive package and the download the</span> <span data-start="1508.55" data-end="1514.58">the core of our exes 7kg zip and there's</span> <span data-start="1514.58" data-end="1516.23">a whole bunch of external libraries for</span> <span data-start="1516.23" data-end="1518.09">the integrations they are all separate</span> <span data-start="1518.09" data-end="1519.11">so you don't have to pay for the</span> <span data-start="1519.11" data-end="1520.79">download size like if you don't use</span> <span data-start="1520.79" data-end="1522.59">jojoba jquery you don't want to pay for</span> <span data-start="1522.59" data-end="1526.84">the download size of the dojo bindings</span> <span data-start="1526.84" data-end="1531.02">so what's next you can find RX on the</span> <span data-start="1531.02" data-end="1533.54">following URL and it's pretty crappy URL</span> <span data-start="1533.54" data-end="1535.79">so just type it in your fray for search</span> <span data-start="1535.79" data-end="1539.42">engine and it should show up we do a new</span> <span data-start="1539.42" data-end="1542.93">release about every two to five weeks we</span> <span data-start="1542.93" data-end="1545.12">have a web form that you can report bugs</span> <span data-start="1545.12" data-end="1548.42">features suggestions just help and how</span> <span data-start="1548.42" data-end="1550.97">to implement things we have a lot of</span> <span data-start="1550.97" data-end="1554.99">videos online think we have about 40</span> <span data-start="1554.99" data-end="1556.64">videos right now when we post new once</span> <span data-start="1556.64" data-end="1559.22">every couple of weeks and then there's</span> <span data-start="1559.22" data-end="1563.75">also two channels we wanted to use pound</span> <span data-start="1563.75" data-end="1566.51">there are hash RX but yeah there's a lot</span> <span data-start="1566.51" data-end="1567.68">of stuff there already that you don't</span> <span data-start="1567.68" data-end="1571.34">want to read so we're using our x GS and</span> </p>
<p><span data-start="1571.34" data-end="1574.58">RX net and you can also just look at at</span> <span data-start="1574.58" data-end="1579.56">my Twitter feeds and with that I'd like</span> <span data-start="1579.56" data-end="1584.18">to open up for questions</span> <span data-start="1584.19" data-end="1586.289">you had a question so that last example</span> <span data-start="1586.289" data-end="1588.269">that you show did you get note running</span> <span data-start="1588.269" data-end="1592.44">on windows no I didn't try I just sets a</span> <span data-start="1592.44" data-end="1596.009">vm yeah this is this is a Linux VM I</span> <span data-start="1596.009" data-end="1605.619">just I just did a app get and go going</span> <span data-start="1605.629" data-end="1609.84">so the licensing is a it's a custom</span> <span data-start="1609.84" data-end="1612.87">license but it's it's pretty much ses</span> <span data-start="1612.87" data-end="1615.6">license it's not officially supported</span> <span data-start="1615.6" data-end="1618.029">through product support right now but</span> <span data-start="1618.029" data-end="1619.71">you can use it in your applications as</span> <span data-start="1619.71" data-end="1623.879">you want it we had just switch this</span> <span data-start="1623.879" data-end="1625.409">thursday before we had to have like an</span> <span data-start="1625.409" data-end="1627.48">installer which is really painful if</span> <span data-start="1627.48" data-end="1628.769">you're not on the Windows platform and</span> <span data-start="1628.769" data-end="1631.259">the release that we did this Thursday</span> <span data-start="1631.259" data-end="1633.659">it's now in a zip file so it's very easy</span> <span data-start="1633.659" data-end="1638.22">to get on any platform in exactly a</span> <span data-start="1638.22" data-end="1640.889">question but the comments whereas that</span> <span data-start="1640.889" data-end="1642.48">does Marvel diagrams are actually pretty</span> <span data-start="1642.48" data-end="1644.159">cool I was just kind of searching around</span> <span data-start="1644.159" data-end="1646.679">actually top search hit for marble egg</span> <span data-start="1646.679" data-end="1648.659">diagram is the reactive framework does</span> <span data-start="1648.659" data-end="1651.629">curious there are other projects and</span> <span data-start="1651.629" data-end="1653.82">engine soul everyone uses a Microsoft</span> <span data-start="1653.82" data-end="1656.929">all the scenes but here's that are other</span> <span data-start="1656.929" data-end="1658.799">seems like that shouldn't be something</span> <span data-start="1658.799" data-end="1660.69">that other projects yeah it should be</span> <span data-start="1660.69" data-end="1662.19">something anything those asynchronous</span> <span data-start="1662.19" data-end="1664.679">can can benefit from this seems like</span> <span data-start="1664.679" data-end="1666.539">there's like um L would be like the</span> <span data-start="1666.539" data-end="1668.519">default place to go with these kind of</span> <span data-start="1668.519" data-end="1669.57">diagrams I you know this was like</span> <span data-start="1669.57" data-end="1671.49">inspired by some other is there another</span> <span data-start="1671.49" data-end="1674.1">um Elish vocabulary word I don't know we</span> <span data-start="1674.1" data-end="1676.47">came up with this when we like we need</span> <span data-start="1676.47" data-end="1678.72">it to draw these things and like how can</span> <span data-start="1678.72" data-end="1680.49">we explain people what to be a free of</span> <span data-start="1680.49" data-end="1683.429">these operators and just this came</span> <span data-start="1683.429" data-end="1685.259">naturally okay it's similar to like a</span> <span data-start="1685.259" data-end="1686.94">client-server diamond right we have the</span> <span data-start="1686.94" data-end="1688.62">two lines of time going on the sea make</span> <span data-start="1688.62" data-end="1691.08">requests McEvoy yep so which is</span> <span data-start="1691.08" data-end="1693.149">typically call the Stevens diagram even</span> <span data-start="1693.149" data-end="1695.159">the networking book okay this seems less</span> <span data-start="1695.159" data-end="1699.87">dogmatic and just useful yeah I still</span> <span data-start="1699.87" data-end="1702.059">want to invest so one of the things that</span> <span data-start="1702.059" data-end="1704.1">is still lacking is documentation like</span> <span data-start="1704.1" data-end="1705.929">we were small team we are three</span> <span data-start="1705.929" data-end="1709.5">developers plus one architect so as you</span> <span data-start="1709.5" data-end="1711.809">know documentation always lags behind so</span> <span data-start="1711.809" data-end="1714.779">one of the things like I have about 1500</span> <span data-start="1714.779" data-end="1717.84">test for RX and I want to generate these</span> <span data-start="1717.84" data-end="1721.86">two marble diagrams automatically so I</span> <span data-start="1721.86" data-end="1723.48">hope that that will help improve the</span> <span data-start="1723.48" data-end="1730.08">documentation any other questions I've</span> <span data-start="1730.08" data-end="1732.09">been doing quite a bit of similar a</span> <span data-start="1732.09" data-end="1733.97">project in a similar vein based off of</span> </p>
<p><span data-start="1733.97" data-end="1738.09">Tyler closest promises from hackers are</span> <span data-start="1738.09" data-end="1739.669">you aware exam is there a connection</span> <span data-start="1739.669" data-end="1743.25">distinction so there's a lot of reactive</span> <span data-start="1743.25" data-end="1747.179">programming going on and they're all</span> <span data-start="1747.179" data-end="1749.309">good packages the thing and we did is we</span> <span data-start="1749.309" data-end="1752.659">really looked at like the monads and</span> <span data-start="1752.659" data-end="1755.94">from functional programming and use that</span> <span data-start="1755.94" data-end="1759.269">that's our basis I have not seen how how</span> <span data-start="1759.269" data-end="1762.809">they base their programming but it is</span> <span data-start="1762.809" data-end="1764.07">interesting i took a very similar</span> <span data-start="1764.07" data-end="1768.34">approach the promise life as usual</span> <span data-start="1768.35" data-end="1774.12">it is addressing a similar it's less</span> <span data-start="1774.12" data-end="1776.34">about straining events and subscriptions</span> <span data-start="1776.34" data-end="1779.88">and more about the return results seems</span> <span data-start="1779.88" data-end="1783.51">like there might be some connection okay</span> </p>
<p><span data-start="1783.51" data-end="1785.07">I'll look into that I've not had a</span> <span data-start="1785.07" data-end="1786.69">chance looking it and all and I look</span> <span data-start="1786.69" data-end="1789.87">into this as well okay good well thank</span> </p>
</section>

<!-- div#container ends -->
</div>

<img alt="The End" id="fin" src="../images/fin.jpg">

<script>
/*eslint-disable */
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google-translate');
}
/* eslint-enable */
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="../js/main.js"></script>

</body>

</html>
