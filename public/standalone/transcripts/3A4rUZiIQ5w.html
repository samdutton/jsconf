<!DOCTYPE html>

<!--
Copyright 2019 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="//google.com">
  <meta name="description" content="web.dev LIVE video transcript">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>3A4rUZiIQ5w</title>
  <link rel="stylesheet" href="../css/main.css">
</head>

<body>

<iframe id="youtube" src="https://www.youtube.com/embed/3A4rUZiIQ5w?enablejsapi=1"></iframe>

<div id="container">

<div id="options">
  <div id="google-translate"></div>
  <div>
    <input type="checkbox" id="videoSticky" checked>
    <label for="videoSticky">Video position sticky</label>
  </div>
  <div>
    <input type="checkbox" id="captionScroll" checked>
    <label for="captionScroll">Keep current caption visible</label>
  </div>
</div>

<section>
<p><span data-start="8.24" data-end="11.34">so no it has really great HTTP support I</span> <span data-start="11.34" data-end="13.23">don't know if you guys really appreciate</span> <span data-start="13.23" data-end="15.509">this but I mean compared to Ruby or</span> <span data-start="15.509" data-end="17.73">Python it's pretty phenomenal like I've</span> <span data-start="17.73" data-end="19.92">dealt a lot with the lower level Ruby</span> <span data-start="19.92" data-end="22.47">and Python HTTP stack and there's so</span> <span data-start="22.47" data-end="24.75">many bugs and oversights and it's just</span> <span data-start="24.75" data-end="26.46">generally not usually very performant at</span> <span data-start="26.46" data-end="29.25">all and to put this in perspective for</span> <span data-start="29.25" data-end="31.74">node node Z should be support is</span> <span data-start="31.74" data-end="33.329">probably a little bit better than curls</span> <span data-start="33.329" data-end="35.01">right now like there are bugs that we've</span> <span data-start="35.01" data-end="36.3">fixed at this point that we know are</span> <span data-start="36.3" data-end="38.7">open curl bugs that aren't planning on</span> <span data-start="38.7" data-end="41.219">being fixed ever and we have fix those</span> <span data-start="41.219" data-end="43.92">in the know to implementation and count</span> <span data-start="43.92" data-end="46.469">only supports HTTP there is no other</span> <span data-start="46.469" data-end="48.899">format I didn't invent its own binary</span> <span data-start="48.899" data-end="50.129">protocol we want you to be able to talk</span> <span data-start="50.129" data-end="51.89">to it from the browser and all that so</span> <span data-start="51.89" data-end="54.78">that's a really good fit I spent like a</span> <span data-start="54.78" data-end="55.92">lot of the problems we've had with</span> <span data-start="55.92" data-end="57.93">client libraries in Python and Ruby is</span> <span data-start="57.93" data-end="59.55">just that trying to make them really</span> <span data-start="59.55" data-end="60.899">fast and perform it we always hit this</span> <span data-start="60.899" data-end="62.52">bottleneck of HTTP and that's just never</span> <span data-start="62.52" data-end="73.14">an issue with no oh really okay up I can</span> </p>
<p><span data-start="73.14" data-end="75.09">I can probably speak up a bit if we</span> <span data-start="75.09" data-end="76.47">don't even yeah cuz I don't even know</span> <span data-start="76.47" data-end="79.92">where the button is to turn it up so all</span> <span data-start="79.92" data-end="84.969">right let's speak a little bit louder</span> <span data-start="84.979" data-end="88.47">okay and concurrency so yeah I noticed</span> <span data-start="88.47" data-end="90.27">phenomenal at concurrency it has all</span> <span data-start="90.27" data-end="92.49">this beautiful async I own it and that's</span> <span data-start="92.49" data-end="94.11">another problem that we've always run</span> <span data-start="94.11" data-end="95.88">into is the cash to be is optimized for</span> <span data-start="95.88" data-end="97.5">being incredibly concurrent because we</span> <span data-start="97.5" data-end="98.67">actually want you to connect to it from</span> <span data-start="98.67" data-end="100.86">the browser so we've got to handle tens</span> <span data-start="100.86" data-end="102.299">to hundreds of thousands of concurrent</span> <span data-start="102.299" data-end="103.439">connections all the time that's how</span> <span data-start="103.439" data-end="104.579">we've always optimized from the</span> <span data-start="104.579" data-end="107.1">beginning but then people plug in their</span> <span data-start="107.1" data-end="109.079">traditional Python or Ruby stack and</span> <span data-start="109.079" data-end="110.79">usually when they talk to a database</span> <span data-start="110.79" data-end="111.84">they try to limit the number of</span> <span data-start="111.84" data-end="113.7">connections that they do and they're not</span> <span data-start="113.7" data-end="115.32">very good at concurrency themselves and</span> <span data-start="115.32" data-end="116.969">that's just never an issue in note it's</span> <span data-start="116.969" data-end="118.53">always very very fast and very beautiful</span> <span data-start="118.53" data-end="120.6">and a lot of other databases aren't</span> <span data-start="120.6" data-end="122.009">optimized for concurrent access either</span> <span data-start="122.009" data-end="124.799">and nodes the whole system is optimized</span> <span data-start="124.799" data-end="126.869">for concurrent access so that's really</span> <span data-start="126.869" data-end="128.759">good sometimes when you take two things</span> <span data-start="128.759" data-end="130.08">that are both</span> <span data-start="130.08" data-end="131.61">really really awesome and you put them</span> <span data-start="131.61" data-end="133.62">together you get something even more</span> <span data-start="133.62" data-end="135.78">awesome and you didn't even realize how</span> <span data-start="135.78" data-end="137.64">great it could be kinda like you took</span> <span data-start="137.64" data-end="140.7">curry and like wieners and like you know</span> <span data-start="140.7" data-end="142.53">delicious sausages and put them together</span> <span data-start="142.53" data-end="145.26">you'd have something you didn't even</span> <span data-start="145.26" data-end="149.91">know could blow your mind like this all</span> <span data-start="149.91" data-end="153.72">right so there's a lot of libraries one</span> <span data-start="153.72" data-end="155.4">of the things that notes support for a</span> </p>
<p><span data-start="155.4" data-end="158.22">CV being so good and the HP API and</span> <span data-start="158.22" data-end="159.87">couch being pretty simple is that</span> <span data-start="159.87" data-end="161.73">anybody can write their own library all</span> <span data-start="161.73" data-end="163.59">the time so of course we have a bunch I</span> <span data-start="163.59" data-end="165.36">think we're probably averaging about one</span> <span data-start="165.36" data-end="170.64">a month right now so I'd love to be able</span> <span data-start="170.64" data-end="172.2">to tell you that like well this library</span> <span data-start="172.2" data-end="173.459">is really great at this thing and this</span> <span data-start="173.459" data-end="175.02">one is really great for this other use</span> <span data-start="175.02" data-end="177.72">case and they all have their own little</span> <span data-start="177.72" data-end="179.13">features in their niches and they're</span> <span data-start="179.13" data-end="180.36">definitely very opinionated but the</span> <span data-start="180.36" data-end="181.56">biggest difference between them is just</span> <span data-start="181.56" data-end="185.55">who wrote them so so basically if you</span> <span data-start="185.55" data-end="187.68">like one of these programmers where you</span> <span data-start="187.68" data-end="189">want to talk to them about their library</span> <span data-start="189" data-end="190.709">because like half of them are here I</span> <span data-start="190.709" data-end="192.63">would just do that because there's there</span> <span data-start="192.63" data-end="194.31">really isn't like a feature graphic you</span> <span data-start="194.31" data-end="195.209">can put up there they're all pretty</span> <span data-start="195.209" data-end="197.73">comparable and that put their pictures</span> <span data-start="197.73" data-end="199.83">up there so you can find them I don't</span> <span data-start="199.83" data-end="201">know if cloud heads here but he didn't</span> <span data-start="201" data-end="202.739">have a picture so I just grabbed a cloud</span> <span data-start="202.739" data-end="204.769">from final fantasy and put them up there</span> <span data-start="204.769" data-end="209.31">and I also that's not a super close end</span> <span data-start="209.31" data-end="210.989">picture of felix so I found a bigger one</span> <span data-start="210.989" data-end="215.37">so yeah just look for him and you'll</span> <span data-start="215.37" data-end="218.459">know where you got ok so good the other</span> <span data-start="218.459" data-end="220.17">thing about oh god that lines in the</span> <span data-start="220.17" data-end="224.13">wrong place I saw my slides basically</span> <span data-start="224.13" data-end="226.41">keynote crashed and i lost all my slides</span> <span data-start="226.41" data-end="228.959">and so i had to redo them and so some of</span> <span data-start="228.959" data-end="230.45">them are kind of up and I'm sorry</span> <span data-start="230.45" data-end="233.489">so this here is using my high-level</span> <span data-start="233.489" data-end="235.62">request library it's just a little bit</span> <span data-start="235.62" data-end="237.48">simpler than nodes regular HTTP stuff</span> <span data-start="237.48" data-end="239.91">and this hopefully actually is going to</span> <span data-start="239.91" data-end="241.65">go into core I sent out the email today</span> <span data-start="241.65" data-end="242.97">so hopefully we'll get something like</span> <span data-start="242.97" data-end="244.62">this in the node core and it'll be a</span> <span data-start="244.62" data-end="246.45">little bit easier to do get in post</span> <span data-start="246.45" data-end="248.91">requests with just one or two limes but</span> <span data-start="248.91" data-end="250.53">anyway this is how you would talk to</span> </p>
<p><span data-start="250.53" data-end="253.92">CouchDB without a library the CouchDB</span> <span data-start="253.92" data-end="255.75">API itself is very well defined it's</span> <span data-start="255.75" data-end="258.959">very simple it's all HTTP this is how</span> <span data-start="258.959" data-end="261.09">mean a lot of other people access couch</span> <span data-start="261.09" data-end="261.41">and</span> <span data-start="261.41" data-end="262.7">don't try to go through an infection or</span> <span data-start="262.7" data-end="264.92">a library just because sometimes those</span> <span data-start="264.92" data-end="266.69">abstractions leak or we need to get new</span> <span data-start="266.69" data-end="268.72">features into them or you know whatever</span> <span data-start="268.72" data-end="271.31">we know that the HTTP support and node</span> <span data-start="271.31" data-end="272.27">has everything that we're ever going to</span> <span data-start="272.27" data-end="274.13">need and we know the couch API well</span> <span data-start="274.13" data-end="276.17">enough and if you just want to learn the</span> <span data-start="276.17" data-end="277.91">couch API and go through the wiki and</span> <span data-start="277.91" data-end="279.92">just look at the raw HTTP API it's</span> <span data-start="279.92" data-end="281.3">really not very hard at all it's not</span> <span data-start="281.3" data-end="282.53">like you were trying to write a driver</span> <span data-start="282.53" data-end="285.68">for my sequel or something so yeah this</span> <span data-start="285.68" data-end="287.72">will use that pretend that line down</span> <span data-start="287.72" data-end="289.94">there isn't it further slide like in the</span> <span data-start="289.94" data-end="296.21">future okay so couch ABS just do people</span> <span data-start="296.21" data-end="298.01">here kind of know the idea behind couch</span> <span data-start="298.01" data-end="302.15">apps at all so like for okay oh there's</span> <span data-start="302.15" data-end="304.07">more there's more okay all right cool so</span> <span data-start="304.07" data-end="306.2">the idea of couch apps is that rather</span> <span data-start="306.2" data-end="307.7">than having like this middle layer</span> <span data-start="307.7" data-end="309.8">between the browser and the database you</span> <span data-start="309.8" data-end="312.02">can embed especially for simpler</span> <span data-start="312.02" data-end="313.46">applications you can embed pretty much</span> <span data-start="313.46" data-end="316.25">all of the application logic in the</span> </p>
<p><span data-start="316.25" data-end="318.32">CouchDB into the database and then you</span> <span data-start="318.32" data-end="320.15">don't have a lot of extra round trips</span> <span data-start="320.15" data-end="321.77">catch 2 b's very good at concurrency</span> <span data-start="321.77" data-end="324.14">bubble blog also these applications now</span> <span data-start="324.14" data-end="326.51">it can replicate around so if you have a</span> <span data-start="326.51" data-end="327.86">mobile phone and you want to talk to</span> <span data-start="327.86" data-end="329.84">your application offline and then come</span> <span data-start="329.84" data-end="332.93">back up you can replicate with some</span> <span data-start="332.93" data-end="334.73">cloud server and then the application</span> <span data-start="334.73" data-end="337.52">and the data gets synced around so yeah</span> <span data-start="337.52" data-end="339.47">that's the idea behind couch apps but</span> <span data-start="339.47" data-end="341.93">here's the problem with couch apps the</span> <span data-start="341.93" data-end="344.3">only tool right now well there's a</span> <span data-start="344.3" data-end="346.43">couple tools but the main tool is this</span> </p>
<p><span data-start="346.43" data-end="348.47">Python tool called captain Benoit wrote</span> <span data-start="348.47" data-end="352.64">you did a great job not knocking it but</span> <span data-start="352.64" data-end="354.8">because the tool isn't Python because I</span> <span data-start="354.8" data-end="356.21">don't think no really existed would</span> </p>
<p><span data-start="356.21" data-end="360.02">Benoit started this you had to kind of</span> <span data-start="360.02" data-end="363.29">map the little j's functions and little</span> <span data-start="363.29" data-end="365.69">attributes that end up going into this</span> <span data-start="365.69" data-end="367.25">design document it's all just one big</span> <span data-start="367.25" data-end="370.16">JSON document at some point it gets run</span> <span data-start="370.16" data-end="372.53">in like a JavaScript view server so all</span> <span data-start="372.53" data-end="374.09">these little JavaScript files or</span> <span data-start="374.09" data-end="375.41">everywhere in the file system because</span> <span data-start="375.41" data-end="377.03">with the tool being in Python it's not</span> <span data-start="377.03" data-end="378.41">like you could just write some literals</span> <span data-start="378.41" data-end="380.75">or you know scope out an object and then</span> <span data-start="380.75" data-end="382.19">just kind of dynamically be like I want</span> <span data-start="382.19" data-end="383.72">this piece here or that piece there so</span> <span data-start="383.72" data-end="385.669">what you end up with is a directory</span> <span data-start="385.669" data-end="387.169">structure kind of like this and you can</span> <span data-start="387.169" data-end="389.09">see a lot of things that make this hard</span> <span data-start="389.09" data-end="391.4">to use like I mean for one there's just</span> <span data-start="391.4" data-end="393.169">a ton of</span> <span data-start="393.169" data-end="395.24">different directories everywhere like I</span> <span data-start="395.24" data-end="397.789">mean if you didn't think that Java had</span> <span data-start="397.789" data-end="399.259">enough directories and little files in</span> <span data-start="399.259" data-end="402.74">it then like you're gonna love this it's</span> <span data-start="402.74" data-end="404.569">awesome and and the best part is that</span> <span data-start="404.569" data-end="406.52">like you'll have a directory of eight</span> <span data-start="406.52" data-end="408.259">files for like your views and they'll</span> <span data-start="408.259" data-end="410.749">all have a map jf so once they're open</span> <span data-start="410.749" data-end="412.189">in little tabs there's no way to tell</span> <span data-start="412.189" data-end="413.779">them apart unless you click back on them</span> <span data-start="413.779" data-end="415.879">in the directory tree she would be</span> <span data-start="415.879" data-end="417.169">editing one of your map so then you're</span> <span data-start="417.169" data-end="418.939">like oh wait that's the wrong map</span> <span data-start="418.939" data-end="420.56">and there wasn't really a lot to tell me</span> <span data-start="420.56" data-end="424.279">about that so yeah that's some of the</span> <span data-start="424.279" data-end="425.719">pains you go through working with that</span> <span data-start="425.719" data-end="428.629">so to try and make that try and decrease</span> <span data-start="428.629" data-end="432.11">that pain a little bit I wrote an ode</span> <span data-start="432.11" data-end="435.379">thing it's a new API and a new sink</span> <span data-start="435.379" data-end="437.15">script that doesn't use this directory</span> <span data-start="437.15" data-end="438.77">structure but gives you an alternate way</span> <span data-start="438.77" data-end="440.96">to define couch apps because couch apps</span> <span data-start="440.96" data-end="442.58">are just design documents with a bunch</span> <span data-start="442.58" data-end="443.689">of application code in them they're</span> <span data-start="443.689" data-end="445.939">basically just a big Jason thing with</span> <span data-start="445.939" data-end="448.37">some you know functions in them so this</span> <span data-start="448.37" data-end="450.139">is kind of the simplest case right here</span> <span data-start="450.139" data-end="452.18">this is this is actually a sandy</span> <span data-start="452.18" data-end="455.419">application that i wrote to do graphing</span> <span data-start="455.419" data-end="457.699">for performance analysis of CouchDB it's</span> <span data-start="457.699" data-end="458.779">a pretty cool app and we do really</span> <span data-start="458.779" data-end="461.419">pretty graphs with it but it doesn't</span> <span data-start="461.419" data-end="463.219">require anything fancy on the couch and</span> <span data-start="463.219" data-end="464.779">because all it really is is a sammie</span> <span data-start="464.779" data-end="467.479">script I just want to like do some</span> <span data-start="467.479" data-end="469.669">rewrites to map it to slash and map the</span> <span data-start="469.669" data-end="471.889">database to the API and then map</span> <span data-start="471.889" data-end="473.779">everything else all of the attachments</span> <span data-start="473.779" data-end="476.659">like CSS and all my different JavaScript</span> <span data-start="476.659" data-end="478.129">files that are attachments I just want</span> <span data-start="478.129" data-end="479.539">to scope them to the design document</span> <span data-start="479.539" data-end="481.339">itself so I have these couple of rewrite</span> <span data-start="481.339" data-end="484.399">rules in there and that I have a thing</span> <span data-start="484.399" data-end="485.749">that just loads the attachments from a</span> <span data-start="485.749" data-end="487.219">directory and then all of those</span> <span data-start="487.219" data-end="488.659">attachments now will go into the design</span> <span data-start="488.659" data-end="490.909">document and then if we go back a few</span> <span data-start="490.909" data-end="492.499">slides so pretend that that line right</span> <span data-start="492.499" data-end="493.729">there is at the autumn of the other</span> <span data-start="493.729" data-end="496.43">slide this is the script to use to sync</span> <span data-start="496.43" data-end="498.889">that application to catch DB and the</span> <span data-start="498.889" data-end="500.419">nice thing is that after it stinks it</span> <span data-start="500.419" data-end="502.37">will actually stay open and use nodes</span> <span data-start="502.37" data-end="504.499">file Walters to take any changes that</span> <span data-start="504.499" data-end="505.789">happen on that and push it up to the</span> <span data-start="505.789" data-end="507.83">database so one of the things that we've</span> <span data-start="507.83" data-end="508.849">been trying to do for a really long time</span> <span data-start="508.849" data-end="512.569">is make couch app development as easy as</span> <span data-start="512.569" data-end="515.12">developing a local application like if</span> <span data-start="515.12" data-end="516.229">you were just going to pull up a</span> <span data-start="516.229" data-end="517.909">directory of CSS and JavaScript and hack</span> <span data-start="517.909" data-end="520.61">on that like it's so fast and so nice to</span> <span data-start="520.61" data-end="522.68">do like I pull up textmate and I have it</span> <span data-start="522.68" data-end="525.15">actually save on application switch so</span> <span data-start="525.15" data-end="526.68">just command tab back to the browser and</span> <span data-start="526.68" data-end="528.21">refresh and it's really easy to</span> <span data-start="528.21" data-end="530.49">development and trying to do that with</span> <span data-start="530.49" data-end="531.84">couchdb there's like all these layers in</span> <span data-start="531.84" data-end="533.73">between and keeping that fast is kind of</span> <span data-start="533.73" data-end="536.64">hard when I was developing this app I</span> <span data-start="536.64" data-end="538.83">left to that node sync script running</span> <span data-start="538.83" data-end="541.47">for three days and completely forgot</span> <span data-start="541.47" data-end="542.43">that it was there and that I was</span> <span data-start="542.43" data-end="544.32">developing against remote server I would</span> <span data-start="544.32" data-end="546.48">just like command tab back and forth</span> <span data-start="546.48" data-end="548.7">from my editor to to the browser and it</span> <span data-start="548.7" data-end="549.93">would always be updated with the change</span> <span data-start="549.93" data-end="552.18">code and I also i mean i left him</span> <span data-start="552.18" data-end="553.95">running for three days between laptop</span> <span data-start="553.95" data-end="556.32">open and closes and I didn't even notice</span> <span data-start="556.32" data-end="558.72">the process running it didn't leak any</span> <span data-start="558.72" data-end="559.95">memory anything like if that was a</span> </p>
<p><span data-start="559.95" data-end="561.09">Python process it would have just</span> <span data-start="561.09" data-end="562.8">decided to eat a whole core for no</span> <span data-start="562.8" data-end="566.19">reason like that's kind of a testament</span> <span data-start="566.19" data-end="567.63">to how awesome a lot of the node file</span> <span data-start="567.63" data-end="569.4">watcher stuff is right now and we're</span> <span data-start="569.4" data-end="571.2">still improving it so that's also good</span> <span data-start="571.2" data-end="574.32">um yeah so that stuff is just awesome</span> <span data-start="574.32" data-end="577.53">for more complicated applications you</span> <span data-start="577.53" data-end="579.63">can do a lot more stuff with this script</span> <span data-start="579.63" data-end="582.03">so you can load up common J's modules</span> <span data-start="582.03" data-end="583.74">and then you can also load them as files</span> <span data-start="583.74" data-end="586.05">as attachments that's really cool</span> <span data-start="586.05" data-end="588">because a lot of these comedies modules</span> <span data-start="588" data-end="589.92">we can share between the server and the</span> <span data-start="589.92" data-end="594.15">client and like the inside of CouchDB</span> <span data-start="594.15" data-end="596.46">and underscore utils there's a jQuery</span> <span data-start="596.46" data-end="599.22">couch API and that includes a require in</span> <span data-start="599.22" data-end="600.69">it so you can just tell it what design</span> <span data-start="600.69" data-end="602.46">document to go after and you can load</span> <span data-start="602.46" data-end="604.35">all the common J's modules do you use in</span> <span data-start="604.35" data-end="607.98">the view server yeah so I can just start</span> <span data-start="607.98" data-end="609.81">adding arbitrary attributes to the</span> <span data-start="609.81" data-end="611.19">design document which is really nice</span> <span data-start="611.19" data-end="612.84">instead of showing this functions and</span> <span data-start="612.84" data-end="615.66">stuff here you see the the reread all</span> <span data-start="615.66" data-end="620.61">over again go to the next page so here's</span> <span data-start="620.61" data-end="622.44">how you would do add your map reduces</span> <span data-start="622.44" data-end="624.84">you can like this is so much easier that</span> <span data-start="624.84" data-end="627.48">used to be two directories and a single</span> <span data-start="627.48" data-end="629.4">small javascript file with three lines</span> <span data-start="629.4" data-end="633.18">in it and now it's just in line the only</span> <span data-start="633.18" data-end="634.74">thing here is that it's it's kind of</span> <span data-start="634.74" data-end="636.6">fake it's kind of a trick like you can't</span> <span data-start="636.6" data-end="638.52">reference a closure from the from the</span> <span data-start="638.52" data-end="640.32">base of this module inside of this</span> <span data-start="640.32" data-end="641.61">function because it's going to happen is</span> <span data-start="641.61" data-end="643.35">it's going to get too strained and then</span> <span data-start="643.35" data-end="644.85">loaded in a totally different context in</span> <span data-start="644.85" data-end="646.68">the view server so it's really just a</span> <span data-start="646.68" data-end="648.78">convenience for definition it's it's not</span> <span data-start="648.78" data-end="650.52">like this whole thing gets loaded in and</span> <span data-start="650.52" data-end="652.44">interpreted like this at any other time</span> <span data-start="652.44" data-end="654">other than when we imported it into node</span> <span data-start="654" data-end="657.86">and convert it into a design document um</span> <span data-start="657.86" data-end="662.06">once we got we got an update function no</span> <span data-start="662.06" data-end="663.86">no sorry that's a show function shell</span> <span data-start="663.86" data-end="665.45">functions are really nice so one of the</span> <span data-start="665.45" data-end="667.519">problems that you have like if you if</span> <span data-start="667.519" data-end="669.47">all of your app code is a sandy app then</span> <span data-start="669.47" data-end="670.94">it can't really be indexed by Google</span> <span data-start="670.94" data-end="672.86">because that's just one page like you</span> <span data-start="672.86" data-end="673.85">know totally different content</span> <span data-start="673.85" data-end="675.62">variations at the end so the show</span> <span data-start="675.62" data-end="677.44">function is just a catchy function that</span> <span data-start="677.44" data-end="679.82">inside of the Earl will take a single</span> <span data-start="679.82" data-end="682.67">document ID and then it will pass that</span> <span data-start="682.67" data-end="684.649">document to this function and you can do</span> <span data-start="684.649" data-end="686.24">stuff like grab some mustache templates</span> <span data-start="686.24" data-end="688.73">and return HTML you can also you if you</span> <span data-start="688.73" data-end="690.26">wanted to return in RSS feed you could</span> <span data-start="690.26" data-end="692.12">do that for also speeds actually you</span> <span data-start="692.12" data-end="694.49">should probably use a list function so a</span> <span data-start="694.49" data-end="696.11">list function is it's similar to a show</span> <span data-start="696.11" data-end="698.66">function but what you do is you tell it</span> <span data-start="698.66" data-end="700.459">what view you want to hit and what query</span> <span data-start="700.459" data-end="701.81">you want to do against that view and</span> <span data-start="701.81" data-end="705.86">then row by row you can iteratively go</span> <span data-start="705.86" data-end="708.8">over that entire query and return an</span> </p>
<p><span data-start="708.8" data-end="710.329">HTML page for that so that would be</span> <span data-start="710.329" data-end="712.82">really good for like an RSS feed so you</span> <span data-start="712.82" data-end="714.95">just do a rewriter that defaulted to you</span> <span data-start="714.95" data-end="717.32">know limit 10 and you get the last 10</span> <span data-start="717.32" data-end="720.579">articles for you know some time stamp</span> <span data-start="720.579" data-end="723.74">and then you would just pass that into</span> <span data-start="723.74" data-end="725.18">this list function and then you would</span> <span data-start="725.18" data-end="727.37">return some XML you can change all the</span> <span data-start="727.37" data-end="728.81">headers and all that kind of stuff it's</span> <span data-start="728.81" data-end="731.42">pretty simple there are a couple</span> <span data-start="731.42" data-end="732.829">performance problems with this right now</span> <span data-start="732.829" data-end="738.05">but we're working on it ok one of the</span> <span data-start="738.05" data-end="740.18">nice cool thing I'm realizing how short</span> <span data-start="740.18" data-end="741.17">this is going to be at this point</span> <span data-start="741.17" data-end="742.43">because this is like the last thing that</span> </p>
<p><span data-start="742.43" data-end="745.399">I was talking about so usually when</span> <span data-start="745.399" data-end="747.709">people go like i will use noting CouchDB</span> <span data-start="747.709" data-end="749.36">this is what they want to do they</span> <span data-start="749.36" data-end="751.37">initially want to you know slot node</span> <span data-start="751.37" data-end="753.68">into where they used to have Python or</span> <span data-start="753.68" data-end="755.779">Ruby or something like if they're really</span> <span data-start="755.779" data-end="758.959">unlucky Java and then you know they want</span> <span data-start="758.959" data-end="760.85">to put couch behind it like they used to</span> <span data-start="760.85" data-end="763.01">with their old database and one of the</span> <span data-start="763.01" data-end="764.269">reasons the people always did that with</span> <span data-start="764.269" data-end="765.26">their all databases they're all</span> <span data-start="765.26" data-end="767.209">databases didn't talk HTTP you know that</span> <span data-start="767.209" data-end="768.47">was their only option was to put it</span> <span data-start="768.47" data-end="770.48">behind something they could take HTTP</span> <span data-start="770.48" data-end="771.64">requests and then talk to the database</span> <span data-start="771.64" data-end="774.079">so this is where we've been using a</span> <span data-start="774.079" data-end="775.73">little bit lately because there's some</span> <span data-start="775.73" data-end="777.14">stuff that you just can't do instead of</span> <span data-start="777.14" data-end="779.12">the catch to be view server like inside</span> <span data-start="779.12" data-end="780.44">of those shown this functions you can't</span> <span data-start="780.44" data-end="783.14">just go and like send an email or go and</span> <span data-start="783.14" data-end="784.73">like request some remote content from a</span> <span data-start="784.73" data-end="786.589">site like you're in a sandbox one of the</span> <span data-start="786.589" data-end="787.88">reasons you're in a sandbox is because</span> <span data-start="787.88" data-end="788.93">we want you to be able to replicate</span> <span data-start="788.93" data-end="790.889">applications from different people</span> <span data-start="790.889" data-end="792.779">that are essentially untrusted like</span> <span data-start="792.779" data-end="794.489">they're going to be walked into that</span> <span data-start="794.489" data-end="795.989">database and only have access to that</span> <span data-start="795.989" data-end="797.189">database they're not going to be able to</span> <span data-start="797.189" data-end="799.519">get at your personal information and uh</span> <span data-start="799.519" data-end="801.629">because of the way that we host and</span> <span data-start="801.629" data-end="803.579">rewriter stuff works they're totally</span> <span data-start="803.579" data-end="805.019">locked into all their session</span> <span data-start="805.019" data-end="806.369">information only being able to access</span> <span data-start="806.369" data-end="808.139">that and then the view server we also</span> <span data-start="808.139" data-end="810.359">lock it down so you can really just</span> <span data-start="810.359" data-end="812.009">install applications into your caps DB</span> <span data-start="812.009" data-end="813.239">and not worry about them like you don't</span> <span data-start="813.239" data-end="817.23">worry about visiting websites so yeah</span> <span data-start="817.23" data-end="818.79">but because there are some deficiencies</span> <span data-start="818.79" data-end="822.899">we started working on this and there's a</span> <span data-start="822.899" data-end="825.629">couple of different permutations of this</span> <span data-start="825.629" data-end="827.459">paradigm right here like Chris has one</span> <span data-start="827.459" data-end="829.169">and I've been working on this and I</span> <span data-start="829.169" data-end="830.459">think somebody else won't run as well</span> </p>
<p><span data-start="830.459" data-end="832.35">I'm going to talk about mine a little</span> <span data-start="832.35" data-end="833.999">bit because the idea is a little bit</span> <span data-start="833.999" data-end="837.059">further along so couchdb has this</span> <span data-start="837.059" data-end="838.679">awesome awesome feature called</span> <span data-start="838.679" data-end="840.839">underscore changes so you do an HTTP</span> <span data-start="840.839" data-end="842.279">request to underscore changes and you</span> <span data-start="842.279" data-end="844.829">get the sequence index for the database</span> <span data-start="844.829" data-end="846.929">which is essentially every document in</span> <span data-start="846.929" data-end="849.829">the database right now has like a</span> <span data-start="849.829" data-end="853.35">sequence where it was last updated or</span> <span data-start="853.35" data-end="854.939">deleted or whatever inside of the</span> <span data-start="854.939" data-end="856.649">database so you can literally</span> <span data-start="856.649" data-end="858.119">reconstruct the entire database by</span> <span data-start="858.119" data-end="859.86">hitting this changes feed but you can</span> <span data-start="859.86" data-end="863.1">also use long pole against it with the</span> <span data-start="863.1" data-end="864.54">last sequence ID that you had you can</span> <span data-start="864.54" data-end="867.869">also do a continuous feed so in node and</span> <span data-start="867.869" data-end="870.749">if you really hack up the Firefox is our</span> <span data-start="870.749" data-end="873.269">object you can do this as well you can</span> <span data-start="873.269" data-end="876.059">get a real-time feed of this entire API</span> <span data-start="876.059" data-end="877.709">and we'll have WebSocket support as soon</span> <span data-start="877.709" data-end="879.899">as we get it in a Moche web so basically</span> <span data-start="879.899" data-end="882.629">you can get push notifications to the</span> <span data-start="882.629" data-end="884.97">browser or to whatever code that you're</span> <span data-start="884.97" data-end="886.769">writing in real time from the database</span> <span data-start="886.769" data-end="890.549">it's very very nice and of course node</span> <span data-start="890.549" data-end="892.199">can talk to this as well and it's even</span> <span data-start="892.199" data-end="894.929">better at parsing it so this thing we've</span> <span data-start="894.929" data-end="898.259">been working on is node 1 node process</span> <span data-start="898.259" data-end="899.97">sits on the changes feed for every</span> <span data-start="899.97" data-end="901.919">database and it's also checking all the</span> <span data-start="901.919" data-end="902.939">time to see if there's been any new</span> <span data-start="902.939" data-end="905.22">database is created when it gets a</span> <span data-start="905.22" data-end="908.189">design document added who is it changes</span> <span data-start="908.189" data-end="912.359">attribute it actually takes that this</span> <span data-start="912.359" data-end="914.839">whatever code is in the string here and</span> <span data-start="914.839" data-end="918.66">it evals it in a new nodejs process the</span> <span data-start="918.66" data-end="920.009">reason that we fought that into its own</span> <span data-start="920.009" data-end="920.449">process</span> <span data-start="920.449" data-end="923.119">is so that when you update it again we</span> <span data-start="923.119" data-end="924.47">can just leave that one around for a</span> <span data-start="924.47" data-end="925.939">little bit let it clear out and start a</span> <span data-start="925.939" data-end="927.439">new process and start having that handle</span> <span data-start="927.439" data-end="931.399">the new changes that come in so we'll</span> <span data-start="931.399" data-end="933.29">get into why this is useful the reason</span> <span data-start="933.29" data-end="936.23">that we want you to update an attribute</span> <span data-start="936.23" data-end="938.029">in the design document in order to flush</span> <span data-start="938.029" data-end="940.519">that is because now updating this</span> <span data-start="940.519" data-end="943.22">external process handler is the same</span> <span data-start="943.22" data-end="944.6">process that you go through for updating</span> <span data-start="944.6" data-end="946.579">your application normally so like the</span> <span data-start="946.579" data-end="949.369">distribution like there there are no</span> <span data-start="949.369" data-end="952.999">like push tools like you know get pushed</span> <span data-start="952.999" data-end="954.589">to something and then you restart your</span> <span data-start="954.589" data-end="956.66">couch app it's all this replication so</span> <span data-start="956.66" data-end="959.029">you just put this document in for all of</span> <span data-start="959.029" data-end="960.379">your other application code why wouldn't</span> <span data-start="960.379" data-end="961.549">you want to do that for your nodejs</span> <span data-start="961.549" data-end="965.839">external process okay so this is what it</span> <span data-start="965.839" data-end="968.809">would look like to send an email rather</span> <span data-start="968.809" data-end="971.209">than talking to some HTTP service and</span> <span data-start="971.209" data-end="973.639">then like basically blocking until that</span> <span data-start="973.639" data-end="975.709">says oh I sent this email and then if</span> <span data-start="975.709" data-end="978.049">for some reason the socket crashes or</span> <span data-start="978.049" data-end="980.209">like anything bad happens during that</span> <span data-start="980.209" data-end="981.529">time you don't know if you already sent</span> <span data-start="981.529" data-end="982.759">it so now you've got to try to figure</span> <span data-start="982.759" data-end="984.259">out if you sent it or just send it again</span> <span data-start="984.259" data-end="987.289">and then you have duplicate emails we</span> <span data-start="987.289" data-end="989.119">just share we just have a state machine</span> <span data-start="989.119" data-end="991.039">that shared between everybody involved</span> <span data-start="991.039" data-end="993.259">in this transaction so what happens is</span> <span data-start="993.259" data-end="995.569">the browser application will just go hey</span> </p>
<p><span data-start="995.569" data-end="997.549">I want to send a new email and it will</span> <span data-start="997.549" data-end="1000.549">set it with a draft status and when the</span> <span data-start="1000.549" data-end="1002.619">note process will go okay that change</span> <span data-start="1002.619" data-end="1003.999">happened to this database I have an</span> <span data-start="1003.999" data-end="1005.23">external process handler for that</span> <span data-start="1005.23" data-end="1008.559">database it'll send it that change with</span> <span data-start="1008.559" data-end="1010.72">the ID with the whole document in it so</span> <span data-start="1010.72" data-end="1012.85">it'll get like the sequence ID and the</span> <span data-start="1012.85" data-end="1014.23">new Rev and much of other information</span> <span data-start="1014.23" data-end="1016.72">and then what nodejs will do is it'll</span> <span data-start="1016.72" data-end="1018.879">update that document and CouchDB and say</span> <span data-start="1018.879" data-end="1020.559">okay I'm going to go try to send that</span> <span data-start="1020.559" data-end="1022.72">now and maybe it'll also put the</span> <span data-start="1022.72" data-end="1024.069">timestamp in there so that we can clean</span> <span data-start="1024.069" data-end="1025.769">them up if for some reason it crashes</span> <span data-start="1025.769" data-end="1027.97">and then it'll go off and still an email</span> <span data-start="1027.97" data-end="1030.01">because node can go and send emails you</span> <span data-start="1030.01" data-end="1032.019">can talk to whatever it's not inside of</span> <span data-start="1032.019" data-end="1034.029">the same sandbox that all of the cash to</span> <span data-start="1034.029" data-end="1036.519">be stuff is in and then it comes back</span> <span data-start="1036.519" data-end="1038.319">and it goes all that was sent and then</span> <span data-start="1038.319" data-end="1039.909">it updates the couchdb database with</span> <span data-start="1039.909" data-end="1041.919">that information so the browser could</span> <span data-start="1041.919" data-end="1043.24">just be sitting on the changes feed as</span> <span data-start="1043.24" data-end="1044.649">well for the database or just for this</span> <span data-start="1044.649" data-end="1047.35">document and in real time update the</span> <span data-start="1047.35" data-end="1047.839">status</span> <span data-start="1047.839" data-end="1050.15">that of what's going on behind the</span> <span data-start="1050.15" data-end="1054.44">scenes here so the real big one do you</span> <span data-start="1054.44" data-end="1057.14">get with this is that this whole system</span> <span data-start="1057.14" data-end="1059.299">this whole application now works offline</span> <span data-start="1059.299" data-end="1062.179">so when I've got like a cash to be on my</span> <span data-start="1062.179" data-end="1063.65">android phone and a catch me on my</span> <span data-start="1063.65" data-end="1066.049">desktop and I get on a plane or I'm in</span> </p>
<p><span data-start="1066.049" data-end="1068.809">San Francisco so I clearly don't have</span> <span data-start="1068.809" data-end="1072.38">any service I can go home to my email</span> <span data-start="1072.38" data-end="1073.85">client and just be like I want to send</span> <span data-start="1073.85" data-end="1075.2">some emails I've set them in the draft</span> <span data-start="1075.2" data-end="1076.99">because you're not online yet and</span> <span data-start="1076.99" data-end="1079.1">replication isn't like some kind of</span> <span data-start="1079.1" data-end="1081.169">special protocol with cash TB</span> <span data-start="1081.169" data-end="1083.45">replication uses the normal couchdb API</span> <span data-start="1083.45" data-end="1086.299">so another has to be replicating a</span> <span data-start="1086.299" data-end="1088.94">document to to the cloud couch creates</span> <span data-start="1088.94" data-end="1090.529">the same document in the same sequence</span> <span data-start="1090.529" data-end="1092.87">index and all that stuff as a normal put</span> <span data-start="1092.87" data-end="1096.2">would do so by the time the battle makes</span> <span data-start="1096.2" data-end="1098.659">it back to the couch DB the node.js</span> <span data-start="1098.659" data-end="1100.549">process to go oh I'm about to emails to</span> <span data-start="1100.549" data-end="1102.77">send so when it's online that</span> <span data-start="1102.77" data-end="1104.029">replication is all happening in real</span> <span data-start="1104.029" data-end="1105.679">time it's all continuous you wouldn't</span> <span data-start="1105.679" data-end="1107.809">even notice that there's like this extra</span> <span data-start="1107.809" data-end="1109.94">link in that chain but then when it goes</span> <span data-start="1109.94" data-end="1111.649">offline none of your app code has to</span> <span data-start="1111.649" data-end="1113.12">deal with being offline that's all going</span> <span data-start="1113.12" data-end="1114.62">to be handled by CouchDB all you're</span> <span data-start="1114.62" data-end="1116.059">going to do is go sinless email and it's</span> <span data-start="1116.059" data-end="1117.169">going to go well that's still in graph</span> <span data-start="1117.169" data-end="1119.049">status and nobody's trying to send it</span> <span data-start="1119.049" data-end="1122.12">businesses lock up like Gmail does right</span> <span data-start="1122.12" data-end="1125.179">now for me for some reason know when you</span> <span data-start="1125.179" data-end="1127.01">add in all these they're crazy cash db's</span> <span data-start="1127.01" data-end="1129.2">like you know you're probably not going</span> <span data-start="1129.2" data-end="1130.52">to have this your cell but in a lot of</span> <span data-start="1130.52" data-end="1132.44">work groups you're going to have a bunch</span> <span data-start="1132.44" data-end="1134.6">of CouchDB use and different like mobile</span> <span data-start="1134.6" data-end="1136.399">phones and may be in different data</span> <span data-start="1136.399" data-end="1138.32">centers and you're going to be trying to</span> <span data-start="1138.32" data-end="1139.73">like you know sync everybody's data</span> <span data-start="1139.73" data-end="1142.01">across like korea to here and below blah</span> <span data-start="1142.01" data-end="1143.539">and they're all going to have these like</span> <span data-start="1143.539" data-end="1146">super weird replication paradigms where</span> <span data-start="1146" data-end="1147.649">one of them is going to be doing Willie</span> <span data-start="1147.649" data-end="1149">replication one's going to be doing two</span> <span data-start="1149" data-end="1150.89">way and did it if you've only got one</span> <span data-start="1150.89" data-end="1153.38">guy responsible for handling the email</span> <span data-start="1153.38" data-end="1155.299">then you're not going to have a bunch of</span> <span data-start="1155.299" data-end="1157.73">duplicate emails sent and because the</span> <span data-start="1157.73" data-end="1159.559">document is just a state machine if one</span> <span data-start="1159.559" data-end="1161.24">of them updates it and says I'm sending</span> <span data-start="1161.24" data-end="1162.83">it dealer was not going to go and try to</span> <span data-start="1162.83" data-end="1164.419">send it as well like that's that's going</span> <span data-start="1164.419" data-end="1165.409">to get replicated around it's going to</span> <span data-start="1165.409" data-end="1166.94">go oh no no I didn't I don't try to send</span> <span data-start="1166.94" data-end="1170.72">that yet so yeah now you can have these</span> <span data-start="1170.72" data-end="1173.74">like federated distributed applications</span> <span data-start="1173.74" data-end="1176.12">and they can also go up and talk to the</span> </p>
<p><span data-start="1176.12" data-end="1177.409">Internet and they're not necessarily in</span> <span data-start="1177.409" data-end="1179.68">a sandbox except for the</span> <span data-start="1179.68" data-end="1182.29">one trusted cloud couchdb or maybe i run</span> <span data-start="1182.29" data-end="1183.55">another one that i want or whatever you</span> <span data-start="1183.55" data-end="1186.64">can do whatever you want but it doesn't</span> <span data-start="1186.64" data-end="1187.99">require any new app code I didn't have</span> <span data-start="1187.99" data-end="1189.43">to write a bunch of JavaScript to try</span> <span data-start="1189.43" data-end="1190.84">and handle all these weird edge cases</span> <span data-start="1190.84" data-end="1192.82">with replication that all just works</span> <span data-start="1192.82" data-end="1196.57">couch is very good at replication so</span> <span data-start="1196.57" data-end="1198.58">yeah I had another side that had links</span> <span data-start="1198.58" data-end="1199.9">to everything and i forgot to rewrite</span> <span data-start="1199.9" data-end="1201.99">that one so i'm very sorry about that</span> <span data-start="1201.99" data-end="1206.44">but these are all in github one is</span> <span data-start="1206.44" data-end="1208.98">github the node couch app stuff is</span> <span data-start="1208.98" data-end="1212.41">github / michael my name spelled</span> <span data-start="1212.41" data-end="1217.09">up / node couch fjf and the other one is</span> <span data-start="1217.09" data-end="1220.48">just in node couches and in there you'll</span> <span data-start="1220.48" data-end="1222.43">see that there's a we call it a generic</span> <span data-start="1222.43" data-end="1224.56">changes consumer it's very inside</span> <span data-start="1224.56" data-end="1226.33">baseball should probably come up with a</span> <span data-start="1226.33" data-end="1233.45">new name for that yeah so any questions</span> <span data-start="1233.46" data-end="1237.13">no I find it very hard to believe that</span> <span data-start="1237.13" data-end="1238.15">everybody actually understands what I</span> <span data-start="1238.15" data-end="1255.31">just talked about all right amen</span> <span data-start="1255.32" data-end="1258.46">hmm</span> <span data-start="1258.47" data-end="1260.299">so how do you work with them how do you</span> <span data-start="1260.299" data-end="1263.48">work at the mobile couch okay yeah so we</span> <span data-start="1263.48" data-end="1265.159">have a winner beta up right now with for</span> <span data-start="1265.159" data-end="1268.28">the Android SDK other ones are coming I</span> <span data-start="1268.28" data-end="1269.6">don't know if I can talk about them I</span> <span data-start="1269.6" data-end="1270.95">know it's public that we're working on</span> <span data-start="1270.95" data-end="1272.75">the iOS one I just can't tell you how</span> <span data-start="1272.75" data-end="1276.74">far along it is but um anyway so yeah</span> <span data-start="1276.74" data-end="1277.82">when you're when you're talking to</span> </p>
<p><span data-start="1277.82" data-end="1280.76">Android couch Android catches everyone</span> <span data-start="1280.76" data-end="1283.25">is pretty cool so with Android what you</span> <span data-start="1283.25" data-end="1284.69">can do is if you're willing to write</span> <span data-start="1284.69" data-end="1287.27">like a phonegap application right and</span> <span data-start="1287.27" data-end="1289.01">you wanted to distribute the entire</span> <span data-start="1289.01" data-end="1290.87">CouchDB around with your application and</span> <span data-start="1290.87" data-end="1292.94">bind it to it you can build it that way</span> <span data-start="1292.94" data-end="1295.4">but what you can also do is you can</span> <span data-start="1295.4" data-end="1298.49">build CouchDB as a service so then it's</span> <span data-start="1298.49" data-end="1300.62">installed once for the device and when</span> <span data-start="1300.62" data-end="1302.059">other applications are installed what</span> <span data-start="1302.059" data-end="1303.59">they ask for is access to that service</span> <span data-start="1303.59" data-end="1305.78">and you'll see like a little couch icon</span> <span data-start="1305.78" data-end="1307.58">when you install it and stuff and then</span> <span data-start="1307.58" data-end="1309.08">and then they would just get access to</span> <span data-start="1309.08" data-end="1311.299">the local system CouchDB so we're trying</span> <span data-start="1311.299" data-end="1312.169">to figure out which one of those is</span> <span data-start="1312.169" data-end="1314.84">going to work the best in terms of like</span> <span data-start="1314.84" data-end="1316.58">just accessing couchdb I mean it's still</span> <span data-start="1316.58" data-end="1318.83">just the HTTP API you still just write</span> <span data-start="1318.83" data-end="1322.909">html5 applications against caps TV that</span> <span data-start="1322.909" data-end="1326.33">doesn't change on mobile at all I mean</span> <span data-start="1326.33" data-end="1327.5">we're definitely going to do some really</span> <span data-start="1327.5" data-end="1329.299">good like PhoneGap integrations that we</span> <span data-start="1329.299" data-end="1331.1">can get it some of the native stuff even</span> <span data-start="1331.1" data-end="1333.799">inside of that html5 application but now</span> <span data-start="1333.799" data-end="1335.12">when you develop it against cash to be a</span> <span data-start="1335.12" data-end="1336.89">new store the data and cache to be the</span> <span data-start="1336.89" data-end="1338.33">offline stuff works then it can</span> <span data-start="1338.33" data-end="1339.89">replicate back up and it can replicate</span> <span data-start="1339.89" data-end="1341.51">with your desktop computer while you're</span> <span data-start="1341.51" data-end="1343.36">offline on a plane or whatever as well</span> <span data-start="1343.36" data-end="1347.86">that stuff all works quite well yeah</span> <span data-start="1347.86" data-end="1350.15">yeah you can go to the couch one website</span> <span data-start="1350.15" data-end="1352.49">so it's catch one calm and then you'll</span> <span data-start="1352.49" data-end="1354.23">see a big thing about mobile and you can</span> <span data-start="1354.23" data-end="1356.289">download that download the Android SDK</span> <span data-start="1356.289" data-end="1358.97">and there's some good preliminary</span> <span data-start="1358.97" data-end="1361.039">documentation for that I don't know if</span> <span data-start="1361.039" data-end="1362.36">he did it this week or if he's doing it</span> <span data-start="1362.36" data-end="1364.28">next week but Aaron Miller the guy who</span> <span data-start="1364.28" data-end="1367.159">wrote the android port is doing some</span> <span data-start="1367.159" data-end="1369.98">kind of free webcast for O'Reilly about</span> <span data-start="1369.98" data-end="1372.5">how to do development with it yeah also</span> </p>
<p><span data-start="1372.5" data-end="1374.39">I know that Brian LaRue has been messing</span> <span data-start="1374.39" data-end="1375.919">with it and Joe McCann's been messing</span> <span data-start="1375.919" data-end="1379.649">with it so you can bug them about it</span> <span data-start="1379.659" data-end="1400.01">anything else where it that way yes</span> <span data-start="1400.02" data-end="1402.97">no no it's not completely open like Nana</span> <span data-start="1402.97" data-end="1405.28">there this security in cash TV we</span> <span data-start="1405.28" data-end="1407.49">weren't just like no we don't need that</span> <span data-start="1407.49" data-end="1410.71">yeah so Josh to be has a user's database</span> <span data-start="1410.71" data-end="1414.64">and every database one ends up happening</span> <span data-start="1414.64" data-end="1417.28">is after that us happens then we just</span> <span data-start="1417.28" data-end="1419.14">have the user document from the users</span> <span data-start="1419.14" data-end="1421.15">database and we pass that around as the</span> <span data-start="1421.15" data-end="1422.71">context for that user so there's like a</span> <span data-start="1422.71" data-end="1425.549">nice abstraction between those layers</span> <span data-start="1425.549" data-end="1428.409">whenever a document update happens like</span> <span data-start="1428.409" data-end="1431.35">we take that user context and we take</span> <span data-start="1431.35" data-end="1433.15">the old document and the new document</span> <span data-start="1433.15" data-end="1434.679">and even when documents are deleted it's</span> <span data-start="1434.679" data-end="1437.409">just now a deleted attribute we passed</span> <span data-start="1437.409" data-end="1439.24">those as three variables to a JavaScript</span> <span data-start="1439.24" data-end="1441.19">function and what you can do is you can</span> <span data-start="1441.19" data-end="1443.32">throw you can just say like I'm not know</span> <span data-start="1443.32" data-end="1444.97">that users not allowed to do that and</span> <span data-start="1444.97" data-end="1446.62">that throw message gets turned into like</span> <span data-start="1446.62" data-end="1450.97">a proper HTTP four hundred to the client</span> <span data-start="1450.97" data-end="1453.63">the really cool thing about that is</span> <span data-start="1453.63" data-end="1456.159">there because replication is just a</span> <span data-start="1456.159" data-end="1458.38">normal client like on my android catch</span> </p>
<p><span data-start="1458.38" data-end="1460.33">TBH i'm like root like I knew ever</span> <span data-start="1460.33" data-end="1462.94">I want and then when I go off and I</span> <span data-start="1462.94" data-end="1464.5">replicate with the cloud cash to be like</span> <span data-start="1464.5" data-end="1467.08">I'm not root I'm actually like a user on</span> <span data-start="1467.08" data-end="1468.52">that couch and I'm talking to the</span> <span data-start="1468.52" data-end="1470.919">regular HTTP API and I acenta Kate and</span> <span data-start="1470.919" data-end="1472.69">if I'm not allowed to write the</span> <span data-start="1472.69" data-end="1474.07">documents that i wrote on my local couch</span> <span data-start="1474.07" data-end="1475.72">like those will all be like no no that's</span> <span data-start="1475.72" data-end="1477.64">not happening and I won't like pollute</span> <span data-start="1477.64" data-end="1482.65">everybody else's data yeah i mean i</span> <span data-start="1482.65" data-end="1484.27">could probably do an entire talk just</span> <span data-start="1484.27" data-end="1485.98">about all the authentication things that</span> <span data-start="1485.98" data-end="1487.6">you can do with cash to be we're all so</span> <span data-start="1487.6" data-end="1489.46">we're working on some new documentation</span> <span data-start="1489.46" data-end="1490.87">that'll show certain how you would</span> <span data-start="1490.87" data-end="1492.789">implement certain fin occation patterns</span> <span data-start="1492.789" data-end="1495.58">and couch but yeah one of the nice</span> <span data-start="1495.58" data-end="1497.11">things about it and a couple of people</span> <span data-start="1497.11" data-end="1498.659">in our case studies have actually shown</span> <span data-start="1498.659" data-end="1500.77">that this is how they use caps and how</span> <span data-start="1500.77" data-end="1504.039">they use how they push data around and</span> <span data-start="1504.039" data-end="1506.38">give data to customers is that they just</span> <span data-start="1506.38" data-end="1508.299">they every customer gets their own</span> <span data-start="1508.299" data-end="1510.4">database and if any information is ever</span> <span data-start="1510.4" data-end="1512.5">like exchange between customers like day</span> <span data-start="1512.5" data-end="1514.27">control those access controls of what's</span> <span data-start="1514.27" data-end="1515.35">going in and out</span> <span data-start="1515.35" data-end="1516.76">and so everybody at the end of the day</span> <span data-start="1516.76" data-end="1517.96">gets a database they can do with</span> <span data-start="1517.96" data-end="1519.01">whatever they want and they can</span> <span data-start="1519.01" data-end="1520.66">replicate that with somebody else or</span> <span data-start="1520.66" data-end="1522.64">they can keep pulling replicating and</span> <span data-start="1522.64" data-end="1524.89">things like that it's kind of hard to</span> <span data-start="1524.89" data-end="1528.21">explain without slides I'm sorry</span> <span data-start="1528.21" data-end="1537.44">anything else yes</span> <span data-start="1537.45" data-end="1541.919">oh yeah so the but by the time the sdk</span> <span data-start="1541.919" data-end="1543.84">is not in beta it will actually come</span> <span data-start="1543.84" data-end="1546.389">with a demo application and to make sure</span> <span data-start="1546.389" data-end="1548.549">that we can get through the store and</span> </p>
<p><span data-start="1548.549" data-end="1550.679">Android in the store and iPhone will</span> <span data-start="1550.679" data-end="1552.21">actually be taking that application</span> <span data-start="1552.21" data-end="1553.919">which although you'll see the mule sale</span> <span data-start="1553.919" data-end="1555.36">de code for and submitting it through</span> <span data-start="1555.36" data-end="1556.5">the app store to make sure that like</span> <span data-start="1556.5" data-end="1560.279">there's no problems so yeah so yeah</span> <span data-start="1560.279" data-end="1562.19">there there will be a demo application</span> <span data-start="1562.19" data-end="1565.38">soon basically there's lots of demo</span> <span data-start="1565.38" data-end="1568.62">couch apps for desktop and basically the</span> <span data-start="1568.62" data-end="1570.059">idea is that anybody can write an</span> <span data-start="1570.059" data-end="1571.5">application and stick it into this and</span> <span data-start="1571.5" data-end="1573.63">it's kind of like the open app store for</span> <span data-start="1573.63" data-end="1576.33">couch apps and when you look at any</span> <span data-start="1576.33" data-end="1577.98">application you can see like a little</span> <span data-start="1577.98" data-end="1579.419">demo and then you can actually replicate</span> <span data-start="1579.419" data-end="1582.09">it to your couchdb and then you've got</span> <span data-start="1582.09" data-end="1583.679">all the code and all the example stuff</span> <span data-start="1583.679" data-end="1590.639">and it's pretty cool what can you sell</span> <span data-start="1590.639" data-end="1592.47">it no no we have not hooked that up yet</span> </p>
<p><span data-start="1592.47" data-end="1596.039">I mean maybe someday but not yet I mean</span> <span data-start="1596.039" data-end="1597.24">you could smell a couch up through the</span> <span data-start="1597.24" data-end="1607.72">android store yep</span> <span data-start="1607.73" data-end="1614.22">dump it to the computer when like like</span> <span data-start="1614.22" data-end="1618.84">dumped out like I mean yeah I mean</span> <span data-start="1618.84" data-end="1620.76">they're all in one like a couch at this</span> <span data-start="1620.76" data-end="1622.59">literally one design document that says</span> <span data-start="1622.59" data-end="1624.12">everything about that application so I</span> <span data-start="1624.12" data-end="1625.32">mean you can pull that whole thing</span> <span data-start="1625.32" data-end="1626.43">around that's what implication does</span> <span data-start="1626.43" data-end="1627.51">replication just pulls the whole</span> <span data-start="1627.51" data-end="1636.38">document around yeah yeah you get</span> <span data-start="1636.38" data-end="1638.58">nothing else i'm pretty sure that now</span> <span data-start="1638.58" data-end="1641.28">i'm actually pushing out a time so let's</span> </p>
</section>

<!-- div#container ends -->
</div>

<img alt="The End" id="fin" src="../images/fin.jpg">

<script>
/*eslint-disable */
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google-translate');
}
/* eslint-enable */
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="../js/main.js"></script>

</body>

</html>
