<!DOCTYPE html>

<!--
Copyright 2019 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="//google.com">
  <meta name="description" content="web.dev LIVE video transcript">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>rvQP2RTxEH8</title>
  <link rel="stylesheet" href="../css/main.css">
</head>

<body>

<iframe id="youtube" src="https://www.youtube.com/embed/rvQP2RTxEH8?enablejsapi=1"></iframe>

<div id="container">

<div id="options">
  <div id="google-translate"></div>
  <div>
    <input type="checkbox" id="videoSticky" checked>
    <label for="videoSticky">Video position sticky</label>
  </div>
  <div>
    <input type="checkbox" id="captionScroll" checked>
    <label for="captionScroll">Keep current caption visible</label>
  </div>
</div>

<section>
<p><span data-start="9.31" data-end="12.31">so yeah again Jenna this is parsing</span> <span data-start="12.31" data-end="15.52">cursors and I am a senior front-end</span> <span data-start="15.52" data-end="18.58">engineer at slack I'm on the search and</span> <span data-start="18.58" data-end="20.23">discovery team we're based in New York</span> <span data-start="20.23" data-end="22.93">City I spend a lot of time thinking</span> <span data-start="22.93" data-end="25.6">about the quick switcher and other art</span> <span data-start="25.6" data-end="27.52">of completes throughout the product some</span> <span data-start="27.52" data-end="29.77">other things I do in New York include</span> <span data-start="29.77" data-end="32.44">organizing to JavaScript communities one</span> <span data-start="32.44" data-end="34.9">is Empire Jas which is an annual</span> </p>
<p><span data-start="34.9" data-end="37.059">JavaScript conference yeah there is</span> <span data-start="37.059" data-end="39.01">Brooklyn Jas which is a monthly</span> <span data-start="39.01" data-end="40.69">JavaScript Meetup</span> <span data-start="40.69" data-end="43.629">so I know firsthand how much effort it</span> <span data-start="43.629" data-end="45.489">takes to pull off an event like this so</span> <span data-start="45.489" data-end="46.78">can we get a round of applause for all</span> <span data-start="46.78" data-end="48.82">with organizers volunteers and everyone</span> <span data-start="48.82" data-end="57.489">else so my twitter handle is Zygon</span> <span data-start="57.489" data-end="59.739">vector you can feel free to tweet</span> <span data-start="59.739" data-end="62.739">questions comments and compliments at me</span> <span data-start="62.739" data-end="65.32">there I'll also tweet out the link to my</span> <span data-start="65.32" data-end="67.42">slides which just happens to be on this</span> <span data-start="67.42" data-end="70.15">slide she also mentioned there's a lot</span> <span data-start="70.15" data-end="72.369">of information here so I've included</span> <span data-start="72.369" data-end="74.11">some citations at the bottom of my</span> <span data-start="74.11" data-end="76.21">bottom of my slides there's probably</span> <span data-start="76.21" data-end="79.119">like entire college courses on parsers</span> <span data-start="79.119" data-end="82.439">but I have to do this in 25 minutes so</span> <span data-start="82.439" data-end="84.789">there's gonna be a lot of information in</span> <span data-start="84.789" data-end="86.649">a short amount of time some of its going</span> <span data-start="86.649" data-end="88.299">to be high-level some of its gonna be</span> <span data-start="88.299" data-end="90.03">fast sorry</span> <span data-start="90.03" data-end="92.35">so if you want to learn more please</span> <span data-start="92.35" data-end="95.74">check out those links all right let's</span> <span data-start="95.74" data-end="98.829">parse some parsers so I think to really</span> <span data-start="98.829" data-end="102.219">understand parsers like understand what</span> <span data-start="102.219" data-end="104.439">they're doing we need to learn a little</span> <span data-start="104.439" data-end="107.2">bit about what makes languages language</span> <span data-start="107.2" data-end="110.77">what makes languages languages so we'll</span> <span data-start="110.77" data-end="113.17">talk a little bit about that and then as</span> </p>
<p><span data-start="113.17" data-end="114.88">I was building the talk I just realized</span> <span data-start="114.88" data-end="117.34">that the best way to learn about parsers</span> <span data-start="117.34" data-end="119.71">is to build one which we will be</span> <span data-start="119.71" data-end="121.84">stepping through the code for because</span> <span data-start="121.84" data-end="123.49">I'm not brave enough to live code on</span> <span data-start="123.49" data-end="127.21">stage so it'll be small it'll be a</span> <span data-start="127.21" data-end="129.429">little too a parser but hopefully you</span> <span data-start="129.429" data-end="132.069">can learn some things that I learned and</span> <span data-start="132.069" data-end="133.78">feel the joy that I felt while building</span> <span data-start="133.78" data-end="137.07">it so let's learn about language</span> <span data-start="137.07" data-end="139.78">language is a structured system of</span> <span data-start="139.78" data-end="142.19">communication might seem obvious</span> <span data-start="142.19" data-end="144.62">we're starting at the basics here so we</span> <span data-start="144.62" data-end="146.95">are using language to encode information</span> <span data-start="146.95" data-end="151.76">to send between two entities like two</span> <span data-start="151.76" data-end="154.04">people two computers a person and a</span> <span data-start="154.04" data-end="157.85">computer etc the language that we're</span> <span data-start="157.85" data-end="161.24">used to is called natural language we</span> <span data-start="161.24" data-end="163.79">humans we speak it we sign it we write</span> <span data-start="163.79" data-end="166.34">it we understand it innately because our</span> <span data-start="166.34" data-end="168.71">brains evolved to understand it there</span> <span data-start="168.71" data-end="170.69">are rules that govern how we put words</span> <span data-start="170.69" data-end="172.49">together and how we put letters together</span> <span data-start="172.49" data-end="175.78">to form words but we don't necessarily</span> <span data-start="175.78" data-end="179.51">know these rules explicitly we might</span> <span data-start="179.51" data-end="181.88">learn them in English class or in</span> <span data-start="181.88" data-end="183.47">whatever class like that where you learn</span> <span data-start="183.47" data-end="186.08">the rules of grammar but we don't</span> <span data-start="186.08" data-end="188.36">necessarily know these rules explicitly</span> <span data-start="188.36" data-end="190.79">some of these rules might be that now</span> <span data-start="190.79" data-end="194.36">it's combined with verbs an adverb might</span> <span data-start="194.36" data-end="197.39">come in to modify that verb but again we</span> <span data-start="197.39" data-end="199.61">understand language and we've learned</span> <span data-start="199.61" data-end="201.86">these rules without ever even really</span> <span data-start="201.86" data-end="203.63">trying because our brains have evolved</span> <span data-start="203.63" data-end="206.42">seamlessly to acquire language and even</span> <span data-start="206.42" data-end="208.61">if we break these rules it's okay you</span> <span data-start="208.61" data-end="210.98">generally understand what the other</span> <span data-start="210.98" data-end="214.97">person is trying to say formal languages</span> <span data-start="214.97" data-end="217.19">on the other hand are a bit more well</span> <span data-start="217.19" data-end="219.83">formal they're more math class than</span> </p>
<p><span data-start="219.83" data-end="221.93">English or Spanish class formal</span> <span data-start="221.93" data-end="224.69">languages are also made up of words that</span> <span data-start="224.69" data-end="226.82">are made up of letters from an alphabet</span> <span data-start="226.82" data-end="229.1">both of which can be combined at each</span> <span data-start="229.1" data-end="232.04">level based on specific rules which is</span> <span data-start="232.04" data-end="234.32">called the languages grammar programming</span> <span data-start="234.32" data-end="236.51">languages are formal languages which</span> <span data-start="236.51" data-end="238.67">mean to that they have an alphabet like</span> <span data-start="238.67" data-end="240.89">unicode and a grammar which we sometimes</span> <span data-start="240.89" data-end="243.23">called the syntax that tells us how to</span> <span data-start="243.23" data-end="245.33">write our code all the way down to the</span> <span data-start="245.33" data-end="248.9">punctuation so as I said languages</span> <span data-start="248.9" data-end="251.209">grammar is the set of rules for that</span> <span data-start="251.209" data-end="254.72">language formal grammars put these rules</span> <span data-start="254.72" data-end="257.12">in terms of rules of replacement which</span> <span data-start="257.12" data-end="260.51">are called production rules so to get a</span> <span data-start="260.51" data-end="262.28">sense of what I mean by replacement</span> <span data-start="262.28" data-end="264.05">let's take a look at this little</span> <span data-start="264.05" data-end="266.39">sentence diagram for this very short</span> <span data-start="266.39" data-end="269.419">sentence Jenna gave the talk so we can</span> <span data-start="269.419" data-end="271.94">kind of see that a sentence can be</span> <span data-start="271.94" data-end="274.19">broken down into a noun and a verb</span> <span data-start="274.19" data-end="276.15">phrase a verb phrase can</span> <span data-start="276.15" data-end="278.94">replaced by a verb and a noun phrase etc</span> <span data-start="278.94" data-end="281.13">all the way down the line so here are</span> <span data-start="281.13" data-end="283.86">these rules put another way so you can</span> <span data-start="283.86" data-end="286.17">see that sentence now a plus verb phrase</span> <span data-start="286.17" data-end="288.96">verb phrase verb plus noun phrase down</span> <span data-start="288.96" data-end="291.03">phrase can be broken down into a direct</span> <span data-start="291.03" data-end="293.07">object and a noun and neither of these</span> <span data-start="293.07" data-end="297.43">can be broken down any further</span> <span data-start="297.44" data-end="299.7">programming languages have their</span> <span data-start="299.7" data-end="302.37">grammars defined in a spec if any of you</span> <span data-start="302.37" data-end="304.29">have ever been brave enough to try and</span> <span data-start="304.29" data-end="306.18">read the Ekman script spec you might</span> <span data-start="306.18" data-end="307.61">have seen that there is a section on</span> <span data-start="307.61" data-end="310.13">grammars and a good chunk of it is</span> <span data-start="310.13" data-end="312.87">describing how we put the bits of</span> </p>
<p><span data-start="312.87" data-end="314.61">JavaScript together to create proper</span> <span data-start="314.61" data-end="318.48">JavaScript so let's start our journey</span> <span data-start="318.48" data-end="320.76">towards building our parser and first</span> <span data-start="320.76" data-end="324">define our language and its grammar so I</span> <span data-start="324" data-end="326.31">wanted to choose a language that had a</span> <span data-start="326.31" data-end="328.53">few moving parts that I knew well and</span> <span data-start="328.53" data-end="330.48">then I could explain how it works and</span> <span data-start="330.48" data-end="332.79">what it means so I chose a language that</span> <span data-start="332.79" data-end="334.83">was right there in front of me every day</span> <span data-start="334.83" data-end="338.34">seven days a week you might be familiar</span> <span data-start="338.34" data-end="340.65">with it it is the search query language</span> <span data-start="340.65" data-end="342.36">from slack if you're not familiar with</span> <span data-start="342.36" data-end="345.54">it explain what's going on here and our</span> <span data-start="345.54" data-end="347.91">goal ultimately will be to build an even</span> <span data-start="347.91" data-end="348.96">better visualizer</span> <span data-start="348.96" data-end="351.87">for this language so here's an example</span> <span data-start="351.87" data-end="354.42">of the search query language we have</span> <span data-start="354.42" data-end="357.2">there are terms here like JavaScript</span> <span data-start="357.2" data-end="359.91">phrases like front end in a single round</span> <span data-start="359.91" data-end="363.33">of quotation marks there's these filters</span> <span data-start="363.33" data-end="366.15">like in random and in general which say</span> <span data-start="366.15" data-end="368.97">which messages we want to find which</span> <span data-start="368.97" data-end="370.59">channels we want to search for messages</span> <span data-start="370.59" data-end="374.34">in and from filters like from Jenna you</span> <span data-start="374.34" data-end="376.29">want to find all the messages that are</span> <span data-start="376.29" data-end="379.83">from me so here's what this grammar is</span> <span data-start="379.83" data-end="382.41">going to look like a query can just be a</span> <span data-start="382.41" data-end="384.53">term you can search for just JavaScript</span> <span data-start="384.53" data-end="387.81">query can also be a term plus more query</span> <span data-start="387.81" data-end="389.7">if we were to lock JavaScript off the</span> <span data-start="389.7" data-end="391.29">beginning that would still be a valid</span> <span data-start="391.29" data-end="394.26">query query can just be a filter you</span> <span data-start="394.26" data-end="395.52">want to search for all the messages in</span> <span data-start="395.52" data-end="398.52">random you can just do that and then you</span> <span data-start="398.52" data-end="400.56">can search for all of the messages that</span> <span data-start="400.56" data-end="402.42">have the word JavaScript in them in the</span> <span data-start="402.42" data-end="404.58">random Channel and that's our little</span> <span data-start="404.58" data-end="407.82">grammar for our language then I want us</span> <span data-start="407.82" data-end="409.39">to build something that looks like</span> <span data-start="409.39" data-end="411.58">that highlights the different types of</span> <span data-start="411.58" data-end="413.44">bits of language in their own color</span> <span data-start="413.44" data-end="415.56">whether it be green purple or light pink</span> <span data-start="415.56" data-end="416.77">okay</span> <span data-start="416.77" data-end="420.18">parsers that's what we are all here for</span> <span data-start="420.18" data-end="424.21">so what what is a parser well it parses</span> <span data-start="424.21" data-end="426.22">which is the process of analyzing</span> <span data-start="426.22" data-end="428.65">language against the rules of its</span> <span data-start="428.65" data-end="430.72">grammar so we're going to take the</span> <span data-start="430.72" data-end="432.46">language and break it down into its</span> <span data-start="432.46" data-end="434.32">components to find its underlying</span> <span data-start="434.32" data-end="436.72">structure to see if it adheres to the</span> <span data-start="436.72" data-end="437.98">rules of the language that it was</span> <span data-start="437.98" data-end="440.35">written for this process also helps us</span> <span data-start="440.35" data-end="442.12">turn language into something the</span> <span data-start="442.12" data-end="444.24">computer can better use and maybe</span> <span data-start="444.24" data-end="446.41">understand if we're going to think about</span> <span data-start="446.41" data-end="450.04">it in human terms Bursar's can be really</span> <span data-start="450.04" data-end="452.95">complicated but in the end all they have</span> <span data-start="452.95" data-end="456.34">to do is take they all have to do is be</span> <span data-start="456.34" data-end="458.65">a function that takes raw input and</span> <span data-start="458.65" data-end="461.83">turns it into meaningful data that is</span> <span data-start="461.83" data-end="464.67">created from the input or it's going to</span> <span data-start="464.67" data-end="468.79">send off an error so again if it takes</span> <span data-start="468.79" data-end="471.49">some unstructured language and turns it</span> <span data-start="471.49" data-end="473.11">into something that is more structure</span> <span data-start="473.11" data-end="476.31">and is more meaningful that's a parser</span> </p>
<p><span data-start="476.31" data-end="477.49">Purser's</span> <span data-start="477.49" data-end="480.34">in general when they're more complicated</span> <span data-start="480.34" data-end="482.5">they usually have two parts to them they</span> <span data-start="482.5" data-end="485.32">have a lexer and a parser which is the</span> <span data-start="485.32" data-end="487.24">main event because you know it takes on</span> <span data-start="487.24" data-end="490.36">the whole word right so the lexer is</span> <span data-start="490.36" data-end="493.15">going to take the text and break it down</span> <span data-start="493.15" data-end="496.15">into meaningful units called tokens</span> <span data-start="496.15" data-end="498.31">these meaningful units are going to be</span> <span data-start="498.31" data-end="501.94">the words the punctuation etc the first</span> <span data-start="501.94" data-end="505">step in lexing is going to be the</span> <span data-start="505" data-end="507.1">scanner so it's going to go through and</span> <span data-start="507.1" data-end="509.65">break the string of characters into the</span> <span data-start="509.65" data-end="511.84">proper chunks Jirka lexemes and these</span> <span data-start="511.84" data-end="514.41">lexemes are the words in the language</span> <span data-start="514.41" data-end="517.24">they can be key words literals like a</span> <span data-start="517.24" data-end="520.03">number or string punctuation etc and</span> <span data-start="520.03" data-end="522.61">this process is often accomplished by</span> <span data-start="522.61" data-end="526.18">using Magilla expressions so let's dig</span> <span data-start="526.18" data-end="533.51">into some code</span> <span data-start="533.52" data-end="538.329">[Music]</span> <span data-start="538.339" data-end="540.74">all right so we have a regular</span> <span data-start="540.74" data-end="543.199">expressions here that define the four</span> <span data-start="543.199" data-end="545.18">types of things that we can have an in</span> <span data-start="545.18" data-end="548.059">filter from filter a phrase within those</span> <span data-start="548.059" data-end="550.939">quotation marks and just a single term</span> <span data-start="550.939" data-end="555.199">so just one word and this is pretty much</span> <span data-start="555.199" data-end="557.089">just gonna be our lexer it's going to</span> <span data-start="557.089" data-end="559.759">take those regular expressions and match</span> <span data-start="559.759" data-end="562.189">them against the string that we put in</span> <span data-start="562.189" data-end="564.949">so let's see what happens when we use</span> <span data-start="564.949" data-end="572.379">our example a little bit so we can see</span> <span data-start="572.379" data-end="577.24">here that these are our lexemes just</span> <span data-start="577.24" data-end="580.79">smaller strings made from the initial</span> <span data-start="580.79" data-end="584.48">input which was JavaScript front-end in</span> <span data-start="584.48" data-end="591.35">general from jena etc well so let's also</span> <span data-start="591.35" data-end="593.54">take a look at what javascript is doing</span> <span data-start="593.54" data-end="599.509">because that's also interesting so</span> <span data-start="599.509" data-end="602.029">javascript is going to take this little</span> <span data-start="602.029" data-end="604.639">snippet of code and turn it into</span> <span data-start="604.639" data-end="607.79">something that looks like this not very</span> <span data-start="607.79" data-end="609.199">different but you can see it's going to</span> <span data-start="609.199" data-end="611.24">break it down into its lexemes</span> <span data-start="611.24" data-end="613.879">which include just const the variable</span> <span data-start="613.879" data-end="617.209">name lexeme that equals sign which is</span> <span data-start="617.209" data-end="620.6">punctuation the next step is the</span> <span data-start="620.6" data-end="622.939">evaluator is going to combine the</span> <span data-start="622.939" data-end="625.99">lexemes type with its value to create a</span> <span data-start="625.99" data-end="629.899">token so first let's take a look at our</span> <span data-start="629.899" data-end="636.17">code and you can see this next little</span> <span data-start="636.17" data-end="645.62">bit so we're gonna take the tokens and</span> <span data-start="645.62" data-end="648.559">combine them with their type which we</span> <span data-start="648.559" data-end="650.36">can figure out because we know exactly</span> <span data-start="650.36" data-end="652.37">what an in token looks like based on its</span> <span data-start="652.37" data-end="654.139">regular expression or diff from token</span> <span data-start="654.139" data-end="656.54">looks like based on that and etc so we</span> <span data-start="656.54" data-end="661.22">can take those and turn them into the</span> <span data-start="661.22" data-end="663.319">types of tokens that they are which just</span> <span data-start="663.319" data-end="665.209">like a little object wrapper nothing too</span> <span data-start="665.209" data-end="667.16">complicated because again little</span> <span data-start="667.16" data-end="670.93">language little parser</span> <span data-start="670.94" data-end="680.06">so javascript is going to take its</span> <span data-start="680.06" data-end="683.19">lexemes like this and it's going to put</span> <span data-start="683.19" data-end="686.94">them up into the mash them up with their</span> <span data-start="686.94" data-end="689.43">type and turn them into these tokens and</span> <span data-start="689.43" data-end="691.98">shout out to spree mahir which is a very</span> <span data-start="691.98" data-end="693.81">popular parser that folks use for</span> <span data-start="693.81" data-end="695.43">javascript that back some of our</span> <span data-start="695.43" data-end="697.11">favorite JavaScript tools that do you</span> <span data-start="697.11" data-end="699.72">like source transformation demo tools</span> <span data-start="699.72" data-end="701.64">link at the bottom so if you want to you</span> <span data-start="701.64" data-end="705.18">know see how it shakes out with whatever</span> <span data-start="705.18" data-end="706.44">whatever your favorite snippet of</span> </p>
<p><span data-start="706.44" data-end="708.57">JavaScript is you can do that there and</span> <span data-start="708.57" data-end="711.98">this is what it is actually going to</span> <span data-start="711.98" data-end="715.23">spit out it's really simple it has this</span> <span data-start="715.23" data-end="720.18">type and it's the value never showed you</span> <span data-start="720.18" data-end="722.64">what our little parser ends up doing so</span> <span data-start="722.64" data-end="735.45">let's look at that hello tokens</span> <span data-start="735.45" data-end="737.13">it's either the tokens from our little</span> <span data-start="737.13" data-end="740.16">language so we have a term and in filter</span> <span data-start="740.16" data-end="742.47">C not too much more complicated but they</span> <span data-start="742.47" data-end="743.91">still have a little bit more meaning we</span> <span data-start="743.91" data-end="745.74">can you know that this is an in filter</span> <span data-start="745.74" data-end="747.45">you know this is a from filter and</span> <span data-start="747.45" data-end="749.19">that's something that the computer might</span> <span data-start="749.19" data-end="750.57">be able to do a little bit more with</span> <span data-start="750.57" data-end="753.45">than just those fair strings that we had</span> <span data-start="753.45" data-end="757.99">from lexemes</span> <span data-start="758" data-end="763.41">all right so now we're onto the main</span> <span data-start="763.41" data-end="765.62">event the parser which is going to</span> <span data-start="765.62" data-end="767.79">analyze the tokens that were produced by</span> <span data-start="767.79" data-end="769.98">the lexer checking that the syntax is</span> <span data-start="769.98" data-end="772.35">correct based on the prescribed rules of</span> <span data-start="772.35" data-end="774.69">the language while creating again that</span> <span data-start="774.69" data-end="777.24">structure based on the production rules</span> <span data-start="777.24" data-end="780.12">the result of parsing is usually a tree</span> <span data-start="780.12" data-end="781.56">you might have heard about parse trees</span> <span data-start="781.56" data-end="784.26">or syntax trees so that's what usually</span> <span data-start="784.26" data-end="786.99">gets created and then if the parser</span> <span data-start="786.99" data-end="789.42">cannot create a tree you end up with a</span> <span data-start="789.42" data-end="792.21">syntax error so what we're gonna want</span> <span data-start="792.21" data-end="794.37">out of this is a tree that kind of looks</span> <span data-start="794.37" data-end="796.38">like this because that's what we need to</span> <span data-start="796.38" data-end="798.69">build our visualizer parsers in the end</span> <span data-start="798.69" data-end="800.31">or just around to help us achieve our</span> <span data-start="800.31" data-end="802.83">end we can build a parser in different</span> <span data-start="802.83" data-end="804.69">ways to achieve different goals</span> <span data-start="804.69" data-end="806.7">and this is all we need we need to know</span> <span data-start="806.7" data-end="808.89">that all of these tokens wrap up into a</span> <span data-start="808.89" data-end="814.35">single query so let's take a look at our</span> <span data-start="814.35" data-end="817.8">code and how it ends up spitting out our</span> <span data-start="817.8" data-end="823.65">little tree so I'm gonna actually go to</span> </p>
<p><span data-start="823.65" data-end="828.27">PS code okay so our parser isn't</span> <span data-start="828.27" data-end="834.27">actually that much more complicated so</span> <span data-start="834.27" data-end="836.88">we're gonna take we're gonna make a base</span> <span data-start="836.88" data-end="838.65">query which is going to be our top level</span> <span data-start="838.65" data-end="841.2">and just give it the tokens because</span> <span data-start="841.2" data-end="843.36">that's all that we need to create our</span> <span data-start="843.36" data-end="845.46">parser the way that we need it to be</span> <span data-start="845.46" data-end="848.01">created creating this tree structure for</span> <span data-start="848.01" data-end="853.32">our visualizer so then let's take a look</span> <span data-start="853.32" data-end="861.48">at what it spits out Oh parse tree we</span> <span data-start="861.48" data-end="864.39">have tokens top levels the query and</span> <span data-start="864.39" data-end="868.92">then the tokens are here spit out we</span> <span data-start="868.92" data-end="870.57">just have the single level these don't</span> <span data-start="870.57" data-end="872.94">get broken down any further we are at</span> <span data-start="872.94" data-end="880.26">the end cool so Java Script or something</span> <span data-start="880.26" data-end="885.21">a little bit more complicated here going</span> <span data-start="885.21" data-end="887.63">to have this program that eventually</span> <span data-start="887.63" data-end="894.66">filters down into this tree of the you</span> <span data-start="894.66" data-end="897.15">know I can't help but notice that like</span> <span data-start="897.15" data-end="898.56">the leaves here are the thing that</span> <span data-start="898.56" data-end="900">really matters right like we have like</span> <span data-start="900" data-end="902.04">the variable names at the bottom the</span> <span data-start="902.04" data-end="904.05">strings the method names that's like the</span> <span data-start="904.05" data-end="905.82">stuff that really has meaning to us and</span> <span data-start="905.82" data-end="907.53">then the rest of it was just there to</span> <span data-start="907.53" data-end="909.42">help the purser figure out what was</span> <span data-start="909.42" data-end="913.89">going on and this is what a stream is</span> <span data-start="913.89" data-end="916.11">going to spit out it's a lot for such a</span> <span data-start="916.11" data-end="917.85">little snippet of JavaScript and this I</span> <span data-start="917.85" data-end="919.53">had to cut it off so you could even have</span> <span data-start="919.53" data-end="921.24">a fighting chance of reading any of it</span> <span data-start="921.24" data-end="926.089">so it's a lot but anything that helps us</span> <span data-start="926.089" data-end="929.88">helps the computer make our JavaScript</span> <span data-start="929.88" data-end="932.91">to do what we want it to do come to</span> <span data-start="932.91" data-end="935.04">throw a little curveball into our little</span> <span data-start="935.04" data-end="938.47">language here I think that we should</span> </p>
<p><span data-start="938.47" data-end="941.65">I like these tokens these entities</span> <span data-start="941.65" data-end="943.27">because they're they're their own</span> <span data-start="943.27" data-end="946.15">separate meaningful unit right so what</span> <span data-start="946.15" data-end="948.07">do we have to do to make our visualizer</span> <span data-start="948.07" data-end="950.89">be able to do this well first we have to</span> <span data-start="950.89" data-end="952.54">change our grammar around a little bit</span> <span data-start="952.54" data-end="954.16">before we had it so that a filter</span> <span data-start="954.16" data-end="956.65">couldn't be broken down any further but</span> <span data-start="956.65" data-end="958.99">now it can into a modifier and an entity</span> <span data-start="958.99" data-end="962.05">which they themselves could not be</span> <span data-start="962.05" data-end="965.59">broken down anymore and then our tree is</span> <span data-start="965.59" data-end="969.21">going to end up looking like this a</span> <span data-start="969.21" data-end="971.59">little bit more complicated one more</span> <span data-start="971.59" data-end="973.77">layer surely we can do this in our</span> <span data-start="973.77" data-end="978.46">little parser with what we have so let's</span> <span data-start="978.46" data-end="990.81">take a look back at our code</span> <span data-start="990.82" data-end="995">second round maybe you know the first</span> <span data-start="995" data-end="997.58">step is the lexer right we're gonna try</span> <span data-start="997.58" data-end="999.41">and use our regular expressions but I</span> <span data-start="999.41" data-end="1001.93">don't see a way for us to be able to use</span> <span data-start="1001.93" data-end="1004.12">just these regular expressions and be</span> <span data-start="1004.12" data-end="1006.49">able to maintain some connection between</span> <span data-start="1006.49" data-end="1010.78">the N and the the channel that we're</span> <span data-start="1010.78" data-end="1012.37">looking in or the from and the person</span> <span data-start="1012.37" data-end="1013.93">there's no way to maintain the</span> <span data-start="1013.93" data-end="1016.15">connection between the modifier and</span> <span data-start="1016.15" data-end="1019.57">their entity but what we do know is how</span> <span data-start="1019.57" data-end="1023.26">to decompose a in token into its</span> <span data-start="1023.26" data-end="1025.24">modifier and its entity we know that</span> <span data-start="1025.24" data-end="1028.99">production rule so if we can just you</span> <span data-start="1028.99" data-end="1032.35">know say okay this is our parser we do</span> <span data-start="1032.35" data-end="1034.15">what we want to we know how to take and</span> <span data-start="1034.15" data-end="1035.77">in token and then we're tokenizing we</span> <span data-start="1035.77" data-end="1038.17">know how to take it's like lex IAM and</span> <span data-start="1038.17" data-end="1040.78">split it apart we know that an in token</span> <span data-start="1040.78" data-end="1042.85">the modifier is going to be an in</span> <span data-start="1042.85" data-end="1045.13">modifier and we know that the filter is</span> <span data-start="1045.13" data-end="1048.73">going to be this particular entity which</span> <span data-start="1048.73" data-end="1051.37">is anything after the in filters pull in</span> <span data-start="1051.37" data-end="1053.14">and maybe a space so we know how to</span> <span data-start="1053.14" data-end="1054.79">break these two things apart because we</span> <span data-start="1054.79" data-end="1057.37">know the production rule for turning and</span> <span data-start="1057.37" data-end="1059.44">in token into its modifier and its</span> <span data-start="1059.44" data-end="1062.05">entity so why not this is our parser</span> <span data-start="1062.05" data-end="1065.53">then we can then make a mini tree out of</span> <span data-start="1065.53" data-end="1069.1">this in token and then we can you know</span> <span data-start="1069.1" data-end="1071.59">in our parse step we still have these</span> <span data-start="1071.59" data-end="1074.05">tokens that all roll up into that query</span> <span data-start="1074.05" data-end="1077.74">and we end up getting a tree that is a</span> <span data-start="1077.74" data-end="1090.04">little bit more complicated let's do so</span> <span data-start="1090.04" data-end="1093.31">our tree is going to be one more layer</span> <span data-start="1093.31" data-end="1099.01">deep in token now turns into a modifier</span> <span data-start="1099.01" data-end="1107.38">and an entity cool cool all right so now</span> <span data-start="1107.38" data-end="1108.31">we're gonna get into a little bit more</span> <span data-start="1108.31" data-end="1109.75">theory which is what this was all</span> <span data-start="1109.75" data-end="1114.79">building up to why was the regex enough</span> <span data-start="1114.79" data-end="1117.19">for the first example but not for the</span> <span data-start="1117.19" data-end="1119.5">second you know there's a lot going on</span> <span data-start="1119.5" data-end="1120.04">here</span> <span data-start="1120.04" data-end="1121.81">seems pretty powerful right we were able</span> <span data-start="1121.81" data-end="1123.73">to pretty much capsule</span> <span data-start="1123.73" data-end="1125.89">everything that we needed to do our</span> <span data-start="1125.89" data-end="1128.41">parse for our first smaller language but</span> <span data-start="1128.41" data-end="1130.42">once we added that extra layer the</span> <span data-start="1130.42" data-end="1132.25">regular expression wasn't enough anymore</span> <span data-start="1132.25" data-end="1135.19">to be able to really encapsulate the</span> <span data-start="1135.19" data-end="1137.86">entire languages grammar that's because</span> <span data-start="1137.86" data-end="1141.13">the first language that we had was a</span> <span data-start="1141.13" data-end="1143.59">regular grammar that grammar was able to</span> <span data-start="1143.59" data-end="1147.73">be described by this most simple type of</span> <span data-start="1147.73" data-end="1149.02">language which is called a regular</span> <span data-start="1149.02" data-end="1151.06">language that has a regular grammar and</span> <span data-start="1151.06" data-end="1153.73">all the production rules are of the</span> <span data-start="1153.73" data-end="1157.69">following type you have the thing on the</span> <span data-start="1157.69" data-end="1159.67">left can be broken down farther it is</span> <span data-start="1159.67" data-end="1161.5">called a non-terminal gonna be a lot</span> <span data-start="1161.5" data-end="1164.26">easier for me to use that term and then</span> <span data-start="1164.26" data-end="1166.21">thing on the right is cannot be broken</span> <span data-start="1166.21" data-end="1168.37">down any further and it is called a</span> <span data-start="1168.37" data-end="1171.22">terminal the other way that a rule can</span> <span data-start="1171.22" data-end="1173.17">look is that a terminal can be broken</span> <span data-start="1173.17" data-end="1176.59">down into one non-terminal and one</span> <span data-start="1176.59" data-end="1179.32">terminal so if we take a look at our</span> </p>
<p><span data-start="1179.32" data-end="1181.03">Whittle language end up getting</span> <span data-start="1181.03" data-end="1182.95">something that looks like that either</span> <span data-start="1182.95" data-end="1185.4">have the non terminal on the left</span> <span data-start="1185.4" data-end="1187.42">turning into something that can't be</span> <span data-start="1187.42" data-end="1190">broken down any further or it turns into</span> <span data-start="1190" data-end="1192.85">a combination of just one thing that can</span> <span data-start="1192.85" data-end="1194.68">be broken down further and one thing</span> <span data-start="1194.68" data-end="1196.27">that could not be broken down any</span> <span data-start="1196.27" data-end="1196.78">further</span> <span data-start="1196.78" data-end="1200.7">but once we added in that next</span> <span data-start="1200.7" data-end="1203.11">production rule so we could break down</span> <span data-start="1203.11" data-end="1205.02">the filter into a modifier and entity</span> <span data-start="1205.02" data-end="1208.42">ended up not being able to describe this</span> <span data-start="1208.42" data-end="1210.31">with the regular grammar anymore so the</span> <span data-start="1210.31" data-end="1212.29">regular expression was no longer able to</span> <span data-start="1212.29" data-end="1214.84">be just our friend and we needed to add</span> <span data-start="1214.84" data-end="1215.95">an something else</span> <span data-start="1215.95" data-end="1219.97">that knew how to get that bit into our</span> <span data-start="1219.97" data-end="1222.22">language and allow us to represent that</span> <span data-start="1222.22" data-end="1226.45">as the structure that we needed so the</span> <span data-start="1226.45" data-end="1229.06">next level of complexity in languages is</span> <span data-start="1229.06" data-end="1231.79">called a context-free grammar it has</span> <span data-start="1231.79" data-end="1237.66">rules that follow this these rules so</span> <span data-start="1237.66" data-end="1240.88">alpha it's a little bit you know</span> <span data-start="1240.88" data-end="1242.38">intimidating but all the means is that</span> <span data-start="1242.38" data-end="1245.23">it's any combination of things that can</span> <span data-start="1245.23" data-end="1246.76">be broken down further and things that</span> <span data-start="1246.76" data-end="1249.34">cannot be broken down further and it's</span> <span data-start="1249.34" data-end="1251.86">just a little bit more power that lets</span> <span data-start="1251.86" data-end="1254.17">us do a lot more things so the classic</span> <span data-start="1254.17" data-end="1256.94">example here is that now we can</span> <span data-start="1256.94" data-end="1260.12">do you nesting which includes matching</span> <span data-start="1260.12" data-end="1263.57">parentheses so regular expressions can't</span> <span data-start="1263.57" data-end="1265.22">do this because they don't have any</span> <span data-start="1265.22" data-end="1268.01">concept of memory whereas we need to</span> <span data-start="1268.01" data-end="1271.46">know if like verify if we indeed do have</span> <span data-start="1271.46" data-end="1274.04">matching parentheses if when we see a</span> <span data-start="1274.04" data-end="1276.71">closing parentheses if we'd seen the</span> <span data-start="1276.71" data-end="1279.95">opening one earlier and not seen or</span> <span data-start="1279.95" data-end="1281.63">maybe we'd seen another opening one</span> <span data-start="1281.63" data-end="1283.55">beforehand but we need to have some type</span> <span data-start="1283.55" data-end="1286.19">of memory to know if we are actually</span> <span data-start="1286.19" data-end="1288.59">closing something based on the rules of</span> <span data-start="1288.59" data-end="1291.62">the grammar that's why you might have</span> <span data-start="1291.62" data-end="1294.44">heard that HTML isn't possible by</span> <span data-start="1294.44" data-end="1297.38">regular expressions might be really</span> <span data-start="1297.38" data-end="1299.48">tempting such a simple language of</span> <span data-start="1299.48" data-end="1301.1">course it should be possible by regular</span> <span data-start="1301.1" data-end="1303.29">expressions that's again because of the</span> <span data-start="1303.29" data-end="1305.39">nesting we need to know if our divs are</span> <span data-start="1305.39" data-end="1309.74">closing properly so I mean you might be</span> <span data-start="1309.74" data-end="1311.93">thinking oh but like look ahead in</span> <span data-start="1311.93" data-end="1313.76">regular expressions it's because regular</span> <span data-start="1313.76" data-end="1315.26">expressions these days are more power</span> <span data-start="1315.26" data-end="1317.78">powerful than just a regular grammar so</span> <span data-start="1317.78" data-end="1318.83">they have that little bit of memory</span> <span data-start="1318.83" data-end="1320.81">that's necessary to give it that little</span> <span data-start="1320.81" data-end="1323.36">extra boost and and make them just a</span> <span data-start="1323.36" data-end="1324.83">little bit more powerful than just a</span> <span data-start="1324.83" data-end="1329.36">normal regular grammar so HTML like most</span> <span data-start="1329.36" data-end="1331.1">if not all programming language grammars</span> <span data-start="1331.1" data-end="1333.8">fall into the context-free family so you</span> <span data-start="1333.8" data-end="1335.72">can do a lot with just this little extra</span> <span data-start="1335.72" data-end="1338.09">bit of power that this little stack of</span> <span data-start="1338.09" data-end="1342.35">memory that these parsers have so I've</span> <span data-start="1342.35" data-end="1344.06">been talking a lot about like oh this is</span> <span data-start="1344.06" data-end="1346.58">like a toy parser this isn't necessarily</span> <span data-start="1346.58" data-end="1348.14">how these things necessarily work in the</span> <span data-start="1348.14" data-end="1350.18">real world it's because writing one by</span> <span data-start="1350.18" data-end="1352.07">hand would be a little bit</span> <span data-start="1352.07" data-end="1354.47">time-consuming most of the time if</span> <span data-start="1354.47" data-end="1356.3">you're gonna build a parser for a</span> <span data-start="1356.3" data-end="1358.49">language you have a program that builds</span> <span data-start="1358.49" data-end="1360.17">the purse or for you which is called a</span> <span data-start="1360.17" data-end="1364.97">purse or generator so let's just go into</span> <span data-start="1364.97" data-end="1367.28">what these things are doing at a higher</span> <span data-start="1367.28" data-end="1371.54">level so if we were doing this following</span> <span data-start="1371.54" data-end="1374.69">the more like suitable way of doing it</span> <span data-start="1374.69" data-end="1378.02">we would end up lexing those terms down</span> <span data-start="1378.02" data-end="1380.27">into their leaves so you would end up</span> <span data-start="1380.27" data-end="1382.73">with these terms and then the modifier</span> <span data-start="1382.73" data-end="1386.24">and entity would be their own lexemes</span> <span data-start="1386.24" data-end="1389.69">and tokens in the end then the next</span> <span data-start="1389.69" data-end="1390.41">thing that the parser</span> <span data-start="1390.41" data-end="1392.72">going to do is go through and match the</span> <span data-start="1392.72" data-end="1395.24">tokens to production rules there's a</span> <span data-start="1395.24" data-end="1396.86">bunch of ways for doing this but let's</span> <span data-start="1396.86" data-end="1398.72">step through one which is the top-down</span> <span data-start="1398.72" data-end="1401.12">method so we're gonna take the tokens</span> <span data-start="1401.12" data-end="1404.03">and then we're gonna start with the</span> <span data-start="1404.03" data-end="1406.01">highest level of non-terminal that we</span> <span data-start="1406.01" data-end="1408.08">have which is a query you know the</span> <span data-start="1408.08" data-end="1411.02">queries can be broken down into other</span> <span data-start="1411.02" data-end="1413.72">things in a myriad of different ways</span> <span data-start="1413.72" data-end="1416.66">let's just say we got lucky and we chose</span> <span data-start="1416.66" data-end="1418.1">the one that was going to work for our</span> <span data-start="1418.1" data-end="1421.52">language first right off the bat so we</span> <span data-start="1421.52" data-end="1423.77">say okay query can be broken down into a</span> <span data-start="1423.77" data-end="1426.44">term and another query does that work</span> <span data-start="1426.44" data-end="1429.14">with the tokens that we have at hand yes</span> <span data-start="1429.14" data-end="1431.93">yes it does we can't break down a term</span> <span data-start="1431.93" data-end="1432.71">anymore</span> <span data-start="1432.71" data-end="1434.27">we can't break down a query anymore</span> <span data-start="1434.27" data-end="1438.38">let's try that rule again cool that</span> <span data-start="1438.38" data-end="1439.7">worked for us because we were able to</span> <span data-start="1439.7" data-end="1444.1">pop that term off of our list of tokens</span> <span data-start="1444.1" data-end="1447.68">feeling lucky let's try that rule again</span> <span data-start="1447.68" data-end="1452.39">oh no didn't work we don't have another</span> <span data-start="1452.39" data-end="1455.75">term let's try the next rule Oh looks</span> <span data-start="1455.75" data-end="1458.23">like we got maybe lucky this time</span> <span data-start="1458.23" data-end="1463.36">because let's let you know let's see</span> <span data-start="1463.36" data-end="1466.88">what is a filter it can be turned into a</span> <span data-start="1466.88" data-end="1470.51">modifier and an entity oh cool we got</span> <span data-start="1470.51" data-end="1470.84">lucky</span> <span data-start="1470.84" data-end="1472.9">that was like best-case scenario I think</span> <span data-start="1472.9" data-end="1478.01">we only had to backtrack once okay</span> <span data-start="1478.01" data-end="1480.86">so running out of time luckily I've</span> <span data-start="1480.86" data-end="1483.8">reached the end of the talk I hope if</span> <span data-start="1483.8" data-end="1488.54">you've learned anything it's that a</span> <span data-start="1488.54" data-end="1490.93">parser is just something that takes</span> <span data-start="1490.93" data-end="1493.16">unstructured language and turns it into</span> <span data-start="1493.16" data-end="1496.28">structured language based on the grammar</span> <span data-start="1496.28" data-end="1499.16">that that language is that the grammar</span> <span data-start="1499.16" data-end="1501.17">for that language when I started this</span> <span data-start="1501.17" data-end="1502.97">talk I wanted to learn more about</span> <span data-start="1502.97" data-end="1506.18">parsers and once I realized that and I</span> <span data-start="1506.18" data-end="1508.13">was building my own it became a lot more</span> <span data-start="1508.13" data-end="1511.94">let give it a lot less intimidating so I</span> <span data-start="1511.94" data-end="1513.98">hope if anything you take that away and</span> <span data-start="1513.98" data-end="1515.96">maybe one day you'll have to write your</span> <span data-start="1515.96" data-end="1518.15">own search query parser so you'll have</span> <span data-start="1518.15" data-end="1519.71">this under your belt and then maybe you</span> <span data-start="1519.71" data-end="1521.39">want to write your own JavaScript parser</span> <span data-start="1521.39" data-end="1523.59">that's cool too</span> <span data-start="1523.59" data-end="1526.289">hope this helped you so thank you for</span> <span data-start="1526.289" data-end="1529.14">your time feel free to tweet at me and</span> <span data-start="1529.14" data-end="1531.15">you can find my slides at that link</span> <span data-start="1531.15" data-end="1532.69">thanks again</span> </p>
</section>

<!-- div#container ends -->
</div>

<img alt="The End" id="fin" src="../images/fin.jpg">

<script>
/*eslint-disable */
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google-translate');
}
/* eslint-enable */
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="../js/main.js"></script>

</body>

</html>
