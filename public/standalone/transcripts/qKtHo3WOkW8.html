<!DOCTYPE html>

<!--
Copyright 2019 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="//google.com">
  <meta name="description" content="web.dev LIVE video transcript">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>qKtHo3WOkW8</title>
  <link rel="stylesheet" href="../css/main.css">
</head>

<body>

<iframe id="youtube" src="https://www.youtube.com/embed/qKtHo3WOkW8?enablejsapi=1"></iframe>

<div id="container">

<div id="options">
  <div id="google-translate"></div>
  <div>
    <input type="checkbox" id="videoSticky" checked>
    <label for="videoSticky">Video position sticky</label>
  </div>
  <div>
    <input type="checkbox" id="captionScroll" checked>
    <label for="captionScroll">Keep current caption visible</label>
  </div>
</div>

<section>
<p><span data-start="0.11" data-end="3.679">Decoupling Applications from Architectures — Jeff Hoffer</span> <span data-start="3.679" data-end="5.48">Hello, all right.</span> <span data-start="5.48" data-end="6.91">Thank you everybody for coming.</span> <span data-start="6.91" data-end="15.78">My name is Jeff Hoffer, and my talk is decoupling applications from architecture.</span> <span data-start="15.78" data-end="24.04">I gave a talk on this side last year and there was literally 10% of the people in the room</span> <span data-start="24.04" data-end="26.95">that there is now, so thank you all for showing up.</span> <span data-start="26.95" data-end="28.71">I really appreciate it.</span> <span data-start="28.71" data-end="35.87">The lights are really bright so I can't see anybody's face, which is probably a good thing.</span> <span data-start="35.87" data-end="40.37">All right.</span> <span data-start="40.37" data-end="42.56">So a little bit more about me.</span> <span data-start="42.56" data-end="49.29">I've been professionally developing software for 20 years, and I recently joined a company</span> <span data-start="49.29" data-end="52.649">called bluebeam.</span> </p>
<p><span data-start="52.649" data-end="66.44">It's for the  design bid and build phases of projects.</span> <span data-start="66.44" data-end="75.03">You can find me on GitHub at @eudaimos, it's a word I made up, kind of.</span> <span data-start="75.03" data-end="84.54">It was inspired by Aristotle's eudaiminea.</span> <span data-start="84.54" data-end="94.67">The inspiration is my son Eric who's here with my wife this week, if you see us around,</span> <span data-start="94.67" data-end="102.59">he's nine now, please say hi.</span> <span data-start="102.59" data-end="108.979">So it's appropriate that I work in a software company for construction.</span> <span data-start="108.979" data-end="115.479">I notice that as human beings, we've been in the practice of building things for a long</span> <span data-start="115.479" data-end="117.909">time.</span> <span data-start="117.909" data-end="122.979">We built some amazing things that have stood the test of time, beyond which most of us</span> <span data-start="122.979" data-end="129.05">can even conceptualize the length of that time.</span> </p>
<p><span data-start="129.05" data-end="135.34">And with software we've come up with a single-most malleable thing which we've ever had to build</span> <span data-start="135.34" data-end="141.5">anything, and it's been pretty great.</span> <span data-start="141.5" data-end="145.09">But still there's something not quite right.</span> <span data-start="145.09" data-end="154.51">When I worked in Santa Monica, there was a lot of construction nearby all the time, and</span> <span data-start="154.51" data-end="159.84">as we were walking our VP of Engineering, my boss used to point out how quickly they</span> <span data-start="159.84" data-end="166.12">could build these buildings versus how long it took us to deliver software.</span> <span data-start="166.12" data-end="173.36">[laughter] So how do we keep ending up here?</span> <span data-start="173.36" data-end="179.519">[laughter] We either build it too slow, we build it wrong,</span> <span data-start="179.519" data-end="183.35">or both.</span> </p>
<p><span data-start="183.35" data-end="187.67">And how does that happen?</span> <span data-start="187.67" data-end="193.94">We get asks from people who don't really know the difference between building application</span> <span data-start="193.94" data-end="197.989">and building it well.</span> <span data-start="197.989" data-end="203.71">But they want to make sure that we don't build it well, sometimes.</span> <span data-start="203.71" data-end="211.33">That' d be great.</span> <span data-start="211.33" data-end="219.44">So we end up in this Kobayashi Maru scenario and for the younger folks out there who haven't</span> <span data-start="219.44" data-end="222.849">seen Star Trek II.</span> </p>
<p><span data-start="222.849" data-end="229.1">It's designed to be a no-win scenario.</span> <span data-start="229.1" data-end="236.56">It's there to determine how we will respond, and unfortunately most of our responses are</span> <span data-start="236.56" data-end="241.989">this.</span> <span data-start="241.989" data-end="249.29">[laughter] Where the needs of the many outweigh the needs</span> <span data-start="249.29" data-end="254.26">of the few, right?</span> <span data-start="254.26" data-end="267.119">And then we get back to our brittle code.</span> <span data-start="267.119" data-end="271.279">So what do I mean exactly by application versus architecture?</span> </p>
<p><span data-start="271.279" data-end="274.34">So we should probably define this.</span> <span data-start="274.34" data-end="283.24">And we can take a step and define it based on who defines each for our software.</span> <span data-start="283.24" data-end="289.3">Product team will define what the application does, engineers will build it, QA validate.</span> <span data-start="289.3" data-end="292.809">Engineers work with software architects to define the needs.</span> <span data-start="292.809" data-end="301.729">They build the architecture, QA validates nonfunctional constraints.</span> <span data-start="301.729" data-end="307.21">So I'd like to take this and define these as layers.</span> <span data-start="307.21" data-end="312.34">So we have an application we call that the development layer and architecture is the</span> <span data-start="312.34" data-end="314.069">architecture layer.</span> <span data-start="314.069" data-end="320.669">And if we can organize these into layers, then we can separate them like what Docker</span> <span data-start="320.669" data-end="326.279">was able to do for apps in DevOps.</span> <span data-start="326.279" data-end="329.809">There's also four aspects of software.</span> </p>
<p><span data-start="329.809" data-end="337.399">Taking another view here, what an application represents to a user, how it does its job,</span> <span data-start="337.399" data-end="345.029">where it executes, and when it does what it's designed to do.</span> <span data-start="345.029" data-end="351.99">Unfortunately, when working between the development and architecture layers, we commingle these</span> <span data-start="351.99" data-end="358.099">four aspects into a kind of a mess.</span> <span data-start="358.099" data-end="362.849">So let's go back to our layer definition and define them using these four aspects.</span> <span data-start="362.849" data-end="371.399">If we say the development layer is the what and the when, and the architecture layer is</span> <span data-start="371.399" data-end="376.71">how and where.</span> <span data-start="376.71" data-end="383.499">We can organize them this way and if we can organize them this way, along these layers,</span> <span data-start="383.499" data-end="391.52">and make them orthogonal to each other, then we have the decoupling we're looking for.</span> <span data-start="391.52" data-end="396.309">So if we take these aspects and graft them on to our layers, the development layer has</span> <span data-start="396.309" data-end="404.4">what the context of the application is for a user, when does a user go from one context</span> <span data-start="404.4" data-end="407.399">to another.</span> <span data-start="407.399" data-end="413.249">architecturally how will the app move from context to context and where will the code</span> <span data-start="413.249" data-end="418.27">reacting to this actually execute?</span> </p>
<p><span data-start="418.27" data-end="423.619">So if we get into the details of that so that it actually matters to us who have to build</span> <span data-start="423.619" data-end="431.059">this stuff, we can borrow some concepts from computer science where we say the what these</span> <span data-start="431.059" data-end="439.27">contexts are signals, when is triggering and the reaction to these signals.</span> <span data-start="439.27" data-end="446.159">And the how is  —  and the where is a signal network and the implementation of where that</span> <span data-start="446.159" data-end="454.499">signal network will run.</span> <span data-start="454.499" data-end="458.86">So I want to introduce a few things for the demo first.</span> <span data-start="458.86" data-end="460.02">There's RealWorld.</span> <span data-start="460.02" data-end="472.619">If you haven't gone to realworld.io, it's beyond a standard to do app.</span> <span data-start="472.619" data-end="478.439">It involves conduit which is a Medium-like blog platform and there's lots of concepts</span> <span data-start="478.439" data-end="484.211">which are integrating different front ends and different back ends all doing basically</span> <span data-start="484.211" data-end="488.059">the same functionality as this Conduit app.</span> <span data-start="488.059" data-end="492.33">I also wanted to introduce TAO.js.</span> <span data-start="492.33" data-end="500.439">There's a project that I've been working on as a solution for this.</span> </p>
<p><span data-start="500.439" data-end="509.589">It has a meta language for defining signals that end up in the code, using trigrams.</span> <span data-start="509.589" data-end="521.909">It provides interaction primitives to determine when to interact with these signals</span> <span data-start="521.909" data-end="528.55">and it implements signal networks.</span> <span data-start="528.55" data-end="539.279">So a trigram, the library TAO actually comes from term action orient, so we want to describe</span> <span data-start="539.279" data-end="543.279">these contexts with these three dimensions.</span> <span data-start="543.279" data-end="549.29">So term is something, action is an action taking place, and orientation  —  orient is</span> <span data-start="549.29" data-end="552.54">a perspective.</span> <span data-start="552.54" data-end="559.16">Three ways to interact and respond to signals is inline, do them in order.</span> <span data-start="559.16" data-end="564.31">Async, do it in parallel as a side effect.</span> <span data-start="564.31" data-end="572.35">And intercept is do it first and optionally you can interrupt the flow.</span> <span data-start="572.35" data-end="579.891">And implementing signal networks, it abstracts that away from the application code, and it</span> <span data-start="579.891" data-end="592.41">also has the implements a signal chaining, so that if you are reacting to a signal from</span> <span data-start="592.41" data-end="599.17">the network, you can provide it with another signal that will chain itself, so this gives</span> <span data-start="599.17" data-end="605.91">us very small bits of code that we can implement now as it  —  using the signal network as the</span> <span data-start="605.91" data-end="612.55">medium for the interaction.</span> <span data-start="612.55" data-end="621.5">So taking this back to our notion of aspects to layers and now to TAO.js, what we're able</span> <span data-start="621.5" data-end="628.439">to do with the development layer using TAO.js is the powers that engineers use to define</span> <span data-start="628.439" data-end="639.54">these trigrams and define the desired behaviors when these are signaled in the signal network.</span> </p>
<p><span data-start="639.54" data-end="645.24">The engineers implement these behaviors in the code using these interaction primitives</span> <span data-start="645.24" data-end="646.889">on the signal network.</span> <span data-start="646.889" data-end="655.98">And the architectural layer, we allow the architect or whoever's implementing the architecture</span> <span data-start="655.98" data-end="661.649">to choose the signal network, and implement using that, and decide where that signal network</span> <span data-start="661.649" data-end="668.37">will run, so we've now abstracted away where the code has to run in order to interact and</span> <span data-start="668.37" data-end="672.72">provide the development layer with what it needs.</span> <span data-start="672.72" data-end="681.579">A quick note about trigrams versus an application context, so think of a trigram, it's a 3-dimensional</span> <span data-start="681.579" data-end="686.33">signal, also an event.</span> <span data-start="686.33" data-end="691.98">You can subscribe to trigrams on the signal network and it's like a class in an OOP where</span> <span data-start="691.98" data-end="700.029">ar application context would be an object in OOP, and so it's a specific context and</span> <span data-start="700.029" data-end="707.54">so it combines this trigram with the actual data associated with the event that's happening</span> <span data-start="707.54" data-end="712.19">the signal.</span> </p>
<p><span data-start="712.19" data-end="719.279">So when going through the real world conduit application, what we'll do first is define</span> <span data-start="719.279" data-end="720.279">the terms.</span> <span data-start="720.279" data-end="725.769">We have an app, user, article, comment.</span> <span data-start="725.769" data-end="735.66">We'll define some actions, init, load, find, exit.</span> <span data-start="735.66" data-end="741.22">We'll define the orientation so we have a portal and an anonymous orientation, so portal</span> <span data-start="741.22" data-end="742.379">is when you're logged in.</span> <span data-start="742.379" data-end="747.6">Anonymous is when you're not.</span> <span data-start="747.6" data-end="751.339">And then we'll define some paths.</span> <span data-start="751.339" data-end="757.35">This allows us to understand how to react to signals on the network, and then throwback</span> <span data-start="757.35" data-end="761.97">new signals in order to keep this chain going.</span> <span data-start="761.97" data-end="770.56">And this is why we also develop or define very granular actions, so that we can have</span> <span data-start="770.56" data-end="778.579">more granular chains and we can hook into these at any time.</span> <span data-start="778.579" data-end="782.319">So I'm going to go into the demo portion.</span> </p>
<p><span data-start="782.319" data-end="784.189">OK.</span> <span data-start="784.189" data-end="790.72">So we're going to start with our Conduit app.</span> <span data-start="790.72" data-end="799.269">And  —  of course! [laughter]</span> <span data-start="799.269" data-end="802.12">OK.</span> <span data-start="802.12" data-end="813.529">Oh, I understand why.</span> <span data-start="813.529" data-end="819.23">All right.</span> <span data-start="819.23" data-end="828.899">Um, so this is working with their  —  with the default API, which is using a service</span> <span data-start="828.899" data-end="831.6">somewhere.</span> <span data-start="831.6" data-end="840.089">And we're going to  —  oops, wrong one.</span> <span data-start="840.089" data-end="841.509">Sorry.</span> <span data-start="841.509" data-end="859.48">Of course this all worked in the room.</span> <span data-start="859.48" data-end="907.56">(Whispers) now completely broken.</span> <span data-start="907.56" data-end="946.49">So I'm going to skip showing it as a .. because it doesn't seem to want to behave with Redux.</span> </p>
<p><span data-start="946.49" data-end="950.139">So it was a Redux React based application.</span> <span data-start="950.139" data-end="992.199">That still doesn't want to play nice.</span> <span data-start="992.199" data-end="994.249">Very sorry for this.</span> </p>
</section>

<section>
<p><span data-start="994.249" data-end="997.47"><span class="speaker">Audience</span>: You got it!</span> <span data-start="997.47" data-end="999.079"Audience member: Thank you.</span> <span data-start="999.079" data-end="1001.459">I can't see who you are.</span> <span data-start="1001.459" data-end="1003.87">But thank you.</span> <span data-start="1003.87" data-end="1017.959">All right, let's just turn all of it on.</span> <span data-start="1017.959" data-end="1032.11">Anybody know which screen I'm on?</span> <span data-start="1032.11" data-end="1043.899">I can't imagine what changed.</span> <span data-start="1043.899" data-end="1058.049">Oh, I, yeah, now I know.</span> <span data-start="1058.049" data-end="1072.72">This is the best!</span> <span data-start="1072.72" data-end="1082.46">OK.</span> <span data-start="1082.46" data-end="1092.2">[applause]</span> <span data-start="1092.2" data-end="1097.35">Getting the applause for code you didn't write, it's, thank you!</span> <span data-start="1097.35" data-end="1099.45">[laughter] So this is Conduit.</span> <span data-start="1099.45" data-end="1105.919">This is the basic React Redux example I think probably the first one they did.</span> <span data-start="1105.919" data-end="1109.79">So we're going to modify this, time willing.</span> </p>
<p><span data-start="1109.79" data-end="1113.44">To use TAO.js.</span> <span data-start="1113.44" data-end="1124.19">So this is actually hitting the API for that, we can sign in, go to home page, so you see</span> <span data-start="1124.19" data-end="1129.169">there's all this functionality.</span> <span data-start="1129.169" data-end="1159.76">There's lots of ..</span> <span data-start="1159.76" data-end="1170.559">so this application has a bunch of reducers that we're used to, all the Redux boilerplating,</span> <span data-start="1170.559" data-end="1183.5">the components are React, they have a lot of baked-in Redux, so we've sort of embedded</span> <span data-start="1183.5" data-end="1197.919">all of this together, what these  —  how we call the API, what to do on various  —  within</span> <span data-start="1197.919" data-end="1199.99">various components.</span> <span data-start="1199.99" data-end="1207.13">So if we go ahead and  —  I'm going to turn off Redux logging.</span> <span data-start="1207.13" data-end="1225.399">We're going to switch to using  some alternative components and not all of</span> <span data-start="1225.399" data-end="1229.88">them are necessary.</span> <span data-start="1229.88" data-end="1235.419">So we notice, still looks the same.</span> <span data-start="1235.419" data-end="1236.919">Still works.</span> <span data-start="1236.919" data-end="1241.72">I didn't get that tab thing working yet.</span> <span data-start="1241.72" data-end="1243.9">We see the results change.</span> <span data-start="1243.9" data-end="1264.24">And the way this is implemented is  —  so for the home, the original home is here.</span> </p>
<p><span data-start="1264.24" data-end="1272.92">It's home page loaded, home page unloaded, applying the tag filter, we now take and add</span> <span data-start="1272.92" data-end="1275.98">a handler.</span> <span data-start="1275.98" data-end="1284.75">We import a TAO signal network that is the default signal network, and in order to chain</span> <span data-start="1284.75" data-end="1294.24">a signal into the network from a handler, we use this app context constructor to return</span> <span data-start="1294.24" data-end="1305.309">that as a new signal to follow, and so when we receive the signal to enter home, we want</span> <span data-start="1305.309" data-end="1311.94">to tell the application to view home.</span> <span data-start="1311.94" data-end="1324.51">Alternatively, we use a data handler from the React library to capture data from a signal,</span> <span data-start="1324.51" data-end="1336.21">and store it where we can utilize it again in our render handler, and this  —  you provide</span> <span data-start="1336.21" data-end="1342.769">it with a context to say any data handlers above, they create this context for me, I</span> <span data-start="1342.769" data-end="1348.91">will now have these available to me in my handler that I use.</span> <span data-start="1348.91" data-end="1352.2">It's a function as a child component.</span> <span data-start="1352.2" data-end="1361.95">And so when it  —  this will react when we reach the trigram  —  in the application context</span> <span data-start="1361.95" data-end="1367.309">that reaches the trigram of home and view and we actually don't care about the orientation.</span> </p>
<p><span data-start="1367.309" data-end="1374.7">So it allows for wild-carding, so if you don't provide a term, it's a wild card on that term</span> <span data-start="1374.7" data-end="1381.38"> —  on that attribute of the trigram.</span> <span data-start="1381.38" data-end="1388.02">And so when we render the home, we actually want to use our home component.</span> <span data-start="1388.02" data-end="1390.7">This one's new.</span> <span data-start="1390.7" data-end="1398.48">We pass down the token, the app name, we get from the app data, which tabs are active,</span> <span data-start="1398.48" data-end="1405.49">a tag, and then what to do if they click "All" or click on the feed.</span> <span data-start="1405.49" data-end="1408.83">So this is a  —  just a standard React component.</span> <span data-start="1408.83" data-end="1416.99">There's no logic or anything in here to interact with the signal layer, signal network and</span> <span data-start="1416.99" data-end="1422.73">we can treat our components completely on their own, makes them easier to test, easier</span> <span data-start="1422.73" data-end="1434.59">to design using storybook, and this works for many things, so this uses a main view.</span> <span data-start="1434.59" data-end="1445.88">Vue, and you notice that the interactions are  —  there you go.</span> </p>
<p><span data-start="1445.88" data-end="1464.669">We pass down this "Click all" which will then  — </span> <span data-start="1464.669" data-end="1466.72">this will create a signal into the network.</span> <span data-start="1466.72" data-end="1477.5">Actually, this is not implemented right.</span> <span data-start="1477.5" data-end="1494.36">So going in here and signing in, I come back here and see the signed-in view and we did</span> <span data-start="1494.36" data-end="1500.299">that with using a different header.</span> <span data-start="1500.299" data-end="1507.12">Nope, wrong window again.</span> <span data-start="1507.12" data-end="1516.669">So we have our login component, which is saying if I'm trying to view  —  if I'm trying to</span> <span data-start="1516.669" data-end="1523.289">enter a user anonymously, I want to view that user anonymously, so that's going to render</span> <span data-start="1523.289" data-end="1533.299"> —  use a render handler, user view, anonymous, and that will give us our login control.</span> <span data-start="1533.299" data-end="1542.2">When we submit, it's going to generate a user find action anonymously.</span> <span data-start="1542.2" data-end="1553.71">Because this is just working with what's already here, we have these handlers all defined around</span> <span data-start="1553.71" data-end="1555.94">users.</span> <span data-start="1555.94" data-end="1566">So we find a user anonymously, we have a handler for that, which will grab the email and password</span> <span data-start="1566" data-end="1572.03">out of the data  —  out of the user portion of the data passed in the application context</span> <span data-start="1572.03" data-end="1581.84">to our handler, we will leverage the agent and do a login, and then based on how that</span> <span data-start="1581.84" data-end="1587.69">responds, we'll either get a user or it will catch an error.</span> </p>
<p><span data-start="1587.69" data-end="1593.62">If we get a user, then we want to enter that user in the portal orientation, and provide</span> <span data-start="1593.62" data-end="1599.02">the token so that that can be used.</span> <span data-start="1599.02" data-end="1607.72">So what's nice about the ability to have these wild card handlers, when we pass the token</span> <span data-start="1607.72" data-end="1622.72">and we're in the portal orientation for any of our signals, we make sure to set the token</span> <span data-start="1622.72" data-end="1627.21">on the agent every time based on that.</span> <span data-start="1627.21" data-end="1631.559">So we don't have to call this anywhere else, but it will always be accurate.</span> <span data-start="1631.559" data-end="1639.6">If we are going anonymous, we change  —  we set the token to empty.</span> <span data-start="1639.6" data-end="1650.58">We also can react to initializing the  —  so our initial application context will be appinit</span> <span data-start="1650.58" data-end="1661.14">anon, we can grab the token from local storage.</span> <span data-start="1661.14" data-end="1665.559">If there is a token, we'll switch to the portal view.</span> <span data-start="1665.559" data-end="1673.72">If there's not, intercept sends nothing back, it will chain to the next appinit anon.</span> <span data-start="1673.72" data-end="1676.94">That's when it will call load.</span> <span data-start="1676.94" data-end="1688.33">So using this, we now can refactor all of the application logic into these handlers</span> <span data-start="1688.33" data-end="1696.159">that are small and bite-size and easy to change, and we don't have to worry about how we're</span> <span data-start="1696.159" data-end="1706.87">making calls necessarily to move the user around the application.</span> <span data-start="1706.87" data-end="1713.43">On the  —  not sure how much time I have left.</span> </p>
<p><span data-start="1713.43" data-end="1734.08">So going into the API side  —  so if I switch this to using the local API  —  let me sign</span> <span data-start="1734.08" data-end="1737.36">out first.</span> <span data-start="1737.36" data-end="1742.289">Clears the token.</span> <span data-start="1742.289" data-end="1752.2">And we also see, through logging these, that these chain to each other,  —  now, let's ..</span> <span data-start="1752.2" data-end="1759.32">We'll use the local API.</span> </p>
<p><span data-start="1759.32" data-end="1778.74">Now for this, with the same user, we set up  —  we convert these routes from the API where</span> <span data-start="1778.74" data-end="1787.299">instead of doing what it was  —  what it had here, gets the user find by, it's going directly</span> <span data-start="1787.299" data-end="1798.411">against mongo, we can instead create a transponder on our signal network and what a transponder</span> <span data-start="1798.411" data-end="1804.659">does is just provide us with a promise when we set the context that we can await.</span> <span data-start="1804.659" data-end="1813.35">And we add some handlers to the transponder, so that these will only be handled by the</span> <span data-start="1813.35" data-end="1821.679">transponder and do  —  perform this action in other handlers we've added to the signal</span> <span data-start="1821.679" data-end="1823.58">network.</span> <span data-start="1823.58" data-end="1833.18">They'll all be called except for other transponders will not see the signal that I put into the</span> <span data-start="1833.18" data-end="1837.549">network.</span> <span data-start="1837.549" data-end="1846.3">So when we come in here, we want to get the user, and so this is a  —  this is when the</span> <span data-start="1846.3" data-end="1853.669">user is coming back to the portal or  —  when the user is coming back to the portal, we</span> <span data-start="1853.669" data-end="1858.72">want to be able to retrieve that user from the portal, so we will send the signal off</span> <span data-start="1858.72" data-end="1864.68">to find the user in the portal and we pass what that user ID came in and what the token</span> <span data-start="1864.68" data-end="1868.12">was.</span> <span data-start="1868.12" data-end="1882.789">And now in here we have a user find portal, and here's where we implement going to the</span> <span data-start="1882.789" data-end="1884.5">database.</span> </p>
<p><span data-start="1884.5" data-end="1889.61">And if they're not found, we say it's a fail.</span> <span data-start="1889.61" data-end="1893.57">And that the auth failed.</span> <span data-start="1893.57" data-end="1901.7">If it's  —  if we did find the user, we grab that user and we send it back and saying we</span> <span data-start="1901.7" data-end="1904.639">retrieved the user from the portal.</span> <span data-start="1904.639" data-end="1912.049">So now on a retrieve, we can send that back in the JSON.</span> <span data-start="1912.049" data-end="1922.26">I won't have time to get to it, but what this allows us to do is because we've put the  —  we've</span> <span data-start="1922.26" data-end="1932.409">put the actual interaction with Mongo here, we can add other handlers and one, put an</span> <span data-start="1932.409" data-end="1936.32">intercept handler to handle caching.</span> </p>
<p><span data-start="1936.32" data-end="1942.58">If we have a token and we already know the user, we can just get that user from cache,</span> <span data-start="1942.58" data-end="1947.399">so return the correct thing and not even go to Mongo.</span> <span data-start="1947.399" data-end="1955.89">Or if we want to change our database from Mongo to Postgres or mySQL or a relational</span> <span data-start="1955.89" data-end="1963.279">store, we can just implement new handlers and refactor that on the fly without having</span> <span data-start="1963.279" data-end="1972.6">to worry about all  —  changing the the code of the actual API that the code is relying</span> <span data-start="1972.6" data-end="1976.72">upon.</span> <span data-start="1976.72" data-end="1986.99">Now, what I've shown is an example of how to do this directly inside of an app or an</span> <span data-start="1986.99" data-end="1992.77">API, and then they're still using a REST API as an interface to talk to each other, but</span> <span data-start="1992.77" data-end="2005.74">once I have these signals set up on both sides, then I can use the socket io package</span> <span data-start="2005.74" data-end="2012.019">without having to go through this REST medium.</span> <span data-start="2012.019" data-end="2013.019">I think I'm almost out of time.</span> <span data-start="2013.019" data-end="2015.24">Scoot back to  —   —  I really want to thank a few people.</span> <span data-start="2015.24" data-end="2020.72">I want to thank the people at Thinkster.io for creating the real world app.</span> <span data-start="2020.72" data-end="2028.19">I will be developing this further and supplying it to anybody who wants to see  —  oh, is my</span> <span data-start="2028.19" data-end="2029.19">display thing?</span> </p>
<p><span data-start="2029.19" data-end="2030.19">That's nasty!</span> <span data-start="2030.19" data-end="2031.19">Let's go ahead and close out of there.</span> <span data-start="2031.19" data-end="2032.25">JSConf for being able to have these talks.</span> <span data-start="2032.25" data-end="2039.769">I really appreciate to come up here and share my work with everyone, and JS.org for hosting</span> <span data-start="2039.769" data-end="2042.909">DNS for so many great projects.</span> <span data-start="2042.909" data-end="2046.44">A few resources.</span> <span data-start="2046.44" data-end="2052.8">The website for the project is tao.js.org.</span> <span data-start="2052.8" data-end="2055.39">The GitHub repo.</span> </p>
<p><span data-start="2055.39" data-end="2061.62">There are six cores published.</span> <span data-start="2061.62" data-end="2067.22">The transponder came out of the utils package.</span> <span data-start="2067.22" data-end="2070.93">You don't need it in the core package.</span> <span data-start="2070.93" data-end="2074.15">And so the for build extensions on signal networks.</span> <span data-start="2074.15" data-end="2088.19">And the  —  and then coming soon, I'll get the 100% test coverage back on the packages.</span> <span data-start="2088.19" data-end="2093.91">I did a lot of building for a little while, and updated documentation, especially with</span> <span data-start="2093.91" data-end="2102.03">this decoupled architecture focus, so thank you very much for coming, and I really appreciate</span> <span data-start="2102.03" data-end="2103.03">it.</span> </p>
</section>

<!-- div#container ends -->
</div>

<img alt="The End" id="fin" src="../images/fin.jpg">

<script>
/*eslint-disable */
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google-translate');
}
/* eslint-enable */
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="../js/main.js"></script>

</body>

</html>
