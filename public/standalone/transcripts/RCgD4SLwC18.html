<!DOCTYPE html>

<!--
Copyright 2019 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="//google.com">
  <meta name="description" content="web.dev LIVE video transcript">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>RCgD4SLwC18</title>
  <link rel="stylesheet" href="../css/main.css">
</head>

<body>

<iframe id="youtube" src="https://www.youtube.com/embed/RCgD4SLwC18?enablejsapi=1"></iframe>

<div id="container">

<div id="options">
  <div id="google-translate"></div>
  <div>
    <input type="checkbox" id="videoSticky" checked>
    <label for="videoSticky">Video position sticky</label>
  </div>
  <div>
    <input type="checkbox" id="captionScroll" checked>
    <label for="captionScroll">Keep current caption visible</label>
  </div>
</div>

<section>
<p><span data-start="19.22" data-end="22.289">so my talk is called down the rabbit</span> <span data-start="22.289" data-end="25.289">hole it's a little story about a crazy</span> <span data-start="25.289" data-end="30.06">bug I was chasing around for two and a</span> <span data-start="30.06" data-end="34.98">half months earlier this year my wife I</span> <span data-start="34.98" data-end="37.559">came home from work up for like three</span> <span data-start="37.559" data-end="39.269">days in a row my wife asked me what I</span> <span data-start="39.269" data-end="41.01">was doing at work I said chasing a bug</span> <span data-start="41.01" data-end="43.68">and finally she was like why shouldn't</span> <span data-start="43.68" data-end="45.42">you be working why are you chasing a bug</span> <span data-start="45.42" data-end="47.61">around the office it's like I've done</span> <span data-start="47.61" data-end="53.519">right so this is like a little play sort</span> <span data-start="53.519" data-end="58.589">of there are six acts I have a cast I am</span> <span data-start="58.589" data-end="60.51">in the cast that's me that's what I look</span> <span data-start="60.51" data-end="64.739">like on the internet I work for a</span> <span data-start="64.739" data-end="66.869">company called a lark we put live chat</span> <span data-start="66.869" data-end="70.95">on websites so this use a little chat</span> <span data-start="70.95" data-end="72.689">box in the lower right-hand corner you</span> <span data-start="72.689" data-end="75">might have seen it around it's popular</span> <span data-start="75" data-end="80.52">among the startup community this little</span> <span data-start="80.52" data-end="81.84">bird is going to help give advice</span> <span data-start="81.84" data-end="88.77">throughout the talk and this is the app</span> <span data-start="88.77" data-end="92.52">that had the bug it's it's an odious</span> <span data-start="92.52" data-end="98.789">based app that allows our operators to</span> <span data-start="98.789" data-end="100.469">chat with the visitors on their website</span> <span data-start="100.469" data-end="102.479">from their web browser so they don't</span> <span data-start="102.479" data-end="104.759">have to download any software on their</span> <span data-start="104.759" data-end="107.85">computer it's basically a jabber client</span> <span data-start="107.85" data-end="111.45">that runs in your web browser it's built</span> <span data-start="111.45" data-end="114.149">on nodejs and socket i/o among other</span> <span data-start="114.149" data-end="117.749">things all right so let's get started</span> </p>
<p><span data-start="117.749" data-end="123.21">Act one is denial a few months ago a</span> <span data-start="123.21" data-end="125.7">customer came to me and said the chatwal</span> <span data-start="125.7" data-end="127.139">crying it keeps disconnecting and</span> <span data-start="127.139" data-end="130.8">reconnecting I said my code is perfect</span> <span data-start="130.8" data-end="133.5">there's no way that's happening it must</span> <span data-start="133.5" data-end="134.97">be your problem</span> <span data-start="134.97" data-end="136.92">for those of you who don't know what</span> <span data-start="136.92" data-end="139.89">pebkac is it means that the problem</span> <span data-start="139.89" data-end="142.55">exists between the keyboard and chair</span> <span data-start="142.55" data-end="145.89">this is my problem that often exists</span> <span data-start="145.89" data-end="150.66">between my keyboard and chair anyhow</span> <span data-start="150.66" data-end="155.4">it's basically just user error well then</span> <span data-start="155.4" data-end="157.89">a couple days later another customer</span> <span data-start="157.89" data-end="160.29">came to me and said hey the cat chat</span> <span data-start="160.29" data-end="162.09">client keeps disconnecting and</span> <span data-start="162.09" data-end="168.86">reconnecting yeah absolutely sure maybe</span> <span data-start="168.86" data-end="171">that maybe it's just a crappy internet</span> <span data-start="171" data-end="174.93">connection a couple days later one of my</span> <span data-start="174.93" data-end="176.82">co-workers came to me and said hey my</span> <span data-start="176.82" data-end="178.29">chat client keeps disconnecting and</span> <span data-start="178.29" data-end="180.93">reconnecting it's definitely easier this</span> <span data-start="180.93" data-end="186.36">time just kidding sorry Sam but he did</span> <span data-start="186.36" data-end="188.34">say hey my internet has been flaky</span> <span data-start="188.34" data-end="191.43">lately and so I said sweet flaky</span> <span data-start="191.43" data-end="195.66">internet problem hi thought so so</span> <span data-start="195.66" data-end="201">problem solved get better internet its</span> <span data-start="201" data-end="204.22">end of my talk no</span> <span data-start="204.23" data-end="209.58">just kidding so first piece of advice</span> <span data-start="209.58" data-end="212.91">from the OL ark advice bird is to listen</span> <span data-start="212.91" data-end="215.489">to your users they actually use your app</span> <span data-start="215.489" data-end="218.51">probably a lot more than you do so</span> <span data-start="218.51" data-end="220.95">sometimes they actually are telling the</span> <span data-start="220.95" data-end="227.51">truth so on to act to acceptance fine</span> <span data-start="227.51" data-end="232.709">there is a bug so I wonder how often</span> <span data-start="232.709" data-end="234.18">this bug is happening like it was just</span> <span data-start="234.18" data-end="238.08">two people in my coworker than yeah okay</span> <span data-start="238.08" data-end="240.45">maybe it's not super high priority but</span> <span data-start="240.45" data-end="243.12">if it's like everybody then all right</span> <span data-start="243.12" data-end="248.25">you should probably fix it so my first</span> <span data-start="248.25" data-end="251.069">instinct is all right let's go look at</span> <span data-start="251.069" data-end="254.91">logs we have logs logs the big they're</span> <span data-start="254.91" data-end="259.33">helpful they're text</span> <span data-start="259.34" data-end="266.58">blogs and arts happen to be in JSON and</span> <span data-start="266.58" data-end="269.52">they have hashtags in them because</span> <span data-start="269.52" data-end="271.77">that's just what we do so we actually</span> <span data-start="271.77" data-end="274.62">were logging an op disconnected hashtag</span> <span data-start="274.62" data-end="279.66">every time someone disconnect so if you</span> <span data-start="279.66" data-end="283.44">stuck this log or if you graphed every</span> <span data-start="283.44" data-end="285.96">time someone disconnected it looks</span> <span data-start="285.96" data-end="290.76">something like this peeking around 30 or</span> <span data-start="290.76" data-end="293.729">so per minute if you look at our total</span> <span data-start="293.729" data-end="296.669">connection graph it's roughly in the 350</span> <span data-start="296.669" data-end="299.58">range at a maximum so if we have a</span> <span data-start="299.58" data-end="302.3">maximum of 350 connections and</span> <span data-start="302.3" data-end="305.43">disconnects around 30 that means ten</span> <span data-start="305.43" data-end="307.19">percent of our users are disconnecting</span> <span data-start="307.19" data-end="312.21">every minute which is actually like fine</span> <span data-start="312.21" data-end="317.82">it's a problem yeah great lesson number</span> <span data-start="317.82" data-end="320.19">two and I'm going to lose count of these</span> <span data-start="320.19" data-end="323.55">so I'm stopped counting but graphing is</span> <span data-start="323.55" data-end="327.09">really helpful it only took a few</span> <span data-start="327.09" data-end="329.25">minutes for me to figure out how many</span> <span data-start="329.25" data-end="333.27">people were being affected once I need</span> <span data-start="333.27" data-end="336.479">to look basically and we have a lot of</span> <span data-start="336.479" data-end="340.24">graphs like this for this particular out</span> <span data-start="340.25" data-end="344.3">can you read that</span> <span data-start="344.31" data-end="348.28">anyhow these come in very handy like</span> <span data-start="348.28" data-end="349.93">after deploy to check and see if</span> <span data-start="349.93" data-end="352.15">everything is gone okay or if you've got</span> <span data-start="352.15" data-end="354.19">a higher rate or whatever I highly</span> <span data-start="354.19" data-end="356.05">recommend having some dashboard with</span> <span data-start="356.05" data-end="361.51">graphs on it for your app now let's go</span> <span data-start="361.51" data-end="367.81">back to logs so this is a UNIX system</span> <span data-start="367.81" data-end="371.77">and I know how to use this stuff so</span> <span data-start="371.77" data-end="376.57">let's take the log look for all the</span> <span data-start="376.57" data-end="379.96">optics connects it happen in it and this</span> <span data-start="379.96" data-end="382.27">is not a standard UNIX tool but since</span> <span data-start="382.27" data-end="383.62">their logs are in Jason there's this</span> <span data-start="383.62" data-end="385.33">cool thing called Jason tool that you</span> <span data-start="385.33" data-end="387.61">should look at if you are in a similar</span> <span data-start="387.61" data-end="390.61">situation and you can basically pick out</span> <span data-start="390.61" data-end="393.93">pieces of your adjacent particular keys</span> <span data-start="393.93" data-end="398.14">in the object and get rid of everything</span> <span data-start="398.14" data-end="401.32">else it's like you know it's what you</span> <span data-start="401.32" data-end="402.91">wish you could do with XML easily on the</span> <span data-start="402.91" data-end="407.89">commandment and probably but anyhow so</span> <span data-start="407.89" data-end="410.08">this basically up to this point will</span> <span data-start="410.08" data-end="413.89">give us a list of all the usernames</span> <span data-start="413.89" data-end="416.02">every day every time a user name gets</span> <span data-start="416.02" data-end="417.28">disconnected it prints out their</span> <span data-start="417.28" data-end="421.2">username so if we sort it by username</span> <span data-start="421.2" data-end="427.47">and then count up all of the unique</span> <span data-start="427.47" data-end="432.04">instances of that username and then sort</span> <span data-start="432.04" data-end="435.82">it again by the number the count of that</span> <span data-start="435.82" data-end="438.94">thing oh yeah you need to do that if you</span> <span data-start="438.94" data-end="442.03">want to actually run that we get</span> <span data-start="442.03" data-end="444.49">something that looks like this it's like</span> <span data-start="444.49" data-end="447.4">in this log file Steve disconnected once</span> </p>
<p><span data-start="447.4" data-end="450.52">John disconnected twice and Susie</span> <span data-start="450.52" data-end="459.41">disconnected 512 x so okay</span> <span data-start="459.41" data-end="461.58">Susie obviously is having something</span> <span data-start="461.58" data-end="464.34">crazy going on so let's go back to more</span> <span data-start="464.34" data-end="471.9">eunuchs okay this slide is not working</span> <span data-start="471.9" data-end="478.49">there we go okay so get the disconnects</span> <span data-start="478.49" data-end="485.49">again this presenter cool thing has</span> <span data-start="485.49" data-end="489.33">totally failed this time we will get the</span> <span data-start="489.33" data-end="492.06">timestamp and the user name out of the</span> <span data-start="492.06" data-end="496.62">Jason and then filter just Susie stuff</span> <span data-start="496.62" data-end="499.56">and take the first field which is just</span> <span data-start="499.56" data-end="501.24">the timestamp so really all we're</span> <span data-start="501.24" data-end="503.61">looking at is what are the times that</span> </p>
<p><span data-start="503.61" data-end="508.62">Susie's client disconnected and when I</span> <span data-start="508.62" data-end="512.07">looked at this I noticed this is</span> <span data-start="512.07" data-end="514.26">happening almost exactly every minute</span> <span data-start="514.26" data-end="516.45">plus like a tiny little millisecond</span> <span data-start="516.45" data-end="520.77">delta it's going for 45 or 46 for 47 and</span> <span data-start="520.77" data-end="524.13">448 so that's kind of weird like a</span> <span data-start="524.13" data-end="529.56">minute is sort of a big coincidence if</span> <span data-start="529.56" data-end="537.72">you ask me so the bird says log things</span> <span data-start="537.72" data-end="540.33">because it's really useful to look at</span> <span data-start="540.33" data-end="542.52">the logs and be able to figure something</span> <span data-start="542.52" data-end="545.85">out without just like sticking in print</span> <span data-start="545.85" data-end="548.76">statements or something and also know</span> <span data-start="548.76" data-end="551.31">how to use your tools so you can take</span> <span data-start="551.31" data-end="553.08">your logs throw it through a thing I</span> <span data-start="553.08" data-end="554.339">mean the command line and all that</span> <span data-start="554.339" data-end="555.48">command line stuff took me a couple</span> <span data-start="555.48" data-end="557.1">minutes to put together if I had to like</span> <span data-start="557.1" data-end="558.72">write some program to do that would</span> <span data-start="558.72" data-end="565.83">taking a lot longer all right so Susie's</span> <span data-start="565.83" data-end="568.77">definitely having a problem none of us</span> <span data-start="568.77" data-end="571.29">except for my co-workers to near had</span> <span data-start="571.29" data-end="574.23">actually seen this on our computers and</span> <span data-start="574.23" data-end="576.18">we'd been using for a couple of months</span> <span data-start="576.18" data-end="578.01">before we released it to any customers</span> <span data-start="578.01" data-end="583.709">so but sooner did say something that was</span> <span data-start="583.709" data-end="587.97">interesting he has flaky internet so how</span> <span data-start="587.97" data-end="589.829">can we simulate flaky internet and see</span> <span data-start="589.829" data-end="591.35">if we can reproduce it</span> </p>
<p><span data-start="591.35" data-end="598.139">I tried doing stuff with iptables about</span> <span data-start="598.139" data-end="600.209">a half an hour I said screw it I</span> <span data-start="600.209" data-end="604.47">unplugged my ethernet cable and I had</span> <span data-start="604.47" data-end="614.43">flaky internet success unplug ethernet</span> <span data-start="614.43" data-end="616.8">cable wait plug ethernet cable back in</span> <span data-start="616.8" data-end="618.899">and it reproduced the issue it got into</span> <span data-start="618.899" data-end="621.389">the reboot reboot loop and was doing all</span> <span data-start="621.389" data-end="627.149">its stupid annoying stuff that I want it</span> <span data-start="627.149" data-end="631.68">to do so the lesson here is just do</span> <span data-start="631.68" data-end="635.009">something like you know at some point if</span> <span data-start="635.009" data-end="636.24">there's something stupid you can do</span> <span data-start="636.24" data-end="637.8">that's going to work when you're chasing</span> <span data-start="637.8" data-end="640.5">a bug especially I mean you know maybe</span> <span data-start="640.5" data-end="641.73">not when you're writing like nice</span> <span data-start="641.73" data-end="644.879">production code but but if you're</span> <span data-start="644.879" data-end="646.889">chasing around a bug like just do what</span> <span data-start="646.889" data-end="648.149">you need to do to figure out what's</span> <span data-start="648.149" data-end="651.12">going on and worry about later maybe</span> <span data-start="651.12" data-end="656.459">also learn your tools later why is this</span> <span data-start="656.459" data-end="660.48">thing working ok anyhow next to act</span> <span data-start="660.48" data-end="662.129">trying to figure out what is actually</span> <span data-start="662.129" data-end="664.769">going on so I looked in Chrome's</span> <span data-start="664.769" data-end="669.019">developer tools you can read this right</span> <span data-start="669.019" data-end="671.879">and so if you click on the network tab</span> <span data-start="671.879" data-end="674.519">in Chrome's developer tools you can then</span> <span data-start="674.519" data-end="677.25">click on the web sockets tab down there</span> <span data-start="677.25" data-end="679.259">which will filter the list at the left</span> <span data-start="679.259" data-end="682.079">for websites is a very intuitive UI that</span> <span data-start="682.079" data-end="688.589">like that filters that and if you click</span> <span data-start="688.589" data-end="691.41">on frames you can see each little bit of</span> <span data-start="691.41" data-end="693.72">data that's transmitted through the web</span> <span data-start="693.72" data-end="695.73">socket it's very useful for web sockets</span> <span data-start="695.73" data-end="699.089">debugging I figured it out about like</span> <span data-start="699.089" data-end="702.05">two days after I needed to figure it out</span> <span data-start="702.05" data-end="706.5">but in retrospect very useful but</span> <span data-start="706.5" data-end="708.329">there's no closed event that happens at</span> <span data-start="708.329" data-end="710.939">the bottom so like it just the WebSocket</span> <span data-start="710.939" data-end="714.56">just sort of stopped at some point</span> <span data-start="714.56" data-end="721.16">so I decided okay I'm gonna figure out</span> <span data-start="721.16" data-end="725.51">what's going on one way or another I got</span> <span data-start="725.51" data-end="730.69">wire shot going I TCP dump hey hello</span> <span data-start="730.69" data-end="738.04">where are you I guess I have to do this</span> <span data-start="738.04" data-end="742.33">right so this is a Wireshark dump of one</span> <span data-start="742.33" data-end="745.22">reboot loop that happened and if you</span> <span data-start="745.22" data-end="747.77">look here this is the WebSocket being</span> <span data-start="747.77" data-end="751.58">forcibly closed on the client side I</span> <span data-start="751.58" data-end="753.56">happen to know that because I know the</span> </p>
<p><span data-start="753.56" data-end="755.66">IP addresses but Wireshark is like a</span> <span data-start="755.66" data-end="758.24">super awesome tool if something is going</span> <span data-start="758.24" data-end="761">weird at the protocol level you know</span> <span data-start="761" data-end="765.5">other idea what's going on the newest</span> <span data-start="765.5" data-end="768.529">version can dissect WebSocket stuff so</span> <span data-start="768.529" data-end="770.21">it'll tell you like everything that's</span> <span data-start="770.21" data-end="772.58">being sent through here like in the</span> <span data-start="772.58" data-end="774.71">payload it knows all this stuff so it's</span> <span data-start="774.71" data-end="778.01">like five colon colon colon name visit</span> <span data-start="778.01" data-end="779.99">blah blah like this is this is the data</span> <span data-start="779.99" data-end="783.8">that's going across the protocol and its</span> <span data-start="783.8" data-end="788.33">really really helpful for when you're</span> <span data-start="788.33" data-end="790.1">logging and stuff is not enough and</span> <span data-start="790.1" data-end="792.2">chrome developer tools not enough to</span> <span data-start="792.2" data-end="795.89">figure out what's actually going on so</span> <span data-start="795.89" data-end="798.13">check out Wireshark if you got some</span> <span data-start="798.13" data-end="802.46">really weird protocol thing going on so</span> <span data-start="802.46" data-end="804.62">anyhow I looked at that and basically</span> <span data-start="804.62" data-end="806.99">what it told me is that the client side</span> <span data-start="806.99" data-end="809.36">was what was closing the connection it</span> <span data-start="809.36" data-end="811.28">was not the server dropping it or</span> <span data-start="811.28" data-end="815.9">kicking anyone off so I'd at that point</span> </p>
<p><span data-start="815.9" data-end="818.57">I that's like a small amount of useful</span> <span data-start="818.57" data-end="820.4">information at least I don't have to</span> <span data-start="820.4" data-end="821.98">mess around with the server side and</span> <span data-start="821.98" data-end="824.03">thanks chrome for not telling me that</span> <span data-start="824.03" data-end="825.26">the client side was the one that was</span> <span data-start="825.26" data-end="829.88">classic section so I just decided to do</span> <span data-start="829.88" data-end="831.589">what I call Shotgun debugging and stick</span> <span data-start="831.589" data-end="833.15">break points everywhere in the socket</span> <span data-start="833.15" data-end="834.32">i/o a source code that said close</span> <span data-start="834.32" data-end="837.529">because you know at some point when I</span> <span data-start="837.529" data-end="839.72">was being a called let me be able to</span> <span data-start="839.72" data-end="843.35">trace it back and this actually worked</span> <span data-start="843.35" data-end="845.58">it took me a long time to turn all the</span> <span data-start="845.58" data-end="850.019">breakpoints off later it's probably bad</span> <span data-start="850.019" data-end="854.7">with that and basically the issue was</span> <span data-start="854.7" data-end="856.92">that the old web socket was being</span> <span data-start="856.92" data-end="858.839">swapped out for a new web socket when</span> <span data-start="858.839" data-end="861.57">like when the client reconnected and</span> <span data-start="861.57" data-end="863.13">this was supposed to build in one at a</span> <span data-start="863.13" data-end="867.47">time but revealed ijs is being broken so</span> <span data-start="867.47" data-end="870.69">the old website there the old websockets</span> <span data-start="870.69" data-end="872.579">heartbeat does not get properly cleaned</span> <span data-start="872.579" data-end="878.88">up and the old heartbeat happens after a</span> <span data-start="878.88" data-end="881.49">minute later the disconnect heartbeat</span> <span data-start="881.49" data-end="885.99">gets executed so then it kills the</span> </p>
<p><span data-start="885.99" data-end="888.269">WebSocket the new WebSocket that's there</span> <span data-start="888.269" data-end="891.779">and then new web sockets like oh hey I</span> <span data-start="891.779" data-end="893.81">got disconnected I better reconnect and</span> <span data-start="893.81" data-end="897.06">then its heartbeat I thought doesn't get</span> <span data-start="897.06" data-end="900.209">cleaned up so then every 60 seconds when</span> <span data-start="900.209" data-end="902.36">the heartbeat time out finally times out</span> <span data-start="902.36" data-end="905.48">kills the WebSocket starts over again so</span> <span data-start="905.48" data-end="907.86">we actually had some cases where there</span> <span data-start="907.86" data-end="912.329">were oh this happened to people had</span> <span data-start="912.329" data-end="915.63">flaky enough internet that they they</span> <span data-start="915.63" data-end="917.13">were getting disconnected four or five</span> <span data-start="917.13" data-end="918.93">times per minute and so like there would</span> <span data-start="918.93" data-end="920.79">be a timer at like four seconds eight</span> <span data-start="920.79" data-end="924.63">seconds 30 seconds 42 seconds and it</span> <span data-start="924.63" data-end="926.94">would just like keep killing over and</span> <span data-start="926.94" data-end="932.76">over again those bats bad bad bug that</span> <span data-start="932.76" data-end="939.02">was affecting quite a few users and so</span> <span data-start="939.02" data-end="944.13">the fix was basically just I mean this</span> <span data-start="944.13" data-end="947.04">is an absolutely terrible fix because</span> <span data-start="947.04" data-end="949.32">like I didn't actually fix the heartbeat</span> <span data-start="949.32" data-end="953.22">time out or whatever like basically I</span> <span data-start="953.22" data-end="955.62">just wrapped the thing like that calls a</span> <span data-start="955.62" data-end="957.3">heartbeat I'm out to make sure that's</span> <span data-start="957.3" data-end="958.98">actually closing the socket of a</span> <span data-start="958.98" data-end="964.079">heartbeat time I've got fired on and it</span> <span data-start="964.079" data-end="972.39">worked</span> <span data-start="972.4" data-end="979.24">are you kidding me</span> <span data-start="979.25" data-end="989.5">just a second</span> <span data-start="989.51" data-end="991.93">this is a cached or something I swear</span> <span data-start="991.93" data-end="994.79">there is literally a graph in here and I</span> <span data-start="994.79" data-end="1012.16">saw it like ten Mohs</span> <span data-start="1012.17" data-end="1014.76">yeah i'm gonna i'm gonna Wireshark this</span> <span data-start="1014.76" data-end="1017">real quick I don't know I don't know why</span> <span data-start="1017" data-end="1043.309">oh there's zero indexed</span> <span data-start="1043.319" data-end="1046.429">yeah it's probably also flaky Internet</span> <span data-start="1046.429" data-end="1051">hey did have another graph that was just</span> <span data-start="1051" data-end="1053.429">like said graph and didn't like this</span> <span data-start="1053.429" data-end="1057.149">should have been other graphs anyway so</span> <span data-start="1057.149" data-end="1059.07">we deployed this and it was up around 30</span> <span data-start="1059.07" data-end="1062.639">and it went down to like one so so it</span> <span data-start="1062.639" data-end="1064.23">was really obvious when it happened</span> <span data-start="1064.23" data-end="1066.299">because we had these these grafts here</span> <span data-start="1066.299" data-end="1072.179">so my point about graphs is is a good</span> <span data-start="1072.179" data-end="1078.549">one I think anyhow sorry about that</span> <span data-start="1078.559" data-end="1081.149">basically I I came up with a few life</span> <span data-start="1081.149" data-end="1083.82">lessons after this this two-month run</span> <span data-start="1083.82" data-end="1087.33">around with this bug like I added a lot</span> <span data-start="1087.33" data-end="1088.679">more graphs so I could see what was</span> <span data-start="1088.679" data-end="1093.179">going on all the time I logged all sorts</span> <span data-start="1093.179" data-end="1095.22">of added a bunch more logging about</span> <span data-start="1095.22" data-end="1097.289">events that were going on so we could so</span> <span data-start="1097.289" data-end="1102.299">we could trace future issues I have been</span> <span data-start="1102.299" data-end="1105.72">much more willing to just pull my</span> <span data-start="1105.72" data-end="1107.429">ethernet cable out instead of trying to</span> <span data-start="1107.429" data-end="1110.179">figure out iptables when I'm trying to</span> <span data-start="1110.179" data-end="1115.559">chase down a nasty bug i also meant to</span> <span data-start="1115.559" data-end="1118.019">go back and figure out how how to</span> <span data-start="1118.019" data-end="1122.419">actually do it in iptables maybe later</span> <span data-start="1122.419" data-end="1128.639">but most importantly I learn to listen</span> <span data-start="1128.639" data-end="1131.37">to my users more because they definitely</span> <span data-start="1131.37" data-end="1135.679">is this a lot more than I do we're up to</span> <span data-start="1135.679" data-end="1138.33">900 concurrent connections at peak now</span> <span data-start="1138.33" data-end="1142.32">so this there's 900 more people than me</span> <span data-start="1142.32" data-end="1162.19">who's using it and that's it</span> </p>
</section>

<!-- div#container ends -->
</div>

<img alt="The End" id="fin" src="../images/fin.jpg">

<script>
/*eslint-disable */
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google-translate');
}
/* eslint-enable */
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="../js/main.js"></script>

</body>

</html>
