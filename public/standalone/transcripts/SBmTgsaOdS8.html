<!DOCTYPE html>

<!--
Copyright 2019 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="//google.com">
  <meta name="description" content="web.dev LIVE video transcript">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SBmTgsaOdS8</title>
  <link rel="stylesheet" href="../css/main.css">
</head>

<body>

<iframe id="youtube" src="https://www.youtube.com/embed/SBmTgsaOdS8?enablejsapi=1"></iframe>

<div id="container">

<div id="options">
  <div id="google-translate"></div>
  <div>
    <input type="checkbox" id="videoSticky" checked>
    <label for="videoSticky">Video position sticky</label>
  </div>
  <div>
    <input type="checkbox" id="captionScroll" checked>
    <label for="captionScroll">Keep current caption visible</label>
  </div>
</div>

<section>
<p><span data-start="9.469" data-end="13.71">thank you I jeds probably like my</span> <span data-start="13.71" data-end="15.41">favorite person in the whole world so</span> <span data-start="15.41" data-end="18.66">that was nice anyways this looks like it</span> <span data-start="18.66" data-end="24.24">works unicode poop there's a HTML entity</span> <span data-start="24.24" data-end="28.74">for that as well just good info to have</span> <span data-start="28.74" data-end="30.63">I think that's the last actual poop I</span> <span data-start="30.63" data-end="32.219">have in here so hopefully that helps</span> <span data-start="32.219" data-end="37.079">settle your stomach's a bit uh let's get</span> <span data-start="37.079" data-end="40.02">going if we can there we go so I had a</span> <span data-start="40.02" data-end="42.3">friends say this to me once I don't want</span> <span data-start="42.3" data-end="43.95">all those fancy features I just want a</span> <span data-start="43.95" data-end="47.94">program that eats ass and poop CSS and</span> <span data-start="47.94" data-end="51.539">that's really the thing that the pooping</span> <span data-start="51.539" data-end="53.85">is is about and I'm going to go ahead</span> <span data-start="53.85" data-end="56.61">and extend the metaphor for you into the</span> </p>
<p><span data-start="56.61" data-end="61.469">CSS preprocessor digestive tract and</span> <span data-start="61.469" data-end="64.439">hopefully that won't get too boring but</span> <span data-start="64.439" data-end="68.82">but i'll try to stick to mostly CSS so</span> <span data-start="68.82" data-end="71.549">we we often have information like this</span> <span data-start="71.549" data-end="73.74">this is a very small stylesheet we have</span> <span data-start="73.74" data-end="76.409">some variables some are pixels summer</span> <span data-start="76.409" data-end="78.479">colors and we mix them in and we've run</span> <span data-start="78.479" data-end="81.96">functions on them it's nice so so how do</span> <span data-start="81.96" data-end="85.17">we process that what happens whenever we</span> <span data-start="85.17" data-end="87.84">want CSS out the other end so how does</span> <span data-start="87.84" data-end="93.74">eating this makes a spoof this so</span> <span data-start="93.74" data-end="95.97">preprocessors as they relate to the</span> <span data-start="95.97" data-end="98.07">digestive system eating is probably</span> <span data-start="98.07" data-end="102.93">standard in I'd say chewing is most like</span> <span data-start="102.93" data-end="106.259">lexing I'll talk about what a lexer is</span> <span data-start="106.259" data-end="108.6">but I kind of breaks up the input into</span> <span data-start="108.6" data-end="112.5">more easily digestible pieces stomachs</span> <span data-start="112.5" data-end="115.32">are an important part of actual</span> <span data-start="115.32" data-end="116.729">digestion system so I couldn't really</span> <span data-start="116.729" data-end="118.259">leave them out but they don't actually</span> <span data-start="118.259" data-end="121.53">the metaphor is very broken so i just</span> <span data-start="121.53" data-end="123.03">added them in here as some sort of data</span> <span data-start="123.03" data-end="124.259">store that you're using because that's</span> <span data-start="124.259" data-end="126.96">really all it's doing maybe a additional</span> <span data-start="126.96" data-end="131.31">lexing so your small intestines are kind</span> <span data-start="131.31" data-end="133.11">of like the parser step so the parser</span> <span data-start="133.11" data-end="133.86">step is</span> <span data-start="133.86" data-end="137.28">uh taking out the pieces that you need</span> <span data-start="137.28" data-end="138.66">and putting them in the right places so</span> <span data-start="138.66" data-end="139.92">this would like be actually getting</span> <span data-start="139.92" data-end="144.3">nutrients and moving it to nice parts of</span> <span data-start="144.3" data-end="146.76">your body breaking things down would not</span> <span data-start="146.76" data-end="147.81">be part of that even though that's</span> <span data-start="147.81" data-end="149.31">something that the small intestines do</span> <span data-start="149.31" data-end="151.92">so just ignore that large intestines are</span> <span data-start="151.92" data-end="154.98">similar we'll call that the compiler it</span> <span data-start="154.98" data-end="158.46">really gets it ready for output that's</span> <span data-start="158.46" data-end="162.87">that's where our I I'm just gonna say</span> <span data-start="162.87" data-end="165">output but I think you know I and you</span> <span data-start="165" data-end="167.64">all know what standard out is and so</span> <span data-start="167.64" data-end="172.35">we're good there and I'm going to talk a</span> <span data-start="172.35" data-end="174.48">little bit about hacking this system and</span> <span data-start="174.48" data-end="176.22">so I just had to have the metaphor for</span> <span data-start="176.22" data-end="177.93">that so one way you could hack your</span> <span data-start="177.93" data-end="179.58">digestive tract is like lap band surgery</span> <span data-start="179.58" data-end="180.84">where they like make your stomach</span> <span data-start="180.84" data-end="182.459">smaller and then you have less memory</span> <span data-start="182.459" data-end="185.73">and so maybe your output is slower you</span> <span data-start="185.73" data-end="189.989">lose weight or one of the two so parsing</span> <span data-start="189.989" data-end="191.4">and compiling is really what I'd like to</span> <span data-start="191.4" data-end="193.709">talk to you about rather than the</span> <span data-start="193.709" data-end="199.59">digestive tract so parsing is is</span> <span data-start="199.59" data-end="201.87">actually pretty easy on a high level it</span> <span data-start="201.87" data-end="205.56">uses syntax rules of the language and it</span> <span data-start="205.56" data-end="207.63">figures out what every little part of a</span> <span data-start="207.63" data-end="210.69">string is and it breaks them down into</span> <span data-start="210.69" data-end="213.93">tokens so in this case you have the</span> <span data-start="213.93" data-end="216.93">dollar sign which in SAS means that it's</span> <span data-start="216.93" data-end="218.549">the start of a variable and then you</span> <span data-start="218.549" data-end="219.78">have the name of the variable which is</span> <span data-start="219.78" data-end="223.41">blue in this case you have the Equality</span> <span data-start="223.41" data-end="228.42">operator CSS uses the colon to mean</span> <span data-start="228.42" data-end="232.2">equals and so that's what SAS uses and</span> <span data-start="232.2" data-end="234.9">then you have the value it could be any</span> <span data-start="234.9" data-end="237.269">arbitrary string usually there are rules</span> <span data-start="237.269" data-end="239.57">about what can go there you can't have</span> <span data-start="239.57" data-end="241.769">unicode characters though it like if it</span> <span data-start="241.769" data-end="243.45">was in a URL or something it might work</span> <span data-start="243.45" data-end="244.92">probably just about anything there</span> <span data-start="244.92" data-end="248.25">except for a semicolon and then you have</span> <span data-start="248.25" data-end="249.78">a rule delimiter to say hey this is the</span> <span data-start="249.78" data-end="251.73">end of the rule and so that's pretty</span> <span data-start="251.73" data-end="253.079">easy you might be able to write a regex</span> <span data-start="253.079" data-end="256.109">to go through and and break apart those</span> <span data-start="256.109" data-end="257.85">things you're really looking for three</span> <span data-start="257.85" data-end="260.31">things in that case and filling in the</span> <span data-start="260.31" data-end="262.95">gaps you see the dollar sign is a</span> <span data-start="262.95" data-end="264.45">variable and then you fill in the gaps</span> <span data-start="264.45" data-end="266.52">until you get to a colon and you fill in</span> <span data-start="266.52" data-end="267.389">the gaps then you get</span> <span data-start="267.389" data-end="271.139">2 semicolon so that's really at the very</span> <span data-start="271.139" data-end="272.849">base of how you set a variable how a</span> <span data-start="272.849" data-end="275.639">computer breaks that stuff down more</span> <span data-start="275.639" data-end="277.379">specifically it goes through every</span> <span data-start="277.379" data-end="280.349">single character and it says is this</span> <span data-start="280.349" data-end="282.029">part of anything that I might know about</span> <span data-start="282.029" data-end="284.009">and it's a it has a few options and if</span> <span data-start="284.009" data-end="285.779">there's only one option then it says oh</span> <span data-start="285.779" data-end="288.24">this must be the dollar sign to mean a</span> <span data-start="288.24" data-end="289.889">variable but if two things could start</span> <span data-start="289.889" data-end="291.629">with a dollar sign it might look ahead</span> <span data-start="291.629" data-end="293.219">and do other things there's lots of ways</span> <span data-start="293.219" data-end="296.31">to write parsers that I don't even know</span> <span data-start="296.31" data-end="299.61">about here is my most simple example of</span> <span data-start="299.61" data-end="301.409">how you might write this parser in</span> </p>
<p><span data-start="301.409" data-end="304.199">JavaScript which SAS is not written in</span> <span data-start="304.199" data-end="309.029">the the most non congruent part of my</span> <span data-start="309.029" data-end="311.939">talk is that all of my examples is are</span> <span data-start="311.939" data-end="313.8">in SAS and all of my code is in</span> <span data-start="313.8" data-end="316.349">JavaScript so you'll just have to deal</span> <span data-start="316.349" data-end="323.819">with that mental trust point anyways we</span> <span data-start="323.819" data-end="325.62">essentially just looped through a string</span> <span data-start="325.62" data-end="330.629">we get a string in as CSS it's just text</span> <span data-start="330.629" data-end="333.539">it's a you have characters in there and</span> <span data-start="333.539" data-end="335.819">in this case we're just saying if we</span> <span data-start="335.819" data-end="337.439">loop through and the character is a</span> <span data-start="337.439" data-end="339.21">semicolon we know there's a semicolon so</span> <span data-start="339.21" data-end="343.289">we have a list of tokens and then we</span> <span data-start="343.289" data-end="345.779">push the semicolon token in this case</span> <span data-start="345.779" data-end="347.399">it's just the string semicolon which</span> <span data-start="347.399" data-end="349.589">probably might be okay for semicolon but</span> <span data-start="349.589" data-end="351.389">you'd probably need more info like the</span> <span data-start="351.389" data-end="353.639">variable is this type of variable all</span> <span data-start="353.639" data-end="354.899">kinds of stuff this is a very simplified</span> <span data-start="354.899" data-end="357.3">example so you want one of those things</span> <span data-start="357.3" data-end="360.33">where you're noticing a semicolon for</span> <span data-start="360.33" data-end="363.12">every possible thing in the language</span> <span data-start="363.12" data-end="364.949">unless it's dynamic and then you use</span> <span data-start="364.949" data-end="367.71">other techniques for those more</span> <span data-start="367.71" data-end="369.27">realistically you probably write a</span> <span data-start="369.27" data-end="371.849">parser generator some people might</span> <span data-start="371.849" data-end="373.74">disagree with me on this but but most of</span> <span data-start="373.74" data-end="376.229">the time when you need a quick parser</span> <span data-start="376.229" data-end="378.18">for something you can actually use</span> <span data-start="378.18" data-end="381.449">something like a peg that's a parser</span> <span data-start="381.449" data-end="386.189">expression grammar generator and you can</span> <span data-start="386.189" data-end="388.379">generate a parser based on expressions</span> <span data-start="388.379" data-end="392.279">and so you say that a class is actually</span> <span data-start="392.279" data-end="395.639">just a dot followed by an identifier and</span> <span data-start="395.639" data-end="397.44">then you kind of say like whenever I</span> <span data-start="397.44" data-end="400.319">build this up say an element is just an</span> <span data-start="400.319" data-end="401.249">identifier</span> <span data-start="401.249" data-end="404.099">or the the asterisk for everything and</span> <span data-start="404.099" data-end="406.469">identifier is can be anything with</span> <span data-start="406.469" data-end="408.599">dashes or numbers or characters and all</span> <span data-start="408.599" data-end="409.499">kinds of risks if you don't necessarily</span> <span data-start="409.499" data-end="411.449">understand the syntax or more or less</span> <span data-start="411.449" data-end="413.809">anything here other than that you can</span> <span data-start="413.809" data-end="417.449">kind of build up a language and then</span> <span data-start="417.449" data-end="419.459">someone will actually just generate a</span> <span data-start="419.459" data-end="421.439">very fast parser for you and you don't</span> <span data-start="421.439" data-end="424.129">have to worry about this type of stuff</span> <span data-start="424.129" data-end="426.149">unless you want to make it very very</span> <span data-start="426.149" data-end="427.529">fast in which case you do this by hand</span> <span data-start="427.529" data-end="431.339">and see which lips ass things like that</span> <span data-start="431.339" data-end="434.699">let's how those work so when you're done</span> <span data-start="434.699" data-end="436.799">you need to represent the code as data</span> <span data-start="436.799" data-end="439.259">it comes in as text it comes in as an</span> <span data-start="439.259" data-end="443.789">array of characters so this is text and</span> <span data-start="443.789" data-end="446.789">you eventually after lexing have this</span> <span data-start="446.789" data-end="448.379">you have the variable starting of the</span> <span data-start="448.379" data-end="449.879">string you know the value of the string</span> <span data-start="449.879" data-end="452.069">you know that the next thing is equals</span> <span data-start="452.069" data-end="454.919">and that the value of the everything so</span> <span data-start="454.919" data-end="456.839">you have that and you want to actually</span> <span data-start="456.839" data-end="460.829">add structure so you take the variable</span> <span data-start="460.829" data-end="463.799">set you know that this needs to end with</span> <span data-start="463.799" data-end="465.749">the semicolon you say actually the way</span> <span data-start="465.749" data-end="467.999">setting variables works is it has two</span> <span data-start="467.999" data-end="469.709">sides and so you're going to build an</span> <span data-start="469.709" data-end="471.839">arbitrary object that says the left side</span> <span data-start="471.839" data-end="473.999">is the variable name and it's blue and</span> <span data-start="473.999" data-end="476.729">the right side is the value and it's</span> <span data-start="476.729" data-end="479.969">three BBFC I don't know where that value</span> </p>
<p><span data-start="479.969" data-end="482.129">Jed had all the switching names this</span> <span data-start="482.129" data-end="485.269">morning pro tip that was a good move</span> <span data-start="485.269" data-end="487.679">stylist have structure so even further</span> <span data-start="487.679" data-end="489.899">you might have the stylesheet object</span> <span data-start="489.899" data-end="491.939">that wraps that whole thing so if your</span> <span data-start="491.939" data-end="493.619">your whole style sheet was just one</span> <span data-start="493.619" data-end="495.809">variable declaration it might look kind</span> <span data-start="495.809" data-end="497.459">of like this you'd have you'd have an</span> <span data-start="497.459" data-end="499.529">object that said my type is a style</span> <span data-start="499.529" data-end="502.469">sheet and in it it has declarations and</span> <span data-start="502.469" data-end="504.299">the first one is a variable that's set</span> <span data-start="504.299" data-end="506.849">in a certain way the second one is a</span> <span data-start="506.849" data-end="510.929">declaration the selector is the stuff</span> <span data-start="510.929" data-end="513.75">class inside P tags and the rules are</span> <span data-start="513.75" data-end="518.099">left color value the color of FFF so</span> <span data-start="518.099" data-end="521.25">we're just saying stuff p stuff has the</span> <span data-start="521.25" data-end="526.589">color of white and that actually might</span> <span data-start="526.589" data-end="529.829">look more like this in SAS so you have</span> <span data-start="529.829" data-end="531.75">bodies then you have a tags and they're</span> <span data-start="531.75" data-end="534.51">nested inside</span> <span data-start="534.51" data-end="536.88">the hover states are nested inside so</span> <span data-start="536.88" data-end="539.13">you actually have what what ends up</span> <span data-start="539.13" data-end="540.96">looking like this whenever you actually</span> <span data-start="540.96" data-end="543.42">break it down I can make this smaller</span> <span data-start="543.42" data-end="552.95">for you maybe I can't there we go closer</span> <span data-start="552.95" data-end="555.48">so we end up with a hierarchy we have a</span> <span data-start="555.48" data-end="557.79">style sheet and we know that we have a</span> <span data-start="557.79" data-end="559.53">body rule and we have an a rule and</span> <span data-start="559.53" data-end="561.81">inside of those we have rules and inside</span> <span data-start="561.81" data-end="563.49">of those we have rules and with with</span> <span data-start="563.49" data-end="567.11">sass you can nest infinitely I think</span> </p>
<p><span data-start="567.11" data-end="569.67">Nicole once said that you should follow</span> <span data-start="569.67" data-end="572.04">the inception rule and never go more</span> <span data-start="572.04" data-end="574.98">than four levels deep which I like that</span> <span data-start="574.98" data-end="576.96">is that is good but technically you have</span> <span data-start="576.96" data-end="578.19">the ability to go as deep as you'd like</span> <span data-start="578.19" data-end="581.1">in normal CSS you can only have one</span> <span data-start="581.1" data-end="583.91">level but it's still a tree it's just</span> <span data-start="583.91" data-end="589.35">not that tall of one anyways this is an</span> <span data-start="589.35" data-end="590.91">abstract syntax tree that's what I've</span> <span data-start="590.91" data-end="593.43">been describing it's confusing because</span> <span data-start="593.43" data-end="596.61">there are almost no rules if anyone asks</span> <span data-start="596.61" data-end="599.16">a knapsack an abstract syntax tree is</span> <span data-start="599.16" data-end="602.25">just a list of things that contain one</span> <span data-start="602.25" data-end="605.52">thing or other lists of things i like to</span> <span data-start="605.52" data-end="610.77">call them arbitrary syntax trees they</span> <span data-start="610.77" data-end="613.5">almost don't mean anything they're</span> <span data-start="613.5" data-end="614.82">they're actually they've got such a cool</span> <span data-start="614.82" data-end="617.4">name that you want to drive more value</span> <span data-start="617.4" data-end="621.24">out of that name but really all it is is</span> <span data-start="621.24" data-end="625.23">a representation of the meaning of your</span> <span data-start="625.23" data-end="628.98">syntax in a structure so in the case of</span> </p>
<p><span data-start="628.98" data-end="632.4">CSS we don't want just there was a</span> <span data-start="632.4" data-end="634.29">variable than this and then a semicolon</span> <span data-start="634.29" data-end="636.12">and then this like there's no actual</span> <span data-start="636.12" data-end="637.8">structure that means anything we want to</span> <span data-start="637.8" data-end="639.63">be able to say that this is a group that</span> <span data-start="639.63" data-end="642">contains rules that contain groups that</span> <span data-start="642" data-end="644.01">contain rules and we know that the</span> <span data-start="644.01" data-end="646.5">things inside of a group apply to only</span> <span data-start="646.5" data-end="651.39">its outer selectors so what can we do</span> <span data-start="651.39" data-end="654.51">with it lots of stuff and that's why</span> <span data-start="654.51" data-end="657.39">it's fun so i'll go into what we can do</span> <span data-start="657.39" data-end="658.98">with it and in a second but the</span> <span data-start="658.98" data-end="660.9">compilation step is the first thing you</span> <span data-start="660.9" data-end="662.79">would normally do with it compile it to</span> <span data-start="662.79" data-end="668.279">CSS so reduction is the first step</span> <span data-start="668.279" data-end="669.66">whenever you're dealing with something</span> <span data-start="669.66" data-end="674.16">like compiling sass into CSS you have s</span> </p>
<p><span data-start="674.16" data-end="677.459">CSS which we've been using here and it's</span> <span data-start="677.459" data-end="681.6">kind of like a superset of CSS most of</span> <span data-start="681.6" data-end="683.699">the things are very similar and so we</span> <span data-start="683.699" data-end="688.29">want to take the data from the SCSS that</span> <span data-start="688.29" data-end="689.279">looks kind of like this we have a</span> <span data-start="689.279" data-end="692.37">variable that we're setting to blue so</span> <span data-start="692.37" data-end="695.249">we're saying blue is that 3 b.b number</span> <span data-start="695.249" data-end="697.29">and then we have a rule that uses the</span> <span data-start="697.29" data-end="700.62">variable and that's not valid CSS at</span> <span data-start="700.62" data-end="704.54">least until CSS level for Nazi SS for</span> </p>
<p><span data-start="704.54" data-end="709.23">CSS unburdened level for totally</span> <span data-start="709.23" data-end="716.1">different guys come on the yeah so this</span> <span data-start="716.1" data-end="717.87">is not valid CSS we couldn't compile</span> <span data-start="717.87" data-end="719.22">this we couldn't turn this back into a</span> <span data-start="719.22" data-end="722.1">string and have this actually work in</span> <span data-start="722.1" data-end="725.04">any browser what we want to do is reduce</span> <span data-start="725.04" data-end="727.319">the variables away so in this case we'd</span> <span data-start="727.319" data-end="729.499">say find any place that has the value</span> <span data-start="729.499" data-end="732.269">where the type is a variable and the</span> <span data-start="732.269" data-end="734.22">name is blue and that'd be pretty easy</span> <span data-start="734.22" data-end="736.019">and then just replace it with the value</span> <span data-start="736.019" data-end="737.85">of the blue variable and you might be</span> <span data-start="737.85" data-end="739.49">able to do that in your head very easily</span> <span data-start="739.49" data-end="742.649">it's somewhat complicated in code we</span> <span data-start="742.649" data-end="743.97">won't actually have to do that and so</span> <span data-start="743.97" data-end="746.129">you end up with this and this ends up</span> <span data-start="746.129" data-end="748.85">being actually a completely valid CSS</span> <span data-start="748.85" data-end="753">syntax tree we just have a rule and the</span> <span data-start="753" data-end="754.68">name is the color and the value is a</span> <span data-start="754.68" data-end="758.579">legit color and we can just compile that</span> <span data-start="758.579" data-end="760.68">single rule into CSS and there's no</span> <span data-start="760.68" data-end="762.99">problem and that's valid one hundred</span> <span data-start="762.99" data-end="765.269">percent valid CSS you could even use the</span> </p>
<p><span data-start="765.269" data-end="769.23">SAS lexer backwards not that lectures</span> <span data-start="769.23" data-end="771.899">work that way but because SCSS works</span> <span data-start="771.899" data-end="773.759">that way you could turn it back into</span> <span data-start="773.759" data-end="776.85">what the SAS the SCSS representation of</span> <span data-start="776.85" data-end="778.92">this would be and would be completely</span> <span data-start="778.92" data-end="781.86">valid CSS in this case and what you</span> <span data-start="781.86" data-end="785.16">would do is just do that on the most</span> <span data-start="785.16" data-end="786.839">specific node and then you'd go up and</span> <span data-start="786.839" data-end="788.55">you do that on those nodes and then you</span> <span data-start="788.55" data-end="796.61">go up and you go up and you compile so I</span> <span data-start="796.61" data-end="800.79">lost too much recursion everybody's Fred</span> <span data-start="800.79" data-end="801.99">so you're</span> <span data-start="801.99" data-end="803.94">shin comes from this and you're able to</span> <span data-start="803.94" data-end="806.73">output this and you do that recursively</span> <span data-start="806.73" data-end="808.47">leaves the trunk and I say leaves your</span> <span data-start="808.47" data-end="811.26">trunk because they're like there's a</span> <span data-start="811.26" data-end="812.64">split somewhere in the middle of the</span> <span data-start="812.64" data-end="814.92">room of people who say that that's up</span> <span data-start="814.92" data-end="816.93">the tree and there are people would say</span> <span data-start="816.93" data-end="818.64">that that's down the tree and I think</span> <span data-start="818.64" data-end="821.19">it's probably down the tree but because</span> <span data-start="821.19" data-end="824.399">you're going leaves the trunk but</span> <span data-start="824.399" data-end="826.47">whenever you represent a sin texture you</span> <span data-start="826.47" data-end="829.38">actually draw it upside down and so it's</span> <span data-start="829.38" data-end="832.02">actually more like stalactites or</span> <span data-start="832.02" data-end="833.279">something and we should just change</span> <span data-start="833.279" data-end="837.839">abstract syntax stalactites from now on</span> <span data-start="837.839" data-end="840.959">if you would or arbitrary syntax</span> <span data-start="840.959" data-end="846.12">stalactites would work for me anyways so</span> <span data-start="846.12" data-end="847.02">we take something that looks like this</span> <span data-start="847.02" data-end="849.06">we put it into the structured data you</span> <span data-start="849.06" data-end="850.17">don't actually have to read that but</span> <span data-start="850.17" data-end="852.209">this is you know some arbitrary way of</span> <span data-start="852.209" data-end="853.92">saying there are declarations with rules</span> <span data-start="853.92" data-end="855.81">inside of them and we know what they all</span> <span data-start="855.81" data-end="859.74">mean and it's just big and ugly and we</span> <span data-start="859.74" data-end="861.959">reduce that to something that is valid</span> <span data-start="861.959" data-end="864.69">for CSS and you want to know what's</span> <span data-start="864.69" data-end="866.31">going on here but we no longer have</span> <span data-start="866.31" data-end="867.87">variables in there we no longer have</span> <span data-start="867.87" data-end="870.45">nested structures it's all a valid tree</span> <span data-start="870.45" data-end="871.89">and then we're able to just turn that</span> <span data-start="871.89" data-end="875.25">back into text again so it takes one</span> <span data-start="875.25" data-end="878.279">type of text converts it into a known</span> <span data-start="878.279" data-end="880.77">but arbitrary data format and then it</span> <span data-start="880.77" data-end="883.74">converts that data into a different but</span> <span data-start="883.74" data-end="886.86">arbitrary and known data format and it</span> <span data-start="886.86" data-end="888.75">converts that back to text so that was</span> <span data-start="888.75" data-end="890.94">like a very long drawn-out way of saying</span> <span data-start="890.94" data-end="893.329">that it takes text turns it into data</span> <span data-start="893.329" data-end="895.92">fiddles with it and then turns it back</span> <span data-start="895.92" data-end="899.279">into text so there's a very</span> <span data-start="899.279" data-end="901.86">sophisticated graph on seeing that more</span> <span data-start="901.86" data-end="905.67">apropos to the title we have our</span> <span data-start="905.67" data-end="909.3">digestion system I threw in some some</span> <span data-start="909.3" data-end="912.45">buzz words streams I don't know what</span> <span data-start="912.45" data-end="914.64">that that would be I guess you pipe</span> <span data-start="914.64" data-end="921.3">saliva into standard in anyways uh this</span> <span data-start="921.3" data-end="924.36">is this is really just a silly metaphor</span> <span data-start="924.36" data-end="926.52">the only hard part is actually there in</span> <span data-start="926.52" data-end="929.04">the middle we're pretty good at parsing</span> <span data-start="929.04" data-end="930.42">you can use parts of expression</span> <span data-start="930.42" data-end="933.27">generators were pretty good at even</span> <span data-start="933.27" data-end="935.79">knowing how to define languages as</span> <span data-start="935.79" data-end="939.48">context-free grammars or regular</span> <span data-start="939.48" data-end="942.24">languages there's this whole automata</span> <span data-start="942.24" data-end="944.37">theory on all that stuff so we're pretty</span> <span data-start="944.37" data-end="946.23">good at taking text and turning into</span> <span data-start="946.23" data-end="948.42">data very pretty good at turning data</span> <span data-start="948.42" data-end="949.89">and putting it to text is just the</span> <span data-start="949.89" data-end="954.3">reverse so the the magic of SAS actually</span> <span data-start="954.3" data-end="956.46">you know other than some speed things</span> <span data-start="956.46" data-end="959.43">lives in in the data one today to do</span> <span data-start="959.43" data-end="964.35">data to conversion and it's it's</span> <span data-start="964.35" data-end="966.78">interesting how they do some of that</span> <span data-start="966.78" data-end="969.42">stuff that's not really the point so I</span> <span data-start="969.42" data-end="971.22">want to teach you what you can do with</span> <span data-start="971.22" data-end="973.92">it data one can be interesting just</span> <span data-start="973.92" data-end="977.43">reading the data can be pretty</span> <span data-start="977.43" data-end="979.8">eye-opening so data one would be that</span> <span data-start="979.8" data-end="981.48">data that once we turned it into a</span> <span data-start="981.48" data-end="985.44">structure that represented our SAS what</span> <span data-start="985.44" data-end="987.03">could we what information could we get</span> <span data-start="987.03" data-end="989.91">from it we could count how often we use</span> <span data-start="989.91" data-end="992.58">variables or we could change them before</span> <span data-start="992.58" data-end="995.13">they ever get used we could move rules</span> <span data-start="995.13" data-end="996.69">around we could reduce things we could</span> <span data-start="996.69" data-end="1001.34">lint we could change the output formats</span> <span data-start="1001.34" data-end="1003.05">we could output to multiple formats</span> <span data-start="1003.05" data-end="1004.97">there's a lot of work you can do by</span> <span data-start="1004.97" data-end="1007.94">having your styles as data and it's</span> <span data-start="1007.94" data-end="1012.29">super cool to me so as long as your data</span> <span data-start="1012.29" data-end="1014.81">is valid at all points it doesn't matter</span> <span data-start="1014.81" data-end="1016.43">you can send it back in so you could</span> <span data-start="1016.43" data-end="1019.64">take in text turn into data throw that</span> <span data-start="1019.64" data-end="1021.77">data away create your own whole new data</span> <span data-start="1021.77" data-end="1024.14">and then compile that to CSS and that's</span> <span data-start="1024.14" data-end="1025.91">fine just wouldn't have any bearing on</span> <span data-start="1025.91" data-end="1029.45">what you put in and that's that's a-ok</span> <span data-start="1029.45" data-end="1031.97">thing I guess sometimes so I wrote this</span> <span data-start="1031.97" data-end="1038.45">a very important modifier of rules and</span> <span data-start="1038.45" data-end="1041.57">so you would pass this in as a filter to</span> <span data-start="1041.57" data-end="1046.01">your ast so your data comes in and what</span> <span data-start="1046.01" data-end="1048.59">it does is says find me all the rules so</span> <span data-start="1048.59" data-end="1050.12">you don't want to find the selectors you</span> <span data-start="1050.12" data-end="1051.77">don't want to find variable names all</span> <span data-start="1051.77" data-end="1053.33">you want to say is anywhere where</span> <span data-start="1053.33" data-end="1057.23">there's a rule that has a value let's</span> <span data-start="1057.23" data-end="1059.24">check that out so we'll say if it has a</span> <span data-start="1059.24" data-end="1064.34">value say the value plus important so we</span> <span data-start="1064.34" data-end="1066.8">save every value as important and then</span> <span data-start="1066.8" data-end="1069.02">write it back to the tree I</span> <span data-start="1069.02" data-end="1070.55">then recursively do that so we call</span> <span data-start="1070.55" data-end="1073.19">ourselves over and over so we go all the</span> <span data-start="1073.19" data-end="1074.87">way down and hit every single rule in</span> <span data-start="1074.87" data-end="1076.94">our entire CSS file and then just return</span> <span data-start="1076.94" data-end="1079.43">all that and then we compile that and</span> <span data-start="1079.43" data-end="1081.56">now every single one of our rules is</span> <span data-start="1081.56" data-end="1084.44">important in the output and you didn't</span> <span data-start="1084.44" data-end="1086.6">have to write those by hand so this will</span> <span data-start="1086.6" data-end="1088.16">save you a lot of time doing what your</span> <span data-start="1088.16" data-end="1091.97">are going to do anyways which was</span> <span data-start="1091.97" data-end="1093.56">probably just add important to</span> <span data-start="1093.56" data-end="1095.95">everything luckily we can do the reverse</span> <span data-start="1095.95" data-end="1101.09">the undo intern work AST modification</span> <span data-start="1101.09" data-end="1104.15">tool so we go through every single node</span> <span data-start="1104.15" data-end="1106.04">we find if it's a rule we say if it</span> <span data-start="1106.04" data-end="1108.5">matches important return null so delete</span> <span data-start="1108.5" data-end="1111.62">the rule entirely don't turn it</span> <span data-start="1111.62" data-end="1113.45">unimportant just say if this is</span> <span data-start="1113.45" data-end="1116.77">important then it should die forever</span> <span data-start="1116.77" data-end="1120.37">which is another valid opinion to have</span> <span data-start="1120.37" data-end="1124.25">outputs may vary and that that type of</span> <span data-start="1124.25" data-end="1125.72">logic works in every preprocessor</span> <span data-start="1125.72" data-end="1127.25">obviously that code will not work in</span> <span data-start="1127.25" data-end="1128.69">every preprocessor everyone has</span> <span data-start="1128.69" data-end="1130.82">different ways of storing nodes and</span> <span data-start="1130.82" data-end="1134.03">values and things like that rework is</span> <span data-start="1134.03" data-end="1138.77">one by TJ vision media who has five or</span> <span data-start="1138.77" data-end="1142.97">six hundred modules on github but it is</span> <span data-start="1142.97" data-end="1147.2">made specifically for AST hacking he</span> <span data-start="1147.2" data-end="1150.05">actually ships it with no features it</span> <span data-start="1150.05" data-end="1152.78">literally just takes stuff in turns it</span> <span data-start="1152.78" data-end="1154.19">to data and then turns that data back</span> <span data-start="1154.19" data-end="1156.53">into CSS and then it's up to you to</span> <span data-start="1156.53" data-end="1158.84">stick stuff in the middle so you might</span> <span data-start="1158.84" data-end="1160.58">be familiar with the term middleware so</span> <span data-start="1160.58" data-end="1162.32">you write a bunch of little middleware</span> <span data-start="1162.32" data-end="1166.07">pieces that change nodes around and you</span> <span data-start="1166.07" data-end="1168.08">say if I want to add variables I just</span> <span data-start="1168.08" data-end="1170.6">add one little piece this is variables</span> <span data-start="1170.6" data-end="1171.77">and that's the only thing I want to use</span> <span data-start="1171.77" data-end="1173.96">in my preprocessor so I'm not going to</span> <span data-start="1173.96" data-end="1175.49">add it nesting and I'm not going to add</span> <span data-start="1175.49" data-end="1181.76">in gradients or a variable one of the</span> <span data-start="1181.76" data-end="1183.71">pre vendor prefixes all that kind of</span> <span data-start="1183.71" data-end="1185.18">stuff you don't need them so don't add</span> <span data-start="1185.18" data-end="1187.19">them in or you could do totally custom</span> <span data-start="1187.19" data-end="1189.53">stuff so a little more real world a</span> <span data-start="1189.53" data-end="1194.93">problem that I actually ran into in my</span> <span data-start="1194.93" data-end="1199.07">day to day work is that compilation of</span> <span data-start="1199.07" data-end="1202.429">styles is fast you can take a SAS style</span> <span data-start="1202.429" data-end="1205.909">eat or stylus in the case that I that I</span> <span data-start="1205.909" data-end="1208.129">originally had and you can compile</span> </p>
<p><span data-start="1208.129" data-end="1210.259">Styles pretty quickly so it's rarely the</span> <span data-start="1210.259" data-end="1213.83">bottleneck in anyone's build step if</span> <span data-start="1213.83" data-end="1215.659">they can get slow some people will move</span> <span data-start="1215.659" data-end="1218.24">to lib sass for that kind of thing the</span> <span data-start="1218.24" data-end="1220.1">asterisk there is until you want to hook</span> <span data-start="1220.1" data-end="1223.429">it up to a change event so if you hooked</span> <span data-start="1223.429" data-end="1225.86">up the color picker to a change event</span> <span data-start="1225.86" data-end="1228.499">and said on change you know 60 times a</span> <span data-start="1228.499" data-end="1231.35">second or whatever that that can do go</span> <span data-start="1231.35" data-end="1233.36">back to the server recompile all my</span> <span data-start="1233.36" data-end="1235.61">Styles with the new value and set this</span> <span data-start="1235.61" data-end="1237.769">variable just to this this new value</span> <span data-start="1237.769" data-end="1239.509">that I have on the change thing and then</span> <span data-start="1239.509" data-end="1241.22">send all that back up delete all the</span> <span data-start="1241.22" data-end="1243.559">styles and put all the new ones in that</span> <span data-start="1243.559" data-end="1247.639">would never work and luckily now that</span> <span data-start="1247.639" data-end="1249.11">you know about a STS you could fix that</span> <span data-start="1249.11" data-end="1252.23">problem so in something like a theme</span> <span data-start="1252.23" data-end="1254.269">builder you would want a size slider or</span> <span data-start="1254.269" data-end="1255.769">color picker to do all this stuff in</span> <span data-start="1255.769" data-end="1258.019">real time so the only way we can avoid</span> <span data-start="1258.019" data-end="1261.139">the time it takes to recompile is to not</span> <span data-start="1261.139" data-end="1263.99">recompile and luckily we can capture</span> <span data-start="1263.99" data-end="1266.99">that data at the data level and use that</span> <span data-start="1266.99" data-end="1269.809">to our advantage and still only ever</span> <span data-start="1269.809" data-end="1272.6">write the SAS or the stylus of the this</span> <span data-start="1272.6" data-end="1276.759">the rework that we want to write so I</span> <span data-start="1276.759" data-end="1280.61">will open up a demo for you this is a</span> <span data-start="1280.61" data-end="1283.7">fun little page it's got a pun for for</span> </p>
<p><span data-start="1283.7" data-end="1287.929">Jed leaf and tree just to point that out</span> <span data-start="1287.929" data-end="1294.169">for everyone thank you so what we have</span> <span data-start="1294.169" data-end="1296.929">here is a pretty simple page I put it</span> <span data-start="1296.929" data-end="1299.48">together it's an express app it's if you</span> <span data-start="1299.48" data-end="1302.09">saw the first slide I had a link to it</span> <span data-start="1302.09" data-end="1303.35">but you can get it will be on the left</span> <span data-start="1303.35" data-end="1305.869">side too and you can run it from from</span> <span data-start="1305.869" data-end="1310.879">github so what we have first is I'll</span> <span data-start="1310.879" data-end="1318.73">pull up a my CSS my CSS is my personal</span> <span data-start="1318.73" data-end="1321.769">compiler for for CSS all I did was add</span> <span data-start="1321.769" data-end="1324.529">variables i use rework to do this and so</span> <span data-start="1324.529" data-end="1327.74">i add this one little guy here that says</span> </p>
<p><span data-start="1327.74" data-end="1330.619">VAR and then I pass it a variable name</span> <span data-start="1330.619" data-end="1333.74">and then in in the compilation step it</span> <span data-start="1333.74" data-end="1335.99">adds in my actual variables which</span> <span data-start="1335.99" data-end="1340.16">I put in in my server I don't know why I</span> <span data-start="1340.16" data-end="1342.17">did that but that's where it is so I</span> <span data-start="1342.17" data-end="1344.179">take these and I essentially replace</span> <span data-start="1344.179" data-end="1348.38">those so I wrote a a a middleware</span> <span data-start="1348.38" data-end="1350.66">component to rework that just goes in</span> <span data-start="1350.66" data-end="1353.57">and replaces those variables with the</span> <span data-start="1353.57" data-end="1355.07">actual values and that's pretty simple</span> <span data-start="1355.07" data-end="1359.2">and so if you come here I can show you</span> <span data-start="1359.2" data-end="1361.91">the output and you'll see that there are</span> <span data-start="1361.91" data-end="1364.46">actual background colors and there are</span> <span data-start="1364.46" data-end="1368.059">actual widths and and all this kind of</span> <span data-start="1368.059" data-end="1371.72">stuff so it's real it happens it's fun</span> <span data-start="1371.72" data-end="1375.92">and it works and yeah so some things</span> <span data-start="1375.92" data-end="1378.38">that dev tools is really good at is</span> <span data-start="1378.38" data-end="1382.07">saying hey I know where this rule is</span> <span data-start="1382.07" data-end="1384.86">working on my page I can go and say I</span> <span data-start="1384.86" data-end="1386.179">can right click on something and say</span> <span data-start="1386.179" data-end="1388.4">what styles apply to this element but</span> <span data-start="1388.4" data-end="1389.66">you don't actually have a lot of insight</span> <span data-start="1389.66" data-end="1393.32">into how your sass variables map up two</span> <span data-start="1393.32" data-end="1395.69">things on pages you don't have that it's</span> <span data-start="1395.69" data-end="1397.4">compiled to CSS before it ever gets to</span> <span data-start="1397.4" data-end="1399.41">the browser so we have that information</span> <span data-start="1399.41" data-end="1402.14">that's what I also did was I grabbed the</span> </p>
<p><span data-start="1402.14" data-end="1404.6">AST stage and I flipped the AST on its</span> <span data-start="1404.6" data-end="1407.66">head so you can take your variables and</span> <span data-start="1407.66" data-end="1410">you can say which selectors do they</span> <span data-start="1410" data-end="1413.51">apply to and which rules work on those</span> <span data-start="1413.51" data-end="1415.76">selectors based on that variable so you</span> <span data-start="1415.76" data-end="1418.21">might say if bgcolor ends up being black</span> <span data-start="1418.21" data-end="1420.98">then you would say it would output in</span> <span data-start="1420.98" data-end="1424.179">the end output that the body HTML</span> <span data-start="1424.179" data-end="1427.48">bracket background color colon black</span> <span data-start="1427.48" data-end="1429.59">close bracket right and that would be</span> <span data-start="1429.59" data-end="1431.27">the rule that's generated from a black</span> </p>
<p><span data-start="1431.27" data-end="1434.03">BG color and we have this data available</span> <span data-start="1434.03" data-end="1436.46">to us as JSON and if I change anything</span> <span data-start="1436.46" data-end="1438.95">in our CSS file this automatically just</span> <span data-start="1438.95" data-end="1440.45">gets changed it's not something I have</span> <span data-start="1440.45" data-end="1442.52">to maintain separately it's just</span> <span data-start="1442.52" data-end="1445.46">completely generated from the ast of our</span> <span data-start="1445.46" data-end="1447.77">stuff and so I have a few things here it</span> <span data-start="1447.77" data-end="1450.95">says to next to BG color and I can hover</span> <span data-start="1450.95" data-end="1453.44">over it and says the BG color of the</span> </p>
<p><span data-start="1453.44" data-end="1455.929">HTML element which is the total wrapping</span> <span data-start="1455.929" data-end="1457.94">element the body which has a margin on</span> <span data-start="1457.94" data-end="1461.03">it comes down to to where the the margin</span> <span data-start="1461.03" data-end="1466.01">is and then the font color of leaf them</span> <span data-start="1466.01" data-end="1467.45">alone is the same as the background</span> <span data-start="1467.45" data-end="1469.43">color and so we see</span> <span data-start="1469.43" data-end="1472.37">that we actually have two rules where</span> <span data-start="1472.37" data-end="1474.44">it's used it shows up three times on the</span> <span data-start="1474.44" data-end="1475.88">page and we can actually position</span> <span data-start="1475.88" data-end="1477.86">something over every time we see this</span> <span data-start="1477.86" data-end="1482">variable we can also come in here grab a</span> <span data-start="1482" data-end="1484.76">pick color picker and change these in</span> <span data-start="1484.76" data-end="1488.48">real time so we can have you know 60</span> <span data-start="1488.48" data-end="1490.75">frame per second recompilation of styles</span> <span data-start="1490.75" data-end="1494.09">because we know exactly which elements</span> <span data-start="1494.09" data-end="1496.4">are affected by this we don't have to go</span> <span data-start="1496.4" data-end="1498.53">back to the server recompile you'll</span> <span data-start="1498.53" data-end="1500.33">notice the the text is changing at the</span> <span data-start="1500.33" data-end="1504.26">same time as as the background there we</span> <span data-start="1504.26" data-end="1506.42">can actually just pop into here and</span> <span data-start="1506.42" data-end="1509.75">check I just inject a style element with</span> <span data-start="1509.75" data-end="1513.28">just that rule in it and that rule says</span> <span data-start="1513.28" data-end="1516.38">the body and the container sub-header</span> <span data-start="1516.38" data-end="1518.63">now have this new color and it just</span> <span data-start="1518.63" data-end="1521.33">overrides our current styles so that's</span> <span data-start="1521.33" data-end="1525.29">pretty nifty and that's information you</span> <span data-start="1525.29" data-end="1527.63">could never get from devtools until they</span> <span data-start="1527.63" data-end="1529.25">have deeper integrations with this stuff</span> <span data-start="1529.25" data-end="1531.2">you can also do fun stuff of border</span> <span data-start="1531.2" data-end="1533.39">radius I like this is is this trippy it</span> <span data-start="1533.39" data-end="1536.42">right here ready for this oh there's CSS</span> <span data-start="1536.42" data-end="1542.77">for you this is my favorite one just</span> <span data-start="1542.77" data-end="1544.79">that's going to translate well in a</span> <span data-start="1544.79" data-end="1549.35">slide deck anyways that's actually just</span> <span data-start="1549.35" data-end="1553.34">about all I have does anyone have</span> <span data-start="1553.34" data-end="1571.73">questions</span> </p>
</section>

<!-- div#container ends -->
</div>

<img alt="The End" id="fin" src="../images/fin.jpg">

<script>
/*eslint-disable */
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google-translate');
}
/* eslint-enable */
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="../js/main.js"></script>

</body>

</html>
