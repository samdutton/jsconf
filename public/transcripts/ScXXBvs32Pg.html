<section>
<p><span data-start="16.22" data-end="18.35">so I'm gonna be talking about</span> <span data-start="18.35" data-end="22.859">performance user interfaces using CSS</span> <span data-start="22.859" data-end="24.42">magic so kind of trying to take that</span> <span data-start="24.42" data-end="27.33">magic of CSS and trying to explain what</span> <span data-start="27.33" data-end="29.21">is actually going on and how you can</span> <span data-start="29.21" data-end="31.7">make and use the dev tools to measure</span> <span data-start="31.7" data-end="34.59">performance and define where performance</span> <span data-start="34.59" data-end="36.21">bottlenecks are etc and find issues</span> <span data-start="36.21" data-end="37.739">using the different tools we have</span> <span data-start="37.739" data-end="41.129">available so yeah I'm Ryan Sedin from</span> <span data-start="41.129" data-end="44.28">Melbourne Australia I did a fun little</span> <span data-start="44.28" data-end="46.739">animation they're going to call play</span> <span data-start="46.739" data-end="49.17">with it works on touch as well and just</span> <span data-start="49.17" data-end="51.809">to show that like performance is more</span> <span data-start="51.809" data-end="54.87">than just about HTTP it's about the user</span> <span data-start="54.87" data-end="57.69">experience and also about how fast you</span> <span data-start="57.69" data-end="59.609">can paint to the screen so there's sort</span> <span data-start="59.609" data-end="62.129">of two sides to it I'm mostly going to</span> <span data-start="62.129" data-end="64.229">like the the technical side of it but</span> <span data-start="64.229" data-end="65.22">i'll cover slightly some of the</span> <span data-start="65.22" data-end="69.81">animation side so animation can improve</span> <span data-start="69.81" data-end="71.58">performance whether you're a technical</span> <span data-start="71.58" data-end="73.86">person and you like you like you look at</span> <span data-start="73.86" data-end="75.27">the animation you think I this is really</span> <span data-start="75.27" data-end="76.92">well executed or you're just a general</span> <span data-start="76.92" data-end="78.33">user and you sort of get some delight</span> <span data-start="78.33" data-end="81.96">out of it well executed animation it</span> <span data-start="81.96" data-end="84.15">really instills the perception of like a</span> <span data-start="84.15" data-end="86.25">really well performing application well</span> <span data-start="86.25" data-end="88.799">that's on the web and mobile and it's</span> <span data-start="88.799" data-end="91.86">not the bad old days of 22nd transitions</span> <span data-start="91.86" data-end="95.36">and flash this is about like to enhance</span> <span data-start="95.36" data-end="98.939">the animations and the user experience a</span> <span data-start="98.939" data-end="100.71">really great example that I've seen is</span> <span data-start="100.71" data-end="104.31">the stripe check out page I'm going to</span> </p>
<p><span data-start="104.31" data-end="106.14">Adam Atticus there you can see that</span> <span data-start="106.14" data-end="107.549">comes in really nicely and it looks so</span> <span data-start="107.549" data-end="108.96">really cool and how everything sort of</span> <span data-start="108.96" data-end="110.43">interacts and like sort of like it's got</span> <span data-start="110.43" data-end="114.42">a pseudo physics pace set up um necron</span> <span data-start="114.42" data-end="115.649">it looks really perform it and looks</span> <span data-start="115.649" data-end="117.84">like that it's like a really nice user</span> <span data-start="117.84" data-end="120.75">experience to use so how could you do</span> <span data-start="120.75" data-end="124.469">this yourself a not sure how strive did</span> <span data-start="124.469" data-end="125.79">a technically themselves but there is a</span> <span data-start="125.79" data-end="128.55">couple tools that I've seen one called</span> <span data-start="128.55" data-end="130.619">bass chairs and that allows you to do is</span> <span data-start="130.619" data-end="131.97">sort of like pseudo based physics</span> <span data-start="131.97" data-end="133.98">animation so you can do like Springs</span> <span data-start="133.98" data-end="136.11">staff interferes with each other and you</span> <span data-start="136.11" data-end="137.58">get that sort of nice spring emotion</span> <span data-start="137.58" data-end="140.58">natural sort of movement in your</span> <span data-start="140.58" data-end="143.519">application and the web is capable of</span> <span data-start="143.519" data-end="144.989">native performance I ain't using that</span> <span data-start="144.989" data-end="146.459">word Nettie's performance but they've</span> <span data-start="146.459" data-end="148.849">sort of set the bar of what users expect</span> <span data-start="148.849" data-end="150.959">but it's a lot harder on the web because</span> <span data-start="150.959" data-end="152.31">it's really easy to degrade performance</span> <span data-start="152.31" data-end="157.29">and not no way so that's kind of</span> <span data-start="157.29" data-end="158.549">animation side so I'm going to go into</span> <span data-start="158.549" data-end="161.129">sort of like a case study this is like a</span> <span data-start="161.129" data-end="163.17">little project I built and we had a</span> <span data-start="163.17" data-end="164.31">performance issue with it and I couldn't</span> <span data-start="164.31" data-end="165.69">figure out what so sort of like my</span> <span data-start="165.69" data-end="167.16">journey and how I discovered what was</span> <span data-start="167.16" data-end="168.9">going on and sort of what the browser</span> <span data-start="168.9" data-end="172.349">does so I read this library called</span> <span data-start="172.349" data-end="174.09">scroll this view so just be too</span> <span data-start="174.09" data-end="175.65">background on it it's kind of like a put</span> <span data-start="175.65" data-end="177.84">the idea was a performance scrolling</span> <span data-start="177.84" data-end="180.72">library it's not like I scroller doesn't</span> <span data-start="180.72" data-end="182.64">do like the bathroom stuff but what it</span> <span data-start="182.64" data-end="186.569">does is it basically works like in iOS</span> <span data-start="186.569" data-end="188.18">development they've got the UI tableview</span> <span data-start="188.18" data-end="191.01">essentially it'll display as many cells</span> <span data-start="191.01" data-end="192.569">that needs to to fit the viewport and</span> <span data-start="192.569" data-end="195.03">then only a few more either side and as</span> <span data-start="195.03" data-end="196.94">you scroll it sort of reorders the cells</span> <span data-start="196.94" data-end="199.349">and I'll show you an animation of that</span> <span data-start="199.349" data-end="202.349">second mi own uses the flexbox order</span> <span data-start="202.349" data-end="204.09">property so rather than using like</span> <span data-start="204.09" data-end="206.419">transformed to or position up to loop to</span> <span data-start="206.419" data-end="209.099">reposition an element or even ripping</span> <span data-start="209.099" data-end="210.599">out of the dolmen replacing it down the</span> <span data-start="210.599" data-end="212.849">bottom we can rely on the algorithm that</span> <span data-start="212.849" data-end="215.639">flexbox has and this has had more</span> <span data-start="215.639" data-end="217.38">benefits where I can have variable</span> <span data-start="217.38" data-end="219.45">height cells so a lot of those a lot of</span> <span data-start="219.45" data-end="221.01">the scrolling values you'll see that I</span> <span data-start="221.01" data-end="223.169">always have a fixed fight and with the</span> <span data-start="223.169" data-end="225.84">flexi-box order property you can you can</span> <span data-start="225.84" data-end="229.34">do some really cool stuff this is a</span> <span data-start="229.34" data-end="233.73">animated gif you can see I this is a</span> <span data-start="233.73" data-end="235.319">chrome tracing so this is like a really</span> <span data-start="235.319" data-end="237.93">low level tool but more importantly I</span> <span data-start="237.93" data-end="238.799">just wanted to show like how the</span> <span data-start="238.799" data-end="241.799">scrolling work so you can see up here as</span> </p>
<p><span data-start="241.799" data-end="244.379">I scroll the cells move down bottom here</span> <span data-start="244.379" data-end="246.239">it's kind of replacing and that's the</span> <span data-start="246.239" data-end="248.04">flexbox order property being changed on</span> <span data-start="248.04" data-end="249.329">those elements and so look this</span> <span data-start="249.329" data-end="251.16">experience painting that's kind of like</span> <span data-start="251.16" data-end="253.65">a 3d view so that's the scroll container</span> <span data-start="253.65" data-end="255.54">and that's like the browser window you</span> <span data-start="255.54" data-end="257.699">see it gives you like a frame-by-frame</span> <span data-start="257.699" data-end="259.199">look at what's going on in the browser</span> <span data-start="259.199" data-end="260.97">but it was a nice way to demonstrate</span> <span data-start="260.97" data-end="263.849">what it's actually doing I wrote an</span> <span data-start="263.849" data-end="265.53">article about this so you can check out</span> <span data-start="265.53" data-end="267.45">my blog the CSS dinger if you want to</span> <span data-start="267.45" data-end="272.7">have a look and there was a problem so</span> <span data-start="272.7" data-end="275.45">let me actually show you a live demo of</span> <span data-start="275.45" data-end="279.87">it here so you can see the the scrolling</span> <span data-start="279.87" data-end="281.79">here I've got like a list item in here</span> <span data-start="281.79" data-end="284.13">so this initially has 20 items but to</span> <span data-start="284.13" data-end="286.11">just feel the viewport its renders 8</span> <span data-start="286.11" data-end="288.39">list items and you can see I put the</span> <span data-start="288.39" data-end="290.69">order property on there so as I scroll</span> <span data-start="290.69" data-end="293.31">and see that adjusts and now that's down</span> <span data-start="293.31" data-end="294.57">to bottom so it's going to disagree</span> <span data-start="294.57" data-end="296.13">ordering as you go and just adds up</span> <span data-start="296.13" data-end="297.3">adding to the top so you keep that</span> <span data-start="297.3" data-end="298.98">scroll position so you can scroll</span> <span data-start="298.98" data-end="302.1">through a lot of stuffs and it works</span> <span data-start="302.1" data-end="308.61">pretty well so it doesn't sales and</span> <span data-start="308.61" data-end="310.59">performance problem with it so as I</span> <span data-start="310.59" data-end="311.79">showed you there it works pretty well it</span> <span data-start="311.79" data-end="313.83">works fine and good example working at</span> <span data-start="313.83" data-end="315.93">mobile and it works well so as you like</span> <span data-start="315.93" data-end="317.61">normal as a user that goes through their</span> </p>
<p><span data-start="317.61" data-end="319.32">Facebook feed or Twitter feed a sort of</span> <span data-start="319.32" data-end="322.41">scroll at a steady pace but when you</span> <span data-start="322.41" data-end="323.52">start to do high-velocity solar</span> <span data-start="323.52" data-end="324.87">scrolling so you get to the bottom of</span> <span data-start="324.87" data-end="325.74">the list and then you want to scroll</span> <span data-start="325.74" data-end="327.99">really quickly the top and you build</span> <span data-start="327.99" data-end="330.78">momentum of the scroll the screen starts</span> <span data-start="330.78" data-end="332.7">like whiting up I see who they like it</span> <span data-start="332.7" data-end="333.87">just goes blank and doesn't render</span> <span data-start="333.87" data-end="337.89">anything and I didn't know why so I'll</span> <span data-start="337.89" data-end="341.25">go back and I'll show you demo so if i</span> <span data-start="341.25" data-end="344.4">drag the scroll bar you can see it's</span> <span data-start="344.4" data-end="346.05">kind of just wiped out there and not</span> <span data-start="346.05" data-end="347.16">sure why if i scroll a little bit</span> <span data-start="347.16" data-end="349.44">suddenly repainting it and it's kind of</span> <span data-start="349.44" data-end="352.02">confusing why that's happened there's</span> <span data-start="352.02" data-end="353.73">like steady pace it's fine but then when</span> <span data-start="353.73" data-end="355.35">you start like really getting some</span> <span data-start="355.35" data-end="357.24">movement happening it sort of like</span> <span data-start="357.24" data-end="360.27">renders what's that and something is</span> <span data-start="360.27" data-end="366.63">going on and that's animated gifs of</span> <span data-start="366.63" data-end="367.92">showing it so it's null scrolling and</span> <span data-start="367.92" data-end="369.24">then just drag it you can see you like</span> <span data-start="369.24" data-end="373.32">it just gets white with family so why is</span> <span data-start="373.32" data-end="376.5">that so to understand why we need to</span> <span data-start="376.5" data-end="378.96">sort of take a step back and understand</span> <span data-start="378.96" data-end="381.18">the performance the cost of changing its</span> </p>
<p><span data-start="381.18" data-end="384.18">CSS property there's a few things that</span> <span data-start="384.18" data-end="385.53">happen and ending on what's this is</span> <span data-start="385.53" data-end="386.73">probably you change different things</span> <span data-start="386.73" data-end="388.89">happen really good website you should</span> <span data-start="388.89" data-end="392.07">check out is CSS triggers calm so this</span> <span data-start="392.07" data-end="393.9">is basically like a nice little search</span> <span data-start="393.9" data-end="395.43">tool you can search recessive property</span> <span data-start="395.43" data-end="397.74">and a layout and tell you like this it</span> <span data-start="397.74" data-end="400.48">caused a paint that's caused a reflow</span> <span data-start="400.48" data-end="404.13">or does it just cause a composite and</span> <span data-start="404.13" data-end="405.94">looking up the order property</span> <span data-start="405.94" data-end="407.74">essentially order when you have you</span> <span data-start="407.74" data-end="409.54">change it update it it causes a reflow</span> <span data-start="409.54" data-end="411.22">and a paint which is expensive in the</span> <span data-start="411.22" data-end="413.74">browser and it if it needs to do a lot</span> <span data-start="413.74" data-end="416.88">then then some things can happen</span> <span data-start="416.88" data-end="419.05">essentially the only really safe</span> <span data-start="419.05" data-end="420.58">properties you can do we are updating a</span> <span data-start="420.58" data-end="424.23">lot transform so like scale rotate</span> <span data-start="424.23" data-end="427.09">translate and a past Atia there are only</span> <span data-start="427.09" data-end="429.31">really safe ones to do because what the</span> <span data-start="429.31" data-end="431.2">browser does that composite it to the</span> </p>
<p><span data-start="431.2" data-end="433.24">GPU and the GPU then handles that and</span> <span data-start="433.24" data-end="434.83">there's no sort of reflow your paints</span> <span data-start="434.83" data-end="436.89">happening and if you're translating</span> <span data-start="436.89" data-end="439.23">elements using those two properties</span> <span data-start="439.23" data-end="441.1">otherwise everything else is kind of</span> <span data-start="441.1" data-end="443.8">detrimental and will will degrade</span> <span data-start="443.8" data-end="447.58">performance and that is a screen grab</span> <span data-start="447.58" data-end="449.2">from the CSS triggers so you can see</span> <span data-start="449.2" data-end="452.08">like order on when it initializes and</span> <span data-start="452.08" data-end="453.49">went to updates the causes the layout</span> <span data-start="453.49" data-end="456.25">paint and composite and you kind of want</span> <span data-start="456.25" data-end="457.42">to stick to just properties of do</span> <span data-start="457.42" data-end="461.76">composites for a performance-based us</span> <span data-start="461.76" data-end="463.54">another side of it is knowing your</span> <span data-start="463.54" data-end="465.04">paints versus reflow so it's kind of</span> <span data-start="465.04" data-end="466.92">rudimentary knowledge of the browser</span> <span data-start="466.92" data-end="469.03">it's two different diets so a pain is</span> <span data-start="469.03" data-end="470.65">like a non geometric change so that's</span> <span data-start="470.65" data-end="472.24">when you change out the background color</span> <span data-start="472.24" data-end="474.1">or the background image something it</span> <span data-start="474.1" data-end="476.05">doesn't affect like the dimensions of</span> <span data-start="476.05" data-end="478.42">the page a reflow the other side so when</span> <span data-start="478.42" data-end="481.96">you affect the dimension so you change</span> <span data-start="481.96" data-end="484.57">the font size you change a margin got a</span> <span data-start="484.57" data-end="486.1">border etc anything that where the</span> <span data-start="486.1" data-end="488.02">browser needs to recalculate little</span> <span data-start="488.02" data-end="491.95">stuff is missing an example so encourage</span> <span data-start="491.95" data-end="494.14">so toggling like visibility that's just</span> <span data-start="494.14" data-end="496.33">the paint because it's not it's a non</span> <span data-start="496.33" data-end="499.12">geometric change whereas totaling the</span> <span data-start="499.12" data-end="500.86">font size will cause a paint in a reflow</span> <span data-start="500.86" data-end="504.4">so it is the reflow to calculate where</span> <span data-start="504.4" data-end="505.45">everything's position now because the</span> <span data-start="505.45" data-end="507.34">font size increased and then it needs to</span> <span data-start="507.34" data-end="510.4">paint it to the screen and then you can</span> <span data-start="510.4" data-end="511.78">also have properties where you access</span> <span data-start="511.78" data-end="513.76">where it forces the browser to do a</span> <span data-start="513.76" data-end="515.5">reflow to the browser probably</span> <span data-start="515.5" data-end="516.91">intelligent tries to queue up a lot of</span> <span data-start="516.91" data-end="518.88">this stuff for you but there's certain</span> <span data-start="518.88" data-end="521.2">bits are out has two black flush the</span> <span data-start="521.2" data-end="523.33">queue and it has to like cause a reflow</span> <span data-start="523.33" data-end="525.64">so one of those is like offset left so</span> <span data-start="525.64" data-end="527.47">you have to get the correct dimension</span> <span data-start="527.47" data-end="529.93">back otherwise the browser could be</span> <span data-start="529.93" data-end="531.13">lying to you so they need to cause a</span> <span data-start="531.13" data-end="533.65">tree slow so you kind of need casts all</span> <span data-start="533.65" data-end="535.29">those property</span> <span data-start="535.29" data-end="537.37">you can see here this is a screenshot</span> <span data-start="537.37" data-end="539.44">from the chrome timeline dev tools and</span> <span data-start="539.44" data-end="541.45">it kind of shows you what happened so</span> <span data-start="541.45" data-end="543.34">like you do it you do a change that the</span> <span data-start="543.34" data-end="544.75">function call happens it'll change to</span> <span data-start="544.75" data-end="547.93">recalculate the styles and then any of</span> <span data-start="547.93" data-end="549.64">the properties like wit pipe margin left</span> <span data-start="549.64" data-end="552.16">and top can cause a layout any of the</span> <span data-start="552.16" data-end="555.46">other properties in the green bar screen</span> <span data-start="555.46" data-end="557.59">bar here can cause I box-shadow border</span> <span data-start="557.59" data-end="560.08">radius those things that don't do a</span> <span data-start="560.08" data-end="561.22">geometric change and you can see you</span> <span data-start="561.22" data-end="563.02">lastly the composite layer which is like</span> <span data-start="563.02" data-end="565.39">transform and opacity it's like handled</span> <span data-start="565.39" data-end="570.04">by the GPU so that's really fast so one</span> <span data-start="570.04" data-end="571.39">of the key things you should do is</span> <span data-start="571.39" data-end="574.75">batting so you need to batch you read</span> <span data-start="574.75" data-end="576.31">and write so you'll want to read write</span> <span data-start="576.31" data-end="577.48">read write read by other words the</span> <span data-start="577.48" data-end="578.89">browser needs to reflow repaint real</span> <span data-start="578.89" data-end="580.42">slow the paint and you get that sort of</span> <span data-start="580.42" data-end="582.84">junk that a lot of people talk about and</span> <span data-start="582.84" data-end="585.94">that's it up so you want the only one</span> <span data-start="585.94" data-end="587.65">layout and paint it happen once per tick</span> <span data-start="587.65" data-end="590.71">so it's kind of like you will use</span> <span data-start="590.71" data-end="592.24">something like requestanimationframe so</span> <span data-start="592.24" data-end="594.88">that works that doesn't call back every</span> <span data-start="594.88" data-end="597.42">time the screen refreshes so the average</span> <span data-start="597.42" data-end="599.77">refresh rate my screen is like 60 Hertz</span> <span data-start="599.77" data-end="601.63">nuts without 60 frames a second come</span> <span data-start="601.63" data-end="603.4">from so I want to execute 60 times a</span> <span data-start="603.4" data-end="606.58">second so that way you can like queue up</span> <span data-start="606.58" data-end="607.93">a lot of stuff and have it happened fast</span> <span data-start="607.93" data-end="609.7">and it won't like make your app seems</span> <span data-start="609.7" data-end="611.77">slow because it's happening a lot but</span> <span data-start="611.77" data-end="613.839">you'll get like this is what they call</span> <span data-start="613.839" data-end="617.68">layout thrashing they're on a controller</span> <span data-start="617.68" data-end="619.03">in minimize so the best way to do that</span> <span data-start="619.03" data-end="621.97">is use a doll abstraction like because</span> <span data-start="621.97" data-end="625.54">it's really easy to degrade performance</span> <span data-start="625.54" data-end="627.339">you kind of need an abstraction on top</span> <span data-start="627.339" data-end="630.28">it's really thinking about that kind of</span> <span data-start="630.28" data-end="631.39">paved the way in that thinking with</span> <span data-start="631.39" data-end="633.85">their virtual Dom and kind of their</span> <span data-start="633.85" data-end="635.65">representation of the Dom that you write</span> <span data-start="635.65" data-end="637.69">and they sort of angle writing to it so</span> <span data-start="637.69" data-end="640.42">it's pretty good amber has HTML bars</span> <span data-start="640.42" data-end="643.29">which is like a lot of similar thinking</span> <span data-start="643.29" data-end="645.91">to react so they're kind of doing a lot</span> <span data-start="645.91" data-end="646.99">of performance stuff there and their</span> <span data-start="646.99" data-end="650.7">latest release and if you don't use a</span> <span data-start="650.7" data-end="653.71">application sort of framework there's a</span> <span data-start="653.71" data-end="655.87">library called fast on which hooks into</span> <span data-start="655.87" data-end="657.58">like requestanimationframe so all your</span> <span data-start="657.58" data-end="659.05">reads and writes is Dom you do through</span> <span data-start="659.05" data-end="660.85">this library and that will bat it up and</span> <span data-start="660.85" data-end="663.33">do it in a performant way for you and</span> <span data-start="663.33" data-end="665.56">you can't opt into a framework it's</span> <span data-start="665.56" data-end="667.68">pretty good one</span> <span data-start="667.68" data-end="672.53">so how do we measure you I performance</span> <span data-start="672.54" data-end="674.95">recently so for a long time will Dailey</span> <span data-start="674.95" data-end="676.69">really chrome that offered the ability</span> <span data-start="676.69" data-end="680.2">to do that but now like I Elevens firing</span> </p>
<p><span data-start="680.2" data-end="681.88">Firefox will have really great support</span> <span data-start="681.88" data-end="684.339">to extract in performance seeing what</span> <span data-start="684.339" data-end="686.35">Spain what's reflow and kind of giving</span> <span data-start="686.35" data-end="689.41">you like a frame rate and they all offer</span> <span data-start="689.41" data-end="691.779">a timeline I just checked out I Elevens</span> <span data-start="691.779" data-end="694.24">tools and they're like really really</span> <span data-start="694.24" data-end="696.1">good they're up there with chrome for</span> <span data-start="696.1" data-end="698.2">getting performance information addict</span> <span data-start="698.2" data-end="700.57">like your website they give it a really</span> <span data-start="700.57" data-end="703.93">nice interface for it so let's let's go</span> <span data-start="703.93" data-end="705.7">back to that issue of the scroll this</span> <span data-start="705.7" data-end="709.06">view was waitting out and we can sort of</span> <span data-start="709.06" data-end="712.209">discover what's going on so first thing</span> <span data-start="712.209" data-end="715.089">we'll do is a timeline in chrome and</span> <span data-start="715.089" data-end="717.04">this will like I showed no other</span> <span data-start="717.04" data-end="718.06">screenshot i'll show you like the</span> <span data-start="718.06" data-end="719.529">reflows paints and will give you like a</span> <span data-start="719.529" data-end="723.43">frame rate but when we do that and I'll</span> <span data-start="723.43" data-end="725.709">share a screenshot of a profile i took</span> <span data-start="725.709" data-end="727.72">it doesn't eliminate why the way that is</span> <span data-start="727.72" data-end="729.579">happening so as far as the timeline is</span> <span data-start="729.579" data-end="730.51">concerned it looks like it's really</span> <span data-start="730.51" data-end="732.01">performant it's not doing much the</span> <span data-start="732.01" data-end="734.5">browsers like handily okay but it</span> <span data-start="734.5" data-end="736.959">doesn't make it clear why suddenly</span> <span data-start="736.959" data-end="739.17">everything is disappearing off the page</span> <span data-start="739.17" data-end="742.06">so it doesn't it doesn't help and that's</span> <span data-start="742.06" data-end="743.35">the same for all the browsers they're</span> <span data-start="743.35" data-end="745.269">kind of say it's ticking on 60 frames a</span> <span data-start="745.269" data-end="749.019">second and everything according to the</span> <span data-start="749.019" data-end="750.55">timeline is fine but it's still you can</span> <span data-start="750.55" data-end="752.29">see it's not fine because it's not</span> <span data-start="752.29" data-end="756.16">displaying the data so that's a timeline</span> <span data-start="756.16" data-end="757.449">i did of the scrolling thing you can see</span> <span data-start="757.449" data-end="760.3">it's it's below the 60 frames a second</span> <span data-start="760.3" data-end="761.649">which is up here so you want to be below</span> <span data-start="761.649" data-end="763.48">this line so that's ticking along and</span> <span data-start="763.48" data-end="764.529">then you can see sort of the bars</span> <span data-start="764.529" data-end="765.94">happening there it's like doing some</span> <span data-start="765.94" data-end="767.529">paints and composites and they're really</span> <span data-start="767.529" data-end="769.47">small and it happening with the past and</span> <span data-start="769.47" data-end="771.73">better still problem so it doesn't</span> <span data-start="771.73" data-end="776.709">doesn't always help this is where Safari</span> <span data-start="776.709" data-end="778.6">sort of has some really hidden tools for</span> <span data-start="778.6" data-end="781">a long time this feature called show</span> <span data-start="781" data-end="783.43">compositing borders was hidden behind a</span> <span data-start="783.43" data-end="785.89">flag you had launched safari in the</span> <span data-start="785.89" data-end="787.36">command line to get it happening but now</span> <span data-start="787.36" data-end="789.73">they've exposed it in a debug menu and</span> </p>
<p><span data-start="789.73" data-end="792.91">I'll show that in a second and show that</span> <span data-start="792.91" data-end="795.759">Nia</span> <span data-start="795.769" data-end="807.28">refresh that</span> <span data-start="807.29" data-end="812.78">one second</span> <span data-start="812.79" data-end="827.31">so</span> <span data-start="827.32" data-end="830.8">what</span> <span data-start="830.81" data-end="834.54">so to show this this you can see it's</span> <span data-start="834.54" data-end="838.05">got these borders and essentially these</span> <span data-start="838.05" data-end="840.509">are like the the textures that upload to</span> <span data-start="840.509" data-end="842.279">the GPU it finally gives you some</span> <span data-start="842.279" data-end="844.62">numbers here so you can expose that by</span> <span data-start="844.62" data-end="847.98">going to debug draw compositing flags</span> <span data-start="847.98" data-end="849.81">and then down here show so it's kind of</span> <span data-start="849.81" data-end="852.24">hidden behind these these menu options</span> <span data-start="852.24" data-end="853.62">but you can get to but what actually</span> <span data-start="853.62" data-end="856.29">illuminates is as I scroll you can see</span> <span data-start="856.29" data-end="859.92">that number is increasing a lot what</span> <span data-start="859.92" data-end="861.42">that means is that's uploading a texture</span> <span data-start="861.42" data-end="863.31">to the GPU but every time and it's</span> <span data-start="863.31" data-end="865.11">happening a lot because we are paying</span> <span data-start="865.11" data-end="867.3">order property so like I start to scroll</span> <span data-start="867.3" data-end="870.42">that really fast you get the wire</span> <span data-start="870.42" data-end="871.889">happening and you see like the number of</span> <span data-start="871.889" data-end="875.13">creases exponentially and that's that's</span> <span data-start="875.13" data-end="878.91">kind of like what what is happening in</span> <span data-start="878.91" data-end="880.829">the browser so Straits of textures are</span> <span data-start="880.829" data-end="882.99">being sent to the GPU and that number</span> <span data-start="882.99" data-end="885.18">should be small so if that's big then</span> <span data-start="885.18" data-end="886.44">you've got a you've got an issue where</span> <span data-start="886.44" data-end="888.949">like the GPU is getting overloaded</span> <span data-start="888.949" data-end="891.259">things here I took a screenshot here</span> <span data-start="891.259" data-end="893.19">essentially what we're doing is we're</span> <span data-start="893.19" data-end="895.26">flooding the GPU so kind of and good</span> <span data-start="895.26" data-end="897.36">analogy is like a big sports game and a</span> <span data-start="897.36" data-end="899.49">stadiums finished and all the crowd is</span> <span data-start="899.49" data-end="900.81">coming out to the door kind of a really</span> <span data-start="900.81" data-end="902.79">slows down so you're trying to upload</span> <span data-start="902.79" data-end="904.589">way too many textures to the jeep you</span> <span data-start="904.589" data-end="906.75">and I just can't handle it or just just</span> <span data-start="906.75" data-end="908.25">wiped out and it just like stopped</span> <span data-start="908.25" data-end="909.72">rendering in fact keep up because you're</span> <span data-start="909.72" data-end="913.35">doing too much for it to handle and just</span> <span data-start="913.35" data-end="914.699">you know you're technically overloading</span> <span data-start="914.699" data-end="917.37">the GPU bus with too many textures for</span> <span data-start="917.37" data-end="919.529">it to handle properly to be able to</span> <span data-start="919.529" data-end="922.649">painter the screen in the browser and</span> <span data-start="922.649" data-end="924.93">that's the Atari ever answer to the</span> <span data-start="924.93" data-end="927.06">white out so it's kind of get a bit of a</span> <span data-start="927.06" data-end="930.72">journey the tools a bit immature to get</span> <span data-start="930.72" data-end="932.19">to it and they're kind of hidden behind</span> <span data-start="932.19" data-end="934.709">probably some confusing names but once</span> <span data-start="934.709" data-end="935.73">you start to learn it they make a lot</span> <span data-start="935.73" data-end="937.5">more sense there's a good article about</span> <span data-start="937.5" data-end="940.319">this very subject of using that to debug</span> <span data-start="940.319" data-end="946.47">performance and Safari and basically the</span> <span data-start="946.47" data-end="947.759">conclusion we come to is the order</span> <span data-start="947.759" data-end="950.009">property isn't performant option when</span> <span data-start="950.009" data-end="951.389">you want to do high velocity scrolling</span> <span data-start="951.389" data-end="952.949">like it has a lot of other benefits but</span> <span data-start="952.949" data-end="955.139">when it comes to like writing out that's</span> <span data-start="955.139" data-end="957">kind of like a no-go so it's kind of</span> <span data-start="957" data-end="959.399">like you have to avoid it but offers so</span> <span data-start="959.399" data-end="962.34">much which is unfortunate</span> <span data-start="962.34" data-end="964.63">so it's not easy like the dev tools are</span> <span data-start="964.63" data-end="967.21">still immature whether they where they</span> <span data-start="967.21" data-end="969.46">do Excel is you know inspecting and</span> <span data-start="969.46" data-end="972.88">looking CSS JavaScript profiling but in</span> <span data-start="972.88" data-end="974.29">a lot of like the UI performance stuff</span> <span data-start="974.29" data-end="976.63">the stool likes and some blank areas</span> <span data-start="976.63" data-end="978.4">where they don't cover it work where you</span> <span data-start="978.4" data-end="979.99">kind of get stuck is only because Safari</span> <span data-start="979.99" data-end="982">expose that that I was able to discover</span> <span data-start="982" data-end="983.1">what was actually happening and</span> <span data-start="983.1" data-end="985.15">otherwise I'd just be I wouldn't know</span> <span data-start="985.15" data-end="988.11">what what was going on and</span> <span data-start="988.11" data-end="990.7">high-performance user interfaces are</span> <span data-start="990.7" data-end="993.76">really hard on the web especially</span> <span data-start="993.76" data-end="995.47">because it's so easy to degrade but you</span> <span data-start="995.47" data-end="996.85">can do simple things like just change</span> <span data-start="996.85" data-end="999.16">the CSS property and then suddenly like</span> <span data-start="999.16" data-end="1001.77">everything comes crashing down but it's</span> <span data-start="1001.77" data-end="1006.48">not impossible so like I said before if</span> <span data-start="1006.48" data-end="1008.19">you want to do native like performance</span> <span data-start="1008.19" data-end="1010.32">really fast and you kind of need to use</span> <span data-start="1010.32" data-end="1011.88">an abstraction where they're really</span> <span data-start="1011.88" data-end="1013.77">thinking about this for you and you kind</span> <span data-start="1013.77" data-end="1016.44">of just define your application and a</span> <span data-start="1016.44" data-end="1018">really good one that I've seen lately is</span> <span data-start="1018" data-end="1021.18">called famous the kind of stews all</span> <span data-start="1021.18" data-end="1022.92">these ideas into soft instruction where</span> <span data-start="1022.92" data-end="1026.52">they really think about performance and</span> <span data-start="1026.52" data-end="1027.329">you should have described your</span> <span data-start="1027.329" data-end="1029.43">application in JavaScript and it sort of</span> <span data-start="1029.43" data-end="1032.03">handles the rendering to the Dom for you</span> <span data-start="1032.03" data-end="1034.17">and now you so they use a number of</span> <span data-start="1034.17" data-end="1036.69">strategies so they use a flat Dom so the</span> </p>
<p><span data-start="1036.69" data-end="1038.55">Dom structure is really like flat so</span> <span data-start="1038.55" data-end="1040.38">it's easy for the style recalculation to</span> <span data-start="1040.38" data-end="1041.82">happen so the more complex the Dom you</span> <span data-start="1041.82" data-end="1043.65">have the more work to grouse has to do</span> <span data-start="1043.65" data-end="1045.39">when it needs to recalculate installs it</span> <span data-start="1045.39" data-end="1048.06">means to traverse all the notes in your</span> <span data-start="1048.06" data-end="1050.85">document they use your first animation</span> <span data-start="1050.85" data-end="1054.09">frame to do it 60 times a second they</span> <span data-start="1054.09" data-end="1055.17">make sure everything's put on for the</span> <span data-start="1055.17" data-end="1057.21">GPU so they use the matrix Freddy</span> <span data-start="1057.21" data-end="1059.34">transform and also have it built in</span> <span data-start="1059.34" data-end="1060.66">physics engine so you can get that nice</span> <span data-start="1060.66" data-end="1063.51">stuff so that where I was dragging my</span> <span data-start="1063.51" data-end="1064.92">head around before that was using the</span> <span data-start="1064.92" data-end="1066.33">famous same thing you like the sort of</span> <span data-start="1066.33" data-end="1069.42">spring physics happening it's really</span> <span data-start="1069.42" data-end="1073.11">quite good the other benefit is too is</span> <span data-start="1073.11" data-end="1075">because you described in a in their</span> <span data-start="1075" data-end="1077.96">framework you can render it to other</span> <span data-start="1077.96" data-end="1080.49">endpoint so you can range the Dom you</span> <span data-start="1080.49" data-end="1082.86">can do SVG and they even have WebGL so</span> <span data-start="1082.86" data-end="1085.23">that sort of Brewster performance again</span> <span data-start="1085.23" data-end="1088.17">and you can start to do more cool</span> <span data-start="1088.17" data-end="1090.15">animations with in reggio that's all</span> <span data-start="1090.15" data-end="1091.65">possible in the doll so you can do like</span> <span data-start="1091.65" data-end="1095.31">cloth based off</span> <span data-start="1095.32" data-end="1098.99">so before it is fragile it's very easy</span> <span data-start="1098.99" data-end="1101.36">of us said many times to degrade</span> <span data-start="1101.36" data-end="1103.85">performance now you really need to put</span> <span data-start="1103.85" data-end="1107.09">an abstraction in front hand rolling</span> <span data-start="1107.09" data-end="1109.61">always end in tears so if you're working</span> <span data-start="1109.61" data-end="1111.2">by itself maybe that will work for you</span> <span data-start="1111.2" data-end="1113.96">but if you're in a team really trying to</span> <span data-start="1113.96" data-end="1116">like not degrade performance is really</span> <span data-start="1116" data-end="1117.14">hard when you're working with many</span> <span data-start="1117.14" data-end="1120.02">people and basically the dollars of West</span> <span data-start="1120.02" data-end="1122.179">it's a worse for performance is not was</span> <span data-start="1122.179" data-end="1123.65">never intended to do like the sort of</span> <span data-start="1123.65" data-end="1124.82">application level stuff that we're doing</span> <span data-start="1124.82" data-end="1126.2">now but that's what we've got to work</span> <span data-start="1126.2" data-end="1130.27">with though we have to work with it and</span> <span data-start="1130.27" data-end="1132.62">what we really need is the web platforms</span> <span data-start="1132.62" data-end="1134.33">kind of needs is low level control so</span> <span data-start="1134.33" data-end="1135.89">people who really want to extract the</span> <span data-start="1135.89" data-end="1137.63">most performance out of their web apps</span> <span data-start="1137.63" data-end="1139.52">they really kind of need to trust from</span> <span data-start="1139.52" data-end="1141.05">the browser that then they know what</span> <span data-start="1141.05" data-end="1143.24">they're doing so there's a few things</span> <span data-start="1143.24" data-end="1144.679">where you could control you could</span> <span data-start="1144.679" data-end="1146.96">isolate something on the page to know to</span> <span data-start="1146.96" data-end="1149.03">say I know when it needs to paint and</span> <span data-start="1149.03" data-end="1152.3">when it needs to reflow but that's sort</span> <span data-start="1152.3" data-end="1154.34">of not available there's there's some</span> <span data-start="1154.34" data-end="1156.05">specifications like there's a CSS</span> <span data-start="1156.05" data-end="1157.85">containment specification which you can</span> <span data-start="1157.85" data-end="1161.24">isolate some stuff to do that but that's</span> <span data-start="1161.24" data-end="1163.64">all early days and just just a it's not</span> <span data-start="1163.64" data-end="1166.85">even in any browsers so yeah isolate</span> <span data-start="1166.85" data-end="1169.91">opponents pretty much we need the</span> <span data-start="1169.91" data-end="1171.559">functionality of an iframe but without</span> <span data-start="1171.559" data-end="1174.83">the baggage so I frame has obviously has</span> <span data-start="1174.83" data-end="1176.809">a lot of baggage around it we kind of</span> <span data-start="1176.809" data-end="1180.17">need the benefits of that but in a nicer</span> <span data-start="1180.17" data-end="1183.559">way so we can do we can start getting so</span> <span data-start="1183.559" data-end="1186.22">extracting really good performance</span> <span data-start="1186.22" data-end="1192.74">that's it thanks you're living with</span> <span data-start="1192.74" data-end="1196.28">ember it's in this man ah yeah yep do</span> <span data-start="1196.28" data-end="1197.99">you have issues with repo'ing we've got</span> <span data-start="1197.99" data-end="1200.69">a bunch of them having issues with</span> <span data-start="1200.69" data-end="1203.36">things don't have the right time or seem</span> <span data-start="1203.36" data-end="1206.96">a bit slow are you doing Oh</span> <span data-start="1206.96" data-end="1208.76">optimizations or is it just changes to</span> <span data-start="1208.76" data-end="1210.35">imitate it going through going to sleep</span> <span data-start="1210.35" data-end="1213.47">set up so I don't work with that day</span> <span data-start="1213.47" data-end="1216.05">today but I think HTML bars kind of like</span> <span data-start="1216.05" data-end="1218.24">fixes a lot of the problems that the the</span> <span data-start="1218.24" data-end="1219.41">other templating engine they used</span> <span data-start="1219.41" data-end="1222.05">previously and they're kind of taking</span> <span data-start="1222.05" data-end="1226.7">some cues from react</span> <span data-start="1226.71" data-end="1231.6">hi great talk with all the amazing</span> <span data-start="1231.6" data-end="1233.07">performance that you've shown do you</span> <span data-start="1233.07" data-end="1233.94">think there's reason to be optimistic</span> <span data-start="1233.94" data-end="1237.029">enough to think that web applications</span> <span data-start="1237.029" data-end="1238.23">will at some point become better than</span> <span data-start="1238.23" data-end="1242.94">meet us in terms of performance yeah I'm</span> <span data-start="1242.94" data-end="1244.71">pretty optimistic about it I think I</span> <span data-start="1244.71" data-end="1247.83">think the it's capable they're like</span> <span data-start="1247.83" data-end="1249.27">there's a lot of work being done in</span> <span data-start="1249.27" data-end="1250.98">discovering performance issues as well</span> <span data-start="1250.98" data-end="1253.94">as like helping increase performance so</span> <span data-start="1253.94" data-end="1257.909">a lot of like the frameworks are kind of</span> <span data-start="1257.909" data-end="1260.19">like fixing that for us by retracting us</span> <span data-start="1260.19" data-end="1262.02">away from that like fine-tuning their</span> <span data-start="1262.02" data-end="1265.049">they're working on the fine-tuning as to</span> <span data-start="1265.049" data-end="1267.57">whether we ever get like native maybe</span> <span data-start="1267.57" data-end="1270.299">we'll be close you know mozillas doing a</span> <span data-start="1270.299" data-end="1271.86">lot of work with their as I'm jeaious</span> <span data-start="1271.86" data-end="1274.409">for high-performing games in the browser</span> <span data-start="1274.409" data-end="1276.899">and Java scripts getting faster and</span> <span data-start="1276.899" data-end="1280.799">faster all the time and the nailing so</span> <span data-start="1280.799" data-end="1282.63">though I'm pretty hopeful that the web</span> <span data-start="1282.63" data-end="1286.32">will be like the the one true place I</span> <span data-start="1286.32" data-end="1291.029">hope hi I'm that was an awesome talk can</span> <span data-start="1291.029" data-end="1292.47">you you mentioned a little bit about how</span> <span data-start="1292.47" data-end="1294.929">the Safari dev tools that you that you</span> <span data-start="1294.929" data-end="1296.07">see repaints but then there's stuff in</span> <span data-start="1296.07" data-end="1297.419">the chrome devtools jump like a</span> <span data-start="1297.419" data-end="1299.13">suggestion of your preferred workflow of</span> <span data-start="1299.13" data-end="1300.809">like we're developing in chrome and</span> <span data-start="1300.809" data-end="1304.679">safari or so yeah I tend to mix between</span> <span data-start="1304.679" data-end="1307.799">firefox and chrome like Rome because</span> </p>
<p><span data-start="1307.799" data-end="1310.2">Derek on the first ones to surface that</span> <span data-start="1310.2" data-end="1312.45">sort of timeline user interface</span> <span data-start="1312.45" data-end="1315.09">performance stuff and I've only just</span> <span data-start="1315.09" data-end="1316.649">been recently looking into Safari</span> <span data-start="1316.649" data-end="1318.059">because they've got some extra stuff</span> <span data-start="1318.059" data-end="1320.37">that other browsers don't that's really</span> <span data-start="1320.37" data-end="1322.11">focused on like seeing what's happening</span> <span data-start="1322.11" data-end="1323.7">with the GPU like when you're doing like</span> <span data-start="1323.7" data-end="1328.14">transform stuff there yeah so I mostly</span> <span data-start="1328.14" data-end="1329.7">work in chrome with my looks like i</span> <span data-start="1329.7" data-end="1331.38">don't really i kind of just jump around</span> <span data-start="1331.38" data-end="1332.7">browsers depending on what i need to</span> <span data-start="1332.7" data-end="1335.159">discover it have been kind of nice to</span> <span data-start="1335.159" data-end="1336.74">have like a unified to the devtools</span> </p>
</section>