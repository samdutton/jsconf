<section>
<p><span data-start="10.61" data-end="21.63">you</span> <span data-start="25.19" data-end="29.57">so yeah this is a talk a super nerdy</span> <span data-start="29.57" data-end="32.119">talk about networking crypto and early</span> <span data-start="32.119" data-end="35.54">phase tinker and all kinds stuff thanks</span> <span data-start="35.54" data-end="39.23">for yeah man thanks for coming i hack on</span> <span data-start="39.23" data-end="41.93">compilers at a company called agalya we</span> <span data-start="41.93" data-end="45.14">do mostly browser internals so if you</span> <span data-start="45.14" data-end="47.12">ship WebKit or you should blink or you</span> <span data-start="47.12" data-end="49.19">ship you know note or v8 or something</span> <span data-start="49.19" data-end="51.559">like that and you want to participate in</span> <span data-start="51.559" data-end="53.66">making the web better for your use case</span> <span data-start="53.66" data-end="55.7">and for everyone now let's get in touch</span> <span data-start="55.7" data-end="57.5">we can make it happen we recently did</span> <span data-start="57.5" data-end="61.94">the generators work in v8 and adapted</span> <span data-start="61.94" data-end="63.86">the generator stuff that existed in</span> <span data-start="63.86" data-end="66.65">spider monkey so work with a new es6</span> <span data-start="66.65" data-end="68.15">standard and that was all sponsored by</span> <span data-start="68.15" data-end="70.04">bloomberg that's the sort of stuff I</span> <span data-start="70.04" data-end="71.93">normally do and this is not a talk like</span> <span data-start="71.93" data-end="75.14">that right this is talk about crypto I'm</span> <span data-start="75.14" data-end="77.39">not a cryptographer and I'm not you know</span> <span data-start="77.39" data-end="79.55">super network engineer I'm just you know</span> <span data-start="79.55" data-end="82.34">a tinker and a nerd and so I thought</span> <span data-start="82.34" data-end="85.31">that you know I saw this paper and I was</span> <span data-start="85.31" data-end="86.96">like damn I got to play around with this</span> <span data-start="86.96" data-end="88.909">thing right so this is to talk about</span> <span data-start="88.909" data-end="93.83">that so the context we're in is you know</span> <span data-start="93.83" data-end="97.28">the context of you got generals peeping</span> <span data-start="97.28" data-end="99.53">in on your emails and your google</span> <span data-start="99.53" data-end="101.81">searches and you know if you search for</span> <span data-start="101.81" data-end="103.49">the wrong thing if you read the wrong</span> <span data-start="103.49" data-end="106.16">thing they'll send men with guns right</span> <span data-start="106.16" data-end="107.9">this is what they did you know recently</span> <span data-start="107.9" data-end="109.88">if you with the mother that was</span> <span data-start="109.88" data-end="111.29">searching for a new pressure cooker</span> <span data-start="111.29" data-end="113.99">while the teenage son as one does was</span> <span data-start="113.99" data-end="116.42">searching for the Anarchist Cookbook and</span> <span data-start="116.42" data-end="119.18">you know they sent the SWAT team so I</span> <span data-start="119.18" data-end="121.79">mean this is just a freaky place to be</span> <span data-start="121.79" data-end="123.41">in you know it in the world it's just</span> <span data-start="123.41" data-end="125.3">you know creepy and disgusting and the</span> <span data-start="125.3" data-end="127.7">the thing it makes me think of more than</span> <span data-start="127.7" data-end="130.91">anything is that at Tom Waits tune you</span> <span data-start="130.91" data-end="133.81">know like what's he building in there</span> <span data-start="133.81" data-end="137.39">he's got subscriptions to those RSS</span> <span data-start="137.39" data-end="142.34">feeds he's been hacking on minima LT or</span> <span data-start="142.34" data-end="145.34">in his router and we're in his phone and</span> <span data-start="145.34" data-end="146.84">you won't believe what we saw from the</span> <span data-start="146.84" data-end="148.59">drone</span> <span data-start="148.59" data-end="152.049">what's he building in there what the</span> <span data-start="152.049" data-end="155.379">hell is he building in there we have a</span> <span data-start="155.379" data-end="158.23">right to know you know it's like these</span> <span data-start="158.23" data-end="160.269">assholes are looking at you and the real</span> <span data-start="160.269" data-end="162.01">solution of course is to smash the state</span> <span data-start="162.01" data-end="164.799">you know overthrow the political systems</span> <span data-start="164.799" data-end="166.599">that are you know creating this reality</span> <span data-start="166.599" data-end="169.599">we live in right now in the meantime you</span> <span data-start="169.599" data-end="175.48">know as you know people who make the raw</span> <span data-start="175.48" data-end="178.06">substance of the future we need to make</span> <span data-start="178.06" data-end="180.34">their jobs a bit more difficult right</span> <span data-start="180.34" data-end="186.28">and so let's talk about HTTPS HTTPS is</span> <span data-start="186.28" data-end="189.79">you know it can be fairly secure its</span> <span data-start="189.79" data-end="192.489">seen the long good life and Wilkin will</span> <span data-start="192.489" data-end="194.5">see you know even more but if you are</span> <span data-start="194.5" data-end="196.03">going to attack it you know you have a</span> <span data-start="196.03" data-end="198.549">number of vectors at your disposal right</span> <span data-start="198.549" data-end="200.59">now that you know you didn't have maybe</span> <span data-start="200.59" data-end="202.69">you know five years ago you could do</span> <span data-start="202.69" data-end="205.75">some serious crypt analysis work on RC</span> <span data-start="205.75" data-end="208.299">for something you could you know pay off</span> <span data-start="208.299" data-end="210.97">the certificate authorities to issue you</span> <span data-start="210.97" data-end="213.459">a rogue certificate and you could use</span> </p>
<p><span data-start="213.459" data-end="216.16">JavaScript boo boo right in the crime</span> <span data-start="216.16" data-end="217.569">and beast attacks that we've seen</span> <span data-start="217.569" data-end="220.329">recently there's been recent talk that</span> <span data-start="220.329" data-end="222.579">you know some implementations of sea</span> <span data-start="222.579" data-end="225.28">lice have back doors but I don't think</span> <span data-start="225.28" data-end="229.18">these are you know the the biggest</span> <span data-start="229.18" data-end="231.73">vulnerability in HTTPS because for me</span> <span data-start="231.73" data-end="234.76">it's HTTP right it's the fact that you</span> <span data-start="234.76" data-end="237.609">can access services in an encrypted</span> <span data-start="237.609" data-end="239.889">fashion or not encrypted fashion and</span> <span data-start="239.889" data-end="241.51">often we're doing it in such a way that</span> <span data-start="241.51" data-end="244.06">everything can be snooped on right so</span> <span data-start="244.06" data-end="248.169">the biggest enemy to me of HTTPS is HTTP</span> <span data-start="248.169" data-end="252.459">and dan Jay Bernstein has a competition</span> <span data-start="252.459" data-end="254.349">that that he and some other folks are</span> <span data-start="254.349" data-end="255.66">running to come up with a</span> <span data-start="255.66" data-end="258.19">next-generation stream cipher and they</span> <span data-start="258.19" data-end="260.049">quote so number of disasters and if you</span> <span data-start="260.049" data-end="261.519">go visit this web page there's lots of</span> <span data-start="261.519" data-end="263.56">interesting stories about you know</span> <span data-start="263.56" data-end="266.199">crypto systems that just broke right and</span> <span data-start="266.199" data-end="267.639">the worst kind of breaking is when you</span> <span data-start="267.639" data-end="269.53">just don't get any crypto at all right</span> <span data-start="269.53" data-end="273.55">and an HTTP has that sort of side of</span> <span data-start="273.55" data-end="275.05">things so I want to do a poll i always</span> <span data-start="275.05" data-end="277.09">like doing polls in my talks so how many</span> <span data-start="277.09" data-end="280.45">of you use the eff HTTPS Everywhere</span> <span data-start="280.45" data-end="282.1">extension good job</span> </p>
<p><span data-start="282.1" data-end="284.23">I mean that's really great but obviously</span> <span data-start="284.23" data-end="285.37">you know it's not all of you and it's</span> <span data-start="285.37" data-end="287.26">not even me right so how many of you</span> <span data-start="287.26" data-end="290.77">ever use Google to search you know using</span> <span data-start="290.77" data-end="294.19">the normal HTTP thing or that has this</span> <span data-start="294.19" data-end="295.78">in the reverse way so i can't i'm</span> <span data-start="295.78" data-end="297.76">confusing all of you but you know i know</span> <span data-start="297.76" data-end="299.92">i searched sometimes often usually</span> <span data-start="299.92" data-end="303.58">actually over just plain HTTP and it's</span> <span data-start="303.58" data-end="306.91">just you know it's Nast right so there's</span> <span data-start="306.91" data-end="309.55">actually a reason for this though you</span> <span data-start="309.55" data-end="311.71">know it and I think you know you feel it</span> <span data-start="311.71" data-end="314.22">yourself and it goes down to you know</span> <span data-start="314.22" data-end="316.48">actual fundamental things about the</span> <span data-start="316.48" data-end="318.55">internet so i took a packet trace of my</span> <span data-start="318.55" data-end="320.92">browser which you know i run linux as</span> <span data-start="320.92" data-end="323.77">any you know tinker and hacker does and</span> <span data-start="323.77" data-end="326.23">then i actually use epiphany which is a</span> <span data-start="326.23" data-end="328.87">browser built on WebKit to on the gum</span> <span data-start="328.87" data-end="331.63">system so i'm super weirdo here but you</span> <span data-start="331.63" data-end="335.14">know it's a modern web kit to build so</span> <span data-start="335.14" data-end="337">this is very similar to what you have in</span> <span data-start="337" data-end="339.22">your browser's so I at zero milliseconds</span> </p>
<p><span data-start="339.22" data-end="344.11">I did it get to http now too goood org</span> <span data-start="344.11" data-end="346.63">right so at zero milliseconds we send</span> <span data-start="346.63" data-end="348.49">out this syn packet right in the syn</span> <span data-start="348.49" data-end="351.55">packets saying hey and then 130</span> <span data-start="351.55" data-end="353.92">milliseconds we get back a packet from</span> <span data-start="353.92" data-end="356.38">the server saying hey you know it's</span> <span data-start="356.38" data-end="357.52">exactly like when you pick up the phone</span> <span data-start="357.52" data-end="359.71">it's like hello hello and from this we</span> <span data-start="359.71" data-end="361.06">can compute in this particular situation</span> <span data-start="361.06" data-end="363.49">that I've got a 130 millisecond trip</span> <span data-start="363.49" data-end="365.74">time or half of that would be the</span> <span data-start="365.74" data-end="368.47">latency and you know this is not going</span> <span data-start="368.47" data-end="370.51">to go down like this is bandwidth are</span> <span data-start="370.51" data-end="373.63">going to go up but this particular kind</span> <span data-start="373.63" data-end="375.16">of latency obviously this is a</span> <span data-start="375.16" data-end="376.69">transatlantic one from you know my</span> <span data-start="376.69" data-end="380.56">french home to the server in Boston but</span> <span data-start="380.56" data-end="382.63">it can't go down below you know a</span> <span data-start="382.63" data-end="384.91">certain level that certain level is you</span> <span data-start="384.91" data-end="386.47">know if you were to take a plane like a</span> <span data-start="386.47" data-end="388.45">light speed plane you know your latency</span> <span data-start="388.45" data-end="390.7">would be 45 milliseconds so there is you</span> <span data-start="390.7" data-end="392.17">know something at which you're not going</span> <span data-start="392.17" data-end="395.56">to go down and so after I get this syn</span> </p>
<p><span data-start="395.56" data-end="397.33">ACK I can you know finally send off my</span> <span data-start="397.33" data-end="400.99">you know get me the page later on I get</span> <span data-start="400.99" data-end="403.69">the first packet and the in the result</span> <span data-start="403.69" data-end="406.21">and I can start to parse it right and so</span> <span data-start="406.21" data-end="408.19">I realize okay I got some CSS and some</span> <span data-start="408.19" data-end="409.93">JavaScript and all the things and so I</span> <span data-start="409.93" data-end="411.97">can't actually ask for anything else</span> <span data-start="411.97" data-end="414.37">over this same connection so I fire off</span> <span data-start="414.37" data-end="415.72">three</span> <span data-start="415.72" data-end="417.76">in this particular case parallel</span> <span data-start="417.76" data-end="420.01">connections so three more sin packets go</span> <span data-start="420.01" data-end="422.56">out to guna org I finally get the end of</span> <span data-start="422.56" data-end="425.2">my request like the end of the response</span> <span data-start="425.2" data-end="428.53">back at 410 milliseconds and then in</span> <span data-start="428.53" data-end="431.77">super sad panda mode you know well I</span> <span data-start="431.77" data-end="433.36">finally get my parallel connections</span> <span data-start="433.36" data-end="435.67">opened after I've gotten the first</span> <span data-start="435.67" data-end="437.35">document and only then can I make the</span> <span data-start="437.35" data-end="439">other round trip necessary to actually</span> <span data-start="439" data-end="441.49">start fetching the auxiliary resources</span> <span data-start="441.49" data-end="444.22">so I mean this is our internet and you</span> <span data-start="444.22" data-end="445.96">know I don't know this is half a second</span> <span data-start="445.96" data-end="448.54">and it's horrible well yeah so this is</span> <span data-start="448.54" data-end="450.79">even not very many bites so it's not a</span> <span data-start="450.79" data-end="452.89">bandwidth question at all it's</span> <span data-start="452.89" data-end="455.17">completely latency driven and of course</span> <span data-start="455.17" data-end="457.33">you know with HTTPS as we all know it</span> <span data-start="457.33" data-end="460.36">just gets much worse so sin I get back</span> <span data-start="460.36" data-end="462.52">my syn ACK i sent off my you know client</span> <span data-start="462.52" data-end="464.74">hello thing server comes back and says</span> <span data-start="464.74" data-end="466.6">hello we do the certificate exchange</span> <span data-start="466.6" data-end="468.94">dance at this particular case and this</span> <span data-start="468.94" data-end="471.49">just blew my mind right when I saw it</span> <span data-start="471.49" data-end="473.44">for some reason we wait for the act for</span> <span data-start="473.44" data-end="476.26">the server so that it received our</span> <span data-start="476.26" data-end="479.02">certificate change packet to then send</span> <span data-start="479.02" data-end="480.91">another thing saying change cypher and I</span> <span data-start="480.91" data-end="482.05">don't know if this is a bug in my</span> <span data-start="482.05" data-end="483.13">networking stack or if it's something</span> <span data-start="483.13" data-end="484.81">more fundamental because I wasn't</span> <span data-start="484.81" data-end="486.43">intending to you know do a deep</span> <span data-start="486.43" data-end="488.11">investigation on TLS in this particular</span> <span data-start="488.11" data-end="490.3">case but I don't know this is a sort of</span> <span data-start="490.3" data-end="492.4">you know multiple round trips thing to</span> <span data-start="492.4" data-end="495.61">set up a secure network connection that</span> <span data-start="495.61" data-end="498.04">it's really horrible i can i can only</span> <span data-start="498.04" data-end="500.08">start to send my request you know i've</span> <span data-start="500.08" data-end="501.37">been talking back and forth and back and</span> <span data-start="501.37" data-end="504.37">forth and wasted an entire half a second</span> <span data-start="504.37" data-end="506.5">right i would have gotten the result</span> <span data-start="506.5" data-end="509.29">before using HTTP but i'm only now just</span> <span data-start="509.29" data-end="512.229">asking for it using https to finally get</span> <span data-start="512.229" data-end="514.599">back the result that almost a second in</span> <span data-start="514.599" data-end="517.18">and only now you know only at that half</span> <span data-start="517.18" data-end="520.479">a second the when i get back the first</span> <span data-start="520.479" data-end="521.589">packet which is somewhere in between</span> <span data-start="521.589" data-end="525.64">this 583 and 764 milliseconds are we are</span> <span data-start="525.64" data-end="526.93">we actually starting to kick off the</span> <span data-start="526.93" data-end="529.21">parallel connections which do the same</span> <span data-start="529.21" data-end="532.27">thing x 3 you know and this is why it's</span> <span data-start="532.27" data-end="533.62">slow like this is why the internet is</span> <span data-start="533.62" data-end="535.6">slow and it's fundamental because i'm</span> <span data-start="535.6" data-end="538.51">doing this cynic dance for nothing right</span> <span data-start="538.51" data-end="541.27">for nothing you know i'm saying you know</span> <span data-start="541.27" data-end="543.19">hello hello establish me a connection is</span> <span data-start="543.19" data-end="546.79">not even secure so there is readers room</span> <span data-start="546.79" data-end="549.43">here for a protocol which for</span> <span data-start="549.43" data-end="551.44">provides properly implemented strong</span> <span data-start="551.44" data-end="553.63">crypto a phrase which you might</span> <span data-start="553.63" data-end="555.31">recognize from the first Snowden</span> <span data-start="555.31" data-end="557.62">interview like that this is what works</span> <span data-start="557.62" data-end="559.98">right properly implemented strong crypto</span> <span data-start="559.98" data-end="563.14">that connects faster than TCP I like</span> <span data-start="563.14" data-end="565.42">that this is a possibility so this is</span> <span data-start="565.42" data-end="566.92">something that probably will happen at</span> <span data-start="566.92" data-end="568.6">some point and this particular talk is a</span> <span data-start="568.6" data-end="571.45">kind of early technological preview the</span> <span data-start="571.45" data-end="573.85">the preprint on this paper for minima LT</span> <span data-start="573.85" data-end="576.61">this new protocol just came out in May</span> <span data-start="576.61" data-end="580.27">so it's it's early days yet still you</span> <span data-start="580.27" data-end="582.339">know making and breaking but you know</span> <span data-start="582.339" data-end="584.56">this could be a sort of future glimpse</span> <span data-start="584.56" data-end="586.72">on the internet so I want to talk about</span> <span data-start="586.72" data-end="588.1">the two parts so properly implemented</span> <span data-start="588.1" data-end="590.8">strong crypto part and the faster than</span> </p>
<p><span data-start="590.8" data-end="594.91">TCP part minimality uses a high-level</span> <span data-start="594.91" data-end="596.38">knakal library yes it's actually</span> <span data-start="596.38" data-end="602.17">pronounced salt I always say knakal from</span> <span data-start="602.17" data-end="605.08">DJ B and Tanya lang hash breaker and</span> <span data-start="605.08" data-end="606.7">hyper lipstick on the Crypt on the</span> <span data-start="606.7" data-end="610.83">twitters and doing a fresh protocol</span> <span data-start="610.83" data-end="613.57">actually can make things much more</span> <span data-start="613.57" data-end="614.98">secure because you can design things</span> <span data-start="614.98" data-end="617.32">sensibly from the ground up you don't</span> <span data-start="617.32" data-end="618.91">have to include like a bunch of broken</span> <span data-start="618.91" data-end="621.58">ciphers you don't have to include the</span> <span data-start="621.58" data-end="623.5">null cipher you know the opportunity to</span> <span data-start="623.5" data-end="625.959">make a connection in plain text mode you</span> <span data-start="625.959" data-end="628.3">can make sure that by default your</span> <span data-start="628.3" data-end="630.37">implementations of the crypto primitives</span> <span data-start="630.37" data-end="632.32">are not vulnerable to these various</span> <span data-start="632.32" data-end="634.51">timing attacks that we've been seeing</span> <span data-start="634.51" data-end="637.779">recently and I know it's just like an</span> <span data-start="637.779" data-end="642.01">opinionated high level base on which to</span> <span data-start="642.01" data-end="643.81">work and the salt library has been out</span> <span data-start="643.81" data-end="646.69">and crypto analyzed a bit still</span> <span data-start="646.69" data-end="648.7">relatively new you know but but it seems</span> <span data-start="648.7" data-end="651.089">like a solid thing and on top of that</span> <span data-start="651.089" data-end="654.339">minimality adds forward secrecy layer so</span> <span data-start="654.339" data-end="657.19">that if someone breaks into either side</span> <span data-start="657.19" data-end="660.579">and manages to get all the private keys</span> <span data-start="660.579" data-end="663.22">on the server or the client they won't</span> <span data-start="663.22" data-end="665.95">be able to decrypt previous connection</span> <span data-start="665.95" data-end="668.44">so that's that's what that is and it's</span> <span data-start="668.44" data-end="671.17">minimal latency right the equivalent of</span> </p>
<p><span data-start="671.17" data-end="673.66">DNS and min melty includes a sort of</span> <span data-start="673.66" data-end="676.27">equivalent to DNS requires one round</span> <span data-start="676.27" data-end="680.23">trip and otherwise zero in theory you</span> <span data-start="680.23" data-end="682.209">can send your sort of hello packet which</span> <span data-start="682.209" data-end="683.11">opens the connect</span> <span data-start="683.11" data-end="686.019">and include the equivalent of the HTTP</span> <span data-start="686.019" data-end="689.2">GET request in that first packet so you</span> <span data-start="689.2" data-end="690.73">don't actually need a round trip in the</span> <span data-start="690.73" data-end="692.92">beginning and furthermore your</span> <span data-start="692.92" data-end="695.769">connection can be it's actually a tunnel</span> <span data-start="695.769" data-end="697.51">there are connections inside tunnels</span> <span data-start="697.51" data-end="699.73">your tunnel can be persistent they can</span> <span data-start="699.73" data-end="702.76">live a long time it can persist over IP</span> <span data-start="702.76" data-end="705.94">changes so you don't need to do some</span> <span data-start="705.94" data-end="708.399">particular parts of the protocol set up</span> <span data-start="708.399" data-end="711.37">every time you work so you can start</span> <span data-start="711.37" data-end="713.529">working at home like reading your</span> </p>
<p><span data-start="713.529" data-end="715.209">Twitter's or whatever and you get on the</span> <span data-start="715.209" data-end="718.6">train and as the GSM changes your IP you</span> <span data-start="718.6" data-end="720.519">know it's still persisting on the same</span> <span data-start="720.519" data-end="724.51">tunnel without you know seamlessly</span> <span data-start="724.51" data-end="726.519">changing you over IPS without needing</span> <span data-start="726.519" data-end="729.37">the application layer to do recovery and</span> <span data-start="729.37" data-end="731.47">reconnection logic so it can it can make</span> <span data-start="731.47" data-end="734.079">things a lot faster in that case and in</span> <span data-start="734.079" data-end="736.66">addition you know so you're designing a</span> <span data-start="736.66" data-end="739.42">protocol today you have to base it on</span> <span data-start="739.42" data-end="741.91">UDP or TCP all right otherwise it</span> <span data-start="741.91" data-end="743.16">doesn't get through the internet and</span> <span data-start="743.16" data-end="746.11">minimality is based on UDP it adds a</span> <span data-start="746.11" data-end="748.329">reliability layer so it's sort of</span> <span data-start="748.329" data-end="752.98">equivalent to TCPS reliability it adds</span> <span data-start="752.98" data-end="755.47">crypto as well so it sort of folds in</span> <span data-start="755.47" data-end="758.019">what would be a TLS layer as well so it</span> <span data-start="758.019" data-end="760.57">packs them in into one sort of layer</span> <span data-start="760.57" data-end="764.079">violating protocol but you know I think</span> <span data-start="764.079" data-end="765.64">it comes with a lot of advantages and</span> <span data-start="765.64" data-end="768.07">and it seems to be okay it's also</span> <span data-start="768.07" data-end="769.72">resistant to a denial of service attacks</span> <span data-start="769.72" data-end="773.35">which is another important detail when</span> <span data-start="773.35" data-end="775.69">designing there's sort of a family of</span> <span data-start="775.69" data-end="777.279">this kind of protocol coming out right</span> <span data-start="777.279" data-end="779.019">now and and resistance of denial of</span> <span data-start="779.019" data-end="780.85">service is one thing that that all of</span> <span data-start="780.85" data-end="782.26">them are struggling with and minimal LT</span> <span data-start="782.26" data-end="783.55">seems to have a good solution although</span> <span data-start="783.55" data-end="785.26">there are some some details will touch</span> <span data-start="785.26" data-end="787.18">on a little bit later and it's fast it's</span> <span data-start="787.18" data-end="790.63">really fast it's really fast when you're</span> <span data-start="790.63" data-end="794.199">you know running full speed you can</span> <span data-start="794.199" data-end="797.49">saturate your multiple gigabit links and</span> <span data-start="797.49" data-end="799.81">it can connect it very high rates as</span> <span data-start="799.81" data-end="802">well so will poke at that so their</span> <span data-start="802" data-end="804.49">tunnels and connections inside the</span> <span data-start="804.49" data-end="805.779">tunnel the first time you create the</span> <span data-start="805.779" data-end="807.22">tunnel you have one connection its</span> <span data-start="807.22" data-end="809.079">connection 0 it's a distinguished</span> <span data-start="809.079" data-end="810.85">connection and that's the one that</span> <span data-start="810.85" data-end="812.47">actually allows you to create other</span> <span data-start="812.47" data-end="815.079">connections so you would make you know</span> <span data-start="815.079" data-end="816.579">your tunnel and you would</span> </p>
<p><span data-start="816.579" data-end="818.589">I opened me a connection to the HTTP</span> <span data-start="818.589" data-end="821.11">service and then on that connection</span> <span data-start="821.11" data-end="822.759">which you provide that connection number</span> <span data-start="822.759" data-end="825.579">you would say get me index.html and at</span> <span data-start="825.579" data-end="827.679">the same time you could add open other</span> <span data-start="827.679" data-end="832.149">connections and get other resources also</span> <span data-start="832.149" data-end="834.279">connection 0 is for authentication the</span> <span data-start="834.279" data-end="835.809">minim LT includes something that's like</span> <span data-start="835.809" data-end="838.66">client-side certificates it's an</span> <span data-start="838.66" data-end="840.249">equivalent basically but i won't go more</span> <span data-start="840.249" data-end="843.67">into that and the multiple connections</span> <span data-start="843.67" data-end="845.949">yep can proceed that at the same time</span> <span data-start="845.949" data-end="848.86">although the precise congestion control</span> <span data-start="848.86" data-end="851.769">details differ a little bit from quick</span> <span data-start="851.769" data-end="853.509">which is a new protocol from google</span> <span data-start="853.509" data-end="855.519">that's very similar so you might want to</span> <span data-start="855.519" data-end="858.129">google both of these to get more</span> <span data-start="858.129" data-end="859.959">information about them quick seems a bit</span> <span data-start="859.959" data-end="863.739">more interested in that a packet loss</span> <span data-start="863.739" data-end="867.1">that affects in the beginning doesn't</span> <span data-start="867.1" data-end="869.049">delay parallel resource loading in the</span> <span data-start="869.049" data-end="871.209">end whereas minimality seems to be more</span> <span data-start="871.209" data-end="874.42">interested in total ordering of all of</span> <span data-start="874.42" data-end="876.91">the packets even between connections so</span> <span data-start="876.91" data-end="878.649">they're totally ordered but again see</span> <span data-start="878.649" data-end="881.169">the paper for details so it wouldn't be</span> <span data-start="881.169" data-end="883.149">a crypto nerd you know networking</span> <span data-start="883.149" data-end="885.1">protocol talk without some ascii art so</span> <span data-start="885.1" data-end="886.54">i'm just busting that out right now i</span> <span data-start="886.54" data-end="888.91">didn't i didn't have inkscape at the</span> <span data-start="888.91" data-end="890.319">time that I was making this and so I</span> <span data-start="890.319" data-end="891.399">didn't ask you art them like that's</span> <span data-start="891.399" data-end="893.589">awesome leaving that so there are two</span> <span data-start="893.589" data-end="895.449">parts to a packet all right there's a</span> <span data-start="895.449" data-end="897.459">clear text part and the ciphertext part</span> <span data-start="897.459" data-end="899.379">and the clear text includes your</span> </p>
<p><span data-start="899.379" data-end="901.509">Ethernet headers and your IP headers and</span> <span data-start="901.509" data-end="904.329">your UDP headers and as 42 bytes in</span> <span data-start="904.329" data-end="907.209">addition there are 16 more bites half of</span> <span data-start="907.209" data-end="909.339">that identifies the tunnel and half of</span> <span data-start="909.339" data-end="911.649">that is a nonce nonce is actually an</span> <span data-start="911.649" data-end="913.389">English word and I didn't know that and</span> <span data-start="913.389" data-end="916.209">so it means like the moment the now you</span> <span data-start="916.209" data-end="918.429">know and it's also pronounced number</span> <span data-start="918.429" data-end="920.319">used once because that's the thing it's</span> <span data-start="920.319" data-end="921.369">like a number that just keeps on</span> <span data-start="921.369" data-end="922.869">incrementing and you combine it with</span> <span data-start="922.869" data-end="924.639">your secret so you can prevent replay</span> <span data-start="924.639" data-end="926.379">attacks it's basically that's form and</span> <span data-start="926.379" data-end="928.239">in addition the first packet includes</span> <span data-start="928.239" data-end="930.009">your ephemeral public key which as you</span> <span data-start="930.009" data-end="932.29">can see is only 32 bytes which is the</span> <span data-start="932.29" data-end="934.299">wild thing about elliptic curve</span> <span data-start="934.299" data-end="935.98">cryptography you can have keys that</span> <span data-start="935.98" data-end="938.23">aren't like you know 2048 bits long</span> <span data-start="938.23" data-end="940.269">they're only 256 bits long or something</span> <span data-start="940.269" data-end="942.819">like that so that that goes out in the</span> <span data-start="942.819" data-end="945.249">first packet to establish the shared</span> <span data-start="945.249" data-end="947.289">secret and then later the tunnel ID</span> <span data-start="947.289" data-end="948.999">identifies a shared secret for the</span> <span data-start="948.999" data-end="950.019">server</span> <span data-start="950.019" data-end="951.97">in a ciphertext you include the flow</span> <span data-start="951.97" data-end="953.8">control fields the SEC the sequence</span> <span data-start="953.8" data-end="955.209">number and the acknowledgement field</span> <span data-start="955.209" data-end="958.569">those are the ones in TCP that allow TCP</span> <span data-start="958.569" data-end="960.85">to be reliable reliability is a layer</span> <span data-start="960.85" data-end="963.189">you know on top of the protocol of</span> <span data-start="963.189" data-end="965.05">communicating with those fields so</span> <span data-start="965.05" data-end="966.61">that's actually that can be done in user</span> <span data-start="966.61" data-end="968.92">space and that is super rad I was like</span> <span data-start="968.92" data-end="971.049">you know how do you make a reliable</span> <span data-start="971.049" data-end="972.639">protocol because I didn't know you know</span> <span data-start="972.639" data-end="974.35">and then I saw that it's just layered</span> <span data-start="974.35" data-end="975.879">over this field and you have this round</span> <span data-start="975.879" data-end="977.98">trip timer and you estimate how many</span> <span data-start="977.98" data-end="979.449">bytes are in flight and this is totally</span> <span data-start="979.449" data-end="981.069">something you know anybody can hack up</span> <span data-start="981.069" data-end="982.689">and do that's one of the points of this</span> <span data-start="982.689" data-end="984.189">presentation it's like you know there's</span> <span data-start="984.189" data-end="986.379">room for new protocols and we can hack</span> <span data-start="986.379" data-end="987.879">them in user space you know we can hack</span> <span data-start="987.879" data-end="989.23">them a node you know and we can</span> <span data-start="989.23" data-end="990.309">experiment with different congestion</span> <span data-start="990.309" data-end="992.17">control protocols and and that's a thing</span> <span data-start="992.17" data-end="994.149">man that's totally a thing so after that</span> <span data-start="994.149" data-end="997.149">what's so so after that we got the</span> <span data-start="997.149" data-end="998.589">payload you know that's as your</span> <span data-start="998.589" data-end="1000.72">application data on the crypt aside the</span> <span data-start="1000.72" data-end="1005.67">the ciphertext is a box which is a</span> <span data-start="1005.67" data-end="1008.67">concept from the salt library it's a</span> <span data-start="1008.67" data-end="1011.22">public key system and so you have a</span> <span data-start="1011.22" data-end="1013.199">public/private key exchange obviously</span> <span data-start="1013.199" data-end="1014.91">you keep your your private keys and you</span> <span data-start="1014.91" data-end="1016.889">exchange your public keys and in a way</span> <span data-start="1016.889" data-end="1018.119">that you establish a shared secret</span> <span data-start="1018.119" data-end="1019.759">combine that with an onsen and</span> <span data-start="1019.759" data-end="1021.779">authenticate and encrypt the box so it's</span> <span data-start="1021.779" data-end="1023.459">complete tamper proof it's at a higher</span> <span data-start="1023.459" data-end="1026.699">level than the most crypto primitives</span> <span data-start="1026.699" data-end="1028.439">it's built on top of other crypto</span> <span data-start="1028.439" data-end="1030.63">primitives and an opinion aid way by DJ</span> </p>
<p><span data-start="1030.63" data-end="1032.159">Bernstein and tonya lang so it's like</span> <span data-start="1032.159" data-end="1035.459">you know check right right but the the</span> <span data-start="1035.459" data-end="1037.23">shared secret is this public key</span> <span data-start="1037.23" data-end="1039.179">exchange which takes some bites right</span> <span data-start="1039.179" data-end="1043.62">fix this you know larger 32 byte key and</span> <span data-start="1043.62" data-end="1046.62">the 32 byte keys and combines them so we</span> <span data-start="1046.62" data-end="1048.48">actually trim you know we don't have to</span> <span data-start="1048.48" data-end="1050.94">send that at each packet you do that</span> <span data-start="1050.94" data-end="1052.409">shared secret established in the</span> <span data-start="1052.409" data-end="1054.33">beginning and then the server identifies</span> <span data-start="1054.33" data-end="1057.57">associate it's a 64-bit identifier with</span> <span data-start="1057.57" data-end="1059.82">that larger shared secret on the server</span> <span data-start="1059.82" data-end="1063.33">side that's the tunnel ID and there's a</span> <span data-start="1063.33" data-end="1065.01">protocol to sort of change your tunnel</span> <span data-start="1065.01" data-end="1067.799">ID periodically so that you know passive</span> <span data-start="1067.799" data-end="1069.659">analysis can't track your connection</span> <span data-start="1069.659" data-end="1071.82">over IP movements although if you</span> <span data-start="1071.82" data-end="1073.289">control the entire internet like some</span> <span data-start="1073.289" data-end="1075.57">assholes do you know maybe maybe that's</span> <span data-start="1075.57" data-end="1078.139">a thing so it's a public key system and</span> <span data-start="1078.139" data-end="1080.49">that's the problem right you know how</span> <span data-start="1080.49" data-end="1082.38">how do you distribute public keys it's</span> <span data-start="1082.38" data-end="1083.789">just a big old mess</span> <span data-start="1083.789" data-end="1087.09">right so in TLS as we know the mass goes</span> <span data-start="1087.09" data-end="1088.979">like this your your client knows the</span> <span data-start="1088.979" data-end="1091.2">address of a DNS provider the DNS</span> <span data-start="1091.2" data-end="1092.879">provider gives the address of the server</span> <span data-start="1092.879" data-end="1095.039">may you know there's no authentication</span> <span data-start="1095.039" data-end="1097.679">or anything in that it still hackable</span> <span data-start="1097.679" data-end="1099.96">thing the client connects to the server</span> <span data-start="1099.96" data-end="1102.419">directly and the server gives it you</span> <span data-start="1102.419" data-end="1104.519">know its key and then the client checks</span> <span data-start="1104.519" data-end="1105.809">that key against the list of known</span> <span data-start="1105.809" data-end="1108.69">routes which is also you know a hackable</span> <span data-start="1108.69" data-end="1112.019">thing in minimality it's a little bit</span> <span data-start="1112.019" data-end="1113.039">different the client knows you address</span> <span data-start="1113.039" data-end="1114.69">of the directory service which is like</span> <span data-start="1114.69" data-end="1119.129">dns and and the directory service the</span> <span data-start="1119.129" data-end="1120.929">server's register with the directory</span> <span data-start="1120.929" data-end="1124.08">service and the client connects to the</span> <span data-start="1124.08" data-end="1125.7">directory service over a minimal LTE</span> <span data-start="1125.7" data-end="1127.049">connection because it knows its</span> <span data-start="1127.049" data-end="1129.179">long-term public key and makes a minima</span> </p>
<p><span data-start="1129.179" data-end="1132.049">LT query for that servers address and</span> <span data-start="1132.049" data-end="1134.549">current ephemeral public key their</span> <span data-start="1134.549" data-end="1136.619">ephemeral because they they change for</span> <span data-start="1136.619" data-end="1138.929">forward security and then it gets that</span> <span data-start="1138.929" data-end="1140.669">back and with that information they can</span> <span data-start="1140.669" data-end="1142.139">then connect directly to the server</span> <span data-start="1142.139" data-end="1144.509">without a roundtrip I'm kind of breezing</span> <span data-start="1144.509" data-end="1145.769">through this stuff because you know I'm</span> <span data-start="1145.769" data-end="1148.59">burning through time but the paper is</span> <span data-start="1148.59" data-end="1151.769">super interesting and check it out so</span> <span data-start="1151.769" data-end="1155.94">yeah I'll skip a bit for performance the</span> <span data-start="1155.94" data-end="1157.47">expensive part of the whole thing is</span> <span data-start="1157.47" data-end="1159.239">this initial establishment of the shared</span> <span data-start="1159.239" data-end="1161.669">secret like that's that's the only thing</span> <span data-start="1161.669" data-end="1163.979">that just costs a lot of resources yo</span> <span data-start="1163.979" data-end="1168.45">and so minimality can do about 8000</span> <span data-start="1168.45" data-end="1170.519">connections per core on a modern x86</span> <span data-start="1170.519" data-end="1172.71">system and extrapolating from some other</span> <span data-start="1172.71" data-end="1174.45">numbers that they have I think it's</span> <span data-start="1174.45" data-end="1176.369">about 750 on an arm device although I</span> <span data-start="1176.369" data-end="1178.679">haven't tried and then afterwards it can</span> <span data-start="1178.679" data-end="1181.979">go quite fast so why does TCP need a</span> <span data-start="1181.979" data-end="1185.879">three-way handshake and why can</span> <span data-start="1185.879" data-end="1188.099">minimality avoid it well one you know in</span> <span data-start="1188.099" data-end="1190.399">a in a connection flooding attempt</span> <span data-start="1190.399" data-end="1192.809">minimality can force the client to sort</span> <span data-start="1192.809" data-end="1194.989">of effectively mine for bitcoins like</span> <span data-start="1194.989" data-end="1197.669">given this secret produce another value</span> <span data-start="1197.669" data-end="1199.499">that with when combined with it it has a</span> <span data-start="1199.499" data-end="1202.619">hash whose three low bits are 0 or</span> <span data-start="1202.619" data-end="1204.33">something like that you know forcing the</span> <span data-start="1204.33" data-end="1207.359">client to pay computationally for the</span> <span data-start="1207.359" data-end="1210.33">ability to connect to the server and in</span> <span data-start="1210.33" data-end="1213.269">addition if you have a request to an</span> <span data-start="1213.269" data-end="1216.059">unloaded server and you just give back a</span> <span data-start="1216.059" data-end="1217.62">response directly</span> <span data-start="1217.62" data-end="1219.809">to call is designed ideally that the</span> <span data-start="1219.809" data-end="1222.03">response would be smaller than the</span> <span data-start="1222.03" data-end="1223.8">request so you can't use the servers</span> <span data-start="1223.8" data-end="1225.84">resources to attack a third party</span> <span data-start="1225.84" data-end="1228.15">although that's that's really the result</span> <span data-start="1228.15" data-end="1230.82">of this day has come for me I was</span> <span data-start="1230.82" data-end="1232.89">talking with folks and then I realized</span> <span data-start="1232.89" data-end="1236.4">you know is that right you know ken it</span> <span data-start="1236.4" data-end="1239.1">is our zero round-trip protocols</span> <span data-start="1239.1" data-end="1241.98">actually compatible with defending</span> <span data-start="1241.98" data-end="1245.28">against amplification attacks and that's</span> <span data-start="1245.28" data-end="1247.86">not clear to me you know the the paper</span> <span data-start="1247.86" data-end="1249.27">sort of gloss is over but that's</span> <span data-start="1249.27" data-end="1252.15">definitely not clear to me because it's</span> <span data-start="1252.15" data-end="1254.309">not authenticated when you get a packet</span> <span data-start="1254.309" data-end="1257.37">that it comes from that IP because the</span> <span data-start="1257.37" data-end="1259.14">authentication corresponds to the fact</span> <span data-start="1259.14" data-end="1260.67">that it comes from this public key but</span> <span data-start="1260.67" data-end="1263.01">not that when you reply to the IP bits</span> <span data-start="1263.01" data-end="1264.78">in the packet that it will be to the</span> <span data-start="1264.78" data-end="1267.39">person who sent it and so if you include</span> <span data-start="1267.39" data-end="1269.309">a request like get you know whatever</span> <span data-start="1269.309" data-end="1271.59">file in your first packet you're going</span> <span data-start="1271.59" data-end="1274.44">to fill up the window in the TCP window</span> <span data-start="1274.44" data-end="1277.89">is you know five or 16 kilobytes or on</span> <span data-start="1277.89" data-end="1279.57">that order you know in your response</span> <span data-start="1279.57" data-end="1281.73">which is a pretty big implication and</span> </p>
<p><span data-start="1281.73" data-end="1284.97">I'm not sure I probably don't understand</span> <span data-start="1284.97" data-end="1285.929">the things and so I'm not a</span> <span data-start="1285.929" data-end="1287.79">cryptographer and all the stuff it's</span> <span data-start="1287.79" data-end="1289.23">also where the protocol is really new in</span> <span data-start="1289.23" data-end="1291.78">any case if it is the case that you</span> <span data-start="1291.78" data-end="1293.73">acquire a round trip it's still not a</span> <span data-start="1293.73" data-end="1296.82">total lose because you are not worse</span> <span data-start="1296.82" data-end="1299.79">than TCP in the worst case and in the</span> <span data-start="1299.79" data-end="1301.44">best case where you have a tunnel</span> <span data-start="1301.44" data-end="1304.77">established already yet you you don't</span> <span data-start="1304.77" data-end="1308.07">need that round trip so so in that in</span> <span data-start="1308.07" data-end="1310.77">that regard zero round-trip connections</span> <span data-start="1310.77" data-end="1313.08">are always faster than TCP at any</span> <span data-start="1313.08" data-end="1315.33">network latency over half a millisecond</span> <span data-start="1315.33" data-end="1319.2">which I mean damn right and it always</span> <span data-start="1319.2" data-end="1321.69">can x faster than openssl obviously for</span> <span data-start="1321.69" data-end="1325.32">the round trip time reasons so very</span> <span data-start="1325.32" data-end="1327.27">briefly for foreign alice up this</span> <span data-start="1327.27" data-end="1329.58">project is new its associated with a</span> <span data-start="1329.58" data-end="1330.99">research project at a university of</span> <span data-start="1330.99" data-end="1333.929">illinois chicago and their main thing is</span> <span data-start="1333.929" data-end="1335.94">not minimality it's this new operating</span> <span data-start="1335.94" data-end="1337.679">system called ethos it's built on the</span> </p>
<p><span data-start="1337.679" data-end="1340.74">Xen hypervisor and and it's kind of</span> <span data-start="1340.74" data-end="1343.2">complicated and new and stuff and john</span> <span data-start="1343.2" data-end="1344.61">so where's the main fellow and and</span> <span data-start="1344.61" data-end="1346.32">michael patellas doing minimality part</span> <span data-start="1346.32" data-end="1348.42">and minimal t is best conceived out for</span> <span data-start="1348.42" data-end="1351.389">them as a way of they do typed IPC</span> <span data-start="1351.389" data-end="1353.219">interim process communication in their</span> <span data-start="1353.219" data-end="1355.469">in their operating system and for them</span> <span data-start="1355.469" data-end="1357.899">minimality is a way of like transferring</span> <span data-start="1357.899" data-end="1360.659">that you know to the remote case and so</span> <span data-start="1360.659" data-end="1361.829">there I think they're thinking about</span> <span data-start="1361.829" data-end="1363.359">more authenticated connections between</span> <span data-start="1363.359" data-end="1365.849">hosts but in any case it's a mess right</span> <span data-start="1365.849" data-end="1367.2">because you got you know this new</span> <span data-start="1367.2" data-end="1369.839">operating system and you got to build it</span> <span data-start="1369.839" data-end="1371.849">and it's built with the fork of an old</span> <span data-start="1371.849" data-end="1373.049">version of go that doesn't compile</span> <span data-start="1373.049" data-end="1376.529">anymore and Linux side as well you have</span> <span data-start="1376.529" data-end="1378.929">libraries building for both and I mean</span> <span data-start="1378.929" data-end="1380.279">that worked on I worked and I worked on</span> <span data-start="1380.279" data-end="1382.739">and I just I wanted to give you all an</span> <span data-start="1382.739" data-end="1386.549">old library but I didn't make it I'm</span> <span data-start="1386.549" data-end="1387.959">getting there though I'm getting pretty</span> <span data-start="1387.959" data-end="1390.479">close the POSIX API I think it's going</span> <span data-start="1390.479" data-end="1392.849">to look more like this what they do I'm</span> <span data-start="1392.849" data-end="1394.049">going to go back a little bit they they</span> <span data-start="1394.049" data-end="1398.489">have these types I pcs but the type the</span> <span data-start="1398.489" data-end="1400.349">way to establish these types between the</span> <span data-start="1400.349" data-end="1403.379">two sides for me it's kind of more</span> <span data-start="1403.379" data-end="1404.969">complication than I care about right now</span> <span data-start="1404.969" data-end="1406.32">you know I'd rather like an API that</span> <span data-start="1406.32" data-end="1410.159">allows me to just sort of write data on</span> <span data-start="1410.159" data-end="1412.259">top of a lower level protocol and I</span> <span data-start="1412.259" data-end="1413.579">don't have to you know convert</span> <span data-start="1413.579" data-end="1415.919">everything to this new API so that's</span> <span data-start="1415.919" data-end="1417.269">that's what I'm working on should have</span> <span data-start="1417.269" data-end="1420.089">out soon and the JavaScript I n is that</span> <span data-start="1420.089" data-end="1422.099">you need an event loop running in order</span> <span data-start="1422.099" data-end="1423.959">to manage your your window and your</span> <span data-start="1423.959" data-end="1425.879">reach we transmit times and stuff like</span> <span data-start="1425.879" data-end="1429.089">that so Libby V is an obvious and</span> <span data-start="1429.089" data-end="1432.209">awesome you know thing to think about</span> <span data-start="1432.209" data-end="1434.789">right there and you could talk about you</span> <span data-start="1434.789" data-end="1439.769">know actually just basing it on salt and</span> <span data-start="1439.769" data-end="1443.849">other things they're like progressively</span> <span data-start="1443.849" data-end="1446.789">rewriting parts that are in see right</span> <span data-start="1446.789" data-end="1449.429">now into JavaScript like the whole</span> <span data-start="1449.429" data-end="1451.109">reliability layer I think that would be</span> <span data-start="1451.109" data-end="1453.57">super awesome right have the pure</span> </p>
<p><span data-start="1453.57" data-end="1455.219">JavaScript congestion control running on</span> <span data-start="1455.219" data-end="1459.779">you know authenticated encryption flow</span> <span data-start="1459.779" data-end="1461.609">control fields so that'd be super</span> <span data-start="1461.609" data-end="1464.279">awesome so any message is that BAM</span> <span data-start="1464.279" data-end="1466.349">weights going up latency staying the</span> <span data-start="1466.349" data-end="1469.459">same there's a space for a protocol that</span> <span data-start="1469.459" data-end="1473.94">offers a strong crypto at low latencies</span> <span data-start="1473.94" data-end="1477.839">you can you know they you can lower your</span> <span data-start="1477.839" data-end="1479.819">Layton sees by a large percentage I</span> <span data-start="1479.819" data-end="1481.529">think it's on the order of you know</span> <span data-start="1481.529" data-end="1483.37">twenty to fifty percent on</span> <span data-start="1483.37" data-end="1487.42">gone connections so it's a new thing go</span> <span data-start="1487.42" data-end="1489.91">forth and hack the minimality this is</span> <span data-start="1489.91" data-end="1491.71">the first presentation about this</span> <span data-start="1491.71" data-end="1494.29">project anywhere that I know of and the</span> <span data-start="1494.29" data-end="1495.58">next one is going to be here in Berlin</span> <span data-start="1495.58" data-end="1498.88">in November at the ACM computer and</span> <span data-start="1498.88" data-end="1500.86">communication security conference so</span> <span data-start="1500.86" data-end="1502.72">they're actually presenting the paper of</span> <span data-start="1502.72" data-end="1504.85">which the preprint came out in may so</span> <span data-start="1504.85" data-end="1507.25">cynic just say no i'll be on the</span> <span data-start="1507.25" data-end="1509.65">twitters andy wing it i'll tweet these</span> <span data-start="1509.65" data-end="1512.35">slides and give an update on on the</span> <span data-start="1512.35" data-end="1523.59">release so thanks very much</span> </p>
</section>