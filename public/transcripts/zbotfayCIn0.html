<section>
<p><span data-start="14.19" data-end="18.15">thank you for Sarah good morning guys</span> <span data-start="18.15" data-end="20.47">I'm happy that so many of you found</span> <span data-start="20.47" data-end="22.93">their way here after last night's party</span> <span data-start="22.93" data-end="26.38">I am heiko and I'm actually with a</span> <span data-start="26.38" data-end="28.689">company called pebble we do we are</span> <span data-start="28.689" data-end="31.39">mostly known yay rocket we are mostly</span> <span data-start="31.39" data-end="34.269">known for smartwatches so self you there</span> <span data-start="34.269" data-end="36.85">who of you knows what what peddlers and</span> <span data-start="36.85" data-end="39.519">pedal does that's that's basically</span> <span data-start="39.519" data-end="42.82">everybody who does not well they are few</span> <span data-start="42.82" data-end="46.18">okay I have a few slides for you too so</span> <span data-start="46.18" data-end="47.589">the thing you're looking at is basically</span> <span data-start="47.589" data-end="49.9">the PCP or the main board of ammo or</span> <span data-start="49.9" data-end="52.449">pebbles this is a disassembled version</span> <span data-start="52.449" data-end="54.909">of this pebble here and when I speak</span> <span data-start="54.909" data-end="57.76">about um variables I want to share the</span> <span data-start="57.76" data-end="60.04">learnings we gathered when we may</span> <span data-start="60.04" data-end="62.47">javascript running directly on our</span> <span data-start="62.47" data-end="64.239">limited hardware and I want to walk you</span> <span data-start="64.239" data-end="66.01">through some of those limitations and</span> <span data-start="66.01" data-end="68.82">then again what we learned from doing so</span> <span data-start="68.82" data-end="72.369">so again for those three or four people</span> <span data-start="72.369" data-end="74.92">who don't know pebble it is basically as</span> <span data-start="74.92" data-end="77.53">much what SmartWatch I like to think of</span> <span data-start="77.53" data-end="79.81">us as the first mover those who first</span> <span data-start="79.81" data-end="81.7">came out with a SmartWatch long before</span> </p>
<p><span data-start="81.7" data-end="83.74">Android wear or Apple watch and in fact</span> <span data-start="83.74" data-end="86.26">all watches work with both iOS and</span> <span data-start="86.26" data-end="89.02">Android and in officially also our</span> <span data-start="89.02" data-end="90.46">thanks to our community on other</span> <span data-start="90.46" data-end="92.92">platforms we do obviously notifications</span> <span data-start="92.92" data-end="95.53">but recently I'm we emphasize on health</span> <span data-start="95.53" data-end="97.9">to where our latest model has a built-in</span> <span data-start="97.9" data-end="99.55">hardware monitor with your step tracking</span> <span data-start="99.55" data-end="101.17">sleep tracking smart alarms that wake</span> <span data-start="101.17" data-end="102.58">you up on your own REM phase and so on</span> <span data-start="102.58" data-end="105.97">and so forth we are best known for our</span> <span data-start="105.97" data-end="108.37">long battery life for last four week</span> <span data-start="108.37" data-end="110.29">instead of a few hours and it's an</span> <span data-start="110.29" data-end="111.79">always-on display which is quite neat</span> <span data-start="111.79" data-end="113.56">but the reason why I'm here is because</span> <span data-start="113.56" data-end="116.14">it's hackable you can actually program</span> <span data-start="116.14" data-end="120.25">on it and we emphasized on a very open</span> </p>
<p><span data-start="120.25" data-end="122.77">API and open app approach from day one</span> <span data-start="122.77" data-end="125.14">and that led to a plethora of different</span> <span data-start="125.14" data-end="129.22">apps so there are hobbyists such as like</span> <span data-start="129.22" data-end="132.099">sailors or servers who benefit from</span> <span data-start="132.099" data-end="134.049">pebble being waterproof but they're also</span> <span data-start="134.049" data-end="137.409">big brands such as uber or nest who give</span> <span data-start="137.409" data-end="139.09">access easy access right on your wrist</span> <span data-start="139.09" data-end="141.43">to their services so with rubra for</span> <span data-start="141.43" data-end="143.02">example is really just a button press</span> <span data-start="143.02" data-end="146.46">and that taxi comes and picks you up and</span> <span data-start="146.46" data-end="149.38">there's also another category obviously</span> <span data-start="149.38" data-end="151.05">on a watch and that is watched races</span> <span data-start="151.05" data-end="153.91">there are tens of thousands watch faces</span> <span data-start="153.91" data-end="156.37">by now I'm developed by our community</span> <span data-start="156.37" data-end="158.77">and they are any media they are colorful</span> <span data-start="158.77" data-end="161.17">they are very delightful and it's great</span> <span data-start="161.17" data-end="164.05">to see that people always say that our</span> <span data-start="164.05" data-end="165.88">platform is a bit limited but it just</span> <span data-start="165.88" data-end="168.4">happened two weeks ago that a demo</span> <span data-start="168.4" data-end="171.22">classic a pc demo classic was ported to</span> <span data-start="171.22" data-end="173.17">pebble and presented at one of those</span> <span data-start="173.17" data-end="175.48">demo parties in germany and that kicked</span> <span data-start="175.48" data-end="177.28">off a conversation our community and</span> <span data-start="177.28" data-end="178.96">there's now a slight channel discussing</span> <span data-start="178.96" data-end="181.24">how we could leverage that and create a</span> <span data-start="181.24" data-end="183.64">demo scene just within papal let's all</span> <span data-start="183.64" data-end="186.61">great and amazing but traditionally on</span> <span data-start="186.61" data-end="189.16">embedded devices and pebble there's no</span> <span data-start="189.16" data-end="191.53">exception there you are forced to write</span> <span data-start="191.53" data-end="194.77">code C or C++ and sometimes and you look</span> <span data-start="194.77" data-end="196.35">at that damn or even in assembly and</span> <span data-start="196.35" data-end="198.97">that is mostly because of that Audra</span> <span data-start="198.97" data-end="201.46">being so limited space wise and also</span> <span data-start="201.46" data-end="203.71">performance wise which is a bummer</span> <span data-start="203.71" data-end="206.29">because see sometimes looks like this</span> <span data-start="206.29" data-end="209.53">and that is great see actually I looked</span> <span data-start="209.53" data-end="212.44">it up in on a blog post and he walks us</span> <span data-start="212.44" data-end="214.72">through this piece of code that does</span> <span data-start="214.72" data-end="216.82">what exactly who can tell me what it</span> <span data-start="216.82" data-end="222.459">does shrink incarnation yeah that's true</span> <span data-start="222.459" data-end="225.04">i mean the function name sure obviously</span> <span data-start="225.04" data-end="229.36">states that right it takes basically an</span> <span data-start="229.36" data-end="231.25">array of strings and concatenate that</span> <span data-start="231.25" data-end="233.08">into a buffer see has no concept of a</span> <span data-start="233.08" data-end="234.82">string and you have to allocate the</span> <span data-start="234.82" data-end="236.77">buffer before and tell it how long the</span> <span data-start="236.77" data-end="239.86">buffer is the counterpart in javascript</span> <span data-start="239.86" data-end="242.2">would look like that maybe like you have</span> <span data-start="242.2" data-end="243.79">an array of strings and you join them</span> <span data-start="243.79" data-end="245.65">together i'm pretty sure there are other</span> <span data-start="245.65" data-end="247.84">ways to do it but this is pretty neat</span> <span data-start="247.84" data-end="252.13">isn't it now what stops us from doing</span> <span data-start="252.13" data-end="254.32">that there are plenty of other devices</span> <span data-start="254.32" data-end="256.6">that do I'm JavaScript on there and they</span> <span data-start="256.6" data-end="259.87">are all embedded I did a quick research</span> <span data-start="259.87" data-end="261.76">to find some of those and this is the</span> <span data-start="261.76" data-end="263.68">list that came up with I'm pretty sure I</span> <span data-start="263.68" data-end="265.39">missed some and my apologies for this</span> <span data-start="265.39" data-end="266.86">but I just want to put things in</span> <span data-start="266.86" data-end="269.83">perspective here and to do that I picked</span> <span data-start="269.83" data-end="272.05">some arbitrary metric here the amount of</span> <span data-start="272.05" data-end="273.31">available realm of those different</span> <span data-start="273.31" data-end="275.89">devices and if you look at int'l addison</span> <span data-start="275.89" data-end="276.54">or the rest</span> <span data-start="276.54" data-end="279.27">hi they have one gigabyte of RAM which</span> <span data-start="279.27" data-end="282">is basically not a limited and better</span> <span data-start="282" data-end="283.44">device anymore that's a real computer</span> <span data-start="283.44" data-end="286.59">and then there's the omega 2 and there's</span> <span data-start="286.59" data-end="289.26">the tassel and they are more within the</span> <span data-start="289.26" data-end="292.11">range of 64 megabytes and if you think</span> <span data-start="292.11" data-end="294">about it booting a Linux for example and</span> <span data-start="294" data-end="295.56">that environment is already other tricky</span> <span data-start="295.56" data-end="298.26">but it's certainly doable and then there</span> <span data-start="298.26" data-end="301.92">are others s Perino like I'm by Gordon</span> </p>
<p><span data-start="301.92" data-end="304.32">Williams for example he kick started on</span> <span data-start="304.32" data-end="306.48">this grade embedded device that does</span> <span data-start="306.48" data-end="309">nothing but runs java script and how</span> <span data-start="309" data-end="311.1">much room do they have why don't they</span> <span data-start="311.1" data-end="313.05">have any well the problem is scale here</span> <span data-start="313.05" data-end="315.66">and I try another attempt here gigabyte</span> <span data-start="315.66" data-end="317.34">is far too large and I'm scaling that</span> <span data-start="317.34" data-end="320.13">down to 64 megabytes and if i zoom in</span> <span data-start="320.13" data-end="321.86">and zoom further and zoom further I</span> <span data-start="321.86" data-end="326.25">finally find asbury no pico with 96 k</span> <span data-start="326.25" data-end="330.27">and pebble offering only 64 kilobytes of</span> </p>
<p><span data-start="330.27" data-end="333.54">RAM to applications 64 kilobytes</span> <span data-start="333.54" data-end="335.87">compared to those 64 megabytes that's a</span> <span data-start="335.87" data-end="340.26">fraction of 1024 of that other amount</span> <span data-start="340.26" data-end="343.02">like that's tiny and I understand that</span> <span data-start="343.02" data-end="344.55">this is hard to understand so I will try</span> <span data-start="344.55" data-end="348.06">once more this is the J's compiler and</span> <span data-start="348.06" data-end="350.04">website and you see that I'm little icon</span> <span data-start="350.04" data-end="353.7">at the top left that's an SVG that file</span> <span data-start="353.7" data-end="357.2">is 25k large as we G is known to be very</span> <span data-start="357.2" data-end="359.94">concise in this particular case because</span> <span data-start="359.94" data-end="362.07">it is actually I'm a bit curved maybe it</span> <span data-start="362.07" data-end="363.75">is not optimal for SVG but it's pretty</span> <span data-start="363.75" data-end="366.54">small the pixel data on my laptop on</span> <span data-start="366.54" data-end="368.61">this particular screen shot though takes</span> <span data-start="368.61" data-end="371.67">already up more space than the 64 K</span> <span data-start="371.67" data-end="374.55">available on pebble for applications</span> <span data-start="374.55" data-end="377.55">just to prevention perspective so it's</span> <span data-start="377.55" data-end="379.26">not only it's in fact Lee the code is</span> <span data-start="379.26" data-end="380.79">not only JavaScript but actual data and</span> <span data-start="380.79" data-end="381.87">all of that needs to live on that</span> <span data-start="381.87" data-end="385.47">computer things are not that bad though</span> <span data-start="385.47" data-end="388.26">because people already build great</span> <span data-start="388.26" data-end="389.7">things we know that you can accomplish</span> <span data-start="389.7" data-end="393.9">something so well let's do it so there</span> <span data-start="393.9" data-end="395.4">plenty of JavaScript engines right we</span> <span data-start="395.4" data-end="397.86">take one of those I again yesterday run</span> <span data-start="397.86" data-end="400.08">a quick test and I'm loaded google com</span> <span data-start="400.08" data-end="402.72">on my Chrome browser and it took 150 5</span> <span data-start="402.72" data-end="406.02">megabytes or I looked at the engine</span> <span data-start="406.02" data-end="408.06">itself which is yet another number</span> <span data-start="408.06" data-end="411.21">if even if we had a JavaScript engine</span> <span data-start="411.21" data-end="413.16">it's somewhat would take up code space</span> <span data-start="413.16" data-end="417.06">on our flesh like on our firmware and we</span> <span data-start="417.06" data-end="418.95">before we started this endeavor we</span> <span data-start="418.95" data-end="421.139">figured that we would have 200k worth of</span> <span data-start="421.139" data-end="424.29">code space flash code space something</span> <span data-start="424.29" data-end="426.18">you would normally not even think about</span> <span data-start="426.18" data-end="428.55">when you do right development and and</span> <span data-start="428.55" data-end="430.23">phantom jas which is basically a</span> <span data-start="430.23" data-end="434.06">headless browser based on javascriptcore</span> <span data-start="434.06" data-end="436.71">already takes out 32 megabytes so this</span> <span data-start="436.71" data-end="438.63">is way out of reach and when we</span> <span data-start="438.63" data-end="441.12">presented internally in the sand pebble</span> <span data-start="441.12" data-end="443.729">the idea to run an interpreter and even</span> </p>
<p><span data-start="443.729" data-end="446.04">JavaScript and I'll pebble watches they</span> <span data-start="446.04" data-end="448.77">thought we were crazy like this is not</span> <span data-start="448.77" data-end="451.919">possible it will not run at all and we</span> <span data-start="451.919" data-end="454.38">still said we want that we want that so</span> <span data-start="454.38" data-end="458.58">deeply because the workflow in C is</span> <span data-start="458.58" data-end="462.09">outdated it takes like 20 seconds for</span> <span data-start="462.09" data-end="464.49">turnaround when you do like pizza not</span> <span data-start="464.49" data-end="466.59">some things you need to compile and need</span> <span data-start="466.59" data-end="468.03">to deploy and then you look at it and</span> <span data-start="468.03" data-end="469.47">you already forgot how the previous</span> <span data-start="469.47" data-end="471.63">version looked like I want to have fresh</span> <span data-start="471.63" data-end="473.7">tooling as it's common in the JavaScript</span> <span data-start="473.7" data-end="476.58">world I want to have the ability to to</span> <span data-start="476.58" data-end="478.71">benefit from you the community all these</span> <span data-start="478.71" data-end="480.479">NPM packages all the knowledge that's</span> <span data-start="480.479" data-end="482.58">there I want to go to second flow and</span> <span data-start="482.58" data-end="484.11">quickly copy and paste something and run</span> <span data-start="484.11" data-end="488.88">it all now watch well luckily there are</span> <span data-start="488.88" data-end="491.1">other JavaScript engines out there meant</span> <span data-start="491.1" data-end="493.68">for embedded devices I think the most</span> <span data-start="493.68" data-end="496.919">prominent one is called duck tape that</span> <span data-start="496.919" data-end="499.2">tape is taking a few hundred K of code</span> <span data-start="499.2" data-end="500.639">space you could probably squeeze it down</span> <span data-start="500.639" data-end="503.669">then there's obviously as Perino Jerry</span> <span data-start="503.669" data-end="505.919">script I'm very interesting project</span> <span data-start="505.919" data-end="509.039">kinoma looks also very promising and</span> <span data-start="509.039" data-end="511.86">then there is I like similar to any</span> <span data-start="511.86" data-end="514.289">other JavaScript library out there every</span> <span data-start="514.289" data-end="516.27">week pops up another JavaScript engine</span> <span data-start="516.27" data-end="519.36">basically so here are if you the problem</span> <span data-start="519.36" data-end="521.76">with those tiny i would say hobby</span> <span data-start="521.76" data-end="523.83">attempts is that there are oftentimes</span> <span data-start="523.83" data-end="526.35">not standard compliant or like by far</span> <span data-start="526.35" data-end="530.16">future complete so in the end we decided</span> <span data-start="530.16" data-end="532.98">to go with javascript and when Gordon</span> </p>
<p><span data-start="532.98" data-end="534.81">Williams from spree no actually asked me</span> <span data-start="534.81" data-end="536.61">I came up with that list here and it's</span> <span data-start="536.61" data-end="539.28">basically first and foremost Jerry</span> <span data-start="539.28" data-end="540.38">script</span> <span data-start="540.38" data-end="541.94">the Melbourne source obviously but this</span> <span data-start="541.94" data-end="543.8">one here has a great team behind it</span> <span data-start="543.8" data-end="547.37">full-time people working on this for</span> <span data-start="547.37" data-end="550.61">over a year now which is amazing because</span> <span data-start="550.61" data-end="552.74">we have to stand on the shoulders of</span> <span data-start="552.74" data-end="553.82">giants here we can I do that all</span> <span data-start="553.82" data-end="556.37">ourselves but it's also standard</span> <span data-start="556.37" data-end="558.59">compliance or whatever you do whatever</span> <span data-start="558.59" data-end="560.42">you do in valid JavaScript will actually</span> <span data-start="560.42" data-end="562.49">run on the watch and that is critical</span> <span data-start="562.49" data-end="563.84">because otherwise it's yet another</span> <span data-start="563.84" data-end="566.54">script language that is Travis would</span> <span data-start="566.54" data-end="568.81">look alike but not the real thing and</span> <span data-start="568.81" data-end="571.22">overall it's just the quality of the</span> <span data-start="571.22" data-end="574.22">project communication architecture all</span> <span data-start="574.22" data-end="577.13">of it + partners that contribute to it</span> <span data-start="577.13" data-end="582.32">as we do so that's great and I think it</span> <span data-start="582.32" data-end="584.24">took us so we first did in a screen of</span> <span data-start="584.24" data-end="586.46">port and that ran on the watch and then</span> <span data-start="586.46" data-end="588.71">we did Jerry script again and it was</span> <span data-start="588.71" data-end="591.97">early May when we finally shipped</span> </p>
<p><span data-start="591.97" data-end="594.35">JavaScript on the watch so those people</span> <span data-start="594.35" data-end="595.73">in the audience you actually were a</span> <span data-start="595.73" data-end="597.65">pebble if you go to the standard watch</span> <span data-start="597.65" data-end="599.72">face take talk the one with the two</span> <span data-start="599.72" data-end="601.79">hands that is already running JavaScript</span> <span data-start="601.79" data-end="604.46">without you knowing it we ship the</span> <span data-start="604.46" data-end="606.32">JavaScript engine we re implemented our</span> <span data-start="606.32" data-end="608.27">standard watch face we have integration</span> <span data-start="608.27" data-end="610.04">tests to make sure that it's pixel</span> <span data-start="610.04" data-end="611.87">perfectly the same and it doesn't</span> <span data-start="611.87" data-end="614.3">consume more battery as the sea</span> <span data-start="614.3" data-end="617.84">counterpart did and we shipped it now</span> <span data-start="617.84" data-end="620.81">that was easy the hard part and the</span> <span data-start="620.81" data-end="622.54">stuff I want to talk about is our</span> <span data-start="622.54" data-end="625.49">learnings when we finally made that</span> <span data-start="625.49" data-end="627.26">available to developers which is also</span> <span data-start="627.26" data-end="629.72">happen happening right now actually and</span> <span data-start="629.72" data-end="631.91">the three things i want to focus on our</span> <span data-start="631.91" data-end="634.76">api's memory constraints sorry bear with</span> <span data-start="634.76" data-end="636.29">me but memory is really critical in our</span> <span data-start="636.29" data-end="640.22">platform and then launch time something</span> <span data-start="640.22" data-end="641.78">that isn't really obvious if you think</span> <span data-start="641.78" data-end="644.84">of it about it for the first time so</span> <span data-start="644.84" data-end="648.74">api's i was talking about javascript</span> <span data-start="648.74" data-end="650.69">what javascript by itself doesn't do</span> <span data-start="650.69" data-end="654.47">much again here's our board there's the</span> </p>
<p><span data-start="654.47" data-end="656.9">CPU as the MCU which combines different</span> <span data-start="656.9" data-end="659.18">components in our case the CPU and RAM</span> <span data-start="659.18" data-end="662.18">and JavaScript what can you actually do</span> <span data-start="662.18" data-end="663.44">with it I mean in the standard that</span> <span data-start="663.44" data-end="665.33">state there are regular expressions</span> <span data-start="665.33" data-end="668.03">different things in the standard but you</span> <span data-start="668.03" data-end="669.41">cannot even log anything because</span> <span data-start="669.41" data-end="670.94">console.log is not part of the standard</span> <span data-start="670.94" data-end="673.64">so just having JavaScript by itself</span> <span data-start="673.64" data-end="676.1">is actually bit useless we want to give</span> <span data-start="676.1" data-end="678.2">access to everything our platform</span> <span data-start="678.2" data-end="680.81">delivers and that is way more so here is</span> <span data-start="680.81" data-end="683.96">a teardown of the actual watch this is</span> <span data-start="683.96" data-end="686.6">not too different boards at the bottom</span> <span data-start="686.6" data-end="688.82">you see the flip side of the same bored</span> <span data-start="688.82" data-end="692.9">so it's mirrored and the MCU is really</span> <span data-start="692.9" data-end="694.73">just that's JavaScript that's grounded</span> <span data-start="694.73" data-end="698.15">but there is also flash storage that is</span> <span data-start="698.15" data-end="699.8">where we store the program and store</span> <span data-start="699.8" data-end="701.33">your bid maps and other resources like</span> <span data-start="701.33" data-end="703.07">custom fonts that is obviously the</span> <span data-start="703.07" data-end="704.84">ePaper display you want to show</span> <span data-start="704.84" data-end="707.24">something on the screen and battery so</span> <span data-start="707.24" data-end="711.35">that if you happen to be a taxi service</span> <span data-start="711.35" data-end="713.24">you could check the battery level and if</span> <span data-start="713.24" data-end="714.8">it's critical you could raise the fare</span> <span data-start="714.8" data-end="717.35">like there are real use cases for access</span> <span data-start="717.35" data-end="719.24">to the battery and then there is also</span> <span data-start="719.24" data-end="720.83">all the sensors and the Bluetooth radio</span> <span data-start="720.83" data-end="722.48">you want to talk to your phone you want</span> <span data-start="722.48" data-end="724.28">to talk to the Internet how would we</span> <span data-start="724.28" data-end="726.68">possibly make that accessible the</span> <span data-start="726.68" data-end="729.29">problem with AP is on our end is unlike</span> <span data-start="729.29" data-end="733.55">a library and API developer who does the</span> <span data-start="733.55" data-end="735.07">next library and publish it as</span> <span data-start="735.07" data-end="738.23">publishers it on NPM is that we cannot</span> <span data-start="738.23" data-end="741.62">really do semantic versioning raise the</span> <span data-start="741.62" data-end="743.24">major version number and break</span> <span data-start="743.24" data-end="745.24">everything that was ever there because</span> <span data-start="745.24" data-end="749.45">developers are using our SDK submit this</span> <span data-start="749.45" data-end="751.67">to the App Store and consumers run</span> <span data-start="751.67" data-end="755.39">whatever version of the firmware there</span> <span data-start="755.39" data-end="757.25">is actually the problem that once we</span> <span data-start="757.25" data-end="759.4">commit to an API we more or less have to</span> <span data-start="759.4" data-end="763.43">support it forever and that is really a</span> <span data-start="763.43" data-end="765.8">delicate problem as an API designer</span> <span data-start="765.8" data-end="767.12">because we don't have the luxury to</span> <span data-start="767.12" data-end="770.75">write api's here we are much more in the</span> <span data-start="770.75" data-end="773.12">in the shoes of a browser vendor here</span> <span data-start="773.12" data-end="775.19">and that's actually the key to the story</span> <span data-start="775.19" data-end="778.4">there are standardized a B is for all of</span> <span data-start="778.4" data-end="780.35">these problems and you know them they</span> <span data-start="780.35" data-end="782.9">are called web AP is so although we are</span> <span data-start="782.9" data-end="785.78">running on this tiny embeddable embedded</span> <span data-start="785.78" data-end="789.32">hardware we chose to look at the at the</span> <span data-start="789.32" data-end="792.22">browsers and learn from them and</span> <span data-start="792.22" data-end="794.57">basically re-implemented what they did</span> <span data-start="794.57" data-end="798.59">so for for the display for example we</span> <span data-start="798.59" data-end="801.35">chose canvas and it's ugly as hell and</span> <span data-start="801.35" data-end="803.75">it's really inconvenient to use but it's</span> <span data-start="803.75" data-end="806.209">a standard and that means others know</span> <span data-start="806.209" data-end="808.91">how to use it they know the clip falls</span> <span data-start="808.91" data-end="811.069">and there are already solutions to the</span> <span data-start="811.069" data-end="812.72">problems that come with it there's a</span> <span data-start="812.72" data-end="814.459">contract we can commit to and we know</span> <span data-start="814.459" data-end="816.41">that they will not change well at least</span> <span data-start="816.41" data-end="819.559">not that frequently and similarly for</span> <span data-start="819.559" data-end="821.36">communication between the phone and the</span> <span data-start="821.36" data-end="823.429">watch our way our dead greater the</span> <span data-start="823.429" data-end="825.379">internet we chose a post message as you</span> <span data-start="825.379" data-end="827.089">would talk to another window or a</span> <span data-start="827.089" data-end="830.089">background worker and then use an event</span> <span data-start="830.089" data-end="834.319">system for four different occurrences in</span> <span data-start="834.319" data-end="837.05">the system so that is all great and it</span> <span data-start="837.05" data-end="839.66">lab together with NPM to a very concise</span> <span data-start="839.66" data-end="842.3">way to writing applications so this is a</span> <span data-start="842.3" data-end="846.8">very minimal way of writing apps you can</span> <span data-start="846.8" data-end="849.889">actually use NPM packages and with that</span> <span data-start="849.889" data-end="851.36">we hope that people write Poli filled</span> <span data-start="851.36" data-end="852.619">and and create other convenience</span> <span data-start="852.619" data-end="854.119">functions but this is also the way to</span> <span data-start="854.119" data-end="856.67">get access to the rude object of our API</span> <span data-start="856.67" data-end="860.149">we called it rocky as in like stones and</span> <span data-start="860.149" data-end="863.66">pebble you know and that rocky global</span> <span data-start="863.66" data-end="865.879">allows you to register like to listen to</span> <span data-start="865.879" data-end="868.309">events such as when it has to draw</span> <span data-start="868.309" data-end="870.319">itself the system could ask for it to</span> <span data-start="870.319" data-end="872.29">draw at any time because of different</span> <span data-start="872.29" data-end="877.189">like events in the system and the web</span> <span data-start="877.189" data-end="879.379">api is being so flexible allow us to</span> <span data-start="879.379" data-end="881.48">also add a new proprietary events such</span> <span data-start="881.48" data-end="883.279">as a minute change when you write a</span> <span data-start="883.279" data-end="884.779">watch face for example it's not really</span> <span data-start="884.779" data-end="888.769">feasible to redraw every second because</span> <span data-start="888.769" data-end="890.839">that drains the battery if you really</span> <span data-start="890.839" data-end="892.759">only want to update once a minute it's</span> <span data-start="892.759" data-end="895.519">also hard to do the date math with just</span> <span data-start="895.519" data-end="897.35">the building data object you could</span> <span data-start="897.35" data-end="899.269">totally do that you could query for the</span> <span data-start="899.269" data-end="900.799">current time and then the right set</span> <span data-start="900.799" data-end="903.23">timeout and then a schedule at redraw</span> <span data-start="903.23" data-end="905.509">but we actually provide a convenient</span> <span data-start="905.509" data-end="906.769">events for this like minute change</span> <span data-start="906.769" data-end="909.589">second change so let you know on the</span> <span data-start="909.589" data-end="910.999">edge when the minute changes that you</span> <span data-start="910.999" data-end="915.049">can redraw so that's it pretty neat but</span> <span data-start="915.049" data-end="917.209">with those standard api's we also</span> <span data-start="917.209" data-end="920.119">created some expectations so canvas is</span> <span data-start="920.119" data-end="922.759">pretty powerful and some of its</span> <span data-start="922.759" data-end="924.769">implementations for example clipping to</span> <span data-start="924.769" data-end="928.16">a path is difficult to implement an all</span> <span data-start="928.16" data-end="931.1">platform a naive and very um performant</span> <span data-start="931.1" data-end="933.86">efficient solution would be to store a</span> <span data-start="933.86" data-end="936.29">binary mask actually like an alpha</span> <span data-start="936.29" data-end="937.37">channel</span> <span data-start="937.37" data-end="939.8">to tear to measure what is actually</span> <span data-start="939.8" data-end="942.41">masked out but such an alpha channel is</span> <span data-start="942.41" data-end="944.779">already on our platform like 6k worth of</span> <span data-start="944.779" data-end="947.839">data and we are ready short ram and then</span> <span data-start="947.839" data-end="949.22">other things as i mentioned before and</span> <span data-start="949.22" data-end="950.72">cameras are not really convenient</span> <span data-start="950.72" data-end="952.94">especially if you come from our capi</span> <span data-start="952.94" data-end="955.43">where we tailored towards the need of a</span> <span data-start="955.43" data-end="958.13">watch face developer yes angles are</span> <span data-start="958.13" data-end="960.17">rotated clockwise but they start at 3pm</span> <span data-start="960.17" data-end="962.57">which is very inconvenient if you want</span> <span data-start="962.57" data-end="964.37">to do hands and they all start at twelve</span> <span data-start="964.37" data-end="967.07">o'clock and then also drawing a simple</span> <span data-start="967.07" data-end="968.99">line means yeah you put in a path you</span> <span data-start="968.99" data-end="971.029">move to something you line to something</span> <span data-start="971.029" data-end="972.71">and then you stroke instead of just a</span> <span data-start="972.71" data-end="976.73">plain line call so yeah that is odd but</span> <span data-start="976.73" data-end="979.91">it's just the standard what we figured</span> <span data-start="979.91" data-end="981.89">is that and we talked to the community</span> <span data-start="981.89" data-end="985.55">on that we cannot ship all of this at</span> <span data-start="985.55" data-end="988.1">once what we did instead is we what</span> <span data-start="988.1" data-end="990.62">we have we know I'm what the target is</span> <span data-start="990.62" data-end="993.19">because it's just the web AP eyes and</span> <span data-start="993.19" data-end="997.45">just like fail with exceptions when I</span> <span data-start="997.45" data-end="1000.22">function is  that allows</span> <span data-start="1000.22" data-end="1003.04">developers to create polyfills and it's</span> <span data-start="1003.04" data-end="1005.35">actually better to have something now</span> <span data-start="1005.35" data-end="1007.87">than to wait another half a year</span> <span data-start="1007.87" data-end="1009.91">something until we finally did this so</span> </p>
<p><span data-start="1009.91" data-end="1011.41">I'm also interested in your feedback on</span> <span data-start="1011.41" data-end="1014.41">this so yeah with that we basically</span> <span data-start="1014.41" data-end="1016.15">shipped api's let's talk about memory</span> <span data-start="1016.15" data-end="1020.11">constraints so there are like when you</span> <span data-start="1020.11" data-end="1021.64">talk about size and JavaScript you</span> <span data-start="1021.64" data-end="1024.49">oftentimes think about transfer like how</span> <span data-start="1024.49" data-end="1026.98">much how many bytes you need to transfer</span> <span data-start="1026.98" data-end="1028.72">from the web server to my browser in</span> <span data-start="1028.72" data-end="1031.059">order to deliver content how can I get</span> <span data-start="1031.059" data-end="1033.309">the first flight to the browser earliest</span> <span data-start="1033.309" data-end="1036.64">how can i leverage caches but this is</span> <span data-start="1036.64" data-end="1038.8">actually pretty meaningless so this one</span> <span data-start="1038.8" data-end="1042.22">is a demo it's a not sure I've seen this</span> <span data-start="1042.22" data-end="1044.29">but there's a competition very much like</span> <span data-start="1044.29" data-end="1047.199">the demo scene in general it's basically</span> <span data-start="1047.199" data-end="1048.97">how much cool effects can you squeeze</span> <span data-start="1048.97" data-end="1053.14">into 1k worth of JavaScript so let me</span> <span data-start="1053.14" data-end="1054.85">again I'm not sure why it's done right</span> <span data-start="1054.85" data-end="1060.52">here actually so yeah that is a 1k of</span> </p>
<p><span data-start="1060.52" data-end="1063.78">JavaScript the JavaScript looks like rap</span> <span data-start="1063.78" data-end="1069.49">it's it's concise yeah it's only 1k for</span> <span data-start="1069.49" data-end="1070.81">those of you who cannot read gibber ish</span> <span data-start="1070.81" data-end="1072.55">what's actually happening here is that</span> <span data-start="1072.55" data-end="1075.1">there is a compressed string the actual</span> <span data-start="1075.1" data-end="1077.92">payload is almost 2k worth of JavaScript</span> <span data-start="1077.92" data-end="1080.32">source code and then this is the loop at</span> <span data-start="1080.32" data-end="1083.14">the end we uncompress it into a variable</span> <span data-start="1083.14" data-end="1085.18">and then we'ii valid so basically</span> <span data-start="1085.18" data-end="1087.58">instead of running one carriage of</span> </p>
<p><span data-start="1087.58" data-end="1089.47">JavaScript we are running almost 2k of</span> <span data-start="1089.47" data-end="1092.83">JavaScript so one could think that we</span> <span data-start="1092.83" data-end="1094.45">just expanded it well one hundred</span> <span data-start="1094.45" data-end="1097">percent and at runtime we need 2k worth</span> <span data-start="1097" data-end="1099.46">of RAM right well I took the numbers</span> <span data-start="1099.46" data-end="1101.65">again on Chrome and it's more like half</span> <span data-start="1101.65" data-end="1105.58">a gigabyte roughly and of course this is</span> <span data-start="1105.58" data-end="1107.35">like comparing apples with oranges here</span> <span data-start="1107.35" data-end="1109.15">because the browser itself takes up RAM</span> <span data-start="1109.15" data-end="1111.76">and the GPU process the rendering</span> <span data-start="1111.76" data-end="1113.5">pipeline here has a lot of overhead for</span> <span data-start="1113.5" data-end="1114.85">this particular use case and we could</span> <span data-start="1114.85" data-end="1116.86">make that way more concise but this is</span> <span data-start="1116.86" data-end="1118.02">really just to put things in perspective</span> <span data-start="1118.02" data-end="1121.69">code size 1k has nothing to do with</span> <span data-start="1121.69" data-end="1123.94">runtime requirements how much RAM you</span> <span data-start="1123.94" data-end="1125.65">actually have and I would say that you</span> <span data-start="1125.65" data-end="1129.88">guys have no idea about ram or could you</span> <span data-start="1129.88" data-end="1131.95">tell me how much RAM this object</span> <span data-start="1131.95" data-end="1136.75">actually takes like you javascript has</span> <span data-start="1136.75" data-end="1139.3">no concept of an out of memory situation</span> <span data-start="1139.3" data-end="1141.73">you can always just create a string you</span> <span data-start="1141.73" data-end="1143.17">can always just create an object but</span> <span data-start="1143.17" data-end="1145.21">what if you run out of RAM what this</span> <span data-start="1145.21" data-end="1148.9">does not happen in your environment so</span> <span data-start="1148.9" data-end="1150.67">here for example you need actually</span> <span data-start="1150.67" data-end="1152.98">character space to store the property</span> <span data-start="1152.98" data-end="1155.53">name you need space to store the</span> <span data-start="1155.53" data-end="1157.75">original string you need more space to</span> <span data-start="1157.75" data-end="1160.93">store the concatenated string to store 0</span> <span data-start="1160.93" data-end="1164.41">which is living on the context how much</span> <span data-start="1164.41" data-end="1168.01">is a string worth is it really stored as</span> <span data-start="1168.01" data-end="1170.53">utf-16 do you know what says ooh ay tis</span> <span data-start="1170.53" data-end="1173.29">and their way to encode um emojis</span> <span data-start="1173.29" data-end="1175.69">because they don't fit into the unicode</span> <span data-start="1175.69" data-end="1177.11">plane of you</span> <span data-start="1177.11" data-end="1181.46">of unicode 16 like how much cash do they</span> <span data-start="1181.46" data-end="1182.9">actually do in order to look at the</span> <span data-start="1182.9" data-end="1184.91">property do they have like a hashmap for</span> <span data-start="1184.91" data-end="1188.75">the string look up probably we do so</span> <span data-start="1188.75" data-end="1190.82">it's really tough to tell let's say like</span> <span data-start="1190.82" data-end="1193.22">conservatively on v8 maybe that is I</span> <span data-start="1193.22" data-end="1195.74">don't know 32 byte probably not maybe 64</span> <span data-start="1195.74" data-end="1197.63">byte if you store 10 of those it's</span> <span data-start="1197.63" data-end="1201.74">already 640 bites that's like in the</span> <span data-start="1201.74" data-end="1203.24">range of something you are you can</span> <span data-start="1203.24" data-end="1205.73">notice on our platform so we rode I'm a</span> <span data-start="1205.73" data-end="1207.92">couple of tools to analyze byte code to</span> <span data-start="1207.92" data-end="1210.32">analyze heat consumptions but we quickly</span> <span data-start="1210.32" data-end="1212.559">realize that this is not the level a</span> <span data-start="1212.559" data-end="1215.09">typical JavaScript developer want to</span> <span data-start="1215.09" data-end="1217.01">operate on so what we did instead is</span> <span data-start="1217.01" data-end="1220.61">reintroduced an event oftentimes it's</span> <span data-start="1220.61" data-end="1223.28">basically going like this i program my</span> <span data-start="1223.28" data-end="1225.2">program i program until this is not</span> <span data-start="1225.2" data-end="1227.24">enough ram anymore and then it crashes</span> <span data-start="1227.24" data-end="1229.46">well that's great but I could actually</span> <span data-start="1229.46" data-end="1232.25">prepare for this scenario if you are</span> <span data-start="1232.25" data-end="1234.97">like like memory leaks are one thing but</span> <span data-start="1234.97" data-end="1237.14">often times you have structures that</span> <span data-start="1237.14" data-end="1239.12">could be recreated if you have had more</span> </p>
<p><span data-start="1239.12" data-end="1241.19">RAM later on so what we do is I'm we</span> <span data-start="1241.19" data-end="1243.23">actually I'm firing event when you have</span> <span data-start="1243.23" data-end="1245">high memory pressure and then you could</span> <span data-start="1245" data-end="1246.77">lose of resources you don't need anymore</span> <span data-start="1246.77" data-end="1250.16">and there's another occasion when this</span> <span data-start="1250.16" data-end="1251.57">event fires and that it's really the</span> <span data-start="1251.57" data-end="1254.059">critical piece and when if you don't let</span> <span data-start="1254.059" data-end="1255.919">lose now we actually quit your</span> <span data-start="1255.919" data-end="1259.37">application what interesting question is</span> <span data-start="1259.37" data-end="1261.679">how would you possibly do any logic here</span> <span data-start="1261.679" data-end="1265.79">if you're out of RAM anyway so let's</span> <span data-start="1265.79" data-end="1269.24">talk about performance then luckily</span> </p>
<p><span data-start="1269.24" data-end="1270.95">Jerry script unlike other embedded</span> <span data-start="1270.95" data-end="1273.14">runtime such as Perino as Breen who</span> <span data-start="1273.14" data-end="1275.27">actually parses the same source code</span> <span data-start="1275.27" data-end="1276.62">again and again if you jump into a</span> <span data-start="1276.62" data-end="1277.97">function that parses that function again</span> <span data-start="1277.97" data-end="1279.38">if you jump out and jump in to get it</span> <span data-start="1279.38" data-end="1281.84">parses it again javascript is way more</span> <span data-start="1281.84" data-end="1284.24">efficient it stores a code in byte code</span> <span data-start="1284.24" data-end="1288.169">and that is great but computing bytecode</span> <span data-start="1288.169" data-end="1290.96">upfront costs time and RAM and hence you</span> <span data-start="1290.96" data-end="1294.02">know it by now we don't have that Ram so</span> <span data-start="1294.02" data-end="1296.299">what we did come up with is a system</span> <span data-start="1296.299" data-end="1299.39">where we produced by code offline you</span> <span data-start="1299.39" data-end="1301.64">have your own program stored in the</span> <span data-start="1301.64" data-end="1303.59">folder structure our SDK bundles</span> </p>
<p><span data-start="1303.59" data-end="1305.6">JavaScript for the phone and JavaScript</span> <span data-start="1305.6" data-end="1307.55">for the watch and it also compresses</span> <span data-start="1307.55" data-end="1310.13">some of the resources and then if you</span> <span data-start="1310.13" data-end="1310.59">install</span> <span data-start="1310.59" data-end="1312">application we actually move the</span> </p>
<p><span data-start="1312" data-end="1314.13">JavaScript part to the phone that was</span> <span data-start="1314.13" data-end="1315.87">already true for the last two years and</span> <span data-start="1315.87" data-end="1318.69">now the crazy thing happens words were</span> <span data-start="1318.69" data-end="1320.039">you called JavaScript inception</span> <span data-start="1320.039" data-end="1323.01">internally we basically cross compile</span> <span data-start="1323.01" data-end="1325.049">the JavaScript compiler using Emscripten</span> <span data-start="1325.049" data-end="1327.419">to JavaScript so that we can take your</span> <span data-start="1327.419" data-end="1329.309">JavaScript and produce JavaScript byte</span> <span data-start="1329.309" data-end="1332.4">code in JavaScript and that is for</span> <span data-start="1332.4" data-end="1334.35">different reasons one of them is that</span> <span data-start="1334.35" data-end="1337.26">the bytecode is no real maybe I contract</span> <span data-start="1337.26" data-end="1339.39">it actually depends on the firmware but</span> <span data-start="1339.39" data-end="1341.46">on iOS for example you cannot download</span> <span data-start="1341.46" data-end="1343.559">any new executable code unless it's</span> </p>
<p><span data-start="1343.559" data-end="1346.74">JavaScript so and there are different</span> <span data-start="1346.74" data-end="1348.149">other reasons and I'd love to talk about</span> <span data-start="1348.149" data-end="1350.669">it but in the end we actually only store</span> <span data-start="1350.669" data-end="1352.89">the bytecode on the watch executed in</span> <span data-start="1352.89" data-end="1355.649">the JavaScript environment point for is</span> <span data-start="1355.649" data-end="1357.84">what we were talking about here and then</span> <span data-start="1357.84" data-end="1359.399">you have access to the API talk to the</span> <span data-start="1359.399" data-end="1361.679">internet and everything that is crazy</span> <span data-start="1361.679" data-end="1365.1">but we did it we ship that like one and</span> <span data-start="1365.1" data-end="1366.75">a half weeks or two we finally make that</span> <span data-start="1366.75" data-end="1368.25">available to developers and this is how</span> <span data-start="1368.25" data-end="1371.159">it looks like so in the shell you have</span> <span data-start="1371.159" data-end="1374.669">this SDK thing you can build it and then</span> <span data-start="1374.669" data-end="1377.399">we already at build time tell you where</span> <span data-start="1377.399" data-end="1378.84">you have problems not at one time but</span> <span data-start="1378.84" data-end="1380.37">actually at build time and we can do</span> <span data-start="1380.37" data-end="1382.11">that because we leverage typescript</span> <span data-start="1382.11" data-end="1383.909">under the hood you are not a relish but</span> <span data-start="1383.909" data-end="1385.26">we actually have like typescript</span> <span data-start="1385.26" data-end="1387.27">definitions for all our AP eyes which</span> <span data-start="1387.27" data-end="1389.19">are basically rabbi be eyes and know</span> <span data-start="1389.19" data-end="1391.799">that a property is not available or like</span> <span data-start="1391.799" data-end="1393.45">you have some tactical hours and then</span> <span data-start="1393.45" data-end="1396.12">you build it and you can actually deploy</span> <span data-start="1396.12" data-end="1397.47">it on the right hand side you see an</span> <span data-start="1397.47" data-end="1399.45">emulator which is not a simulator it's</span> <span data-start="1399.45" data-end="1401.58">really the it maps the memory and</span> <span data-start="1401.58" data-end="1403.32">everything one to one has it exists on</span> <span data-start="1403.32" data-end="1405.99">our physical devices and there you can</span> <span data-start="1405.99" data-end="1408.36">run a watch face it's not the most</span> <span data-start="1408.36" data-end="1410.19">obvious what face here but it's done but</span> <span data-start="1410.19" data-end="1412.169">one of our communities our community</span> <span data-start="1412.169" data-end="1416.64">members which is great we also have the</span> <span data-start="1416.64" data-end="1418.59">ability because we have a localized ok</span> <span data-start="1418.59" data-end="1421.14">to tie this with your favorite idol here</span> </p>
<p><span data-start="1421.14" data-end="1423.69">I'm using webstorm that is also done the</span> <span data-start="1423.69" data-end="1425.01">one of our community members this is</span> <span data-start="1425.01" data-end="1429.149">some as you look at the structure of the</span> <span data-start="1429.149" data-end="1431.64">code it's he's actually inspired by C he</span> <span data-start="1431.64" data-end="1433.26">comes from British he background which</span> <span data-start="1433.26" data-end="1434.85">is fine it actually tells me that</span> <span data-start="1434.85" data-end="1436.86">javascript is approachable enough for c</span> <span data-start="1436.86" data-end="1439.02">developer whereas the other is not</span> <span data-start="1439.02" data-end="1442.23">operationally the case but here I'm</span> <span data-start="1442.23" data-end="1443.74">showing that</span> <span data-start="1443.74" data-end="1445.179">we actually have code completion thanks</span> <span data-start="1445.179" data-end="1447.04">to type on script definitions so we know</span> <span data-start="1447.04" data-end="1448.63">what we are dealing with we can stall</span> <span data-start="1448.63" data-end="1452.62">that we have at type time we know if</span> <span data-start="1452.62" data-end="1454.42">something is incompatible and so forth</span> <span data-start="1454.42" data-end="1457.72">and that is also right and because all</span> <span data-start="1457.72" data-end="1460.21">our projects are now like real but I do</span> <span data-start="1460.21" data-end="1462.19">have a package Jason they can require</span> <span data-start="1462.19" data-end="1464.38">other things we can now leverage all the</span> <span data-start="1464.38" data-end="1466.6">two legs so I can now run scripts that</span> <span data-start="1466.6" data-end="1469">are defined in the and the package.json</span> <span data-start="1469" data-end="1470.86">to build my program which is basically</span> <span data-start="1470.86" data-end="1472.54">the same I did previously in the command</span> <span data-start="1472.54" data-end="1475.15">line and also to install a ritual then</span> <span data-start="1475.15" data-end="1478">again fire up the emulator so that's</span> <span data-start="1478" data-end="1479.5">that's all great and that's basically</span> <span data-start="1479.5" data-end="1483.91">the same thing but i really only put</span> <span data-start="1483.91" data-end="1485.23">this here to show you that this is for</span> <span data-start="1485.23" data-end="1486.94">real and you can download it now and use</span> <span data-start="1486.94" data-end="1488.59">it and do javascript so here for example</span> <span data-start="1488.59" data-end="1491.32">that's a reimplement ation of apple</span> <span data-start="1491.32" data-end="1494.2">watches her massage face and there's a</span> <span data-start="1494.2" data-end="1495.73">third thing and we have this for a while</span> <span data-start="1495.73" data-end="1497.8">now it's called cloud pebble it's a</span> <span data-start="1497.8" data-end="1501.88">cloud-based ide traditionally for pebble</span> <span data-start="1501.88" data-end="1505.39">native applications where we offer you a</span> <span data-start="1505.39" data-end="1507.97">code editor it was previously in C now</span> <span data-start="1507.97" data-end="1510.04">and JavaScript and it's again the same</span> <span data-start="1510.04" data-end="1512.08">code it's the same author you actually</span> <span data-start="1512.08" data-end="1513.88">see that some of the sections are the</span> <span data-start="1513.88" data-end="1515.5">same and I hope that the community will</span> <span data-start="1515.5" data-end="1517.9">trade NPM packages from this to deal</span> <span data-start="1517.9" data-end="1520.36">with repetitive tasks and watch face</span> <span data-start="1520.36" data-end="1524.89">design the crazy thing about cloud</span> <span data-start="1524.89" data-end="1527.02">pebble is what it actually does because</span> <span data-start="1527.02" data-end="1529">it's not the editor is running in the</span> <span data-start="1529" data-end="1531.07">browser but we have a cloud-based build</span> <span data-start="1531.07" data-end="1532.66">system so whenever you actually do</span> <span data-start="1532.66" data-end="1533.77">something that's transmitted to the</span> <span data-start="1533.77" data-end="1535.99">cloud build and then the emulator you</span> <span data-start="1535.99" data-end="1538">see is also hosted on the cloud and</span> <span data-start="1538" data-end="1540.55">streamed via VNC back into the browser</span> <span data-start="1540.55" data-end="1541.9">where you can see the picture perfect</span> <span data-start="1541.9" data-end="1544.24">result but it allows you to basically</span> <span data-start="1544.24" data-end="1546.429">write JavaScript based applications</span> <span data-start="1546.429" data-end="1548.11">anywhere where you have access to a</span> <span data-start="1548.11" data-end="1550.87">browser to run it either in the emulator</span> <span data-start="1550.87" data-end="1553.03">or directly on the watch and it depends</span> <span data-start="1553.03" data-end="1555.73">on the remaining time to actually show</span> <span data-start="1555.73" data-end="1558.61">that on the actual watch so yeah that is</span> <span data-start="1558.61" data-end="1560.62">there and here you see that we deal with</span> <span data-start="1560.62" data-end="1562.51">different like screen shapes and</span> <span data-start="1562.51" data-end="1564.64">different aspect ratios when it comes to</span> <span data-start="1564.64" data-end="1567.58">our platform which is all doable that's</span> <span data-start="1567.58" data-end="1570.91">now let's talk about the future because</span> <span data-start="1570.91" data-end="1572.59">this is not the end this is not what we</span> <span data-start="1572.59" data-end="1574.12">want to do what we really want to do is</span> <span data-start="1574.12" data-end="1576.84">we want to do I'm great debugging</span> <span data-start="1576.84" data-end="1578.82">so here's a right now we only have</span> <span data-start="1578.82" data-end="1580.83">console.log for example but what you see</span> <span data-start="1580.83" data-end="1583.08">here is built with everything that's</span> <span data-start="1583.08" data-end="1584.82">publicly available on the left-hand side</span> <span data-start="1584.82" data-end="1587.279">see a note server which does not really</span> <span data-start="1587.279" data-end="1590.159">do much it's basically taking keyboard</span> <span data-start="1590.159" data-end="1593.01">input related via web socket to our</span> <span data-start="1593.01" data-end="1594.48">phone and then whenever it receives</span> <span data-start="1594.48" data-end="1595.98">something from the phone it prints it</span> <span data-start="1595.98" data-end="1597.99">out on the on the shell so I'm running</span> <span data-start="1597.99" data-end="1599.52">that node server and on the right hand</span> <span data-start="1599.52" data-end="1601.919">side there's our pebble application it</span> <span data-start="1601.919" data-end="1604.11">consists of two parts one is the part</span> <span data-start="1604.11" data-end="1606.12">that runs on the watch physically on the</span> <span data-start="1606.12" data-end="1608.52">watch it's trivial it's basically</span> <span data-start="1608.52" data-end="1610.94">whenever a message comes from the phone</span> <span data-start="1610.94" data-end="1614.25">eval that string take the output and</span> <span data-start="1614.25" data-end="1617.64">send it back so that's the watch part</span> <span data-start="1617.64" data-end="1620.07">and the same project also has a phone</span> <span data-start="1620.07" data-end="1622.5">part and the phone part is also just a</span> <span data-start="1622.5" data-end="1625.409">relay it talks by a WebSocket to the</span> <span data-start="1625.409" data-end="1627.21">node server whenever it receives a</span> <span data-start="1627.21" data-end="1629.279">string from the node server it forwards</span> <span data-start="1629.279" data-end="1632.64">it to the watch and whenever it receives</span> <span data-start="1632.64" data-end="1635.909">something on from the watch again it's</span> <span data-start="1635.909" data-end="1638.25">just our message passing here it</span> <span data-start="1638.25" data-end="1640.61">forwards it to the WebSocket connection</span> <span data-start="1640.61" data-end="1643.02">which is the node server and with that</span> <span data-start="1643.02" data-end="1645.029">and just a building blocks you should</span> <span data-start="1645.029" data-end="1647.52">all be familiar with we created on our</span> <span data-start="1647.52" data-end="1650.58">platform a rebel so I start this</span> <span data-start="1650.58" data-end="1652.529">application now again by now you should</span> <span data-start="1652.529" data-end="1654.87">be familiar with it it's an emulator but</span> <span data-start="1654.87" data-end="1656.99">now we are also printing the locks</span> <span data-start="1656.99" data-end="1660.029">here's the emulator and as soon as I</span> <span data-start="1660.029" data-end="1662.52">launch this both parts will be connected</span> <span data-start="1662.52" data-end="1664.559">to each other and boom there we are so</span> <span data-start="1664.559" data-end="1667.59">we can eval simple expressions 2+2 well</span> <span data-start="1667.59" data-end="1669.33">that's not really surprising but if I</span> <span data-start="1669.33" data-end="1671.34">lock something that log output doesn't</span> <span data-start="1671.34" data-end="1673.26">appear on the left hand side on my node</span> <span data-start="1673.26" data-end="1674.94">server but it's actually logged in the</span> <span data-start="1674.94" data-end="1678.84">context of of the watch and because this</span> <span data-start="1678.84" data-end="1681.6">is really a rocky application I can also</span> <span data-start="1681.6" data-end="1683.61">do everything we saw previously in the</span> <span data-start="1683.61" data-end="1685.89">source code so I'm now registering an</span> <span data-start="1685.89" data-end="1688.44">event handler that whenever it fires it</span> <span data-start="1688.44" data-end="1692.13">prints hello Jess conf Iceland obviously</span> <span data-start="1692.13" data-end="1693.659">that doesn't fire immediately because</span> <span data-start="1693.659" data-end="1696.149">nothing are told it to redraw but I'm</span> <span data-start="1696.149" data-end="1697.919">requesting now every draw and boom here</span> <span data-start="1697.919" data-end="1700.5">we are so this is really a node server</span> <span data-start="1700.5" data-end="1703.32">talking over the phone and bluetooth to</span> <span data-start="1703.32" data-end="1705.69">the watch printing something and Intel</span> <span data-start="1705.69" data-end="1710.159">terrific so we started a bit late sorry</span> </p>
<p><span data-start="1710.159" data-end="1711.419">I can you tell me how much time do we</span> <span data-start="1711.419" data-end="1721.169">have left awesome it's enough for me so</span> <span data-start="1721.169" data-end="1722.97">for the next thing I actually want to do</span> <span data-start="1722.97" data-end="1725.97">it for real and a live demo them because</span> <span data-start="1725.97" data-end="1728.25">like you saw that installing these</span> <span data-start="1728.25" data-end="1731.879">applications take some time because we</span> <span data-start="1731.879" data-end="1733.649">still do the same tool chain we</span> <span data-start="1733.649" data-end="1735.96">technically still build a pebble</span> <span data-start="1735.96" data-end="1737.73">application and under the hood there's</span> <span data-start="1737.73" data-end="1740.639">still a tiny little piece of see that</span> <span data-start="1740.639" data-end="1743.19">does nothing but telling the system okay</span> <span data-start="1743.19" data-end="1744.99">are cool I'm standard compliant RSV</span> <span data-start="1744.99" data-end="1746.399">application but you know what I don't</span> <span data-start="1746.399" data-end="1748.98">want to do anything but evil the</span> <span data-start="1748.98" data-end="1750.629">bytecode that's also part of my package</span> <span data-start="1750.629" data-end="1752.85">which was magically done by this mind</span> <span data-start="1752.85" data-end="1756.48">blowing and scripting thing before but</span> <span data-start="1756.48" data-end="1758.009">what if we could shortcut that even</span> <span data-start="1758.009" data-end="1760.98">further so we didn't know the other way</span> <span data-start="1760.98" data-end="1762.69">round so what you see here is yet</span> <span data-start="1762.69" data-end="1765.75">another watch face it's actually that is</span> <span data-start="1765.75" data-end="1767.399">more or less the source code of our</span> <span data-start="1767.399" data-end="1770.46">build and watch face and I can run this</span> <span data-start="1770.46" data-end="1776.299">in the browser so let me open that here</span> <span data-start="1776.299" data-end="1779.759">that is running in the browser although</span> <span data-start="1779.759" data-end="1781.47">there's no like there's no pebble</span> <span data-start="1781.47" data-end="1783.69">involved and you could say well that's</span> <span data-start="1783.69" data-end="1786.21">not a problem because the AP Isaac</span> <span data-start="1786.21" data-end="1788.519">handlers aren't they I can just draw to</span> <span data-start="1788.519" data-end="1790.44">canvas and get the result well the</span> <span data-start="1790.44" data-end="1792.12">problem with an environment environment</span> <span data-start="1792.12" data-end="1794.25">like this is that you want to have pixel</span> <span data-start="1794.25" data-end="1795.87">perfect results as you are developing</span> <span data-start="1795.87" data-end="1798.36">because the resolution is so small and</span> <span data-start="1798.36" data-end="1799.74">you really want to see all the quirks</span> <span data-start="1799.74" data-end="1801.21">and all the bugs we introduced an hour</span> <span data-start="1801.21" data-end="1804.419">platform so what this is is actually yes</span> <span data-start="1804.419" data-end="1806.25">the original source code but it lives</span> <span data-start="1806.25" data-end="1810.09">within an HTML page which uses a trans</span> <span data-start="1810.09" data-end="1814.679">piled version of our firmware inside the</span> <span data-start="1814.679" data-end="1816.99">browser so again we are leveraging and</span> <span data-start="1816.99" data-end="1819">scripting here but this time we trust</span> <span data-start="1819" data-end="1821.009">compiled the firmware to the application</span> <span data-start="1821.009" data-end="1823.47">layer of our firmware to run inside of</span> <span data-start="1823.47" data-end="1826.86">the browser so that we can talk to it in</span> <span data-start="1826.86" data-end="1831.43">the browser</span> <span data-start="1831.44" data-end="1834.019">and that gives me a fast feedback</span> <span data-start="1834.019" data-end="1836.929">because I'm now in my ID and I can say</span> <span data-start="1836.929" data-end="1839">you know what that black is a bit</span> <span data-start="1839" data-end="1842.36">depressing let's make that yellow and if</span> </p>
<p><span data-start="1842.36" data-end="1845.389">I though and if I make this and reload</span> <span data-start="1845.389" data-end="1848.57">that page boom it's yellow and I can</span> <span data-start="1848.57" data-end="1851.6">change that light to read reloaded and</span> <span data-start="1851.6" data-end="1853.61">there we go and then this white is</span> <span data-start="1853.61" data-end="1855.95">really hard to see and i'll make this</span> <span data-start="1855.95" data-end="1859.46">black cool so that's that's where we are</span> <span data-start="1859.46" data-end="1860.75">heading this is what we want to gain</span> <span data-start="1860.75" data-end="1862.34">right this is the development we want to</span> <span data-start="1862.34" data-end="1863.84">have but eventually we want to run it on</span> <span data-start="1863.84" data-end="1865.429">the watch so let's do that I'm copy and</span> <span data-start="1865.429" data-end="1867.59">pasting that into the ideally we saw</span> <span data-start="1867.59" data-end="1871.789">before I'm pasting it here and then you</span> <span data-start="1871.789" data-end="1873.5">can choose between different targets and</span> <span data-start="1873.5" data-end="1876.08">now taking again the emulator and while</span> <span data-start="1876.08" data-end="1877.909">I'm doing that to see that it actually</span> <span data-start="1877.909" data-end="1880.639">works taking off the launch I have you</span> <span data-start="1880.639" data-end="1884.69">on my wrist and put it on the video</span> <span data-start="1884.69" data-end="1886.669">setup i have here on the right so this</span> <span data-start="1886.669" data-end="1888.62">is a live camera this is actually you</span> <span data-start="1888.62" data-end="1892.549">here in the back and i can put my watch</span> <span data-start="1892.549" data-end="1894.769">here so that you can see the actual</span> <span data-start="1894.769" data-end="1898.25">output and by then we we started the</span> <span data-start="1898.25" data-end="1903.659">emulator have it all installed here and</span> <span data-start="1903.669" data-end="1911.179">well live demos let's see do maybe make</span> <span data-start="1911.179" data-end="1913.97">this black again sometimes the Radley</span> <span data-start="1913.97" data-end="1915.649">doesn't if I just paste maybe it didn't</span> <span data-start="1915.649" data-end="1917.96">understand that I was changing code and</span> <span data-start="1917.96" data-end="1921.559">didn't recompile really so I'm now</span> <span data-start="1921.559" data-end="1923.779">expecting red hands and a black</span> <span data-start="1923.779" data-end="1930.289">background there we are okay cool so I'm</span> <span data-start="1930.289" data-end="1933.62">changing that a bit more I'm saying ctx</span> <span data-start="1933.62" data-end="1938.48">field style is yellow and then I'm</span> <span data-start="1938.48" data-end="1946.25">saying ctx fill text hello Jess conf ice</span> <span data-start="1946.25" data-end="1953.75">land at 1010 and I'm changing that to</span> <span data-start="1953.75" data-end="1956.24">not talk I'm to an emulator but actually</span> <span data-start="1956.24" data-end="1958.129">to the phone and that is again crazy</span> <span data-start="1958.129" data-end="1963.309">what it does know is it understands that</span> <span data-start="1963.309" data-end="1965.62">my phone using my pebble account is</span> <span data-start="1965.62" data-end="1967.48">connected to the cloud it pushes the</span> <span data-start="1967.48" data-end="1969.1">binary it compiled it on the cloud and</span> <span data-start="1969.1" data-end="1971.62">it pushes it to the phone it talks by</span> <span data-start="1971.62" data-end="1973.509">bluetooth to the watch deploys it there</span> <span data-start="1973.509" data-end="1975.1">and what you see in the right hand side</span> <span data-start="1975.1" data-end="1977.47">is still the old application but I think</span> <span data-start="1977.47" data-end="1979.029">you got it it's now running on the watch</span> <span data-start="1979.029" data-end="1982.149">so this is this is really the real thing</span> <span data-start="1982.149" data-end="1984.37">you can write JavaScript modified and</span> <span data-start="1984.37" data-end="1988.629">deploy it on a launch cool so with that</span> </p>
<p><span data-start="1988.629" data-end="1993.82">I come back to my slides this was my</span> <span data-start="1993.82" data-end="1998.35">backup what you just saw is JavaScript</span> <span data-start="1998.35" data-end="2000.929">running on the watch it's really like</span> <span data-start="2000.929" data-end="2002.94">the real thing it's your JavaScript your</span> <span data-start="2002.94" data-end="2004.44">camera's code your events and everything</span> <span data-start="2004.44" data-end="2007.47">right there if you are a pedal developer</span> <span data-start="2007.47" data-end="2009.09">or I want to be deep apple developer and</span> <span data-start="2009.09" data-end="2011.58">see scared you in the past go there try</span> <span data-start="2011.58" data-end="2013.83">it out give us feedback it's it's</span> <span data-start="2013.83" data-end="2016.23">available if you do something with</span> <span data-start="2016.23" data-end="2018.269">embeddable devices and better devices</span> <span data-start="2018.269" data-end="2021.029">and you have a hard time thinking that</span> <span data-start="2021.029" data-end="2022.679">this is possible we have plenty of</span> <span data-start="2022.679" data-end="2024.779">internal lack knowledge and learnings</span> <span data-start="2024.779" data-end="2027.419">and I would love to talk to you if you</span> <span data-start="2027.419" data-end="2028.649">just got here by accident actually</span> <span data-start="2028.649" data-end="2030.33">wanted to watch the other presentation</span> <span data-start="2030.33" data-end="2033.47">in the other room the message to you is</span> <span data-start="2033.47" data-end="2036.269">you bet on the right horse javascript is</span> <span data-start="2036.269" data-end="2039.45">like everywhere it reaches even like</span> <span data-start="2039.45" data-end="2041.789">bound to those little devices and you</span> <span data-start="2041.789" data-end="2043.2">can be sure that javascript will be</span> <span data-start="2043.2" data-end="2044.94">around for a long time and there will be</span> <span data-start="2044.94" data-end="2046.169">more and more devices for you to play</span> <span data-start="2046.169" data-end="2051.549">with thanks</span> </p>
</section>