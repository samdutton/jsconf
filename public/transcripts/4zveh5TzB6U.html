<section>
<p><span data-start="0.62" data-end="19.39">[Music]</span> <span data-start="19.4" data-end="22.98">excited to be here cool hi so I'm Megan</span> <span data-start="22.98" data-end="25.41">I am a software engineer at JAXA in</span> <span data-start="25.41" data-end="27.72">Sydney and I'm here today to talk to you</span> <span data-start="27.72" data-end="29.849">all about numbers in general but also</span> <span data-start="29.849" data-end="33.03">specifically in JavaScript and to have a</span> <span data-start="33.03" data-end="34.14">little bit of fun with it I'm gonna put</span> <span data-start="34.14" data-end="35.579">it in the context of Beyonce a little</span> <span data-start="35.579" data-end="36.21">bit</span> <span data-start="36.21" data-end="40.1">can I see who here is a fan of Beyonce</span> <span data-start="40.1" data-end="42.36">can't actually see any of you so I'm</span> <span data-start="42.36" data-end="43.92">just gonna assume you're all fans of</span> </p>
<p><span data-start="43.92" data-end="47.09">Beyonce and you're gonna love this talk</span> <span data-start="47.09" data-end="50.85">so I hope you are ready to learn so</span> <span data-start="50.85" data-end="53.129">let's go back to basics what actually is</span> <span data-start="53.129" data-end="55.98">a number well a number is an abstract</span> <span data-start="55.98" data-end="58.199">concept which we use to count measure</span> <span data-start="58.199" data-end="61.53">label and identify things we kind of use</span> <span data-start="61.53" data-end="62.19">them every day</span> <span data-start="62.19" data-end="65.909">they're pretty familiar concept and to</span> <span data-start="65.909" data-end="67.89">help us kind of group them in and</span> <span data-start="67.89" data-end="70.82">understand them we can classify them so</span> <span data-start="70.82" data-end="72.57">we can group them into certain</span> <span data-start="72.57" data-end="74.78">categories so we can start off with</span> <span data-start="74.78" data-end="77.13">natural numbers which are our positive</span> <span data-start="77.13" data-end="81.21">whole numbers integers we have integers</span> <span data-start="81.21" data-end="84.33">which is negative and positive whole</span> <span data-start="84.33" data-end="87.689">numbers and includes 0 we have rational</span> <span data-start="87.689" data-end="88.95">numbers which numbers that can be</span> <span data-start="88.95" data-end="92.22">expressed as fractions irrational</span> <span data-start="92.22" data-end="93.54">numbers and numbers which cannot be</span> <span data-start="93.54" data-end="96.21">expressed as fractions such as pie or</span> <span data-start="96.21" data-end="98.939">the square root of 2 and we also have</span> <span data-start="98.939" data-end="100.47">real numbers so real numbers are a</span> <span data-start="100.47" data-end="102.68">superset of all of the above categories</span> <span data-start="102.68" data-end="105.899">and basically represent any number that</span> <span data-start="105.899" data-end="111.659">you can see on the number line we also</span> <span data-start="111.659" data-end="115.56">have complex numbers transcendental</span> <span data-start="115.56" data-end="119.729">numbers imaginary infinity and negative</span> <span data-start="119.729" data-end="125.219">infinity infinitesimally it's real none</span> <span data-start="125.219" data-end="127.799">of which I know anything about so not</span> <span data-start="127.799" data-end="131.78">going to go there so just as we can</span> <span data-start="131.78" data-end="133.69">classify numbers</span> <span data-start="133.69" data-end="134.74">in two different ways we can also</span> <span data-start="134.74" data-end="137.02">represent them in different ways so when</span> </p>
<p><span data-start="137.02" data-end="138.67">I talk about representation I just mean</span> <span data-start="138.67" data-end="140.74">how we communicate the numbers that were</span> <span data-start="140.74" data-end="144.4">using so in human languages if I asked</span> <span data-start="144.4" data-end="146.98">you to think of the number 8 many people</span> <span data-start="146.98" data-end="148.6">here would imagine in the Arabic numeral</span> <span data-start="148.6" data-end="153.61">eight some of us might imagine bar the</span> </p>
<p><span data-start="153.61" data-end="157.03">Mandarin Chinese characters some of us</span> <span data-start="157.03" data-end="160.33">might may think of us ah which is the</span> <span data-start="160.33" data-end="163.93">Hindi number of eight so all of these</span> <span data-start="163.93" data-end="165.7">are actually the same thing they're just</span> <span data-start="165.7" data-end="167.44">different symbols which we use to</span> <span data-start="167.44" data-end="171.16">represent the number eight and apologies</span> <span data-start="171.16" data-end="172.36">if I've just like butchered the</span> <span data-start="172.36" data-end="174.22">pronunciation of those feel free to come</span> <span data-start="174.22" data-end="178.15">and correct me afterwards so just as we</span> <span data-start="178.15" data-end="179.86">can represent numbers in different ways</span> <span data-start="179.86" data-end="181.9">in human languages we can also represent</span> <span data-start="181.9" data-end="184.39">them in different ways in JavaScript so</span> <span data-start="184.39" data-end="185.83">in JavaScript there are five ways that</span> <span data-start="185.83" data-end="188.02">we can represent numbers we have our</span> <span data-start="188.02" data-end="190.6">standard base 10 so if we imagine that</span> <span data-start="190.6" data-end="196.21">number 1234567 we can also represent</span> <span data-start="196.21" data-end="201.06">that as a binary number which is base to</span> <span data-start="201.06" data-end="205.69">octal which is base 8 hexadecimal which</span> <span data-start="205.69" data-end="208.63">is base 16 you'll use that a lot if</span> <span data-start="208.63" data-end="211.93">you're working with CSS as well and</span> <span data-start="211.93" data-end="215.53">scientific notation so that little so</span> <span data-start="215.53" data-end="216.91">this is what we use when we are handling</span> <span data-start="216.91" data-end="219.64">really large numbers and that a just</span> <span data-start="219.64" data-end="223.09">means like times 10 to the power of 6 in</span> <span data-start="223.09" data-end="227.47">this case so what is a number in</span> </p>
<p><span data-start="227.47" data-end="231.489">JavaScript well just as a girl has to</span> <span data-start="231.489" data-end="233.11">have her standards so to does a</span> <span data-start="233.11" data-end="235.6">programming language and in JavaScript</span> <span data-start="235.6" data-end="238.019">we follow the OEE</span> <span data-start="238.019" data-end="241.48">754 standard for floating-point</span> <span data-start="241.48" data-end="243.519">arithmetic that's the Institute of</span> <span data-start="243.519" data-end="247.36">Electrical and Electronic engineers it's</span> <span data-start="247.36" data-end="249.91">a super long really dry document if</span> <span data-start="249.91" data-end="251.65">you're having trouble sleeping I can</span> <span data-start="251.65" data-end="256.299">recommend it it's very interesting I</span> <span data-start="256.299" data-end="260.68">just don't have the the ability to read</span> <span data-start="260.68" data-end="263.47">that kind of document power to you if</span> <span data-start="263.47" data-end="266.199">you do but basically it</span> <span data-start="266.199" data-end="268.9">outlines how numbers are implemented in</span> </p>
<p><span data-start="268.9" data-end="272.11">JavaScript and gives us a reason why</span> <span data-start="272.11" data-end="274.659">zero point one plus zero point two does</span> <span data-start="274.659" data-end="276.849">not equal zero point 3 which is</span> <span data-start="276.849" data-end="281.159">everyone's favorite JavaScript joke</span> <span data-start="281.169" data-end="283.87">so the ieee-754 specifies the</span> <span data-start="283.87" data-end="285.249">implementation of floating-point</span> <span data-start="285.249" data-end="288.069">arithmetic in JavaScript which is how we</span> <span data-start="288.069" data-end="290.83">represent decimal points in binary and</span> <span data-start="290.83" data-end="292.539">it allows us to represent real numbers</span> <span data-start="292.539" data-end="294.879">as an approximation to support a</span> <span data-start="294.879" data-end="299.11">trade-off between range and precision so</span> <span data-start="299.11" data-end="300.819">when I talk about range and precision</span> <span data-start="300.819" data-end="303.789">computers have limited space they're not</span> <span data-start="303.789" data-end="305.789">that amazing</span> <span data-start="305.789" data-end="309.849">sorry no offense so when I talk about</span> <span data-start="309.849" data-end="312.279">range in JavaScript we have a range of</span> <span data-start="312.279" data-end="315.069">numbers that's like the size of the set</span> <span data-start="315.069" data-end="316.33">that we can represent so we can</span> <span data-start="316.33" data-end="317.949">represent from about negative 9</span> <span data-start="317.949" data-end="320.439">quadrillion all the way up to positive 9</span> <span data-start="320.439" data-end="322.509">quadrillion so that's a pretty decent</span> <span data-start="322.509" data-end="324.969">sample size and when I talk about</span> <span data-start="324.969" data-end="328.24">precision I mean in JavaScript we can</span> <span data-start="328.24" data-end="330.61">represent numbers safely to 17 decimal</span> <span data-start="330.61" data-end="334.06">places beyond that it'll just get kind</span> <span data-start="334.06" data-end="337.779">of wacky and because computers have</span> <span data-start="337.779" data-end="339.219">limited space we have to make a</span> <span data-start="339.219" data-end="340.96">trade-off between range and precision we</span> <span data-start="340.96" data-end="343.089">can either have greater range or greater</span> <span data-start="343.089" data-end="345.969">precision we can't really have both</span> <span data-start="345.969" data-end="350.68">unfortunately so computers are super</span> <span data-start="350.68" data-end="357.209">basic to you guys</span> <span data-start="357.219" data-end="362.349">this says hello Singapore in binary so</span> <span data-start="362.349" data-end="364.11">regardless of how you write your number</span> <span data-start="364.11" data-end="366.819">everything in your computer is going to</span> <span data-start="366.819" data-end="368.8">be stored in binary it's all just ones</span> <span data-start="368.8" data-end="372.55">and zeros but we can't have decimal</span> <span data-start="372.55" data-end="375.399">points in binary decimal coming from the</span> <span data-start="375.399" data-end="378.969">word deco meaning 10 binary is based too</span> <span data-start="378.969" data-end="380.71">so we can't really represent decimal</span> <span data-start="380.71" data-end="383.379">points safely so floating-point</span> <span data-start="383.379" data-end="387.25">arithmetic tries to account for that so</span> <span data-start="387.25" data-end="389.289">let's think about our number 1 million</span> <span data-start="389.289" data-end="395.469">230 4567 underneath that is the</span> <span data-start="395.469" data-end="397.3">representation of that number in binary</span> <span data-start="397.3" data-end="398.86">floating-point</span> <span data-start="398.86" data-end="404.65">we have 64 bits so 64 individual digits</span> <span data-start="404.65" data-end="408.11">and it's helpful to kind of think about</span> <span data-start="408.11" data-end="410.15">this in terms of scientific notation if</span> <span data-start="410.15" data-end="411.68">you're already familiar with it to break</span> <span data-start="411.68" data-end="414.35">down these bits so the first bit</span> <span data-start="414.35" data-end="418.28">represents the sign if it's a zero it's</span> <span data-start="418.28" data-end="420.5">a positive number if it's a 1 it's a</span> <span data-start="420.5" data-end="423.71">negative number the next 11 bits</span> <span data-start="423.71" data-end="426.05">represent the exponent so how far along</span> <span data-start="426.05" data-end="430.25">the decimal place should be in this case</span> <span data-start="430.25" data-end="433.67">it would be like six points along six</span> <span data-start="433.67" data-end="436.7">places alone and we also have the</span> <span data-start="436.7" data-end="439.64">significant or mantissa which actually</span> <span data-start="439.64" data-end="445.46">represents the the like actual digits of</span> <span data-start="445.46" data-end="450.35">the number so let's have a look a closer</span> <span data-start="450.35" data-end="452.3">look at everybody's favorite JavaScript</span> <span data-start="452.3" data-end="456.169">bug when I was a kid one of my maths</span> <span data-start="456.169" data-end="458.59">teachers always used to tell me that</span> <span data-start="458.59" data-end="468.01">calculators are never wrong humans are</span> <span data-start="468.02" data-end="470.01">yeah that's all I have to say about that</span> <span data-start="470.01" data-end="476.01">mr. Edwards so when we are representing</span> <span data-start="476.01" data-end="478.5">numbers in floating-point arithmetic we</span> <span data-start="478.5" data-end="480.6">can represent integers super-easy it's</span> <span data-start="480.6" data-end="482.52">fine the conversion to binary is totally</span> <span data-start="482.52" data-end="485.67">easy but when we start representing</span> <span data-start="485.67" data-end="487.59">fractions things become a little more</span> <span data-start="487.59" data-end="489.66">difficult so if we were trying to</span> <span data-start="489.66" data-end="492.45">represent say one tenth in binary binary</span> <span data-start="492.45" data-end="495.6">is based to so representing one out of</span> <span data-start="495.6" data-end="497.97">ten in a system that only counts up to</span> <span data-start="497.97" data-end="499.14">two it's gonna present some</span> <span data-start="499.14" data-end="504.18">complications let's think about a third</span> <span data-start="504.18" data-end="507.27">when we represent a third in decimal we</span> <span data-start="507.27" data-end="508.35">round it</span> <span data-start="508.35" data-end="512.58">we don't say 0.33 3 3 3 3 3 3 3 3 3 3 3</span> <span data-start="512.58" data-end="514.95">3 3 3 3 for the rest of our lives we</span> <span data-start="514.95" data-end="520.35">just say 0.3 0.33 but as anyone who's</span> <span data-start="520.35" data-end="522.75">tried to like implement a three column</span> <span data-start="522.75" data-end="526.55">layout grid layout and CSS we'll know</span> <span data-start="526.55" data-end="530.96">it's ready 33% x 3 doesn't equal 100%</span> <span data-start="530.96" data-end="538.31">it's always that pesky little 1% so our</span> <span data-start="538.31" data-end="543.2">0.1 plus 0.2 problem is similar to this</span> <span data-start="543.2" data-end="546.66">if we think about 0.1 represented in</span> <span data-start="546.66" data-end="550.11">decimal it's easy 0.1 let's convert that</span> <span data-start="550.11" data-end="553.38">to binary ok</span> <span data-start="553.38" data-end="557.25">that's a lot more complicated I did say</span> <span data-start="557.25" data-end="558.66">that we don't have decimal points in</span> <span data-start="558.66" data-end="560.49">binary that's not a decimal point</span> <span data-start="560.49" data-end="563.96">it's a radix point a radix binary point</span> <span data-start="563.96" data-end="566.82">so it's a similar concept but just in</span> <span data-start="566.82" data-end="569.16">base 2 we're not going to get into that</span> <span data-start="569.16" data-end="571.98">but if you look at this representation</span> <span data-start="571.98" data-end="574.65">you'll see it's zero point zero zero</span> <span data-start="574.65" data-end="578.61">zero one one zero zero one one zero zero</span> <span data-start="578.61" data-end="581.58">one one zero zero and that repetition</span> <span data-start="581.58" data-end="583.92">just keeps on going</span> <span data-start="583.92" data-end="587.28">but because we only have 64 bits we only</span> <span data-start="587.28" data-end="589.32">have a certain amount of space to store</span> <span data-start="589.32" data-end="592.35">this number we have to round it at some</span> <span data-start="592.35" data-end="595.62">point and so when we take that rounded</span> <span data-start="595.62" data-end="598.83">binary representation of 0.1 and convert</span> <span data-start="598.83" data-end="600.38">it back to decimal</span> <span data-start="600.38" data-end="609.92">we get this so that's not 0.1 hence this</span> <span data-start="609.92" data-end="615.2">problem so it's a rounding error how big</span> <span data-start="615.2" data-end="619.73">a problem is this really if I was trying</span> <span data-start="619.73" data-end="624.83">to measure 1 centimeter and I had 0.16</span> <span data-start="624.83" data-end="629.51">zeros for centimeters of era that would</span> <span data-start="629.51" data-end="634.76">be 0.9 0 3 times as long as a glucose</span> <span data-start="634.76" data-end="639.22">molecule okay that seems pretty tiny</span> <span data-start="639.22" data-end="642.65">let's go bigger if I were trying to</span> <span data-start="642.65" data-end="645.26">measure a kilometer and I had a margin</span> <span data-start="645.26" data-end="649.55">of error of 0.16 0 4 kilometers that</span> <span data-start="649.55" data-end="652.55">would be zero point twenty one zero</span> <span data-start="652.55" data-end="655.1">times as long as the distance from Earth</span> <span data-start="655.1" data-end="656.8">to the Moon</span> <span data-start="656.8" data-end="659.69">okay not big enough let's go big or go</span> <span data-start="659.69" data-end="662.87">home if I were trying to measure a</span> </p>
<p><span data-start="662.87" data-end="665.78">Lightyear that's the distance that light</span> <span data-start="665.78" data-end="669.77">travels in a year and I had a margin of</span> <span data-start="669.77" data-end="673.58">zero margin of error of 0.16 zero four</span> <span data-start="673.58" data-end="676.37">light-years I'd be about thirty eight</span> <span data-start="676.37" data-end="678.38">point three eight centimeters off or</span> <span data-start="678.38" data-end="680.06">about the height of a standard bowling</span> <span data-start="680.06" data-end="685.25">pin things you learn so in most cases</span> <span data-start="685.25" data-end="687.8">this degree of accuracy is really just</span> <span data-start="687.8" data-end="690.53">not gonna be that important</span> <span data-start="690.53" data-end="693.26">we don't usually need to know a value to</span> <span data-start="693.26" data-end="697.58">17 decimal places if we're creating a</span> <span data-start="697.58" data-end="699.2">shopping cart for instance does your</span> <span data-start="699.2" data-end="701.24">user really need to know their cart</span> <span data-start="701.24" data-end="704.75">total to 17 decimal places no they need</span> <span data-start="704.75" data-end="707.09">to know it's like 2 maximum so we can</span> <span data-start="707.09" data-end="709.19">just round it and we can just round it</span> <span data-start="709.19" data-end="711.23">really easily using the rounding methods</span> <span data-start="711.23" data-end="714.98">inside of the math object so we've</span> <span data-start="714.98" data-end="717.11">talked a bit about precision now let's</span> <span data-start="717.11" data-end="724.11">move on to range size really does matter</span> <span data-start="724.12" data-end="726.95">in my defense Charlie started the willy</span> <span data-start="726.95" data-end="728.84">jokes yesterday so I'm just carrying on</span> <span data-start="728.84" data-end="730.73">from her work</span> <span data-start="730.73" data-end="732.99">so I mentioned that we have a trade-off</span> <span data-start="732.99" data-end="736.02">between range and precision and when I</span> <span data-start="736.02" data-end="738.23">mentioned our range I said we have a</span> <span data-start="738.23" data-end="740.46">range in JavaScript of about negative</span> <span data-start="740.46" data-end="742.32">nine quadrillion through two positive</span> <span data-start="742.32" data-end="744.84">nine quadrillion but I wasn't telling</span> <span data-start="744.84" data-end="749.15">the entire truth way to build trust cool</span> <span data-start="749.15" data-end="751.74">so if I went into my JavaScript console</span> <span data-start="751.74" data-end="754.89">and I typed in 1.7 times 10 to the power</span> <span data-start="754.89" data-end="758.37">of 308 I'd get that number back so</span> <span data-start="758.37" data-end="760.14">obviously I can represent that number</span> <span data-start="760.14" data-end="762.6">that's way bigger than nine quadrillion</span> <span data-start="762.6" data-end="765.36">nine quadrillions only like 16 zeros and</span> <span data-start="765.36" data-end="770.07">this has 308 that's massive but if I go</span> <span data-start="770.07" data-end="772.86">1.8 to the power times 10 to the power</span> <span data-start="772.86" data-end="779.82">of 308 any infinity I'm confused</span> </p>
<p><span data-start="779.82" data-end="783.27">I really remember that being how Matz</span> <span data-start="783.27" data-end="787.8">works but okay so javascript actually</span> <span data-start="787.8" data-end="790.62">has a maximum value and you can access</span> <span data-start="790.62" data-end="792.18">that inside of the number object and</span> <span data-start="792.18" data-end="794.52">it's one point seven nine seven six nine</span> <span data-start="794.52" data-end="797.4">all the rest of those numbers times 10</span> <span data-start="797.4" data-end="800.13">to the power of 308 so that's a really</span> <span data-start="800.13" data-end="803.67">big number and for really big numbers we</span> <span data-start="803.67" data-end="807.06">have naming conventions so like a</span> <span data-start="807.06" data-end="810.81">million a billion a quadrillion and</span> <span data-start="810.81" data-end="813.15">those naming conventions go all the way</span> <span data-start="813.15" data-end="816.51">up to a number that is followed by 303</span> <span data-start="816.51" data-end="819.99">zeroes which is called a Santa lien so</span> </p>
<p><span data-start="819.99" data-end="821.7">JavaScript actually exceeds naming</span> <span data-start="821.7" data-end="824.13">conventions like that's massive that's</span> <span data-start="824.13" data-end="827.52">huge that's a pretty good range if</span> <span data-start="827.52" data-end="828.75">you're still not convinced that that's a</span> <span data-start="828.75" data-end="832.62">good range three point two eight times</span> <span data-start="832.62" data-end="835.56">ten to the power of 80 is a number of</span> <span data-start="835.56" data-end="838.74">particles in the universe so if you're</span> <span data-start="838.74" data-end="841.65">using any numbers bigger than that what</span> <span data-start="841.65" data-end="845.76">are you doing stop I'm gonna create a</span> <span data-start="845.76" data-end="850.11">black hole or something if you are using</span> <span data-start="850.11" data-end="851.49">numbers bigger than that like tell me I</span> <span data-start="851.49" data-end="852.54">want to know what you're doing for real</span> <span data-start="852.54" data-end="856.86">that's cool so we have no business using</span> <span data-start="856.86" data-end="859.37">numbers greater than that maximum number</span> <span data-start="859.37" data-end="862.81">this is this is fine</span> <span data-start="862.81" data-end="867.199">so we have a massive range up to three</span> <span data-start="867.199" data-end="870.529">hundred and eight zeros but we can't</span> <span data-start="870.529" data-end="872.99">safely represent numbers beyond this</span> <span data-start="872.99" data-end="874.85">nine quadrillion that I'm keep banging</span> <span data-start="874.85" data-end="877.399">on about so in JavaScript we have a</span> <span data-start="877.399" data-end="879.649">maximum and minimum safe integers and</span> <span data-start="879.649" data-end="882.139">that's that nine quadrillion value but</span> <span data-start="882.139" data-end="884.569">if we move me on those values things get</span> <span data-start="884.569" data-end="888.56">a little bit weird all right we've got</span> <span data-start="888.56" data-end="890.87">our maximum safe integer we just pay</span> <span data-start="890.87" data-end="892.37">attention to the last three digits</span> <span data-start="892.37" data-end="893.899">because the rest of it it's just too</span> <span data-start="893.899" data-end="895.279">much</span> <span data-start="895.279" data-end="898.19">it ends in nine nine one all right let's</span> <span data-start="898.19" data-end="902.449">try to do some maths all right working</span> <span data-start="902.449" data-end="921.23">so far okay back on track so the</span> <span data-start="921.23" data-end="923.209">arithmetic just stops adding up at a</span> <span data-start="923.209" data-end="928.55">certain point and so this big number</span> <span data-start="928.55" data-end="930.529">problem is actually what inspired this</span> <span data-start="930.529" data-end="932.329">talk and now we're gonna get into</span> </p>
<p><span data-start="932.329" data-end="934.43">Beyonce I promise show you've all been</span> <span data-start="934.43" data-end="938.149">waiting with bated breath so at work so</span> <span data-start="938.149" data-end="941.18">for a bit of context at jackster we're</span> <span data-start="941.18" data-end="943.61">building a massive database of music</span> <span data-start="943.61" data-end="945.11">credits so you can look up your favorite</span> <span data-start="945.11" data-end="947.81">song and see who wrote produced recorded</span> <span data-start="947.81" data-end="951.079">whatever and you can see all their names</span> <span data-start="951.079" data-end="954.26">and click through whatever so work one</span> <span data-start="954.26" data-end="956.06">day I was working on a page let's say I</span> <span data-start="956.06" data-end="958.519">was looking at drunk in love by Beyonce</span> <span data-start="958.519" data-end="960.529">which happens to be one of my favorite</span> <span data-start="960.529" data-end="967.25">karaoke songs make it happen also in</span> <span data-start="967.25" data-end="968.93">case you didn't understand the reference</span> <span data-start="968.93" data-end="970.73">of my shirt because you weren't familiar</span> <span data-start="970.73" data-end="973.459">with Beyonce's discography this is the</span> <span data-start="973.459" data-end="981.769">reference okay so this is the page for</span> <span data-start="981.769" data-end="985.24">drunken love by the USA on Jack's toe</span> <span data-start="985.24" data-end="987.29">but you might notice something a bit</span> <span data-start="987.29" data-end="989.75">weird in that credits panel on the left</span> <span data-start="989.75" data-end="992.36">is that Beyonce is both the featured</span> <span data-start="992.36" data-end="995.72">artist and the main artist which is</span> <span data-start="995.72" data-end="997.49">not really true because jay-z's the</span> <span data-start="997.49" data-end="1000.67">featured artist on that song I mean to</span> <span data-start="1000.67" data-end="1004.2">me this is a feature more than a bug but</span> <span data-start="1004.2" data-end="1008.62">double Beyonce hell yeah cool so I</span> <span data-start="1008.62" data-end="1010.3">noticed that we had this duplicate Dada</span> <span data-start="1010.3" data-end="1014.38">rendering on the page and Beyonce</span> <span data-start="1014.38" data-end="1015.97">wouldn't like this right she'd probably</span> <span data-start="1015.97" data-end="1021.07">want jay-z to be represented fairly so I</span> <span data-start="1021.07" data-end="1024.31">checked the API response and I saw that</span> <span data-start="1024.31" data-end="1025.63">yeah we've got beyond saying we've got</span> <span data-start="1025.63" data-end="1027.73">jay-z there's those two things are</span> <span data-start="1027.73" data-end="1030.699">coming through but having a look at</span> <span data-start="1030.699" data-end="1032.92">those IDs if you notice the last few</span> <span data-start="1032.92" data-end="1039.01">digits that's not unique which is not</span> <span data-start="1039.01" data-end="1040.54">ideal because they're clearly not the</span> <span data-start="1040.54" data-end="1048.3">same object and so the problem here is</span> <span data-start="1048.3" data-end="1051.58">that when we take the original IDs which</span> <span data-start="1051.58" data-end="1055.63">ended in 167 and 168 JavaScript was</span> <span data-start="1055.63" data-end="1057.55">passing them in correctly when I got</span> <span data-start="1057.55" data-end="1059.02">them because those numbers were too</span> <span data-start="1059.02" data-end="1064.33">large and so what was happening because</span> <span data-start="1064.33" data-end="1066.22">we were getting the same IDs the</span> <span data-start="1066.22" data-end="1068.83">framework that I use is embo and Amba</span> </p>
<p><span data-start="1068.83" data-end="1070.45">Dada was saying hey I've already got a</span> <span data-start="1070.45" data-end="1072.28">resource object with that ID I'm not</span> <span data-start="1072.28" data-end="1073.84">gonna fetch it again so here have</span> <span data-start="1073.84" data-end="1077.38">beyonce again she's again feature or not</span> <span data-start="1077.38" data-end="1077.86">a bug</span> <span data-start="1077.86" data-end="1085.36">but my boss didn't think so yeah so as</span> <span data-start="1085.36" data-end="1087.79">you can see if you have IDs without</span> <span data-start="1087.79" data-end="1090.22">numeric and they are incrementing and</span> <span data-start="1090.22" data-end="1092.62">they're too large probably gonna run</span> <span data-start="1092.62" data-end="1094.48">into problems like this and you probably</span> <span data-start="1094.48" data-end="1095.92">gonna stare you screen for like three</span> <span data-start="1095.92" data-end="1102.55">hours going why maybe right and so we</span> <span data-start="1102.55" data-end="1104.05">were getting chiefly katana on the page</span> <span data-start="1104.05" data-end="1109.06">which was not ideal something to look</span> <span data-start="1109.06" data-end="1111.37">out for when you are handling really big</span> <span data-start="1111.37" data-end="1114.46">numbers in API responses is that</span> <span data-start="1114.46" data-end="1115.66">sometimes they'll be a difference</span> <span data-start="1115.66" data-end="1117.7">between like when you open your response</span> <span data-start="1117.7" data-end="1121.15">in a new tab versus in dev tools so when</span> </p>
<p><span data-start="1121.15" data-end="1123.28">I was looking in dev tools the IDs were</span> <span data-start="1123.28" data-end="1124.9">exactly the same so they were passed</span> <span data-start="1124.9" data-end="1125.53">already</span> <span data-start="1125.53" data-end="1127.63">where is when I opened the response up</span> <span data-start="1127.63" data-end="1130.179">in a new tab it was the original</span> <span data-start="1130.179" data-end="1132.76">i D that was one six seven and one six</span> <span data-start="1132.76" data-end="1137.32">eight so that's not ideal that's</span> <span data-start="1137.32" data-end="1140.14">happening in Chrome and Safari so you</span> <span data-start="1140.14" data-end="1142.51">get the correct unpassed integer in a</span> <span data-start="1142.51" data-end="1144.669">new tab but the past integer and dev</span> <span data-start="1144.669" data-end="1147.669">tools in Firefox you get the past</span> <span data-start="1147.669" data-end="1149.77">integer in both the new tab and the dev</span> <span data-start="1149.77" data-end="1150.84">tools</span> <span data-start="1150.84" data-end="1156.039">who knows although in edge now that it's</span> <span data-start="1156.039" data-end="1157.299">chromium you'll probably get the same</span> <span data-start="1157.299" data-end="1160.539">behavior as Chrome so that's cool I</span> <span data-start="1160.539" data-end="1162.22">don't really understand why that's</span> <span data-start="1162.22" data-end="1164.89">happening if anyone works on these kind</span> <span data-start="1164.89" data-end="1166.419">of tools and can enlighten me I would</span> <span data-start="1166.419" data-end="1168.309">love to know why it's like different in</span> <span data-start="1168.309" data-end="1172.63">a new tab versus in the dev tools yeah</span> <span data-start="1172.63" data-end="1175.96">so because we had the incremental</span> <span data-start="1175.96" data-end="1178.6">numeric IDs it was a problem so our</span> <span data-start="1178.6" data-end="1182.02">solution was to move to you IDs which is</span> <span data-start="1182.02" data-end="1184.63">a pretty common solution they solve a</span> <span data-start="1184.63" data-end="1188.049">bunch of problems for us that was</span> <span data-start="1188.049" data-end="1191.11">primarily this problem where numbers</span> <span data-start="1191.11" data-end="1193.899">were too large and the funny thing was</span> <span data-start="1193.899" data-end="1195.789">we were actually using you IDs unlike</span> <span data-start="1195.789" data-end="1198.1">every other table we just forgotten this</span> <span data-start="1198.1" data-end="1204.32">one in the database and that was like</span> <span data-start="1204.33" data-end="1208.539">and so because we fixed that now drunken</span> <span data-start="1208.539" data-end="1210.309">love appears with the correct credits</span> <span data-start="1210.309" data-end="1214.21">for jay-z and Beyonce and the king and</span> <span data-start="1214.21" data-end="1219.909">queen are happy so this just in well</span> <span data-start="1219.909" data-end="1223.809">like a year ago but this just in we also</span> <span data-start="1223.809" data-end="1227.89">have now big int which is a new numeric</span> <span data-start="1227.89" data-end="1229.929">primitive that was introduced about</span> <span data-start="1229.929" data-end="1233.71">twelve months ago like a week before the</span> <span data-start="1233.71" data-end="1235.27">first time I gave this talk and I was</span> <span data-start="1235.27" data-end="1241.87">like oh my god so stressful so it is</span> <span data-start="1241.87" data-end="1244.99">available in Chrome Firefox 68 Vita and</span> <span data-start="1244.99" data-end="1247.99">edge it became available in Firefox 68</span> <span data-start="1247.99" data-end="1249.97">beta like a week ago which was super</span> <span data-start="1249.97" data-end="1253.83">exciting if your numbers nerd like me</span> <span data-start="1253.83" data-end="1256.39">and it means we can represent numbers</span> <span data-start="1256.39" data-end="1258.88">beyond that maximum safe integer which</span> <span data-start="1258.88" data-end="1261.77">is pretty exciting</span> <span data-start="1261.77" data-end="1265.049">so we can create them by appending</span> <span data-start="1265.049" data-end="1269.4">in to a number so we type in 100 N and</span> <span data-start="1269.4" data-end="1273.53">we receive back 100 N which is a big int</span> <span data-start="1273.53" data-end="1276.87">you can also use the big int method with</span> <span data-start="1276.87" data-end="1280.59">a string or a number we can't use any</span> <span data-start="1280.59" data-end="1283.23">floats because it is an integer not the</span> <span data-start="1283.23" data-end="1291.12">float or not big int not big decimal we</span> <span data-start="1291.12" data-end="1293.46">can do arithmetic with other big in</span> <span data-start="1293.46" data-end="1297.299">switch is cool we can do adding</span> <span data-start="1297.299" data-end="1302.33">subtracting multiplying we can divide</span> <span data-start="1302.33" data-end="1305.16">but because we won't return any decimals</span> <span data-start="1305.16" data-end="1307.53">it will just round to 0 so 10 divided by</span> <span data-start="1307.53" data-end="1313.89">3 is 3 and 1/3 but it'll just say 3 we</span> <span data-start="1313.89" data-end="1316.77">can do this operation I don't know what</span> <span data-start="1316.77" data-end="1318.419">it's called but it's like when you do</span> <span data-start="1318.419" data-end="1320.61">something to the power of let's call it</span> <span data-start="1320.61" data-end="1325.5">^ and we can also do modulo which is</span> <span data-start="1325.5" data-end="1328.89">cool we can't do mixed type operations</span> <span data-start="1328.89" data-end="1332.82">so we can't add 100 into 100 they're</span> <span data-start="1332.82" data-end="1336">different numeric types so we can't</span> <span data-start="1336" data-end="1339.12">actually mix them but we can compare</span> <span data-start="1339.12" data-end="1341.84">them so they have loose can loose</span> <span data-start="1341.84" data-end="1348.09">equality to regular numbers and we can</span> <span data-start="1348.09" data-end="1350.22">compare them like with greater than and</span> <span data-start="1350.22" data-end="1352.59">less then they'll compare correctly so</span> <span data-start="1352.59" data-end="1355.65">if we have like a array of mixed types</span> <span data-start="1355.65" data-end="1360.66">we can sort them things like that um now</span> <span data-start="1360.66" data-end="1362.97">let's do some maths like some real maths</span> <span data-start="1362.97" data-end="1365.91">with these big numbers so earlier we had</span> <span data-start="1365.91" data-end="1368.46">this problem where we were adding to the</span> <span data-start="1368.46" data-end="1370.38">maximum safe integer and everything was</span> <span data-start="1370.38" data-end="1372.78">just really confusing and weird let's</span> <span data-start="1372.78" data-end="1377.25">try that with big num Oh big integer so</span> </p>
<p><span data-start="1377.25" data-end="1379.89">I'll set a variable big num and then</span> <span data-start="1379.89" data-end="1386.17">I'll add 1 all right cool it works</span> <span data-start="1386.17" data-end="1389.17">it works yeah clap for the creators of</span> <span data-start="1389.17" data-end="1394.18">bigot it just keeps going it's so</span> <span data-start="1394.18" data-end="1400.51">beautiful I love it I love it yeah so</span> <span data-start="1400.51" data-end="1402.55">big in is not yet ready for production</span> <span data-start="1402.55" data-end="1405.28">apps it's not available in all browsers</span> <span data-start="1405.28" data-end="1406.6">and there's not a huge amount of</span> <span data-start="1406.6" data-end="1409.75">documentation available but um this is</span> <span data-start="1409.75" data-end="1412.55">how I feel about it</span> <span data-start="1412.56" data-end="1417.79">big numbers cool what I think is most</span> <span data-start="1417.79" data-end="1421.66">exciting about this is that this problem</span> <span data-start="1421.66" data-end="1423.37">didn't even exist when JavaScript was</span> <span data-start="1423.37" data-end="1426.85">created like what 23 24 years ago</span> </p>
<p><span data-start="1426.85" data-end="1429.25">I mean javascript is kind of still like</span> <span data-start="1429.25" data-end="1432.1">a baby in terms of what it can do but</span> <span data-start="1432.1" data-end="1434.68">like some babies grow up to be Beyonce</span> <span data-start="1434.68" data-end="1439.09">so maybe JavaScript will grow up to be</span> <span data-start="1439.09" data-end="1441.22">Beyonce but I think it's really cool</span> <span data-start="1441.22" data-end="1443.86">that you know it's easy to get caught up</span> <span data-start="1443.86" data-end="1445.93">in JavaScript fatigue sometimes but I</span> <span data-start="1445.93" data-end="1448.6">think it's really cool to be working in</span> <span data-start="1448.6" data-end="1450.25">an ecosystem that is constantly evolving</span> <span data-start="1450.25" data-end="1453.25">and growing and loading and fixing its</span> <span data-start="1453.25" data-end="1457.92">mistakes which is cool so to summarize</span> <span data-start="1457.92" data-end="1460">javascript has some really weird number</span> <span data-start="1460" data-end="1462.25">quirks but when you kind of dig into</span> <span data-start="1462.25" data-end="1465.81">them they're not totally unreasonable I</span> <span data-start="1465.81" data-end="1468.1">would say they are totally reasonable</span> <span data-start="1468.1" data-end="1471.52">when you kind of know what's going on so</span> <span data-start="1471.52" data-end="1473.95">something to kind of just be aware of I</span> <span data-start="1473.95" data-end="1476.95">guess when you're talking about precise</span> <span data-start="1476.95" data-end="1480.01">numbers remember that javascript uses 64</span> <span data-start="1480.01" data-end="1482.47">bit floating points so there are going</span> <span data-start="1482.47" data-end="1483.94">to be precision errors when you're going</span> <span data-start="1483.94" data-end="1488.32">any further than 17 decimal places so</span> <span data-start="1488.32" data-end="1491.23">around things and when we're talking</span> <span data-start="1491.23" data-end="1493.24">about really big numbers remember that</span> <span data-start="1493.24" data-end="1496">there's that maximum safe integer try</span> <span data-start="1496" data-end="1499.27">not to go beyond it if you can I'll have</span> <span data-start="1499.27" data-end="1501.46">your IDs passed through with strings or</span> <span data-start="1501.46" data-end="1504.22">different kind of types and remember</span> <span data-start="1504.22" data-end="1506.08">that big ant is coming which is really</span> <span data-start="1506.08" data-end="1509.83">cool I'm excited so I'm hoping that</span> <span data-start="1509.83" data-end="1512.62">after this talk with mass you'll be a</span> <span data-start="1512.62" data-end="1520.609">little less confused like this good boy</span> <span data-start="1520.619" data-end="1526.599">or a little less confused be and a</span> <span data-start="1526.599" data-end="1534.62">little more slay thank you so much</span> </p>
</section>