<section>
<p><span data-start="18.62" data-end="21.03">thank you for having me yeah I changed</span> <span data-start="21.03" data-end="22.86">the title of almost every talk I do I</span> <span data-start="22.86" data-end="24.39">can't help but fiddle and fiddle until</span> <span data-start="24.39" data-end="26.94">the last minute anyway it's amazing to</span> <span data-start="26.94" data-end="28.62">be here obviously speaking at track day</span> <span data-start="28.62" data-end="31.47">is an honor and beyond intimidating so</span> <span data-start="31.47" data-end="33.54">I'm really pleased to get a chance to</span> <span data-start="33.54" data-end="35.76">try it today I'm gonna talk about a</span> <span data-start="35.76" data-end="38.809">project that I did with Trulia it was a</span> <span data-start="38.809" data-end="41.22">sort of a broad project they realized</span> <span data-start="41.22" data-end="43.14">that they're you I had gotten a bit out</span> <span data-start="43.14" data-end="43.89">of control</span> <span data-start="43.89" data-end="46.739">and luckily they agreed to let me</span> <span data-start="46.739" data-end="48.21">actually talk to you guys and even show</span> <span data-start="48.21" data-end="49.95">you some cool yummy data today so I'm</span> <span data-start="49.95" data-end="52.17">pretty excited about that we did a</span> <span data-start="52.17" data-end="53.85">project where we sort of reinvented what</span> <span data-start="53.85" data-end="55.92">a style guide meant for them a sort of</span> <span data-start="55.92" data-end="57.66">modern version of what that could be</span> <span data-start="57.66" data-end="60.36">and at the same time we factored their</span> <span data-start="60.36" data-end="63.03">app to use more efficient HTML and to</span> <span data-start="63.03" data-end="66.42">move them over to using sass or rather s</span> </p>
<p><span data-start="66.42" data-end="69.33">CSS for the particular flavor that they</span> <span data-start="69.33" data-end="71.25">chose so I'm going to talk a little bit</span> <span data-start="71.25" data-end="74.13">about that about how we you know how we</span> <span data-start="74.13" data-end="75.84">were able to use style guides as a way</span> <span data-start="75.84" data-end="77.759">to improve their performance</span> <span data-start="77.759" data-end="79.86">and to get some other good benefits that</span> <span data-start="79.86" data-end="83.25">that I think they really liked so first</span> <span data-start="83.25" data-end="85.37">I have to go back and talk about what</span> <span data-start="85.37" data-end="88.53">what style guides used to mean and so</span> <span data-start="88.53" data-end="90.69">this is an example of a style guide that</span> <span data-start="90.69" data-end="93.84">was done for AOL in 2007 the thing is a</span> <span data-start="93.84" data-end="95.79">beast it's beautiful it's amazing it's</span> <span data-start="95.79" data-end="97.83">gorgeous it's like a you know it's like</span> <span data-start="97.83" data-end="100.32">a piece of art but I would say not</span> <span data-start="100.32" data-end="103.229">really that useful for the web so it has</span> <span data-start="103.229" data-end="105.27">things like this with very detailed</span> <span data-start="105.27" data-end="107.13">diagrams of their logo and exactly the</span> <span data-start="107.13" data-end="108.36">amount of space that's supposed to be</span> <span data-start="108.36" data-end="110.61">between each of the triangles and the</span> <span data-start="110.61" data-end="112.86">actual text of the logo and how much</span> <span data-start="112.86" data-end="114.96">space should be above and below the logo</span> <span data-start="114.96" data-end="116.82">and all kinds of things that do not</span> <span data-start="116.82" data-end="118.26">matter when you're making a website at</span> <span data-start="118.26" data-end="120">all because most of those decisions are</span> <span data-start="120" data-end="122.25">made long before we ever get involved</span> <span data-start="122.25" data-end="123.21">right</span> <span data-start="123.21" data-end="124.979">it also contains really super useful</span> <span data-start="124.979" data-end="126.6">stuff like how the logo should be</span> <span data-start="126.6" data-end="129.95">positioned on a hat</span> <span data-start="129.96" data-end="132.82">or they're warm and cool pallets which</span> <span data-start="132.82" data-end="134.71">you know it is it's beautiful look at</span> <span data-start="134.71" data-end="136.33">that right somebody spent a fair bit of</span> <span data-start="136.33" data-end="137.92">time actually making that but what that</span> <span data-start="137.92" data-end="140.05">doesn't tell me is that top left yellow</span> <span data-start="140.05" data-end="141.85">am I supposed to use it for type or is</span> <span data-start="141.85" data-end="143.2">it mental need to be a background color</span> <span data-start="143.2" data-end="145.21">or is it the color of a box or a</span> <span data-start="145.21" data-end="148.24">gradient it's beautiful but in the web</span> <span data-start="148.24" data-end="152.14">world I think not so useful also it's</span> <span data-start="152.14" data-end="154.3">fantastic that the thesis font family is</span> <span data-start="154.3" data-end="156.43">warm and intuitive but I don't care I</span> <span data-start="156.43" data-end="158.08">just need to know when I'm trying to put</span> <span data-start="158.08" data-end="159.61">something together in the app what font</span> </p>
<p><span data-start="159.61" data-end="161.35">I'm supposed to use and where and and</span> <span data-start="161.35" data-end="162.97">how to make those decisions without</span> <span data-start="162.97" data-end="164.41">having to go knocking on the designers</span> <span data-start="164.41" data-end="166.3">door every two minutes to ask them</span> <span data-start="166.3" data-end="168.25">another question about how the thing was</span> <span data-start="168.25" data-end="171.16">supposed to be built um so what I think</span> <span data-start="171.16" data-end="172.72">about why these sorts of style guides</span> <span data-start="172.72" data-end="174.79">don't work is because they take months</span> <span data-start="174.79" data-end="176.8">to produce they're basically out of date</span> <span data-start="176.8" data-end="179.08">before they're ever PDF to and put on</span> <span data-start="179.08" data-end="181">people's desks because this is how this</span> <span data-start="181" data-end="182.59">kind of beautiful thing is meant to be</span> <span data-start="182.59" data-end="184.3">used right it's meant to be delivered to</span> <span data-start="184.3" data-end="187.27">you like a present or something and I</span> <span data-start="187.27" data-end="188.56">don't think that that works right</span> <span data-start="188.56" data-end="190.42">because a design is fluid I mean I can't</span> <span data-start="190.42" data-end="192.04">tell you maybe people can show me by a</span> <span data-start="192.04" data-end="193.42">raise of hands a number of times that a</span> <span data-start="193.42" data-end="195.22">designer has said this is the final</span> <span data-start="195.22" data-end="197.74">final final design it's never gonna</span> <span data-start="197.74" data-end="199.78">change after that's right and then a</span> <span data-start="199.78" data-end="201.46">week later someone's like well you know</span> <span data-start="201.46" data-end="203.11">that radius could be a little bit</span> <span data-start="203.11" data-end="206.11">different and so I think that we need a</span> <span data-start="206.11" data-end="208.45">more fluid and more living kind of a</span> <span data-start="208.45" data-end="210.34">style guide we need something that works</span> <span data-start="210.34" data-end="213.31">with code and so oh and the other issue</span> <span data-start="213.31" data-end="214.06">with them is that they're really</span> <span data-start="214.06" data-end="216.31">designer centric you know it's useful</span> <span data-start="216.31" data-end="218.26">for design to talk about what design</span> <span data-start="218.26" data-end="220.21">means at AOL but it's not useful for</span> <span data-start="220.21" data-end="223.12">their web team or their engineers to be</span> <span data-start="223.12" data-end="224.56">a part of the equation at all</span> <span data-start="224.56" data-end="226.6">so in my opinion we have to kill that</span> <span data-start="226.6" data-end="228.22">kind of style guide and that vision of a</span> <span data-start="228.22" data-end="229.51">style guide because it's stopping us</span> <span data-start="229.51" data-end="231.67">from using something that could be an</span> <span data-start="231.67" data-end="234.72">amazingly useful tool but isn't because</span> <span data-start="234.72" data-end="236.86">because it's too limited by what it's</span> <span data-start="236.86" data-end="239.62">been in the past so we believe in</span> <span data-start="239.62" data-end="242.68">creating living style guides which are a</span> <span data-start="242.68" data-end="244.99">little bit different first of all</span> <span data-start="244.99" data-end="246.67">they're a guide to existing Styles</span> <span data-start="246.67" data-end="248.47">they're not some pie-in-the-sky wouldn't</span> <span data-start="248.47" data-end="250.36">it be lovely if our Styles were all like</span> <span data-start="250.36" data-end="252.459">this their guide to what really exists</span> <span data-start="252.459" data-end="254.98">on the site at that moment and that's</span> <span data-start="254.98" data-end="256.51">important because that's the only way</span> <span data-start="256.51" data-end="258.1">that you can start to iterate is if you</span> <span data-start="258.1" data-end="260.489">actually know where you're at now</span> <span data-start="260.489" data-end="262.95">it also lives in code so it evolves with</span> <span data-start="262.95" data-end="265.2">a site or app this is super important if</span> <span data-start="265.2" data-end="267.18">you have a PDF style guide it can't</span> <span data-start="267.18" data-end="269.28">evolve that the site is constantly</span> <span data-start="269.28" data-end="270.54">changing and responding to new</span> <span data-start="270.54" data-end="272.52">constraints your app is adding new</span> <span data-start="272.52" data-end="274.98">features and you know something that</span> <span data-start="274.98" data-end="277.29">doesn't live in code isn't going to keep</span> <span data-start="277.29" data-end="279.54">up to date so in my opinion it even</span> <span data-start="279.54" data-end="281.28">needs to use the exact same partials</span> <span data-start="281.28" data-end="282.57">that you're using to build out your site</span> <span data-start="282.57" data-end="284.52">need to be used to build your style</span> <span data-start="284.52" data-end="286.47">guide that way there's no like extra</span> <span data-start="286.47" data-end="289.2">step in keeping things going I also</span> <span data-start="289.2" data-end="290.7">think it needs to be a collaboration</span> <span data-start="290.7" data-end="292.77">tool for design and engineering to have</span> <span data-start="292.77" data-end="294.389">better conversations because it feels</span> <span data-start="294.389" data-end="296.09">like a lot of times we're sort of</span> <span data-start="296.09" data-end="299.16">butting heads you know we're you know</span> <span data-start="299.16" data-end="300.479">one side blames the other and the other</span> <span data-start="300.479" data-end="302.04">side blames the other and it turns out</span> <span data-start="302.04" data-end="303.33">that like in terms of the performance</span> <span data-start="303.33" data-end="305.52">equation it's actually a little bit of</span> <span data-start="305.52" data-end="309.18">everybody's fault and so I think a good</span> <span data-start="309.18" data-end="311.55">style guide leads to better UI layer</span> <span data-start="311.55" data-end="314.61">code more informed design choices and a</span> <span data-start="314.61" data-end="316.229">better performing site which may sound</span> <span data-start="316.229" data-end="318.06">like a stretch but I'm going to show you</span> <span data-start="318.06" data-end="319.95">some examples of how that worked at</span> </p>
<p><span data-start="319.95" data-end="323.28">Trulia so Trulia was the ideal kind of</span> <span data-start="323.28" data-end="324.99">client to work with on something like</span> <span data-start="324.99" data-end="327.24">this mainly because they were motivated</span> <span data-start="327.24" data-end="330.06">to switch to SAS smart engineers really</span> <span data-start="330.06" data-end="331.77">excited about the project so that always</span> <span data-start="331.77" data-end="334.2">makes it easier but also they had a ton</span> <span data-start="334.2" data-end="335.97">of technical debt you know like a lot of</span> <span data-start="335.97" data-end="338.539">companies I feel like there's this some</span> <span data-start="338.539" data-end="341.039">kind of like a successful company thing</span> <span data-start="341.039" data-end="342.539">you get to a certain point where you</span> <span data-start="342.539" data-end="344.34">have to actually deal with all the</span> <span data-start="344.34" data-end="346.02">technical debt you acquired to actually</span> <span data-start="346.02" data-end="348.389">achieve that success and that's sort of</span> <span data-start="348.389" data-end="350.729">an ideal candidate for looking at a</span> <span data-start="350.729" data-end="352.889">style guide and looking at a UI refactor</span> <span data-start="352.889" data-end="354.27">and looking at performance issues</span> <span data-start="354.27" data-end="355.86">because they have so much to gain from</span> <span data-start="355.86" data-end="358.5">it not only in terms of the actual user</span> <span data-start="358.5" data-end="360.87">experience but honestly on a site with a</span> <span data-start="360.87" data-end="362.85">ton of legacy it just stinks to be a</span> <span data-start="362.85" data-end="364.56">developer right you're not having a lot</span> <span data-start="364.56" data-end="368.13">of fun working with that so this is an</span> <span data-start="368.13" data-end="369.63">example that one of their engineering</span> <span data-start="369.63" data-end="371.13">managers sent me when we were first</span> <span data-start="371.13" data-end="372.84">talking about the project about why they</span> <span data-start="372.84" data-end="374.58">wanted to get involved in it and I know</span> <span data-start="374.58" data-end="377.01">it's really tiny sorry I just have a PNG</span> <span data-start="377.01" data-end="378.9">of it but it says I've got the blues and</span> <span data-start="378.9" data-end="380.82">the reason it says that is because every</span> <span data-start="380.82" data-end="382.65">single blue on that page is actually a</span> <span data-start="382.65" data-end="387.649">subtly different hex value</span> <span data-start="387.659" data-end="389.939">so what Trulia chose to do is to convert</span> <span data-start="389.939" data-end="391.979">their SRP their search results page</span> <span data-start="391.979" data-end="393.809">mainly because it was already slated for</span> <span data-start="393.809" data-end="395.249">a redesign so it's sort of a good</span> <span data-start="395.249" data-end="397.469">candidate to start off building the</span> <span data-start="397.469" data-end="399.449">style guide and I'm kind of gonna jump</span> <span data-start="399.449" data-end="401.159">to the conclusion first so you know why</span> <span data-start="401.159" data-end="403.08">you should care because I think that</span> <span data-start="403.08" data-end="405.989">that matters the first thing is to think</span> <span data-start="405.989" data-end="407.759">about real user measurements so if any</span> <span data-start="407.759" data-end="409.919">of if you get any take away from what</span> </p>
<p><span data-start="409.919" data-end="411.779">I'm talking about today and decide to</span> <span data-start="411.779" data-end="414.689">try a style guide I would say first</span> <span data-start="414.689" data-end="416.61">thing first you have to have a sense of</span> <span data-start="416.61" data-end="418.169">what matters to your users and what</span> <span data-start="418.169" data-end="419.849">matters you know what is the thing</span> <span data-start="419.849" data-end="421.199">you're trying to improve so you can tell</span> <span data-start="421.199" data-end="423.719">if you actually got there or not so</span> <span data-start="423.719" data-end="424.979">Trulia has a bunch of metrics that</span> <span data-start="424.979" data-end="426.599">matter to them but you know like</span> <span data-start="426.599" data-end="428.939">Facebook's metric is how closely your</span> <span data-start="428.939" data-end="431.129">social network on Facebook matches your</span> <span data-start="431.129" data-end="432.989">social network in real life like that's</span> <span data-start="432.989" data-end="434.519">excellent right because that really fits</span> <span data-start="434.519" data-end="436.919">for their business but for everybody</span> <span data-start="436.919" data-end="437.939">it's gonna be different</span> <span data-start="437.939" data-end="440.849">it's it's not gonna be the same thing um</span> <span data-start="440.849" data-end="443.159">so truly have found that their new HTML</span> <span data-start="443.159" data-end="445.11">was about 48 percent smaller than it had</span> <span data-start="445.11" data-end="447.839">been before we used a style guide they</span> <span data-start="447.839" data-end="451.439">had a 21% faster load time this one I'm</span> <span data-start="451.439" data-end="454.019">particularly happy with 60% faster time</span> <span data-start="454.019" data-end="455.759">to first byte you know it's the worst</span> <span data-start="455.759" data-end="457.319">possible user experience when they're</span> <span data-start="457.319" data-end="459.209">sort of waiting for things to happen and</span> <span data-start="459.209" data-end="460.829">they have that blank screen with nothing</span> <span data-start="460.829" data-end="463.619">going on so 60 60 percent improvement</span> <span data-start="463.619" data-end="467.039">and first bite really made me happy they</span> <span data-start="467.039" data-end="469.019">were also able to reduce their unused</span> </p>
<p><span data-start="469.019" data-end="472.469">CSS by about 135 Kb right so that's like</span> <span data-start="472.469" data-end="474.809">that's more than a site's worth of CSS</span> <span data-start="474.809" data-end="478.559">that wasn't even being used at all in</span> <span data-start="478.559" data-end="480.449">terms of their results their search</span> <span data-start="480.449" data-end="482.579">results page views went up by about 11%</span> <span data-start="482.579" data-end="485.279">so that's huge right imagine the project</span> <span data-start="485.279" data-end="487.079">product manager who you could say like I</span> <span data-start="487.079" data-end="488.879">have this new fancy feature and if we do</span> <span data-start="488.879" data-end="490.949">it the page views will go up by 11%</span> <span data-start="490.949" data-end="494.219">they'd be like me me right but if you</span> <span data-start="494.219" data-end="495.629">tell them it's the feature that's gonna</span> <span data-start="495.629" data-end="497.039">be invisible and that if we do our job</span> <span data-start="497.039" data-end="498.479">right no one will ever see that it ever</span> <span data-start="498.479" data-end="500.039">happened then all the sudden they're</span> <span data-start="500.039" data-end="502.469">like yeah kind of skeptical right but I</span> <span data-start="502.469" data-end="503.459">think it's really important to remember</span> <span data-start="503.459" data-end="505.169">that performance is a feature and when</span> <span data-start="505.169" data-end="507.239">we do things that improve performance</span> <span data-start="507.239" data-end="509.729">particularly in the UI layer we get</span> <span data-start="509.729" data-end="512.729">really good user benefit and and it</span> <span data-start="512.729" data-end="515.759">behaves like a new feature I found this</span> <span data-start="515.759" data-end="517.079">one interesting too this is actually</span> <span data-start="517.079" data-end="518.3">their property detail page</span> <span data-start="518.3" data-end="520.58">and their pageviews went up by about 3%</span> <span data-start="520.58" data-end="522.05">what's interesting there's we didn't</span> <span data-start="522.05" data-end="524.24">touch that page it just happens to be in</span> <span data-start="524.24" data-end="527.39">the flow to get to to get from the</span> <span data-start="527.39" data-end="530">search results page right so even if you</span> <span data-start="530" data-end="532.58">can just fix your top three pages in</span> <span data-start="532.58" data-end="534.05">your site you can still get look across</span> <span data-start="534.05" data-end="537.649">the board improvement in performance um</span> <span data-start="537.649" data-end="539.3">truly also cares about some other things</span> <span data-start="539.3" data-end="540.8">click throughs leads customer</span> <span data-start="540.8" data-end="542.329">satisfaction and stuff like that and</span> <span data-start="542.329" data-end="543.41">that's gonna be different for everyone</span> <span data-start="543.41" data-end="546.05">what you care about you don't but every</span> <span data-start="546.05" data-end="547.79">single one of those metrics actually</span> <span data-start="547.79" data-end="551.06">bumped up after we started refactoring</span> <span data-start="551.06" data-end="552.5">their site and implementing a style</span> <span data-start="552.5" data-end="555.17">guide so you might kind of wonder if</span> <span data-start="555.17" data-end="556.61">what does a style guide really have to</span> <span data-start="556.61" data-end="559.22">do with this I think the important thing</span> <span data-start="559.22" data-end="560.93">is that CSS actually is responsible for</span> <span data-start="560.93" data-end="563.54">a ton of performance issues it blocks</span> <span data-start="563.54" data-end="565.7">progressive rendering that's your blank</span> <span data-start="565.7" data-end="567.44">white page until finally everything</span> <span data-start="567.44" data-end="570.709">shows up it pulls in a ton of background</span> <span data-start="570.709" data-end="572.269">images and if you've ever looked at a</span> <span data-start="572.269" data-end="574.04">waterflow you'll see that a good chunk</span> <span data-start="574.04" data-end="575.24">of what's happening on the web is</span> <span data-start="575.24" data-end="578.779">actually images and content images aside</span> <span data-start="578.779" data-end="579.98">that's a little bit different like</span> <span data-start="579.98" data-end="582.26">that's a decision about you know where</span> <span data-start="582.26" data-end="584.12">you want your product to be or something</span> <span data-start="584.12" data-end="586.85">like that that's probably not my not my</span> <span data-start="586.85" data-end="588.829">domain but if it's background images</span> <span data-start="588.829" data-end="589.91">that's something when you can really</span> <span data-start="589.91" data-end="592.37">make a big improvement</span> </p>
<p><span data-start="592.37" data-end="594.77">CSS also correlates directly to render</span> <span data-start="594.77" data-end="596.69">speed and it's gonna slow down your</span> <span data-start="596.69" data-end="598.459">JavaScript and not necessarily in a way</span> <span data-start="598.459" data-end="600.29">that you can be like that there that</span> <span data-start="600.29" data-end="602.18">piece of CSS that slowed down my</span> <span data-start="602.18" data-end="603.829">JavaScript but more in a way where like</span> <span data-start="603.829" data-end="605.6">you click on something and it's just not</span> <span data-start="605.6" data-end="607.61">instantaneous you know it's like a I</span> <span data-start="607.61" data-end="611.209">don't know just sluggish I guess it also</span> <span data-start="611.209" data-end="613.31">can cause janky scrolling and animations</span> <span data-start="613.31" data-end="615.23">and that can be important too because</span> <span data-start="615.23" data-end="616.279">there's nothing worse than something</span> <span data-start="616.279" data-end="617.6">that's supposed to slide smoothly and</span> <span data-start="617.6" data-end="619.16">actually jitters its way across the</span> <span data-start="619.16" data-end="622.94">screen so a style guide can really help</span> <span data-start="622.94" data-end="625.76">with this what we want to have is this</span> <span data-start="625.76" data-end="627.35">like imagine we needed to have a rubber</span> <span data-start="627.35" data-end="629.51">ducky component in our app and this was</span> <span data-start="629.51" data-end="631.61">exactly what we needed we needed a blue</span> <span data-start="631.61" data-end="635.24">eyed orange beaked rubber ducky um this</span> <span data-start="635.24" data-end="637.519">makes a lot of sense but what we often</span> <span data-start="637.519" data-end="639.44">have is much more like this right</span> <span data-start="639.44" data-end="641.36">we have proliferation of rubber rubber</span> <span data-start="641.36" data-end="643.49">ducky components until we end up having</span> <span data-start="643.49" data-end="645.05">a something that just doesn't really</span> <span data-start="645.05" data-end="646.68">make sense</span> <span data-start="646.68" data-end="649.44">um so the first thing to do and I've</span> <span data-start="649.44" data-end="650.85">talked about this before so I'm gonna go</span> <span data-start="650.85" data-end="653.79">over it pretty quickly but feel free to</span> <span data-start="653.79" data-end="655.14">see me afterwards if it's something you</span> <span data-start="655.14" data-end="656.67">haven't heard about before and oh and</span> </p>
<p><span data-start="656.67" data-end="659.25">I'll get more into it but the first</span> <span data-start="659.25" data-end="660.45">thing you need to do is know what kind</span> <span data-start="660.45" data-end="661.83">of duplication you have because that's</span> <span data-start="661.83" data-end="663.45">gonna be your clues for what missing</span> <span data-start="663.45" data-end="666.81">abstractions you need right everywhere</span> <span data-start="666.81" data-end="668.85">that you find that your CSS is growing</span> <span data-start="668.85" data-end="670.95">larger accidentally means oh crap</span> <span data-start="670.95" data-end="672.54">there's an abstraction that's needed</span> <span data-start="672.54" data-end="673.98">here that people don't have so they're</span> <span data-start="673.98" data-end="676.86">writing it over and over you can use</span> <span data-start="676.86" data-end="679.41">grep CSS lint has a secondary branch</span> <span data-start="679.41" data-end="681.089">that'll do some duplication stuff where</span> <span data-start="681.089" data-end="682.92">there's a new ruby gem out called CSS</span> </p>
<p><span data-start="682.92" data-end="685.38">CSS which is a good way of figuring out</span> <span data-start="685.38" data-end="688.29">what your your duplication was for truly</span> <span data-start="688.29" data-end="691.529">oh we used grep it's easy it allowed us</span> <span data-start="691.529" data-end="693.39">to include like all sort of the most</span> <span data-start="693.39" data-end="695.55">crufty CSS because the more you put in</span> <span data-start="695.55" data-end="697.68">the better you'll get a sense of what</span> <span data-start="697.68" data-end="700.02">kind of bad duplication you have and</span> <span data-start="700.02" data-end="702.45">where your abstractions are missing um</span> <span data-start="702.45" data-end="703.92">so we grep for various selectors</span> <span data-start="703.92" data-end="705.72">properties and values and a bunch of</span> <span data-start="705.72" data-end="708.27">other stuff we also don't worry about it</span> <span data-start="708.27" data-end="709.92">being perfect we just think about orders</span> <span data-start="709.92" data-end="712.47">of magnitude so this is roughly what</span> <span data-start="712.47" data-end="713.94">we're doing we're you know concatenate</span> <span data-start="713.94" data-end="715.77">in all the CSS together and then we're</span> <span data-start="715.77" data-end="718.41">running a very simple grep command now</span> <span data-start="718.41" data-end="719.61">you can imagine that you could replace</span> <span data-start="719.61" data-end="721.709">font size with some fancy regex that was</span> <span data-start="721.709" data-end="722.85">going to make sure that there wasn't</span> <span data-start="722.85" data-end="725.04">font size in a selector name or</span> <span data-start="725.04" data-end="727.02">something like that I wouldn't bother I</span> <span data-start="727.02" data-end="728.85">don't think it actually matters if you</span> <span data-start="728.85" data-end="731.16">match you know a few extra elements then</span> <span data-start="731.16" data-end="732.6">you then you should have if a hex value</span> <span data-start="732.6" data-end="735.18">looks like an ID it just it honestly</span> <span data-start="735.18" data-end="736.47">doesn't matter it's an orders of</span> <span data-start="736.47" data-end="739.11">magnitude thing so here's some of the</span> <span data-start="739.11" data-end="742.14">data that Trulia let me share and just</span> <span data-start="742.14" data-end="744.9">super super cool that they did take a</span> <span data-start="744.9" data-end="745.83">look at the margin and padding</span> <span data-start="745.83" data-end="747.9">declarations so they've got three</span> <span data-start="747.9" data-end="749.19">thousand nine hundred ninety three</span> <span data-start="749.19" data-end="750.959">margin declarations in four thousand</span> <span data-start="750.959" data-end="753.29">four hundred and also ninety three</span> <span data-start="753.29" data-end="756.63">padding declarations that's so high</span> <span data-start="756.63" data-end="759.209">right but that's actually fairly typical</span> <span data-start="759.209" data-end="761.07">for what we find when we start digging</span> <span data-start="761.07" data-end="763.86">into a UI that's been in existence for a</span> <span data-start="763.86" data-end="765.899">few years and I see a few of you shaking</span> <span data-start="765.899" data-end="767.43">your heads that I would say go grab your</span> <span data-start="767.43" data-end="770.01">own style sheets before you judge you</span> <span data-start="770.01" data-end="772.529">might be surprised at what you find</span> <span data-start="772.529" data-end="774.72">again headings too and font sizes like</span> <span data-start="774.72" data-end="777.99">those numbers they're they're high but</span> <span data-start="777.99" data-end="779.31">they're they're just so much higher than</span> <span data-start="779.31" data-end="779.93">they need to be</span> <span data-start="779.93" data-end="782.66">to make a good UI that UI layer that's</span> <span data-start="782.66" data-end="785.27">easy to work with another one that I</span> <span data-start="785.27" data-end="787.399">always grep for is pound important right</span> <span data-start="787.399" data-end="789.35">because this is like I don't know it's</span> <span data-start="789.35" data-end="791.51">like the canary in the mine right the</span> <span data-start="791.51" data-end="793.19">number of importance that you have is</span> <span data-start="793.19" data-end="794.63">basically like people are getting to the</span> <span data-start="794.63" data-end="795.8">point where they can't get done what</span> <span data-start="795.8" data-end="796.85">they need to get done and so they're</span> <span data-start="796.85" data-end="798.2">like I'll just throw that in there and</span> <span data-start="798.2" data-end="799.19">we'll see what happens</span> <span data-start="799.19" data-end="802.73">truly I had about 500 importance and</span> <span data-start="802.73" data-end="804.26">that said to me like this is the moment</span> <span data-start="804.26" data-end="806.029">we have to refactor this now it</span> <span data-start="806.029" data-end="810.14">shouldn't wait even six months yeah and</span> <span data-start="810.14" data-end="811.43">so there's some other numbers and I'll</span> <span data-start="811.43" data-end="813.32">you know I'll post my slides later so</span> <span data-start="813.32" data-end="816.74">you can check out the details so the</span> <span data-start="816.74" data-end="818.149">other thing that we look for is not just</span> <span data-start="818.149" data-end="819.86">code duplication but design and</span> <span data-start="819.86" data-end="821.779">consistency often they'll be you know</span> <span data-start="821.779" data-end="824.42">hundreds I mean for typography it'll be</span> <span data-start="824.42" data-end="825.529">like three or four hundred different</span> <span data-start="825.529" data-end="827.48">ways of having text treatments on the</span> <span data-start="827.48" data-end="827.93">page</span> <span data-start="827.93" data-end="829.79">there's no way to build that efficiently</span> <span data-start="829.79" data-end="831.32">in code if you're given designs that</span> <span data-start="831.32" data-end="834.23">have that many variations so we actually</span> <span data-start="834.23" data-end="836.45">built a typography tool that allows us</span> <span data-start="836.45" data-end="840.83">to find those variations and I'm going</span> <span data-start="840.83" data-end="842.57">to try command F one and see if that</span> <span data-start="842.57" data-end="848.06">works so we built a tool and it's right</span> <span data-start="848.06" data-end="850.19">now a Firebug extension though we're</span> <span data-start="850.19" data-end="851.75">we're definitely going to move it over</span> <span data-start="851.75" data-end="856.22">to Chrome so we go into the Trulia web</span> <span data-start="856.22" data-end="858.02">page and we click persist so that we can</span> <span data-start="858.02" data-end="859.7">do several pages because this is again</span> <span data-start="859.7" data-end="860.6">the kind of thing where you're going to</span> <span data-start="860.6" data-end="862.04">want to have a lot of data not a little</span> <span data-start="862.04" data-end="864.68">because it helps make decisions then you</span> <span data-start="864.68" data-end="866.6">click generate report and it's gonna</span> <span data-start="866.6" data-end="868.13">show you and I know it's really small</span> <span data-start="868.13" data-end="869.99">sorry about that but all this stuff in</span> <span data-start="869.99" data-end="872.24">the middle doesn't matter at all on the</span> <span data-start="872.24" data-end="873.89">right hand side it shows you the actual</span> <span data-start="873.89" data-end="875.72">font and the the wording that was found</span> </p>
<p><span data-start="875.72" data-end="877.97">I mean that in the left-hand column it's</span> <span data-start="877.97" data-end="879.77">gonna show you account for how many</span> <span data-start="879.77" data-end="881.9">times that was found and then if I do a</span> <span data-start="881.9" data-end="884.18">search and get to the search results</span> <span data-start="884.18" data-end="888.86">page I can generate the report again and</span> <span data-start="888.86" data-end="890.75">then you know we would do it for</span> <span data-start="890.75" data-end="892.61">multiple pages if we were doing it on an</span> <span data-start="892.61" data-end="895.4">actual site what's really cool about it</span> <span data-start="895.4" data-end="897.05">is that you know I've had a lot of</span> <span data-start="897.05" data-end="898.82">conversations with designers that end up</span> <span data-start="898.82" data-end="900.92">feeling kind of unproductive where we're</span> <span data-start="900.92" data-end="902.54">trying to say okay you can't have all of</span> <span data-start="902.54" data-end="905.45">the typography you have to pick some it</span> <span data-start="905.45" data-end="907.94">turns out if you put five designers in a</span> <span data-start="907.94" data-end="909.8">room and you say do you want 13 pixels</span> <span data-start="909.8" data-end="911.9">or 14 pixel font size they can debate</span> <span data-start="911.9" data-end="913.05">that for like</span> </p>
<p><span data-start="913.05" data-end="917.04">I do not have more but if you say do you</span> <span data-start="917.04" data-end="919.83">want 13 pixels or 14 pixels and you've</span> <span data-start="919.83" data-end="922.38">used 13 pixels 1400 times and you've</span> <span data-start="922.38" data-end="925.44">used 14 pixels 23 times all the sudden</span> <span data-start="925.44" data-end="927.18">there's data to back up those decisions</span> <span data-start="927.18" data-end="928.95">they don't have to have you know make</span> <span data-start="928.95" data-end="930.42">these amorphous and we wouldn't make</span> <span data-start="930.42" data-end="932.91">decisions without data right so but we</span> <span data-start="932.91" data-end="934.44">can help them have the data that they</span> <span data-start="934.44" data-end="935.79">need to make the decisions that they</span> <span data-start="935.79" data-end="939.39">have to make so that's something that's</span> <span data-start="939.39" data-end="949.73">worked out well</span> <span data-start="949.74" data-end="953.73">okay and so the output of that is you</span> <span data-start="953.73" data-end="955.08">know a bunch of font sizes with their</span> <span data-start="955.08" data-end="957.78">counts and really super useful for</span> <span data-start="957.78" data-end="959.91">making decisions we also break it down</span> <span data-start="959.91" data-end="961.65">by color in their counts you know you</span> <span data-start="961.65" data-end="963.72">could spend days debating which is the</span> <span data-start="963.72" data-end="965.28">exact right shade of blue but when you</span> <span data-start="965.28" data-end="966.6">see that one of them was used thirteen</span> <span data-start="966.6" data-end="968.01">hundred times and the others just a</span> <span data-start="968.01" data-end="970.23">handful all the sudden the the blue</span> <span data-start="970.23" data-end="972.54">decision is is quick like that right so</span> <span data-start="972.54" data-end="974.55">that's that's where we're trying to go</span> <span data-start="974.55" data-end="975.84">and you know what even if they decide</span> <span data-start="975.84" data-end="977.58">that they actually are trying to move</span> <span data-start="977.58" data-end="979.86">towards something that isn't isn't where</span> <span data-start="979.86" data-end="981.33">the site is at now so they're saying</span> <span data-start="981.33" data-end="983.55">well maybe we want that bright blue even</span> <span data-start="983.55" data-end="984.93">though it's the least used now because</span> <span data-start="984.93" data-end="986.97">that's where our design is going then in</span> <span data-start="986.97" data-end="988.65">the engineering side you have an exact</span> <span data-start="988.65" data-end="990.99">map of every time I find these five</span> <span data-start="990.99" data-end="993.36">blues I should replace it with this blue</span> <span data-start="993.36" data-end="994.98">and you don't have to have that back and</span> <span data-start="994.98" data-end="997.23">forth discussion with design every</span> <span data-start="997.23" data-end="998.46">single time you're trying to make an</span> <span data-start="998.46" data-end="1001.43">improvement to the performance um so we</span> <span data-start="1001.43" data-end="1003.02">basically use some heuristics and some</span> <span data-start="1003.02" data-end="1005.18">common sense to break it down and give</span> <span data-start="1005.18" data-end="1008.03">them a list of the different typography</span> <span data-start="1008.03" data-end="1009.59">they need and this is simplified</span> <span data-start="1009.59" data-end="1011.09">obviously this is going to be for all</span> <span data-start="1011.09" data-end="1013.28">the different components of the site but</span> <span data-start="1013.28" data-end="1016.43">they get that and they can use that we</span> <span data-start="1016.43" data-end="1018.17">also do it for buttons and so this is</span> <span data-start="1018.17" data-end="1019.58">all the buttons that we found on the</span> </p>
<p><span data-start="1019.58" data-end="1022.7">Trulia site right which is really really</span> <span data-start="1022.7" data-end="1025.97">a lot like that it's just way too many</span> <span data-start="1025.97" data-end="1028.16">shades of yellow and green and and blue</span> <span data-start="1028.16" data-end="1030.47">and it's like every product manager just</span> <span data-start="1030.47" data-end="1031.76">decided that they were gonna do their</span> <span data-start="1031.76" data-end="1033.68">very own thing and luckily nobody made</span> <span data-start="1033.68" data-end="1035.54">anything blink or magenta but it was</span> <span data-start="1035.54" data-end="1038.93">pretty close so for each of those we</span> <span data-start="1038.93" data-end="1040.61">basically sit with design and have them</span> <span data-start="1040.61" data-end="1042.53">make some decisions for each thing they</span> <span data-start="1042.53" data-end="1044.18">can choose to build it they can choose</span> <span data-start="1044.18" data-end="1045.32">to replace it with something they've</span> <span data-start="1045.32" data-end="1047.089">already decided to build or as a very</span> <span data-start="1047.089" data-end="1048.91">distant third they can choose to</span> <span data-start="1048.91" data-end="1051.77">redesign that thing we try not to choose</span> <span data-start="1051.77" data-end="1053.54">the redesign option because it's far</span> <span data-start="1053.54" data-end="1055.46">better to say let's just build it how it</span> <span data-start="1055.46" data-end="1057.05">is now and then we can iterate with</span> <span data-start="1057.05" data-end="1058.73">something real rather than have like</span> <span data-start="1058.73" data-end="1060.95">long drawn-out design discussions about</span> <span data-start="1060.95" data-end="1062.39">where the meaning of the button is that</span> <span data-start="1062.39" data-end="1065.72">kind of thing um so you want to do this</span> <span data-start="1065.72" data-end="1068.03">for all different component types and</span> <span data-start="1068.03" data-end="1070.15">when you have you'll have something like</span> <span data-start="1070.15" data-end="1075.56">this style guide</span> <span data-start="1075.57" data-end="1081.91">so this is oops there we go so this is</span> <span data-start="1081.91" data-end="1085.24">the this is the Trulia style guide that</span> <span data-start="1085.24" data-end="1086.83">we built and so you'll see it's got you</span> <span data-start="1086.83" data-end="1087.73">know all the different kinds of</span> <span data-start="1087.73" data-end="1089.95">typography it gives an example of</span> <span data-start="1089.95" data-end="1091.51">exactly what you'd need to put in the</span> <span data-start="1091.51" data-end="1093.97">code in order to achieve that look and</span> <span data-start="1093.97" data-end="1095.89">feel and so it becomes like little Lego</span> <span data-start="1095.89" data-end="1097.54">right you're grabbing one of these and</span> <span data-start="1097.54" data-end="1098.59">you're combining it with one of those</span> <span data-start="1098.59" data-end="1100.54">and you put it all inside of a box like</span> <span data-start="1100.54" data-end="1102.49">that and you can build whole different</span> </p>
<p><span data-start="1102.49" data-end="1105.76">UIs that nobody planned on just by using</span> <span data-start="1105.76" data-end="1107.23">these existing little pieces of</span> <span data-start="1107.23" data-end="1109.51">functionality and so if I click on</span> <span data-start="1109.51" data-end="1111.61">buttons you'll see that they were able</span> <span data-start="1111.61" data-end="1114.58">to simplify down to oh and a at the top</span> <span data-start="1114.58" data-end="1116.29">we tend to list all the different class</span> <span data-start="1116.29" data-end="1117.82">names so that it's real clear to</span> <span data-start="1117.82" data-end="1119.98">everybody what every piece of the UI is</span> <span data-start="1119.98" data-end="1123.07">for and so then you'll see they were</span> <span data-start="1123.07" data-end="1124.72">able to simplify down just into a</span> <span data-start="1124.72" data-end="1127.3">primary button default button and then</span> <span data-start="1127.3" data-end="1129.34">this sort of reddish danger button for</span> <span data-start="1129.34" data-end="1132.31">delete and things like that so just by</span> <span data-start="1132.31" data-end="1133.78">making these kinds of decisions they</span> <span data-start="1133.78" data-end="1136.03">were able to really make it work better</span> <span data-start="1136.03" data-end="1137.86">for them honestly there are tons of</span> <span data-start="1137.86" data-end="1139.51">different component types including like</span> <span data-start="1139.51" data-end="1141.58">whitespace classes and tabs and toggles</span> <span data-start="1141.58" data-end="1143.38">and all the normal stuff that websites</span> <span data-start="1143.38" data-end="1145.96">are made out of one important thing to</span> <span data-start="1145.96" data-end="1148.09">keep in mind though is that you want to</span> <span data-start="1148.09" data-end="1149.98">separate out the code that's for making</span> <span data-start="1149.98" data-end="1152.11">your button have button as' which is you</span> <span data-start="1152.11" data-end="1154.63">know solving all the ie bugs removing</span> <span data-start="1154.63" data-end="1157.78">all the weird styling that that you're</span> <span data-start="1157.78" data-end="1160.18">gonna have on buttons by default and put</span> <span data-start="1160.18" data-end="1162.34">that into one class and then anything</span> <span data-start="1162.34" data-end="1165.19">that makes it red or orange or whatever</span> <span data-start="1165.19" data-end="1167.29">you want to put into another class it's</span> <span data-start="1167.29" data-end="1168.76">sort of a worst case scenario where</span> <span data-start="1168.76" data-end="1170.32">you've stuffed all that into one class</span> <span data-start="1170.32" data-end="1171.76">and then every time you make a new kind</span> <span data-start="1171.76" data-end="1172.93">of button you're having to say yeah but</span> <span data-start="1172.93" data-end="1174.43">it's not like that yeah but it's not</span> <span data-start="1174.43" data-end="1175.03">like that</span> <span data-start="1175.03" data-end="1176.89">that's a lot of work and will lead to</span> <span data-start="1176.89" data-end="1193.74">pretty inefficient code</span> <span data-start="1193.75" data-end="1197.35">okay cool so that said how do we build a</span> <span data-start="1197.35" data-end="1199.24">component well what's what's part of a</span> <span data-start="1199.24" data-end="1202">component how is that going to work we</span> <span data-start="1202" data-end="1204.4">have a specific component structure and</span> <span data-start="1204.4" data-end="1205.78">part of the reason why we have it this</span> <span data-start="1205.78" data-end="1207.55">way is because we want to break the</span> <span data-start="1207.55" data-end="1211.36">dependency of styles on views basically</span> <span data-start="1211.36" data-end="1215.98">when you tied it what did I do</span> <span data-start="1215.98" data-end="1223.36">oh so basically when you have when you</span> <span data-start="1223.36" data-end="1225.22">have your Styles dependent on your views</span> <span data-start="1225.22" data-end="1227.14">there's no way for your CSS to be</span> <span data-start="1227.14" data-end="1229.09">efficient at all so we kind of try to we</span> <span data-start="1229.09" data-end="1232.06">could try to break that that link so</span> <span data-start="1232.06" data-end="1233.74">what we have is a components directory</span> <span data-start="1233.74" data-end="1235.57">and inside of that we're gonna have all</span> <span data-start="1235.57" data-end="1237.31">the different kind of components boxes</span> <span data-start="1237.31" data-end="1240.16">and form pieces and grids and lists and</span> <span data-start="1240.16" data-end="1242.38">links and everything separated out that</span> <span data-start="1242.38" data-end="1244.42">way if later in one of those turns out</span> <span data-start="1244.42" data-end="1245.98">to be unnecessary it's super simple</span> <span data-start="1245.98" data-end="1247.75">because it's very self-contained and</span> <span data-start="1247.75" data-end="1250.45">everything you need to make a component</span> <span data-start="1250.45" data-end="1252.31">is is right there</span> <span data-start="1252.31" data-end="1254.38">we also found we'd like to have smaller</span> <span data-start="1254.38" data-end="1256.42">files and I have to admit I went kicking</span> <span data-start="1256.42" data-end="1257.89">and screaming to this because I kind of</span> <span data-start="1257.89" data-end="1259.48">like to have everything all in one place</span> <span data-start="1259.48" data-end="1261.43">and just kind of keep it all in my head</span> <span data-start="1261.43" data-end="1264.7">and then my team grew and I realized</span> <span data-start="1264.7" data-end="1266.32">that's ridiculous and we had crazy merge</span> <span data-start="1266.32" data-end="1268.87">conflicts and so breaking things out</span> <span data-start="1268.87" data-end="1270.43">into smaller files made that a little</span> <span data-start="1270.43" data-end="1273.16">bit easier and so this is a snippet from</span> <span data-start="1273.16" data-end="1274.75">the Box component you'll see that we</span> <span data-start="1274.75" data-end="1278.35">have some sass for it and we have a</span> <span data-start="1278.35" data-end="1279.76">small handlebars which is just the</span> <span data-start="1279.76" data-end="1281.77">partial to make a box and then we have</span> <span data-start="1281.77" data-end="1282.94">another handlebars which is its</span> <span data-start="1282.94" data-end="1285.28">documentation and then we have a skin</span> <span data-start="1285.28" data-end="1286.84">folder where we put in all those little</span> <span data-start="1286.84" data-end="1288.88">like colors and borders and and stuff</span> <span data-start="1288.88" data-end="1291.34">like that so keeping things a little bit</span> <span data-start="1291.34" data-end="1294.49">organized some components are going to</span> <span data-start="1294.49" data-end="1296.26">have associated JavaScript a lot of them</span> <span data-start="1296.26" data-end="1298.51">don't but some will and so we keep that</span> <span data-start="1298.51" data-end="1301.39">in the component folder as well we tend</span> <span data-start="1301.39" data-end="1303.82">to have a component named Jas and then</span> <span data-start="1303.82" data-end="1305.62">just saw a small file which is anything</span> <span data-start="1305.62" data-end="1307.39">we need to initialize that particular</span> <span data-start="1307.39" data-end="1309.61">component just trying to keep things</span> <span data-start="1309.61" data-end="1311.41">clean I think there are a few places</span> <span data-start="1311.41" data-end="1314.08">where we've made mistakes though I don't</span> <span data-start="1314.08" data-end="1315.97">love having all the skins be in separate</span> <span data-start="1315.97" data-end="1317.35">files often they end up incredibly</span> <span data-start="1317.35" data-end="1318.82">simple so it feels like a lot of</span> <span data-start="1318.82" data-end="1320.53">overhead to have those all be separate</span> <span data-start="1320.53" data-end="1322.63">on the other hand if you're going to do</span> <span data-start="1322.63" data-end="1324.28">some kind of fancy build process where</span> <span data-start="1324.28" data-end="1325.69">you make sure stuffs being used before</span> <span data-start="1325.69" data-end="1327.01">you build it into your style</span> </p>
<p><span data-start="1327.01" data-end="1328.78">Sheetz having it separate could be an</span> <span data-start="1328.78" data-end="1332.26">advantage so we basically and this is</span> <span data-start="1332.26" data-end="1334.24">this was a terrible idea we have a giant</span> <span data-start="1334.24" data-end="1336.16">JSON file that references all our</span> <span data-start="1336.16" data-end="1337.84">components and it's a huge pain in the</span> <span data-start="1337.84" data-end="1339.58">butt to work with and if a comma gets</span> <span data-start="1339.58" data-end="1341.41">left out it's it's not working very</span> <span data-start="1341.41" data-end="1343.45">nicely so we're gonna find a better way</span> <span data-start="1343.45" data-end="1344.98">to do this which may just be smaller</span> </p>
<p><span data-start="1344.98" data-end="1347.41">JSON files per component or something</span> <span data-start="1347.41" data-end="1349.54">like that but that's one part that I</span> <span data-start="1349.54" data-end="1351.1">think we definitely haven't solved that</span> <span data-start="1351.1" data-end="1354.4">well yet we also import our component</span> <span data-start="1354.4" data-end="1356.74">SAS files all into one larger one that</span> <span data-start="1356.74" data-end="1358.66">we do separate out stuff related to</span> <span data-start="1358.66" data-end="1361.3">spriting because it's a bit slower and</span> <span data-start="1361.3" data-end="1363.1">we set up watchers to build everything</span> <span data-start="1363.1" data-end="1365.56">automatically whenever the handlebar SAS</span> <span data-start="1365.56" data-end="1367.72">or JavaScript are changed that was just</span> <span data-start="1367.72" data-end="1369.88">basically a it stinks to have to</span> <span data-start="1369.88" data-end="1372.04">constantly be saving this and reloading</span> <span data-start="1372.04" data-end="1374.2">things and all that kind of thing so it</span> <span data-start="1374.2" data-end="1377.17">saved us a bunch of time you're probably</span> <span data-start="1377.17" data-end="1378.73">pretty comfortable with Watchers and</span> <span data-start="1378.73" data-end="1380.29">build processes and templating so I'm</span> <span data-start="1380.29" data-end="1381.82">not going to spend a ton of time on that</span> </p>
<p><span data-start="1381.82" data-end="1383.86">I don't think that would be as much of a</span> <span data-start="1383.86" data-end="1385.66">value add as as sort of talking about</span> <span data-start="1385.66" data-end="1388.42">how we structure our SAS and to begin</span> <span data-start="1388.42" data-end="1390.91">with that I need to tell you how I</span> <span data-start="1390.91" data-end="1393.85">screwed it up to get started so the</span> <span data-start="1393.85" data-end="1395.56">first thing was trying to make a gray</span> <span data-start="1395.56" data-end="1398.62">rounded corner box and sort of realizing</span> <span data-start="1398.62" data-end="1400.36">that sometimes your SAS output is a lot</span> <span data-start="1400.36" data-end="1402.01">larger than you might think that it is</span> <span data-start="1402.01" data-end="1404.59">that said I love SAS I wouldn't go back</span> <span data-start="1404.59" data-end="1405.91">and we were able to make these</span> <span data-start="1405.91" data-end="1408.49">performance improvements using SAS on</span> <span data-start="1408.49" data-end="1410.41">the site but we did have to be sort of</span> <span data-start="1410.41" data-end="1411.94">constantly vigilant and checking the</span> <span data-start="1411.94" data-end="1414.16">output and making sure that SAS wasn't</span> <span data-start="1414.16" data-end="1415.6">outputting something crazy because we'd</span> <span data-start="1415.6" data-end="1418.93">combined things we didn't realize so a</span> <span data-start="1418.93" data-end="1420.64">box is gonna need a clear fix right</span> <span data-start="1420.64" data-end="1421.75">because you don't want</span> <span data-start="1421.75" data-end="1423.58">if something's floated inside the box it</span> <span data-start="1423.58" data-end="1425.41">just stick out the side or and you want</span> <span data-start="1425.41" data-end="1427.84">it to trap margins and and things like</span> <span data-start="1427.84" data-end="1429.73">that so we need both clear fix and</span> <span data-start="1429.73" data-end="1433.27">actually new formatting context so let's</span> <span data-start="1433.27" data-end="1435.61">think about what includes this is this</span> <span data-start="1435.61" data-end="1437.86">is an example of a mixin to include over</span> <span data-start="1437.86" data-end="1439.54">float clear fix and this is the</span> <span data-start="1439.54" data-end="1441.46">overflow:hidden overflow:visible zoom</span> <span data-start="1441.46" data-end="1443.2">one there are a ton of different ways to</span> <span data-start="1443.2" data-end="1445.14">do clear fix this is just one of them</span> <span data-start="1445.14" data-end="1447.91">and so then I can say below in my cool</span> <span data-start="1447.91" data-end="1450.31">thing at include clear fix overflow and</span> </p>
<p><span data-start="1450.31" data-end="1452.26">I'm automatically going to get all those</span> <span data-start="1452.26" data-end="1454.9">property value pairs from clear fix</span> <span data-start="1454.9" data-end="1458.38">copied down into my cool thing now I</span> <span data-start="1458.38" data-end="1460.42">think you can imagine how this goes awry</span> <span data-start="1460.42" data-end="1462.58">when you have my cool thing 1 2 3 & 4</span> <span data-start="1462.58" data-end="1464.44">and you end up copying those property</span> <span data-start="1464.44" data-end="1466.47">value pairs kind of all over the place</span> <span data-start="1466.47" data-end="1469.18">especially in big teams especially when</span> <span data-start="1469.18" data-end="1470.92">it's not all next to each other like</span> <span data-start="1470.92" data-end="1473.53">that it definitely happens that we end</span> <span data-start="1473.53" data-end="1475.99">up with a lot of sort of property value</span> <span data-start="1475.99" data-end="1477.82">pair duplication and it doesn't me</span> <span data-start="1477.82" data-end="1478.9">sometimes that's still going to be the</span> <span data-start="1478.9" data-end="1480.76">right choice it's just about sort of</span> <span data-start="1480.76" data-end="1482.79">being aware of it and making sure that</span> <span data-start="1482.79" data-end="1485.08">it's the right trade-off in terms of</span> <span data-start="1485.08" data-end="1490.03">file size and maintainability next up I</span> <span data-start="1490.03" data-end="1491.8">want to talk about making tabs and and</span> <span data-start="1491.8" data-end="1494.31">how I definitely screwed up making tabs</span> <span data-start="1494.31" data-end="1498.91">so in the oCSS world tabs are just a</span> <span data-start="1498.91" data-end="1501.58">kind of box and so I would just say tabs</span> <span data-start="1501.58" data-end="1504.76">add extend box in SAS language in order</span> <span data-start="1504.76" data-end="1506.59">to get all of a sort of box goodness</span> <span data-start="1506.59" data-end="1510.46">without having to rewrite that and then</span> </p>
<p><span data-start="1510.46" data-end="1512.38">I started writing the code specifically</span> <span data-start="1512.38" data-end="1515.32">for tabs and I went a little bit nuts um</span> <span data-start="1515.32" data-end="1518.89">it feels so good to make your SAS match</span> <span data-start="1518.89" data-end="1521.38">your match your HTML exactly I'm like oh</span> <span data-start="1521.38" data-end="1523.33">my god this is awesome which is</span> <span data-start="1523.33" data-end="1524.74">ridiculous because I'm the queen of</span> <span data-start="1524.74" data-end="1527.02">teeny-tiny selectors right but look what</span> <span data-start="1527.02" data-end="1529.72">this output it it's terrible right so I</span> <span data-start="1529.72" data-end="1532.12">saw this and I'm like oh wow right</span> <span data-start="1532.12" data-end="1534.34">because you know there's only one a</span> <span data-start="1534.34" data-end="1537.13">inside of that's basically making a tab</span> </p>
<p><span data-start="1537.13" data-end="1539.02">I didn't need to say box head tab</span> <span data-start="1539.02" data-end="1541.72">control Li a like that's such overkill</span> <span data-start="1541.72" data-end="1543.46">that's not the selector that we need it</span> <span data-start="1543.46" data-end="1545.8">all but for some reason writing SAS at</span> <span data-start="1545.8" data-end="1547.69">least for me it felt really really good</span> <span data-start="1547.69" data-end="1550.24">to do this so I have to sort of</span> <span data-start="1550.24" data-end="1552.07">constantly watch myself and keep the</span> <span data-start="1552.07" data-end="1553.81">result file open in another window so</span> <span data-start="1553.81" data-end="1558.75">that I'm aware of my sort of bad habits</span> <span data-start="1558.75" data-end="1561.01">another thing to notice is that SAS will</span> <span data-start="1561.01" data-end="1563.05">output your line numbers and your and</span> <span data-start="1563.05" data-end="1564.61">the file that it came from which is</span> <span data-start="1564.61" data-end="1566.83">super helpful for debugging as well in</span> <span data-start="1566.83" data-end="1568.12">the chrome dev tools you can actually</span> <span data-start="1568.12" data-end="1570.67">get it to follow back the chain and give</span> <span data-start="1570.67" data-end="1573.07">you the actual SAS file which is really</span> <span data-start="1573.07" data-end="1576.37">useful so yeah super tempting to make</span> <span data-start="1576.37" data-end="1578.56">the SAS match your HTML don't do it it's</span> <span data-start="1578.56" data-end="1581.86">a really bad idea the SAS community came</span> <span data-start="1581.86" data-end="1583">up with something called the inception</span> <span data-start="1583" data-end="1584.95">rule and that</span> <span data-start="1584.95" data-end="1587.83">to never go more than three levels deep</span> <span data-start="1587.83" data-end="1589.93">and I think this is pretty good rule I</span> <span data-start="1589.93" data-end="1591.55">would say two to three levels deep is</span> <span data-start="1591.55" data-end="1592.99">probably as far as you want to go in</span> <span data-start="1592.99" data-end="1595.27">most cases but yeah I think that's</span> <span data-start="1595.27" data-end="1599.02">that's a helpful rule so how do we use</span> </p>
<p><span data-start="1599.02" data-end="1602.86">SAS and also have good architecture the</span> <span data-start="1602.86" data-end="1603.97">first thing is to build simple</span> <span data-start="1603.97" data-end="1606.79">components first you're going to use</span> <span data-start="1606.79" data-end="1607.93">those simple components when you're</span> <span data-start="1607.93" data-end="1609.82">making the more complex ones so people</span> <span data-start="1609.82" data-end="1611.32">often want to like jump in and like</span> <span data-start="1611.32" data-end="1613.39">build tabs and accordions and all kinds</span> <span data-start="1613.39" data-end="1616.12">of more complex UI stuff but it's better</span> <span data-start="1616.12" data-end="1619.06">to save that until later we start with</span> <span data-start="1619.06" data-end="1620.71">something like this it's a variables</span> <span data-start="1620.71" data-end="1622.48">file and we look at it as kind of a</span> <span data-start="1622.48" data-end="1625.39">configuration file for our SAS</span> <span data-start="1625.39" data-end="1627.07">now you'll see warning warning warning</span> <span data-start="1627.07" data-end="1629.08">never use this in your code this is</span> <span data-start="1629.08" data-end="1631.24">because we do two layers of SAS SAS</span> <span data-start="1631.24" data-end="1634.45">variables I don't like the idea of using</span> <span data-start="1634.45" data-end="1636.88">like a dollar blue class throughout all</span> <span data-start="1636.88" data-end="1639.64">of my SAS because like I said final</span> <span data-start="1639.64" data-end="1641.44">final final design never seems to</span> <span data-start="1641.44" data-end="1643.81">actually be the final design but we</span> <span data-start="1643.81" data-end="1645.94">still liked the the power of getting to</span> <span data-start="1645.94" data-end="1649.39">have these names which described exactly</span> <span data-start="1649.39" data-end="1651.34">what we were getting out of it so we</span> <span data-start="1651.34" data-end="1653.68">decided to do a two tiered approach to</span> </p>
<p><span data-start="1653.68" data-end="1655.81">SAS variables the first one is this</span> <span data-start="1655.81" data-end="1657.73">where we define all the basic colors and</span> <span data-start="1657.73" data-end="1659.77">give them color names that match exactly</span> <span data-start="1659.77" data-end="1662.5">what they do but rather than using these</span> <span data-start="1662.5" data-end="1665.11">inside the inside the components</span> <span data-start="1665.11" data-end="1667.03">themselves what we do is create this</span> <span data-start="1667.03" data-end="1669.91">next level so this is four links and we</span> <span data-start="1669.91" data-end="1671.47">have link color and that would be dollar</span> <span data-start="1671.47" data-end="1673.45">blue and we have link hover color and</span> <span data-start="1673.45" data-end="1675.25">that would be dollar green and that</span> <span data-start="1675.25" data-end="1677.86">allows us to basically have the the nice</span> <span data-start="1677.86" data-end="1680.14">easy readable thing and the consistency</span> <span data-start="1680.14" data-end="1681.46">right because we know we're not going to</span> <span data-start="1681.46" data-end="1682.75">have a hex value in there that's</span> <span data-start="1682.75" data-end="1684.94">slightly different but it doesn't pepper</span> <span data-start="1684.94" data-end="1687.22">our style sheets with variable names</span> <span data-start="1687.22" data-end="1688.69">that are incredibly likely to change</span> <span data-start="1688.69" data-end="1692.32">later so we do that for a bunch of</span> <span data-start="1692.32" data-end="1694.57">different typography and we're using all</span> <span data-start="1694.57" data-end="1696.37">the data that we're getting out of the</span> <span data-start="1696.37" data-end="1698.56">of the component finder typography tool</span> <span data-start="1698.56" data-end="1701.71">to end up building that so we do</span> <span data-start="1701.71" data-end="1703.09">something like this where we have you</span> <span data-start="1703.09" data-end="1704.92">know our h3 and we're going to include</span> <span data-start="1704.92" data-end="1707.98">font size of 24 pixels one thing we</span> <span data-start="1707.98" data-end="1709.09">found is that we're really loving</span> <span data-start="1709.09" data-end="1712.71">working with REMS but</span> <span data-start="1712.71" data-end="1715.019">it's a pain to be perfectly honest I</span> <span data-start="1715.019" data-end="1716.22">don't want to be constantly thinking and</span> <span data-start="1716.22" data-end="1717.57">calculating and not knowing what I'm</span> <span data-start="1717.57" data-end="1721.11">getting out of it and so a girl who I</span> <span data-start="1721.11" data-end="1724.289">work with Mobe whale on Twitter actually</span> <span data-start="1724.289" data-end="1727.049">created these these mix-ins which have</span> <span data-start="1727.049" data-end="1729.149">been really helpful for us it's a font</span> <span data-start="1729.149" data-end="1731.129">size mixin and a calculate REM mixin</span> <span data-start="1731.129" data-end="1733.529">this means that we can just input pixel</span> <span data-start="1733.529" data-end="1735.48">values and it outputs the most modern</span> <span data-start="1735.48" data-end="1737.159">version that we can with a pixel</span> <span data-start="1737.159" data-end="1739.769">fallback and so we found that this is</span> <span data-start="1739.769" data-end="1742.59">super helpful basically in the code you</span> <span data-start="1742.59" data-end="1745.619">say @include font size of 16 pixels and</span> <span data-start="1745.619" data-end="1748.559">that's going to both output 16 pixels as</span> <span data-start="1748.559" data-end="1750.96">a backup value and output the REM value</span> <span data-start="1750.96" data-end="1754.93">for better browsers that can support it</span> <span data-start="1754.94" data-end="1757.23">so we do that for all different kinds of</span> <span data-start="1757.23" data-end="1759.21">things I think at first we've sort of</span> <span data-start="1759.21" data-end="1760.919">focused on colors and stuff like that</span> <span data-start="1760.919" data-end="1762.09">but more and more we're pulling</span> <span data-start="1762.09" data-end="1764.909">different things out of out of our files</span> <span data-start="1764.909" data-end="1766.83">and putting it into variables it ends up</span> <span data-start="1766.83" data-end="1769.409">feeling like it ends up feeling like a</span> <span data-start="1769.409" data-end="1771.45">big configuration file where you can get</span> <span data-start="1771.45" data-end="1773.369">things to turn out without making very</span> <span data-start="1773.369" data-end="1775.529">many changes and in fact I think one of</span> <span data-start="1775.529" data-end="1777.059">the things that Trulia designers really</span> <span data-start="1777.059" data-end="1778.59">liked about it is that they saw this</span> <span data-start="1778.59" data-end="1780.45">variable file and felt like they could</span> <span data-start="1780.45" data-end="1782.1">really dig in and you know they're like</span> <span data-start="1782.1" data-end="1783.659">wait I'm gonna change the color gray and</span> <span data-start="1783.659" data-end="1784.919">started actually submitting pull</span> <span data-start="1784.919" data-end="1787.44">requests which is awesome right because</span> <span data-start="1787.44" data-end="1788.519">there's no reason to use engineering</span> <span data-start="1788.519" data-end="1791.129">resources for you know a change in a</span> <span data-start="1791.129" data-end="1793.499">color gray but if they'd had to dig into</span> <span data-start="1793.499" data-end="1795.24">the deep components in order to do that</span> <span data-start="1795.24" data-end="1796.83">they might not have felt like they could</span> <span data-start="1796.83" data-end="1800.309">so that was pretty awesome so we also do</span> <span data-start="1800.309" data-end="1801.84">things like declare the baseline height</span> <span data-start="1801.84" data-end="1803.7">and base font size base font family</span> <span data-start="1803.7" data-end="1805.47">things like that and those can be used</span> <span data-start="1805.47" data-end="1808.619">by other other components later that</span> <span data-start="1808.619" data-end="1810.869">want to be you know doing vertical</span> <span data-start="1810.869" data-end="1813.96">rhythm and stuff like that so we do it</span> <span data-start="1813.96" data-end="1815.49">for lists as well</span> <span data-start="1815.49" data-end="1817.59">lists are super important and they're</span> <span data-start="1817.59" data-end="1819.419">like you end up having more or less than</span> <span data-start="1819.419" data-end="1820.95">pretty much anything else on your site</span> <span data-start="1820.95" data-end="1823.169">and so yeah like that list up there</span> <span data-start="1823.169" data-end="1824.999">homes for sale it's got a little gray</span> <span data-start="1824.999" data-end="1827.58">line in between the items that list is</span> <span data-start="1827.58" data-end="1829.74">on almost every site in the universe</span> <span data-start="1829.74" data-end="1832.169">right it's just the color gray of the</span> <span data-start="1832.169" data-end="1834.509">line will vary so there's a lot of this</span> <span data-start="1834.509" data-end="1836.909">stuff I kind of feel like about 80% of</span> <span data-start="1836.909" data-end="1838.559">all apps and sites are the same and then</span> <span data-start="1838.559" data-end="1839.999">there's like a thin little layer which</span> <span data-start="1839.999" data-end="1841.95">is actually what makes them them look</span> <span data-start="1841.95" data-end="1845.22">different um so we do it for links as</span> <span data-start="1845.22" data-end="1846.45">well so they ended up with</span> <span data-start="1846.45" data-end="1848.249">default links and low-light links and</span> <span data-start="1848.249" data-end="1850.35">forward links and backlinks and now they</span> <span data-start="1850.35" data-end="1851.879">have those and they can plug them in in</span> <span data-start="1851.879" data-end="1853.23">different places and make stuff out of</span> <span data-start="1853.23" data-end="1855.539">them without needing to reinvent the</span> <span data-start="1855.539" data-end="1857.159">wheel and recode their link color</span> <span data-start="1857.159" data-end="1860.22">everywhere so we have a little</span> <span data-start="1860.22" data-end="1862.259">teeny-tiny handlebars file per component</span> <span data-start="1862.259" data-end="1864.57">that just basically applies the class</span> <span data-start="1864.57" data-end="1866.22">names of all the different skins so that</span> <span data-start="1866.22" data-end="1868.34">it can output properly to the library</span> <span data-start="1868.34" data-end="1871.049">and then we're gonna again have</span> <span data-start="1871.049" data-end="1873.179">variables for links so that later if we</span> <span data-start="1873.179" data-end="1874.739">want to change them there's no need to</span> <span data-start="1874.739" data-end="1876.899">like really dig into the into the</span> <span data-start="1876.899" data-end="1880.32">component we also found that it helped</span> <span data-start="1880.32" data-end="1881.909">to build three different layout</span> <span data-start="1881.909" data-end="1884.669">mechanisms one wasn't enough and I think</span> <span data-start="1884.669" data-end="1885.899">a lot of people will be like oh do you</span> <span data-start="1885.899" data-end="1887.429">like grids or do you like inline and I</span> <span data-start="1887.429" data-end="1889.95">say I actually think you need both in</span> <span data-start="1889.95" data-end="1894.09">different contexts so we build grids a24</span> <span data-start="1894.09" data-end="1896.549">based system this is super useful like</span> <span data-start="1896.549" data-end="1900.029">if you have a lot of floats and</span> <span data-start="1900.029" data-end="1902.609">positioning and widths in your in your</span> </p>
<p><span data-start="1902.609" data-end="1904.59">CSS when you go and grep it that means</span> <span data-start="1904.59" data-end="1906.21">that you need a grid system probably</span> <span data-start="1906.21" data-end="1909.09">rather badly and so having a grid system</span> <span data-start="1909.09" data-end="1910.859">means that people who don't necessarily</span> <span data-start="1910.859" data-end="1913.049">understand every in and out of CSS</span> <span data-start="1913.049" data-end="1915.179">layout can start making new cool pages</span> <span data-start="1915.179" data-end="1917.46">without having to get exactly how every</span> <span data-start="1917.46" data-end="1920.549">bit of CSS works so the way that we did</span> <span data-start="1920.549" data-end="1922.289">that shoots getting cut off at the top</span> <span data-start="1922.289" data-end="1924.21">but I'll tell you about it and we</span> <span data-start="1924.21" data-end="1926.039">created a grid where you can input the</span> <span data-start="1926.039" data-end="1927.72">number of columns that you want because</span> <span data-start="1927.72" data-end="1929.369">we found that from site to site it</span> <span data-start="1929.369" data-end="1931.59">actually varied and some people were ok</span> <span data-start="1931.59" data-end="1934.259">with 12 but a lot actually needed 24 we</span> <span data-start="1934.259" data-end="1936.84">had one request for 61 but I said no</span> <span data-start="1936.84" data-end="1938.489">because it's divisible by approximately</span> <span data-start="1938.489" data-end="1942.21">nothing umm so yeah the number of</span> <span data-start="1942.21" data-end="1943.649">columns are gonna have is going to vary</span> <span data-start="1943.649" data-end="1946.32">and so this takes two parameters number</span> <span data-start="1946.32" data-end="1949.139">of columns and your gutter size and so</span> <span data-start="1949.139" data-end="1950.639">those are those are things that you can</span> <span data-start="1950.639" data-end="1952.32">basically output any grid system you</span> <span data-start="1952.32" data-end="1956.159">want and those again are in variables so</span> <span data-start="1956.159" data-end="1957.659">that you can change them without needing</span> <span data-start="1957.659" data-end="1959.279">to muck into the guts of how that</span> <span data-start="1959.279" data-end="1962.7">component is working finally we also</span> <span data-start="1962.7" data-end="1964.59">have a media block which lets you layout</span> <span data-start="1964.59" data-end="1967.109">images with text and an inline list that</span> <span data-start="1967.109" data-end="1968.429">lets you layout things when you need</span> <span data-start="1968.429" data-end="1970.109">vertical alignment and so with those</span> <span data-start="1970.109" data-end="1972.869">three pieces of layout you hardly ever</span> <span data-start="1972.869" data-end="1976.18">have to write anymore floats again</span> <span data-start="1976.18" data-end="1978.07">the biggest thing with style guides is</span> <span data-start="1978.07" data-end="1979.39">that you're making it easier to do the</span> <span data-start="1979.39" data-end="1980.77">right thing than it is to do the wrong</span> <span data-start="1980.77" data-end="1982.63">thing people are always going to have a</span> <span data-start="1982.63" data-end="1985.12">tendency to go back to views based CSS</span> <span data-start="1985.12" data-end="1986.47">anytime they can because it's the</span> <span data-start="1986.47" data-end="1987.79">comfortable path it's how we've been</span> <span data-start="1987.79" data-end="1990.28">doing it for a long time but having a</span> <span data-start="1990.28" data-end="1992.08">style guide helps break that connection</span> <span data-start="1992.08" data-end="1993.58">between your view and your button so</span> <span data-start="1993.58" data-end="1995.71">that your button can live in a modal or</span> <span data-start="1995.71" data-end="1998.29">it can live in a page or really anywhere</span> <span data-start="1998.29" data-end="2001.83">that you need it to so the takeaways are</span> <span data-start="2001.83" data-end="2003.6">that well clearly this was a group</span> <span data-start="2003.6" data-end="2005.37">effort a lot of things change to make</span> <span data-start="2005.37" data-end="2007.71">these metrics move design style guide</span> </p>
<p><span data-start="2007.71" data-end="2010.26">SAS UI layer improvements as well as a</span> <span data-start="2010.26" data-end="2013.17">bit of server-side cleanup and I think</span> <span data-start="2013.17" data-end="2014.49">the other takeaway is that SAS really</span> <span data-start="2014.49" data-end="2016.11">can be made to be performant we just had</span> <span data-start="2016.11" data-end="2017.61">to be super vigilant about what the</span> <span data-start="2017.61" data-end="2019.47">output is going to be like and make sure</span> <span data-start="2019.47" data-end="2020.91">it makes sense to be sending that over</span> <span data-start="2020.91" data-end="2023.76">the wire and finally good performance as</span> <span data-start="2023.76" data-end="2026.07">a feature if you can get an 11%</span> <span data-start="2026.07" data-end="2028.31">pageviews bump from just a page that</span> <span data-start="2028.31" data-end="2031.2">that's changed performance wise I think</span> <span data-start="2031.2" data-end="2032.61">that that's well worth taking to a</span> <span data-start="2032.61" data-end="2033.69">product manager and having a</span> <span data-start="2033.69" data-end="2036.66">conversation about all of the code that</span> </p>
<p><span data-start="2036.66" data-end="2038.45">I talked about is available on github</span> <span data-start="2038.45" data-end="2042.33">it's under oo CSS under my username</span> <span data-start="2042.33" data-end="2044.55">stubborn Ella and I will tweet and post</span> <span data-start="2044.55" data-end="2047.43">the slides so that you can get that URL</span> </p>
</section>