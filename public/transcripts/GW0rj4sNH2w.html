<section>
<p><span data-start="18.91" data-end="21.29">I'm Tom mochi No thank you Chris first</span> <span data-start="21.29" data-end="23.15">of all I'm going to talk a bit about how</span> <span data-start="23.15" data-end="24.86">we do JavaScript application development</span> <span data-start="24.86" data-end="26.09">at Facebook we're going to do something</span> <span data-start="26.09" data-end="27.619">a little different jordan is actually</span> <span data-start="27.619" data-end="29.69">also going to present he's going to do</span> <span data-start="29.69" data-end="30.86">some of the technical stuff I'm going to</span> <span data-start="30.86" data-end="32.119">talk about the fluffy I'll get it</span> <span data-start="32.119" data-end="35.09">out of the way quick first of all we</span> <span data-start="35.09" data-end="36.5">asked ourselves this question many many</span> <span data-start="36.5" data-end="38.09">times how should we structure JavaScript</span> <span data-start="38.09" data-end="39.89">applications and more specifically</span> </p>
<p><span data-start="39.89" data-end="41.57">JavaScript applications that run in a</span> <span data-start="41.57" data-end="42.14">web browser</span> <span data-start="42.14" data-end="43.79">we're using node and doing all that fun</span> <span data-start="43.79" data-end="45.41">stuff too but I'm more interested in the</span> <span data-start="45.41" data-end="46.879">user interface side of things so that's</span> <span data-start="46.879" data-end="48.46">what we're going to talk about today</span> <span data-start="48.46" data-end="51.14">there are a lot of JavaScript frameworks</span> <span data-start="51.14" data-end="53.54">that aim to answer this question</span> <span data-start="53.54" data-end="55.28">these frameworks have allowed us to move</span> <span data-start="55.28" data-end="57.14">the web forward as a real application</span> <span data-start="57.14" data-end="57.68">platform</span> <span data-start="57.68" data-end="59.15">if Peter Higgins is the room I want to</span> <span data-start="59.15" data-end="61.339">call out that dojos up here because dojo</span> <span data-start="61.339" data-end="63.71">did it first as he would say or dojo</span> <span data-start="63.71" data-end="67.55">already did that but the consensus is</span> <span data-start="67.55" data-end="69.409">basically that an MVC style architecture</span> <span data-start="69.409" data-end="71.75">is best and it's not just MVC right it's</span> <span data-start="71.75" data-end="74.09">mvvm or as angular calls it Model View</span> <span data-start="74.09" data-end="75.89">whatever I really like that one I</span> <span data-start="75.89" data-end="77.87">actually really like angular in the the</span> <span data-start="77.87" data-end="79.76">declarative data binding I think that's</span> <span data-start="79.76" data-end="81.65">kind of the holy grail in terms of api's</span> <span data-start="81.65" data-end="83.99">all of these architectures and</span> <span data-start="83.99" data-end="85.159">frameworks have one thing in common</span> <span data-start="85.159" data-end="87.579">though and that's models</span> <span data-start="87.579" data-end="90.13">so typically models in these frameworks</span> <span data-start="90.13" data-end="93.049">implement observable objects with an</span> <span data-start="93.049" data-end="97.219">events API developers use bi-directional</span> <span data-start="97.219" data-end="99.229">data binding to bind their views to</span> <span data-start="99.229" data-end="102.229">their models as your models change or</span> <span data-start="102.229" data-end="104.18">views can be updated and as your views</span> <span data-start="104.18" data-end="106.219">change they can update the models which</span> <span data-start="106.219" data-end="108.049">then propagates out to other views</span> <span data-start="108.049" data-end="109.45">excuse me</span> <span data-start="109.45" data-end="111.92">so this observable model pattern</span> <span data-start="111.92" data-end="115.82">encourages mutation though and mutation</span> <span data-start="115.82" data-end="120.259">is complex so a few years ago starting</span> <span data-start="120.259" data-end="123.009">with our chat rewrite we tried to start</span> <span data-start="123.009" data-end="125.359">structuring our application a little bit</span> <span data-start="125.359" data-end="127.999">differently we wanted to minimize the</span> <span data-start="127.999" data-end="129.71">amount of mutation that developers had</span> <span data-start="129.71" data-end="131.48">to deal with mutation is a necessary</span> <span data-start="131.48" data-end="133.67">evil you have to deal with it but we</span> <span data-start="133.67" data-end="135.11">want to minimize the amount of mutation</span> <span data-start="135.11" data-end="137.23">that developers have to code themselves</span> <span data-start="137.23" data-end="139.66">let me show you what I mean by that</span> <span data-start="139.66" data-end="141.89">here's the structure for a simple</span> <span data-start="141.89" data-end="144.92">application in this diagram you'll</span> <span data-start="144.92" data-end="146.54">notice that all updates go through a</span> <span data-start="146.54" data-end="149.39">single flow so all updates including</span> <span data-start="149.39" data-end="151.16">user input they go through a single</span> <span data-start="151.16" data-end="151.94">channel</span> <span data-start="151.94" data-end="154.63">this is one directional data binding</span> <span data-start="154.63" data-end="157.16">those updates eventually reach the views</span> <span data-start="157.16" data-end="160.52">in the simplest way that we have found</span> <span data-start="160.52" data-end="163.43">conceptually to structure and render our</span> <span data-start="163.43" data-end="166.13">views is to just try and avoid mutation</span> <span data-start="166.13" data-end="168.71">altogether so what I mean by that is</span> <span data-start="168.71" data-end="172.46">anytime any of your data changes just</span> <span data-start="172.46" data-end="173.99">blow away your view completely and</span> <span data-start="173.99" data-end="176.93">rerender it from scratch now I know what</span> <span data-start="176.93" data-end="178.7">you're thinking that's not going to work</span> <span data-start="178.7" data-end="181.37">right the Dom can be slow you know</span> <span data-start="181.37" data-end="182.75">browsers are going to be it's going to</span> <span data-start="182.75" data-end="184.58">be prohibitively expensive to try and do</span> <span data-start="184.58" data-end="186.92">this to try and just reenter HTML</span> <span data-start="186.92" data-end="188.57">everything every time anything changes</span> <span data-start="188.57" data-end="190.31">especially in a real-time app or</span> <span data-start="190.31" data-end="192.74">something that's really interactive so</span> <span data-start="192.74" data-end="195.14">you know conceptually this is what we're</span> <span data-start="195.14" data-end="196.76">going for though this is what we want we</span> <span data-start="196.76" data-end="198.74">want to build something that gives us</span> <span data-start="198.74" data-end="200.81">the conceptual simplicity of re</span> <span data-start="200.81" data-end="202.34">rendering from scratch on every single</span> <span data-start="202.34" data-end="204.8">event um but you know without the</span> <span data-start="204.8" data-end="206.09">overhead because that's primitively</span> <span data-start="206.09" data-end="209.54">expensive so about 18 months to 2 years</span> <span data-start="209.54" data-end="212.18">ago and missing the exact date we</span> <span data-start="212.18" data-end="213.89">started working on a javascript library</span> <span data-start="213.89" data-end="215.51">that helps us do that and we call it</span> <span data-start="215.51" data-end="217.25">react so that was all the fluffy stuff</span> <span data-start="217.25" data-end="219.35">and I'm going to let Jordan come up and</span> <span data-start="219.35" data-end="220.67">talk about some of the more technical</span> <span data-start="220.67" data-end="227.48">details of this all right so like tom</span> <span data-start="227.48" data-end="229.25">was saying one of the things that we</span> <span data-start="229.25" data-end="231.41">strive for when we were building our</span> <span data-start="231.41" data-end="233">component framework is that we want to</span> <span data-start="233" data-end="234.709">minimize the amount of developer facing</span> <span data-start="234.709" data-end="237.53">mutations that the developers exposed to</span> <span data-start="237.53" data-end="240.17">and so react takes a different approach</span> <span data-start="240.17" data-end="241.97">in a few ways the first is that it's</span> <span data-start="241.97" data-end="244.58">highly declarative and so that doesn't</span> <span data-start="244.58" data-end="245.9">that means that not just your initial</span> <span data-start="245.9" data-end="247.4">rendering but also a lot of your updates</span> <span data-start="247.4" data-end="249.92">are implemented via some kind of a</span> <span data-start="249.92" data-end="252.23">declaration that's a non mutated</span> <span data-start="252.23" data-end="255.47">description of what your UI should be ok</span> <span data-start="255.47" data-end="257.959">so we don't have observable data binding</span> <span data-start="257.959" data-end="261.28">inside of react we don't ship with it I</span> <span data-start="261.28" data-end="263.12">imagine you could actually use it with</span> <span data-start="263.12" data-end="264.77">react but a lot of the things that you</span> <span data-start="264.77" data-end="266.51">might reach to observe observable data</span> <span data-start="266.51" data-end="268.76">binding for in order to implement react</span> <span data-start="268.76" data-end="269.93">provides a different way to do that and</span> <span data-start="269.93" data-end="271.46">declaration is the way that we do that</span> <span data-start="271.46" data-end="275.54">so along with react we are shipping an</span> <span data-start="275.54" data-end="277.97">embeddable XML syntax and we're calling</span> <span data-start="277.97" data-end="281.36">that JSX so this is similar to a lot of</span> <span data-start="281.36" data-end="282.62">the work and language proposals that</span> <span data-start="282.62" data-end="284.6">might have happened in the past but</span> <span data-start="284.6" data-end="285.65">we're unique</span> <span data-start="285.65" data-end="287.93">a few ways and I'll let you take a look</span> <span data-start="287.93" data-end="289.79">at what that looks like first okay so</span> <span data-start="289.79" data-end="293.81">here we have react used with JSX and so</span> <span data-start="293.81" data-end="295.82">we are creating a message variable and</span> <span data-start="295.82" data-end="298.22">we're assigning it to a react div</span> <span data-start="298.22" data-end="303.52">instance and it has an invested interest</span> <span data-start="303.52" data-end="304.729">is</span> <span data-start="304.729" data-end="307.31">are not exactly what you're used to</span> <span data-start="307.31" data-end="309.62">they're not Dom nodes so there's special</span> <span data-start="309.62" data-end="311.389">reactives and I'll get to why that's</span> <span data-start="311.389" data-end="314.12">important at the bottom there we render</span> <span data-start="314.12" data-end="319.97">it so one thing that makes JSX unique is</span> <span data-start="319.97" data-end="322.37">that it's a very lightweight transform</span> <span data-start="322.37" data-end="324.289">all we do is transform these tags into</span> <span data-start="324.289" data-end="326.99">function invocations so it's not quite</span> <span data-start="326.99" data-end="329.93">as nice looking but you can see it even</span> <span data-start="329.93" data-end="331.94">preserves the line the line number so if</span> <span data-start="331.94" data-end="333.65">you pass this to your linter it'll catch</span> <span data-start="333.65" data-end="335.419">like tags that are out of scope your</span> <span data-start="335.419" data-end="336.889">link messages will appear in the right</span> <span data-start="336.889" data-end="339.56">line and everything's low tooling is the</span> <span data-start="339.56" data-end="340.699">key here</span> <span data-start="340.699" data-end="344.449">but JSX is also optional if you want to</span> <span data-start="344.449" data-end="346.669">build with react so if you like this you</span> <span data-start="346.669" data-end="348.41">can write that but I think you guys</span> <span data-start="348.41" data-end="352.31">would agree that this is a lot better so</span> <span data-start="352.31" data-end="355.01">react is more than just about Dom nodes</span> <span data-start="355.01" data-end="357.56">and Dom components but react is</span> <span data-start="357.56" data-end="359.21">primarily a way for you to abstract</span> <span data-start="359.21" data-end="361.37">reusable code and high to implementation</span> <span data-start="361.37" data-end="365">details of your application UI so the</span> <span data-start="365" data-end="366.8">primary focus of react is allowing you</span> <span data-start="366.8" data-end="370.76">to build custom components so the way</span> <span data-start="370.76" data-end="372.53">that you use a custom component is a lot</span> <span data-start="372.53" data-end="373.76">like the way that you would use a div or</span> <span data-start="373.76" data-end="376.88">a span we can use the XML syntax JSX to</span> <span data-start="376.88" data-end="379.82">instantiate it so we have XML attributes</span> <span data-start="379.82" data-end="383.03">text and a non-action callback provided</span> <span data-start="383.03" data-end="384.86">here and these become the properties of</span> <span data-start="384.86" data-end="386.78">your view instance or of your react</span> <span data-start="386.78" data-end="390.409">component instance so you probably want</span> <span data-start="390.409" data-end="394.25">to check out how we implement or define</span> <span data-start="394.25" data-end="397.52">this action button a couple things just</span> <span data-start="397.52" data-end="399.979">to note is that we make one call to</span> <span data-start="399.979" data-end="402.8">react up create class and then we also</span> <span data-start="402.8" data-end="405.08">supply a render function so what this</span> <span data-start="405.08" data-end="408.169">does this creates a class to model your</span> <span data-start="408.169" data-end="412.01">component and it will extend or it will</span> <span data-start="412.01" data-end="413.69">mix in all the base functionality of the</span> <span data-start="413.69" data-end="417.469">react of the react base so react is not</span> <span data-start="417.469" data-end="418.96">an object oriented for</span> </p>
<p><span data-start="418.96" data-end="421">Geist framework though we use a little</span> <span data-start="421" data-end="422.289">bit of inheritance just because that</span> <span data-start="422.289" data-end="423.91">lends itself naturally to what</span> <span data-start="423.91" data-end="426.19">JavaScript is good at but other than</span> <span data-start="426.19" data-end="427.69">that the core paradigm here is an</span> <span data-start="427.69" data-end="429.34">object-oriented so I thought I would</span> <span data-start="429.34" data-end="431.47">call that out so you can supply other</span> <span data-start="431.47" data-end="432.849">methods here and they get mixed into</span> <span data-start="432.849" data-end="436.93">your prototype and so the moment you</span> <span data-start="436.93" data-end="438.699">define the action button you can</span> <span data-start="438.699" data-end="440.62">actually reference it it becomes in</span> <span data-start="440.62" data-end="443.5">scope and your linter won't complain if</span> <span data-start="443.5" data-end="444.97">action button wasn't in scope you know</span> <span data-start="444.97" data-end="446.83">your linter would say you know this is</span> <span data-start="446.83" data-end="449.319">not defined so it's a very JavaScript</span> <span data-start="449.319" data-end="454.33">centric language this JSX and so render</span> <span data-start="454.33" data-end="456.669">has one purpose and that is just is to</span> <span data-start="456.669" data-end="458.62">describe your view at any point in time</span> <span data-start="458.62" data-end="462.039">so that doesn't mean just the initial</span> <span data-start="462.039" data-end="464.56">render but at any point in time so let's</span> <span data-start="464.56" data-end="465.55">go through what that might look like</span> <span data-start="465.55" data-end="468.669">over a series of updates ok so we're</span> <span data-start="468.669" data-end="470.229">starting out with a shell here we have</span> <span data-start="470.229" data-end="474.25">an outer button and an inner span so we</span> <span data-start="474.25" data-end="475.33">want to do something interesting with</span> <span data-start="475.33" data-end="477.19">the properties that were given we want</span> <span data-start="477.19" data-end="478.78">to be able to interpret them into a user</span> <span data-start="478.78" data-end="481.63">experience so what we do is we take the</span> <span data-start="481.63" data-end="484.12">property text and route it down into the</span> <span data-start="484.12" data-end="485.949">inner span and the way you do that is</span> <span data-start="485.949" data-end="487.72">you can refer to these XML attributes</span> <span data-start="487.72" data-end="491.38">that are passed in via this dot props so</span> <span data-start="491.38" data-end="492.61">you can see they're in the center where</span> <span data-start="492.61" data-end="495.34">we're routing the book flight text into</span> <span data-start="495.34" data-end="499">the inner span but these XML attributes</span> <span data-start="499" data-end="500.469">don't just have to be strings because</span> <span data-start="500.469" data-end="503.169">we're in JavaScript and JSX and wrap is</span> </p>
<p><span data-start="503.169" data-end="506.469">JavaScript focused so we have a function</span> <span data-start="506.469" data-end="507.969">that we're being supplied here in the on</span> <span data-start="507.969" data-end="509.71">action callback and we're routing that</span> <span data-start="509.71" data-end="512.02">to the buttons on click so in action</span> <span data-start="512.02" data-end="515.02">buttons on action is a Dom buttons on</span> <span data-start="515.02" data-end="518.709">click in this case and so it helps to</span> <span data-start="518.709" data-end="521.86">view at least initially react component</span> <span data-start="521.86" data-end="523.57">as a transform from these properties</span> <span data-start="523.57" data-end="525.52">into a user experience and you can just</span> <span data-start="525.52" data-end="526.99">kind of imagine these being routed to</span> <span data-start="526.99" data-end="532">their proper locations but react is more</span> <span data-start="532" data-end="533.92">than just a routing tool you can do any</span> <span data-start="533.92" data-end="535.27">kind of transform that you or you can do</span> <span data-start="535.27" data-end="536.86">any JavaScript expression that you want</span> <span data-start="536.86" data-end="539.62">inside of these interpolation braces so</span> <span data-start="539.62" data-end="540.79">that means that we can uppercase the</span> <span data-start="540.79" data-end="542.649">text and so anytime the text changes</span> <span data-start="542.649" data-end="545.74">this will always be uppercase so like I</span> <span data-start="545.74" data-end="547.57">mentioned earlier render isn't just your</span> <span data-start="547.57" data-end="549.1">initial isn't just your initial</span> <span data-start="549.1" data-end="550.449">rendering but it's actually your</span> <span data-start="550.449" data-end="551.42">rendering over</span> <span data-start="551.42" data-end="553.37">points in time so as your properties</span> <span data-start="553.37" data-end="556.73">change as your properties change the</span> <span data-start="556.73" data-end="558.83">render output change changes and then</span> <span data-start="558.83" data-end="560.84">react satisfies your render function</span> <span data-start="560.84" data-end="562.31">it'll make sure that the user</span> <span data-start="562.31" data-end="564.8">experiences render exactly as you've</span> <span data-start="564.8" data-end="567.77">described at any point in time and so</span> <span data-start="567.77" data-end="569.36">what react will do is it will find the</span> <span data-start="569.36" data-end="571.19">minimal set of Dom mutations needed to</span> <span data-start="571.19" data-end="572.03">make that happen</span> <span data-start="572.03" data-end="576.92">so let's say that you're you're let's</span> <span data-start="576.92" data-end="578.84">say that your texts have changed so</span> <span data-start="578.84" data-end="580.43">react will find that the only thing that</span> <span data-start="580.43" data-end="582.23">needs to change is that inner innermost</span> <span data-start="582.23" data-end="585.44">spans text content so I'll explain a</span> <span data-start="585.44" data-end="588.37">little bit more about how that works</span> <span data-start="588.37" data-end="591.38">but but the key here is that you can</span> <span data-start="591.38" data-end="593.81">react these previously abstracted</span> <span data-start="593.81" data-end="595.61">components we already saw the action</span> <span data-start="595.61" data-end="597.26">button and that was a simple and</span> <span data-start="597.26" data-end="599.69">stateless component but you know you'll</span> <span data-start="599.69" data-end="600.89">eventually want to build something more</span> <span data-start="600.89" data-end="602.15">complex something more like an</span> <span data-start="602.15" data-end="603.92">application it will have its own</span> <span data-start="603.92" data-end="608.87">internal state so let's do that so this</span> <span data-start="608.87" data-end="611.42">is a simplest stateful component that</span> <span data-start="611.42" data-end="613.13">you could imagine it's the counter has</span> <span data-start="613.13" data-end="614.9">an increment and decrement button and</span> <span data-start="614.9" data-end="617.24">you'll see that we're actually reusing</span> <span data-start="617.24" data-end="619.04">our action button that we created in the</span> <span data-start="619.04" data-end="621.98">last example so we have two action</span> <span data-start="621.98" data-end="623.3">buttons one that increments one that</span> <span data-start="623.3" data-end="628.55">decrements so this is new if you want to</span> <span data-start="628.55" data-end="630.02">build an application and you don't just</span> <span data-start="630.02" data-end="632.06">want simple stateless views you want to</span> <span data-start="632.06" data-end="633.86">be able to define some kind of a state</span> <span data-start="633.86" data-end="635.18">machine you want your component to be</span> <span data-start="635.18" data-end="636.56">able to assume the role of a state</span> <span data-start="636.56" data-end="638.42">machine in some way and so state</span> <span data-start="638.42" data-end="641.06">machines need an initial State so good</span> <span data-start="641.06" data-end="642.92">initial state is a special function that</span> <span data-start="642.92" data-end="644.63">react allows you to implement in order</span> <span data-start="644.63" data-end="645.92">for you to define what your initial</span> <span data-start="645.92" data-end="648.98">state is so in this case we're setting</span> <span data-start="648.98" data-end="651.65">the count member of our state to be</span> <span data-start="651.65" data-end="654.02">equal to the initial count property that</span> <span data-start="654.02" data-end="655.85">was passed in and the example there</span> <span data-start="655.85" data-end="657.89">passes for so we're going to initialize</span> <span data-start="657.89" data-end="662.66">our state to be 4</span> <span data-start="662.67" data-end="665.23">so this is where it gets really</span> <span data-start="665.23" data-end="667.03">interesting the same way that we could</span> <span data-start="667.03" data-end="668.74">refer to props in our render function</span> <span data-start="668.74" data-end="671.74">and assume that they're always up to</span> <span data-start="671.74" data-end="673.75">date because react ensures that we can</span> <span data-start="673.75" data-end="675.7">also refer to state inside of our render</span> <span data-start="675.7" data-end="677.08">function and assume that they're always</span> <span data-start="677.08" data-end="679.57">up to date so anytime your properties or</span> <span data-start="679.57" data-end="682.72">your state changes render will render</span> <span data-start="682.72" data-end="684.94">will remain satisfied by the react</span> <span data-start="684.94" data-end="689.32">system so the the content of that h 3</span> <span data-start="689.32" data-end="691.84">there will always show the states count</span> <span data-start="691.84" data-end="693.13">and you can put any expression there</span> <span data-start="693.13" data-end="694.75">again you can put a ternary that decides</span> <span data-start="694.75" data-end="696.61">what to render their special messaging</span> <span data-start="696.61" data-end="701.43">depending on like certain counts okay so</span> <span data-start="701.43" data-end="703.54">to make these state changes actually</span> <span data-start="703.54" data-end="707.16">happen we bind the add to count method</span> <span data-start="707.16" data-end="710.47">to our action buttons on action and so</span> <span data-start="710.47" data-end="712">when we increment one we're going to add</span> <span data-start="712" data-end="714.34">to count passing in 1 because we bound</span> <span data-start="714.34" data-end="717.1">it there in the callback and so what we</span> <span data-start="717.1" data-end="719.56">do is we set state which is like a state</span> <span data-start="719.56" data-end="721.42">transition if our components are state</span> <span data-start="721.42" data-end="723.16">machine then set state is how you</span> <span data-start="723.16" data-end="724.78">perform state transitions on the state</span> <span data-start="724.78" data-end="727.51">machine what we do is we set the next</span> <span data-start="727.51" data-end="729.7">count to be equal to the current count</span> <span data-start="729.7" data-end="735.7">plus the Delta alright so how does this</span> <span data-start="735.7" data-end="740.8">work so there's two main passes here or</span> <span data-start="740.8" data-end="742.84">there's two main stages to the react</span> <span data-start="742.84" data-end="745.66">component life lifecycle there's the</span> <span data-start="745.66" data-end="748.48">initial rendering and so what we do for</span> <span data-start="748.48" data-end="751.3">the sake of flexibility is we compute a</span> <span data-start="751.3" data-end="755.2">giant markup string and so react will</span> <span data-start="755.2" data-end="757.09">traverse your entire component hierarchy</span> <span data-start="757.09" data-end="758.92">tree and we'll create a markup string</span> <span data-start="758.92" data-end="761.13">that injects into wherever you render it</span> <span data-start="761.13" data-end="763.99">now there's a second phase to that</span> <span data-start="763.99" data-end="765.88">initial to that initial stage there and</span> <span data-start="765.88" data-end="767.8">that is that we instantiate all the</span> <span data-start="767.8" data-end="769.72">backing objects and attach all the event</span> <span data-start="769.72" data-end="771.46">handlers what's interesting here is that</span> <span data-start="771.46" data-end="773.17">these two things can occur in two</span> <span data-start="773.17" data-end="775.57">different places on your system two</span> <span data-start="775.57" data-end="777.09">different computers</span> <span data-start="777.09" data-end="780.97">anywhere in the world so you could you</span> <span data-start="780.97" data-end="782.83">could in theory render the markup on a</span> <span data-start="782.83" data-end="784.99">server and then attach all the event</span> <span data-start="784.99" data-end="787.33">handlers and instantiate all the backing</span> <span data-start="787.33" data-end="789.88">views on the client to completely</span> <span data-start="789.88" data-end="792.46">separate machines we could talk a lot</span> <span data-start="792.46" data-end="794.28">more about that too</span> <span data-start="794.28" data-end="797.5">but the second primary phase of a</span> <span data-start="797.5" data-end="799.93">components lifecycle is when these</span> <span data-start="799.93" data-end="802.06">changes in data happen so we need to</span> <span data-start="802.06" data-end="803.89">make the UI fresh and that's what</span> <span data-start="803.89" data-end="806.23">reconciliation is is this updating new</span> <span data-start="806.23" data-end="807.94">year it's making sure that your UI is</span> <span data-start="807.94" data-end="809.95">updated anytime any of your data sources</span> <span data-start="809.95" data-end="814.21">change and so how this works is that it</span> <span data-start="814.21" data-end="816.31">recursively compares subsequent</span> <span data-start="816.31" data-end="818.38">invocations of render and it takes the</span> <span data-start="818.38" data-end="820.93">outputs of those and it creates a the</span> <span data-start="820.93" data-end="822.85">smallest if possible to make sure that</span> <span data-start="822.85" data-end="824.41">your UI is is up to date</span> <span data-start="824.41" data-end="825.97">so if only one little Dom node changes</span> <span data-start="825.97" data-end="828.22">or if only one class name or one style</span> <span data-start="828.22" data-end="829.86">attribute on on a Dom node that's</span> <span data-start="829.86" data-end="832.21">possibly 50 levels deep in your view</span> <span data-start="832.21" data-end="834.37">hierarchy changes will will serialize</span> <span data-start="834.37" data-end="836.5">these diff commands basically over this</span> <span data-start="836.5" data-end="838.78">logical bridge to this other part of the</span> <span data-start="838.78" data-end="840.52">system that will apply to that smallest</span> <span data-start="840.52" data-end="845.56">mutation and so again just to illustrate</span> <span data-start="845.56" data-end="847.75">that in more depth here if this text</span> <span data-start="847.75" data-end="849.37">changes from book flight to book hotel</span> <span data-start="849.37" data-end="853.06">only that span the only dom command that</span> <span data-start="853.06" data-end="854.8">will ever execute is to make sure that</span> <span data-start="854.8" data-end="856.84">that spans inter text has changed we</span> <span data-start="856.84" data-end="859.83">won't even read from the dom actually</span> <span data-start="859.83" data-end="862.75">okay so anybody that's giving a</span> <span data-start="862.75" data-end="864.31">presentation at a conference is going to</span> <span data-start="864.31" data-end="866.37">show you the most contrived examples and</span> <span data-start="866.37" data-end="870.31">so react is no different but there's</span> <span data-start="870.31" data-end="872.05">also an escape hatch or several escape</span> <span data-start="872.05" data-end="873.64">hatches that you can that you can tap</span> <span data-start="873.64" data-end="875.71">into in the react system so some of the</span> <span data-start="875.71" data-end="876.58">things you're going to want to do is</span> <span data-start="876.58" data-end="877.81">you're going to want to integrate with</span> <span data-start="877.81" data-end="879.19">your existing frameworks or your</span> <span data-start="879.19" data-end="881.38">existing code and so we allow plenty of</span> <span data-start="881.38" data-end="884.13">ways to let you to let you do that and</span> <span data-start="884.13" data-end="886.96">and another more interesting escape</span> <span data-start="886.96" data-end="888.64">hatch that we have is a way for you to</span> <span data-start="888.64" data-end="890.44">be able to help guide this process along</span> <span data-start="890.44" data-end="892.39">so react is finding this diff the</span> <span data-start="892.39" data-end="894.01">smallest possible set of Don changes</span> <span data-start="894.01" data-end="895.63">that need to be applied and that can</span> <span data-start="895.63" data-end="899.17">take some time so what we allow is we</span> <span data-start="899.17" data-end="900.4">allow you to prune out a lot of the</span> <span data-start="900.4" data-end="902.8">search space and help react and help</span> <span data-start="902.8" data-end="905.26">guide react along to find these small as</span> <span data-start="905.26" data-end="907.99">to come these smallest ifs and so those</span> <span data-start="907.99" data-end="909.58">are completely optional you can you can</span> <span data-start="909.58" data-end="910.69">put them in your code or you can take</span> <span data-start="910.69" data-end="912.82">them out and the same application runs</span> <span data-start="912.82" data-end="914.13">just faster or slower</span> <span data-start="914.13" data-end="917.26">so it's tree it's a it's treating this</span> <span data-start="917.26" data-end="919.45">optimization step as a complete a</span> <span data-start="919.45" data-end="920.95">completely separate part of development</span> <span data-start="920.95" data-end="922.39">it's not core you don't start with the</span> <span data-start="922.39" data-end="924.49">optimizations but you you identify the</span> <span data-start="924.49" data-end="925.72">bottlenecks and apply them where</span> <span data-start="925.72" data-end="927.07">necessary</span> <span data-start="927.07" data-end="928.76">okay so I'm going to kick it back to</span> </p>
<p><span data-start="928.76" data-end="930.74">Tomo and he's going to tell a little bit</span> <span data-start="930.74" data-end="933.58">about the history of react in the future</span> <span data-start="933.58" data-end="936.71">thanks Jordan yeah so the interesting</span> <span data-start="936.71" data-end="938.54">thing about that escape hatch is that's</span> <span data-start="938.54" data-end="939.95">actually pretty important to being able</span> <span data-start="939.95" data-end="941.93">to iterate on your product over time so</span> <span data-start="941.93" data-end="943.91">another hook that you get is basically</span> <span data-start="943.91" data-end="946.25">at any point you can say just give me a</span> <span data-start="946.25" data-end="947.9">Dom node and let me write JavaScript so</span> <span data-start="947.9" data-end="949.28">one of the examples that we had up here</span> <span data-start="949.28" data-end="951.86">was and we just trimmed it for content</span> <span data-start="951.86" data-end="953.96">but like you can basically say okay I</span> <span data-start="953.96" data-end="955.88">have this other plugin from some other</span> <span data-start="955.88" data-end="957.44">framework that does like Auto growing</span> <span data-start="957.44" data-end="959.48">text areas or that does like an</span> <span data-start="959.48" data-end="961.52">autocomplete ER and you can basically</span> <span data-start="961.52" data-end="963.53">wire those things up via that escape</span> <span data-start="963.53" data-end="965.18">hatch really easily and this is actually</span> <span data-start="965.18" data-end="966.89">why this framework was able to be</span> <span data-start="966.89" data-end="968.69">successful at Facebook we didn't have to</span> <span data-start="968.69" data-end="970.31">convert everything we could use it kind</span> <span data-start="970.31" data-end="973.49">of piecemeal but yeah I mean this</span> <span data-start="973.49" data-end="975.08">started a long time ago this started</span> <span data-start="975.08" data-end="976.67">probably eighteen months ago</span> <span data-start="976.67" data-end="978.2">somewhere between 18 months and two</span> <span data-start="978.2" data-end="980.45">years ago and you know at this point</span> <span data-start="980.45" data-end="982.16">we're using this all over Facebook calm</span> <span data-start="982.16" data-end="983.99">if you've ever commented on anything on</span> </p>
<p><span data-start="983.99" data-end="986.18">Facebook or liked anything if you've</span> <span data-start="986.18" data-end="988.1">ever talked and chat or integrated or</span> <span data-start="988.1" data-end="990.59">used your buddy list and or even use</span> <span data-start="990.59" data-end="992.12">your notifications there's a bunch of</span> <span data-start="992.12" data-end="993.44">different places where we've been using</span> <span data-start="993.44" data-end="994.55">this for a really long time</span> <span data-start="994.55" data-end="996.44">and it's been working out really really</span> <span data-start="996.44" data-end="999.02">well for us so about a year ago when</span> <span data-start="999.02" data-end="1001.69">Instagram joined Facebook we had this</span> <span data-start="1001.69" data-end="1003.28">this is the first time that this ever</span> <span data-start="1003.28" data-end="1005.74">happened to us we had somebody else who</span> <span data-start="1005.74" data-end="1007.42">wasn't on Facebook's infrastructure that</span> <span data-start="1007.42" data-end="1009.48">wanted to use Facebook's infrastructure</span> <span data-start="1009.48" data-end="1011.62">and you know we've presented a bunch of</span> <span data-start="1011.62" data-end="1013.51">stuff at J's conf in the past and you</span> <span data-start="1013.51" data-end="1015.91">know historically our you know excuses</span> <span data-start="1015.91" data-end="1017.47">kind of been you know it's pretty tough</span> <span data-start="1017.47" data-end="1018.55">to divorce things from our</span> <span data-start="1018.55" data-end="1020.56">infrastructure but Instagram joined us</span> <span data-start="1020.56" data-end="1022.06">and they really wanted to use this and</span> <span data-start="1022.06" data-end="1023.47">they sort of acted like a forcing</span> <span data-start="1023.47" data-end="1025.84">function for us Rebecca made a great</span> <span data-start="1025.84" data-end="1027.28">comment about writing your code as if</span> <span data-start="1027.28" data-end="1029.08">it's open-source so what we started to</span> <span data-start="1029.08" data-end="1030.88">do is we just went through all of react</span> <span data-start="1030.88" data-end="1032.47">and all of the build steps and all of</span> <span data-start="1032.47" data-end="1034">those tool and all the tooling behind it</span> <span data-start="1034" data-end="1037.18">and we built it or you know refactored</span> <span data-start="1037.18" data-end="1039.7">it and rebuilt it such that it was able</span> <span data-start="1039.7" data-end="1041.77">to be open sourced so that Instagram</span> <span data-start="1041.77" data-end="1044.35">could use it on Instagram calm in fact</span> </p>
<p><span data-start="1044.35" data-end="1045.94">Instagram calm was their first project</span> <span data-start="1045.94" data-end="1047.98">that they wanted to take on after they</span> <span data-start="1047.98" data-end="1049.93">joined Facebook and in a matter of a</span> <span data-start="1049.93" data-end="1052.15">week or two they built all of Instagram</span> <span data-start="1052.15" data-end="1055.24">comm profiles on this system which was</span> <span data-start="1055.24" data-end="1056.92">amazing for us we were really excited</span> <span data-start="1056.92" data-end="1057.88">about that</span> <span data-start="1057.88" data-end="1059.86">they basically again they</span> <span data-start="1059.86" data-end="1061.42">as a forcing function for us to kind of</span> <span data-start="1061.42" data-end="1063.67">get our house in order and you know this</span> <span data-start="1063.67" data-end="1065.71">you know divorce are our infrastructure</span> <span data-start="1065.71" data-end="1067.87">from this library and some other</span> <span data-start="1067.87" data-end="1070.72">libraries so you know all of Instagram</span> <span data-start="1070.72" data-end="1072.22">comm is unreacted ow</span> <span data-start="1072.22" data-end="1074.559">and you know it gave us practice with</span> <span data-start="1074.559" data-end="1076.66">somewhat of an external client so the</span> <span data-start="1076.66" data-end="1078.01">logical next step for all the people</span> <span data-start="1078.01" data-end="1079.36">that have been working on this is you</span> <span data-start="1079.36" data-end="1081.28">know you know we want to open-source</span> <span data-start="1081.28" data-end="1083.92">this and actually incidentally we did</span> <span data-start="1083.92" data-end="1085.59">that about a half-hour ago</span> <span data-start="1085.59" data-end="1088.78">so ha if you check out Facebook thank</span> <span data-start="1088.78" data-end="1093.16">you so again you know I want to be</span> <span data-start="1093.16" data-end="1094.33">really humble here this is just</span> <span data-start="1094.33" data-end="1095.41">something that we're using it's</span> <span data-start="1095.41" data-end="1096.85">something that works really well for us</span> <span data-start="1096.85" data-end="1098.679">we're really interested to get any</span> <span data-start="1098.679" data-end="1100.87">feedback we can you know definitely</span> <span data-start="1100.87" data-end="1103.57">check out the link you know we're really</span> <span data-start="1103.57" data-end="1105.07">open to feedback there's a Google Group</span> <span data-start="1105.07" data-end="1108.4">there's an IRC chat room there's you</span> <span data-start="1108.4" data-end="1110.23">know all sorts of like on github there's</span> <span data-start="1110.23" data-end="1113.919">a you know issues and stuff there so you</span> <span data-start="1113.919" data-end="1131.44">know that's react and you know thank you</span> </p>
</section>