<section>
<p><span data-start="15.58" data-end="17.56">so I'm Michael is the shoe here we both</span> <span data-start="17.56" data-end="21.3">worked on Lola with JavaScript and I</span> <span data-start="21.3" data-end="24.07">guess it's a programming language right</span> <span data-start="24.07" data-end="25.15">it's not the mobile world's most</span> <span data-start="25.15" data-end="26.92">beautiful programming language it's</span> <span data-start="26.92" data-end="29.23">still JavaScript however so you can so a</span> <span data-start="29.23" data-end="32.379">low-level JavaScript now well JavaScript</span> <span data-start="32.379" data-end="35.98">program will just part us as a low-level</span> <span data-start="35.98" data-end="37.3">JavaScript program so you can actually</span> <span data-start="37.3" data-end="39.46">it's just JavaScript with semantic type</span> <span data-start="39.46" data-end="41.89">annotations and what is it for what's it</span> <span data-start="41.89" data-end="44.65">good for well it's only the real purpose</span> <span data-start="44.65" data-end="46.269">of it is to let you write sort of memory</span> <span data-start="46.269" data-end="49.51">efficient code in JavaScript a little</span> <span data-start="49.51" data-end="51.79">bit less painfully and of course it</span> <span data-start="51.79" data-end="54.159">compiles to JavaScript so here's my</span> <span data-start="54.159" data-end="55.9">favorite data structure that I learned</span> <span data-start="55.9" data-end="57.76">when I started computer science it's a</span> <span data-start="57.76" data-end="61.059">linked list so can anyone see the the</span> <span data-start="61.059" data-end="63.22">code all right so this is how I would</span> <span data-start="63.22" data-end="65.89">write a linked list in JavaScript now if</span> <span data-start="65.89" data-end="68.2">you wanted to create say a linked list</span> <span data-start="68.2" data-end="70.81">of 40 million JavaScript objects which</span> <span data-start="70.81" data-end="72.07">is quite impressive that you can do it</span> <span data-start="72.07" data-end="74.229">so quickly it takes about two to four</span> <span data-start="74.229" data-end="76.81">seconds in either spider monkey spider</span> <span data-start="76.81" data-end="79.99">monkey or and v8 which is pretty good</span> <span data-start="79.99" data-end="82.09">but if you actually look at what's going</span> <span data-start="82.09" data-end="84.34">on here is the JavaScript every</span> <span data-start="84.34" data-end="85.81">individual JavaScript object is quite</span> <span data-start="85.81" data-end="88.93">fat right it has a as a header which</span> <span data-start="88.93" data-end="90.25">contains some sort of type information</span> <span data-start="90.25" data-end="92.83">either pointed to the prototype or some</span> <span data-start="92.83" data-end="93.97">data structure that maintains this</span> <span data-start="93.97" data-end="95.83">information about the object perhaps</span> <span data-start="95.83" data-end="98.86">some GC flags it has several properties</span> <span data-start="98.86" data-end="101.77">in it so on a little in the linked list</span> <span data-start="101.77" data-end="104.77">example we had only we were only seeing</span> <span data-start="104.77" data-end="106.54">two properties but it may be that the</span> <span data-start="106.54" data-end="108.61">object when it was first created had</span> <span data-start="108.61" data-end="110.92">more properties in it perhaps slots to</span> <span data-start="110.92" data-end="112.39">hold these four properties because</span> <span data-start="112.39" data-end="114.25">objects are extensible and each</span> <span data-start="114.25" data-end="116.7">individual property within the object</span> <span data-start="116.7" data-end="119.229">could sometimes be up to four bytes long</span> <span data-start="119.229" data-end="120.76">eight bytes long right because you can</span> <span data-start="120.76" data-end="122.77">have a store into double perhaps a</span> <span data-start="122.77" data-end="125.229">reference so they're quite fat so if you</span> <span data-start="125.229" data-end="126.479">look at what this looks like in memory</span> <span data-start="126.479" data-end="129.64">you just end up with these very fat sort</span> <span data-start="129.64" data-end="130.959">of JavaScript objects and you can</span> <span data-start="130.959" data-end="133.44">represent this much more efficiently</span> <span data-start="133.44" data-end="135.819">with using some sort of an array data</span> <span data-start="135.819" data-end="137.47">structure right so you can just allocate</span> <span data-start="137.47" data-end="139">little notes than the array and then you</span> <span data-start="139" data-end="141.64">can use you can treat pointers offsets</span> <span data-start="141.64" data-end="143.13">within the array and you do some like</span> <span data-start="143.13" data-end="146.489">really ugly JavaScript</span> <span data-start="146.489" data-end="148.629">code to sort of manipulate this data</span> <span data-start="148.629" data-end="150.4">structure now you can do is very</span> <span data-start="150.4" data-end="152.14">efficiently so one thing we learn from</span> <span data-start="152.14" data-end="154.18">em scripting is that using typed arrays</span> <span data-start="154.18" data-end="155.56">you can add some model memory pretty</span> <span data-start="155.56" data-end="157.84">efficiently so I guess I don't have to</span> <span data-start="157.84" data-end="159.129">explain typed arrays but it's actually</span> <span data-start="159.129" data-end="161.2">just a real quick just allow me to</span> <span data-start="161.2" data-end="164.5">overlay different views on an array</span> <span data-start="164.5" data-end="166.84">buffer so essentially the way although</span> </p>
<p><span data-start="166.84" data-end="169.12">Jess work so we just you sort of request</span> <span data-start="169.12" data-end="171.25">a memory module what allocates so you</span> <span data-start="171.25" data-end="173.5">want 32 megabytes or so and then it</span> <span data-start="173.5" data-end="175.15">gives you ability to read and write in</span> <span data-start="175.15" data-end="177.43">this data in this write buffer using</span> <span data-start="177.43" data-end="180.069">these views now okay so the previous</span> <span data-start="180.069" data-end="182.349">example if you want to write it in c</span> <span data-start="182.349" data-end="184.48">like way you basically write this kind</span> <span data-start="184.48" data-end="190.329">of JavaScript so here you essentially</span> <span data-start="190.329" data-end="193.269">like p you disappointed to the first</span> <span data-start="193.269" data-end="195.43">object and the p glass is supporting</span> <span data-start="195.43" data-end="197.049">index to the last object in the</span> </p>
<p><span data-start="197.049" data-end="200.409">ArrayList into the in 32 array and you</span> <span data-start="200.409" data-end="203.019">need to sort of like manual pointer</span> <span data-start="203.019" data-end="205.06">assignments and so on now if you ran</span> <span data-start="205.06" data-end="206.68">this kind of code in spider monkey or in</span> <span data-start="206.68" data-end="208.959">v8 it's about 10 times faster than the</span> <span data-start="208.959" data-end="211.48">previous example so which is quite a big</span> <span data-start="211.48" data-end="213.699">difference now this is obviously for</span> <span data-start="213.699" data-end="215.53">several reasons so but what is more</span> <span data-start="215.53" data-end="218.579">interesting is the memory usage so I</span> <span data-start="218.579" data-end="222.4">sort of an I used that addy trace probe</span> <span data-start="222.4" data-end="223.75">to sort of measure an amount of memory</span> <span data-start="223.75" data-end="226.629">that's requested form the operating</span> <span data-start="226.629" data-end="228.879">system by both spider monkey and v8 and</span> <span data-start="228.879" data-end="231.79">for the an example with objects it's</span> <span data-start="231.79" data-end="234.94">about two point four gigabytes right the</span> <span data-start="234.94" data-end="236.319">actual amount of data that we really</span> <span data-start="236.319" data-end="238.06">need is about only about 300 megabytes</span> <span data-start="238.06" data-end="242.169">right but the amount of the matter of</span> <span data-start="242.169" data-end="244">sort of memory requested is much much</span> <span data-start="244" data-end="246.729">larger so it's about 8.2 four times and</span> <span data-start="246.729" data-end="249.22">spider monkey and if v8 it's about 13 or</span> <span data-start="249.22" data-end="251.979">so now this does this is virtual memory</span> <span data-start="251.979" data-end="254.5">so I'm not saying the vengers really</span> <span data-start="254.5" data-end="256.51">used this much memory but you know it's</span> <span data-start="256.51" data-end="259.269">still quite significant if you were to</span> <span data-start="259.269" data-end="261.519">program the same thing using structs you</span> <span data-start="261.519" data-end="263.169">would end up with only about a 1.3 x</span> <span data-start="263.169" data-end="266.38">sort of memory overhead so in either</span> <span data-start="266.38" data-end="267.789">case both like the difference between</span> <span data-start="267.789" data-end="270.12">using objects instructs is about 8x</span> <span data-start="270.12" data-end="272.53">somewhere between four and eight X which</span> <span data-start="272.53" data-end="274.63">is quite significant I think so</span> <span data-start="274.63" data-end="276.13">basically we want to do is like can you</span> <span data-start="276.13" data-end="278.02">just write this kind of code in</span> </p>
<p><span data-start="278.02" data-end="279.07">JavaScript</span> <span data-start="279.07" data-end="282.34">and I understand it's extremely ugly to</span> <span data-start="282.34" data-end="284.74">seek seek pointers and arrows and stuff</span> <span data-start="284.74" data-end="286.18">right but it kind of fits into the</span> <span data-start="286.18" data-end="288.28">syntax we really only need to do is just</span> <span data-start="288.28" data-end="289.9">sort of add these like see style type</span> <span data-start="289.9" data-end="292.33">annotations in front of variable</span> <span data-start="292.33" data-end="296.14">declarations okay so we sort of tweeted</span> <span data-start="296.14" data-end="297.22">about this we worked on it for like</span> <span data-start="297.22" data-end="299.86">three weeks tweeted and then could</span> <span data-start="299.86" data-end="301.51">imagine like the tweets right so what</span> <span data-start="301.51" data-end="303.19">have we done the world just wrapped</span> <span data-start="303.19" data-end="307.09">around and swallowed its own tail this</span> <span data-start="307.09" data-end="308.53">is my favorite sometimes you just want</span> <span data-start="308.53" data-end="310.3">to tell people please instead of doing</span> <span data-start="310.3" data-end="312.25">this go volunteer a soup kitchen or</span> <span data-start="312.25" data-end="315.4">something and I totally agree it's crazy</span> <span data-start="315.4" data-end="317.62">crazy all right so how this all get</span> <span data-start="317.62" data-end="318.79">started well when I was working on</span> </p>
<p><span data-start="318.79" data-end="322.39">Broadway Jess I was really surprised the</span> <span data-start="322.39" data-end="323.68">fact that like you can actually write a</span> <span data-start="323.68" data-end="326.53">codec in JavaScript and without any sort</span> <span data-start="326.53" data-end="329.08">of like interruptions I mean the frames</span> <span data-start="329.08" data-end="331.3">were like I mean it was not as efficient</span> <span data-start="331.3" data-end="333.25">obviously a see but you had no GC pauses</span> <span data-start="333.25" data-end="334.86">which is kind of really important for</span> <span data-start="334.86" data-end="338.89">doing that kind of programming so we</span> <span data-start="338.89" data-end="340.15">sort of looked at I'm script and so can</span> <span data-start="340.15" data-end="341.74">we just take sort of the good parts of</span> <span data-start="341.74" data-end="344.77">em script and I mean it's great but it</span> <span data-start="344.77" data-end="346.99">still relies on a C and C++ to change so</span> <span data-start="346.99" data-end="347.8">if you want actually want to integrate</span> <span data-start="347.8" data-end="349.27">write some code like this in your</span> </p>
<p><span data-start="349.27" data-end="350.62">JavaScript program so you have to rely</span> <span data-start="350.62" data-end="353.2">on the C and C++ toolchain and then use</span> <span data-start="353.2" data-end="356.71">llvm and compile to JavaScript so can't</span> <span data-start="356.71" data-end="359.5">we just sort of why not just take the c</span> <span data-start="359.5" data-end="360.97">and java script and add them together</span> <span data-start="360.97" data-end="364.27">and we came up with LHS this is sort of</span> <span data-start="364.27" data-end="366.07">well originally named of star yes but</span> <span data-start="366.07" data-end="367.12">then everyone complained that they</span> <span data-start="367.12" data-end="369.37">couldn't google it so we changed it like</span> <span data-start="369.37" data-end="372.1">the next day all right so what do you</span> <span data-start="372.1" data-end="373.24">really get well the first thing you get</span> <span data-start="373.24" data-end="374.56">is there's no more of our statements it</span> <span data-start="374.56" data-end="376.54">just lets write this is sort of make it</span> <span data-start="376.54" data-end="379.78">look more like me now c c sharp java and</span> <span data-start="379.78" data-end="382.63">so on block scoping you get machine</span> <span data-start="382.63" data-end="385.21">types so if you declare a variable y</span> <span data-start="385.21" data-end="387.01">which is the maximum injure sighs and</span> <span data-start="387.01" data-end="389.5">you add one to it you don't get sort of</span> <span data-start="389.5" data-end="391.39">overflow into a double you just end up</span> <span data-start="391.39" data-end="395.41">with zero you can declare structs like</span> <span data-start="395.41" data-end="398.5">you would expect and C in C the C basic</span> <span data-start="398.5" data-end="402.16">well sort of see ish with declaring your</span> <span data-start="402.16" data-end="404.05">functions within the stroke</span> <span data-start="404.05" data-end="405.94">and here I should have done is</span> <span data-start="405.94" data-end="409.12">overridden this sort of to mean a</span> <span data-start="409.12" data-end="411.28">pointer to the vector struct rather than</span> </p>
<p><span data-start="411.28" data-end="414.34">JavaScript is but so essentially this</span> <span data-start="414.34" data-end="416.409">what this looks like right you can you</span> <span data-start="416.409" data-end="417.909">can have constructors it's this is a</span> <span data-start="417.909" data-end="420.55">much more efficient representation it's</span> <span data-start="420.55" data-end="421.93">only takes about eight bytes right for</span> <span data-start="421.93" data-end="424.09">the two floats and property axis is a</span> <span data-start="424.09" data-end="425.139">lot faster because when you say</span> <span data-start="425.139" data-end="428.44">something like Carville ah sativex you</span> <span data-start="428.44" data-end="429.819">don't have to do point I chasing to get</span> <span data-start="429.819" data-end="431.47">the objects and then request properties</span> <span data-start="431.47" data-end="433.96">you just compute an offset into the car</span> <span data-start="433.96" data-end="437.59">sort of data structure we also have a</span> <span data-start="437.59" data-end="441.099">raise likessee Ras multi-dimensional you</span> <span data-start="441.099" data-end="443.169">can just compute offsets until very</span> <span data-start="443.169" data-end="447.669">quickly unions some people also wanted</span> <span data-start="447.669" data-end="449.58">these bit fields that people do in C</span> <span data-start="449.58" data-end="451.86">actually even know this was possible but</span> <span data-start="451.86" data-end="454.9">so well I guess we'll try and see if we</span> <span data-start="454.9" data-end="457.87">can do that as well of course you also</span> <span data-start="457.87" data-end="460.27">have pointers so declaring code like</span> <span data-start="460.27" data-end="461.889">this when you say you have a swap</span> <span data-start="461.889" data-end="465.879">function takes two pointers so you can</span> <span data-start="465.879" data-end="468.069">do all this weird see pointers you can</span> <span data-start="468.069" data-end="469.87">also take addresses of local variables</span> <span data-start="469.87" data-end="471.159">right so the way how do we implement</span> <span data-start="471.159" data-end="473.59">this right you can't get an address to a</span> <span data-start="473.59" data-end="476.71">javascript thing so if at any point you</span> <span data-start="476.71" data-end="478.33">take a verse of a reference of</span> </p>
<p><span data-start="478.33" data-end="482.529">JavaScript object well variable we just</span> <span data-start="482.529" data-end="484.06">allocate on the stack so we emulate the</span> <span data-start="484.06" data-end="487.21">stack using this SP variable we</span> <span data-start="487.21" data-end="489.279">decrement it out of the mouse works but</span> <span data-start="489.279" data-end="491.169">so this would be like a method</span> <span data-start="491.169" data-end="492.729">activation frame we just subtract the</span> <span data-start="492.729" data-end="495.46">stack pointer and then we allocate X</span> <span data-start="495.46" data-end="498.219">variable at the first stack location and</span> <span data-start="498.219" data-end="501.9">then the next one at the following one</span> <span data-start="501.9" data-end="504.099">you can just stack and heap allocation</span> <span data-start="504.099" data-end="505.93">of structs so you can for example write</span> <span data-start="505.93" data-end="507.729">code like let vector V 0 and then you</span> <span data-start="507.729" data-end="509.74">can call a constructor and this comes oh</span> <span data-start="509.74" data-end="513.539">by the way for the on the right side</span> <span data-start="513.539" data-end="517.659">okay on your right it's what we compile</span> <span data-start="517.659" data-end="522.07">to and on the left is LJ s good so you</span> <span data-start="522.07" data-end="523.36">can declare for example two vectors on</span> <span data-start="523.36" data-end="526">the stack and if you want to assign one</span> <span data-start="526" data-end="528.25">vector to another since the use of value</span> <span data-start="528.25" data-end="532.61">types we just made a mem copy operation</span> <span data-start="532.61" data-end="535.649">of course you can also declare you can</span> <span data-start="535.649" data-end="537.089">allocate things on a heap so you can say</span> <span data-start="537.089" data-end="539.64">new vector so here new means something</span> <span data-start="539.64" data-end="541.29">else because we know what the type of</span> <span data-start="541.29" data-end="543.33">vector is it's a it's a struct type then</span> <span data-start="543.33" data-end="544.89">we just they made a Mallick followed by</span> <span data-start="544.89" data-end="546.959">a call to the constructor the delete</span> <span data-start="546.959" data-end="548.67">operator is also over in to mean</span> <span data-start="548.67" data-end="550.41">something else in this case it calls</span> <span data-start="550.41" data-end="553.649">free on the allocate address of course</span> <span data-start="553.649" data-end="554.61">this means you have to implement your</span> <span data-start="554.61" data-end="556.68">own on malloc and free and we have I</span> <span data-start="556.68" data-end="559.14">read the sea can get our book and I try</span> <span data-start="559.14" data-end="560.67">to understand how malik like we just</span> <span data-start="560.67" data-end="562.14">copied exactly the same implementation</span> <span data-start="562.14" data-end="564.89">of malik and pasted it in analogous and</span> <span data-start="564.89" data-end="568.17">more or less worked all right so i think</span> <span data-start="568.17" data-end="570.33">this is shoes so she's going to talk</span> <span data-start="570.33" data-end="571.8">about sort of the more implementation</span> <span data-start="571.8" data-end="580.68">details hello not great all right so i'm</span> <span data-start="580.68" data-end="582.24">going to talk more about the</span> <span data-start="582.24" data-end="585.029">implementation sign the compiler so what</span> <span data-start="585.029" data-end="587.399">do we get with kind of emulating the</span> <span data-start="587.399" data-end="589.529">heap using a giant typed array well my</span> <span data-start="589.529" data-end="591.63">other things we get safety in quotes</span> <span data-start="591.63" data-end="595.38">since we have the entire memory in a</span> <span data-start="595.38" data-end="597.12">typed array it means we cannot get</span> <span data-start="597.12" data-end="599.07">crashes in the traditional sense like if</span> <span data-start="599.07" data-end="601.62">you read out of bounds or something that</span> <span data-start="601.62" data-end="604.41">your your program crashes basically all</span> <span data-start="604.41" data-end="607.47">you get here is well you get your</span> <span data-start="607.47" data-end="608.91">program probably just as a bug is your</span> <span data-start="608.91" data-end="610.649">reading memory that you didn't intend to</span> <span data-start="610.649" data-end="614.75">but this allows us to basically have the</span> </p>
<p><span data-start="614.75" data-end="617.67">C type system and let you do unchecked</span> <span data-start="617.67" data-end="620.01">casts and memory operations they are</span> <span data-start="620.01" data-end="622.44">unchecked and that everything's in</span> <span data-start="622.44" data-end="624.36">reinterpret cast like in the bottom here</span> <span data-start="624.36" data-end="627.27">you can cast anything to a pointer</span> <span data-start="627.27" data-end="630.779">there's really no complaints and but</span> <span data-start="630.779" data-end="633.75">you're not going to get any crashes the</span> <span data-start="633.75" data-end="635.13">compiler itself is fairly</span> <span data-start="635.13" data-end="639.089">straightforward we've used several very</span> <span data-start="639.089" data-end="640.77">useful open source tools like a spring</span> <span data-start="640.77" data-end="644.67">line Nia's cochin to hook into basically</span> <span data-start="644.67" data-end="647.07">a couple transformation passes but most</span> <span data-start="647.07" data-end="649.17">of the stuff we use was was is available</span> <span data-start="649.17" data-end="653.31">to to the web we use we extend ass prima</span> <span data-start="653.31" data-end="656.73">to with the ability to parse type</span> <span data-start="656.73" data-end="658.74">annotations and some other see</span> <span data-start="658.74" data-end="660">constructs then we run a couple</span> <span data-start="660" data-end="661.62">transformation passes and then we pass</span> <span data-start="661.62" data-end="663.66">it off to yes coach n to serialize to</span> </p>
<p><span data-start="663.66" data-end="666.42">JavaScript if any of you has had the</span> <span data-start="666.42" data-end="668.13">misfortune of writing a sea front end</span> <span data-start="668.13" data-end="671.37">you will know that cast expressions are</span> <span data-start="671.37" data-end="673.35">a pain in the ass to deal with because</span> <span data-start="673.35" data-end="675.36">they are ambiguous between function</span> <span data-start="675.36" data-end="677.73">calls and cast expressions you don't</span> <span data-start="677.73" data-end="679.23">really know until you have parsed the</span> <span data-start="679.23" data-end="681.24">entire program what is a function and</span> <span data-start="681.24" data-end="684.329">what's a type and yeah it suggests just</span> <span data-start="684.329" data-end="687.449">a little aside that's not everything and</span> <span data-start="687.449" data-end="690.6">c is nice and clean and simple so what</span> <span data-start="690.6" data-end="694.02">what do pointers compiled down to in ljs</span> <span data-start="694.02" data-end="696.15">on the left column the leftmost column</span> <span data-start="696.15" data-end="698.31">you see ljs code in the middle column</span> <span data-start="698.31" data-end="701.64">you see ljs generated javascript and in</span> <span data-start="701.64" data-end="703.23">the rightmost column you see em script</span> <span data-start="703.23" data-end="705.9">and generated JavaScript so basically we</span> <span data-start="705.9" data-end="708.87">have three pointers of varying sizes the</span> </p>
<p><span data-start="708.87" data-end="712.05">I means it that it's signed and the 32</span> <span data-start="712.05" data-end="714.449">means how many bits it has and then 16</span> <span data-start="714.449" data-end="715.92">and eight and so forth and then we</span> <span data-start="715.92" data-end="717.959">assign them to each other and we do some</span> <span data-start="717.959" data-end="721.23">dereferences now typed arrays as you</span> <span data-start="721.23" data-end="723.93">know allow you a couple of use such as</span> <span data-start="723.93" data-end="727.88">32 bits and 16-bit into nate biton's and</span> <span data-start="727.88" data-end="730.17">what it doesn't really allow you outside</span> <span data-start="730.17" data-end="731.79">of data view which is slow but it</span> <span data-start="731.79" data-end="733.56">doesn't really allow you is unaligned</span> <span data-start="733.56" data-end="735.81">memory access you can basically only</span> <span data-start="735.81" data-end="738.149">read things at sixteen byte 16-bit</span> <span data-start="738.149" data-end="740.04">boundaries a bit boundaries 32-bit</span> <span data-start="740.04" data-end="742.56">boundaries and what this allows us to do</span> <span data-start="742.56" data-end="744.81">when generating pointer code is to</span> <span data-start="744.81" data-end="746.93">instead of storing byte addressable</span> <span data-start="746.93" data-end="750.089">addresses as inside the pointers we can</span> <span data-start="750.089" data-end="753.69">store the indices into their respective</span> <span data-start="753.69" data-end="756.69">heaps into respective views on the same</span> <span data-start="756.69" data-end="764.43">heap so instead of instead of scaling</span> <span data-start="764.43" data-end="767.07">the address when we're indexing into the</span> <span data-start="767.07" data-end="769.649">array we only scale it in ljs when we're</span> <span data-start="769.649" data-end="772.649">assigning into the pointer so this lets</span> <span data-start="772.649" data-end="775.079">us save a few operations we're basically</span> <span data-start="775.079" data-end="776.94">betting on the fact that you're probably</span> <span data-start="776.94" data-end="778.589">going to be accessing memory a lot more</span> <span data-start="778.589" data-end="781.589">than doing people doing pointer</span> <span data-start="781.589" data-end="784.589">mutations between different widths and</span> <span data-start="784.589" data-end="786.24">scripting does as little differently</span> <span data-start="786.24" data-end="788.25">whereas they always scale the address</span> <span data-start="788.25" data-end="790.41">when they access but then since</span> <span data-start="790.41" data-end="791.939">everything is byte addressable they</span> <span data-start="791.939" data-end="794.9">don't need to scale the addresses when</span> <span data-start="794.9" data-end="797.01">they assign the pointers to each other</span> <span data-start="797.01" data-end="798.81">this is just the trade-off between</span> <span data-start="798.81" data-end="801.48">what you think your program is going to</span> <span data-start="801.48" data-end="804.68">be doing more another nice thing about</span> <span data-start="804.68" data-end="807.12">things like I'll jsm scripting is that</span> <span data-start="807.12" data-end="810.06">when you compile your code that now the</span> <span data-start="810.06" data-end="812.1">hat that has machine types you're</span> <span data-start="812.1" data-end="813.39">generating code that's much more</span> <span data-start="813.39" data-end="815.67">friendly to your jets than normal</span> </p>
<p><span data-start="815.67" data-end="818.91">JavaScript now jets including the</span> <span data-start="818.91" data-end="820.68">JavaScript Jets really like monomorphic</span> <span data-start="820.68" data-end="823.32">code meaning if your program happens to</span> <span data-start="823.32" data-end="825.71">basically only work on one type ever</span> <span data-start="825.71" data-end="828.839">your variables are basically monomorphic</span> <span data-start="828.839" data-end="831.39">instead of polymorphic they can annotate</span> <span data-start="831.39" data-end="833.25">or sorry they can optimize much better</span> <span data-start="833.25" data-end="836.64">and we have higher level information as</span> <span data-start="836.64" data-end="838.35">the Ojays program that this thing is in</span> <span data-start="838.35" data-end="840.24">fact an enter this thing is in fact the</span> <span data-start="840.24" data-end="843.3">you int or whatever and we it'd be nice</span> <span data-start="843.3" data-end="845.64">to tell the engine somehow that you know</span> <span data-start="845.64" data-end="848.839">we know this for a fact so you shouldn't</span> <span data-start="848.839" data-end="852.27">emits a overflow checks for addition in</span> <span data-start="852.27" data-end="854.46">javascript because in javascript we</span> <span data-start="854.46" data-end="856.17">don't we only have one number type of</span> <span data-start="856.17" data-end="858.33">course the engines represent them is</span> <span data-start="858.33" data-end="859.68">either and in 32 which eventually</span> <span data-start="859.68" data-end="861.83">overflows to a double or something but</span> <span data-start="861.83" data-end="863.97">to the JavaScript programmer there's</span> <span data-start="863.97" data-end="865.74">only one there's only one number type</span> <span data-start="865.74" data-end="871.05">and addition it's not closed on the</span> <span data-start="871.05" data-end="872.64">integers for instance and it'd be really</span> <span data-start="872.64" data-end="874.92">nice if we can tell digit that it is for</span> <span data-start="874.92" data-end="876.27">this program closed on the on the</span> <span data-start="876.27" data-end="878.76">integers then it can emit more efficient</span> <span data-start="878.76" data-end="882.69">code so in things like ljs we can do</span> <span data-start="882.69" data-end="885.63">things such as compile ends down all</span> <span data-start="885.63" data-end="887.91">accesses of variables that are declared</span> <span data-start="887.91" data-end="891.66">to be ends with a bitwise or 0 this has</span> <span data-start="891.66" data-end="893.339">the effect of telling the engine that</span> <span data-start="893.339" data-end="895.65">every use of this variable is truncated</span> <span data-start="895.65" data-end="898.28">to 32-bit ins and you can just kind of</span> <span data-start="898.28" data-end="901.95">forget about the overflow checks among</span> <span data-start="901.95" data-end="903.66">other things this lets you have more</span> <span data-start="903.66" data-end="907.92">predictable performance because a chitet</span> <span data-start="907.92" data-end="911.85">language usually have dynamic checks for</span> <span data-start="911.85" data-end="913.76">soundness and they end up recompiling</span> <span data-start="913.76" data-end="916.83">doing this lets you also sometimes get</span> <span data-start="916.83" data-end="920.52">rid of those dynamic checks all right so</span> <span data-start="920.52" data-end="922.02">that's basically what we have in the</span> <span data-start="922.02" data-end="923.64">language fairly simple and how we</span> <span data-start="923.64" data-end="925.26">compiled them I thought we compile the</span> <span data-start="925.26" data-end="927.48">more interesting bits this is just an</span> <span data-start="927.48" data-end="930.54">example code for how would we might use</span> <span data-start="930.54" data-end="932.13">it this is a</span> <span data-start="932.13" data-end="934.83">struct of a 4 by 4 matrix with some</span> <span data-start="934.83" data-end="937.65">accompanying multiplication function</span> <span data-start="937.65" data-end="940.94">that does simple matrix multiplication</span> <span data-start="940.94" data-end="943.47">but this is not so nice to use all we</span> <span data-start="943.47" data-end="945.42">have a destruct so maybe we can write a</span> <span data-start="945.42" data-end="948.69">thin wrapper that has one field which</span> <span data-start="948.69" data-end="951.57">basically makes the new struct and then</span> <span data-start="951.57" data-end="954.84">use some casts here and there to call</span> <span data-start="954.84" data-end="956.67">the multiplication method that we</span> <span data-start="956.67" data-end="959.07">defined so we end up having a more</span> </p>
<p><span data-start="959.07" data-end="962.13">JavaScript e interface note that we</span> <span data-start="962.13" data-end="964.8">actually manually cast dis de m and</span> <span data-start="964.8" data-end="967.17">other not em back to capital m star</span> <span data-start="967.17" data-end="968.94">because once we're in JavaScript land</span> <span data-start="968.94" data-end="971.16">the types are gone that the type system</span> <span data-start="971.16" data-end="973.32">is simply not strong enough we don't</span> <span data-start="973.32" data-end="974.58">want it to be strong enough to be able</span> <span data-start="974.58" data-end="976.44">to somehow infer that this dynamin other</span> <span data-start="976.44" data-end="980.52">dem are in fact mstars so here you have</span> <span data-start="980.52" data-end="985">to write some manual interfacing code</span> <span data-start="985.01" data-end="987.21">but then this leads the question now</span> <span data-start="987.21" data-end="989.73">that you're manually managing memory you</span> <span data-start="989.73" data-end="991.83">can have memory leaks so what do you do</span> <span data-start="991.83" data-end="994.05">well maybe you can have a free function</span> <span data-start="994.05" data-end="997.47">which then calls the delete operator</span> <span data-start="997.47" data-end="998.79">which then actually frees the memory</span> <span data-start="998.79" data-end="1001.79">allocated in the end of the heap but we</span> <span data-start="1001.79" data-end="1005.39">can't do that either well we can but you</span> <span data-start="1005.39" data-end="1007.28">have to do this manually will be nice if</span> <span data-start="1007.28" data-end="1009.74">we had some language level support but</span> <span data-start="1009.74" data-end="1012.92">we're no longer relying on the GC if the</span> <span data-start="1012.92" data-end="1014.84">language could expose finalizes then we</span> <span data-start="1014.84" data-end="1016.46">can do this but we can't expose</span> <span data-start="1016.46" data-end="1019.34">finalizes for reasons of not exposing GC</span> <span data-start="1019.34" data-end="1022.19">state already 5 weak references it'd be</span> <span data-start="1022.19" data-end="1023.87">nice if we could do that too but we</span> <span data-start="1023.87" data-end="1025.699">don't have weak references either with</span> <span data-start="1025.699" data-end="1027.949">requite with weak references we can tell</span> <span data-start="1027.949" data-end="1029.449">if something is about to be collected</span> <span data-start="1029.449" data-end="1034.819">much as with finalizes so now we have</span> <span data-start="1034.819" data-end="1036.14">but but we've gone through this before</span> <span data-start="1036.14" data-end="1038.089">with see without the without the memory</span> <span data-start="1038.089" data-end="1041.18">problems and the double fries and the</span> <span data-start="1041.18" data-end="1043.88">remembering not remembering to free over</span> <span data-start="1043.88" data-end="1045.829">the summer one of our interns Tim Disney</span> <span data-start="1045.829" data-end="1047.93">of sweet j/s fame haven't checked out</span> <span data-start="1047.93" data-end="1050.63">his macros work you already should he</span> <span data-start="1050.63" data-end="1052.85">worked briefly he wrote this in like two</span> <span data-start="1052.85" data-end="1054.89">weeks or something he since now the heap</span> <span data-start="1054.89" data-end="1056.6">is a JavaScript object and so easily</span> <span data-start="1056.6" data-end="1058.46">instrumental he basically wrote the</span> <span data-start="1058.46" data-end="1061.01">equivalent of a valgrind like tool for</span> <span data-start="1061.01" data-end="1063.14">ljs which then detects these things</span> <span data-start="1063.14" data-end="1065.84">that's pretty cool</span> <span data-start="1065.84" data-end="1068.58">another interesting property of</span> <span data-start="1068.58" data-end="1070.35">something like knowledge is is is that</span> <span data-start="1070.35" data-end="1072.75">since it is not dependent on the entire</span> </p>
<p><span data-start="1072.75" data-end="1075.69">C and C++ to chain it seems like it</span> <span data-start="1075.69" data-end="1077.1">should have better interoperability with</span> <span data-start="1077.1" data-end="1080.34">JavaScript but we cannot yet store j/s</span> <span data-start="1080.34" data-end="1082.8">object in the LG as heap because typed</span> <span data-start="1082.8" data-end="1085.47">arrays only take basically those machine</span> <span data-start="1085.47" data-end="1088.5">types and they do not take any arbitrary</span> <span data-start="1088.5" data-end="1090.54">object we have a couple ideas on how we</span> <span data-start="1090.54" data-end="1092.79">might do this maybe we can have an</span> <span data-start="1092.79" data-end="1094.8">object ID mapping when we need to store</span> <span data-start="1094.8" data-end="1096.69">an object maybe we can have a shadow</span> <span data-start="1096.69" data-end="1099.03">heap that only stores object that is not</span> <span data-start="1099.03" data-end="1101.1">a typed array a shadow heap of normal</span> </p>
<p><span data-start="1101.1" data-end="1104.61">JavaScript array but it's in the works</span> <span data-start="1104.61" data-end="1108.09">and yeah but interop is basically pretty</span> <span data-start="1108.09" data-end="1111.27">hard so some general concluding remarks</span> <span data-start="1111.27" data-end="1113.91">this is kind of crazy as that as to as</span> <span data-start="1113.91" data-end="1117.06">the tweets have shown but it's not a</span> <span data-start="1117.06" data-end="1118.41">general purpose tool we're not asking</span> <span data-start="1118.41" data-end="1120.12">you please write all your j/s this way</span> <span data-start="1120.12" data-end="1121.95">it's it's that that's asking you to go</span> <span data-start="1121.95" data-end="1125.4">back to like 1960s so but if you have a</span> <span data-start="1125.4" data-end="1127.95">few bit of bits of code in your in your</span> <span data-start="1127.95" data-end="1130.32">little game or whatever application</span> <span data-start="1130.32" data-end="1132">you're working on that really needs that</span> <span data-start="1132" data-end="1135">memory compactness that actually lets</span> <span data-start="1135" data-end="1137.49">you write real data structures that have</span> <span data-start="1137.49" data-end="1139.41">higher structure overhead if you have if</span> <span data-start="1139.41" data-end="1141.48">you have like prefix trees with a lot of</span> <span data-start="1141.48" data-end="1143.25">links with very little data per node</span> <span data-start="1143.25" data-end="1144.96">that's going to kill you when you</span> <span data-start="1144.96" data-end="1147.03">allocate a ton of little objects in</span> </p>
<p><span data-start="1147.03" data-end="1148.71">JavaScript this lets you get around that</span> <span data-start="1148.71" data-end="1152.61">and if you really miss you know assembly</span> <span data-start="1152.61" data-end="1153.87">and stuff and you're not lucky enough to</span> <span data-start="1153.87" data-end="1155.76">work on the jet engines this gets you</span> <span data-start="1155.76" data-end="1158.91">back in touch with the bits and bytes so</span> <span data-start="1158.91" data-end="1161.76">the status of this project right now is</span> <span data-start="1161.76" data-end="1165.69">that we have a research prototype which</span> <span data-start="1165.69" data-end="1167.1">really is just a nicer way of saying</span> <span data-start="1167.1" data-end="1171.03">it's really buggy but it works for the</span> <span data-start="1171.03" data-end="1174.63">most part we have a nice if you have</span> <span data-start="1174.63" data-end="1177.06">note installed it has a command-line</span> <span data-start="1177.06" data-end="1179.67">compiler that you can use it ships with</span> <span data-start="1179.67" data-end="1181.98">some with you know the ke andar malik</span> <span data-start="1181.98" data-end="1183.69">implementation which is the probably not</span> <span data-start="1183.69" data-end="1186.54">the Mallik you want but it works we have</span> <span data-start="1186.54" data-end="1190.67">at least two users me and Michael but</span> <span data-start="1190.67" data-end="1194.01">apparently this was made known to known</span> <span data-start="1194.01" data-end="1196.53">to us via Twitter the other day so so we</span> <span data-start="1196.53" data-end="1198.54">rewrote this entire language though you</span> <span data-start="1198.54" data-end="1200.43">you have manual memory management so you</span> <span data-start="1200.43" data-end="1202.86">can have compact you know nice efficient</span> <span data-start="1202.86" data-end="1204.57">code and the first thing that someone</span> <span data-start="1204.57" data-end="1207.36">writes and publicly tweets is a marking</span> <span data-start="1207.36" data-end="1212.61">sleep GC it's quite amazing all right</span> <span data-start="1212.61" data-end="1223.2">thank you for listening happy to take</span> <span data-start="1223.2" data-end="1236.259">any questions</span> <span data-start="1236.269" data-end="1246.39">sorry</span> <span data-start="1246.4" data-end="1251.11">so right now the the oh sorry the</span> <span data-start="1251.11" data-end="1254.53">question was if i want to write part of</span> <span data-start="1254.53" data-end="1256.63">my program in normal javascript and a</span> <span data-start="1256.63" data-end="1258.1">little another little part of my program</span> <span data-start="1258.1" data-end="1259.69">in LG s what hoops do i have to jump</span> <span data-start="1259.69" data-end="1260.76">through to get them to work together</span> <span data-start="1260.76" data-end="1263.17">right now the command line compiler</span> <span data-start="1263.17" data-end="1267.19">generates a module pattern around your</span> <span data-start="1267.19" data-end="1269.77">ljs code which then is just normal</span> <span data-start="1269.77" data-end="1273.55">javascript code the problem is the types</span> <span data-start="1273.55" data-end="1276.01">are erased in the generator JavaScript</span> <span data-start="1276.01" data-end="1279.7">code so you have to basically have a</span> <span data-start="1279.7" data-end="1282">little exports father you write yourself</span> <span data-start="1282" data-end="1284.5">to preserve the types when you need to</span> <span data-start="1284.5" data-end="1289.03">use it from elsewhere like in the matrix</span> <span data-start="1289.03" data-end="1292.99">example that we showed in the prototype</span> <span data-start="1292.99" data-end="1295.3">that malfunction when you get this time</span> <span data-start="1295.3" data-end="1297.76">out you don't know that it's a M star</span> <span data-start="1297.76" data-end="1300.6">and you have to basically cast it back</span> <span data-start="1300.6" data-end="1303.82">but otherwise is I mean we just generate</span> <span data-start="1303.82" data-end="1305.08">normal JavaScript function so you can</span> <span data-start="1305.08" data-end="1308.41">just call it it's parameterize around</span> <span data-start="1308.41" data-end="1310.75">the typed array heap and you can choose</span> <span data-start="1310.75" data-end="1312.1">how big you want that to be when you</span> <span data-start="1312.1" data-end="1319.41">generate the code</span> <span data-start="1319.42" data-end="1325.04">for example when when I malach or free</span> <span data-start="1325.04" data-end="1327.68">something is it just to make sure that I</span> <span data-start="1327.68" data-end="1329.75">got it right yeah you have implemented</span> <span data-start="1329.75" data-end="1332.12">your own heat which is a typed array and</span> <span data-start="1332.12" data-end="1334.13">there are all the memory operations</span> <span data-start="1334.13" data-end="1337.4">performed on right yeah so I mean it's</span> <span data-start="1337.4" data-end="1338.78">essentially keeping a free list</span> <span data-start="1338.78" data-end="1341.18">internally so every like allocate when</span> <span data-start="1341.18" data-end="1344.27">you send new it just finds the next like</span> <span data-start="1344.27" data-end="1346.73">free list know it and then like it gives</span> <span data-start="1346.73" data-end="1348.44">you a sort of it has to put the malach</span> <span data-start="1348.44" data-end="1350.27">header in front right so I mean it's</span> <span data-start="1350.27" data-end="1352.34">just it's like arm position dialogue you</span> <span data-start="1352.34" data-end="1356.27">know regarding the alignment of areas</span> <span data-start="1356.27" data-end="1358.55">you talked about what happens when I can</span> <span data-start="1358.55" data-end="1361.34">you go back to the align the alignment</span> <span data-start="1361.34" data-end="1365.12">slide when I takes the let's say the X</span> <span data-start="1365.12" data-end="1368.24">array it which is an ia32 array and</span> <span data-start="1368.24" data-end="1372.77">constituent I 16 array then I can access</span> <span data-start="1372.77" data-end="1379.28">unaligned memory right so so you</span> <span data-start="1379.28" data-end="1381.5">determine up casting a pointer or Yeah</span> <span data-start="1381.5" data-end="1383.69">right and I'm you can never cat because</span> <span data-start="1383.69" data-end="1385.97">basically when you when we shift over to</span> <span data-start="1385.97" data-end="1388.37">like scale the pointer addresses then</span> <span data-start="1388.37" data-end="1398.89">you basically just lose the precision so</span> <span data-start="1398.9" data-end="1400.98">two pointers you know on top of each</span> <span data-start="1400.98" data-end="1402.96">other I mean they basically have to be</span> <span data-start="1402.96" data-end="1405.09">aligned to the widest all right that</span> <span data-start="1405.09" data-end="1417.13">would be I guess Toby</span> <span data-start="1417.14" data-end="1419.12">right that would be a problem we can we</span> <span data-start="1419.12" data-end="1421.28">can fix them well just put them</span> <span data-start="1421.28" data-end="1429.06">different places research prototype yes</span> <span data-start="1429.07" data-end="1431.45">yeah actually like just a minute ago I</span> <span data-start="1431.45" data-end="1433.49">realized that we if someone throws an</span> <span data-start="1433.49" data-end="1435.71">exception like we don't do anything</span> <span data-start="1435.71" data-end="1439">about the stack pointer to like fix it</span> <span data-start="1439" data-end="1444.65">yeah okay question um and point a</span> <span data-start="1444.65" data-end="1447.92">ruthless II am there you just lied for</span> <span data-start="1447.92" data-end="1451.79">that or example is it even necessary or</span> </p>
<p><span data-start="1451.79" data-end="1454.82">I mean I mean do you want what you want</span> <span data-start="1454.82" data-end="1457.19">to do that yeah i mean if used to</span> <span data-start="1457.19" data-end="1460.9">writing your array traversal code using</span> <span data-start="1460.9" data-end="1463.22">bumping pointers instead of using that</span> <span data-start="1463.22" data-end="1466.37">index you can do that is fine i mean</span> <span data-start="1466.37" data-end="1469.25">it's it's the generator codes not too</span> <span data-start="1469.25" data-end="1471.08">bad to read either because they're</span> <span data-start="1471.08" data-end="1472.61">you're not kind of crossing this</span> <span data-start="1472.61" data-end="1475.67">alignment boundary you're just bumping a</span> <span data-start="1475.67" data-end="1478.25">pointer of the same alignment so it's</span> <span data-start="1478.25" data-end="1481.4">actually just a bump in the an increment</span> <span data-start="1481.4" data-end="1483.32">in the generator javascript code also</span> <span data-start="1483.32" data-end="1486.26">it's not it's not too bit of course the</span> <span data-start="1486.26" data-end="1487.49">rest of code is going to be hard to reap</span> <span data-start="1487.49" data-end="1490.85">is it's all going to be it access into</span> <span data-start="1490.85" data-end="1496.19">the memory so what lessons are you gonna</span> <span data-start="1496.19" data-end="1498.5">take from this if any and put them in</span> <span data-start="1498.5" data-end="1503.33">normal spider monkey what do you mean</span> <span data-start="1503.33" data-end="1506.09">like like the features language or no no</span> <span data-start="1506.09" data-end="1508.01">but like what can we do you how can you</span> <span data-start="1508.01" data-end="1509.99">make spider monkey faster you know you</span> <span data-start="1509.99" data-end="1511.7">seem like some of the original examples</span> <span data-start="1511.7" data-end="1514.49">in some ways you do know the types yeah</span> <span data-start="1514.49" data-end="1516.32">and you can always do things like trick</span> <span data-start="1516.32" data-end="1518.36">so i can say you can met do pattern</span> <span data-start="1518.36" data-end="1520.4">matching on like the kinds of code they</span> <span data-start="1520.4" data-end="1522.5">generate i think so for this particular</span> <span data-start="1522.5" data-end="1524.15">pattern i can like have a fast</span> <span data-start="1524.15" data-end="1526.1">optimization like the example with over</span> <span data-start="1526.1" data-end="1529.19">0 yeah i think with em scripting and</span> <span data-start="1529.19" data-end="1533.99">especially its its is driven in the new</span> <span data-start="1533.99" data-end="1535.97">in the new spider monkey janiyah monkey</span> <span data-start="1535.97" data-end="1539">there's there's analysis to look for fit</span> <span data-start="1539" data-end="1540.71">wise operations and things that truncate</span> <span data-start="1540.71" data-end="1543.01">to 32 bits and</span> <span data-start="1543.01" data-end="1545.95">and omit overflow checks and and boxing</span> <span data-start="1545.95" data-end="1548.02">and stuff like that so we should be</span> <span data-start="1548.02" data-end="1550.24">doing lots of bitwise operations and and</span> <span data-start="1550.24" data-end="1552.82">so on shifting by two instead of</span> <span data-start="1552.82" data-end="1554.41">dividing by eight things like that I'm</span> <span data-start="1554.41" data-end="1556.09">gonna say no because that's gonna make</span> <span data-start="1556.09" data-end="1557.71">your code look a lot worse if you want</span> <span data-start="1557.71" data-end="1559.42">to do that as like an extra bill pass</span> <span data-start="1559.42" data-end="1562.75">feel free but like you know it seems bad</span> <span data-start="1562.75" data-end="1564.1">to have the programmer to jump through</span> <span data-start="1564.1" data-end="1566.35">hoops to optimize for a specific it</span> <span data-start="1566.35" data-end="1572.23">seems like all right you so you talked</span> <span data-start="1572.23" data-end="1573.7">about the memory overhead in just</span> <span data-start="1573.7" data-end="1576.34">vanilla JavaScript objects I'm curious</span> <span data-start="1576.34" data-end="1579.34">if there's a crossover point where the</span> <span data-start="1579.34" data-end="1581.38">cost of you malloc and free implemented</span> <span data-start="1581.38" data-end="1583.48">in JavaScript becomes higher than the</span> <span data-start="1583.48" data-end="1585.52">cost of memory allocations and garbage</span> <span data-start="1585.52" data-end="1587.08">collections that are implemented in C++</span> <span data-start="1587.08" data-end="1588.19">probably typically in most of the</span> <span data-start="1588.19" data-end="1590.02">engines do you have any data on that</span> <span data-start="1590.02" data-end="1592.63">like in other words how much random</span> <span data-start="1592.63" data-end="1594.25">allocation and freeing what I have to do</span> <span data-start="1594.25" data-end="1597.85">for the overhead of the regular objects</span> <span data-start="1597.85" data-end="1599.41">to actually be smaller than the overhead</span> <span data-start="1599.41" data-end="1601.27">of allocation and freeing that you guys</span> <span data-start="1601.27" data-end="1603.04">have to do manual in JavaScript well I</span> <span data-start="1603.04" data-end="1604.42">don't think it's America's family matter</span> <span data-start="1604.42" data-end="1606.16">of like because I mean the GC is really</span> <span data-start="1606.16" data-end="1608.68">really fast right so it's not about fat</span> <span data-start="1608.68" data-end="1609.88">in particular is that you don't have any</span> </p>
<p><span data-start="1609.88" data-end="1612.37">GC pauses so even if it's about the same</span> <span data-start="1612.37" data-end="1614.67">speed it would be sort of a smoother</span> <span data-start="1614.67" data-end="1616.42">really are talking primarily about</span> <span data-start="1616.42" data-end="1619.3">pauses so if we like if insiders we got</span> <span data-start="1619.3" data-end="1622.39">the pauses down to negligible speed we</span> <span data-start="1622.39" data-end="1624.49">will be faced the on par with the goals</span> <span data-start="1624.49" data-end="1625.93">that you trying to accomplish yeah is</span> <span data-start="1625.93" data-end="1628.48">that I could but I don't think it'd be</span> <span data-start="1628.48" data-end="1630.88">hard to keep it sort of consistent speed</span> <span data-start="1630.88" data-end="1632.65">I mean sometimes like you want to</span> <span data-start="1632.65" data-end="1635.05">control exactly if you have if you're</span> <span data-start="1635.05" data-end="1637.48">drawing frames maybe you want to trigger</span> <span data-start="1637.48" data-end="1641.98">GC exactly at this point in time so that</span> <span data-start="1641.98" data-end="1643.3">your animation looks a little bit</span> <span data-start="1643.3" data-end="1646.72">smoother even if you get your GC to be</span> <span data-start="1646.72" data-end="1649.21">extremely fast it's unlikely that</span> <span data-start="1649.21" data-end="1650.71">they'll exposed that level of control</span> <span data-start="1650.71" data-end="1655.15">right I mean you can always just do like</span> <span data-start="1655.15" data-end="1656.8">region allocation scheme so you can do</span> <span data-start="1656.8" data-end="1659.71">your own Melek you just wipe out the</span> <span data-start="1659.71" data-end="1660.82">whole thing when you're done with that</span> <span data-start="1660.82" data-end="1666.3">so sorry didn't you see the disco de</span> <span data-start="1666.3" data-end="1669.76">looks more like C code herbs and</span> </p>
<p><span data-start="1669.76" data-end="1673.27">JavaScript code and in this case I think</span> <span data-start="1673.27" data-end="1677.59">more efficient right Collins the simple</span> <span data-start="1677.59" data-end="1685.53">truth and to use node.js model right on</span> <span data-start="1685.53" data-end="1692.76">sibley spoofs no crash k repeat on what</span> <span data-start="1692.76" data-end="1697.03">you make right you're modest for not</span> <span data-start="1697.03" data-end="1701.88">just in on the Clean Cities blues and</span> <span data-start="1701.88" data-end="1705.82">didn't you think that it's very empty</span> <span data-start="1705.82" data-end="1710.19">will be more affection since this no</span> <span data-start="1710.19" data-end="1712.66">utrom le writing actually running in C++</span> <span data-start="1712.66" data-end="1714.6">modules and then I think bindings to</span> <span data-start="1714.6" data-end="1717.46">good job well I mean should certainly</span> <span data-start="1717.46" data-end="1719.11">that's much more efficient no Jess but</span> <span data-start="1719.11" data-end="1720.85">if you want to run on the browser</span> <span data-start="1720.85" data-end="1724.9">something I didn't see benefits from</span> <span data-start="1724.9" data-end="1731.95">this variant from this Ze'ev around but</span> <span data-start="1731.95" data-end="1735.04">they run so I mean detection running</span> <span data-start="1735.04" data-end="1736.63">native code right you can just are</span> <span data-start="1736.63" data-end="1737.74">writing a native code and the writing</span> <span data-start="1737.74" data-end="1739.3">and using some foreign function</span> <span data-start="1739.3" data-end="1743.29">interface to use it inside now or I'm</span> <span data-start="1743.29" data-end="1747.54">not familiar with what exactly you're</span> <span data-start="1747.54" data-end="1754.37">asking the node stuff</span> <span data-start="1754.38" data-end="1757.27">004 noches I mean I think you're better</span> <span data-start="1757.27" data-end="1759.25">off just writing you know he's writing a</span> <span data-start="1759.25" data-end="1760.93">seed right but if you want to needed to</span> <span data-start="1760.93" data-end="1770.62">run in the browser yeah</span> <span data-start="1770.63" data-end="1772.79">right right this is I mean the compiler</span> <span data-start="1772.79" data-end="1774.32">is in JavaScript for you while you can</span> <span data-start="1774.32" data-end="1776.24">bundle the compiler on your page and</span> <span data-start="1776.24" data-end="1778.4">whatever the rest of things the nice</span> <span data-start="1778.4" data-end="1780.23">thing do you get with all JavaScript</span> <span data-start="1780.23" data-end="1783.65">solutions ok great ok so I think that's</span> <span data-start="1783.65" data-end="1785.36">it for this thank you very much you and</span> </p>
</section>