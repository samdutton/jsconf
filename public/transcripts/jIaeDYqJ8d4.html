<section>
<p><span data-start="7.6" data-end="12.8">hi um yeah let's get started um as you</span> <span data-start="12.8" data-end="14.69">can see this talk is called wedding apps</span> <span data-start="14.69" data-end="19.01">on the edge with couch TV and so we're</span> <span data-start="19.01" data-end="22.88">going to see some apps of course and how</span> <span data-start="22.88" data-end="24.43">we want to write them and of course</span> <span data-start="24.43" data-end="26.63">they're going to be written in couch TV</span> <span data-start="26.63" data-end="27.82">um</span> <span data-start="27.82" data-end="30.259">just start misty on already said my name</span> <span data-start="30.259" data-end="32.96">is Alex can call me lang Alex if you</span> <span data-start="32.96" data-end="37.61">want to I'm a programmer as you might</span> <span data-start="37.61" data-end="39.559">guess and I have a little software</span> <span data-start="39.559" data-end="42.89">company in Berlin which does software</span> <span data-start="42.89" data-end="45.89">development and consulting and we were</span> <span data-start="45.89" data-end="49.25">big fans of the what you today will call</span> <span data-start="49.25" data-end="51.859">agile thing and untested and all that</span> <span data-start="51.859" data-end="55.239">and we do most of that using Ruby and</span> <span data-start="55.239" data-end="62.239">also rails so how come we use JavaScript</span> <span data-start="62.239" data-end="63.949">or how come nice I'm standing here</span> <span data-start="63.949" data-end="66.02">talking about JavaScript when ninety</span> <span data-start="66.02" data-end="69.2">percent what I do is Ruby</span> <span data-start="69.2" data-end="72.05">first of all some point our customers</span> <span data-start="72.05" data-end="75.41">came and said we need Ajax without a</span> </p>
<p><span data-start="75.41" data-end="77.21">Jaques we we can't sell our products</span> <span data-start="77.21" data-end="79.58">anymore and so we had to do javascript</span> <span data-start="79.58" data-end="84.35">of course and then one day quite a while</span> <span data-start="84.35" data-end="84.56">ago</span> <span data-start="84.56" data-end="88.94">Yan came alone in our office or and he</span> <span data-start="88.94" data-end="95.02">said CouchDB to me and I was like what</span> <span data-start="95.02" data-end="96.17">okay</span> <span data-start="96.17" data-end="99.86">what is code TV and so Yun said whenever</span> <span data-start="99.86" data-end="102.5">he talks about coaching he's talking</span> <span data-start="102.5" data-end="103.91">those really long sentences seems like</span> <span data-start="103.91" data-end="105.35">yeah it's restful you know like</span> <span data-start="105.35" data-end="108.04">MapReduce has other amazing stuff and</span> </p>
<p><span data-start="108.04" data-end="110.48">MapReduce again and our language scares</span> <span data-start="110.48" data-end="111.58">and blah</span> <span data-start="111.58" data-end="114.7">and he keeps on talking until he finally</span> <span data-start="114.7" data-end="118.95">has to breathe and yeah so I was</span> <span data-start="118.95" data-end="121.36">presented with his lung sentence about a</span> <span data-start="121.36" data-end="124">couch TV and didn't really know what it</span> <span data-start="124" data-end="126.61">was and so I started to investigate and</span> </p>
<p><span data-start="126.61" data-end="128.35">I won't and this kind of adventure</span> <span data-start="128.35" data-end="130.75">journey here I'm asking myself what</span> <span data-start="130.75" data-end="133.84">couch TV actually is and so first thing</span> <span data-start="133.84" data-end="135.94">I saw was a sign that said it's not an</span> <span data-start="135.94" data-end="139.51">SQL database instead it's a key value</span> <span data-start="139.51" data-end="142.51">store which means you can buy keys and</span> <span data-start="142.51" data-end="146.2">values and you can put values into it</span> <span data-start="146.2" data-end="148.78">and then have keys and get them out</span> <span data-start="148.78" data-end="152.65">again and so I started talking to the</span> <span data-start="152.65" data-end="155.74">couch as the digital natives you know</span> <span data-start="155.74" data-end="159.28">what comes naturally for me is HDPE so I</span> <span data-start="159.28" data-end="161.26">didn't know what a couch would respond</span> <span data-start="161.26" data-end="165.28">to so joy try the HDTV and surprisingly</span> <span data-start="165.28" data-end="167.08">that worked and the couch responded and</span> <span data-start="167.08" data-end="168.01">talked back to me</span> <span data-start="168.01" data-end="170.44">and so this is the first thing as you</span> <span data-start="170.44" data-end="172.39">can see here and basically saying hi I'm</span> </p>
<p><span data-start="172.39" data-end="176.86">Alex to that couch and it says back hi</span> <span data-start="176.86" data-end="179.83">and that has stored my my requests and</span> <span data-start="179.83" data-end="183.58">you can see here I'm posting some data</span> <span data-start="183.58" data-end="187.36">to it as you can see that is JSON which</span> <span data-start="187.36" data-end="190.9">you might all be familiar with and I get</span> <span data-start="190.9" data-end="193.87">back this this ID and revision here the</span> <span data-start="193.87" data-end="198.04">ideas and the key of that data from now</span> <span data-start="198.04" data-end="202">on and so I can ask it again for that</span> <span data-start="202" data-end="204.01">document and as you can see here I'm</span> <span data-start="204.01" data-end="206.8">doing a get and this is the same idea</span> <span data-start="206.8" data-end="208.81">that it just gave me under step before</span> <span data-start="208.81" data-end="211.959">and so the couch again talks back and</span> <span data-start="211.959" data-end="216.77">gives me the data I just stored in it</span> <span data-start="216.78" data-end="220">next I wanted to know all the speakers</span> <span data-start="220" data-end="223.09">at this conference and so I told coach</span> </p>
<p><span data-start="223.09" data-end="225.16">TV about this map function I had made up</span> <span data-start="225.16" data-end="231.82">and what this internally does it takes</span> <span data-start="231.82" data-end="234.94">that function and then takes every</span> <span data-start="234.94" data-end="237.1">document and in that database every like</span> <span data-start="237.1" data-end="239.62">chunk of data and processes it with it</span> <span data-start="239.62" data-end="242.44">and as you can see here my data has some</span> <span data-start="242.44" data-end="244.55">kind of speaker property</span> <span data-start="244.55" data-end="248.06">and if that hazard then it's sort of</span> <span data-start="248.06" data-end="250.85">return said so I'm not going to</span> <span data-start="250.85" data-end="252.14">magically details about the MapReduce</span> <span data-start="252.14" data-end="254">how it works because it's kind of</span> <span data-start="254" data-end="257.84">complicated sometimes but so um the</span> <span data-start="257.84" data-end="260.18">thing is it'll just collect all the</span> <span data-start="260.18" data-end="261.89">speakers that are in the database and</span> <span data-start="261.89" data-end="263.9">return them which you can see here on</span> <span data-start="263.9" data-end="266.24">the right side so I mean there's so not</span> <span data-start="266.24" data-end="273.68">all of us but most so I again talk to it</span> <span data-start="273.68" data-end="275.03">and I wanted to know how many speakers</span> <span data-start="275.03" data-end="278.66">are actually where and for this I passed</span> <span data-start="278.66" data-end="281.48">in or gave it this reduce function which</span> <span data-start="281.48" data-end="284.15">looks quite simple so it sums up all</span> <span data-start="284.15" data-end="287.24">these ones that you can see here and it</span> <span data-start="287.24" data-end="291.59">said okay there's 23 speakers and yeah</span> <span data-start="291.59" data-end="293.66">pretty nice so I look down at the couch</span> <span data-start="293.66" data-end="295.82">and at the Eternals and wanted to know</span> <span data-start="295.82" data-end="298.37">what it was and so you can see here at</span> <span data-start="298.37" data-end="301.16">the left it's kind of this big sucking</span> <span data-start="301.16" data-end="303.56">machine that sucks up all the documents</span> <span data-start="303.56" data-end="307.28">here and there at the bottom and gives</span> <span data-start="307.28" data-end="310.04">them to me when I request them so I can</span> <span data-start="310.04" data-end="311.87">whenever have the key to a document I</span> <span data-start="311.87" data-end="315.38">can load it using this which is very</span> <span data-start="315.38" data-end="317">simple that's why it's a key value store</span> <span data-start="317" data-end="318.89">right and then there's this other thing</span> <span data-start="318.89" data-end="325.01">which kind of has these pipes and when I</span> <span data-start="325.01" data-end="328.19">give it a rip function like give me all</span> <span data-start="328.19" data-end="332.03">the speakers it'll like internally sort</span> <span data-start="332.03" data-end="333.85">of create one of those pipes and then</span> <span data-start="333.85" data-end="336.59">like so are the speakers ready for me so</span> <span data-start="336.59" data-end="337.97">whenever I ask it they're already</span> <span data-start="337.97" data-end="340.55">available and I can just get them so as</span> <span data-start="340.55" data-end="343.43">you can see here it says speaker so it's</span> <span data-start="343.43" data-end="344.87">the speaker's pipe and I can just say</span> <span data-start="344.87" data-end="346.9">give me the speakers and they're there</span> <span data-start="346.9" data-end="350.15">um what I was added also looked at MySQL</span> <span data-start="350.15" data-end="353.06">again a bit but um well as you can see</span> <span data-start="353.06" data-end="354.89">it's all sorted into tables at button</span> <span data-start="354.89" data-end="359.54">but it gets messy by the rap so I went</span> <span data-start="359.54" data-end="362.87">on back to the couch looked up and it</span> <span data-start="362.87" data-end="366.5">was again and those boards here are a</span> <span data-start="366.5" data-end="369.73">few documents edit corrected for me and</span> <span data-start="369.73" data-end="372.35">so suddenly there was four couches and</span> <span data-start="372.35" data-end="374.6">not just one and they all had the same</span> <span data-start="374.6" data-end="375.76">data so</span> <span data-start="375.76" data-end="377.98">what country we can do is replicate</span> <span data-start="377.98" data-end="380.53">itself which becomes important later on</span> <span data-start="380.53" data-end="382.99">and whenever I change something in one</span> <span data-start="382.99" data-end="384.61">of those couches or the others will pick</span> <span data-start="384.61" data-end="390.97">up and just have those same documents as</span> <span data-start="390.97" data-end="392.62">the one I changed so I can change any of</span> <span data-start="392.62" data-end="394.2">those cultures and it'll automatically</span> <span data-start="394.2" data-end="396.4">transfer the data to the other couch TV</span> <span data-start="396.4" data-end="398.94">couch the weeks um</span> <span data-start="398.94" data-end="402.07">couches can live in servers like this</span> <span data-start="402.07" data-end="405.67">one they can also live in like laptops</span> <span data-start="405.67" data-end="407.86">which um doesn't come as a big surprise</span> </p>
<p><span data-start="407.86" data-end="410.68">I guess um but you can also run on</span> <span data-start="410.68" data-end="413.47">phones which can become quite</span> <span data-start="413.47" data-end="416.01">interesting as we will see a bit later</span> <span data-start="416.01" data-end="419.32">anyway so that was a long day and I said</span> <span data-start="419.32" data-end="421.24">on the couch and watch the sunset at</span> <span data-start="421.24" data-end="426.76">middle and it's already the end of part</span> <span data-start="426.76" data-end="429.61">one of this talk and what we fluency for</span> <span data-start="429.61" data-end="433.3">we using JSON to to store data in the</span> <span data-start="433.3" data-end="438.34">database um it has an HTTP interface so</span> </p>
<p><span data-start="438.34" data-end="441.31">I can talk to it if I talk it should be</span> <span data-start="441.31" data-end="444.52">myself but can you take dude I can't</span> <span data-start="444.52" data-end="447.43">speak to directly I can use a browser or</span> <span data-start="447.43" data-end="451.81">any HTTP client I want I can pass with</span> <span data-start="451.81" data-end="454.36">those map functions to sort of extract</span> <span data-start="454.36" data-end="458.11">data from it and I can pass those reduce</span> <span data-start="458.11" data-end="459.79">functions to do calculations on that</span> <span data-start="459.79" data-end="462.16">data it's sort of the essence of those</span> <span data-start="462.16" data-end="465.34">two and it has this replication which</span> <span data-start="465.34" data-end="467.47">means I can set up as many copies as I</span> <span data-start="467.47" data-end="469.96">want and I can tell it to love keep all</span> <span data-start="469.96" data-end="473.89">of them in sync so like in multi master</span> <span data-start="473.89" data-end="476.02">data they set up something which is</span> <span data-start="476.02" data-end="479.26">really a pain when using traditional</span> <span data-start="479.26" data-end="484.72">databases like MySQL for instance yeah</span> <span data-start="484.72" data-end="490.29">so that was part one</span> <span data-start="490.3" data-end="498.83">and this is part 2 so let's talk about</span> <span data-start="498.83" data-end="500.36">some apps and I have a little</span> <span data-start="500.36" data-end="502.849">co-presenter here which is Steve hearing</span> <span data-start="502.849" data-end="505.639">them on the left and it's gonna help me</span> <span data-start="505.639" data-end="509.479">present this thing and this is the first</span> <span data-start="509.479" data-end="512.719">slide um I think that's the other</span> <span data-start="512.719" data-end="518">presentation so let's move on so am the</span> <span data-start="518" data-end="524.06">apps um apps are this which is a couch</span> <span data-start="524.06" data-end="527.42">and the apps live inside the couch which</span> <span data-start="527.42" data-end="529.81">is why they are called couch apps and</span> <span data-start="529.81" data-end="532.76">basically what that all is is JavaScript</span> <span data-start="532.76" data-end="535.67">on the server side and in this case the</span> <span data-start="535.67" data-end="536.87">server is</span> <span data-start="536.87" data-end="539.209">couchdb so you can run those apps inside</span> <span data-start="539.209" data-end="545.269">the database and then deliver them to a</span> <span data-start="545.269" data-end="549.17">browser we have documents as you've</span> <span data-start="549.17" data-end="551.329">already seen you can just put any JSON</span> <span data-start="551.329" data-end="554.66">into couchdb and then it's gonna be</span> <span data-start="554.66" data-end="556.07">stored there and you can get it back if</span> <span data-start="556.07" data-end="559.339">you want to you can also have</span> <span data-start="559.339" data-end="560.87">attachments which can be anything you</span> <span data-start="560.87" data-end="564.32">want anything binary data HTML pages yes</span> <span data-start="564.32" data-end="566.589">as far as good whatever videos you want</span> <span data-start="566.589" data-end="569.029">which comes in handy when you talk to a</span> <span data-start="569.029" data-end="573.41">browser we have those views that this</span> <span data-start="573.41" data-end="578.48">that is a map function thing so you can</span> <span data-start="578.48" data-end="582.56">extract data so if I have documents with</span> <span data-start="582.56" data-end="584.3">speakers I can get a list of speakers or</span> <span data-start="584.3" data-end="588.589">the sum of all the number of speakers</span> <span data-start="588.589" data-end="591.01">and that kind of stuff</span> <span data-start="591.01" data-end="594.94">we have shows which can be used to</span> <span data-start="594.94" data-end="598.339">transform a single document into</span> <span data-start="598.339" data-end="600.98">anything else which might be a just</span> <span data-start="600.98" data-end="603.11">email in this case I could be XML it</span> <span data-start="603.11" data-end="606.459">could even be binary data I think and</span> <span data-start="606.459" data-end="610.13">yeah so this allows you to serve a</span> <span data-start="610.13" data-end="612.29">document to a browser or some other</span> <span data-start="612.29" data-end="612.649">class</span> <span data-start="612.649" data-end="617.709">like say like some RSS reader or so and</span> <span data-start="617.709" data-end="619.97">transform it into a format that this</span> <span data-start="619.97" data-end="622.61">client can understand and we have lists</span> <span data-start="622.61" data-end="625.069">and that is the same thing but it's not</span> <span data-start="625.069" data-end="627.139">working on a single document but on a</span> <span data-start="627.139" data-end="631.49">view so you can admit or you can serve a</span> <span data-start="631.49" data-end="636.319">list of data or anything you want and we</span> <span data-start="636.319" data-end="639.639">have updates and updates</span> <span data-start="639.639" data-end="642.369">well they update they don't so you can</span> <span data-start="642.369" data-end="647.809">post output to the database a little</span> <span data-start="647.809" data-end="652.759">update data and you can run code in this</span> <span data-start="652.759" data-end="655.22">so it's not like a fixed thing but you</span> <span data-start="655.22" data-end="657.41">run code well and tell it what to update</span> <span data-start="657.41" data-end="662.779">from the request so like like a real</span> <span data-start="662.779" data-end="663.279">server</span> <span data-start="663.279" data-end="666.41">um so anyway um this is the short</span> <span data-start="666.41" data-end="671.689">overview of what couch apps are and I</span> <span data-start="671.689" data-end="675.759">don't know what is it new MacBooks no</span> <span data-start="675.759" data-end="678.889">it's something called semi and Sammy is</span> <span data-start="678.889" data-end="680.689">doesn't really have to do anything with</span> <span data-start="680.689" data-end="684.019">couch TV or not even with server-side</span> </p>
<p><span data-start="684.019" data-end="687.949">JavaScript but it is a nice little</span> <span data-start="687.949" data-end="690.47">framework inspired by Sinatra I don't</span> <span data-start="690.47" data-end="693.29">know anyone knows Sinatra just written</span> <span data-start="693.29" data-end="697.73">in Ruby so I know Sinatra it's a tiny</span> <span data-start="697.73" data-end="699.41">little framework that allows you to</span> <span data-start="699.41" data-end="704.48">quickly yeah write web apps and there's</span> <span data-start="704.48" data-end="706.79">a bit support of mapping URLs to actions</span> <span data-start="706.79" data-end="709.189">and then you can run some code and it's</span> <span data-start="709.189" data-end="712.339">a nice way to to write a little apps and</span> </p>
<p><span data-start="712.339" data-end="713.42">I'll show you some code later or how</span> <span data-start="713.42" data-end="714.79">that works</span> <span data-start="714.79" data-end="717.62">so anyway Sammy is pretty nice because</span> <span data-start="717.62" data-end="719.99">it takes the concept and runs it in the</span> <span data-start="719.99" data-end="722.059">browser so you have a full sort of</span> <span data-start="722.059" data-end="724.189">little framework for web apps in the</span> <span data-start="724.189" data-end="726.529">browser and you can run web apps in the</span> <span data-start="726.529" data-end="728.72">browser and then you can an use couch TV</span> <span data-start="728.72" data-end="732.139">under that and use it as a storage which</span> <span data-start="732.139" data-end="737.389">is pretty nice um those are a few apps</span> <span data-start="737.389" data-end="740.179">that are already out there so there's</span> <span data-start="740.179" data-end="742.11">something called</span> <span data-start="742.11" data-end="743.61">amazing which is used for presenting</span> <span data-start="743.61" data-end="746.7">this ayah which yawns little URL</span> <span data-start="746.7" data-end="750.089">shortening service there's a calendar is</span> <span data-start="750.089" data-end="751.95">a real-time chat unless an e-learning</span> <span data-start="751.95" data-end="754.649">app less time tracking blogging Twitter</span> <span data-start="754.649" data-end="758.37">clients wiki's and maybe most notably</span> <span data-start="758.37" data-end="760.769">there's also rain drop which is written</span> <span data-start="760.769" data-end="765.3">by Mozilla and it's sort of I don't</span> <span data-start="765.3" data-end="767.16">think I'm supposed to say this but I'm</span> <span data-start="767.16" data-end="771">sort of Google Wave quite familiar but</span> <span data-start="771" data-end="773.85">it's not so it's like their approach to</span> <span data-start="773.85" data-end="777.329">like sort of next-generation messaging</span> <span data-start="777.329" data-end="779.25">and it's it's a couch app which is</span> <span data-start="779.25" data-end="783.779">pretty cool um anyway um Steve and I are</span> <span data-start="783.779" data-end="792.97">gonna show you how this works right now</span> <span data-start="792.98" data-end="795.72">um by the way the first couch I've ever</span> <span data-start="795.72" data-end="797.579">written a sister CouchDB admin interface</span> <span data-start="797.579" data-end="800.7">which is of course served as a cow chip</span> <span data-start="800.7" data-end="802.829">so it runs in the database and that's</span> <span data-start="802.829" data-end="809.07">this nice Ajax interface but okay so</span> <span data-start="809.07" data-end="810.93">this is I oh this is the URL shortening</span> <span data-start="810.93" data-end="814.23">service yun wrote um it's pretty simple</span> </p>
<p><span data-start="814.23" data-end="826.03">I can go here and type in some new hour</span> <span data-start="826.04" data-end="831.57">gives me a shorter URL of course if you</span> <span data-start="831.57" data-end="832.89">wanna use this in production you're not</span> <span data-start="832.89" data-end="835.68">gonna expose this long URL but you're</span> <span data-start="835.68" data-end="838.04">gonna use some kind of proxy and then</span> <span data-start="838.04" data-end="841.649">have just this little part here appear</span> <span data-start="841.649" data-end="848.41">to the client so anyway and if I just</span> <span data-start="848.42" data-end="852.9">pasted in here and if the internet would</span> <span data-start="852.9" data-end="855.54">work then we would see J's confer you</span> <span data-start="855.54" data-end="858.96">now anyway so that works you've seen it</span> <span data-start="858.96" data-end="861.17">all</span> <span data-start="861.18" data-end="864.06">another example that I wrote for another</span> <span data-start="864.06" data-end="866.61">talk is a little wiki this is written</span> <span data-start="866.61" data-end="868.68">and using semi so it's all running in</span> <span data-start="868.68" data-end="871.46">the browser you can see um right here</span> <span data-start="871.46" data-end="878.31">maybe you can see I don't know so this</span> <span data-start="878.31" data-end="879.81">is the important part of the URL and</span> <span data-start="879.81" data-end="882.42">that changes well and filling in forms</span> <span data-start="882.42" data-end="886.76">and clicking links and so this uses</span> </p>
<p><span data-start="886.76" data-end="889.05">JavaScript on the client you determine</span> <span data-start="889.05" data-end="891.24">what you do next depending on what how</span> <span data-start="891.24" data-end="899.47">this changes here so I can create a page</span> <span data-start="899.48" data-end="904.53">and it's my first page and I can click</span> <span data-start="904.53" data-end="906.51">on this camicus link and create more</span> <span data-start="906.51" data-end="909.84">pages and so that's what you would</span> <span data-start="909.84" data-end="914.25">expect from a wiki I guess and so that's</span> <span data-start="914.25" data-end="916.02">all client-side and it just saves data</span> <span data-start="916.02" data-end="918.6">back to Akashi be but takes for</span> <span data-start="918.6" data-end="919.74">rendering of templates and everything</span> <span data-start="919.74" data-end="923.19">runs in the browser and my third example</span> <span data-start="923.19" data-end="927.03">is Mozilla raindrop raindrop is pretty</span> <span data-start="927.03" data-end="928.74">new it's actually so new that it doesn't</span> <span data-start="928.74" data-end="931.59">even run on my computer yet at least</span> </p>
<p><span data-start="931.59" data-end="933.45">I couldn't install it or I couldn't</span> <span data-start="933.45" data-end="934.89">solve it and it's this is what I saw but</span> <span data-start="934.89" data-end="936.41">it doesn't really do anything for me</span> <span data-start="936.41" data-end="940.41">which is why I found a video about it</span> <span data-start="940.41" data-end="945.66">which I'm going to show you over the</span> <span data-start="945.66" data-end="949.26">bulk well as an example here's our</span> <span data-start="949.26" data-end="952.14">initial version of raindrop and here you</span> <span data-start="952.14" data-end="954.18">can see we already recognized mailing</span> <span data-start="954.18" data-end="956.13">list messages and put them to the side</span> <span data-start="956.13" data-end="958.17">you can get to them when you need to but</span> <span data-start="958.17" data-end="959.1">they shouldn't get in the way of</span> <span data-start="959.1" data-end="960.69">messages that are only for you</span> <span data-start="960.69" data-end="962.97">we're also working on ways to filter for</span> <span data-start="962.97" data-end="964.5">notifications like those you might get</span> <span data-start="964.5" data-end="966.96">from Amazon Facebook or eBay to keep</span> <span data-start="966.96" data-end="968.58">them out of the messages you get from</span> <span data-start="968.58" data-end="971.43">real people and because this is an open</span> <span data-start="971.43" data-end="973.2">source project with a built-in extension</span> <span data-start="973.2" data-end="974.82">system you'll be able to pick which</span> <span data-start="974.82" data-end="978.12">notifications you want where well that's</span> <span data-start="978.12" data-end="979.8">all for now thanks for listening the</span> <span data-start="979.8" data-end="980.8">range up team welcomes</span> <span data-start="980.8" data-end="984.19">comments indeed been but so what are you</span> <span data-start="984.19" data-end="985.42">said in the beginning which you did not</span> <span data-start="985.42" data-end="987.61">see you said it's a messaging kind of</span> <span data-start="987.61" data-end="989.35">system so Audion acid is from everywhere</span> <span data-start="989.35" data-end="991.209">from Twitter from Facebook from email</span> <span data-start="991.209" data-end="993.85">from Skype everything just go into this</span> <span data-start="993.85" data-end="995.94">one app and then this app figures out</span> <span data-start="995.94" data-end="998.68">which messages are important and which</span> <span data-start="998.68" data-end="1002.76">are not or visa tries to and so it does</span> <span data-start="1002.76" data-end="1011.71">set inside of couch TV</span> <span data-start="1011.72" data-end="1015.74">next one I'm gonna show you some code</span> <span data-start="1015.74" data-end="1018.86">because I mean talking about apps is</span> <span data-start="1018.86" data-end="1021.02">nice but you might want to see how that</span> <span data-start="1021.02" data-end="1025.79">actually works so we're gonna look at IO</span> <span data-start="1025.79" data-end="1027.41">which is really simple so I can show you</span> <span data-start="1027.41" data-end="1029.66">all the code because it's just a few</span> <span data-start="1029.66" data-end="1035.11">lines um yeah it's simple eyes that's it</span> <span data-start="1035.11" data-end="1037.52">and it's only code Shiva so there's</span> <span data-start="1037.52" data-end="1039.23">nothing added on top of us no sugar or</span> <span data-start="1039.23" data-end="1044.27">nothing it just is just contains a few</span> <span data-start="1044.27" data-end="1046.16">of those things like views and updates</span> <span data-start="1046.16" data-end="1047.63">and lists where I'll just show you so</span> <span data-start="1047.63" data-end="1049.25">anyway this is um the map function and</span> <span data-start="1049.25" data-end="1053.21">what it does is so it takes the key of</span> <span data-start="1053.21" data-end="1057.68">every document which is like a sort of</span> <span data-start="1057.68" data-end="1061.61">short version of the URL so the secret</span> <span data-start="1061.61" data-end="1064.34">and the target is the actual URL and</span> <span data-start="1064.34" data-end="1067.58">then it spits out a list of every key so</span> <span data-start="1067.58" data-end="1072.23">every like secret and every URL and this</span> <span data-start="1072.23" data-end="1075.56">way we can figure out if someone gives</span> <span data-start="1075.56" data-end="1081.86">us a key what the URL is this is the</span> <span data-start="1081.86" data-end="1085.52">update function that stores a ul so as</span> <span data-start="1085.52" data-end="1089.78">you can see here and we are getting the</span> <span data-start="1089.78" data-end="1091.19">document which in this case is now</span> <span data-start="1091.19" data-end="1093.14">because we're creating a new one and the</span> <span data-start="1093.14" data-end="1095">request and so what we can do here is</span> <span data-start="1095" data-end="1097.81">okay if there's already duck we we just</span> <span data-start="1097.81" data-end="1099.95">return because we don't want to update</span> <span data-start="1099.95" data-end="1102.98">existing ones and then we create a new</span> <span data-start="1102.98" data-end="1105.77">document and then we just say okay the</span> <span data-start="1105.77" data-end="1108.35">target is the URL which we are getting</span> <span data-start="1108.35" data-end="1110.57">from the request object so from the form</span> <span data-start="1110.57" data-end="1113.09">that I've just submitted and the</span> <span data-start="1113.09" data-end="1115.1">shortened version we just generate the</span> <span data-start="1115.1" data-end="1119.93">random string and we send that a cid and</span> <span data-start="1119.93" data-end="1124.97">so this just gets returned here and so</span> <span data-start="1124.97" data-end="1126.92">this is the stuff that gets saved in the</span> <span data-start="1126.92" data-end="1129.8">database and this is the this is sent to</span> <span data-start="1129.8" data-end="1132.05">the browser so you would actually want</span> <span data-start="1132.05" data-end="1135.29">some HTML editor maybe so that people</span> <span data-start="1135.29" data-end="1137.39">can click on it or</span> <span data-start="1137.39" data-end="1140.21">and yeah what generate secrets not that</span> <span data-start="1140.21" data-end="1149.75">interesting I guess this is the actual</span> <span data-start="1149.75" data-end="1153.65">thing that redirects you to the URL you</span> <span data-start="1153.65" data-end="1156.26">wanted to go so when I clicked on the</span> <span data-start="1156.26" data-end="1157.82">link this is what get exit gets executed</span> <span data-start="1157.82" data-end="1159.98">and as you can see here we are returning</span> <span data-start="1159.98" data-end="1164.12">and redirect 302 and giving it the</span> <span data-start="1164.12" data-end="1166.4">location header which is the target of</span> <span data-start="1166.4" data-end="1170.679">that document so pretty simple and</span> <span data-start="1170.679" data-end="1174.5">here's the list and that just spits out</span> <span data-start="1174.5" data-end="1178.61">all the links or all the URLs in the</span> <span data-start="1178.61" data-end="1180.59">database so I can have a list and see</span> <span data-start="1180.59" data-end="1187.23">what people submitted</span> <span data-start="1187.24" data-end="1190.13">okay next one is some the CouchDB wiki</span> <span data-start="1190.13" data-end="1191.99">that I just told you that is as I said</span> <span data-start="1191.99" data-end="1195.77">implemented using semi so that's a bit</span> <span data-start="1195.77" data-end="1201.5">different as I said my dog runs on the</span> <span data-start="1201.5" data-end="1204.91">client and I just uses an occasional a</span> <span data-start="1204.91" data-end="1207.919">jQuery to to store the data but</span> <span data-start="1207.919" data-end="1209.59">everything else happens in the client</span> <span data-start="1209.59" data-end="1213.74">and semi is based on jQuery and there's</span> <span data-start="1213.74" data-end="1215.809">also little a brick couch days which</span> <span data-start="1215.809" data-end="1218.75">makes it easier to to talk to couch the</span> <span data-start="1218.75" data-end="1221.66">front within the browser so you can just</span> <span data-start="1221.66" data-end="1223.82">say okay just save that you don't have</span> <span data-start="1223.82" data-end="1231.71">to do HTTP by yourself this is part of</span> <span data-start="1231.71" data-end="1234.02">the source code at least so this is how</span> <span data-start="1234.02" data-end="1236.84">you write a semi application and the top</span> <span data-start="1236.84" data-end="1238.58">you're you're just initializing semi</span> <span data-start="1238.58" data-end="1241.25">itself and then what you do is and you</span> <span data-start="1241.25" data-end="1245">can call get put post and delete and you</span> <span data-start="1245" data-end="1249.02">can see here and you just pass it a</span> <span data-start="1249.02" data-end="1252.2">pattern for ul so this one will match</span> <span data-start="1252.2" data-end="1254.96">everything that says pages slash some</span> <span data-start="1254.96" data-end="1259.85">string so when my URL changes to slash</span> <span data-start="1259.85" data-end="1261.77">pages some string this function gets</span> <span data-start="1261.77" data-end="1267.32">involved and this will here load the</span> <span data-start="1267.32" data-end="1268.419">documents</span> <span data-start="1268.419" data-end="1270.639">whistling which in this case is a page</span> <span data-start="1270.639" data-end="1276.399">and it will run and this function this</span> <span data-start="1276.399" data-end="1279.129">looks like pretty nominal jQuery so on</span> <span data-start="1279.129" data-end="1281.08">success there's another function and the</span> <span data-start="1281.08" data-end="1283.149">dog gets passed in and then you can</span> <span data-start="1283.149" data-end="1286.69">render a template here showing the page</span> <span data-start="1286.69" data-end="1290.59">or whatever you want to do so and yeah</span> <span data-start="1290.59" data-end="1295.629">pretty simple again this is some sort of</span> <span data-start="1295.629" data-end="1298.899">the create action sorry I'm talking a</span> <span data-start="1298.899" data-end="1300.549">bit like a trains person's own rates</span> <span data-start="1300.549" data-end="1302.559">they're actually our actions and they</span> <span data-start="1302.559" data-end="1309.73">are called create so you know so here</span> <span data-start="1309.73" data-end="1313.049">let's posts to the pages path and again</span> <span data-start="1313.049" data-end="1316.629">this load some some kind of object and</span> <span data-start="1316.629" data-end="1321.1">and then store sets or you say coach Doc</span> </p>
<p><span data-start="1321.1" data-end="1324.249">TV dot save doc and then it saves that</span> <span data-start="1324.249" data-end="1327.97">and you can show some message saying</span> <span data-start="1327.97" data-end="1332.259">okay that worked or it didn't so what is</span> <span data-start="1332.259" data-end="1335.919">it and some he also has some sugar like</span> <span data-start="1335.919" data-end="1338.32">the fall filters I don't know with that</span> <span data-start="1338.32" data-end="1340.629">but so you can run stuff before every</span> <span data-start="1340.629" data-end="1342.999">request if you wanted to like in this</span> <span data-start="1342.999" data-end="1348.85">case clear the error message yep that is</span> <span data-start="1348.85" data-end="1351.759">semi and um as I said it all uses Ajax</span> <span data-start="1351.759" data-end="1353.769">and that makes our customers very happy</span> <span data-start="1353.769" data-end="1363.489">of course so um the last one damn it</span> <span data-start="1363.489" data-end="1368.29">it's called rain drop on that wave drop</span> <span data-start="1368.3" data-end="1371.66">that was yesterday night sorry</span> <span data-start="1371.66" data-end="1375.84">so as I said um rain drop it collects</span> <span data-start="1375.84" data-end="1377.61">all the messages from other clients and</span> <span data-start="1377.61" data-end="1378.9">all your accounts you have so if you</span> <span data-start="1378.9" data-end="1381.06">have Twitter and Skype and I am client</span> <span data-start="1381.06" data-end="1384.36">on Facebook I will collect those and it</span> <span data-start="1384.36" data-end="1385.95">also integrates email em neutrals</span> <span data-start="1385.95" data-end="1388.47">they're going to work with weight and</span> <span data-start="1388.47" data-end="1390.63">you can also shop in RSS feeds a 19-1</span> <span data-start="1390.63" data-end="1395.84">basically and install it and those into</span> <span data-start="1395.84" data-end="1397.58">whoops</span> <span data-start="1397.58" data-end="1403.44">like this and that's actually some</span> </p>
<p><span data-start="1403.44" data-end="1406.4">Python involved so it's not all just</span> <span data-start="1406.4" data-end="1409.71">JavaScript and couch unfortunately they</span> <span data-start="1409.71" data-end="1412.47">need some Python to to set up things and</span> <span data-start="1412.47" data-end="1415.56">to actually go to Twitter and and load</span> <span data-start="1415.56" data-end="1418.71">stuff so that is our Python but we're</span> <span data-start="1418.71" data-end="1421.08">not going to talk about that and then</span> <span data-start="1421.08" data-end="1422.75">I'm that goes through the couch and then</span> <span data-start="1422.75" data-end="1426.54">again it serves the stuff that you've</span> <span data-start="1426.54" data-end="1427.98">seen in the video so you can use the</span> <span data-start="1427.98" data-end="1432.09">browser to see your messages inside the</span> <span data-start="1432.09" data-end="1435">couch is again documents and those</span> <span data-start="1435" data-end="1437.34">contain your tweets your emails your</span> <span data-start="1437.34" data-end="1439.47">everything your contacts and so every</span> <span data-start="1439.47" data-end="1443.01">everything that raindrop collects stored</span> <span data-start="1443.01" data-end="1445.47">in one document and then what they do</span> <span data-start="1445.47" data-end="1447.93">they have a view and that view is called</span> <span data-start="1447.93" data-end="1452.22">mega view I'm not gonna get into why</span> <span data-start="1452.22" data-end="1454.95">they're doing it but I have a few</span> <span data-start="1454.95" data-end="1457.2">reasons to instead of using many views</span> <span data-start="1457.2" data-end="1458.73">for extracting data they're just doing</span> <span data-start="1458.73" data-end="1461.22">this one big thing here which looks like</span> <span data-start="1461.22" data-end="1464.28">this which is the because of you I've</span> <span data-start="1464.28" data-end="1466.56">ever seen so usually you have like three</span> <span data-start="1466.56" data-end="1469.59">four lines or something and yeah so they</span> <span data-start="1469.59" data-end="1470.61">have a bigger one because they're</span> </p>
<p><span data-start="1470.61" data-end="1473.25">Mozilla and they need something big and</span> <span data-start="1473.25" data-end="1475.41">this is reduced function which is small</span> <span data-start="1475.41" data-end="1477.66">again like you're used to and it just</span> <span data-start="1477.66" data-end="1481.5">comes something and then they have some</span> <span data-start="1481.5" data-end="1483.33">assets and libraries like 30 megabytes</span> <span data-start="1483.33" data-end="1486.54">or so in that CouchDB and it is enough</span> <span data-start="1486.54" data-end="1489.84">to serve the application and generate</span> <span data-start="1489.84" data-end="1493.05">HTML and everything and of course it</span> <span data-start="1493.05" data-end="1494.52">wouldn't be a Mozilla project if I</span> <span data-start="1494.52" data-end="1495.12">didn't have</span> <span data-start="1495.12" data-end="1496.68">engines or you can write your own</span> <span data-start="1496.68" data-end="1499.62">extensions and do we stop with that and</span> <span data-start="1499.62" data-end="1501.84">then the way it works is that every</span> <span data-start="1501.84" data-end="1503.16">document gets passed with every</span> <span data-start="1503.16" data-end="1505.44">extension and the extension can generate</span> <span data-start="1505.44" data-end="1508.86">more documents which get fed back to the</span> <span data-start="1508.86" data-end="1511.53">extensions again until no more documents</span> <span data-start="1511.53" data-end="1514.1">are being generated which sounds like a</span> <span data-start="1514.1" data-end="1517.43">bit crazy but it seems to work</span> </p>
<p><span data-start="1517.43" data-end="1519.74">I'm sorry where this is like the</span> <span data-start="1519.74" data-end="1524.16">architectural overview everything goes</span> <span data-start="1524.16" data-end="1527.64">into the Python thing fetches all the</span> <span data-start="1527.64" data-end="1529.41">data and drops it into the couch and</span> <span data-start="1529.41" data-end="1531.66">then it runs all the extensions and then</span> <span data-start="1531.66" data-end="1538.65">it goes to the browser okay so um that's</span> <span data-start="1538.65" data-end="1540.96">actually already the end and the song</span> <span data-start="1540.96" data-end="1544.11">questions and that's sort of what comes</span> <span data-start="1544.11" data-end="1549.36">next all those apps and first of all</span> <span data-start="1549.36" data-end="1551.51">what what do we now now so could she be</span> <span data-start="1551.51" data-end="1555.36">stores those documents a situation we</span> <span data-start="1555.36" data-end="1559.08">use those views and then with a map and</span> <span data-start="1559.08" data-end="1563.04">reduced to to extract the data it has a</span> <span data-start="1563.04" data-end="1566.3">built in HTTP server which means we can</span> <span data-start="1566.3" data-end="1568.91">talk to it directly from the browser I</span> <span data-start="1568.91" data-end="1571.62">test for shows and lists which allow us</span> <span data-start="1571.62" data-end="1574.02">to generate HTML or whatever XML we want</span> <span data-start="1574.02" data-end="1577.89">to talk to the clients it has assets</span> <span data-start="1577.89" data-end="1581.01">such as images and CSS so you can serve</span> <span data-start="1581.01" data-end="1582.66">those as well direct directly from the</span> <span data-start="1582.66" data-end="1584.4">from the database and you don't need a</span> <span data-start="1584.4" data-end="1589.05">specialized server for that and together</span> <span data-start="1589.05" data-end="1593.25">all this is called cow chips and one</span> <span data-start="1593.25" data-end="1595.47">other thing has said now that everything</span> <span data-start="1595.47" data-end="1596.85">is in the database it also means that</span> <span data-start="1596.85" data-end="1599.4">the data of your application and the</span> <span data-start="1599.4" data-end="1603.059">code are in one place which is pretty</span> <span data-start="1603.059" data-end="1606.48">nice because um together with the</span> <span data-start="1606.48" data-end="1609.24">replication where you can sort of copy</span> <span data-start="1609.24" data-end="1611.73">data from one database to the other it</span> <span data-start="1611.73" data-end="1613.17">also allows you to install absolute</span> <span data-start="1613.17" data-end="1615.39">weight because everything is just in the</span> <span data-start="1615.39" data-end="1617.55">database so you replicate your data and</span> <span data-start="1617.55" data-end="1619.87">that includes your code and then this</span> <span data-start="1619.87" data-end="1621.309">how you install your apps which is</span> <span data-start="1621.309" data-end="1628.45">pretty simple um okay so so again and</span> <span data-start="1628.45" data-end="1629.62">this is what we already know</span> <span data-start="1629.62" data-end="1631.75">and so the question is what what comes</span> <span data-start="1631.75" data-end="1634.18">next I mean why not have an app store</span> <span data-start="1634.18" data-end="1637.03">and they get giant couch TV somewhere</span> <span data-start="1637.03" data-end="1638.68">and then people can just replicate stuff</span> <span data-start="1638.68" data-end="1641.35">out of that and maybe pay for it all</span> <span data-start="1641.35" data-end="1643.24">right maybe not for it and have some</span> <span data-start="1643.24" data-end="1645.61">some sort of even better open source</span> <span data-start="1645.61" data-end="1648.43">word than we have now because whenever</span> <span data-start="1648.43" data-end="1650.5">you run an application you have access</span> <span data-start="1650.5" data-end="1652.63">to the code and you can change it and</span> <span data-start="1652.63" data-end="1655.48">everyone can can can improve apps and</span> <span data-start="1655.48" data-end="1658.21">stuff and replicate that to other people</span> <span data-start="1658.21" data-end="1660.7">and it might be a pretty a pretty nice</span> <span data-start="1660.7" data-end="1663.97">scenario having those apps everywhere</span> <span data-start="1663.97" data-end="1667.179">and everyone can hack on them which</span> <span data-start="1667.179" data-end="1668.71">isn't my idea and I didn't come up with</span> <span data-start="1668.71" data-end="1671.74">this but I like the in the scenario and</span> <span data-start="1671.74" data-end="1675.429">of course we want more apps and more</span> <span data-start="1675.429" data-end="1678.52">presentations that consume so I mean</span> <span data-start="1678.52" data-end="1680.35">what you're seeing here is of course a</span> <span data-start="1680.35" data-end="1683.89">couch app that I've written in the last</span> <span data-start="1683.89" data-end="1686.679">week and already stopped working it in</span> <span data-start="1686.679" data-end="1688.27">the last week it I've had it written for</span> <span data-start="1688.27" data-end="1690.88">a previous talk and what you're actually</span> <span data-start="1690.88" data-end="1694">seeing here is a one giant enormous SVG</span> <span data-start="1694" data-end="1696.85">file that I generated using tons of</span> <span data-start="1696.85" data-end="1697.32">tools</span> <span data-start="1697.32" data-end="1699.91">soo-ji on Austin really sucks um</span> <span data-start="1699.91" data-end="1702.46">everything crashed yesterday and I</span> <span data-start="1702.46" data-end="1704.35">didn't get a nice BG files into the</span> <span data-start="1704.35" data-end="1707.67">browser um but anyway I'm gonna do</span> <span data-start="1707.67" data-end="1709.57">presentations like this and you can</span> <span data-start="1709.57" data-end="1714.88">check out amazing yeah thanks that's</span> <span data-start="1714.88" data-end="1727.88">everything so far</span> <span data-start="1727.89" data-end="1730.06">there's a couchdb book if you want to</span> <span data-start="1730.06" data-end="1731.92">read it it's online and you can also buy</span> <span data-start="1731.92" data-end="1733.47">it on paper</span> <span data-start="1733.47" data-end="1737.23">soonish thing and if you want to look at</span> <span data-start="1737.23" data-end="1740.29">couch apps use those things here you see</span> <span data-start="1740.29" data-end="1742.78">me and there's a couch TV website any</span> <span data-start="1742.78" data-end="1758.02">questions</span> <span data-start="1758.03" data-end="1760.01">so the question was about security</span> <span data-start="1760.01" data-end="1763.55">because of course of what I've showed</span> <span data-start="1763.55" data-end="1767.39">now when you have access to the entire</span> <span data-start="1767.39" data-end="1768.59">application and the code from the</span> <span data-start="1768.59" data-end="1771.2">browser you can change it and spy on</span> <span data-start="1771.2" data-end="1773.78">people's passwords or something there's</span> <span data-start="1773.78" data-end="1776.45">a number of ways one would be to just</span> <span data-start="1776.45" data-end="1778.58">put it frogs in front of it and just</span> <span data-start="1778.58" data-end="1781.22">check which data you want to give out to</span> <span data-start="1781.22" data-end="1784.1">users or to  to clients and you can</span> <span data-start="1784.1" data-end="1786.62">also catch to be has some integrated</span> <span data-start="1786.62" data-end="1789.32">authentication modules so you can do or</span> <span data-start="1789.32" data-end="1790.55">author and stuff like that</span> <span data-start="1790.55" data-end="1792.17">and now to decide what you want to give</span> <span data-start="1792.17" data-end="1799.68">out there's a dancer a question okay I</span> </p>
</section>