<section>
<p><span data-start="16.299" data-end="20.04">you</span> <span data-start="20.05" data-end="24.16">thank you today I'm gonna talk about a</span> <span data-start="24.16" data-end="26.92">building fast scalable game server you</span> <span data-start="26.92" data-end="30.61">know that ah yes this is a fast just</span> <span data-start="30.61" data-end="33.13">cause I've ever attended this year and</span> <span data-start="33.13" data-end="35.86">but this one by far has the best</span> <span data-start="35.86" data-end="38.62">conference room not only this great of</span> <span data-start="38.62" data-end="43.3">you but also look best Wi-Fi signal now</span> <span data-start="43.3" data-end="45.16">what I find so good that I have it to</span> <span data-start="45.16" data-end="49.75">keep a working all day and as I speak</span> <span data-start="49.75" data-end="53.079">hurt for you guys headed in time and I'm</span> <span data-start="53.079" data-end="56.739">Charlie curry I'm from China I work in a</span> <span data-start="56.739" data-end="59.53">company called Nabeel it is the nasdaq</span> <span data-start="59.53" data-end="62.35">listed company it is very big company in</span> </p>
<p><span data-start="62.35" data-end="65.08">China actually and I've been working in</span> <span data-start="65.08" data-end="67.66">that in for about eight years I have</span> <span data-start="67.66" data-end="70.69">developed varying web game weather and</span> <span data-start="70.69" data-end="74.649">the game products but mostly I have mob</span> <span data-start="74.649" data-end="80.89">where background actually and so many</span> <span data-start="80.89" data-end="83.259">people ask me where do you come from</span> <span data-start="83.259" data-end="85.72">which stated will come from actually and</span> </p>
<p><span data-start="85.72" data-end="88.869">I replied I come I come from Hunter</span> <span data-start="88.869" data-end="89.95">ho-oh</span> <span data-start="89.95" data-end="93.069">never heard of it we offered of eighteen</span> <span data-start="93.069" data-end="94.99">and show hand and never heard of Hunter</span> <span data-start="94.99" data-end="98.259">but today I will let you guys all</span> <span data-start="98.259" data-end="103.869">remember this city hunter so anybody</span> <span data-start="103.869" data-end="108.49">knows this guys some step I think most</span> <span data-start="108.49" data-end="110.319">turn north or just guy should have know</span> <span data-start="110.319" data-end="112.77">this guy because she's very cool and he</span> <span data-start="112.77" data-end="116.44">actually maintained about hundred of</span> <span data-start="116.44" data-end="119.53">projects on github only him alone very</span> <span data-start="119.53" data-end="123.09">cool guy and a month ago he have</span> <span data-start="123.09" data-end="126.429">statistics about cities for NPM</span> <span data-start="126.429" data-end="130.42">modules and here it is okay not Fri the</span> <span data-start="130.42" data-end="133.42">number one San Francisco number two okay</span> <span data-start="133.42" data-end="135.73">this is where our subjects lives and</span> <span data-start="135.73" data-end="139">number three in London number four New</span> </p>
<p><span data-start="139" data-end="142.15">York number five medicine and which is</span> <span data-start="142.15" data-end="144.73">number six how to China</span> <span data-start="144.73" data-end="146.68">okay</span> <span data-start="146.68" data-end="151.099">okay I'm Joe hello — biggest Internet</span> <span data-start="151.099" data-end="153.65">company in China Alibaba and a Nettie's</span> <span data-start="153.65" data-end="155.959">and it's also a very good at Traverse</span> <span data-start="155.959" data-end="159.049">City so if you guys are interested are</span> <span data-start="159.049" data-end="160.43">you travel in China</span> <span data-start="160.43" data-end="164.66">don't miss handle so let's jump into the</span> <span data-start="164.66" data-end="167.9">topic this is today's agenda I'm gonna</span> <span data-start="167.9" data-end="170.36">talk about our games of a framework</span> <span data-start="170.36" data-end="173.42">first the state and some scalability</span> <span data-start="173.42" data-end="175.7">issue and performance issues and because</span> </p>
<p><span data-start="175.7" data-end="178.4">I'm from there most from web background</span> <span data-start="178.4" data-end="181.28">I'm will talk a little bit about real</span> <span data-start="181.28" data-end="184.609">application real-time application</span> <span data-start="184.609" data-end="187.91">development okay so let's get started</span> <span data-start="187.91" data-end="191.54">formula is a fast scalable distributed</span> <span data-start="191.54" data-end="194.299">game server framework for no — don't yes</span> <span data-start="194.299" data-end="199.069">it was open sourced about a year ago it</span> <span data-start="199.069" data-end="201.56">is quite popular now actually in China</span> <span data-start="201.56" data-end="204.23">but not only in China after I spoke her</span> <span data-start="204.23" data-end="207.89">ingest configure two months ago the NPM</span> <span data-start="207.89" data-end="210.769">download account held in double and the</span> <span data-start="210.769" data-end="212.81">many guide is from America and Europe</span> <span data-start="212.81" data-end="217.22">here and what Tommy no can do formula is</span> <span data-start="217.22" data-end="220.09">a game server framework it can develop</span> <span data-start="220.09" data-end="222.98">mobile game web games social game and</span> <span data-start="222.98" data-end="226.37">even I'm a marketer and only one premise</span> <span data-start="226.37" data-end="228.95">it I need a real time now to you the</span> <span data-start="228.95" data-end="231.099">interruption it means that only</span> <span data-start="231.099" data-end="233.75">multiplayer game neither this rumor if</span> <span data-start="233.75" data-end="236.29">you are developing a single-player game</span> <span data-start="236.29" data-end="239.12">you do not need our free look at all and</span> <span data-start="239.12" data-end="242.299">it is also a real-time applications of a</span> <span data-start="242.299" data-end="246.04">framework actually it can develop</span> <span data-start="246.04" data-end="248.9">real-time application holding millions</span> <span data-start="248.9" data-end="252.95">online users we have an actually you</span> <span data-start="252.95" data-end="255.23">don't you look it for that formula is</span> <span data-start="255.23" data-end="257.81">not a single project if you take a look</span> <span data-start="257.81" data-end="260.479">at I will get half it holds about more</span> <span data-start="260.479" data-end="263.87">than 40 projects there so what is all</span> <span data-start="263.87" data-end="266.72">this project about well let's include</span> <span data-start="266.72" data-end="269.81">many demos and also there are many</span> <span data-start="269.81" data-end="273.909">client libraries including say iOS</span> </p>
<p><span data-start="273.909" data-end="275.76">Android and</span> <span data-start="275.76" data-end="279.15">quit even unity3d all these crimes and</span> <span data-start="279.15" data-end="284.16">many tours like Adam in control and well</span> <span data-start="284.16" data-end="286.95">commander line thought and also some</span> <span data-start="286.95" data-end="290.25">many many plugins and libraries like the</span> </p>
<p><span data-start="290.25" data-end="292.71">I was funny and beneath it in the</span> <span data-start="292.71" data-end="295.59">framework and this is our github address</span> <span data-start="295.59" data-end="299.19">and this is our main project between the</span> <span data-start="299.19" data-end="301.8">writing quite quickly actually there are</span> <span data-start="301.8" data-end="303.99">already many success Christian in China</span> <span data-start="303.99" data-end="307.08">now and this is one of it it is a car</span> <span data-start="307.08" data-end="310.08">game called as a moon and they have many</span> <span data-start="310.08" data-end="313.29">online users and this is another way it</span> <span data-start="313.29" data-end="317.28">is correlation so basically it is a</span> <span data-start="317.28" data-end="320.49">little like crash escape but they say</span> <span data-start="320.49" data-end="322.47">they have many online you doesn't know</span> <span data-start="322.47" data-end="327.36">and as I said it formula is also</span> <span data-start="327.36" data-end="329.61">suitable for real-time application and</span> <span data-start="329.61" data-end="331.83">the some guy developed this game this is</span> <span data-start="331.83" data-end="335.58">project it is a real-time chat mobile</span> <span data-start="335.58" data-end="340.68">chat application it can chattering voice</span> <span data-start="340.68" data-end="349.23">and there are also many successes like</span> <span data-start="349.23" data-end="352.29">there I will not eat a richer one my way</span> <span data-start="352.29" data-end="355.14">actually there are many card games and a</span> <span data-start="355.14" data-end="357.69">many real-time application and they are</span> <span data-start="357.69" data-end="360.93">also many job-hunting out of time out</span> <span data-start="360.93" data-end="363.72">there so this is evolved it look at</span> <span data-start="363.72" data-end="366.66">obscure number one no jest number two</span> <span data-start="366.66" data-end="369.54">ready number four my cycle which is</span> <span data-start="369.54" data-end="371.88">number four hello</span> <span data-start="371.88" data-end="374.85">okay many of their has out they are like</span> <span data-start="374.85" data-end="376.23">their yeah</span> <span data-start="376.23" data-end="381.62">and today I'm gonna focus on scalability</span> <span data-start="381.62" data-end="384.63">because I have given many briefs talked</span> <span data-start="384.63" data-end="386.91">about this three month before today I'm</span> <span data-start="386.91" data-end="390.57">gonna focus on scalability and to make</span> <span data-start="390.57" data-end="393.72">you guys know what the game like I will</span> <span data-start="393.72" data-end="395.58">show you a little demo about this game</span> <span data-start="395.58" data-end="399.18">let's start the game demo because I run</span> <span data-start="399.18" data-end="402.45">in the local I actually have five online</span> <span data-start="402.45" data-end="404.7">users it can actually hold about a</span> <span data-start="404.7" data-end="405.94">thousand Caroline</span> <span data-start="405.94" data-end="409.66">and the art material you the press you</span> <span data-start="409.66" data-end="411.91">can just take them good night because</span> <span data-start="411.91" data-end="413.74">today I'm talking about a game server</span> <span data-start="413.74" data-end="417.04">the crime side material just a crap okay</span> <span data-start="417.04" data-end="419.32">and let's see you know what does the</span> <span data-start="419.32" data-end="421.24">game like you see there now I'm not much</span> <span data-start="421.24" data-end="426.5">oxygen it can it's my mouth</span> <span data-start="426.51" data-end="429.87">okay the players can working around</span> <span data-start="429.87" data-end="431.35">fighting each other</span> <span data-start="431.35" data-end="434.08">oh it it can attack Earl the other</span> <span data-start="434.08" data-end="437.77">player and also can attack the master</span> <span data-start="437.77" data-end="440.77">and the master we are so quorum attached</span> <span data-start="440.77" data-end="443.98">me it is driven by official intelligence</span> <span data-start="443.98" data-end="451.09">and also I can run and this way this</span> </p>
<p><span data-start="451.09" data-end="455.1">Elena Missy and I can run to another</span> <span data-start="455.1" data-end="460.15">math area actually oh here I am I am me</span> <span data-start="460.15" data-end="464.68">another area and they see the water the</span> <span data-start="464.68" data-end="469.6">game like basically okay so you guys get</span> <span data-start="469.6" data-end="472.36">any idea what a game like and we can go</span> <span data-start="472.36" data-end="481.51">on scalability web service are usually</span> <span data-start="481.51" data-end="483.88">help and let me do the scalability but</span> <span data-start="483.88" data-end="486.76">game server usually is not a scalable at</span> <span data-start="486.76" data-end="490.06">that for example you have a word</span> <span data-start="490.06" data-end="492.76">encourage there that it can have a tone</span> <span data-start="492.76" data-end="497.11">about 7000 online users but it city then</span> </p>
<p><span data-start="497.11" data-end="499.51">I know Marty to did it cannot hold that</span> <span data-start="499.51" data-end="502.75">come line users actually 7000 is the</span> <span data-start="502.75" data-end="506.14">most okay why why game server is not a</span> <span data-start="506.14" data-end="509.95">scalable as well so let's start from the</span> <span data-start="509.95" data-end="515.26">illest long connection game server need</span> <span data-start="515.26" data-end="516.969">a lot connection for two reasons the</span> <span data-start="516.969" data-end="519.94">first reason is immediate response time</span> <span data-start="519.94" data-end="522.729">game needed to response in very very</span> <span data-start="522.729" data-end="525.19">short time like less than a hundred</span> <span data-start="525.19" data-end="527.11">milliseconds so we must use long</span> <span data-start="527.11" data-end="529.63">connection the other reason is by</span> <span data-start="529.63" data-end="534.94">direction message flow we not only need</span> <span data-start="534.94" data-end="538.45">to request to make a request to the web</span> <span data-start="538.45" data-end="539.31">server we</span> <span data-start="539.31" data-end="541.08">you know to push a message back to the</span> <span data-start="541.08" data-end="543.33">crime so we need a pint direction</span> <span data-start="543.33" data-end="547.13">connect connect so we need this</span> </p>
<p><span data-start="547.13" data-end="550.86">Gong crashes so actually but this</span> <span data-start="550.86" data-end="554.04">problem is very little so because we are</span> <span data-start="554.04" data-end="556.2">using no tutorials this is why we are</span> <span data-start="556.2" data-end="558.75">using no touch yes because it will</span> <span data-start="558.75" data-end="561.21">design the for event-driven i/o and it</span> <span data-start="561.21" data-end="563.73">is very good at holding connection</span> <span data-start="563.73" data-end="565.14">between very good at real-time</span> <span data-start="565.14" data-end="567.21">application and network incentive</span> <span data-start="567.21" data-end="570.6">application in our case if we you are</span> <span data-start="570.6" data-end="572.73">you'll in sock-doc tayo we can hold</span> <span data-start="572.73" data-end="576.33">about 25,000 dying one process but if</span> <span data-start="576.33" data-end="579.089">you are using QT t it can hold about a</span> <span data-start="579.089" data-end="581.04">hundred and twenty thousand connections</span> <span data-start="581.04" data-end="584.43">so this problem can be solved we just</span> <span data-start="584.43" data-end="588.029">eat many many mem memories we can add a</span> <span data-start="588.029" data-end="591.02">machine and make the online users okay</span> <span data-start="591.02" data-end="594.93">but the second problem is not that easy</span> <span data-start="594.93" data-end="598.589">to solve it is called state for so where</span> <span data-start="598.589" data-end="601.56">the application usually is not stateful</span> <span data-start="601.56" data-end="604.88">it is stateless it we can partition the</span> <span data-start="604.88" data-end="607.62">randomly and the each request can be</span> <span data-start="607.62" data-end="610.5">routed to any server but game is</span> <span data-start="610.5" data-end="614.04">designed in different way game server</span> <span data-start="614.04" data-end="616.71">you in this case you partition the pie</span> <span data-start="616.71" data-end="620.58">area so what is that mean so you can see</span> <span data-start="620.58" data-end="622.74">the demo before when I'm watching a role</span> <span data-start="622.74" data-end="626.19">in the map I am in one process when I am</span> <span data-start="626.19" data-end="628.29">escape into another where I'm actually</span> <span data-start="628.29" data-end="631.41">get into another process so why</span> <span data-start="631.41" data-end="634.53">designing in this way because most of</span> <span data-start="634.53" data-end="637.5">the player interruption happen in one</span> <span data-start="637.5" data-end="640.41">day so we can do it in one process and</span> <span data-start="640.41" data-end="642.3">all this interaction can be done in</span> <span data-start="642.3" data-end="645.06">memory they feel the nature of game so</span> <span data-start="645.06" data-end="648.42">but because of this partition strategy</span> <span data-start="648.42" data-end="650.7">we have a problem of State for each</span> <span data-start="650.7" data-end="653.19">requester come from the cry site must be</span> <span data-start="653.19" data-end="655.05">routed to this server not that's the way</span> <span data-start="655.05" data-end="656.4">and that's the one</span> <span data-start="656.4" data-end="659.54">so how to solve this problem actually</span> <span data-start="659.54" data-end="663.51">this cannot be solved in technical level</span> <span data-start="663.51" data-end="668.19">it can be depending on game design we</span> <span data-start="668.19" data-end="670.8">cannot make one hair we are too crowded</span> <span data-start="670.8" data-end="672.49">we need a parents</span> <span data-start="672.49" data-end="675.73">area for example this is a case of a too</span> <span data-start="675.73" data-end="678.399">crowded area too much players in one</span> <span data-start="678.399" data-end="681.01">death and this process cannot hold too</span> <span data-start="681.01" data-end="682.779">much some line user and it will crash</span> <span data-start="682.779" data-end="688.02">and this is a much better design I can</span> <span data-start="688.02" data-end="691.54">it's not that proud and the process can</span> <span data-start="691.54" data-end="696.58">hold this online users and it come to</span> <span data-start="696.58" data-end="699.37">the third problem it is quite difficult</span> <span data-start="699.37" data-end="701.92">it's called broadcast because indeed</span> <span data-start="701.92" data-end="704.02">when I'm watching wrong or fighting</span> </p>
<p><span data-start="704.02" data-end="706.12">I needed the other players see me right</span> <span data-start="706.12" data-end="708.1">so I need a push message to all the</span> <span data-start="708.1" data-end="710.589">other players if they are you the only</span> <span data-start="710.589" data-end="714.91">one player in the area so I only need a</span> <span data-start="714.91" data-end="716.589">to push the message to me or no message</span> <span data-start="716.589" data-end="719.58">at ha so one message II one message out</span> <span data-start="719.58" data-end="722.92">if there are two players in the area</span> <span data-start="722.92" data-end="725.41">how many message are needed to notify</span> <span data-start="725.41" data-end="728.2">myself and notify to another player so</span> <span data-start="728.2" data-end="730.93">two messaging for message up that hill</span> <span data-start="730.93" data-end="731.32">okay</span> <span data-start="731.32" data-end="735.25">and if they are about four players how</span> <span data-start="735.25" data-end="740.25">many messages sixteen that is also okay</span> <span data-start="740.25" data-end="743.82">note about us can handle this no problem</span> <span data-start="743.82" data-end="747.04">if there are about a hundred online</span> <span data-start="747.04" data-end="750.43">users how many messages ten thousand</span> <span data-start="750.43" data-end="753.82">that we've a lot of messages heavy if</span> <span data-start="753.82" data-end="756.91">they're about thousand players in one</span> <span data-start="756.91" data-end="758.41">area how many messages</span> </p>
<p><span data-start="758.41" data-end="764.23">Emilia holy no process can hold</span> <span data-start="764.23" data-end="769.63">this online users so how can we handle</span> <span data-start="769.63" data-end="775.149">this okay the first strategy is quite</span> <span data-start="775.149" data-end="776.62">easy actually</span> <span data-start="776.62" data-end="780.399">it's you call the Aoi it is an algorithm</span> <span data-start="780.399" data-end="783.79">the idea is that when I broadcast to all</span> <span data-start="783.79" data-end="785.77">the other players I do not need to</span> <span data-start="785.77" data-end="789.43">broadcast all the players in the map I</span> <span data-start="789.43" data-end="791.77">only needed to broadcast to the players</span> <span data-start="791.77" data-end="796.57">who can see me so this is what this</span> <span data-start="796.57" data-end="801.19">module is builder we use an algorithm</span> <span data-start="801.19" data-end="802.85">called a power</span> <span data-start="802.85" data-end="805.489">and in the center is tower and in the</span> <span data-start="805.489" data-end="808.339">screen who can see me only in the center</span> <span data-start="808.339" data-end="811.579">this nine rectangles can see me and all</span> <span data-start="811.579" data-end="814.009">the other the outsider cannot see me so</span> </p>
<p><span data-start="814.009" data-end="816.949">I need not to notify all they are the</span> <span data-start="816.949" data-end="821.709">players I only need to notify all nine</span> <span data-start="821.709" data-end="825.649">rectangles in this area okay this can</span> <span data-start="825.649" data-end="829.039">save a lot of broadcast and the second</span> <span data-start="829.039" data-end="829.609">problem</span> <span data-start="829.609" data-end="832.759">yep the second solution you separate the</span> <span data-start="832.759" data-end="837.379">process I remember the guy before have</span> <span data-start="837.379" data-end="841.489">you talked about it a year if we have</span> <span data-start="841.489" data-end="844.759">all the logics in one process for</span> <span data-start="844.759" data-end="847.399">example game logic and broadcast erotic</span> <span data-start="847.399" data-end="851.209">all this process can eat a steep hill</span> <span data-start="851.209" data-end="855.829">right so fight each other and the 5000</span> <span data-start="855.829" data-end="859.069">will go down yeah so what can we do we</span> <span data-start="859.069" data-end="861.289">can split in the process into front end</span> <span data-start="861.289" data-end="864.019">and back end the front end the server we</span> <span data-start="864.019" data-end="866.6">are do all the connection starts it will</span> <span data-start="866.6" data-end="869.149">broadcast to the crime side but we do</span> <span data-start="869.149" data-end="871.519">not do the business logic the business</span> <span data-start="871.519" data-end="874.239">logic is done in the backend server and</span> <span data-start="874.239" data-end="879.679">it have another benefit although the</span> <span data-start="879.679" data-end="881.689">game server is paid for</span> <span data-start="881.689" data-end="883.669">yes the back instead for but the front</span> <span data-start="883.669" data-end="887.269">end it's actually it can be up to many</span> <span data-start="887.269" data-end="890.379">many processes and I have no problem so</span> <span data-start="890.379" data-end="895.309">and so the solution is also about game</span> <span data-start="895.309" data-end="898.069">design because even we have the air</span> <span data-start="898.069" data-end="901.429">groom is muscle you I if I are all the</span> <span data-start="901.429" data-end="903.979">players in in this single place so I</span> <span data-start="903.979" data-end="906.739">also needed to broadcast all the players</span> <span data-start="906.739" data-end="910.699">right well we need a tool dispense the</span> <span data-start="910.699" data-end="912.979">bone place and make the character not</span> <span data-start="912.979" data-end="917.72">her not crowded in one place so usually</span> <span data-start="917.72" data-end="920.809">we can dispense this one place in too</span> <span data-start="920.809" data-end="924.47">many places and each of place is not</span> <span data-start="924.47" data-end="927.619">that crowded and the first strategy is</span> <span data-start="927.619" data-end="930.799">called a push schedule and it is much</span> <span data-start="930.799" data-end="933.519">more about the real-time application or</span> <span data-start="933.519" data-end="935.6">something like that</span> <span data-start="935.6" data-end="936.499">for example</span> <span data-start="936.499" data-end="940.369">neither to broadcast an advice advertise</span> <span data-start="940.369" data-end="944.089">to five million online users do I'm here</span> <span data-start="944.089" data-end="949.399">to broadcasting 15 milliseconds no I can</span> <span data-start="949.399" data-end="951.559">broadcast my minutes are comments that</span> <span data-start="951.559" data-end="954.829">feel okay so in this way I can define</span> <span data-start="954.829" data-end="957.139">our strategy and this is how it's</span> <span data-start="957.139" data-end="961.879">defined in formula for example I can't</span> <span data-start="961.879" data-end="964.909">broadcast about 10,000 messages and I</span> <span data-start="964.909" data-end="968.119">have a rest and check out the city you</span> <span data-start="968.119" data-end="971.659">saw I can rest a while and when does if</span> <span data-start="971.659" data-end="975.049">you use free I can broadcaster the next</span> <span data-start="975.049" data-end="978.319">message and it is depend on your</span> <span data-start="978.319" data-end="980.269">business logic and i/o scheduler</span> <span data-start="980.269" data-end="982.369">strategy okay</span> <span data-start="982.369" data-end="985.759">come to the fourth problem tip it is</span> <span data-start="985.759" data-end="990.499">also called game look we not only have</span> <span data-start="990.499" data-end="992.239">game Luffy in the crime side we also</span> <span data-start="992.239" data-end="994.549">have game loose on the suicide it is</span> <span data-start="994.549" data-end="997.239">something like that average a hundred</span> <span data-start="997.239" data-end="999.859">milliseconds I needed to update many</span> <span data-start="999.859" data-end="1003.909">things for example I am bad so I should</span> <span data-start="1003.909" data-end="1006.759">remove you from anti-terrorist make sure</span> <span data-start="1006.759" data-end="1010.239">you disappear and I move if I move I</span> <span data-start="1010.239" data-end="1013.089">will in the next tip I will put you to</span> <span data-start="1013.089" data-end="1018.279">another place and for example you have</span> <span data-start="1018.279" data-end="1020.979">some revival and also the it were</span> <span data-start="1020.979" data-end="1022.959">trailer trial date artificial</span> <span data-start="1022.959" data-end="1027.459">intelligence because monster and I might</span> <span data-start="1027.459" data-end="1029.679">be father master we are attacked me</span> <span data-start="1029.679" data-end="1031.509">please driven by the I and the dead</span> <span data-start="1031.509" data-end="1037.689">logic is also driven in the stick if a</span> <span data-start="1037.689" data-end="1040.179">tick in a hundred milliseconds all these</span> <span data-start="1040.179" data-end="1041.319">after logics</span> <span data-start="1041.319" data-end="1044.11">should be far less than a hundred</span> <span data-start="1044.11" data-end="1048.61">milliseconds for example 40 milliseconds</span> <span data-start="1048.61" data-end="1050.889">is at most we need to throw some space</span> <span data-start="1050.889" data-end="1055.21">so how do we solve it the entity number</span> <span data-start="1055.21" data-end="1057.07">should be limited because we needed to</span> <span data-start="1057.07" data-end="1059.049">iterate all the end at the end and do</span> <span data-start="1059.049" data-end="1061.33">some update stuff we should a limit</span> <span data-start="1061.33" data-end="1065.139">early entry number another second is the</span> <span data-start="1065.139" data-end="1067.059">attention to the algorithm because we</span> <span data-start="1067.059" data-end="1069.809">have a I'm algorithm in each dick if</span> <span data-start="1069.809" data-end="1071.999">there are algorithm pick too much time</span> <span data-start="1071.999" data-end="1076.229">oh that's a very crash and the third</span> <span data-start="1076.229" data-end="1080.729">problem is about to see because Fuji say</span> <span data-start="1080.729" data-end="1081.869">is horrible right</span> <span data-start="1081.869" data-end="1084.929">especially in Java usually take about a</span> <span data-start="1084.929" data-end="1087.989">few seconds and if you configure not</span> <span data-start="1087.989" data-end="1091.529">right maybe a minute no that seem crazy</span> <span data-start="1091.529" data-end="1095.519">for game but I find that weirdly very</span> <span data-start="1095.519" data-end="1097.83">good at garbage corruption actually I</span> <span data-start="1097.83" data-end="1101.399">have talked a few guys from Google in</span> <span data-start="1101.399" data-end="1103.83">their team and the dart team and</span> <span data-start="1103.83" data-end="1106.32">actually if you can control the memory</span> <span data-start="1106.32" data-end="1111.919">under fifty thousand fifty five hundred</span> <span data-start="1111.919" data-end="1115.589">megabytes it have a very very good to</span> <span data-start="1115.589" data-end="1120.659">say performance actually even for GC can</span> <span data-start="1120.659" data-end="1123.21">only take about 30 milliseconds that is</span> <span data-start="1123.21" data-end="1126.96">very good so v8 is very good at it but</span> <span data-start="1126.96" data-end="1130.289">we should pay attention to make the</span> <span data-start="1130.289" data-end="1133.049">memory be limited we should have tried</span> <span data-start="1133.049" data-end="1138.33">to divide the process as possible the</span> <span data-start="1138.33" data-end="1139.619">more is possible we should have divide</span> <span data-start="1139.619" data-end="1145.469">the process into single task so in this</span> <span data-start="1145.469" data-end="1148.219">way this is embark of the runtime</span> <span data-start="1148.219" data-end="1152.219">architecture this is it okay it's quite</span> <span data-start="1152.219" data-end="1155.129">complicated in the front hand either a</span> <span data-start="1155.129" data-end="1157.979">bunch of connect service it's just how</span> <span data-start="1157.979" data-end="1159.539">the connections we are not to the</span> <span data-start="1159.539" data-end="1162.929">business logic and the backend is where</span> <span data-start="1162.929" data-end="1165.629">this the business logic is done and we</span> <span data-start="1165.629" data-end="1168.69">can see we divided many processes we can</span> <span data-start="1168.69" data-end="1171.389">so we not come we err your server even</span> <span data-start="1171.389" data-end="1173.129">actually Chris they are usually about</span> <span data-start="1173.129" data-end="1175.259">twenty process is something like that</span> <span data-start="1175.259" data-end="1177.96">and each one do its own job like a</span> <span data-start="1177.96" data-end="1180.359">server service tests or something like</span> <span data-start="1180.359" data-end="1183.599">that and when the business logic is done</span> <span data-start="1183.599" data-end="1185.219">to a push message back from the</span> <span data-start="1185.219" data-end="1187.019">connector and the connector will push</span> <span data-start="1187.019" data-end="1189.69">back to the client so it's a quite</span> <span data-start="1189.69" data-end="1191.58">complicated distributed architecture</span> <span data-start="1191.58" data-end="1194.94">right so how do we solve this</span> <span data-start="1194.94" data-end="1198.67">the solution is framework so</span> <span data-start="1198.67" data-end="1200.83">let's jump to the third part framework</span> <span data-start="1200.83" data-end="1207.03">and the essence of Hamelin is a</span> <span data-start="1207.03" data-end="1209.32">distributive scalable real-time</span> <span data-start="1209.32" data-end="1212.08">application for a work actually if you</span> <span data-start="1212.08" data-end="1214.87">take a look at the core of our framework</span> <span data-start="1214.87" data-end="1217.66">it has nothing to do it again it is just</span> <span data-start="1217.66" data-end="1220.72">a real-time framework but it is not</span> <span data-start="1220.72" data-end="1224.11">similar to media or Derby or something</span> <span data-start="1224.11" data-end="1226.929">like that it is not an MVC framework the</span> <span data-start="1226.929" data-end="1229.26">car Camilla is to make distributor</span> <span data-start="1229.26" data-end="1232.179">programming as easily as possible so</span> <span data-start="1232.179" data-end="1234.91">let's take a brief look at the design</span> <span data-start="1234.91" data-end="1239.5">goal the first goal is about abstract of</span> <span data-start="1239.5" data-end="1242.29">service we have we can see there are</span> <span data-start="1242.29" data-end="1244.72">many many process we need a simple way</span> <span data-start="1244.72" data-end="1247">to scale up or down all these service</span> <span data-start="1247" data-end="1250.72">and easy as possible and the second girl</span> <span data-start="1250.72" data-end="1253.66">is about abstract offer request response</span> <span data-start="1253.66" data-end="1256.9">and broadcast this is the basic API of</span> <span data-start="1256.9" data-end="1259.03">cream server request the response is</span> <span data-start="1259.03" data-end="1260.95">similar to web server web server also</span> <span data-start="1260.95" data-end="1263.41">have it but we need another directions</span> <span data-start="1263.41" data-end="1265.179">message we need a broadcast of the</span> <span data-start="1265.179" data-end="1269.47">message back to the client and the third</span> <span data-start="1269.47" data-end="1272.95">problem so the design go in about RPC</span> <span data-start="1272.95" data-end="1275.98">framework actually we use a very very</span> <span data-start="1275.98" data-end="1279.09">hot is very very simple RPC mechanism</span> <span data-start="1279.09" data-end="1282.49">because in this case we can make it a</span> <span data-start="1282.49" data-end="1288.549">very very easy but and I have talked to</span> <span data-start="1288.549" data-end="1290.53">all about these issues in other</span> <span data-start="1290.53" data-end="1293.71">conference before many times so today I</span> <span data-start="1293.71" data-end="1297.61">am gone I'm not gonna dig a deep play in</span> <span data-start="1297.61" data-end="1299.59">this area I'm gonna talk to some</span> <span data-start="1299.59" data-end="1302.97">framework features about scalability and</span> <span data-start="1302.97" data-end="1306.22">he I used three features the first thing</span> <span data-start="1306.22" data-end="1307.929">service scalability the second is</span> <span data-start="1307.929" data-end="1312.25">network 30 plugins so let's start with</span> <span data-start="1312.25" data-end="1315.22">service scalability we designed the</span> <span data-start="1315.22" data-end="1317.86">server as duck time so almost a no</span> <span data-start="1317.86" data-end="1320.169">configuration file you can stock up but</span> <span data-start="1320.169" data-end="1321.85">the are you I'm gonna go what</span> <span data-start="1321.85" data-end="1324.58">configuration fire neither and it is in</span> <span data-start="1324.58" data-end="1329.11">the JSON file and in the oxide we have</span> <span data-start="1329.11" data-end="1330.41">one connection</span> <span data-start="1330.41" data-end="1332.39">and one church service so this is the</span> <span data-start="1332.39" data-end="1335.39">runtime architecture right like this so</span> <span data-start="1335.39" data-end="1339.2">how can I stop we just changed this JSON</span> <span data-start="1339.2" data-end="1343.04">file three connector through your chest</span> <span data-start="1343.04" data-end="1345.71">over no code I needed a draft change</span> <span data-start="1345.71" data-end="1348.65">this configuration file oops get up very</span> <span data-start="1348.65" data-end="1352.43">very easy we also support another kind</span> <span data-start="1352.43" data-end="1355.49">of stuff we can dynamically add a server</span> <span data-start="1355.49" data-end="1358.88">in runtime it is a command line to start</span> <span data-start="1358.88" data-end="1362.33">our server in runtime so with this</span> <span data-start="1362.33" data-end="1366.2">mechanism I can scale up in runtime like</span> <span data-start="1366.2" data-end="1369.44">cloud computing we can write a very good</span> <span data-start="1369.44" data-end="1373.01">sheer sheer script if I find we found</span> <span data-start="1373.01" data-end="1375.2">that the resource is not enough I just</span> <span data-start="1375.2" data-end="1378.2">give up in this shell script very very</span> <span data-start="1378.2" data-end="1383.05">easy so this is the first problem the</span> <span data-start="1383.05" data-end="1387.16">second problem is network when we</span> <span data-start="1387.16" data-end="1391.58">released our framework a year ago we</span> <span data-start="1391.58" data-end="1394.82">only support such that I applied socket</span> </p>
<p><span data-start="1394.82" data-end="1395.3">IO</span> <span data-start="1395.3" data-end="1399.2">is very good at browser client right it</span> <span data-start="1399.2" data-end="1401.51">is very good at browser compatibility</span> <span data-start="1401.51" data-end="1405.68">but it turned out most of our customers</span> <span data-start="1405.68" data-end="1409.82">users are from mobile background they</span> <span data-start="1409.82" data-end="1413.21">said who are using Jessie that is twist</span> <span data-start="1413.21" data-end="1418.07">for very very much bandwidth so we need</span> <span data-start="1418.07" data-end="1422.81">another protocol like binary and small</span> <span data-start="1422.81" data-end="1425.33">pendants as possible so we developed</span> <span data-start="1425.33" data-end="1427.88">another connector which called hybrid</span> <span data-start="1427.88" data-end="1430.99">connector and also we form of our</span> <span data-start="1430.99" data-end="1434.56">developer and qtd connector by ourselves</span> <span data-start="1434.56" data-end="1439.34">and so I'm gonna dig deep about a hybrid</span> <span data-start="1439.34" data-end="1442.94">connector and this feel how the package</span> <span data-start="1442.94" data-end="1445.58">is encoded and decoded I actually have</span> <span data-start="1445.58" data-end="1448.76">three levels the first time we are</span> <span data-start="1448.76" data-end="1450.98">including improved pasture contains some</span> <span data-start="1450.98" data-end="1454.28">message encoded I will not a big detail</span> <span data-start="1454.28" data-end="1457.58">about this today I'm gonna focus Oh</span> <span data-start="1457.58" data-end="1460.95">broke it off so</span> <span data-start="1460.95" data-end="1464.43">this is what we usually prefer fleas</span> <span data-start="1464.43" data-end="1466.83">that we write some prefer buff</span> <span data-start="1466.83" data-end="1469.8">definition right and we compile it we</span> <span data-start="1469.8" data-end="1471.84">run some command line compiled and we</span> <span data-start="1471.84" data-end="1474.69">deploy copy this code to the sauce to</span> <span data-start="1474.69" data-end="1478.68">our project and when the entity streams</span> <span data-start="1478.68" data-end="1482.88">up I'm here to rewrite our protocol and</span> <span data-start="1482.88" data-end="1485.82">compile it again and copied who needed</span> <span data-start="1485.82" data-end="1486.15">that</span> <span data-start="1486.15" data-end="1491.61">yeah oh we need a better strategy and</span> <span data-start="1491.61" data-end="1495.12">this is our strategy we just write our</span> <span data-start="1495.12" data-end="1499.05">protocol definition we do not need a to</span> <span data-start="1499.05" data-end="1501.42">compile we do not need to do anything</span> <span data-start="1501.42" data-end="1505.11">just this definition changes well we can</span> <span data-start="1505.11" data-end="1507.6">encode in this definition and no</span> <span data-start="1507.6" data-end="1511.02">comparison and in Okabe so how do we do</span> <span data-start="1511.02" data-end="1513.27">it and this field a configuration case</span> <span data-start="1513.27" data-end="1517.02">so you say we this is our configuration</span> <span data-start="1517.02" data-end="1519.72">file it is a little similar to Express</span> <span data-start="1519.72" data-end="1524.46">and if you take a look at we use the</span> <span data-start="1524.46" data-end="1526.47">hybrid connector and the way you wrote</span> <span data-start="1526.47" data-end="1530.07">about and with this configuration and</span> <span data-start="1530.07" data-end="1533.1">what else would we do we just need ax</span> <span data-start="1533.1" data-end="1536.91">and proto talk about definition and you</span> <span data-start="1536.91" data-end="1539.22">can see we defined in the right style</span> <span data-start="1539.22" data-end="1539.79">its</span> <span data-start="1539.79" data-end="1543.87">amo it tis a proto buffer finishing of</span> <span data-start="1543.87" data-end="1547.26">the message and with that we have</span> <span data-start="1547.26" data-end="1550.44">nothing needs to be done just that with</span> <span data-start="1550.44" data-end="1554.1">push message with a loaf and boot all</span> <span data-start="1554.1" data-end="1557.27">these entities we are transferred from</span> <span data-start="1557.27" data-end="1559.8">jason to protobuf and a pushback</span> <span data-start="1559.8" data-end="1562.95">prescribed it's that simple if there is</span> <span data-start="1562.95" data-end="1565.82">no definition in the right side it will</span> <span data-start="1565.82" data-end="1570.18">transfer interesting format and it is</span> <span data-start="1570.18" data-end="1572.94">also a key that we open sourced upon me</span> <span data-start="1572.94" data-end="1576.63">antonio probe us as a single project any</span> <span data-start="1576.63" data-end="1579.98">of you guys can use this product person</span> <span data-start="1579.98" data-end="1583.38">in a single project it's quite easy and</span> <span data-start="1583.38" data-end="1586.41">this is the API I will not pick TV in</span> <span data-start="1586.41" data-end="1592.17">this so with protobuf compression 4400</span> <span data-start="1592.17" data-end="1593.7">online users</span> <span data-start="1593.7" data-end="1599.05">originally it need about 3,600 flow</span> <span data-start="1599.05" data-end="1604.87">bytes and with pretty bad about 25% well</span> <span data-start="1604.87" data-end="1608.4">set receive a lot of network flow so</span> <span data-start="1608.4" data-end="1612.34">this is about network and the last part</span> <span data-start="1612.34" data-end="1615.82">in cloudy cloudy is a mechanism to</span> <span data-start="1615.82" data-end="1620.89">extend our framework so it to use</span> <span data-start="1620.89" data-end="1623.41">component and events and it is quite</span> <span data-start="1623.41" data-end="1624.13">easy actually</span> <span data-start="1624.13" data-end="1626.95">but what is the relationship of between</span> <span data-start="1626.95" data-end="1629.68">planning and a scalability actually it</span> <span data-start="1629.68" data-end="1633.01">related a lot because we find that many</span> <span data-start="1633.01" data-end="1637.06">many services need except for a service</span> <span data-start="1637.06" data-end="1640.27">for example online status we need a</span> <span data-start="1640.27" data-end="1643.45">greatest we do Redis to store all this</span> <span data-start="1643.45" data-end="1648.7">online status right but if we write all</span> <span data-start="1648.7" data-end="1651.82">this code in our main project between a</span> <span data-start="1651.82" data-end="1654.19">problem because our main project will</span> <span data-start="1654.19" data-end="1658.24">rely on reddit and if some guy said oh I</span> <span data-start="1658.24" data-end="1661.3">do not get like radish I like MongoDB so</span> <span data-start="1661.3" data-end="1664.84">we need to import MongoDB our main code</span> <span data-start="1664.84" data-end="1668.2">base but with Robbie I can do things</span> <span data-start="1668.2" data-end="1671.62">like that we just if you don't use this</span> <span data-start="1671.62" data-end="1675.61">plug-in and both this this framework</span> <span data-start="1675.61" data-end="1679.63">have the ability of skill up in being</span> </p>
<p><span data-start="1679.63" data-end="1683.44">Redis and if I need a MongoDB I just</span> <span data-start="1683.44" data-end="1686.11">write another plugin and use it and I</span> <span data-start="1686.11" data-end="1689.62">have the ability of use MongoDB and</span> <span data-start="1689.62" data-end="1693.63">online status ok here is another example</span> <span data-start="1693.63" data-end="1699.25">master we use a master process to manage</span> <span data-start="1699.25" data-end="1701.56">all the other processes the other</span> <span data-start="1701.56" data-end="1705.07">process is maybe 50 or maybe 20 many</span> <span data-start="1705.07" data-end="1707.89">processes so what is this master process</span> <span data-start="1707.89" data-end="1712.48">is crashed crashed or crashed so how can</span> <span data-start="1712.48" data-end="1715.21">we guarantee our master process is not</span> <span data-start="1715.21" data-end="1718.3">crashed we can use the keeper and we</span> <span data-start="1718.3" data-end="1721.81">have this in the strategy we have to</span> <span data-start="1721.81" data-end="1726.72">slave processes of master yet we are</span> <span data-start="1726.72" data-end="1730.11">only in normal cases only this must</span> <span data-start="1730.11" data-end="1733.73">process do the job but when I am crushed</span> <span data-start="1733.73" data-end="1737.429">does it maintain a heartbeat — zookeeper</span> <span data-start="1737.429" data-end="1738.929">zookeeper we all know that</span> <span data-start="1738.929" data-end="1741.33">oh so many proves the main master you</span> <span data-start="1741.33" data-end="1744.45">crashed it we are a mere 10 what I'm</span> <span data-start="1744.45" data-end="1747.63">watching event and the two slaves were</span> <span data-start="1747.63" data-end="1750.78">select oh I want to be master and the</span> <span data-start="1750.78" data-end="1752.58">trust level we are competing to each</span> <span data-start="1752.58" data-end="1754.23">other and the one we are the selection</span> <span data-start="1754.23" data-end="1756.45">area the master and after the slaves</span> <span data-start="1756.45" data-end="1759.419">become master so zookeeper we are</span> <span data-start="1759.419" data-end="1761.7">notified all this message to all the</span> <span data-start="1761.7" data-end="1763.559">other processes and the other process</span> <span data-start="1763.559" data-end="1766.409">note oh the master changer I needed to</span> <span data-start="1766.409" data-end="1768.39">reconnect so how the other process will</span> <span data-start="1768.39" data-end="1771.659">reconnect to all them to the puller</span> <span data-start="1771.659" data-end="1775.2">place to the master process and so the</span> <span data-start="1775.2" data-end="1778.169">we do it turning our main product then</span> <span data-start="1778.169" data-end="1782.4">we need to rely on zookeeper in our main</span> <span data-start="1782.4" data-end="1785.01">project who needed that most of a guy</span> <span data-start="1785.01" data-end="1787.32">don't you know that but we can write it</span> <span data-start="1787.32" data-end="1790.26">in a froggy and we use it and we have</span> <span data-start="1790.26" data-end="1793.26">the ability of hive available he musters</span> <span data-start="1793.26" data-end="1799.679">that's either okay so let's jump to the</span> <span data-start="1799.679" data-end="1804.24">first part performance actually the</span> <span data-start="1804.24" data-end="1806.7">performers various differently in</span> <span data-start="1806.7" data-end="1808.62">different applications even games</span> <span data-start="1808.62" data-end="1810.809">because there are so much different</span> <span data-start="1810.809" data-end="1816.299">games real-time game and not on your</span> <span data-start="1816.299" data-end="1818.33">time game it's very very different and</span> <span data-start="1818.33" data-end="1823.35">this in this case we will focus on the</span> <span data-start="1823.35" data-end="1826.65">previous previous case MMORPG I know of</span> <span data-start="1826.65" data-end="1829.74">a b2b cannot hold that online you that</span> <span data-start="1829.74" data-end="1833.13">actually there is a plus yeah</span> <span data-start="1833.13" data-end="1835.77">nephew he said that he can hold about</span> <span data-start="1835.77" data-end="1837.9">20,000 concurrent for prayers of our</span> <span data-start="1837.9" data-end="1841.14">area who believe that it's impossible</span> <span data-start="1841.14" data-end="1846.299">actually in our case in one area it is</span> <span data-start="1846.299" data-end="1850.23">not holding about 800 online users in</span> <span data-start="1850.23" data-end="1853.83">one process it's at most seven thousand</span> <span data-start="1853.83" data-end="1856.78">at most actually in real case</span> <span data-start="1856.78" data-end="1861.64">so 50 now standard and we actually test</span> <span data-start="1861.64" data-end="1863.74">time our OpenStack virtual machine and</span> <span data-start="1863.74" data-end="1866.73">the machine is not very very good and</span> <span data-start="1866.73" data-end="1869.73">this is a use case the first years Chris</span> <span data-start="1869.73" data-end="1874.03">only fight we only tested in one area</span> <span data-start="1874.03" data-end="1877.18">one process stress from one area step by</span> <span data-start="1877.18" data-end="1880.48">step and it will log in every two</span> <span data-start="1880.48" data-end="1882.64">seconds and fight each other or fight to</span> <span data-start="1882.64" data-end="1885.64">the master in two to five seconds and</span> <span data-start="1885.64" data-end="1889.51">this really actually in our actual</span> <span data-start="1889.51" data-end="1892.3">picture for fighting each other in this</span> <span data-start="1892.3" data-end="1896.95">case how much are you this 486 we</span> <span data-start="1896.95" data-end="1900.04">guarantee in this case the server is in</span> <span data-start="1900.04" data-end="1903.73">very stable status it is not as good as</span> <span data-start="1903.73" data-end="1908.23">our online data but it is a fairly good</span> <span data-start="1908.23" data-end="1911.25">editor and we are not bluffing we just</span> <span data-start="1911.25" data-end="1913.27">we are very honest</span> <span data-start="1913.27" data-end="1916.09">it sees our line data and it take about</span> <span data-start="1916.09" data-end="1921.04">less than than 80% of the CPU so the</span> <span data-start="1921.04" data-end="1922.57">second the use case will not fight each</span> <span data-start="1922.57" data-end="1924.79">other we just move around and walk</span> <span data-start="1924.79" data-end="1927.34">around and the other use case here</span> <span data-start="1927.34" data-end="1929.86">around hand they see the map how much</span> <span data-start="1929.86" data-end="1933.49">online users about 800 online users this</span> <span data-start="1933.49" data-end="1935.77">is almost as good as our online meter</span> <span data-start="1935.77" data-end="1939.61">and the third case in house fight in how</span> <span data-start="1939.61" data-end="1943.15">smooth it is the usual case seeing real</span> <span data-start="1943.15" data-end="1946.42">in reality in real game and in this case</span> <span data-start="1946.42" data-end="1949.75">we can hold about five hundred and fifty</span> <span data-start="1949.75" data-end="1953.56">eight or nine units so this is the</span> <span data-start="1953.56" data-end="1955.54">performance data and the response time</span> <span data-start="1955.54" data-end="1961.3">is also very quick okay so we still have</span> <span data-start="1961.3" data-end="1965.86">time so I'm gonna jump jump into real</span> <span data-start="1965.86" data-end="1969.58">time application will come allocation is</span> <span data-start="1969.58" data-end="1973.39">very different from game actually and we</span> <span data-start="1973.39" data-end="1975.19">have already have many success stories</span> <span data-start="1975.19" data-end="1978.52">about real-time application like our</span> <span data-start="1978.52" data-end="1981.58">message was pushed platform it can hold</span> <span data-start="1981.58" data-end="1984.76">about 10 millions online users and also</span> <span data-start="1984.76" data-end="1987.82">some track application in this case it</span> <span data-start="1987.82" data-end="1989.08">is not</span> <span data-start="1989.08" data-end="1991.75">is not that frequent messages at gate</span> <span data-start="1991.75" data-end="1994.87">but it usually have much much more</span> <span data-start="1994.87" data-end="1999.16">online users and some in some cases you</span> <span data-start="1999.16" data-end="2001.92">do not need to push message that real</span> <span data-start="2001.92" data-end="2005.52">time you can push messaging one year or</span> <span data-start="2005.52" data-end="2007.95">some seconds it is horrifying</span> <span data-start="2007.95" data-end="2012.21">so usually real-time application is much</span> <span data-start="2012.21" data-end="2015.6">scalable than game and today I'm gonna</span> <span data-start="2015.6" data-end="2018.3">take a look at this message push</span> <span data-start="2018.3" data-end="2021.03">platform it is reused in our company</span> <span data-start="2021.03" data-end="2024.42">it actually can hold about 10 million</span> <span data-start="2024.42" data-end="2026.82">online users now because there are many</span> <span data-start="2026.82" data-end="2029.43">products are using our platform and it</span> <span data-start="2029.43" data-end="2033.18">is all beautiful so this is the</span> <span data-start="2033.18" data-end="2035.46">architecture of real-time application</span> <span data-start="2035.46" data-end="2038.01">and this is a typical Palmetto</span> <span data-start="2038.01" data-end="2040.23">architecture many many processes and the</span> <span data-start="2040.23" data-end="2042.06">front end is connector in this case</span> <span data-start="2042.06" data-end="2046.35">we'll use the obvious to connect and the</span> <span data-start="2046.35" data-end="2050.01">flock flow is very simple we have a</span> <span data-start="2050.01" data-end="2052.44">group of service yet we're still message</span> <span data-start="2052.44" data-end="2056.4">from RabbitMQ and push message to a</span> <span data-start="2056.4" data-end="2058.98">penis or connector here to depend on the</span> <span data-start="2058.98" data-end="2065.55">logic and it seemed quite easy but it</span> <span data-start="2065.55" data-end="2067.65">actually have many many problem because</span> <span data-start="2067.65" data-end="2069.66">there are many challenges out there and</span> <span data-start="2069.66" data-end="2071.46">we do it quite well</span> <span data-start="2071.46" data-end="2075.42">so what's challenge first of course it</span> <span data-start="2075.42" data-end="2078.45">is highly loaded 10 million online users</span> <span data-start="2078.45" data-end="2082.44">the second we need a broadcaster yes</span> <span data-start="2082.44" data-end="2085.44">this is need of food product we need a</span> <span data-start="2085.44" data-end="2088.47">broadcaster to 5 million users in</span> <span data-start="2088.47" data-end="2091.68">whamming it and they see you quite a</span> <span data-start="2091.68" data-end="2094.26">difficult and we have handled it quite</span> <span data-start="2094.26" data-end="2097.17">well and the third problem in</span> <span data-start="2097.17" data-end="2100.53">reliability we needed to push message in</span> <span data-start="2100.53" data-end="2103.02">any conditions even the crime-filled</span> <span data-start="2103.02" data-end="2105.87">crash something crashed we need to do</span> <span data-start="2105.87" data-end="2108.69">high availability and if the crying</span> <span data-start="2108.69" data-end="2111.69">crash we needed to store the message in</span> <span data-start="2111.69" data-end="2115.26">our in our Redis and yet we have pushed</span> <span data-start="2115.26" data-end="2117.63">message when the user is online it takes</span> <span data-start="2117.63" data-end="2120.41">quite difficult actually and</span> <span data-start="2120.41" data-end="2122.87">the first problem is about power and a</span> <span data-start="2122.87" data-end="2126.23">network we need to save our network</span> <span data-start="2126.23" data-end="2128.81">bandwidth and there are many strategy</span> <span data-start="2128.81" data-end="2131.51">about it and we support all this crime</span> <span data-start="2131.51" data-end="2133.04">including iOS</span> </p>
<p><span data-start="2133.04" data-end="2135.8">I always actually support a TLS and I'm</span> <span data-start="2135.8" data-end="2140.84">qtd because if unity is not very real</span> <span data-start="2140.84" data-end="2143.87">time in our country actually so we need</span> <span data-start="2143.87" data-end="2145.82">another protocol to DT that we are</span> <span data-start="2145.82" data-end="2148.25">pushing message directly and in Android</span> <span data-start="2148.25" data-end="2151.22">where you learn qtd and in browser sorry</span> <span data-start="2151.22" data-end="2154.43">doc I owe you the best choice and even</span> <span data-start="2154.43" data-end="2157.09">we even support a Windows desktop</span> <span data-start="2157.09" data-end="2159.53">application now it also you don't get it</span> <span data-start="2159.53" data-end="2162.38">so how do we do it because we have</span> <span data-start="2162.38" data-end="2164.42">communal framework I'm gonna forum ok</span> <span data-start="2164.42" data-end="2166.64">very good at support all these clients</span> <span data-start="2166.64" data-end="2170.99">in one project very very easy so I think</span> <span data-start="2170.99" data-end="2173.84">that's all I think are they are you some</span> <span data-start="2173.84" data-end="2178.16">time for questions and does anyone have</span> <span data-start="2178.16" data-end="2182.33">any questions right charlie raise your</span> <span data-start="2182.33" data-end="2186.6">hands and we'll go right through</span> <span data-start="2186.61" data-end="2193.76">anyone okay well if there were no</span> <span data-start="2193.76" data-end="2196.85">questions for Charlie well that has been</span> </p>
</section>