<section>
<p><span data-start="7.58" data-end="10.67">I'm Tom Robinson I'm talking about</span> <span data-start="10.67" data-end="13.32">parsers and compilers say so originally</span> <span data-start="13.32" data-end="14.759">it was just called compilers but it's</span> <span data-start="14.759" data-end="16.859">actually more about our sirs and in</span> <span data-start="16.859" data-end="20.96">general and as they relate to JavaScript</span> <span data-start="20.96" data-end="25.38">so previously i started a company called</span> <span data-start="25.38" data-end="28.859">280 north where we built a language</span> <span data-start="28.859" data-end="32.61">called objective j it was a superset of</span> <span data-start="32.61" data-end="35.399">javascript and it was a moment in</span> <span data-start="35.399" data-end="37.94">JavaScript so you know you would just</span> <span data-start="37.94" data-end="40.079">reload your web page it will load your</span> <span data-start="40.079" data-end="44.579">code compile it and evaluate it not</span> <span data-start="44.579" data-end="46.469">working there anymore but cappuccino is</span> <span data-start="46.469" data-end="50.28">is the project that uses objective J and</span> <span data-start="50.28" data-end="53.52">it's open source it's a sort of desktop</span> <span data-start="53.52" data-end="56.309">like framework for building applications</span> <span data-start="56.309" data-end="59.609">on the web so I'm going to talk about</span> <span data-start="59.609" data-end="62.699">two kinds of compilers today compilers</span> <span data-start="62.699" data-end="65.659">that produce and consume JavaScript and</span> <span data-start="65.659" data-end="67.53">compilers that are implemented in</span> </p>
<p><span data-start="67.53" data-end="71.79">JavaScript and you know objective JS a</span> <span data-start="71.79" data-end="73.49">good example of one that produces</span> <span data-start="73.49" data-end="76.14">JavaScript and it's also implemented in</span> <span data-start="76.14" data-end="78.21">JavaScript so they're not mutually</span> <span data-start="78.21" data-end="84.659">exclusive so before I started working on</span> <span data-start="84.659" data-end="87.63">on objector J in cappuccino I really</span> <span data-start="87.63" data-end="89.64">thought of compilers is Magic really</span> <span data-start="89.64" data-end="93.54">like had no idea how they worked but</span> <span data-start="93.54" data-end="95.04">once you really start looking into it</span> <span data-start="95.04" data-end="97.079">it's it's not it's nothing magic it's uh</span> <span data-start="97.079" data-end="102.15">it's just it's code and I hope that you</span> <span data-start="102.15" data-end="103.86">know if if you think of compilers is</span> </p>
<p><span data-start="103.86" data-end="105.36">Magic you'll no longer think of them</span> <span data-start="105.36" data-end="108.329">that way and start experimenting with</span> <span data-start="108.329" data-end="109.95">them because there's a lot of all things</span> <span data-start="109.95" data-end="113.52">you do a lot of people think of</span> <span data-start="113.52" data-end="115.439">compilers is something that you know C</span> <span data-start="115.439" data-end="118.2">programmers hefty we use and it's really</span> <span data-start="118.2" data-end="120.21">not the case there a lot of other uses</span> <span data-start="120.21" data-end="121.18">for them</span> <span data-start="121.18" data-end="123.02">there's a lot of good tools available</span> <span data-start="123.02" data-end="124.759">for JavaScript developers and web</span> <span data-start="124.759" data-end="127.22">developers and you probably already use</span> <span data-start="127.22" data-end="128.45">a lot of them I'll talk about a few of</span> <span data-start="128.45" data-end="133.52">them so start off this is just a really</span> <span data-start="133.52" data-end="137">simple example of a compiler for sort of</span> <span data-start="137" data-end="139.85">a calculator it's like a prefix notation</span> <span data-start="139.85" data-end="141.5">calculator kind of a little bit like</span> </p>
<p><span data-start="141.5" data-end="145.55">Lisp but I was able to fit each of the</span> <span data-start="145.55" data-end="148.43">components into a tweet so each of these</span> <span data-start="148.43" data-end="151.4">is 140 characters or less we've got a</span> <span data-start="151.4" data-end="153.739">lexer that i'll talk about each of these</span> <span data-start="153.739" data-end="157.55">in a moment but lexer parser interpreter</span> <span data-start="157.55" data-end="161.51">and compiler so let me just show a</span> <span data-start="161.51" data-end="169.819">little quick demo that so sad little</span> <span data-start="169.819" data-end="174.11">program with a little people I'm just</span> <span data-start="174.11" data-end="176.66">going to copy this string here but so if</span> <span data-start="176.66" data-end="177.65">you're not familiar with this notation</span> <span data-start="177.65" data-end="180.98">it's just the the operator is first so</span> <span data-start="180.98" data-end="183.709">this is 1 plus 2 plus this expression</span> <span data-start="183.709" data-end="185.989">here plus this expression in that</span> <span data-start="185.989" data-end="188.51">expression and then this is you know pi</span> <span data-start="188.51" data-end="195.35">x 42 and this is 3-4 5/6 so whoops that</span> <span data-start="195.35" data-end="201.839">wasn't</span> <span data-start="201.849" data-end="204.53">so here it sits out putting that each</span> <span data-start="204.53" data-end="207.73">sort of stage that I mentioned earlier</span> <span data-start="207.73" data-end="210.25">now the first stage is the tokenizer</span> <span data-start="210.25" data-end="212.9">basically splits the input into tokens</span> <span data-start="212.9" data-end="216.29">we've got like a parenthesis of plus a</span> <span data-start="216.29" data-end="222.049">number etc so that very first step the</span> <span data-start="222.049" data-end="225.019">second step is parsing turns that stream</span> <span data-start="225.019" data-end="228.709">of tokens into a hierarchical data</span> <span data-start="228.709" data-end="230.719">structure called an ABS abstract syntax</span> <span data-start="230.719" data-end="235.79">tree so here you can see we have plus 12</span> <span data-start="235.79" data-end="239.12">and then we have another array here for</span> <span data-start="239.12" data-end="243.28">that sub expression and and so on so</span> <span data-start="243.28" data-end="247.34">it's pretty pretty simple structure it's</span> <span data-start="247.34" data-end="253.04">just arrays and then the the next two</span> <span data-start="253.04" data-end="255.29">steps are a compiler an interpreter and</span> <span data-start="255.29" data-end="258.25">you know those are two different ways of</span> <span data-start="258.25" data-end="261.949">you know evaluating this code and so the</span> <span data-start="261.949" data-end="263.84">both the compiler and the interpreter</span> <span data-start="263.84" data-end="266.15">take the abstract syntax tree as an</span> <span data-start="266.15" data-end="272.27">input to their to their code so here you</span> <span data-start="272.27" data-end="276.83">can see we Lex the code we parse it and</span> <span data-start="276.83" data-end="280.37">then interpret it and you know up it's</span> <span data-start="280.37" data-end="284.69">this number and in this case we exit</span> <span data-start="284.69" data-end="287.84">parsad compile it and then just evaluate</span> <span data-start="287.84" data-end="292.28">it so end up here I skip this step but</span> <span data-start="292.28" data-end="294.259">this is the compiled code so just</span> <span data-start="294.259" data-end="297.77">compiled it to JavaScript replacing</span> <span data-start="297.77" data-end="300.169">changing it from prefix notation to</span> </p>
<p><span data-start="300.169" data-end="304.62">JavaScript you know infix notation</span> <span data-start="304.63" data-end="307.759">so here's here's that same process or</span> <span data-start="307.759" data-end="310.759">laid out starting with the string going</span> <span data-start="310.759" data-end="313.19">through the tokenizer than the parser</span> <span data-start="313.19" data-end="316.43">and then either a code generator or</span> <span data-start="316.43" data-end="322.13">interpreter this is just the code for</span> <span data-start="322.13" data-end="323.6">each of these functions sort of</span> <span data-start="323.6" data-end="328.85">on gulf i guess and you know</span> <span data-start="328.85" data-end="329.9">you can see here we're just using a</span> <span data-start="329.9" data-end="331.25">regular expression which is fairly</span> <span data-start="331.25" data-end="335.78">common for for tokenizing in parsers and</span> <span data-start="335.78" data-end="338.419">then we we convert the numbers into</span> <span data-start="338.419" data-end="342.44">actual numbers the parser is just this</span> <span data-start="342.44" data-end="343.88">is sort of just a recursive function</span> <span data-start="343.88" data-end="345.65">that that looks at each token and</span> <span data-start="345.65" data-end="349.82">decides if it needs to you know add the</span> <span data-start="349.82" data-end="355.31">sub expression as another element or if</span> <span data-start="355.31" data-end="359.75">it's a literal detik and it can add so</span> <span data-start="359.75" data-end="362.24">that outputs the AST and this is just a</span> <span data-start="362.24" data-end="366.199">very simple interpreter it gets the the</span> <span data-start="366.199" data-end="370.22">function as the first first element of</span> <span data-start="370.22" data-end="372.83">the current node and the arguments are</span> <span data-start="372.83" data-end="375.77">the rest and it applies those arguments</span> <span data-start="375.77" data-end="379.669">to that function or if it's a number</span> <span data-start="379.669" data-end="382.37">then it just returns the number and this</span> <span data-start="382.37" data-end="385.039">last part here is is basically looking</span> <span data-start="385.039" data-end="387.32">up the function implementation in an</span> <span data-start="387.32" data-end="390.08">environment which you know just contain</span> <span data-start="390.08" data-end="392.99">sort of the built-in functions for for</span> <span data-start="392.99" data-end="397.37">this interpreter and here's the code</span> <span data-start="397.37" data-end="399.53">generator basically just you know</span> <span data-start="399.53" data-end="403.94">outputs string with the the operator in</span> <span data-start="403.94" data-end="410.14">between each value of the oven owed</span> <span data-start="410.15" data-end="415.67">so yeah this is I think pretty relevant</span> <span data-start="415.67" data-end="417.98">a lot of you know people think of</span> <span data-start="417.98" data-end="421.79">compilers as just you know desktop</span> <span data-start="421.79" data-end="426.29">software server Java kind of thing but</span> <span data-start="426.29" data-end="428.03">they're really useful for all kinds of</span> <span data-start="428.03" data-end="431.99">things so here's a here's a funeral</span> <span data-start="431.99" data-end="434.56">thing so optimizers you know minna fires</span> <span data-start="434.56" data-end="437.21">more advanced tools like closure</span> <span data-start="437.21" data-end="441.41">compiler do more aggressive</span> <span data-start="441.41" data-end="445.64">optimizations like in lining and unused</span> <span data-start="445.64" data-end="448.67">code removal that kind of thing linters</span> <span data-start="448.67" data-end="450.83">will tell you sort of common errors that</span> <span data-start="450.83" data-end="456.44">in your in your syntax we can have you</span> <span data-start="456.44" data-end="457.97">no alternative languages like objective</span> <span data-start="457.97" data-end="461.15">j or language extensions i'll select</span> <span data-start="461.15" data-end="464.51">object Jake concurrency and security or</span> <span data-start="464.51" data-end="466.49">to other applications of compilers we'll</span> <span data-start="466.49" data-end="469.22">talk about in a moment so yeah closure</span> <span data-start="469.22" data-end="472.28">compiler uglify is another fairly</span> <span data-start="472.28" data-end="476.63">advanced optimizer in in parentheses it</span> <span data-start="476.63" data-end="479.06">shows you what's what language is</span> <span data-start="479.06" data-end="480.98">actually implemented in so closure</span> <span data-start="480.98" data-end="483.83">tyler's java Uggla thighs javascript and</span> <span data-start="483.83" data-end="486.17">common lisp shrink safe and yui</span> <span data-start="486.17" data-end="489.26">compressor I think use basically the</span> <span data-start="489.26" data-end="491.93">same parser and then there's a couple</span> <span data-start="491.93" data-end="496.79">others less popular ones winters there's</span> </p>
<p><span data-start="496.79" data-end="498.77">Jesslyn that's the popular one by</span> <span data-start="498.77" data-end="503.48">crockford j/s hint is a port or a fork</span> <span data-start="503.48" data-end="508.01">of JSON with some different different</span> <span data-start="508.01" data-end="511.04">rules javascript lane closure actually</span> <span data-start="511.04" data-end="513.77">has a winter and you can get linters for</span> <span data-start="513.77" data-end="515.53">lots of different things CSS HTML</span> <span data-start="515.53" data-end="518.99">there's even jQuery not really sure what</span> <span data-start="518.99" data-end="522.089">that does but</span> <span data-start="522.099" data-end="525.009">so alternative languages coffeescript is</span> <span data-start="525.009" data-end="526.089">probably the one most people are</span> <span data-start="526.089" data-end="530.44">familiar with you know Java scripts</span> <span data-start="530.44" data-end="532.69">great we all love JavaScript but you</span> <span data-start="532.69" data-end="535.329">know it has its problems and you know</span> <span data-start="535.329" data-end="537.089">some people prefer other languages</span> <span data-start="537.089" data-end="539.11">there's a lot of different options out</span> <span data-start="539.11" data-end="540.85">there like pretty much any popular</span> <span data-start="540.85" data-end="542.079">programming language has been</span> <span data-start="542.079" data-end="544.06">implemented in JavaScript at least once</span> <span data-start="544.06" data-end="548.29">like sometimes several times yeah</span> <span data-start="548.29" data-end="553.56">there's here's just a few okay so</span> <span data-start="553.56" data-end="555.88">extensions to the language or an</span> <span data-start="555.88" data-end="560.1">interesting example so tracer and</span> <span data-start="560.1" data-end="562.68">narcissus of tracers from google</span> <span data-start="562.68" data-end="566.44">narcissus is the javascript it's</span> <span data-start="566.44" data-end="568.63">actually both an interpreter and just a</span> <span data-start="568.63" data-end="572.94">parser is implemented by Brendan and</span> <span data-start="572.94" data-end="575.05">both these are being used to serve</span> <span data-start="575.05" data-end="577.029">prototype new language features so you</span> <span data-start="577.029" data-end="579.839">can try them out in current browsers and</span> <span data-start="579.839" data-end="582.399">provide new backwards compatibility for</span> <span data-start="582.399" data-end="583.959">for older browsers that don't implement</span> <span data-start="583.959" data-end="588.16">language features natively so and then</span> <span data-start="588.16" data-end="594.43">objector J so objector J the first</span> <span data-start="594.43" data-end="597.819">version of objective J was a custom bar</span> <span data-start="597.819" data-end="600.579">sir just hand rolled we really did that</span> <span data-start="600.579" data-end="603.55">for for performance reasons so initially</span> <span data-start="603.55" data-end="607.569">we wanted users to be able to just load</span> <span data-start="607.569" data-end="608.98">up their application and have the</span> </p>
<p><span data-start="608.98" data-end="610.87">JavaScript or the objective J compile to</span> <span data-start="610.87" data-end="613.75">JavaScript on the fly without you know</span> <span data-start="613.75" data-end="616.72">really noticing any slowdown or anything</span> <span data-start="616.72" data-end="619.18">but you know it became clear that even</span> <span data-start="619.18" data-end="622.509">with a very fast parser it's not</span> <span data-start="622.509" data-end="624.85">negligible amount of time so we've sort</span> <span data-start="624.85" data-end="628.38">of moved to deploying with precompiled</span> <span data-start="628.38" data-end="631.899">objected shade to javascript so it's</span> <span data-start="631.899" data-end="636.55">less important now that speed and I'll</span> <span data-start="636.55" data-end="638.079">talk a little bit about language jas</span> <span data-start="638.079" data-end="641.38">which is a new parser generator that</span> <span data-start="641.38" data-end="644.47">that we've been working on for building</span> <span data-start="644.47" data-end="648.44">the new objective J compiler</span> <span data-start="648.44" data-end="652.43">here if you the things that tracer in</span> <span data-start="652.43" data-end="655.19">particular implements the new language</span> <span data-start="655.19" data-end="657.14">features you know if you saw Brendan's</span> <span data-start="657.14" data-end="659.57">talk yesterday a lot of these things are</span> <span data-start="659.57" data-end="663.68">you know proposed in es6 so you know you</span> <span data-start="663.68" data-end="666.14">won't need to wait until every browser</span> <span data-start="666.14" data-end="668.54">implements these start using them if you</span> <span data-start="668.54" data-end="671.78">were to use something like tracer to add</span> <span data-start="671.78" data-end="674.78">sort of compatibility layer 44 older</span> <span data-start="674.78" data-end="676.73">browsers not gonna go through each one</span> <span data-start="676.73" data-end="681.08">but there's a lot of them concurrency is</span> <span data-start="681.08" data-end="684.1">an interesting application of compilers</span> <span data-start="684.1" data-end="688.52">so if you're you know at all familiar</span> <span data-start="688.52" data-end="691.22">with node or you know any any sort of</span> <span data-start="691.22" data-end="692.87">asynchronous callback oriented</span> <span data-start="692.87" data-end="695.96">programming you're probably familiar</span> <span data-start="695.96" data-end="698.99">with the the problem of you know all</span> <span data-start="698.99" data-end="701.6">these callbacks scattered all over the</span> <span data-start="701.6" data-end="704.45">place and nested and everything so</span> <span data-start="704.45" data-end="705.83">there's a lot of solutions out there</span> <span data-start="705.83" data-end="707.87">that will actually let you write your</span> <span data-start="707.87" data-end="712.04">code as if it were synchronous and it</span> <span data-start="712.04" data-end="715.1">will transform it so that it's it uses</span> <span data-start="715.1" data-end="717.47">those callbacks internally but you don't</span> <span data-start="717.47" data-end="719.84">actually have to deal with all the</span> <span data-start="719.84" data-end="722.15">callbacks it's there's a few different</span> <span data-start="722.15" data-end="725.81">projects out there they'll work a little</span> <span data-start="725.81" data-end="729.15">bit differently but</span> <span data-start="729.16" data-end="732.2">security is the last serve a Legation</span> </p>
<p><span data-start="732.2" data-end="735.2">I'll talk about so there's this common</span> <span data-start="735.2" data-end="736.67">problem where you have you know widget</span> <span data-start="736.67" data-end="737.959">that you want to embed in your web page</span> <span data-start="737.959" data-end="739.79">but you don't want that widget to access</span> <span data-start="739.79" data-end="741.89">all of your data steal your cookies or</span> <span data-start="741.89" data-end="746.68">your private data so there's these these</span> <span data-start="746.68" data-end="749">tools that will verify that the</span> <span data-start="749" data-end="751">JavaScript provided by the widget is</span> <span data-start="751" data-end="753.92">safe to execute or it will actually</span> <span data-start="753.92" data-end="756.32">transform it to something that's safe</span> <span data-start="756.32" data-end="759.709">and you know there's usually a pretty</span> <span data-start="759.709" data-end="761.899">big performance penalty by doing this is</span> <span data-start="761.899" data-end="764.019">the Aptus or intercept pretty much every</span> <span data-start="764.019" data-end="766.579">every property access and that sort of</span> <span data-start="766.579" data-end="771.16">thing so yes five I think is sort of</span> <span data-start="771.16" data-end="774.89">strict mode in es5 s or designs to make</span> <span data-start="774.89" data-end="777.29">a little bit easier for these kind of</span> <span data-start="777.29" data-end="782.42">tools to work so there's a huge list of</span> <span data-start="782.42" data-end="784.19">all these different types of compilers</span> <span data-start="784.19" data-end="788.12">at ljs org this is sort of a new</span> <span data-start="788.12" data-end="791.06">movement of people interested in in</span> <span data-start="791.06" data-end="793.91">alternative compilers and languages on</span> <span data-start="793.91" data-end="796.91">top of JavaScript so courage encourage</span> <span data-start="796.91" data-end="799.279">you to check that out it's like a huge</span> <span data-start="799.279" data-end="801.529">list like hundreds of 10 hundreds but</span> <span data-start="801.529" data-end="806.92">maybe 100 different projects so yeah</span> <span data-start="806.92" data-end="809.12">that's those are the existing things</span> <span data-start="809.12" data-end="812.48">that are already out there but there's</span> <span data-start="812.48" data-end="814.67">things that you know other people</span> <span data-start="814.67" data-end="815.959">haven't even imagined yet that you could</span> <span data-start="815.959" data-end="819.649">build and so there's a lot of different</span> <span data-start="819.649" data-end="822.11">tools out there you know there's</span> <span data-start="822.11" data-end="825.649">existing parsers narcissus I mentioned</span> <span data-start="825.649" data-end="830.81">earlier it's written by Brandon tracer</span> <span data-start="830.81" data-end="834.41">another that's the google one also</span> <span data-start="834.41" data-end="837.38">implemented in JavaScript Rhino has a</span> <span data-start="837.38" data-end="840.11">parser you can you can programmatically</span> <span data-start="840.11" data-end="844.25">access from Java j/s parse and jazz par</span> <span data-start="844.25" data-end="848.06">cas which are used in uglify and a few</span> <span data-start="848.06" data-end="850.81">different projects and the json parser</span> <span data-start="850.81" data-end="853.19">i'm sure i'm missing something that is</span> <span data-start="853.19" data-end="855.91">fuel</span> <span data-start="855.92" data-end="857.839">and you know if you don't to use one of</span> <span data-start="857.839" data-end="859.61">those or if you want to build a language</span> <span data-start="859.61" data-end="863.6">it's not JavaScript or parts r for</span> <span data-start="863.6" data-end="865.25">language it's not JavaScript you can use</span> <span data-start="865.25" data-end="868.25">a parser generator which basically takes</span> <span data-start="868.25" data-end="870.32">in a language definition in the form of</span> <span data-start="870.32" data-end="875.18">a grammar that defines you know how the</span> <span data-start="875.18" data-end="879.05">language is structured basically and you</span> <span data-start="879.05" data-end="880.91">know you input this this language into</span> <span data-start="880.91" data-end="882.68">the parser generator and outputs a</span> <span data-start="882.68" data-end="886.22">parser be either in JavaScript or you</span> <span data-start="886.22" data-end="889.279">know one of many languages typically</span> <span data-start="889.279" data-end="891.31">easier than hand rolling your own parser</span> <span data-start="891.31" data-end="894.11">sometimes it's slower so that's one</span> <span data-start="894.11" data-end="896.06">trade-off or larger a lot of times the</span> <span data-start="896.06" data-end="897.829">code that generates is is very large</span> <span data-start="897.829" data-end="899.81">which can be a problem if you're trying</span> <span data-start="899.81" data-end="905.99">to execute a client side here sort of</span> <span data-start="905.99" data-end="911.149">the the main popular ones JSON the</span> <span data-start="911.149" data-end="913.19">second column is the language of the</span> <span data-start="913.19" data-end="914.72">parser generator itself is implemented</span> <span data-start="914.72" data-end="916.79">in all of these parser generators it</span> <span data-start="916.79" data-end="920">will output JavaScript parsers but you</span> <span data-start="920" data-end="921.709">know sometimes you need to use Java or</span> <span data-start="921.709" data-end="924.23">yeah I guess that's just antler which is</span> <span data-start="924.23" data-end="927.26">a java program that outputs a JavaScript</span> <span data-start="927.26" data-end="931.04">parser then this notes column just</span> <span data-start="931.04" data-end="934.19">mentions a few sore what type of parser</span> <span data-start="934.19" data-end="937.55">generator is so there's sort of two main</span> <span data-start="937.55" data-end="940.39">different types of parsers there's</span> <span data-start="940.39" data-end="943.579">context-free grammars which is what the</span> <span data-start="943.579" data-end="947.72">lalr 1 s and ll ones are and then</span> <span data-start="947.72" data-end="949.839">there's peg which is sort of a a</span> <span data-start="949.839" data-end="953.66">different type of parser the main</span> <span data-start="953.66" data-end="957.86">difference between the two is CFG s the</span> <span data-start="957.86" data-end="960.62">context-free grammars can actually have</span> <span data-start="960.62" data-end="964.25">sort of ambiguous they're the definition</span> <span data-start="964.25" data-end="969.709">of the grammar is ambiguous whereas pegs</span> <span data-start="969.709" data-end="975.41">serve order the the rules they give each</span> <span data-start="975.41" data-end="977.389">rule sort of priority so it's it's</span> <span data-start="977.389" data-end="980">impossible to have sort of a you know an</span> <span data-start="980" data-end="986.11">ambiguity in the language</span> <span data-start="986.12" data-end="989.66">alright so here are a few other things</span> <span data-start="989.66" data-end="992.72">that are possible with with parsers so</span> <span data-start="992.72" data-end="995.589">you can instrument JavaScript which is</span> <span data-start="995.589" data-end="998.81">not commonly done I don't think but you</span> <span data-start="998.81" data-end="1000.9">know you can do interesting things like</span> <span data-start="1000.9" data-end="1004.8">record stack traces more accurately than</span> <span data-start="1004.8" data-end="1007.839">the browser will give you so most you</span> <span data-start="1007.839" data-end="1009.37">know a lot of browsers won't give you</span> <span data-start="1009.37" data-end="1011.65">good stack traces but you can actually</span> <span data-start="1011.65" data-end="1013.839">add a line of code at the beginning of</span> <span data-start="1013.839" data-end="1016.27">each function to record the stack and</span> <span data-start="1016.27" data-end="1019.12">then you know pop that off at the end of</span> <span data-start="1019.12" data-end="1022.779">the function and you know you'll have an</span> <span data-start="1022.779" data-end="1024.37">accurate stack trace at any point in</span> <span data-start="1024.37" data-end="1027.15">your program you can catch exceptions</span> <span data-start="1027.15" data-end="1030.25">cross-browser completely the same in</span> <span data-start="1030.25" data-end="1032.17">every browser and there's this company</span> <span data-start="1032.17" data-end="1034.15">called proxy no it's actually doing that</span> <span data-start="1034.15" data-end="1038.77">they give you a proxy that you load your</span> </p>
<p><span data-start="1038.77" data-end="1039.819">JavaScript through and they</span> <span data-start="1039.819" data-end="1041.829">automatically do this for you and report</span> <span data-start="1041.829" data-end="1043.75">back errors and give you like a nice</span> <span data-start="1043.75" data-end="1046.87">dashboard and stuff it's pretty cool you</span> <span data-start="1046.87" data-end="1049.99">can do things like code coverage I saw</span> <span data-start="1049.99" data-end="1053.38">this project called heat wave though I</span> <span data-start="1053.38" data-end="1055.45">think was done it and one of the node</span> <span data-start="1055.45" data-end="1058.12">knockout things or something it's pretty</span> <span data-start="1058.12" data-end="1060.82">cool that sort of gives you a heat map</span> <span data-start="1060.82" data-end="1062.74">of your of your code like as it's</span> <span data-start="1062.74" data-end="1066.7">executing it does that by again putting</span> <span data-start="1066.7" data-end="1068.77">a function call it at each line of code</span> <span data-start="1068.77" data-end="1073.179">and recording when that that line is</span> <span data-start="1073.179" data-end="1076.48">executed you do things like runtime type</span> <span data-start="1076.48" data-end="1081.04">checking if you you know were to declare</span> <span data-start="1081.04" data-end="1083.32">all of your types in some sort of you</span> <span data-start="1083.32" data-end="1084.7">know readable format either in like a</span> <span data-start="1084.7" data-end="1086.559">comment or something you could read that</span> <span data-start="1086.559" data-end="1088.44">in and generate code that actually</span> <span data-start="1088.44" data-end="1090.79">checks that those arguments are the</span> <span data-start="1090.79" data-end="1095.38">correct type and debugging which is last</span> <span data-start="1095.38" data-end="1101.29">thing I'm talking about and so I sort of</span> <span data-start="1101.29" data-end="1103.21">started working on a code coverage tool</span> <span data-start="1103.21" data-end="1106.929">while ago and you know is instrumenting</span> <span data-start="1106.929" data-end="1109.09">my code to record which lines were</span> <span data-start="1109.09" data-end="1113.25">called you can get like sort of a a</span> <span data-start="1113.25" data-end="1115.63">report of you know your test coverage</span> <span data-start="1115.63" data-end="1117.46">basically you know show like what</span> <span data-start="1117.46" data-end="1118.21">percentage of each</span> <span data-start="1118.21" data-end="1121.45">file is covered by your tests and that</span> <span data-start="1121.45" data-end="1124.15">was cool but I realize you know if you</span> <span data-start="1124.15" data-end="1126.25">could actually you know block the</span> <span data-start="1126.25" data-end="1128.62">execution in each of these statements</span> <span data-start="1128.62" data-end="1130.69">you could sort of do a a debugger a</span> <span data-start="1130.69" data-end="1133">thing where you step through each line</span> <span data-start="1133" data-end="1137.83">that kind of thing so I've created this</span> <span data-start="1137.83" data-end="1140.98">project called Z bug it's basically an</span> <span data-start="1140.98" data-end="1143.14">instrumenting JavaScript debugger that's</span> <span data-start="1143.14" data-end="1144.88">written in JavaScript so it's it's</span> <span data-start="1144.88" data-end="1148.95">entirely JavaScript it works in any</span> </p>
<p><span data-start="1148.95" data-end="1152.68">JavaScript interpreter the one thing it</span> <span data-start="1152.68" data-end="1155.44">does need is asynchronous API to block</span> <span data-start="1155.44" data-end="1157.54">execution so in the browser that</span> <span data-start="1157.54" data-end="1159.93">basically means either prompt or</span> <span data-start="1159.93" data-end="1164.4">synchronous XL HP mer HTTP request and</span> <span data-start="1164.4" data-end="1166.93">we all know those are evil but for this</span> <span data-start="1166.93" data-end="1170.13">purpose it works pretty well actually so</span> <span data-start="1170.13" data-end="1172.9">and it works everywhere so like you know</span> <span data-start="1172.9" data-end="1175.83">you could run this you know in rhino or</span> <span data-start="1175.83" data-end="1178.24">you know Photoshop has a JavaScript</span> <span data-start="1178.24" data-end="1181.18">interpreter you use it there pretty much</span> <span data-start="1181.18" data-end="1184.48">anywhere and so it implements the VA</span> <span data-start="1184.48" data-end="1186.22">debugger API so rather than you know</span> <span data-start="1186.22" data-end="1189.64">building my own you I can actually just</span> <span data-start="1189.64" data-end="1191.92">integrate with any of the debuggers that</span> <span data-start="1191.92" data-end="1194.26">support that v8 API and there's quite a</span> <span data-start="1194.26" data-end="1198.25">few actually so the WebKit inspector is</span> <span data-start="1198.25" data-end="1201.4">one Eclipse has one I think there's a</span> <span data-start="1201.4" data-end="1206.35">few others cloud 9i think so i'm gonna</span> <span data-start="1206.35" data-end="1209.38">show that to you real quick how am i</span> <span data-start="1209.38" data-end="1218.58">doing on time</span> <span data-start="1218.59" data-end="1222.73">so if you have a computer you can play</span> <span data-start="1222.73" data-end="1227.44">along</span> <span data-start="1227.45" data-end="1244.71">oops</span> <span data-start="1244.72" data-end="1250.299">okay so if you have this IP address</span> <span data-start="1250.299" data-end="1253.059">there we go someone just popped up</span> <span data-start="1253.059" data-end="1255.38">someone else just show me your IP</span> <span data-start="1255.38" data-end="1259.52">address in your user agent so i can</span> <span data-start="1259.52" data-end="1267.69">actually you know go to one of these</span> <span data-start="1267.7" data-end="1270.07">oops yeah so it turns red when somebody</span> <span data-start="1270.07" data-end="1278.46">is connected so is that not working</span> <span data-start="1278.47" data-end="1282.99">okay well</span> <span data-start="1283" data-end="1295.83">let me try it myself</span> <span data-start="1295.84" data-end="1297.9">okay so it's working for me at least</span> <span data-start="1297.9" data-end="1300.549">this is you know the code that's running</span> <span data-start="1300.549" data-end="1302.71">on here it's just printing out a bunch</span> <span data-start="1302.71" data-end="1306.07">of stuff like every few seconds so I</span> <span data-start="1306.07" data-end="1307.57">could actually add a breakpoint in here</span> <span data-start="1307.57" data-end="1312.07">anywhere and next time it times out it</span> <span data-start="1312.07" data-end="1325.799">should open up it should break maybe not</span> <span data-start="1325.809" data-end="1333.1">okay um OOP that's not good I'm gonna</span> <span data-start="1333.1" data-end="1335.57">just disconnect you guys cuz that's</span> <span data-start="1335.57" data-end="1347.83">probably not working well</span> <span data-start="1347.84" data-end="1363.11">okay let's try the skin okay so</span> <span data-start="1363.12" data-end="1370.5">yeah perils of live demos I don't like</span> <span data-start="1370.5" data-end="1406.14">those me hmm ok try one more time</span> <span data-start="1406.15" data-end="1410.38">okay there it goes so you can see it's</span> <span data-start="1410.38" data-end="1412.03">selected that line and if i go over</span> <span data-start="1412.03" data-end="1413.56">safari it's you know completely</span> <span data-start="1413.56" data-end="1417.82">unresponsive so that's one problem with</span> <span data-start="1417.82" data-end="1421.15">this is it actually does completely lock</span> <span data-start="1421.15" data-end="1422.95">up your browser so you know if you're</span> <span data-start="1422.95" data-end="1425.47">using chrome that's fine because you</span> <span data-start="1425.47" data-end="1426.67">know each window has a different process</span> <span data-start="1426.67" data-end="1428.08">and it's not going to block your</span> <span data-start="1428.08" data-end="1430.72">debugger process but if you were to try</span> <span data-start="1430.72" data-end="1435.01">to debug safari in safari they'll just</span> <span data-start="1435.01" data-end="1437.29">you know sort of block up the entire UI</span> <span data-start="1437.29" data-end="1439.89">you won't be able to do anything so i</span> <span data-start="1439.89" data-end="1445.12">can actually you know step through the</span> <span data-start="1445.12" data-end="1446.47">line numbers on the server off a little</span> <span data-start="1446.47" data-end="1448.41">bit right now but you can kind of see it</span> <span data-start="1448.41" data-end="1450.46">you know basically stepping through all</span> <span data-start="1450.46" data-end="1454.12">these you can disable enable breakpoints</span> <span data-start="1454.12" data-end="1457.54">evaluate code so i should be able to</span> <span data-start="1457.54" data-end="1460.78">actually get that string yeah so you can</span> <span data-start="1460.78" data-end="1463.63">you know evaluate in the actual context</span> <span data-start="1463.63" data-end="1465.1">of the function that you're the</span> <span data-start="1465.1" data-end="1468.7">breakpoint is on that kind of thing so</span> <span data-start="1468.7" data-end="1471.28">it's still working progress it's a</span> <span data-start="1471.28" data-end="1472.9">little bit buggy and there's still some</span> <span data-start="1472.9" data-end="1475.21">stuff that's not implemented but it's</span> <span data-start="1475.21" data-end="1478.39">getting there and let me release this</span> <span data-start="1478.39" data-end="1480.4">there's a really old version on that</span> <span data-start="1480.4" data-end="1483.49">when my github right now but that uses</span> <span data-start="1483.49" data-end="1486.16">the prompt statements do that to do the</span> <span data-start="1486.16" data-end="1487.63">blogging so it doesn't have a nice</span> <span data-start="1487.63" data-end="1492.4">interface so i'll be releasing this in a</span> <span data-start="1492.4" data-end="1506.66">few weeks hopefully</span> <span data-start="1506.67" data-end="1509.92">so that's pretty much it um I'll take</span> <span data-start="1509.92" data-end="1512.8">questions i think if i have time am i</span> <span data-start="1512.8" data-end="1528.31">doing on time hmm ok any questions yeah</span> <span data-start="1528.31" data-end="1532.13">yeah</span> <span data-start="1532.14" data-end="1536.13">ah yeah I probably wouldn't have created</span> <span data-start="1536.13" data-end="1542.07">my own language but I mean I it's just a</span> <span data-start="1542.07" data-end="1545.49">lot of a lot to ask of people to adopt</span> <span data-start="1545.49" data-end="1548.7">entire language and a framework and is</span> <span data-start="1548.7" data-end="1551.54">great for you know the people who were</span> <span data-start="1551.54" data-end="1555.03">interested in the cocoa like environment</span> <span data-start="1555.03" data-end="1558.39">that objected j & objector cappuccino</span> <span data-start="1558.39" data-end="1561.24">offers but yeah and there's a lot of</span> <span data-start="1561.24" data-end="1563.73">people using it for you know great stuff</span> <span data-start="1563.73" data-end="1567.12">it's just yes it's harder it's a lot to</span> <span data-start="1567.12" data-end="1570.71">ask of people and but I'm a big fan of</span> <span data-start="1570.71" data-end="1576.27">you know the things like tracer and the</span> <span data-start="1576.27" data-end="1578.43">narcissist stuff we're through adding</span> <span data-start="1578.43" data-end="1579.96">these these new language features that</span> <span data-start="1579.96" data-end="1583.34">are you know sort of driven by Beckman</span> <span data-start="1583.34" data-end="1585.72">those kinds of things and we'll be able</span> <span data-start="1585.72" data-end="1587.1">to use them a lot sooner than if we had</span> <span data-start="1587.1" data-end="1589.08">to wait for every single browser to</span> <span data-start="1589.08" data-end="1590.67">implement them and every single used her</span> <span data-start="1590.67" data-end="1595.71">to start adopting them so yeah I still</span> <span data-start="1595.71" data-end="1597.06">encourage you to you know build your own</span> <span data-start="1597.06" data-end="1598.65">languages and play with it at least and</span> <span data-start="1598.65" data-end="1600.09">you know things like CoffeeScript are</span> <span data-start="1600.09" data-end="1603.27">great so yeah it's not you know it works</span> <span data-start="1603.27" data-end="1605.64">great with you know existing JavaScript</span> <span data-start="1605.64" data-end="1613.2">libraries so</span> <span data-start="1613.21" data-end="1617.33">yeah I haven't done a lot of stuff with</span> <span data-start="1617.33" data-end="1630.35">the generators but like so I think</span> <span data-start="1630.35" data-end="1635.35">there's one for JSON think one of these</span> <span data-start="1635.35" data-end="1639.11">let's see which one would tame j/s uses</span> <span data-start="1639.11" data-end="1644.72">a javascript grammar I don't I haven't</span> <span data-start="1644.72" data-end="1646.129">really evaluated it but there's one</span> <span data-start="1646.129" data-end="1648.169">there's definitely one for for that and</span> <span data-start="1648.169" data-end="1650.809">there's one for language jayus which we</span> <span data-start="1650.809" data-end="1653.629">use as the foundation of the objective</span> <span data-start="1653.629" data-end="1655.279">jayonce in subjection j is a superset of</span> <span data-start="1655.279" data-end="1658.07">of JavaScript we basically just add a</span> <span data-start="1658.07" data-end="1661.94">few a few new rules to the JavaScript</span> <span data-start="1661.94" data-end="1666.2">one and there's one for antler I tried</span> <span data-start="1666.2" data-end="1668.33">to get that to work once never never got</span> <span data-start="1668.33" data-end="1687.74">that working but yeah</span> <span data-start="1687.75" data-end="1690.279">at one point it is taking like 45</span> <span data-start="1690.279" data-end="1693.22">seconds but we're compiling the entire</span> <span data-start="1693.22" data-end="1695.95">framework which is fairly fairly large</span> <span data-start="1695.95" data-end="1707.59">it's like a megabyte of JavaScript so</span> <span data-start="1707.6" data-end="1722.62">sorry how much oh yeah was sorry what</span> <span data-start="1722.63" data-end="1726.33">yeah I mean that's and it depends on on</span> <span data-start="1726.33" data-end="1727.65">your type of application like free</span> <span data-start="1727.65" data-end="1730.2">google com no but you're not going to</span> <span data-start="1730.2" data-end="1731.37">need that much javascript for google.com</span> <span data-start="1731.37" data-end="1736.11">but if it's like you know our flagship</span> <span data-start="1736.11" data-end="1737.19">application that we built with</span> <span data-start="1737.19" data-end="1740.52">cappuccinos 280 slides and you know it</span> <span data-start="1740.52" data-end="1742.41">loads in three seconds something like</span> <span data-start="1742.41" data-end="1743.929">that which is faster than like</span> </p>
<p><span data-start="1743.929" data-end="1746.37">PowerPoint opens on your desktop so I</span> <span data-start="1746.37" data-end="1748.38">think that's for those types of</span> <span data-start="1748.38" data-end="1750.15">applications it's perfectly acceptable</span> <span data-start="1750.15" data-end="1753.27">so and you could do interesting things</span> <span data-start="1753.27" data-end="1756.29">like you know if the user has already</span> <span data-start="1756.29" data-end="1758.25">loaded the page once you could actually</span> <span data-start="1758.25" data-end="1761.33">cash the results of the compilation in</span> <span data-start="1761.33" data-end="1764.1">local storage or something like that be</span> <span data-start="1764.1" data-end="1775.58">interesting</span> <span data-start="1775.59" data-end="1780.45">oh yeah yeah that's I haven't done that</span> <span data-start="1780.45" data-end="1784.679">yet but yeah you can definitely use this</span> <span data-start="1784.679" data-end="1787.62">as a sort of native debugger for other</span> <span data-start="1787.62" data-end="1790.2">languages basically instead of sending</span> <span data-start="1790.2" data-end="1794.97">it the raw compiled JavaScript code you</span> <span data-start="1794.97" data-end="1798">would send it the original the original</span> <span data-start="1798" data-end="1800.49">source code for your your language like</span> <span data-start="1800.49" data-end="1802.02">coffee scripter objector J or whatever</span> <span data-start="1802.02" data-end="1808.409">and there's this new proposal for a map</span> <span data-start="1808.409" data-end="1814.74">mapping of I think you map the original</span> <span data-start="1814.74" data-end="1816.69">source code to the the compiled source</span> <span data-start="1816.69" data-end="1819.299">code lines so the debugger can actually</span> <span data-start="1819.299" data-end="1822.77">show the correct the correct code and</span> <span data-start="1822.77" data-end="1830.12">this could certainly support that</span> <span data-start="1830.13" data-end="1838.92">oh yeah now I forgot to mention so this</span> <span data-start="1838.92" data-end="1842.61">is using node inspector which is you</span> <span data-start="1842.61" data-end="1844.68">know web inspector for node basically</span> <span data-start="1844.68" data-end="1846">it's I I mean actually would work for</span> <span data-start="1846" data-end="1849.75">any anything that supports the the v8</span> </p>
<p><span data-start="1849.75" data-end="1854.73">JSON API be a debugger API so you know</span> <span data-start="1854.73" data-end="1856.23">you could also use the the Eclipse</span> <span data-start="1856.23" data-end="1861.83">debugger whatever</span> </p>
</section>