<section>
<p><span data-start="37.51" data-end="42.17">hi so yeah I going to give a talk</span> <span data-start="42.17" data-end="45.14">entitled playing DVD in JavaScript for</span> <span data-start="45.14" data-end="48.5">the sake of interoperability so just a</span> <span data-start="48.5" data-end="50.539">word by myself so my name is Guillaume</span> <span data-start="50.539" data-end="52.969">i'm i'm french but i'm living in in</span> <span data-start="52.969" data-end="56.929">london i'm working at mozilla on firefox</span> </p>
<p><span data-start="56.929" data-end="58.489">OS but actually this talk is about</span> <span data-start="58.489" data-end="60.41">personal project is not related in any</span> <span data-start="60.41" data-end="64.699">way to my work at mozilla so let's I</span> <span data-start="64.699" data-end="66.59">going to tell you a little bit a little</span> <span data-start="66.59" data-end="70.79">bit more about myself so I really love</span> <span data-start="70.79" data-end="73.189">dvds i have some dvds so this is a</span> <span data-start="73.189" data-end="75.95">picture of the main my collection so</span> <span data-start="75.95" data-end="77.93">most of it is made of Japanese animation</span> <span data-start="77.93" data-end="83.899">and and also I i use google play music</span> <span data-start="83.899" data-end="88.009">and I've noticed that since i started</span> <span data-start="88.009" data-end="90.229">using will play music that is to encode</span> <span data-start="90.229" data-end="95.509">my CDs and and and and oppose them to to</span> <span data-start="95.509" data-end="98.899">play music I've noticed that I listening</span> <span data-start="98.899" data-end="100.67">to my cities more often that I used to</span> <span data-start="100.67" data-end="106.159">when they were just the CDs so and and</span> <span data-start="106.159" data-end="109.61">and also i love javascript so VI d was</span> <span data-start="109.61" data-end="112.07">using javascript I going to combine my</span> <span data-start="112.07" data-end="114.829">passion for DVDs to make something but</span> <span data-start="114.829" data-end="116.99">sees very similar to google play music</span> <span data-start="116.99" data-end="120.53">but but would that would use dvds</span> <span data-start="120.53" data-end="122.869">instead of off CD so what I want is</span> <span data-start="122.869" data-end="124.49">basically I want to service but will</span> <span data-start="124.49" data-end="127.7">that would stream my DVDs from the cloud</span> <span data-start="127.7" data-end="131.79">down to my mobile and eventually and</span> <span data-start="131.79" data-end="135.239">and hopefully done to my yet don't my</span> <span data-start="135.239" data-end="138.359">mobile so so what I can enjoy my DVDs</span> <span data-start="138.359" data-end="142.409">when I'm undergo so but why would I do</span> <span data-start="142.409" data-end="144.84">that because obviously there are</span> <span data-start="144.84" data-end="147.42">services like Netflix but the main</span> <span data-start="147.42" data-end="149.34">problem is I don't want to use metric</span> <span data-start="149.34" data-end="151.079">because we offer is too mainstream for</span> <span data-start="151.079" data-end="153.109">me and I have nothing very interesting</span> <span data-start="153.109" data-end="156.959">for me there and in this case why don't</span> <span data-start="156.959" data-end="158.73">you just rip the video and put it</span> <span data-start="158.73" data-end="161.76">somewhere and the problem is dvds is</span> <span data-start="161.76" data-end="165.78">more than than just video dvds us a kind</span> <span data-start="165.78" data-end="168.659">of multiple video and audio tracks you</span> <span data-start="168.659" data-end="170.939">can have menu and interactivity you can</span> <span data-start="170.939" data-end="174.599">build games and karaoke and quizzes so</span> <span data-start="174.599" data-end="176.73">what I want is I want this all</span> <span data-start="176.73" data-end="179.25">experience my brother so not just the</span> <span data-start="179.25" data-end="183.319">video so this talk is about how i</span> <span data-start="183.319" data-end="186.329">implemented this in JavaScript and and</span> <span data-start="186.329" data-end="192.54">also what type of issue I I faced during</span> <span data-start="192.54" data-end="196.889">this implementation so first of all I'm</span> <span data-start="196.889" data-end="199.409">going to just give you another view of</span> <span data-start="199.409" data-end="203.459">the DVD so yeah as you know now before</span> <span data-start="203.459" data-end="206.43">on DVDs 10 for versatile not video so</span> <span data-start="206.43" data-end="210.629">the DVD is it just a format and the DVD</span> <span data-start="210.629" data-end="212.669">video is a specific application that</span> <span data-start="212.669" data-end="216.389">uses that format so and during this talk</span> <span data-start="216.389" data-end="219.03">when I when I when I say dvds i will be</span> <span data-start="219.03" data-end="223.229">obviously referring to a DVD video so</span> <span data-start="223.229" data-end="227.489">the specs so the problem has a problem</span> <span data-start="227.489" data-end="230.879">with respects of a DVD so it's a</span> <span data-start="230.879" data-end="232.049">document you have to pay a huge amount</span> <span data-start="232.049" data-end="234.87">of money to to have access to and also</span> <span data-start="234.87" data-end="237.479">you have to sign an NDA so if i add that</span> <span data-start="237.479" data-end="240.449">look if i add a look at the official</span> <span data-start="240.449" data-end="242.37">specs I wouldn't be able to give that</span> <span data-start="242.37" data-end="243.689">talk because I would have signed this</span> </p>
<p><span data-start="243.689" data-end="246.18">NDA and wouldn't be able to talk about</span> <span data-start="246.18" data-end="249.419">it but fortunately respect has been</span> <span data-start="249.419" data-end="252.419">reverse-engineered from actual discs and</span> <span data-start="252.419" data-end="256">there are open source libraries but</span> <span data-start="256" data-end="262.87">and execute execute DVDs okay now so if</span> <span data-start="262.87" data-end="265.18">you if you open the DVD on your computer</span> <span data-start="265.18" data-end="267.07">you'll notice that there are two folders</span> <span data-start="267.07" data-end="269.77">one called audio underscore TS which is</span> <span data-start="269.77" data-end="271.39">optional and most of the time is is</span> <span data-start="271.39" data-end="273.73">empty and the other one is called video</span> </p>
<p><span data-start="273.73" data-end="277.54">TS and the one we're going to look</span> <span data-start="277.54" data-end="280.54">inside so if you open this this folder</span> <span data-start="280.54" data-end="282.37">you'll notice there are two different</span> <span data-start="282.37" data-end="285.49">types of file we are info files whose</span> <span data-start="285.49" data-end="289.39">extension is I for or bub that stands</span> <span data-start="289.39" data-end="292.93">for backup and we are verb files so we I</span> <span data-start="292.93" data-end="296.62">for files they contains over the logic</span> <span data-start="296.62" data-end="299.98">for the playback we contain the menu and</span> <span data-start="299.98" data-end="303.28">and the chapters all the languages</span> <span data-start="303.28" data-end="307.68">available and and and all that stuff</span> <span data-start="307.68" data-end="312.25">Reverb file vote files on the other hand</span> <span data-start="312.25" data-end="315.19">they contain the video and vo do they</span> <span data-start="315.19" data-end="318.22">also have subtitles and bedded into and</span> <span data-start="318.22" data-end="322.45">we also contain the menu and the</span> <span data-start="322.45" data-end="325.169">position of a button and all that stuff</span> <span data-start="325.169" data-end="329.919">and on on top of that there is a virtual</span> <span data-start="329.919" data-end="332.71">machine that takes care of all the</span> <span data-start="332.71" data-end="336.78">interactivity of a DVD so the vm is as</span> <span data-start="336.78" data-end="339.76">16 registered so it's very similar to</span> <span data-start="339.76" data-end="342.55">two variables you can set them get the</span> <span data-start="342.55" data-end="344.53">value you can compare different</span> <span data-start="344.53" data-end="348.34">registers it has 24 system parameter</span> <span data-start="348.34" data-end="350.919">register we are like built-in variable</span> <span data-start="350.919" data-end="352.72">that contain very specific information</span> <span data-start="352.72" data-end="354.94">about the language currently selected</span> <span data-start="354.94" data-end="359.979">the region of the DVD active button were</span> <span data-start="359.979" data-end="362.2">parental leave all and all that stuff</span> <span data-start="362.2" data-end="367.09">and it has 36 comments / commands allow</span> <span data-start="367.09" data-end="370.15">you to jump to a specific chapter or</span> <span data-start="370.15" data-end="372.55">select specific menu your menu or</span> <span data-start="372.55" data-end="375.37">compare different registers or set the</span> <span data-start="375.37" data-end="377.11">value of a register and it also as a</span> <span data-start="377.11" data-end="379.84">go-to and and and obviously I go to is</span> <span data-start="379.84" data-end="383.4">always a pain to implement in JavaScript</span> <span data-start="383.4" data-end="386.169">just going to show you an example of a</span> <span data-start="386.169" data-end="389.08">command so comment is actually made of</span> <span data-start="389.08" data-end="393.189">of eight bytes so it just random numbers</span> <span data-start="393.189" data-end="395.729">that has to be passed to be understood</span> <span data-start="395.729" data-end="400.349">so this is silver the first line is a</span> <span data-start="400.349" data-end="404.409">row command as taught in the DVD and the</span> <span data-start="404.409" data-end="407.71">second line is actually we recommend of</span> <span data-start="407.71" data-end="411.189">a meaning of recommend so we can broke</span> <span data-start="411.189" data-end="413.979">down the eight bytes so the first free</span> <span data-start="413.979" data-end="416.379">ones stand over command that's called</span> <span data-start="416.379" data-end="419.11">gem VT spdt so this particular command</span> <span data-start="419.11" data-end="421.21">is in charge of jumping to a specified</span> <span data-start="421.21" data-end="423.909">chapter in the current titles so let's</span> <span data-start="423.909" data-end="427.06">say you have a DVD with free let's say</span> <span data-start="427.06" data-end="430.09">it it's a TV series you are free free</span> <span data-start="430.09" data-end="432.389">titles free episodes on this series and</span> <span data-start="432.389" data-end="439.479">then in so the second one over ten which</span> <span data-start="439.479" data-end="444.909">in Exodus ml stand is l.a so it's time</span> <span data-start="444.909" data-end="447.61">for what we call in a DVD land the PTT</span> <span data-start="447.61" data-end="450.58">which is which is the chapter so and the</span> <span data-start="450.58" data-end="454.659">number after is equal and then this is</span> <span data-start="454.659" data-end="455.949">the number of a title so let's say we</span> <span data-start="455.949" data-end="459.539">have is this DVD with TV series ep the</span> </p>
<p><span data-start="459.539" data-end="463.719">DVD of Assyria to see read our visit EVD</span> <span data-start="463.719" data-end="467.71">of a TV series so in this case that</span> <span data-start="467.71" data-end="470.8">would mean jumped over to the tenth</span> <span data-start="470.8" data-end="475.659">chapter of a third title and then we</span> <span data-start="475.659" data-end="478.479">have the first parameter that is going</span> <span data-start="478.479" data-end="481.3">to be compared to the second one so if i</span> <span data-start="481.3" data-end="483.52">were to ride this is something</span> <span data-start="483.52" data-end="485.289">equivalent in JavaScript I would get</span> <span data-start="485.289" data-end="487.449">something like this so we have all</span> <span data-start="487.449" data-end="489.37">registered in a in a in an array called</span> </p>
<p><span data-start="489.37" data-end="491.949">GPR em so we compare the value of the</span> <span data-start="491.949" data-end="495.31">first register to the second register</span> <span data-start="495.31" data-end="500.58">and if that might be they match then we</span> <span data-start="500.58" data-end="503.919">we jumped to the title free and there we</span> <span data-start="503.919" data-end="509.979">then we play the chapter 10 okay good so</span> <span data-start="509.979" data-end="515.409">okay so I saw to that so I wanted to</span> <span data-start="515.409" data-end="517.75">play DVD in JavaScript so I say okay I</span> <span data-start="517.75" data-end="521.8">going to play DVD on the fly so I told</span> <span data-start="521.8" data-end="523">you before that we are</span> <span data-start="523" data-end="526.18">libraries open source libraries but</span> <span data-start="526.18" data-end="528.64">reverse engineered respects so we are</span> <span data-start="528.64" data-end="531.28">called live DVD read and live DVD nav so</span> <span data-start="531.28" data-end="533.61">the first thing I did was to port with</span> <span data-start="533.61" data-end="537.22">libraries written in C to JavaScript so</span> <span data-start="537.22" data-end="540.67">I did that manually because it was easy</span> <span data-start="540.67" data-end="543.31">for me to to understand how it works and</span> <span data-start="543.31" data-end="546.04">all that all that stuff so the first</span> <span data-start="546.04" data-end="549.37">experiment I did was I said okay I going</span> <span data-start="549.37" data-end="551.98">to to redirect give a DVD from the</span> <span data-start="551.98" data-end="553.47">browser I going to pull the data</span> <span data-start="553.47" data-end="557.29">directly from the disc so this is the</span> <span data-start="557.29" data-end="560.08">architecture of his experiments so I</span> <span data-start="560.08" data-end="562.33">have a DVD disc I have my brother and</span> <span data-start="562.33" data-end="564.7">the browser just go to the disc and and</span> <span data-start="564.7" data-end="568.9">try to to to read this disc so what is</span> <span data-start="568.9" data-end="571.18">asked to do is first we have to to pass</span> </p>
<p><span data-start="571.18" data-end="574.51">VI for files to understand what to play</span> <span data-start="574.51" data-end="577.6">what's the logic of other disks so was</span> <span data-start="577.6" data-end="579.52">very easy because in JavaScript we can</span> <span data-start="579.52" data-end="582.43">use typed arrays and data view so</span> <span data-start="582.43" data-end="586.93">passing data to generate something</span> <span data-start="586.93" data-end="590.71">meaningful in javascript is very easy so</span> </p>
<p><span data-start="590.71" data-end="593.74">I get it done and then I go to the point</span> <span data-start="593.74" data-end="596.32">that I need to play verb files so if you</span> <span data-start="596.32" data-end="599.05">remember the verb files of a father but</span> <span data-start="599.05" data-end="603.39">that hold the audio and the video and</span> <span data-start="603.39" data-end="606.79">then I had many issues the first one was</span> <span data-start="606.79" data-end="609.94">the browser can't play the Codex using</span> <span data-start="609.94" data-end="612.07">DVD so there are many codec so the video</span> <span data-start="612.07" data-end="615.82">is always encoded using mpeg-2 and we</span> <span data-start="615.82" data-end="617.53">are several codecs for the sound</span> <span data-start="617.53" data-end="620.77">including AAC but known of them are</span> <span data-start="620.77" data-end="624.37">actually natively readable in the</span> <span data-start="624.37" data-end="628.93">browser so i coud us try to use</span> </p>
<p><span data-start="628.93" data-end="631.06">Emscripten to actually compile a decoder</span> <span data-start="631.06" data-end="633.16">in JavaScript and use it use it use it</span> <span data-start="633.16" data-end="636.16">from the browser but that's another</span> <span data-start="636.16" data-end="639.73">issue is that the browser actually very</span> <span data-start="639.73" data-end="643.78">bad at handling huge files and on a DVD</span> <span data-start="643.78" data-end="649.2">reverb file can be as big as one gig so</span> <span data-start="649.2" data-end="653.05">so handling such a huge amount of data</span> <span data-start="653.05" data-end="655.86">in the browser is simply not possible</span> <span data-start="655.86" data-end="657.54">in the future we're going to have stream</span> <span data-start="657.54" data-end="660.66">in the browser so that may be helpless</span> <span data-start="660.66" data-end="662.49">but in the meantime I couldn't wait for</span> <span data-start="662.49" data-end="664.079">several years before it's even</span> <span data-start="664.079" data-end="668.01">implemented or standardized so I try</span> <span data-start="668.01" data-end="670.23">something else I said okay I can't do it</span> <span data-start="670.23" data-end="672.39">just using my browser so I going to use</span> <span data-start="672.39" data-end="675.45">a server the server is going to to sit</span> <span data-start="675.45" data-end="678.63">between the DVD and my browser and it is</span> <span data-start="678.63" data-end="681.75">going to be responsible for for taking</span> <span data-start="681.75" data-end="683.64">the data including the video data from</span> <span data-start="683.64" data-end="685.709">the browser and and transmit this data</span> <span data-start="685.709" data-end="691.019">to ver tu veux to my to my browser so</span> <span data-start="691.019" data-end="694.5">this is my updated graph so I have a DVD</span> <span data-start="694.5" data-end="696.69">like before I have a browser like before</span> <span data-start="696.69" data-end="699.3">but it in the middle I have a server and</span> <span data-start="699.3" data-end="701.82">the server communicates with the browser</span> <span data-start="701.82" data-end="708.54">using binary web sockets and all the</span> <span data-start="708.54" data-end="711.54">logic is actually taking care by the</span> <span data-start="711.54" data-end="714.48">browser so the browser is responsible</span> <span data-start="714.48" data-end="717.24">for running the vm for playing with</span> <span data-start="717.24" data-end="720.06">playing every from playing the DVD but</span> <span data-start="720.06" data-end="722.85">it just asked for the server for for the</span> <span data-start="722.85" data-end="724.589">date i and and then the server does</span> <span data-start="724.589" data-end="725.94">nothing more than just taking the data</span> <span data-start="725.94" data-end="729.32">from the DVD and sending to the browser</span> <span data-start="729.32" data-end="732.449">that doesn't work but doesn't work</span> <span data-start="732.449" data-end="735.06">because the main the problem is we play</span> <span data-start="735.06" data-end="739.56">back is to Turkey's the issue is the</span> <span data-start="739.56" data-end="742.01">server is actually whenever the browser</span> <span data-start="742.01" data-end="745.199">requests a video of a server is going to</span> <span data-start="745.199" data-end="747.57">take the original video from the disc</span> <span data-start="747.57" data-end="751.47">encoded to to a format that's readable</span> <span data-start="751.47" data-end="753.089">in a browser and send it to a browser</span> <span data-start="753.089" data-end="755.76">the problem is this encoding takes</span> <span data-start="755.76" data-end="758.13">longer than than than reading so</span> <span data-start="758.13" data-end="761.13">obviously the browser most of the time</span> <span data-start="761.13" data-end="762.72">is waiting for data that are being</span> <span data-start="762.72" data-end="765.63">encoded so I couldn't do like this so I</span> <span data-start="765.63" data-end="768.089">had to fight to find some something else</span> <span data-start="768.089" data-end="769.89">so I thought ok so what I going to do</span> <span data-start="769.89" data-end="771.63">now is I'm going to take the video we</span> <span data-start="771.63" data-end="774">are going to encode it to to wear them</span> <span data-start="774" data-end="776.519">that can be read natively in the browser</span> <span data-start="776.519" data-end="780.959">and then the server is going to be</span> <span data-start="780.959" data-end="783.44">responsible for sending the</span> <span data-start="783.44" data-end="788.06">a video already encoded so I updated my</span> <span data-start="788.06" data-end="790.55">architecture I've a server instead of</span> <span data-start="790.55" data-end="792.56">just taking the data from the DVD is</span> <span data-start="792.56" data-end="794.84">taking the data all the binary data from</span> <span data-start="794.84" data-end="797.72">the Eiffel files from the DVD and all</span> <span data-start="797.72" data-end="800.09">the video is taken directly for a pre</span> <span data-start="800.09" data-end="802.61">encoded file and and the rest of the</span> <span data-start="802.61" data-end="804.02">architecture is very similar to the</span> <span data-start="804.02" data-end="806.48">previous experiment and and I was very</span> <span data-start="806.48" data-end="810.43">happy because it's worked and I was cool</span> <span data-start="810.43" data-end="817.15">but but I had many many many issues for</span> <span data-start="817.15" data-end="820.46">so first of all the server and the</span> <span data-start="820.46" data-end="822.32">browser I completely out of sync if the</span> <span data-start="822.32" data-end="826.42">server is well ahead of the browser so</span> <span data-start="826.42" data-end="829.49">so yeah that's an issue and also it</span> <span data-start="829.49" data-end="830.9">needs a very super powerful</span> <span data-start="830.9" data-end="832.91">configuration because first server</span> <span data-start="832.91" data-end="835.37">should be super efficient the browser</span> <span data-start="835.37" data-end="838.46">should should use it only actually it</span> <span data-start="838.46" data-end="841.28">only worked on modern browser with</span> <span data-start="841.28" data-end="845.45">experimental flags activated so overall</span> <span data-start="845.45" data-end="847.99">it was a very fragile implementation and</span> <span data-start="847.99" data-end="850.97">also because of that powerful</span> <span data-start="850.97" data-end="852.65">configuration needed I couldn't run in</span> <span data-start="852.65" data-end="854.81">on on a bra on online online mobile and</span> <span data-start="854.81" data-end="858.38">if you remember running this thing on my</span> <span data-start="858.38" data-end="865.04">mobile was my main goal so so yeah that</span> <span data-start="865.04" data-end="866.96">wasn't okay but actually the biggest</span> <span data-start="866.96" data-end="870.41">issue I have with with this thing is it</span> <span data-start="870.41" data-end="872.57">it is in the web it isn't aware because</span> <span data-start="872.57" data-end="875.12">i had to reimplement many things but are</span> <span data-start="875.12" data-end="877.04">already in the browser like for example</span> <span data-start="877.04" data-end="879.85">video buffering re-implemented</span> <span data-start="879.85" data-end="882.5">re-implementing video buffering and</span> <span data-start="882.5" data-end="884.63">that's a bit ridiculous because it's</span> <span data-start="884.63" data-end="886.27">already everything is already</span> <span data-start="886.27" data-end="889.01">implemented in the browser so it's a bit</span> <span data-start="889.01" data-end="892.15">like if you if you want to do your own</span> <span data-start="892.15" data-end="897.68">image image library and Yuri implement</span> <span data-start="897.68" data-end="901.01">it on on top of one converso but that's</span> <span data-start="901.01" data-end="904.9">not that's not good so I had to somehow</span> <span data-start="904.9" data-end="907.75">reintroduce the web into my project and</span> <span data-start="907.75" data-end="912.62">to do so I I used a converter so the</span> <span data-start="912.62" data-end="914.35">idea of a converter</span> <span data-start="914.35" data-end="917.74">was actually came from the static web</span> <span data-start="917.74" data-end="920.47">site generator as you know static web</span> <span data-start="920.47" data-end="923.32">site generators we're quite a hot topic</span> <span data-start="923.32" data-end="925.63">probably six months ago i'm not sure now</span> <span data-start="925.63" data-end="929.56">but yeah probably it still and so the</span> <span data-start="929.56" data-end="932.62">idea was okay i can't read DVD on the</span> <span data-start="932.62" data-end="934.62">fly so what I going to do is I going to</span> <span data-start="934.62" data-end="941.77">to to use a converter to generate static</span> <span data-start="941.77" data-end="944.29">assets directly that can be directly</span> <span data-start="944.29" data-end="948.43">consumed by the browser and it has</span> <span data-start="948.43" data-end="950.29">several advantages the first one is</span> <span data-start="950.29" data-end="952.45">obviously that you can offset yourself</span> <span data-start="952.45" data-end="955.09">because the video is going to take a lot</span> <span data-start="955.09" data-end="958.09">of place and and server space is quite</span> <span data-start="958.09" data-end="962.86">expensive so doing cell fasting is</span> <span data-start="962.86" data-end="966.67">probably a good idea and also i go into</span> <span data-start="966.67" data-end="970.69">to generate static static assets so i</span> <span data-start="970.69" data-end="974.17">won't need something i wanted a very</span> <span data-start="974.17" data-end="976.9">powerful server i mean its control icon</span> <span data-start="976.9" data-end="979.66">cumbuco i can probably use Leiter your</span> <span data-start="979.66" data-end="981.13">engine eeks running on top of a</span> </p>
<p><span data-start="981.13" data-end="985.78">Raspberry Pi and also that will be</span> <span data-start="985.78" data-end="988.93">mobile friendly because I won't have to</span> <span data-start="988.93" data-end="992.47">use crazy hacks to to to make it work so</span> <span data-start="992.47" data-end="995.17">before going into the details of that</span> <span data-start="995.17" data-end="997.39">particular converter are going to show</span> <span data-start="997.39" data-end="1000.21">you the demo so the day we are going to</span> <span data-start="1000.21" data-end="1003.3">show you is a movie called Sita Sings</span> <span data-start="1003.3" data-end="1006.18">the Blues it's an animated movie created</span> <span data-start="1006.18" data-end="1008.82">by the animator and free culture</span> <span data-start="1008.82" data-end="1011.7">activist ninah Paley and she realized</span> <span data-start="1011.7" data-end="1015.12">this movie and of a ver cc0 license so</span> <span data-start="1015.12" data-end="1018.75">this movie is is is public domain so I</span> <span data-start="1018.75" data-end="1021.09">believe it's a completely legal for me</span> <span data-start="1021.09" data-end="1026.04">to do to show it to you ok so it's the</span> <span data-start="1026.04" data-end="1029.4">pre-recording video of so on the</span> <span data-start="1029.4" data-end="1031.83">left-hand side varies the original DVD</span> <span data-start="1031.83" data-end="1035.94">run on a DVD player in this case it's</span> </p>
<p><span data-start="1035.94" data-end="1038.49">VLC media player and on the right-hand</span> <span data-start="1038.49" data-end="1041.13">side that's my application that mimics</span> <span data-start="1041.13" data-end="1043.86">but the converter of so as you can see</span> <span data-start="1043.86" data-end="1046.31">two completely</span> <span data-start="1046.31" data-end="1048.62">work in progress if you if you pay</span> <span data-start="1048.62" data-end="1050.78">attention to the buttons versity are</span> <span data-start="1050.78" data-end="1054.71">still using this gray button with round</span> <span data-start="1054.71" data-end="1056.42">corner because I haven't implemented the</span> <span data-start="1056.42" data-end="1059.42">overlay passing and and sometime it's a</span> <span data-start="1059.42" data-end="1063.2">big it's it's a bit buggy like the menu</span> <span data-start="1063.2" data-end="1066.19">are not where they supposed to be and</span> <span data-start="1066.19" data-end="1068.48">but however you can still navigate</span> <span data-start="1068.48" data-end="1072.08">through the menu you can start playing</span> <span data-start="1072.08" data-end="1075.64">the video and is going to play ad right</span> <span data-start="1075.64" data-end="1078.43">chapter VIII chapter you've selected and</span> <span data-start="1078.43" data-end="1081.56">obviously you can you can pause it start</span> <span data-start="1081.56" data-end="1083.18">it and jump to the next chapter and</span> <span data-start="1083.18" data-end="1084.86">doing all that stuff like you would do</span> <span data-start="1084.86" data-end="1088.76">in a in an actual actual DVD River River</span> <span data-start="1088.76" data-end="1092.48">river with with a normal DVD video</span> <span data-start="1092.48" data-end="1097.58">player so how did I do that so when I</span> <span data-start="1097.58" data-end="1100.04">started thinking about this converter I</span> <span data-start="1100.04" data-end="1103.76">thought okay what I need to do is I need</span> <span data-start="1103.76" data-end="1106.36">to map the features of a DVD to</span> <span data-start="1106.36" data-end="1108.98">something semantically equivalent on the</span> <span data-start="1108.98" data-end="1112.31">web platforms so let's go through all</span> <span data-start="1112.31" data-end="1114.14">the features of a DVD and let's find</span> <span data-start="1114.14" data-end="1117.26">something similar on the web so first of</span> <span data-start="1117.26" data-end="1119.24">all obviously we have a verb files that</span> <span data-start="1119.24" data-end="1122.66">contain the video so on the web platform</span> <span data-start="1122.66" data-end="1126.43">the equivalent would be the video tag</span> <span data-start="1126.43" data-end="1130.64">then we have the subtitles on the web</span> <span data-start="1130.64" data-end="1134.39">file and on the web platform we have the</span> <span data-start="1134.39" data-end="1137.66">track the track tagged and for webvtt</span> <span data-start="1137.66" data-end="1140.48">format for supplied for adding subtitles</span> <span data-start="1140.48" data-end="1145.64">to to a video some DVDs can can be</span> <span data-start="1145.64" data-end="1147.44">multi-angle that means we have multiple</span> <span data-start="1147.44" data-end="1149.72">stream of video and can have multiple</span> <span data-start="1149.72" data-end="1153.38">audio tracks so what we can use is the</span> </p>
<p><span data-start="1153.38" data-end="1156.02">API call media controller have your word</span> <span data-start="1156.02" data-end="1160.7">of media controller yeah ok 1 / 2 maybe</span> <span data-start="1160.7" data-end="1163.46">so the thing is beta controller is an</span> <span data-start="1163.46" data-end="1166.82">API to sync several video and several</span> <span data-start="1166.82" data-end="1169.4">audio stream together so let's say you</span> <span data-start="1169.4" data-end="1171.38">have free video and two toward you</span> <span data-start="1171.38" data-end="1174.45">stream you can using this this</span> <span data-start="1174.45" data-end="1178.68">this API you can keep up in sync it's</span> <span data-start="1178.68" data-end="1182.34">only implemented in in Chrome but it has</span> <span data-start="1182.34" data-end="1185.4">been i believe it's now only active you</span> <span data-start="1185.4" data-end="1188.58">can only enable it using using a flag</span> <span data-start="1188.58" data-end="1191.43">server yeah it is yeah it's still very</span> <span data-start="1191.43" data-end="1197.37">experimental then we are the chapters on</span> <span data-start="1197.37" data-end="1199.98">a DVD and we equivalent on on the web</span> <span data-start="1199.98" data-end="1206.52">would be would be a track track tagged</span> <span data-start="1206.52" data-end="1210.3">with the kind attribute attribute being</span> <span data-start="1210.3" data-end="1215.04">chapters then anh vui we have money</span> <span data-start="1215.04" data-end="1216.69">buttons so obviously we're going to</span> <span data-start="1216.69" data-end="1219.45">implement them using the button tag and</span> <span data-start="1219.45" data-end="1224.76">and n PNG because on a DVD the buttons</span> <span data-start="1224.76" data-end="1228.9">are they use actually an overlay that is</span> <span data-start="1228.9" data-end="1231.57">like a four color images with with</span> <span data-start="1231.57" data-end="1233.43">transparency so that's very well</span> <span data-start="1233.43" data-end="1236.76">convenient to to implement it using PNG</span> <span data-start="1236.76" data-end="1238.23">so that's the part actually I actually</span> <span data-start="1238.23" data-end="1241.11">haven't worked on so that's why if you</span> <span data-start="1241.11" data-end="1244.23">remember on the video I I the office big</span> <span data-start="1244.23" data-end="1249.12">ugly grey buttons anyway and and we have</span> <span data-start="1249.12" data-end="1252.78">a DVD vm but we need somehow to to</span> <span data-start="1252.78" data-end="1255.27">reimplement on the browser so obviously</span> <span data-start="1255.27" data-end="1260.72">we're going to use javascript ok cool so</span> <span data-start="1260.72" data-end="1266.93">so at this point I i have have a way to</span> <span data-start="1266.93" data-end="1270.84">to mimic the features of a DVD and to</span> <span data-start="1270.84" data-end="1274.26">make it work on on the browser so i</span> <span data-start="1274.26" data-end="1276.12">started working on line on my converter</span> <span data-start="1276.12" data-end="1281.16">so this converter is actually made of</span> <span data-start="1281.16" data-end="1284.58">several several steps and and the first</span> <span data-start="1284.58" data-end="1287.28">step is so all the iphone 5 i'll pass to</span> </p>
<p><span data-start="1287.28" data-end="1289.83">Jason so I just pass it pass these five</span> <span data-start="1289.83" data-end="1292.5">once and when I can just use with Jason</span> <span data-start="1292.5" data-end="1296.48">to to read the data as very convenient</span> <span data-start="1296.48" data-end="1301.35">but then all the sharp the chapters are</span> <span data-start="1301.35" data-end="1303.33">the information above the chapters on</span> <span data-start="1303.33" data-end="1306.63">the DVD are stored in VI for files so i</span> <span data-start="1306.63" data-end="1308.19">take this jason and</span> <span data-start="1308.19" data-end="1312.47">I generate webvtt files that I going to</span> <span data-start="1312.47" data-end="1315.75">to use in my in my browser for for the</span> <span data-start="1315.75" data-end="1320.46">chapters of a video then I extract was</span> <span data-start="1320.46" data-end="1323.159">what's called Nath packet so basically</span> <span data-start="1323.159" data-end="1326.669">there are data packets embedded into the</span> <span data-start="1326.669" data-end="1331.47">video stream and they contain several</span> <span data-start="1331.47" data-end="1335.7">things like the button overlays button</span> <span data-start="1335.7" data-end="1339.809">logic button coordinates and size and</span> <span data-start="1339.809" data-end="1341.429">all that stuff so I first of all I just</span> <span data-start="1341.429" data-end="1344.039">extract these these packets and pass</span> <span data-start="1344.039" data-end="1347.19">them to Jason form to make it easier to</span> <span data-start="1347.19" data-end="1350.789">handle later then I extract the button</span> <span data-start="1350.789" data-end="1352.5">size and position and obviously are</span> <span data-start="1352.5" data-end="1354.75">going to save this using CSS I just</span> <span data-start="1354.75" data-end="1362.09">create static CSS file holding V</span> <span data-start="1362.09" data-end="1365.7">whatever is is related to the position</span> <span data-start="1365.7" data-end="1370.83">of the buttons then the menu the menu</span> <span data-start="1370.83" data-end="1373.919">are made of static images so the easiest</span> <span data-start="1373.919" data-end="1376.11">way to do is to extract them and save</span> <span data-start="1376.11" data-end="1378.539">them to to PNG but the browser can read</span> <span data-start="1378.539" data-end="1383.6">them natively and and and obviously</span> <span data-start="1383.6" data-end="1385.889">regarding the vm i have 2x try for</span> <span data-start="1385.889" data-end="1388.62">comments and and compile them to to</span> <span data-start="1388.62" data-end="1393.629">javascript and yeah DVD comments are can</span> <span data-start="1393.629" data-end="1396.84">be stored in multiple location on the</span> <span data-start="1396.84" data-end="1399.539">disc so i have to somehow cover all this</span> <span data-start="1399.539" data-end="1402">command compile them to javascript and</span> <span data-start="1402" data-end="1404.46">and create a huge javascript file so</span> <span data-start="1404.46" data-end="1408.149">that the browser can execute it whoops</span> <span data-start="1408.149" data-end="1411.779">and then obviously at the end i encode</span> <span data-start="1411.779" data-end="1413.399">the video to wear them so wide browser</span> <span data-start="1413.399" data-end="1420">will be able to to to play it for</span> <span data-start="1420" data-end="1421.98">playing the DVD i created a web</span> <span data-start="1421.98" data-end="1425.309">component that I called X video so it's</span> <span data-start="1425.309" data-end="1427.59">basically like an enhanced video player</span> <span data-start="1427.59" data-end="1432.299">vai can do chapters playlist menu and so</span> <span data-start="1432.299" data-end="1433.919">that's what was very convenient for me</span> <span data-start="1433.919" data-end="1436.529">because it could take all that burden</span> <span data-start="1436.529" data-end="1438.919">out of my application and I could just</span> <span data-start="1438.919" data-end="1441.539">generate my static</span> <span data-start="1441.539" data-end="1446.279">set and send them to turn to xvideo and</span> </p>
<p><span data-start="1446.279" data-end="1448.619">I would just make it easier to develop</span> <span data-start="1448.619" data-end="1451.979">and and obviously this component is</span> <span data-start="1451.979" data-end="1453.659">completely independent and you can use</span> <span data-start="1453.659" data-end="1459.57">it without this DVD application so doing</span> <span data-start="1459.57" data-end="1462.299">working on like that project I were I</span> <span data-start="1462.299" data-end="1466.769">learn many things so as I told you the</span> <span data-start="1466.769" data-end="1468.419">browser at the moment we are not</span> <span data-start="1468.419" data-end="1471.35">powerful enough to play DVD on the fly</span> <span data-start="1471.35" data-end="1475.139">but the web platform is is quite</span> <span data-start="1475.139" data-end="1479.479">powerful because because it it's a</span> <span data-start="1479.479" data-end="1482.729">browser can play an application as</span> <span data-start="1482.729" data-end="1485.429">complex as a DVD natively it has already</span> <span data-start="1485.429" data-end="1487.83">everything so but that's great and also</span> <span data-start="1487.83" data-end="1491.989">if we use javascript we can pass binary</span> <span data-start="1491.989" data-end="1496.109">binary files like we can play mp3 you</span> <span data-start="1496.109" data-end="1499.139">can read PDF we can emulate flash and</span> <span data-start="1499.139" data-end="1501.57">now we can even play DVD so that's</span> <span data-start="1501.57" data-end="1505.729">that's something great i think i'm and</span> <span data-start="1505.729" data-end="1510.21">and also the web is versatile like</span> <span data-start="1510.21" data-end="1513.119">remember of in dvds 10 for versatile and</span> <span data-start="1513.119" data-end="1515.46">the web is versatile as well because it</span> <span data-start="1515.46" data-end="1516.96">has many element that you can recombine</span> <span data-start="1516.96" data-end="1519.359">together to create something a richer</span> <span data-start="1519.359" data-end="1525.029">experience and and yeah what I loved</span> <span data-start="1525.029" data-end="1527.82">also is the web can be used to give some</span> <span data-start="1527.82" data-end="1530.429">kind of second life to all formats like</span> <span data-start="1530.429" data-end="1536.279">like a DVD so yeah that's it I'm almost</span> <span data-start="1536.279" data-end="1537.869">done so if you want to have a look at</span> <span data-start="1537.869" data-end="1540.359">the other code it's hosted on github</span> <span data-start="1540.359" data-end="1544.44">just go to to this address it's is</span> <span data-start="1544.44" data-end="1546.72">actually on you have to go to work to</span> <span data-start="1546.72" data-end="1551.249">the branch called converter and all the</span> <span data-start="1551.249" data-end="1553.44">first implementation I've show you with</span> <span data-start="1553.44" data-end="1555.269">a plane trying to play DVD on the file</span> <span data-start="1555.269" data-end="1556.919">is on the master branch and all the</span> <span data-start="1556.919" data-end="1559.679">converter is on the converter branch so</span> <span data-start="1559.679" data-end="1562.139">what's next obviously it's still work in</span> <span data-start="1562.139" data-end="1563.999">progress so in the future I'd like to</span> <span data-start="1563.999" data-end="1568.22">make it more more feature complete like</span> <span data-start="1568.22" data-end="1571.259">porting all the commands and all that</span> <span data-start="1571.259" data-end="1573.509">stuff so if you want you to help don't</span> <span data-start="1573.509" data-end="1575.01">hesitate to simple request</span> <span data-start="1575.01" data-end="1580.11">very happy and so yeah maybe in the</span> <span data-start="1580.11" data-end="1582.54">future I'll be able to to play blu-ray</span> <span data-start="1582.54" data-end="1586.08">disc and why not so oh yeah I have I</span> <span data-start="1586.08" data-end="1587.7">have a boner because obviously it's a</span> <span data-start="1587.7" data-end="1589.98">talk about the DVD so like like any good</span> </p>
<p><span data-start="1589.98" data-end="1593.67">DVD I have to I have to to have a bonus</span> <span data-start="1593.67" data-end="1596.79">so in this in this case are going to to</span> <span data-start="1596.79" data-end="1598.35">show you the application are going to</span> <span data-start="1598.35" data-end="1601.83">show you is actually it's actually the</span> <span data-start="1601.83" data-end="1605.94">web is not just something some fig thing</span> <span data-start="1605.94" data-end="1614.22">okay so there we go okay so this is for</span> <span data-start="1614.22" data-end="1616.44">example a button so we are going to</span> <span data-start="1616.44" data-end="1620.64">inspect it so as you can see I'm not</span> <span data-start="1620.64" data-end="1623.37">lying to you it's it's it's a real input</span> <span data-start="1623.37" data-end="1628.05">tag with always information about this</span> <span data-start="1628.05" data-end="1631.17">size and the position of a button is</span> <span data-start="1631.17" data-end="1634.34">generated into a static JavaScript and</span> <span data-start="1634.34" data-end="1637.23">the background here is it's just an</span> <span data-start="1637.23" data-end="1642.06">image an image tag with a PNG that has</span> <span data-start="1642.06" data-end="1646.62">been extracted from from a DVD and yeah</span> <span data-start="1646.62" data-end="1650.94">can I can use it to navigate to go to go</span> <span data-start="1650.94" data-end="1657.44">to navigate through the menu and and</span> <span data-start="1657.44" data-end="1662.98">yeah I can also play the movie why not</span> <span data-start="1662.99" data-end="1667.41">so whoops what what just happened okay I</span> <span data-start="1667.41" data-end="1671.73">know I must have clicked face anyway I'm</span> <span data-start="1671.73" data-end="1675.83">almost done yeah I'm actually done</span> </p>
</section>