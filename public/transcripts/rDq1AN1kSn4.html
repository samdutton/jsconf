<section>
<p><span data-start="9.98" data-end="13.5">I'm Jason number five of seven here.</span> <span data-start="13.5" data-end="15.32">Which I think is cool.</span> <span data-start="15.32" data-end="18.8">So, time travel debugging.</span> <span data-start="18.8" data-end="23.259">Time travel debugging is a really old concept.</span> <span data-start="23.259" data-end="27.25">But it's also been a multi year project at Mozilla.</span> <span data-start="27.25" data-end="31.83">And most recently, a six-month sprint to this stage.</span> <span data-start="31.83" data-end="36.12">So, if you see something you like, please clap.</span> </p>
<p><span data-start="36.12" data-end="37.12">Let me know.</span> <span data-start="37.12" data-end="38.12">I want to hear it.</span> <span data-start="38.12" data-end="42.719">If you really like it, shout!</span> <span data-start="42.719" data-end="47.92">If you're moved by it just come on and clap I do real time claps.</span> <span data-start="47.92" data-end="49.829">I can keep going.</span> <span data-start="49.829" data-end="53.51">So, here is the debugger.</span> <span data-start="53.51" data-end="55.64">My name is Jason Laster.</span> <span data-start="55.64" data-end="59.92">And I have the privilege to work full time on this guy.</span> <span data-start="59.92" data-end="62.629">It's great.</span> </p>
<p><span data-start="62.629" data-end="72.75">Most recently we made this decision to rewrite it in actually React and Redux to rethink</span> <span data-start="72.75" data-end="77.84">things we are doing and do some really cool things that are great too.</span> <span data-start="77.84" data-end="79.84">Is there an echo?</span> <span data-start="79.84" data-end="82.649">Or is it just me?</span> <span data-start="82.649" data-end="83.649">Cool.</span> <span data-start="83.649" data-end="84.649">Okay.</span> <span data-start="84.649" data-end="90.68">One thing we did was we moved to GitHub and started doing local development as a website,</span> <span data-start="90.68" data-end="94.53">so we can start it up with Webpack and Yarn.</span> <span data-start="94.53" data-end="101.709">And then click that button, or other buttons or Chrome and Node, find a Firefox, and debug</span> <span data-start="101.709" data-end="104.32">it as a website.</span> <span data-start="104.32" data-end="106.149">Not as a browser.</span> <span data-start="106.149" data-end="108.369">And that's been amazing for working on it.</span> <span data-start="108.369" data-end="113.39">You're just like, refresh and you got everything new and you're debugging it.</span> <span data-start="113.39" data-end="118">And if you want to debug that, you've got a browser debugger.</span> <span data-start="118" data-end="121.119">No problem.</span> </p>
<p><span data-start="121.119" data-end="124.66">And what we're working on, maybe with Chrome, maybe on the side.</span> <span data-start="124.66" data-end="125.66">It's a website.</span> <span data-start="125.66" data-end="129.399">You can do whatever you want to do.</span> <span data-start="129.399" data-end="132.27">We focus on two things recently.</span> <span data-start="132.27" data-end="135.41">And we're going to carry this out for the next year or two.</span> <span data-start="135.41" data-end="136.67">One of them is frameworks.</span> <span data-start="136.67" data-end="141.03">Because we realize that so many people are building modern apps with frameworks and there's</span> <span data-start="141.03" data-end="146.92">so much we can do to make debugging better if we use them.</span> <span data-start="146.92" data-end="148.43">And Babel.</span> <span data-start="148.43" data-end="153.48">So, I've got stickers with me for the TC39 because we work closely with the JavaScript</span> <span data-start="153.48" data-end="154.48">team.</span> <span data-start="154.48" data-end="156.459">And stickers for Babel.</span> </p>
<p><span data-start="156.459" data-end="160.849">Because we work just as closely with them because we know that people who are writing</span> <span data-start="160.849" data-end="167.379">apps today are often using things like JSX and Flow and TypeScript and new language features</span> <span data-start="167.379" data-end="171.42">that can't be parsed by the Firefox parser.</span> <span data-start="171.42" data-end="174.709">They don't want to.</span> <span data-start="174.709" data-end="181.39">And we have worked with the team and added features that would not have been possible</span> <span data-start="181.39" data-end="186.26">otherwise like break points that stay in your function when you change your codes.</span> <span data-start="186.26" data-end="187.29">You don't have to move them.</span> </p>
<p><span data-start="187.29" data-end="191.79">Or when you step in the code you wrote, the original code, it just works.</span> <span data-start="191.79" data-end="196.27">Even though you're stepping over ten lines of generated code.</span> <span data-start="196.27" data-end="199.639">It's really, really amazing.</span> <span data-start="199.639" data-end="205.569">And I think in part because we are in React and web developers can work on it, and we're</span> <span data-start="205.569" data-end="213.48">in GitHub and we are on Twitter, we found this amazing community of people who want</span> <span data-start="213.48" data-end="216.76">to work on the tools that they use every day.</span> </p>
<p><span data-start="216.76" data-end="222.61">And if you are interested in hacking on developer tools, I want to say that I have never found</span> <span data-start="222.61" data-end="227.47">a team more open to open source than the Firefox Dev tools team.</span> <span data-start="227.47" data-end="231.739">Come join us and work on the debugger or the inspector or console.</span> <span data-start="231.739" data-end="232.739">We really want that.</span> <span data-start="232.739" data-end="235.2">In fact, we kind of need it.</span> <span data-start="235.2" data-end="238.56">10, 12 people, it's really, really small.</span> </p>
<p><span data-start="238.56" data-end="244.219">And almost everything you see is a product of the great work in the community.</span> <span data-start="244.219" data-end="247.769">And they have done search.</span> <span data-start="247.769" data-end="251.969">Amazing tests and flow types because those things help the community.</span> <span data-start="251.969" data-end="254.01">Our tooling comes from the community.</span> <span data-start="254.01" data-end="257.459">We wouldn't have it otherwise.</span> <span data-start="257.459" data-end="262.01">And I am so grateful for the team that has come and joined us and helped mentor.</span> <span data-start="262.01" data-end="265.72">Their charter is to help newcomers get started.</span> <span data-start="265.72" data-end="266.83">Answer their questions.</span> <span data-start="266.83" data-end="269.07">Like, why does that work that way?</span> </p>
<p><span data-start="269.07" data-end="270.39">How do I get Yarn working?</span> <span data-start="270.39" data-end="271.82">Or Node?</span> <span data-start="271.82" data-end="275.82">They're here to help people come in and they love it as much as we do.</span> <span data-start="275.82" data-end="277.19">Huge thanks to them.</span> <span data-start="277.19" data-end="278.57">Many of them are here now.</span> <span data-start="278.57" data-end="280.16">And you guys rock.</span> <span data-start="280.16" data-end="282.64">You all rock.</span> <span data-start="282.64" data-end="283.64">Yes.</span> <span data-start="283.64" data-end="285.12">So, debugging.</span> <span data-start="285.12" data-end="287.6">We're done, right?</span> <span data-start="287.6" data-end="289.23">Like, we've done it.</span> </p>
<p><span data-start="289.23" data-end="291.01">It's a solved problem.</span> <span data-start="291.01" data-end="292.38">Sure.</span> <span data-start="292.38" data-end="296.63">I kind of have this belief that in some ways it's gotten worse because our apps have gotten</span> <span data-start="296.63" data-end="300.17">so much better and maybe our tools haven't caught up.</span> <span data-start="300.17" data-end="306.57">And we're still kind of playing computer, and at the end of the day, maybe a good night's</span> <span data-start="306.57" data-end="308.91">sleep is all you need?</span> <span data-start="308.91" data-end="313.26">So, there's more to do.</span> <span data-start="313.26" data-end="319.28">Even a simple feature like a heart let's say you want to like, click the heart.</span> <span data-start="319.28" data-end="321.42">And you want to see it hearted.</span> <span data-start="321.42" data-end="323.42">Can we heart the heart?</span> <span data-start="323.42" data-end="326.32">Even that can be difficult today.</span> </p>
<p><span data-start="326.32" data-end="329.2">You click it, and nothing happens.</span> <span data-start="329.2" data-end="330.2">Why?</span> <span data-start="330.2" data-end="335.52">Well, a lot of things have to happen for the heart to be hearted.</span> <span data-start="335.52" data-end="338.54">Generally speaking, there's a whole path for updating the data.</span> <span data-start="338.54" data-end="344.51">You got get the UI data, talk to the API, get the data from the API.</span> <span data-start="344.51" data-end="345.56">Update the store.</span> <span data-start="345.56" data-end="349.9">Once the store is up to date, we can update the API, but it can break at any point along</span> <span data-start="349.9" data-end="350.9">the way.</span> <span data-start="350.9" data-end="354.07">You can add all the logs you want or understand any step.</span> <span data-start="354.07" data-end="359.97">And you have to understand the system and maybe it's going to take a while.</span> <span data-start="359.97" data-end="366.34">The thing I'm most excited, the one takeaway for this whole talk is with time travel, we</span> <span data-start="366.34" data-end="370.42">have a full recording of time, which means we can show you this thing.</span> <span data-start="370.42" data-end="372.04">This thing right here.</span> <span data-start="372.04" data-end="374.49">And if you want to, you can step to any point.</span> </p>
<p><span data-start="374.49" data-end="376.99">You can jump to any point in the path and see it immediately.</span> <span data-start="376.99" data-end="381.12">You don't have refresh or re click or pause or look at logs.</span> <span data-start="381.12" data-end="382.12">We can give it you.</span> <span data-start="382.12" data-end="385.65">It opens up all these opportunities that are now possible.</span> </p>
<p><span data-start="385.65" data-end="388.9">But time travel is not a new thing.</span> <span data-start="388.9" data-end="389.95">Others have done it.</span> <span data-start="389.95" data-end="399.71">I remember when Dan Abramov showcased Redux not too long ago I think at JSConfEU.</span> <span data-start="399.71" data-end="401.321">And something he said stuck with me.</span> <span data-start="401.321" data-end="404.4">He wanted time travel.</span> <span data-start="404.4" data-end="406.27">He wanted to reduce his action over time.</span> <span data-start="406.27" data-end="408.74">But he wanted time travel.</span> <span data-start="408.74" data-end="412.42">And a demo is just crazy.</span> <span data-start="412.42" data-end="417.62">You can get this slider that shows you all the actions over time and as you're moving,</span> <span data-start="417.62" data-end="419.17">you can see the UI update.</span> <span data-start="419.17" data-end="420.17">It's perfect.</span> <span data-start="420.17" data-end="421.17">It's magical.</span> <span data-start="421.17" data-end="423.16">It's what you want to develop.</span> </p>
<p><span data-start="423.16" data-end="427.68">But it only works if you're using Redux, and only shows the Redux actions.</span> <span data-start="427.68" data-end="429.95">It's not full-time travel.</span> <span data-start="429.95" data-end="436.23">There's another tool, Cyprus, which is an amazing integration test tool and makes it</span> <span data-start="436.23" data-end="439.12">easy, in fact, fun, to write integration tests.</span> </p>
<p><span data-start="439.12" data-end="442.87">And this reporter on the left that shows you things that change over time.</span> <span data-start="442.87" data-end="445.58">So, you can mouse over the reporter.</span> <span data-start="445.58" data-end="447.72">And for each action, see the UI update.</span> <span data-start="447.72" data-end="448.72">Which is brilliant.</span> <span data-start="448.72" data-end="449.75">You get a before and after.</span> <span data-start="449.75" data-end="452.32">But, again, it's only the UI.</span> <span data-start="452.32" data-end="453.91">And, yes, it's amazing.</span> <span data-start="453.91" data-end="454.91">They do amazing work.</span> <span data-start="454.91" data-end="457.27">You should try it.</span> <span data-start="457.27" data-end="460.95">So, how do we do a general-purpose thing?</span> <span data-start="460.95" data-end="464.33">The good thing is that we already have.</span> </p>
<p><span data-start="464.33" data-end="470.55">About ten years ago Mozilla invested in R and R, which is fast recording and replay</span> <span data-start="470.55" data-end="472.68">for C++.</span> <span data-start="472.68" data-end="478.87">And this thing, which is now used quite a lot gives use that ability to script through</span> <span data-start="478.87" data-end="480.72">time.</span> <span data-start="480.72" data-end="481.72">It's a fast.</span> <span data-start="481.72" data-end="484.9">Because if making the recording is slow, you're not going to use it.</span> <span data-start="484.9" data-end="490.83">If rewinding is slow, you may reach for it if you need to, but you might not.</span> <span data-start="490.83" data-end="493.961">And it goes down to the kernel.</span> <span data-start="493.961" data-end="496.4">It knows about the OS, P trace and S trace.</span> <span data-start="496.4" data-end="497.48">It has everything.</span> <span data-start="497.48" data-end="500.53">We're talking about the heap.</span> <span data-start="500.53" data-end="503">So, that makes it universal as well.</span> <span data-start="503" data-end="507.81">Once you have all that data, it can run for Firefox, it can run for Chrome.</span> <span data-start="507.81" data-end="511.24">It can even run for arbitrary C or C++ programs.</span> <span data-start="511.24" data-end="513.18">It just works.</span> <span data-start="513.18" data-end="514.18">And you can reproduce things.</span> </p>
<p><span data-start="514.18" data-end="515.93">It's really cool.</span> <span data-start="515.93" data-end="521.5">The problem is, what if your application has non determinism?</span> <span data-start="521.5" data-end="526.29">What if it's like the browser that every time you use it, it can be different?</span> <span data-start="526.29" data-end="531.98">Well, about five years ago this project for web replay came out which said, this RR thing</span> <span data-start="531.98" data-end="533.74">is great for the platform.</span> <span data-start="533.74" data-end="536.459">But can we give it to web developers?</span> <span data-start="536.459" data-end="538.35">Yeah.</span> <span data-start="538.35" data-end="539.89">Just love that animation.</span> <span data-start="539.89" data-end="543.47">It serves no purpose, but it's fun.</span> <span data-start="543.47" data-end="548.24">And amazingly, I have been using web replay and it's fast.</span> <span data-start="548.24" data-end="552.189">The recordings do not slow down the browser that much.</span> </p>
<p><span data-start="552.189" data-end="556.75">And we're still using the system recording to get all the data so it's as deep as you</span> <span data-start="556.75" data-end="558.72">want to go.</span> <span data-start="558.72" data-end="564.649">But because Firefox is complicated, the GC is complicated, networking is complicated</span> <span data-start="564.649" data-end="565.72">with APIs, layout, it's madness.</span> <span data-start="565.72" data-end="569.819">It's tied to Firefox.</span> <span data-start="569.819" data-end="574.66">It's not going to usually be portable to Chrome even though we would like to work with them.</span> <span data-start="574.66" data-end="577.999">So, with that comes the risky part.</span> <span data-start="577.999" data-end="580.509">Let me show what we've got.</span> </p>
<p><span data-start="580.509" data-end="585.5">So, at the moment, I've got a custom builder Firefox over here.</span> <span data-start="585.5" data-end="588.05">And I'm not going to update it.</span> <span data-start="588.05" data-end="589.05">Quite yet.</span> <span data-start="589.05" data-end="590.05">So, that's my tab.</span> <span data-start="590.05" data-end="594.13">I think that's going to work.</span> <span data-start="594.13" data-end="595.889">That's the color picker.</span> <span data-start="595.889" data-end="596.889">Cool.</span> <span data-start="596.889" data-end="599.29">Go over here.</span> <span data-start="599.29" data-end="602.81">And web developer, going to record execution.</span> <span data-start="602.81" data-end="605.98">I don't think it has to stay in the contacts menu, but for now, it is.</span> <span data-start="605.98" data-end="610.3">And once I do that, I've started a record process.</span> <span data-start="610.3" data-end="612.3">Everything that happens here every click.</span> </p>
<p><span data-start="612.3" data-end="614.63">This is a fun color picker I made.</span> <span data-start="614.63" data-end="616.649">Select colors, it keeps them.</span> <span data-start="616.649" data-end="617.649">Everything is now recorded.</span> <span data-start="617.649" data-end="620.76">What does that now mean?</span> <span data-start="620.76" data-end="622.3">Well, let's see here.</span> <span data-start="622.3" data-end="624.089">I've got some code for some demos.</span> <span data-start="624.089" data-end="629.32">I'm going to set a directory route, so it can focus in on the code we're working on.</span> <span data-start="629.32" data-end="631.06">Find the index.</span> <span data-start="631.06" data-end="632.569">And now I've got some code.</span> <span data-start="632.569" data-end="633.79">We have an outline viewer.</span> <span data-start="633.79" data-end="635.709">I told you Babel is amazing.</span> </p>
<p><span data-start="635.709" data-end="638.87">These things start happening when you introduce Babel.</span> <span data-start="638.87" data-end="642.54">Really cool features.</span> <span data-start="642.54" data-end="646.17">Set a break point, did some JSX.</span> <span data-start="646.17" data-end="647.759">And we paused.</span> <span data-start="647.759" data-end="649.36">That's great.</span> <span data-start="649.36" data-end="656.019">So, in some ways time travel, web replay, is the most simple feature that's going to</span> <span data-start="656.019" data-end="659.66">be shown because we've just added some buttons.</span> <span data-start="659.66" data-end="666.699">It's the same debugger that you know, but now we can step back to slightly step forward.</span> <span data-start="666.699" data-end="667.699">And, yeah.</span> <span data-start="667.699" data-end="669.579">We can rewind.</span> <span data-start="669.579" data-end="675.3">So, let's say there's some bug with the way the wheel was working and or we just don't</span> <span data-start="675.3" data-end="676.3">like blue.</span> <span data-start="676.3" data-end="681.12">We can just hit that rewind button and now we're going to get a new color.</span> <span data-start="681.12" data-end="685.149">And for fun we're going do, do, do [singing] I don't like that one.</span> </p>
<p><span data-start="685.149" data-end="686.759">I want this one.</span> <span data-start="686.759" data-end="687.759">Yeah.</span> <span data-start="687.759" data-end="688.759">No.</span> <span data-start="688.759" data-end="689.759">This one.</span> <span data-start="689.759" data-end="690.759">That's good.</span> <span data-start="690.759" data-end="692.279">I hope the color contrast is enough for you to see.</span> <span data-start="692.279" data-end="693.279">That's green.</span> <span data-start="693.279" data-end="694.279">That's changing.</span> <span data-start="694.279" data-end="699.92">And I'm going to set up conditional break point here to get the name of the color.</span> </p>
<p><span data-start="699.92" data-end="703.79">And I typed this right.</span> <span data-start="703.79" data-end="708.439">I want to pause at last time we were blue.</span> <span data-start="708.439" data-end="712.579">And I'll rewind and boom, boom, boom yes.</span> <span data-start="712.579" data-end="713.839">There we are.</span> <span data-start="713.839" data-end="715.29">That is now possible.</span> <span data-start="715.29" data-end="723.38">[ Applause ] The first time we went blue.</span> <span data-start="723.38" data-end="727.089">Let's go the other way too.</span> <span data-start="727.089" data-end="730.25">I like that just as much.</span> <span data-start="730.25" data-end="731.509">Sweet.</span> <span data-start="731.509" data-end="737.119">You know, small side track, just for a minute, I promise.</span> <span data-start="737.119" data-end="741.56">We have been working on this other thing for the past three months that I'm really excited</span> <span data-start="741.56" data-end="744.279">about and I'm just going to show that to you quickly too.</span> </p>
<p><span data-start="744.279" data-end="747.949">So, this code has this function, get HSL.</span> <span data-start="747.949" data-end="748.949">Yeah.</span> <span data-start="748.949" data-end="751.569">It takes a color.</span> <span data-start="751.569" data-end="753.45">Shows the HSL value.</span> <span data-start="753.45" data-end="758.16">I wrote this function in a utils file over here.</span> <span data-start="758.16" data-end="761.48">Let's find that, utils.</span> <span data-start="761.48" data-end="762.48">Yes.</span> <span data-start="762.48" data-end="765.509">Get HSL.</span> </p>
<p><span data-start="765.509" data-end="767.31">And I can go to the console.</span> <span data-start="767.31" data-end="768.91">I can type it.</span> <span data-start="768.91" data-end="773.62">And over here in the module I can see it.</span> <span data-start="773.62" data-end="775.579">Everything just works.</span> <span data-start="775.579" data-end="778.509">But that's not the native behavior.</span> <span data-start="778.509" data-end="780.029">It would be if we were using ES modules.</span> <span data-start="780.029" data-end="781.569">ES modules are amazing.</span> <span data-start="781.569" data-end="783.329">It just works.</span> <span data-start="783.329" data-end="786.819">But this was a React app built with Webpack.</span> <span data-start="786.819" data-end="793.839">And the default behavior for Webpack and frankly with a lot of Babel plugins is you get this.</span> <span data-start="793.839" data-end="795.059">Different blocks for different scopes.</span> <span data-start="795.059" data-end="796.059">What's that?</span> <span data-start="797.059" data-end="798.059">What's this JS thing?</span> </p>
<p><span data-start="798.059" data-end="799.059">Oh, boy.</span> <span data-start="799.059" data-end="801.769">Where did this function go?</span> <span data-start="801.769" data-end="803.18">I don't know.</span> <span data-start="803.18" data-end="804.18">Yeah.</span> <span data-start="804.18" data-end="805.18">right here.</span> <span data-start="805.18" data-end="806.18">Okay.</span> <span data-start="806.18" data-end="807.18">Cool.</span> <span data-start="807.18" data-end="808.18">So, we don't want that.</span> <span data-start="808.18" data-end="809.18">We want this.</span> <span data-start="809.18" data-end="810.18">This is what you want.</span> <span data-start="810.18" data-end="813.67">Anyways, I just want to give a shoutout because we have worked with Logan Smith on the Babel</span> <span data-start="813.67" data-end="817.18">team for the past five months?</span> </p>
<p><span data-start="817.18" data-end="819.25">And he's done amazing work.</span> <span data-start="819.25" data-end="825.779">We're actually re parsing the files using source maps to map it up and magic.</span> <span data-start="825.779" data-end="829.749">That probably should never have worked.</span> <span data-start="829.749" data-end="832.959">But Logan is a genius.</span> <span data-start="832.959" data-end="836.44">And he knows the internals of the transforms and source maps.</span> <span data-start="836.44" data-end="842.429">So, kudos to him.</span> <span data-start="842.429" data-end="851.23">[ Applause ] Demo number two.</span> <span data-start="851.23" data-end="854.279">Oops.</span> <span data-start="854.279" data-end="858.529">No good talk can avoid to do and PC.</span> <span data-start="858.529" data-end="862.97">It's so good.</span> </p>
<p><span data-start="862.97" data-end="868.949">And frankly, I have to do open every single day because that's what I debug.</span> <span data-start="868.949" data-end="870.809">It's great.</span> <span data-start="870.809" data-end="872.66">It works.</span> <span data-start="872.66" data-end="874.42">So, clear that route.</span> <span data-start="874.42" data-end="876.05">We'll go in here.</span> <span data-start="876.05" data-end="877.449">Find some JavaScript.</span> <span data-start="877.449" data-end="879.309">Set a new route.</span> <span data-start="879.309" data-end="880.529">Voila, some JS.</span> <span data-start="880.529" data-end="883.209">And it's Backbone and I love it.</span> <span data-start="883.209" data-end="887.749">So, we just set up a breakpoint over here.</span> <span data-start="887.749" data-end="888.749">Boom.</span> <span data-start="888.749" data-end="891.89">How many people did Backbone development back in the day?</span> <span data-start="891.89" data-end="892.89">Yeah.</span> <span data-start="892.89" data-end="894.06">That was the that was great.</span> <span data-start="894.06" data-end="895.3">That was the shit.</span> <span data-start="895.3" data-end="897.57">That was I loved it.</span> </p>
<p><span data-start="897.57" data-end="900.17">That's where I got started.</span> <span data-start="900.17" data-end="904.029">Backbone was like a bring your own render function library.</span> <span data-start="904.029" data-end="907.93">Don't worry about it.</span> <span data-start="907.93" data-end="912.1">And I just took it for granted and it was great.</span> <span data-start="912.1" data-end="913.119">But think about this demo.</span> <span data-start="913.119" data-end="914.819">I saw this render function.</span> <span data-start="914.819" data-end="917.249">I was like, really?</span> <span data-start="917.249" data-end="918.94">What is it even doing?</span> </p>
<p><span data-start="918.94" data-end="920.709">I mean, really?</span> <span data-start="920.709" data-end="921.709">Come on?</span> <span data-start="921.709" data-end="924.569">And I started looking at it and it was like, huh.</span> <span data-start="924.569" data-end="926.55">I started looking at it more closely.</span> <span data-start="926.55" data-end="928.72">Maybe back here and check that out.</span> </p>
<p><span data-start="928.72" data-end="931.559">What is this like why are we toggle visible?</span> <span data-start="931.559" data-end="933.459">That's like custom code.</span> <span data-start="933.459" data-end="935.04">I want to look at that.</span> <span data-start="935.04" data-end="938.489">And step in.</span> <span data-start="938.489" data-end="939.519">Is hidden.</span> </p>
<p><span data-start="939.519" data-end="941.829">Hmm m okay.</span> <span data-start="941.829" data-end="944.499">We're going to like actually manipulate the check box right now.</span> <span data-start="944.499" data-end="945.499">Find.</span> <span data-start="945.499" data-end="946.499">And render.</span> <span data-start="946.499" data-end="947.499">I don't even care.</span> <span data-start="947.499" data-end="948.649">What's this doing?</span> <span data-start="948.649" data-end="950.61">What's this 2 JSON?</span> <span data-start="950.61" data-end="951.61">Okay.</span> <span data-start="951.61" data-end="957.31">We just serialized some data and then we went with a template.</span> <span data-start="957.31" data-end="958.739">The thing I love about this oops.</span> <span data-start="958.739" data-end="960.92">Did I get that?</span> <span data-start="960.92" data-end="961.92">Go back.</span> <span data-start="961.92" data-end="963.269">Oh, because it's on the same line.</span> </p>
<p><span data-start="963.269" data-end="964.269">Nice.</span> <span data-start="964.269" data-end="965.269">Maybe this?</span> <span data-start="965.269" data-end="966.269">No.</span> <span data-start="966.269" data-end="972.17">No well, I can always like step back and then jump in, right?</span> <span data-start="972.17" data-end="973.17">Yes!</span> <span data-start="973.17" data-end="974.17">Templates.</span> <span data-start="974.17" data-end="975.41">With data.</span> <span data-start="975.41" data-end="976.62">Amazing.</span> <span data-start="976.62" data-end="980.16">Debugging with time travel is about exploring the entire space.</span> <span data-start="980.16" data-end="983.939">But it's also about looking at one complicated function and not being afraid to step forward</span> <span data-start="983.939" data-end="985.06">because you can always go back.</span> <span data-start="985.06" data-end="988.129">So, I wanted to show that.</span> </p>
<p><span data-start="988.129" data-end="989.319">And oops.</span> <span data-start="989.319" data-end="993.3">Maybe I'll just close this recording and start a new one.</span> <span data-start="993.3" data-end="994.51">Yeah.</span> <span data-start="994.51" data-end="995.709">No.</span> <span data-start="995.709" data-end="998.13">That's lame.</span> <span data-start="998.13" data-end="1000.54">I'm sorry.</span> <span data-start="1000.54" data-end="1005.36">Do, do, do oh.</span> <span data-start="1005.36" data-end="1006.57">Hey.</span> <span data-start="1006.57" data-end="1007.769">Yeah.</span> <span data-start="1007.769" data-end="1008.98">No.</span> <span data-start="1008.98" data-end="1012.6">I mean, yeah.</span> </p>
<p><span data-start="1012.6" data-end="1018.63">But, all right, fine, whatever.</span> <span data-start="1018.63" data-end="1019.839">Focus.</span> <span data-start="1019.839" data-end="1022.42">I'm going save this.</span> <span data-start="1022.42" data-end="1023.42">Berlin.</span> <span data-start="1023.42" data-end="1024.42">Close it.</span> <span data-start="1024.42" data-end="1025.42">Yeah.</span> <span data-start="1025.42" data-end="1027.03">You see what's coming, right?</span> <span data-start="1027.03" data-end="1031.21">Don't you want to check out these to dos we created?</span> <span data-start="1031.21" data-end="1033.5">Right?</span> <span data-start="1033.5" data-end="1035.79">Yeah.</span> <span data-start="1035.79" data-end="1040.72">[ Laughter ] We don't have the ability to set a breakpoint</span> <span data-start="1040.72" data-end="1043.24">yet in open DevTools, but that's coming.</span> </p>
<p><span data-start="1043.24" data-end="1048.049">And, yes, that's exciting.</span> <span data-start="1048.049" data-end="1052.869">That's my favorite demo.</span> <span data-start="1052.869" data-end="1054.07">[ Applause ]</span> <span data-start="1054.07" data-end="1056.48">All right.</span> <span data-start="1056.48" data-end="1061.721">So, there are four things I want to show you that are not really live demo able and we</span> <span data-start="1061.721" data-end="1063.549">got to move.</span> <span data-start="1063.549" data-end="1065.259">So, exceptions.</span> <span data-start="1065.259" data-end="1069.159">By the way, was it Sandra's talk this morning on exceptions?</span> <span data-start="1069.159" data-end="1070.159">Amazing.</span> <span data-start="1070.159" data-end="1071.159">God.</span> <span data-start="1071.159" data-end="1073.87">That was so cool.</span> </p>
<p><span data-start="1073.87" data-end="1075.47">Yes.</span> <span data-start="1075.47" data-end="1082.43">We all know them, we all love them, we all hate when we get them and don't know why,</span> <span data-start="1082.43" data-end="1084.68">and we're not sure what to do.</span> <span data-start="1084.68" data-end="1087.8">Well, time travel, right?</span> <span data-start="1087.8" data-end="1091.29">That thing oh, shoot.</span> <span data-start="1091.29" data-end="1092.39">That thing is interesting.</span> <span data-start="1092.39" data-end="1094.86">Maybe I'll look at the call stack.</span> <span data-start="1094.86" data-end="1097.13">No, that doesn't really help me.</span> <span data-start="1097.13" data-end="1103.5">I'm going to click that link at index and rewind to that spot where it happened.</span> <span data-start="1103.5" data-end="1104.5">ready?</span> <span data-start="1104.5" data-end="1105.5">Yes, yes.</span> <span data-start="1105.5" data-end="1106.5">Yes.</span> <span data-start="1106.5" data-end="1107.5">Yeah!</span> </p>
<p><span data-start="1107.5" data-end="1108.5">That's what you want.</span> <span data-start="1108.5" data-end="1110.82">You want to feel why it was called that or if it was called with the wrong names.</span> <span data-start="1110.82" data-end="1114.1">And now you can.</span> <span data-start="1114.1" data-end="1115.909">What about production, right?</span> <span data-start="1115.909" data-end="1119.789">Like, this is this is the money.</span> <span data-start="1119.789" data-end="1126.47">If we can help you debug your production app as getting hundreds of exceptions, oh, that</span> <span data-start="1126.47" data-end="1128.39">would be good.</span> <span data-start="1128.39" data-end="1134.299">And if you forget about the privacy thing, like if you're not working at Bank of America,</span> <span data-start="1134.299" data-end="1137.21">we might just be able to turn this on by default.</span> </p>
<p><span data-start="1137.21" data-end="1142.309">At which point that error now comes with a recording.</span> <span data-start="1142.309" data-end="1152.749">You can download that recording and there you are.</span> <span data-start="1152.749" data-end="1160.2">[ Applause ]</span> <span data-start="1160.2" data-end="1162.24">What about failing tests?</span> <span data-start="1162.24" data-end="1171.12">Who has intermittents?</span> <span data-start="1171.12" data-end="1172.12">I want to emphasize.</span> <span data-start="1172.12" data-end="1173.72">Raise your hand if you have gotten intermittent.</span> <span data-start="1173.72" data-end="1174.72">1% time.</span> <span data-start="1174.72" data-end="1175.72">That could never happen.</span> <span data-start="1175.72" data-end="1177.2">I wrote this perfectly.</span> <span data-start="1177.2" data-end="1181.76">No, there is conditions.</span> <span data-start="1181.76" data-end="1186.13">The killer feature in the short term is to be able to debug intermittents.</span> </p>
<p><span data-start="1186.13" data-end="1190.09">So, whenever there's something ha happens that surprises you, you have that same recording.</span> <span data-start="1190.09" data-end="1192.46">You can pull it down.</span> <span data-start="1192.46" data-end="1195.98">And maybe you have a happy case and a sad case, and you can just compare them.</span> <span data-start="1195.98" data-end="1199.25">Maybe ask the computer to do it.</span> <span data-start="1199.25" data-end="1201.669">All right.</span> <span data-start="1201.669" data-end="1202.89">Logs.</span> <span data-start="1202.89" data-end="1206.649">The thing that I hear, having worked on a debugger for more than two years, more than</span> <span data-start="1206.649" data-end="1209.75">anything, and it drives me nuts is an apology.</span> <span data-start="1209.75" data-end="1214.87">Everyone comes up and is like, yeah, debuggers are cool.</span> <span data-start="1214.87" data-end="1217.69">I should use it.</span> <span data-start="1217.69" data-end="1220.29">Good developers use it.</span> <span data-start="1220.29" data-end="1228.049">In fact, I talk to a lot of really senior engineers and they're not apologizing.</span> <span data-start="1228.049" data-end="1232.669">They're like, that's what I do.</span> <span data-start="1232.669" data-end="1236.49">And there's some truth to the fact that when you pause and when you're stepping it can</span> <span data-start="1236.49" data-end="1240.13">be a little slow and sometimes you want that full history and there should be a way to</span> <span data-start="1240.13" data-end="1242.929">kind of marry them.</span> </p>
<p><span data-start="1242.929" data-end="1248.88">And with time travel, by the way, this is a real bug that I had for three months.</span> <span data-start="1248.88" data-end="1251.94">When you hover on a variable you want to show the preview.</span> <span data-start="1251.94" data-end="1257.74">But it's hard to know if you're hovering on the variable and then the pop up or off.</span> <span data-start="1257.74" data-end="1261.01">So, I added tons of logs.</span> <span data-start="1261.01" data-end="1262.01">Three month bug.</span> </p>
<p><span data-start="1262.01" data-end="1263.78">Finally, I found it.</span> <span data-start="1263.78" data-end="1269.46">I was able to click on the console log message, go into the debugger and see what the fuck</span> <span data-start="1269.46" data-end="1271.25">was going on.</span> <span data-start="1271.25" data-end="1273.34">And time travel, it's like Alexa at some point.</span> <span data-start="1273.34" data-end="1276.1">Alexa, I want to go back in time.</span> <span data-start="1276.1" data-end="1281.919">That doesn't have it, I'm using knightly, whatever.</span> <span data-start="1281.919" data-end="1287.74">Just being able to reach for it and it makes it easier to be able to do what you want to</span> <span data-start="1287.74" data-end="1288.74">do.</span> <span data-start="1288.74" data-end="1291.679">That's number one.</span> <span data-start="1291.679" data-end="1292.679">Redux.</span> <span data-start="1292.679" data-end="1296.83">Rebuilt the debugger to use React and Redux, I wanted time travel.</span> <span data-start="1296.83" data-end="1301.38">You can kind of see that's something I'm into.</span> </p>
<p><span data-start="1301.38" data-end="1305.99">And on the right, you see that we're using the Redux Dev Tools and it's awesome.</span> <span data-start="1305.99" data-end="1310.95">Shows a list of all the actions for the debugger.</span> <span data-start="1310.95" data-end="1314.799">We get sources, we get pause action, we show the pause data.</span> <span data-start="1314.799" data-end="1316.649">All that stuff.</span> <span data-start="1316.649" data-end="1319.47">Here is Redux Dev Tools hooked up with time travel.</span> <span data-start="1319.47" data-end="1324.23">So, Dev Tools shows us the state of the app, the UI, at a certain point in time.</span> <span data-start="1324.23" data-end="1331.309">When I finally want to jump into the debugger and wait for it maybe find the pause thing.</span> <span data-start="1331.309" data-end="1333.59">There we have it.</span> <span data-start="1333.59" data-end="1334.59">Boom.</span> <span data-start="1334.59" data-end="1336.389">We have the two, one on top of the other.</span> <span data-start="1336.389" data-end="1342.83">And you don't just see the redux date, you see the code behind it that fired them.</span> <span data-start="1342.83" data-end="1345.47">And you can just jump wherever.</span> <span data-start="1345.47" data-end="1346.47">Nice.</span> <span data-start="1346.47" data-end="1348.87">This demo was find of fabricated because I didn't want to get the Redux Dev Tools thing</span> <span data-start="1348.87" data-end="1350.69">in.</span> </p>
<p><span data-start="1350.69" data-end="1354.14">But you get the point.</span> <span data-start="1354.14" data-end="1355.14">UI.</span> <span data-start="1355.14" data-end="1360.59">So, you don't just have to debug your JavaScript to use the recording, you can you're recording</span> <span data-start="1360.59" data-end="1361.769">everything at this point.</span> <span data-start="1361.769" data-end="1365.679">So, why not look at the DOM.</span> </p>
<p><span data-start="1365.679" data-end="1370.63">And how often have you run into this case where a website you are working on has some</span> <span data-start="1370.63" data-end="1375.59">loading interaction and maybe seen and drives you nuts because it flashes and you're not</span> <span data-start="1375.59" data-end="1376.59">sure why.</span> <span data-start="1376.59" data-end="1379.71">It's probably images coming down, visuals loading.</span> <span data-start="1379.71" data-end="1380.71">CSS.</span> <span data-start="1380.71" data-end="1381.71">You name it.</span> <span data-start="1381.71" data-end="1383.659">We have the net monitor.</span> <span data-start="1383.659" data-end="1384.98">We have the inspector.</span> <span data-start="1384.98" data-end="1388.299">And now with time travel, we have two ways to pause.</span> <span data-start="1388.299" data-end="1396.039">You can say pause at the time of this loading or pause at the time that the layout changed.</span> <span data-start="1396.039" data-end="1397.75">And that's amazing, right?</span> </p>
<p><span data-start="1397.75" data-end="1402.429">Because you can see the before and after and you can just see the comparison.</span> <span data-start="1402.429" data-end="1403.71">All the stuff.</span> <span data-start="1403.71" data-end="1404.71">Frameworks.</span> <span data-start="1404.71" data-end="1405.71">Yeah.</span> <span data-start="1405.71" data-end="1407.63">All right.</span> </p>
<p><span data-start="1407.63" data-end="1410">Two things here.</span> <span data-start="1410" data-end="1414.419">One, with React we pause in a render with React 16.</span> <span data-start="1414.419" data-end="1415.84">You don't know why you paused.</span> <span data-start="1415.84" data-end="1418.149">In fact, you don't know where you're paused.</span> <span data-start="1418.149" data-end="1421.559">You know you're in a component, but why?</span> <span data-start="1421.559" data-end="1422.559">What's the parent?</span> <span data-start="1422.559" data-end="1424.69">What's the whole component tree?</span> <span data-start="1424.69" data-end="1429.2">Well, we have been working on this framework feature, so we can show you the tree in your</span> <span data-start="1429.2" data-end="1430.84">call stack which is useful.</span> <span data-start="1430.84" data-end="1438.44">But unfortunately, because it's async, we can't actually let you go back to that render</span> <span data-start="1438.44" data-end="1440.299">and see it because it's already happened.</span> <span data-start="1440.299" data-end="1441.299">It's done.</span> </p>
<p><span data-start="1441.299" data-end="1442.83">And so, yeah.</span> <span data-start="1442.83" data-end="1443.83">Time travel.</span> <span data-start="1443.83" data-end="1444.83">Boom!</span> <span data-start="1445.83" data-end="1446.83">It's now possible again.</span> <span data-start="1446.83" data-end="1449.5">It just works like you want it to.</span> <span data-start="1449.5" data-end="1454.63">And frameworks are going async and scheduling, it's now recoverable.</span> <span data-start="1454.63" data-end="1458.46">You have a set time out, you have some frames below it, can't see them.</span> <span data-start="1458.46" data-end="1460.98">Now you can.</span> <span data-start="1460.98" data-end="1465.889">Your pause and a render because of a redux action that fired.</span> </p>
<p><span data-start="1465.889" data-end="1469">We can figure out that the reason we're paused is Redux.</span> <span data-start="1469" data-end="1470.71">And we can put that in the call stack.</span> <span data-start="1470.71" data-end="1473.299">And, again, boom, you're in the action.</span> <span data-start="1473.299" data-end="1475.529">Or, sorry, you're in the reducer.</span> </p>
<p><span data-start="1475.529" data-end="1478.169">And if you want to, you can rewind to the action.</span> <span data-start="1478.169" data-end="1479.299">Voila.</span> <span data-start="1479.299" data-end="1482.69">[ Applause ] All right.</span> <span data-start="1482.69" data-end="1488.35">I don't have much time.</span> <span data-start="1488.35" data-end="1493.34">But I feel like that's just the beginning.</span> <span data-start="1493.34" data-end="1497.549">There's so much we can do at this point and we haven't even scratched the surface.</span> <span data-start="1497.549" data-end="1503.57">It's almost like we're used to debugging paper maps and we want Google Maps.</span> <span data-start="1503.57" data-end="1506.899">We can build in the whole path and visualize so you can jump around.</span> <span data-start="1506.899" data-end="1509.909">In fact, we can build a video player and you can scrub.</span> <span data-start="1509.909" data-end="1515.35">Yeah, I love that animation.</span> <span data-start="1515.35" data-end="1520.7">And before I finish, I just want to say that having joined Mozilla two years ago, I've</span> <span data-start="1520.7" data-end="1523.649">realized how special a place it is.</span> <span data-start="1523.649" data-end="1529.25">Netscape, open sourcing, Netscape in the browser in many ways created the world we live in</span> <span data-start="1529.25" data-end="1532.309">now with open source at scale.</span> </p>
<p><span data-start="1532.309" data-end="1533.85">Investing in the web.</span> <span data-start="1533.85" data-end="1534.85">Investing in Rust.</span> <span data-start="1534.85" data-end="1537.57">Because if you are going to build a fast browser, you need parallellization.</span> <span data-start="1537.57" data-end="1542.74">Investing in ten years from now, if you have parallellization, you need to debug it.</span> <span data-start="1542.74" data-end="1544.97">Has helped create the world we are now in.</span> <span data-start="1544.97" data-end="1548.82">This is an experiment, I can see us pulling it off.</span> <span data-start="1548.82" data-end="1551.14">We don't know if it's going to happen, but it could.</span> </p>
<p><span data-start="1551.14" data-end="1552.14">So, thank you.</span> </p>
</section>