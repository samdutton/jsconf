<section>
<p><span data-start="27.4" data-end="37.25">So, yeah. Thank you for the kind introduction, so that everyone knows who I am now. We can get right</span> <span data-start="37.25" data-end="38.59">to the dependency hell. So today's talk is about</span> <span data-start="38.59" data-end="43.83">dependencies and their relationships, dependency is a state</span> <span data-start="43.83" data-end="47.28">in which one object uses the function of another object</span> <span data-start="47.28" data-end="50.64">around in the JavaScript world we have a pretty good</span> <span data-start="50.64" data-end="54.19">tool, and a pretty great infrastructure to make that functionality</span> <span data-start="54.19" data-end="58.92">available and consumerable. So dependency relations</span> <span data-start="58.92" data-end="62.199">brings a lot of good, but sometimes we're really mad</span> <span data-start="62.199" data-end="68.479">about them, hence the term dependency hell. Let me</span> <span data-start="68.479" data-end="75.439">start with a little story. About two years ago, when</span> </p>
<p><span data-start="75.439" data-end="79.79">I started my university course, I was looking for people</span> <span data-start="79.79" data-end="83.26">who had already done some projects or cool stuff. So</span> <span data-start="83.26" data-end="85.39">I was looking around and there was a person who had</span> <span data-start="85.39" data-end="90.43">already done no project, so obviously we became friends,</span> <span data-start="90.43" data-end="93.51">but I soon found out that it wasn't their only</span> <span data-start="93.51" data-end="96.89">technology, like it was my technology, I'd done</span> <span data-start="96.89" data-end="104.67">a project, he'd done C++ hardware and he was a better</span> <span data-start="104.67" data-end="111.13">computer scientist than I was at the time, and I am now,</span> <span data-start="111.13" data-end="114.39">but when we started hacking together it always felt like</span> <span data-start="114.39" data-end="119.53">it was more productive somehow, and we showed each other</span> <span data-start="119.53" data-end="123.06">some code, and started hacking. And so I read through</span> <span data-start="123.06" data-end="126.94">his modules and code and then I found one line where</span> <span data-start="126.94" data-end="130.75">there was a lot of code that was handled, and it was</span> <span data-start="130.75" data-end="136.09">requiring these modules. So I said: "Why are you using</span> <span data-start="136.09" data-end="143.03">that code?" And at that time it was the most depended</span> <span data-start="143.03" data-end="147.739">upon and downloaded package, and he said "What is A</span> <span data-start="147.739" data-end="149.81">sync? I have no idea what that is." I wrote this</span> <span data-start="149.81" data-end="158.129">module myself. And so I said: "Okay, now I know why it</span> <span data-start="158.129" data-end="162.409">feels like I'm more productive than you." And so this</span> <span data-start="162.409" data-end="166.549">is the only thing to this day I could probably ever</span> <span data-start="166.549" data-end="172.269">teach to him, that's use the NPM search, or better yet</span> </p>
<p><span data-start="172.269" data-end="179.299">NPM search, or their web search. And that made them</span> <span data-start="179.299" data-end="182.659">a productive developer, not only excellent but</span> <span data-start="182.659" data-end="186.76">productive. And once we realised that he can just do</span> <span data-start="186.76" data-end="189.989">NPM search, and then there's a package, and then you</span> <span data-start="189.989" data-end="193.669">just plug them together, the productivity just exploded.</span> <span data-start="193.669" data-end="196.73">It got to the point where I had to be careful what I was</span> <span data-start="196.73" data-end="201.56">saying because the next morning he had just done it. So</span> <span data-start="201.56" data-end="205.45">we were living in this university home back at the time,</span> <span data-start="205.45" data-end="207.499">and there was this very, very shitty Internet where you</span> <span data-start="207.499" data-end="211.45">had to put in every few hours, so I said: "This is so</span> <span data-start="211.45" data-end="213.829">annoying, you should have one that fills in the</span> <span data-start="213.829" data-end="216.249">credentials", and the next morning he was: "Yeah, yeah</span> </p>
<p><span data-start="216.249" data-end="221.269">I automated that so it sets the address, which forces</span> <span data-start="221.269" data-end="224.379">the form to come up, and then I automated the form so we</span> <span data-start="224.379" data-end="228.159">have this little raspberry, you put it in here, plug it</span> <span data-start="228.159" data-end="230.909">in", and the Internet was awesome, and that's just great</span> <span data-start="230.909" data-end="234.68">and that was because he had installed the thing plus the</span> <span data-start="234.68" data-end="239.199">knowledge he already had. So that's pretty cool. But</span> <span data-start="239.199" data-end="242.73">now comes the part that is even more important for me,</span> <span data-start="242.73" data-end="247.48">and for us as a community if we want to be welcoming,</span> <span data-start="247.48" data-end="252.269">and enable more people to do stuff. So this was just</span> <span data-start="252.269" data-end="256.709">the beginning of my university course, and obviously</span> <span data-start="256.709" data-end="260.859">I am a beginner programmer, and since there were other</span> <span data-start="260.859" data-end="265.449">persons who had already done some websites, already sold</span> <span data-start="265.449" data-end="269.11">some websites, but it is pretty much been copy and paste</span> <span data-start="269.11" data-end="274.76">stuff, pretty horrible, but that's how we all start out.</span> </p>
<p><span data-start="274.76" data-end="276.8">I mean it is horrible in the technical sense, but it is</span> <span data-start="276.8" data-end="280.81">pretty cool that we actually did some things, and then</span> <span data-start="280.81" data-end="283.509">the university courses came in and were like teaching</span> <span data-start="283.509" data-end="287.09">the basics of programming and then doing it the real</span> <span data-start="287.09" data-end="291.71">way, and then he was really frustrated, because all he</span> <span data-start="291.71" data-end="295.449">wanted to do was build websites, do things, and that</span> <span data-start="295.449" data-end="299.65">didn't help at all. So here is the thing I told him:</span> <span data-start="299.65" data-end="303.509">use NPM search. And obviously it wasn't that easy</span> <span data-start="303.509" data-end="307.139">because he didn't even know what NPM is, but once I got</span> <span data-start="307.139" data-end="310.3">it explained, I said to him: "Listen, for everything you</span> <span data-start="310.3" data-end="312.759">want to do there's someone out there who has already</span> <span data-start="312.759" data-end="315.83">done it, and you only need to rearrange things in new</span> <span data-start="315.83" data-end="322.699">ways and be creative." So NPM search made him a productive developer,</span> <span data-start="322.699" data-end="326.37">and some people, especially at university, think</span> <span data-start="326.37" data-end="329.97">you can only teach things by making people deeply</span> <span data-start="329.97" data-end="333.599">understand the basics and the core principles of stuff, but</span> </p>
<p><span data-start="333.599" data-end="336.49">I think you can just stop boring people and give them</span> <span data-start="336.49" data-end="339.259">tools so they can start creating, and then they will keep</span> <span data-start="339.259" data-end="343.75">creating, and sooner or later they will understand,</span> <span data-start="343.75" data-end="348.34">and then it goes on and on and never stops. So this person</span> <span data-start="348.34" data-end="356.08">built their first node thing, and it was talking</span> <span data-start="356.08" data-end="360.75">to Twitter and Facebook, just three months later, and</span> <span data-start="360.75" data-end="364.58">obviously he didn't understand anything of OF, but no one</span> <span data-start="364.58" data-end="371.659">does, but he just started with a little guidance, and</span> <span data-start="371.659" data-end="380.669">just three months later he was a productive developer.</span> </p>
<p><span data-start="380.669" data-end="384.86">This is what is enabled by NPM. They have really great</span> <span data-start="384.86" data-end="388.909">tools and a registry that's available for everyone.</span> <span data-start="388.909" data-end="392.139">They're hosting it for us, making it accessible, and</span> <span data-start="392.139" data-end="395.02">they have an incredible team of humans working on that.</span> <span data-start="395.02" data-end="397.75">I couldn't be more happy about this, because it is</span> <span data-start="397.75" data-end="401.819">enabling everything, so that's pretty cool, but the</span> <span data-start="401.819" data-end="405.71">infrastructure isn't everything. We have this cool</span> <span data-start="405.71" data-end="410.389">little thing: our community. And so this is what our</span> <span data-start="410.389" data-end="417.15">community achieved. So who here has ever published a module? Can you raise you hands? That's</span> <span data-start="417.15" data-end="420.25">quite a few people. That's pretty cool. There are no exact</span> <span data-start="420.25" data-end="424.909">numbers but they're about 50,000 or more than 50,000</span> <span data-start="424.909" data-end="429.259">individual people who published modules, and it is just</span> <span data-start="429.259" data-end="432.479">incredible to observe this, to see people coding in the</span> <span data-start="432.479" data-end="436.03">open talking about stuff, and it is just inspiring</span> <span data-start="436.03" data-end="442.93">and makes everyone so productive. What we have is 180</span> <span data-start="442.93" data-end="450.77">thousand modules, and everywhere you can run JavaScript,</span> <span data-start="450.77" data-end="455.919">in your TV, we can use these modules. So everything</span> <span data-start="455.919" data-end="463.49">is pretty awesome, right? The thing is, we don't just</span> <span data-start="463.49" data-end="469.3">need productive developers, in the long-term, if</span> <span data-start="469.3" data-end="473.199">we want to shift serious products that also pay the bill</span> <span data-start="473.199" data-end="477.87">for all this, we need to be able to work in teams.</span> </p>
<p><span data-start="477.87" data-end="480.539">And of course we need flexibility and productivity,</span> <span data-start="480.539" data-end="484.349">but we also need stability and maintainability. That's</span> <span data-start="484.349" data-end="487.479">the part where the more serious developers come in</span> <span data-start="487.479" data-end="491.729">and say small modules are nice in theory, but it doesn't</span> <span data-start="491.729" data-end="495.599">work, stuff keeps breaking all the time, there's just</span> <span data-start="495.599" data-end="499.979">so much overheads. So we came up with a term that</span> <span data-start="499.979" data-end="502.43">is so privileged it could probably only come into</span> <span data-start="502.43" data-end="507.629">existence in the tech community, because we call it "dependency</span> <span data-start="507.629" data-end="511.199">hell". The worst possible place we could be in.</span> </p>
<p><span data-start="511.199" data-end="514.38">Because code that other people wrote for us stops</span> <span data-start="514.38" data-end="523.88">working. Imagine you're a small kid, and instead of</span> <span data-start="523.88" data-end="528.04">asking your parents for this one certain piece of</span> <span data-start="528.04" data-end="531.89">Lego, you just have every single Lego piece available</span> <span data-start="531.89" data-end="536.2">to you, it doesn't matter what colour, size, how many</span> <span data-start="536.2" data-end="540.19">of them, you can just build anything you want. This is</span> <span data-start="540.19" data-end="549.41">how I see the NPM registry. And imagine your house collapses</span> <span data-start="549.41" data-end="552.09">or whatever you have built, and it no longer</span> <span data-start="552.09" data-end="558.52">works the way you want. What would you do as a small kid?</span> </p>
<p><span data-start="558.52" data-end="560.97">You would probably start crying because your beautiful</span> <span data-start="560.97" data-end="565.42">house just collapsed. And that's what we do. Small modules</span> <span data-start="565.42" data-end="570.53">suck, NPM sucks, semantic versioning sucks, everything</span> <span data-start="570.53" data-end="577.77">sucks. We need to grow up because this room would</span> <span data-start="577.77" data-end="584.38">be pretty empty without all the modules. I'm serious.</span> <span data-start="584.38" data-end="587.83">This is a huge part of the success of JavaScript,</span> <span data-start="587.83" data-end="593.98">that we can make functionality for others without infringing.</span> <span data-start="593.98" data-end="600.95">So we have to realise this. We might be getting</span> <span data-start="600.95" data-end="605.86">functionality for free, but we have to write tests for it</span> <span data-start="605.86" data-end="610.34">ourselves. There is one exception. We only use modules</span> <span data-start="610.34" data-end="614.78">by John David Dalston, which is a joke because there</span> <span data-start="614.78" data-end="618.26">is no exception. It's quite the opposite, even if</span> <span data-start="618.26" data-end="622.41">we only use modules by John David Dalston which are well</span> <span data-start="622.41" data-end="625.58">tested, we still have to write our own tests because</span> <span data-start="625.58" data-end="630.18">that's the only way to prove our code is working. Actually</span> <span data-start="630.18" data-end="633.46">the test defines what our software is, and if</span> <span data-start="633.46" data-end="639.58">we don't have that and just have something, and even though</span> <span data-start="639.58" data-end="642.35">if you're relying on well tested modules for all the</span> <span data-start="642.35" data-end="645.15">implementation bit, that's not software, it is only</span> <span data-start="645.15" data-end="649.39">a hack. I don't want to exclude myself here, I'm using</span> <span data-start="649.39" data-end="652.22">hacks all the time. But the thing is we need to be</span> <span data-start="652.22" data-end="665.57">aware of it and stop laying the blame on others. There's one thing about dependency hell that's</span> <span data-start="665.57" data-end="668.75">accurate. Hell is a place where you get punished for</span> <span data-start="668.75" data-end="672.49">self-inflicted sins. It is not the others. It is you.</span> </p>
<p><span data-start="672.49" data-end="679.59">You have to write tests for your stuff. So we have to</span> <span data-start="679.59" data-end="683.74">embrace that modules are everything. They make us</span> <span data-start="683.74" data-end="686.05">productive, they are the reason why we're here, they're</span> <span data-start="686.05" data-end="689.05">the reason why JavaScript is so successful, because we</span> <span data-start="689.05" data-end="693.38">can share and be open about the stuff we're working on,</span> <span data-start="693.38" data-end="698.36">and we have to accept that we have to test our stuff.</span> <span data-start="698.36" data-end="702.98">That's the deal. Others may write the implementation bits, but we have to write the tests because</span> <span data-start="702.98" data-end="706.58">that's the definition of what we're writing. So that's</span> <span data-start="706.58" data-end="710.38">the key to maintainable software.</span> <span data-start="710.38" data-end="719">So over the course of the last year I started writing a tool, or a rather a test thing,</span> <span data-start="719" data-end="725.63">because that's what I did all the time. So it's stable. And</span> <span data-start="725.63" data-end="730.58">it helps take all this to automater and fire publishing</span> <span data-start="730.58" data-end="744.96">process. Trust me, this will change your work for the</span> <span data-start="744.96" data-end="748.87">better. I agree it is a great rule, but the thing</span> <span data-start="748.87" data-end="753.95">is it is only for package authors, and you saw earlier some</span> <span data-start="753.95" data-end="756.43">people raised their hands when I asked if there is</span> <span data-start="756.43" data-end="760.09">some package authors here, but I realised if you want to</span> <span data-start="760.09" data-end="764.26">make change in the entire eco standard, if you want to</span> <span data-start="764.26" data-end="769.13">enable more people to share their stuff and build code</span> </p>
<p><span data-start="769.13" data-end="773.22">I have to provide something for the users of the package,</span> <span data-start="773.22" data-end="778.02">and every author is a user of the package, as</span> <span data-start="778.02" data-end="781.08">well. And so, I listened to my friend Stephan and</span> <span data-start="781.08" data-end="790.29">I stick to these three rules: humans shoot humans,</span> <span data-start="790.29" data-end="794.88">computers shoot computers, and computers only exist</span> <span data-start="794.88" data-end="801.99">to make better humans ..</span> <span data-start="801.99" data-end="804.32">I want to show you something entirely new I was</span> <span data-start="804.32" data-end="809.22">working on with a bunch of friends. No one saw it</span> <span data-start="809.22" data-end="824.55">before, and I'm going to do a live demo, so let's see</span> <span data-start="824.55" data-end="838.29">what happens. So the thing that makes dependency hell</span> <span data-start="838.29" data-end="840.57">so annoying is that you have to keep track of the</span> <span data-start="840.57" data-end="844.63">changes in your dependencies and new versions, you can</span> <span data-start="844.63" data-end="852.11">either pin them all the time and then you're vulnerable</span> <span data-start="852.11" data-end="862.47">to random fails in your stuff, so you're constantly managing your dependencies. So the idea is</span> <span data-start="862.47" data-end="866">that  —  so I have this demo repository, it doesn't have</span> <span data-start="866" data-end="868.37">any code but it has some dependencies to show this</span> <span data-start="868.37" data-end="876.3">to you. So I built this tool, it is called Link Keeper.</span> </p>
<p><span data-start="876.3" data-end="888.92">Obviously this had to happen because I have to sync</span> <span data-start="888.92" data-end="905.98">first. I'm sorry. I have a lot of packages, so that excuses</span> <span data-start="905.98" data-end="918.62">it maybe. Awesome. So this repository is enabled</span> <span data-start="918.62" data-end="923.66">now, and this means there's a computer computering</span> <span data-start="923.66" data-end="926.87">in the background to manage all the dependencies</span> <span data-start="926.87" data-end="960.72">for us. Of course. Of course</span> <span data-start="960.72" data-end="965.78">it just had to happen, obviously, and I'm very sorry. I swear it worked when I was</span> <span data-start="965.78" data-end="969.92">sitting in the front of the stage. I'll just explain</span> <span data-start="969.92" data-end="986.14">the concept and then you can see if you like it. So I</span> <span data-start="986.14" data-end="989.59">have these dependencies and they're all using versions</span> <span data-start="989.59" data-end="994.43">where I say use this version, and everything that's a</span> <span data-start="994.43" data-end="997.9">new patch or a minor version, and so when I enabled the</span> <span data-start="997.9" data-end="1001.44">repository, I automatically get a request that pins down</span> <span data-start="1001.44" data-end="1003.72">all my dependencies to the highest version that is</span> <span data-start="1003.72" data-end="1008.61">currently satisfying in the range, and then I put a</span> <span data-start="1008.61" data-end="1012.6">request in and then I have pinned down dependencies, what</span> <span data-start="1012.6" data-end="1019.01">has happened then is whenever dependency changes, get another</span> <span data-start="1019.01" data-end="1022.54">pull request in time, and nothing changes in time</span> <span data-start="1022.54" data-end="1026.429">but the version, and then the pull request comes in,</span> <span data-start="1026.429" data-end="1030.169">and then you probably have some CI service configured</span> <span data-start="1030.169" data-end="1033.789">and it automatically runs the tests, the tests, depending</span> <span data-start="1033.789" data-end="1038.37">on the dependency change in isolation, and you</span> <span data-start="1038.37" data-end="1043.63">can merge right away with the click of one button. And</span> <span data-start="1043.63" data-end="1047.589">if it doesn't, you know exactly which version caused</span> <span data-start="1047.589" data-end="1050.74">the problem and you have a branch ready sitting</span> <span data-start="1050.74" data-end="1053.76">there, and you just check it out and keep working on</span> <span data-start="1053.76" data-end="1060.82">it and you can just merge it in as well. So the idea is that</span> <span data-start="1060.82" data-end="1064.52">we're going to make this available for every public</span> <span data-start="1064.52" data-end="1069.57">repository on Twitter so that everyone can have pinned</span> <span data-start="1069.57" data-end="1072.44">down dependencies, everyone can have control over</span> <span data-start="1072.44" data-end="1076.91">what version they're using, but at the same time,</span> <span data-start="1076.91" data-end="1083.16">it's always up to date. So this isn't quite as impressive</span> <span data-start="1083.16" data-end="1088.29">without the demo, but it's available today, and you</span> <span data-start="1088.29" data-end="1099.78">can get this via NPM, obviously, it's NPM install-G greenkeeper</span> <span data-start="1099.78" data-end="1105.15">and please sign up and share it. As I said, we</span> <span data-start="1105.15" data-end="1109.34">want to make this available for all public repositories</span> <span data-start="1109.34" data-end="1112.45">so that at some point this is running on every single</span> </p>
<p><span data-start="1112.45" data-end="1115.76">NPM dependency and therefore the entire NPM eco</span> <span data-start="1115.76" data-end="1119.76">system doesn't make us as productive, it is also</span> <span data-start="1119.76" data-end="1134.87">maintainable. Thank you. [applause]. And maybe you should</span> <span data-start="1134.87" data-end="1137.89">wait ten more minutes and then we have this thing fixed</span> </p>
</section>