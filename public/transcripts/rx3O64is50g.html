<section>
<p><span data-start="38.539" data-end="41.76">everybody my name is Kevin I work for a</span> <span data-start="41.76" data-end="44.94">outfit called Twilio and if you haven't</span> <span data-start="44.94" data-end="46.109">had a chance to use Tullio before it</span> <span data-start="46.109" data-end="47.879">lets you do cool stuff like make and</span> <span data-start="47.879" data-end="49.859">receive phone calls send and receive</span> <span data-start="49.859" data-end="52.739">text or picture messages and I enabled</span> <span data-start="52.739" data-end="54.78">what calling in your desktop browsers or</span> <span data-start="54.78" data-end="57.39">mobile apps and also I actually wrote</span> <span data-start="57.39" data-end="59.249">the note module for Twilio and I think</span> <span data-start="59.249" data-end="60.42">I'm actually gonna add a high-level</span> <span data-start="60.42" data-end="62.46">helper that is a one liner so that</span> <span data-start="62.46" data-end="65.37">Angelina Fabio brings you brings you</span> <span data-start="65.37" data-end="67.5">tacos as you saw in one of the last</span> <span data-start="67.5" data-end="69.57">talks so that was pretty awesome</span> <span data-start="69.57" data-end="72.6">great use of Tullio and if you think any</span> <span data-start="72.6" data-end="73.5">of that stuff might be fun to play</span> <span data-start="73.5" data-end="75.329">around with I just go ahead and NPM</span> <span data-start="75.329" data-end="77.88">install Tulio but that's not what I'm</span> <span data-start="77.88" data-end="79.68">here to talk about today I'd like to</span> <span data-start="79.68" data-end="81.329">talk a little bit about again one of my</span> <span data-start="81.329" data-end="83.219">favorite tools for use with node.js</span> <span data-start="83.219" data-end="85.59">which is browserify and for me it's</span> <span data-start="85.59" data-end="87.24">actually sort of the key tool which</span> <span data-start="87.24" data-end="89.789">unlocks the promise of node to allow you</span> <span data-start="89.789" data-end="92.009">to share code between the client and the</span> <span data-start="92.009" data-end="94.649">server side and it's also really useful</span> <span data-start="94.649" data-end="97.59">even beyond the browser really a browser</span> <span data-start="97.59" data-end="100.079">if I house you to do is to package up</span> <span data-start="100.079" data-end="103.289">the node.js module system and basically</span> <span data-start="103.289" data-end="105.24">create a single javascript file that you</span> <span data-start="105.24" data-end="106.89">can evaluate in any JavaScript</span> <span data-start="106.89" data-end="108.63">environment but lets you write your</span> <span data-start="108.63" data-end="110.1">javascript in such a way where you can</span> <span data-start="110.1" data-end="113.52">you know structure your code in as no</span> <span data-start="113.52" data-end="116.369">jazz style common J's modules so it's</span> <span data-start="116.369" data-end="118.289">really cool if you haven't used it</span> <span data-start="118.289" data-end="119.909">before I definitely encourage you to do</span> <span data-start="119.909" data-end="123.06">so because it allows you to start to</span> <span data-start="123.06" data-end="125.64">share culture if you will with both</span> <span data-start="125.64" data-end="127.289">declined in the server side in your</span> </p>
<p><span data-start="127.289" data-end="130.2">JavaScript code on just having the same</span> <span data-start="130.2" data-end="131.79">language on both ends of the wire is</span> <span data-start="131.79" data-end="134.67">pretty cool but if you actually want to</span> <span data-start="134.67" data-end="135.33">reuse</span> <span data-start="135.33" data-end="137.1">it should be written in the same style</span> <span data-start="137.1" data-end="139.37">and kind of live in the same ecosystem</span> <span data-start="139.37" data-end="143.19">as you know it has one another so that's</span> <span data-start="143.19" data-end="144.96">why I think browser if I really enables</span> <span data-start="144.96" data-end="146.97">a lot of the really cool stuff that we</span> <span data-start="146.97" data-end="148.92">sort of are hoping to realize with</span> <span data-start="148.92" data-end="153.06">nodejs so I if you are writing a node.js</span> <span data-start="153.06" data-end="155.52">module today that you're supporting out</span> <span data-start="155.52" data-end="158.43">on NPM a lot of modules with browserify</span> <span data-start="158.43" data-end="160.62">today will just work so it could be that</span> <span data-start="160.62" data-end="162.93">you have no work to do to make your</span> <span data-start="162.93" data-end="166.14">mount module browser a file but you</span> <span data-start="166.14" data-end="167.55">might want to do a little bit of extra</span> <span data-start="167.55" data-end="169.71">work if your module meets one of these</span> <span data-start="169.71" data-end="172.44">two criteria so if your if the</span> <span data-start="172.44" data-end="173.73">functionality that you're shipping in</span> <span data-start="173.73" data-end="175.62">your module has sort of complimentary ap</span> <span data-start="175.62" data-end="177.24">is that you can they're slightly</span> <span data-start="177.24" data-end="178.53">different that you can use both on the</span> <span data-start="178.53" data-end="180.63">client and the server side one example</span> <span data-start="180.63" data-end="183.51">would be the ws module the web socket a</span> <span data-start="183.51" data-end="186.42">popular web socket library for node in</span> <span data-start="186.42" data-end="188.7">the browser when you require it it gives</span> <span data-start="188.7" data-end="191.16">you a cross platform or a you know a</span> <span data-start="191.16" data-end="193.29">browser specific version of the web</span> <span data-start="193.29" data-end="195.84">socket implementation that exists on</span> <span data-start="195.84" data-end="198.12">that browser and and then on the server</span> <span data-start="198.12" data-end="200.28">side it gives you a WebSocket server</span> <span data-start="200.28" data-end="203.22">that you can then use so if your module</span> <span data-start="203.22" data-end="206.19">sort of could benefit from having sort</span> <span data-start="206.19" data-end="210.06">of nice nice interfaces that are that</span> <span data-start="210.06" data-end="211.59">are connected on both the client and the</span> <span data-start="211.59" data-end="213.75">server then you probably won't want to</span> <span data-start="213.75" data-end="215.01">look at some of the more advanced</span> <span data-start="215.01" data-end="218.28">features of browser five also sometimes</span> <span data-start="218.28" data-end="219.84">your module isn't just going to work so</span> <span data-start="219.84" data-end="222.51">if your module does any kind of a file</span> <span data-start="222.51" data-end="223.709">system i/o or something along those</span> <span data-start="223.709" data-end="225.72">lines obviously that's not going to work</span> <span data-start="225.72" data-end="228.6">a node or excuse me with browserify but</span> <span data-start="228.6" data-end="230.61">basra fidos provide shims for most of</span> <span data-start="230.61" data-end="234.39">nodes core libraries so a lot of the NPM</span> <span data-start="234.39" data-end="236.07">universe just kind of works today so</span> <span data-start="236.07" data-end="238.53">your module might be one of them if not</span> </p>
<p><span data-start="238.53" data-end="240.45">I would definitely recommend you know</span> <span data-start="240.45" data-end="241.83">taking a look at how you can make it</span> <span data-start="241.83" data-end="244.23">browserify compatible if that if that</span> <span data-start="244.23" data-end="244.739">makes sense</span> <span data-start="244.739" data-end="246.6">because a lot of folks are sort of</span> <span data-start="246.6" data-end="248.97">moving to browserify as an alternative</span> <span data-start="248.97" data-end="250.17">to some of the asynchronous module</span> <span data-start="250.17" data-end="252.51">loaders that are purely sort of live in</span> <span data-start="252.51" data-end="253.2">the browser</span> <span data-start="253.2" data-end="256.38">- again â€” to realize that promise of</span> <span data-start="256.38" data-end="258.39">having the same styled code exists both</span> <span data-start="258.39" data-end="262.29">in node and client-side code so there's</span> <span data-start="262.29" data-end="264.93">basically if you want to design a module</span> <span data-start="264.93" data-end="266.64">to work with browserify there's about</span> <span data-start="266.64" data-end="268.27">three things you</span> <span data-start="268.27" data-end="270.4">need to look at so the first thing is</span> <span data-start="270.4" data-end="272.53">sort of looking at the entry point for</span> <span data-start="272.53" data-end="274.419">your module and saying like you know if</span> <span data-start="274.419" data-end="275.919">if there is sort of a different</span> <span data-start="275.919" data-end="277.449">interface that you want to expose on the</span> <span data-start="277.449" data-end="279.58">client versus the server you can</span> <span data-start="279.58" data-end="281.02">actually specify in your package</span> <span data-start="281.02" data-end="282.909">touching on a different entry point</span> <span data-start="282.909" data-end="285.61">where your module begins so we'll take a</span> <span data-start="285.61" data-end="288.61">look at how you do that we also define</span> <span data-start="288.61" data-end="291.22">any shims that you need to insert so if</span> <span data-start="291.22" data-end="294.43">the HTTP implementation that chips with</span> <span data-start="294.43" data-end="295.81">browserify doesn't meet your needs</span> <span data-start="295.81" data-end="297.729">there's a way that you can create your</span> <span data-start="297.729" data-end="301.63">own custom browsers browser shim for a</span> <span data-start="301.63" data-end="303.34">node module that you use in your</span> <span data-start="303.34" data-end="304.81">application and we'll take a look at how</span> <span data-start="304.81" data-end="307.05">to do that we also have source</span> <span data-start="307.05" data-end="309.28">transformations that are available in</span> <span data-start="309.28" data-end="312.039">browserify so if your module is written</span> <span data-start="312.039" data-end="313.33">in CoffeeScript and you need a</span> </p>
<p><span data-start="313.33" data-end="315.97">CoffeeScript compile before your modules</span> <span data-start="315.97" data-end="318.4">were agent for use in browserify you can</span> <span data-start="318.4" data-end="321.4">specify that package to JSON as well so</span> <span data-start="321.4" data-end="322.479">at this point I wanted to actually write</span> <span data-start="322.479" data-end="324.25">some code to show you how that would</span> <span data-start="324.25" data-end="328.719">work so basically here I have two files</span> <span data-start="328.719" data-end="331.96">in browser a s and a server a s and I'm</span> <span data-start="331.96" data-end="333.55">going to create a node module that's</span> <span data-start="333.55" data-end="335.319">going to work in both of those</span> <span data-start="335.319" data-end="337.33">environments the server being just a</span> <span data-start="337.33" data-end="339.819">plain vanilla node program and then the</span> <span data-start="339.819" data-end="341.38">browser dot j as being a file but I'm</span> <span data-start="341.38" data-end="342.819">gonna package up with browserify</span> <span data-start="342.819" data-end="345.58">to ship and include as a script tag I</span> <span data-start="345.58" data-end="347.77">ain't a script tag potentially I mean a</span> <span data-start="347.77" data-end="349.569">web browser so let's create a new</span> <span data-start="349.569" data-end="353.099">directory I'll call that demo module and</span> <span data-start="353.099" data-end="358.02">go in there and do an NPM in it and</span> <span data-start="358.02" data-end="361.449">we'll just accept a lot of these default</span> <span data-start="361.449" data-end="366.37">values ok so now we have a package of</span> </p>
<p><span data-start="366.37" data-end="369.819">JSON for our program and by default when</span> <span data-start="369.819" data-end="372.849">you create a new NPM package there's</span> <span data-start="372.849" data-end="375.34">this main main attribute here which</span> <span data-start="375.34" data-end="378.009">which sort of specifies the entry point</span> <span data-start="378.009" data-end="381.759">for your module so if so when for how</span> <span data-start="381.759" data-end="383.919">certify packages up your module by</span> <span data-start="383.919" data-end="385.15">default it's going to look at this main</span> <span data-start="385.15" data-end="386.59">attribute first and that's going it's</span> <span data-start="386.59" data-end="388.539">going to use that as the entry point for</span> <span data-start="388.539" data-end="391.15">your module because it observes the same</span> <span data-start="391.15" data-end="394.15">module loading algorithms that that note</span> <span data-start="394.15" data-end="396.82">am/pm use so if you don't have a</span> <span data-start="396.82" data-end="398.62">different interface from browser to</span> <span data-start="398.62" data-end="400.3">server then that's fine and you can</span> <span data-start="400.3" data-end="401.68">leave that just</span> <span data-start="401.68" data-end="406.949">as it is so let's create index J s and</span> <span data-start="406.949" data-end="411.21">we'll open that up in a text editor here</span> <span data-start="411.21" data-end="415.62">not that one we're looking for this one</span> <span data-start="415.62" data-end="419.199">okay great so here's our demo module odd</span> <span data-start="419.199" data-end="421.66">directory and inside here we'll just</span> <span data-start="421.66" data-end="429.37">create something like say a hi and say</span> <span data-start="429.37" data-end="433.03">console log server or something along</span> <span data-start="433.03" data-end="435.43">those lines okay so here's my version of</span> <span data-start="435.43" data-end="437.65">the module that works in node and now if</span> </p>
<p><span data-start="437.65" data-end="439.419">I want to have a browser specific</span> <span data-start="439.419" data-end="442.12">version of my module I'll create another</span> <span data-start="442.12" data-end="448.81">file I'll call it client Jas and in this</span> <span data-start="448.81" data-end="451.599">one I'm gonna have a the same interface</span> <span data-start="451.599" data-end="457.05">say hi give that a function and alert</span> <span data-start="457.05" data-end="459.09">hello it was something along those lines</span> <span data-start="459.09" data-end="461.86">okay so on the brach in the browser I</span> <span data-start="461.86" data-end="463.12">want to use this as the entry point for</span> <span data-start="463.12" data-end="464.77">my module so the way that I specify that</span> <span data-start="464.77" data-end="468.88">in package.json is by providing another</span> <span data-start="468.88" data-end="471.88">attribute called browser so when</span> <span data-start="471.88" data-end="474.58">browserify processes your module it's</span> <span data-start="474.58" data-end="476.86">going to look for this attribute in your</span> <span data-start="476.86" data-end="478.919">package JSON if you set it to a string</span> <span data-start="478.919" data-end="481.36">it's basically going to be a relative</span> <span data-start="481.36" data-end="484.21">path to a file in your directory that is</span> <span data-start="484.21" data-end="486.28">you want to use as the entry point so I</span> <span data-start="486.28" data-end="489.37">can just specify client excuse me dot</span> <span data-start="489.37" data-end="493.63">slash client dodge answer so now I have</span> <span data-start="493.63" data-end="496.75">a module that I can use in this code</span> <span data-start="496.75" data-end="501.759">here if I go up directory server dot yes</span> <span data-start="501.759" data-end="503.65">well I don't actually have to go through</span> <span data-start="503.65" data-end="504.729">and type all that I think you guys are</span> <span data-start="504.729" data-end="507.19">kind of with me there so basically here</span> <span data-start="507.19" data-end="510.58">are my two entry points for client and</span> <span data-start="510.58" data-end="512.95">server now the other thing that you</span> <span data-start="512.95" data-end="514.45">might have to do besides sort of</span> <span data-start="514.45" data-end="517.959">specifying a new entry point there is is</span> <span data-start="517.959" data-end="520.39">provide some kind or provide some other</span> <span data-start="520.39" data-end="522.43">shims for other functionality or other</span> <span data-start="522.43" data-end="524.47">files that you want to override when</span> <span data-start="524.47" data-end="525.67">you're writing a module that's going to</span> <span data-start="525.67" data-end="527.62">run in the browser so the way that we do</span> <span data-start="527.62" data-end="530.35">that in package.json is rather than</span> <span data-start="530.35" data-end="532.66">setting this browser property to a</span> <span data-start="532.66" data-end="535.37">string I can actually set</span> <span data-start="535.37" data-end="539.839">to be an object so I still want to have</span> <span data-start="539.839" data-end="541.73">a different entry point for my</span> <span data-start="541.73" data-end="544.85">browserify package but in this case I'm</span> <span data-start="544.85" data-end="546.92">not going to sort of override main over</span> <span data-start="546.92" data-end="549.589">in the keys section of this of this odd</span> </p>
<p><span data-start="549.589" data-end="552.74">JSON object I'm gonna specify the file</span> <span data-start="552.74" data-end="556.6">that I want to override so I'm gonna say</span> <span data-start="556.6" data-end="563.029">dot slash index dot JSP loaded if my</span> <span data-start="563.029" data-end="565.04">module is going to be used on the server</span> <span data-start="565.04" data-end="569.11">but instead I want to load up dot slash</span> <span data-start="569.11" data-end="572.51">client jas so now I have you know that</span> <span data-start="572.51" data-end="574.339">was basically the same as just setting</span> <span data-start="574.339" data-end="575.839">this string equal to the browser</span> <span data-start="575.839" data-end="578.33">property before so now I have my</span> <span data-start="578.33" data-end="580.19">different entry point and then let's say</span> </p>
<p><span data-start="580.19" data-end="582.86">I have a custom shim for the HTTP</span> <span data-start="582.86" data-end="585.529">library in core node if I wanted to</span> <span data-start="585.529" data-end="587.63">specify something like that I would just</span> <span data-start="587.63" data-end="593.3">go dot slash now my HTTP jas and then I</span> <span data-start="593.3" data-end="595.16">would be able to implement my own</span> <span data-start="595.16" data-end="597.74">browser shim for the HTTP library as</span> <span data-start="597.74" data-end="600.56">well so those are kind of the two main</span> <span data-start="600.56" data-end="601.67">things that you'll have to do to prepare</span> <span data-start="601.67" data-end="603.65">your module for a browser if I specify</span> <span data-start="603.65" data-end="605.27">you know an alternate entry point and</span> <span data-start="605.27" data-end="607.19">any shims that you need another thing</span> <span data-start="607.19" data-end="608.66">that you might have to do is specify</span> <span data-start="608.66" data-end="611.32">some source transformations if your</span> <span data-start="611.32" data-end="613.94">it'll basically allow you to process</span> <span data-start="613.94" data-end="617.959">code in a stream and output a modified</span> <span data-start="617.959" data-end="619.19">version of that code that will run in</span> <span data-start="619.19" data-end="620.38">the browser and there's a lot of</span> <span data-start="620.38" data-end="623.27">existing transformers out there for</span> <span data-start="623.27" data-end="626.45">browserify one of the more popular one</span> <span data-start="626.45" data-end="629.66">more popular ones is coffee fi which</span> <span data-start="629.66" data-end="631.55">will basically process your coffee</span> <span data-start="631.55" data-end="633.56">script code convert it to JavaScript and</span> <span data-start="633.56" data-end="635.63">then included in your browser affine</span> <span data-start="635.63" data-end="637.64">module so the way that we specify that</span> <span data-start="637.64" data-end="641.779">is with the browser of five field of</span> <span data-start="641.779" data-end="646.88">package.json and inside this inside this</span> <span data-start="646.88" data-end="650.77">object we have a property transforms and</span> <span data-start="650.77" data-end="653.95">that's going to be an array of strings</span> <span data-start="653.95" data-end="657.65">which will point to modules inside your</span> <span data-start="657.65" data-end="660.26">project so let's if I had some</span> </p>
<p><span data-start="660.26" data-end="663.589">CoffeeScript that I wanted to process</span> <span data-start="663.589" data-end="666.26">before my module or as my module gets</span> <span data-start="666.26" data-end="669.02">browserify I just specify that I</span> <span data-start="669.02" data-end="671.39">want to ride through this transformation</span> <span data-start="671.39" data-end="675.29">and if you do have a transformation like</span> <span data-start="675.29" data-end="678.32">this one you also have to add it in your</span> <span data-start="678.32" data-end="681.56">modules dependencies will have to be</span> <span data-start="681.56" data-end="684.95">resolvable by browserify as a dependency</span> <span data-start="684.95" data-end="686.9">so you just add a dependency there for</span> <span data-start="686.9" data-end="690.02">coffee of five so pair your module</span> <span data-start="690.02" data-end="691.67">you're going to again just do those</span> <span data-start="691.67" data-end="693.59">three things specify a new entry point</span> <span data-start="693.59" data-end="696.56">shim any any core node libraries or</span> <span data-start="696.56" data-end="698.69">modules within your own application that</span> <span data-start="698.69" data-end="701.75">won't work in the browser unmodified and</span> <span data-start="701.75" data-end="702.74">then you can also specify</span> <span data-start="702.74" data-end="705.26">transformations for your code so those</span> <span data-start="705.26" data-end="707.3">are probably the things that you will</span> <span data-start="707.3" data-end="709.4">need to look at doing to make your</span> <span data-start="709.4" data-end="710.72">module sort of compatible with</span> <span data-start="710.72" data-end="715.28">browserify now the reason why I think</span> <span data-start="715.28" data-end="716.68">this is kind of interesting is sort of</span> <span data-start="716.68" data-end="719">specific to you truly oh and and what we</span> <span data-start="719" data-end="723.41">do with our module so with Detroit SDK</span> <span data-start="723.41" data-end="725.24">there's a server side component that has</span> <span data-start="725.24" data-end="728.51">a REST API which we provide sort of a</span> <span data-start="728.51" data-end="730.94">high-level object wrapper for in the npm</span> <span data-start="730.94" data-end="733.61">module but we also have this client side</span> <span data-start="733.61" data-end="735.83">sdk which lets you make voice over IP</span> <span data-start="735.83" data-end="737.9">phone calls which martially used to such</span> <span data-start="737.9" data-end="739.76">a great effect in her in her</span> <span data-start="739.76" data-end="742.67">presentation earlier so we have a</span> <span data-start="742.67" data-end="745.28">situation where we have an API that all</span> <span data-start="745.28" data-end="747.41">sort of hangs together and has client</span> <span data-start="747.41" data-end="749.93">and server-side components so I actually</span> <span data-start="749.93" data-end="752.72">kind of looked at an API that similar to</span> <span data-start="752.72" data-end="755.06">like what socket IO provides where it</span> <span data-start="755.06" data-end="757.91">has sort of a elegant way of including</span> <span data-start="757.91" data-end="758.9">both client and server-side</span> <span data-start="758.9" data-end="761.09">functionality at least initially it was</span> <span data-start="761.09" data-end="762.8">in a single package now it's in two</span> <span data-start="762.8" data-end="765.89">different ones but this seemed to be a</span> <span data-start="765.89" data-end="768.11">really good use case for Twilio voice</span> <span data-start="768.11" data-end="770.6">over IP so what we have to do today is</span> <span data-start="770.6" data-end="773.12">you know your browser code has to talk</span> <span data-start="773.12" data-end="774.83">to your web application to generate a</span> <span data-start="774.83" data-end="776.81">capability token which basically</span> <span data-start="776.81" data-end="779.27">empowers the browser to make phone calls</span> <span data-start="779.27" data-end="781.91">and then your note application has to</span> <span data-start="781.91" data-end="784.55">respond on to an ajax request and then</span> <span data-start="784.55" data-end="786.95">your browser talks to Tullio to initiate</span> <span data-start="786.95" data-end="789.5">the voice over IP call to leo talks to</span> <span data-start="789.5" data-end="791.63">your application to get you know</span> <span data-start="791.63" data-end="794.09">instructions brown and of a call before</span> <span data-start="794.09" data-end="795.95">ultimately you can actually place that</span> <span data-start="795.95" data-end="798.23">voice over IP phone call between your</span> <span data-start="798.23" data-end="800.18">customer and the person that you would</span> <span data-start="800.18" data-end="802.18">like to your browser and the person</span> <span data-start="802.18" data-end="804.22">you would like to talk to you so this</span> <span data-start="804.22" data-end="806.5">seemed to be a really great opportunity</span> <span data-start="806.5" data-end="810.7">to find a module using using browserify</span> <span data-start="810.7" data-end="812.37">that would provide two different</span> <span data-start="812.37" data-end="814.66">interfaces on both the client and the</span> <span data-start="814.66" data-end="816.97">server so I'd like to show you a little</span> <span data-start="816.97" data-end="820.18">bit of how I would envision this working</span> <span data-start="820.18" data-end="826.24">in an application so let's go ahead and</span> <span data-start="826.24" data-end="830.95">open up a simple demo so here we have a</span> <span data-start="830.95" data-end="833.95">note application pay no attention to</span> <span data-start="833.95" data-end="836.11">this basically this is just agility I</span> <span data-start="836.11" data-end="837.37">created that it creates sort of a</span> <span data-start="837.37" data-end="840.31">pre-configured Express for web</span> <span data-start="840.31" data-end="843.19">application so this is an Express web</span> <span data-start="843.19" data-end="845.62">app that is set up with some useful</span> <span data-start="845.62" data-end="848.17">middleware for you know automatically</span> <span data-start="848.17" data-end="848.95">browserify</span> <span data-start="848.95" data-end="850.87">certain files and applying less and</span> <span data-start="850.87" data-end="852.97">stuff like that so but it's basically an</span> </p>
<p><span data-start="852.97" data-end="855.97">Express for web app and then we require</span> <span data-start="855.97" data-end="858.13">a special version of the Tullio module</span> <span data-start="858.13" data-end="860.2">and then I can actually use the toilet</span> <span data-start="860.2" data-end="862.839">module to basically mount some server</span> <span data-start="862.839" data-end="864.88">side capabilities that will handle some</span> <span data-start="864.88" data-end="866.56">of that token generation and that other</span> <span data-start="866.56" data-end="869.32">song and dance that we saw before so</span> <span data-start="869.32" data-end="872.62">this is the API that I want to expose on</span> <span data-start="872.62" data-end="874.36">the server side and then on the client</span> <span data-start="874.36" data-end="877.33">side I wanted to sort of drastically</span> <span data-start="877.33" data-end="879.85">simplify the code that would be</span> <span data-start="879.85" data-end="881.86">necessary to actually create a voice</span> <span data-start="881.86" data-end="885.52">over IP call between two parties so here</span> <span data-start="885.52" data-end="888.73">we just include from a Twilio CDN a</span> <span data-start="888.73" data-end="890.32">javascript file which has sort of the</span> <span data-start="890.32" data-end="894.13">core basic j/s SDK and then here we have</span> <span data-start="894.13" data-end="896.589">a browser ephod file that we're loading</span> <span data-start="896.589" data-end="899.77">up from our web application and in that</span> <span data-start="899.77" data-end="902.1">file</span> <span data-start="902.11" data-end="905.05">we have jQuery that we've installed via</span> </p>
<p><span data-start="905.05" data-end="907.9">NPM so we can you know use that like an</span> <span data-start="907.9" data-end="910.839">NPM module and also the toilet module</span> <span data-start="910.839" data-end="913.18">again using a customized version of it</span> <span data-start="913.18" data-end="916.029">on my local file system and then we just</span> <span data-start="916.029" data-end="918.07">have a couple of handlers here that will</span> <span data-start="918.07" data-end="921.279">you know initialize the outbound phone</span> <span data-start="921.279" data-end="923.98">call with you know Tulio tile it'll hang</span> <span data-start="923.98" data-end="926.38">up when the user wants me to you and</span> <span data-start="926.38" data-end="929.98">then initially because this javascript</span> <span data-start="929.98" data-end="932.62">is being generated on the server I'm</span> <span data-start="932.62" data-end="934.6">able to just call Trulia connect and I</span> <span data-start="934.6" data-end="935.62">already</span> <span data-start="935.62" data-end="937.3">necessarily have to make Ajax calls or</span> <span data-start="937.3" data-end="940.029">une any stuff to you know fetch a</span> <span data-start="940.029" data-end="941.71">capability token or set up my server</span> <span data-start="941.71" data-end="943.81">side because my JavaScript was generated</span> <span data-start="943.81" data-end="946.81">on my server I know where it lives and I</span> <span data-start="946.81" data-end="948.91">can sort of automate that entire process</span> <span data-start="948.91" data-end="952.32">so what I'm going to do is fire this up</span> <span data-start="952.32" data-end="954.01">actually it looks like it's already</span> <span data-start="954.01" data-end="957.7">running and I do in order to do voice</span> <span data-start="957.7" data-end="959.56">over IP I need for this web application</span> <span data-start="959.56" data-end="960.7">to be on the public Internet</span> <span data-start="960.7" data-end="962.68">does anybody here use a tool called and</span> <span data-start="962.68" data-end="965.02">rock and rock it's a port forward or a</span> <span data-start="965.02" data-end="967.24">couple people okay so if you don't use</span> <span data-start="967.24" data-end="969.46">an grok and take nothing else away from</span> <span data-start="969.46" data-end="971.35">this talk it's an amazing tool it will</span> <span data-start="971.35" data-end="973">change your life definitely go install</span> <span data-start="973" data-end="975.79">it it basically assigns a public-facing</span> </p>
<p><span data-start="975.79" data-end="980.56">URL to a local port on your laptop so if</span> <span data-start="980.56" data-end="982.3">you have a local node server a rails</span> <span data-start="982.3" data-end="984.19">server or something like that you want</span> <span data-start="984.19" data-end="985.51">to quickly put it on the internet so</span> <span data-start="985.51" data-end="987.61">that your friends or clients can check</span> <span data-start="987.61" data-end="990.07">it out and rock is a great tool to let</span> <span data-start="990.07" data-end="991.99">you do that so basically what I have</span> <span data-start="991.99" data-end="994.57">running is a simple application that</span> <span data-start="994.57" data-end="997.39">will by default initiate a conference</span> <span data-start="997.39" data-end="999.1">call between somebody in their browser</span> <span data-start="999.1" data-end="1001.38">sir would you mind being my guinea pig</span> <span data-start="1001.38" data-end="1003.24">in the front row I'm gonna come pick on</span> <span data-start="1003.24" data-end="1006.709">you would you mind going to kwn Gras com</span> <span data-start="1006.709" data-end="1008.73">sorry to pick on you like that but I</span> <span data-start="1008.73" data-end="1011.72">would I need at least one one person per</span> <span data-start="1011.72" data-end="1015.9">kwmg are ok.com and just click on that</span> <span data-start="1015.9" data-end="1018.81">button to say join a conference call and</span> </p>
<p><span data-start="1018.81" data-end="1021.69">Twilio x' Julio's planetside SDK will</span> <span data-start="1021.69" data-end="1024.39">use the WebRTC API is built into the</span> <span data-start="1024.39" data-end="1032.23">Chrome browser to initiate a phone call</span> <span data-start="1032.24" data-end="1035.34">waiting for that second party</span> <span data-start="1035.34" data-end="1039.21">I actually just hit the join the</span> <span data-start="1039.21" data-end="1047.27">conference</span> <span data-start="1047.28" data-end="1057.24">and if you're in there you magic of</span> <span data-start="1057.24" data-end="1058.8">WebRTC yeah I know</span> <span data-start="1058.8" data-end="1060.87">our voices are connecting through the</span> <span data-start="1060.87" data-end="1064.71">energy so so yeah basically the reason I</span> <span data-start="1064.71" data-end="1066.78">wanted to show that is it's it's one</span> <span data-start="1066.78" data-end="1068.76">example where you have a module and you</span> <span data-start="1068.76" data-end="1070.65">know that you're gonna have server set</span> </p>
<p><span data-start="1070.65" data-end="1072.33">IP eyes and client-side API is there</span> <span data-start="1072.33" data-end="1073.44">going to have to interact with one</span> <span data-start="1073.44" data-end="1076.53">another and if you and you can present</span> <span data-start="1076.53" data-end="1078.72">sort of a unified interface to both the</span> <span data-start="1078.72" data-end="1081.05">client and the server if you write your</span> <span data-start="1081.05" data-end="1084.45">breitner module in this way and in the</span> <span data-start="1084.45" data-end="1086.64">in this particular example of the Twilio</span> <span data-start="1086.64" data-end="1088.26">module I was able to share code between</span> <span data-start="1088.26" data-end="1091.68">the client side SDK that is being used</span> <span data-start="1091.68" data-end="1095.13">in the browser and the server side SDK</span> <span data-start="1095.13" data-end="1097.56">that I use that you would use to contact</span> <span data-start="1097.56" data-end="1100.59">the REST API or to generate capability</span> <span data-start="1100.59" data-end="1103.56">tokens on the server so I definitely</span> <span data-start="1103.56" data-end="1105.63">recommend that you check out browserify</span> <span data-start="1105.63" data-end="1108.06">it's a great if you're using node it</span> <span data-start="1108.06" data-end="1110.04">makes a ton of sense because you're</span> <span data-start="1110.04" data-end="1111.45">basically going to be using the same one</span> <span data-start="1111.45" data-end="1115.47">package manager one style of structuring</span> <span data-start="1115.47" data-end="1117.63">your code and you'll be able to realize</span> <span data-start="1117.63" data-end="1119.25">a lot more of the benefits of having</span> </p>
<p><span data-start="1119.25" data-end="1120.57">JavaScript on both the client and the</span> <span data-start="1120.57" data-end="1122.91">server so some of the documentation for</span> <span data-start="1122.91" data-end="1125.16">the browser if I specific stuff you see</span> <span data-start="1125.16" data-end="1127.17">is up here don't worry about copying it</span> <span data-start="1127.17" data-end="1129.66">down this is actually all on my</span> <span data-start="1129.66" data-end="1131.22">SlideShare account which is</span> <span data-start="1131.22" data-end="1134.79">slideshare.net /k whinnery if you have</span> <span data-start="1134.79" data-end="1137.07">any questions feel free to come track me</span> <span data-start="1137.07" data-end="1139.59">down but yeah yeah I think browserify is</span> <span data-start="1139.59" data-end="1141.57">a really cool tool and definitely worth</span> <span data-start="1141.57" data-end="1143.67">checking out if your music thank you</span> </p>
</section>