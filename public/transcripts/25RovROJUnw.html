<section>
<p><span data-start="0.32" data-end="2.07">[Music]</span> <span data-start="2.07" data-end="3.84">[Applause]</span> <span data-start="3.84" data-end="5.66">[Music]</span> <span data-start="5.66" data-end="7.41">[Applause]</span> <span data-start="7.41" data-end="9.28">[Music]</span> <span data-start="9.28" data-end="11.02">[Applause]</span> <span data-start="11.02" data-end="12.78">[Music]</span> <span data-start="12.78" data-end="16.86">[Applause]</span> <span data-start="16.87" data-end="23.25">[Music]</span> <span data-start="23.25" data-end="24.779">[Applause]</span> <span data-start="24.779" data-end="27.369">all right so I wrote a story and I'm</span> <span data-start="27.369" data-end="29.41">going to tell you about my story</span> <span data-start="29.41" data-end="35.02">so me and my browser so this is me I'm a</span> <span data-start="35.02" data-end="37.09">web developer I write code for work</span> <span data-start="37.09" data-end="39.539">that's what I get paid to do and</span> <span data-start="39.539" data-end="42.489">sometimes I feed that to a thing called</span> <span data-start="42.489" data-end="46.93">browser that's the box and then comes up</span> <span data-start="46.93" data-end="52.57">as a awesome sauce so when I started it</span> <span data-start="52.57" data-end="55.06">was like yes this is really interesting</span> <span data-start="55.06" data-end="57.82">so I learned so many other tools like</span> <span data-start="57.82" data-end="60.82">jQuery and act and then I figure out the</span> <span data-start="60.82" data-end="63.04">browser and browser he buys me back like</span> <span data-start="63.04" data-end="67.57">awesome web application you know and</span> <span data-start="67.57" data-end="70">then I got like used to it so like I'm</span> <span data-start="70" data-end="73.21">gonna learn more libraries I added on</span> <span data-start="73.21" data-end="77.92">top of jQuery and the act d3 right I fed</span> <span data-start="77.92" data-end="80.68">them and then suddenly browser became</span> <span data-start="80.68" data-end="87.13">unhappy I don't know why but I was told</span> <span data-start="87.13" data-end="89.76">that I need to learn my you know tools</span> <span data-start="89.76" data-end="94.36">so I added typescript and bubble to my</span> </p>
<p><span data-start="94.36" data-end="97.93">Taulbee and I sent it to a browser once</span> <span data-start="97.93" data-end="100.72">again and you know it's not quite</span> <span data-start="100.72" data-end="106.54">unhappy but it's like janky as hell so</span> <span data-start="106.54" data-end="109.63">at this point I'm like I don't like</span> <span data-start="109.63" data-end="113.83">browser like I don't know about you why</span> <span data-start="113.83" data-end="117.409">are you keeping distance from me</span> </p>
<p><span data-start="117.409" data-end="119.869">I just wanted to be friends with you</span> <span data-start="119.869" data-end="122.479">like the beginning I really liked</span> <span data-start="122.479" data-end="125.259">hanging out with you it was all a song</span> <span data-start="125.259" data-end="128.599">you know you write HTML put it into</span> <span data-start="128.599" data-end="130.16">browser don't even need a server</span> <span data-start="130.16" data-end="134.42">something moose amazing so I started</span> <span data-start="134.42" data-end="137.959">realized maybe it's me it's me that's</span> <span data-start="137.959" data-end="140.72">outside of the brother who is not</span> <span data-start="140.72" data-end="143.39">understanding and maybe what I need to</span> <span data-start="143.39" data-end="151.58">do is to understand what is inside so</span> <span data-start="151.58" data-end="154.58">when I was a kid so I grew up in Japan</span> <span data-start="154.58" data-end="157.45">there's a thing called papers theater or</span> </p>
<p><span data-start="157.45" data-end="161.18">Kamishibai which is exactly this you get</span> <span data-start="161.18" data-end="163.819">a stack of paper ordered there is a</span> <span data-start="163.819" data-end="165.709">story on the back there's gonna read a</span> <span data-start="165.709" data-end="168.64">picture and then you work through and</span> <span data-start="168.64" data-end="171.11">you know these are the things that you</span> <span data-start="171.11" data-end="171.92">would get</span> <span data-start="171.92" data-end="174.799">I don't know communal events or library</span> <span data-start="174.799" data-end="177.95">you know one of those days that somebody</span> <span data-start="177.95" data-end="179.63">needs to book for you instead of the</span> <span data-start="179.63" data-end="181.97">book it might be the box and I used to</span> <span data-start="181.97" data-end="184.73">love it both performing and being the</span> <span data-start="184.73" data-end="187.579">audience because the stories that they</span> <span data-start="187.579" data-end="190.31">tell inside of the paper theater box is</span> <span data-start="190.31" data-end="192.17">like classic like the stories that</span> <span data-start="192.17" data-end="195.019">everybody knows the story is the many</span> <span data-start="195.019" data-end="198.859">different paper sorry the the picture</span> <span data-start="198.859" data-end="201.53">books are written for kids but the</span> <span data-start="201.53" data-end="204.079">people who is producing the deck set for</span> <span data-start="204.079" data-end="206.84">paper theater intimately understood the</span> <span data-start="206.84" data-end="209.54">the nature of this simple sliding box</span> <span data-start="209.54" data-end="212.18">and sometimes on the back of the card</span> <span data-start="212.18" data-end="214.67">they have kind of like a direction of</span> <span data-start="214.67" data-end="217.549">how to perform them it's a slide halfway</span> <span data-start="217.549" data-end="221.239">the dis part and then slide it out so</span> <span data-start="221.239" data-end="224.48">they knew the environment and they knew</span> <span data-start="224.48" data-end="228.35">the stage and they fed the content that</span> <span data-start="228.35" data-end="233.54">it's best suited for the job if you can</span> <span data-start="233.54" data-end="240.889">switch to the slides so this was me</span> <span data-start="240.889" data-end="244.28">hello genius cool it's been amazing to</span> <span data-start="244.28" data-end="245.18">be back</span> </p>
<p><span data-start="245.18" data-end="247.22">I spoke three years ago when I spoke</span> <span data-start="247.22" data-end="249.68">three years ago this was me I</span> <span data-start="249.68" data-end="252.409">still beginning of my journey into doing</span> <span data-start="252.409" data-end="255.23">this development thing for work I always</span> <span data-start="255.23" data-end="258.41">worked in tech but not getting paid</span> <span data-start="258.41" data-end="260.449">writing code so I was trying to figure</span> <span data-start="260.449" data-end="265.99">this out and this is maybe me now-ish</span> <span data-start="265.99" data-end="269.63">the difference is that I now care about</span> <span data-start="269.63" data-end="272.509">my config files I care about what goes</span> <span data-start="272.509" data-end="275.81">into my build a pipeline but I don't</span> <span data-start="275.81" data-end="279.919">mean II mmm consider myself as a like a</span> <span data-start="279.919" data-end="284.21">expert web developer but since the three</span> <span data-start="284.21" data-end="287.66">years ago when I spark I got you know to</span> <span data-start="287.66" data-end="291.139">new job I guess and you know so I feel</span> <span data-start="291.139" data-end="293.27">like confident that I am progressing and</span> </p>
<p><span data-start="293.27" data-end="295.43">I am employable and I am doing this for</span> <span data-start="295.43" data-end="299.449">work speaking of work beginning of this</span> <span data-start="299.449" data-end="303.44">year I was assigned to a project with</span> <span data-start="303.44" data-end="306.65">three other engineers who I consider all</span> <span data-start="306.65" data-end="311.84">of them advanced than me they were the</span> <span data-start="311.84" data-end="314.3">one who is writing a UI framework they</span> <span data-start="314.3" data-end="316.039">were the one who is writing spec for</span> <span data-start="316.039" data-end="319.039">service workers and CSS they knew their</span> <span data-start="319.039" data-end="321.949">craft and you can imagine my</span> <span data-start="321.949" data-end="324.11">intimidation on writing a first poly</span> <span data-start="324.11" data-end="327.59">quest to them being under microscope of</span> <span data-start="327.59" data-end="330.02">the person who react and you were</span> <span data-start="330.02" data-end="337.669">writing UI so I felt this like divide a</span> <span data-start="337.669" data-end="340.669">between them and me not of the personal</span> <span data-start="340.669" data-end="342.59">divide about just the knowledge and the</span> <span data-start="342.59" data-end="344.389">level of conversation that they are</span> <span data-start="344.389" data-end="346.43">having if you go routine needing that</span> <span data-start="346.43" data-end="347.539">their level of accomplish you know that</span> <span data-start="347.539" data-end="349.669">they were having is that like oh I don't</span> <span data-start="349.669" data-end="351.59">want to use that CSS because it doesn't</span> <span data-start="351.59" data-end="354.38">transform whatever that means I don't</span> <span data-start="354.38" data-end="356.9">mean like like this API because it</span> <span data-start="356.9" data-end="358.58">doesn't use compositor whatever that</span> <span data-start="358.58" data-end="360.8">means they're gonna debate on like</span> <span data-start="360.8" data-end="362.57">whether to do the event delegation or</span> <span data-start="362.57" data-end="367.28">bubbling I'm like either way so I felt</span> <span data-start="367.28" data-end="369.65">like they knew the behind the scenes of</span> <span data-start="369.65" data-end="370.669">browser and they are making</span> <span data-start="370.669" data-end="373.43">sophisticated choice so I decided it's</span> <span data-start="373.43" data-end="376.94">time to join them going back on the</span> <span data-start="376.94" data-end="380">other side and then investigate what the</span> <span data-start="380" data-end="381.26">heck is going on inside</span> <span data-start="381.26" data-end="384.26">the browser so this talk I change the</span> <span data-start="384.26" data-end="386.69">talk title from the abstract so this is</span> <span data-start="386.69" data-end="390.17">the how to be a web master inside a look</span> <span data-start="390.17" data-end="393.35">at modern web browser and I called it</span> <span data-start="393.35" data-end="395.3">how to be a master because I consider</span> <span data-start="395.3" data-end="398.48">the person master or craftsman to be the</span> <span data-start="398.48" data-end="401.66">person who intimately knows their tools</span> <span data-start="401.66" data-end="404.78">in order to do their job there is a lot</span> <span data-start="404.78" data-end="407.27">of register to traditional masters in</span> </p>
<p><span data-start="407.27" data-end="409.58">Japan and all of them like I love</span> <span data-start="409.58" data-end="411.62">watching those documentaries all of them</span> <span data-start="411.62" data-end="414.05">intimately knows the craft and their</span> <span data-start="414.05" data-end="417.44">tools so my intent was that it by</span> <span data-start="417.44" data-end="419.54">understanding the to love my job browser</span> <span data-start="419.54" data-end="424.34">try to be a web master in order to go</span> <span data-start="424.34" data-end="427.4">into how browser internals I need to</span> <span data-start="427.4" data-end="430.22">cover a few of the computer concepts</span> <span data-start="430.22" data-end="432.23">before going to it because I promised</span> <span data-start="432.23" data-end="434.2">the organizers that this talk will be</span> <span data-start="434.2" data-end="438.77">nope no requirement for previous</span> <span data-start="438.77" data-end="440.96">knowledge so few concepts that I want to</span> <span data-start="440.96" data-end="443.24">talk about before go in it and then fair</span> <span data-start="443.24" data-end="446.77">warning I am making very very very</span> <span data-start="446.77" data-end="449.15">generalization of these concepts if you</span> <span data-start="449.15" data-end="451.55">disagree with me please tell me how you</span> <span data-start="451.55" data-end="455.18">think so the pool side tomorrow so the</span> <span data-start="455.18" data-end="458.03">first thing is a CPU sometimes called</span> <span data-start="458.03" data-end="461.06">central processing unit CPU is a</span> <span data-start="461.06" data-end="463.28">hardware on your computer that is really</span> <span data-start="463.28" data-end="465.11">good at doing a lot of computational</span> <span data-start="465.11" data-end="467.12">tasks they can handle a lot of things</span> <span data-start="467.12" data-end="469.7">but they can they do it one by one as</span> <span data-start="469.7" data-end="472.88">the tasks come as in the modern</span> <span data-start="472.88" data-end="475.19">computers case it is there that you only</span> <span data-start="475.19" data-end="478.55">have one core the worker for CPU you</span> <span data-start="478.55" data-end="480.59">usually have a few of them on your</span> <span data-start="480.59" data-end="483.41">computer so they're doing even more work</span> <span data-start="483.41" data-end="486.71">all together another concept is a GPU</span> <span data-start="486.71" data-end="490.4">graphics processing unit GPU also does</span> <span data-start="490.4" data-end="492.71">computations and can perform and there's</span> <span data-start="492.71" data-end="497.15">a core but GPU control into CPU is</span> <span data-start="497.15" data-end="502.13">really good at doing simple tasks all at</span> <span data-start="502.13" data-end="506.12">once with many many many more cores so</span> <span data-start="506.12" data-end="509.72">as the name suggests they were primarily</span> <span data-start="509.72" data-end="511.61">started to be used by a graphics card</span> <span data-start="511.61" data-end="513.17">and I'm putting the graphics on the</span> <span data-start="513.17" data-end="513.75">computer</span> <span data-start="513.75" data-end="516.539">my aim turning on and off the million</span> <span data-start="516.539" data-end="519.21">bits of the pixels in the computer but</span> <span data-start="519.21" data-end="521.25">they're gaining a lot more computational</span> <span data-start="521.25" data-end="523.38">power so accelerated GPU computing and</span> <span data-start="523.38" data-end="526.41">they can do a little more math basically</span> <span data-start="526.41" data-end="529.71">to do so but they do it fast all</span> <span data-start="529.71" data-end="534.96">together so you might see the machine or</span> <span data-start="534.96" data-end="536.94">the computer hardware the CPU and GPU</span> <span data-start="536.94" data-end="539.82">lives and your application not just web</span> <span data-start="539.82" data-end="543.9">application lives on top of them and CPU</span> <span data-start="543.9" data-end="546.42">and GPU is hunting whatever the logic</span> <span data-start="546.42" data-end="549.53">that you put into the application well</span> <span data-start="549.53" data-end="551.16">not quite</span> <span data-start="551.16" data-end="553.02">in between your application and machine</span> <span data-start="553.02" data-end="555.12">hardware there is usually a operating</span> <span data-start="555.12" data-end="557.19">system that is kind of facilitating</span> <span data-start="557.19" data-end="559.56">communications between them so in</span> </p>
<p><span data-start="559.56" data-end="563.34">Chrome's case — in order to put a</span> <span data-start="563.34" data-end="566.28">graphics on the screen clone publishes a</span> <span data-start="566.28" data-end="569.01">OpenGL command that sometimes on some</span> <span data-start="569.01" data-end="571.08">other platform just directly fed into</span> <span data-start="571.08" data-end="573.27">but on Windows that goes through a</span> <span data-start="573.27" data-end="575.85">conversion phase to convert it into like</span> <span data-start="575.85" data-end="579.03">X I think that is more suited for a</span> <span data-start="579.03" data-end="582.6">graphics on Windows so another concept</span> <span data-start="582.6" data-end="585.03">that I want to talk about is a process</span> <span data-start="585.03" data-end="588.21">and threat and I apologize in advance a</span> <span data-start="588.21" data-end="591.24">fairly abstract visualization contrôlée</span> <span data-start="591.24" data-end="595.35">- CPU and GPU but like process since the</span> <span data-start="595.35" data-end="597.51">roads are already abstract concept if</span> <span data-start="597.51" data-end="599.19">you look up from Hardware point of view</span> <span data-start="599.19" data-end="601.38">and on top of that like it doesn't make</span> <span data-start="601.38" data-end="603.93">any sense process what's process</span> <span data-start="603.93" data-end="605.7">visualize like the way it's like a lot</span> <span data-start="605.7" data-end="608.01">of people write like a literal threads</span> <span data-start="608.01" data-end="610.17">on the screen but like I don't know to</span> <span data-start="610.17" data-end="613.59">me it didn't click so just imagine the</span> <span data-start="613.59" data-end="620.28">process is a unit on CPU that is letting</span> <span data-start="620.28" data-end="623.25">your applications and the threads that's</span> <span data-start="623.25" data-end="626.73">inside of the process and thread is the</span> <span data-start="626.73" data-end="630.54">one actually executing that code for the</span> <span data-start="630.54" data-end="634.74">process so if you start a any</span> <span data-start="634.74" data-end="637.589">application the windows open up behind</span> <span data-start="637.589" data-end="640.89">the scenes of that UI is the CPU starts</span> <span data-start="640.89" data-end="645.45">a process process use memory so whatever</span> <span data-start="645.45" data-end="647.49">you do on the application</span> <span data-start="647.49" data-end="650.25">that gets saved into memory in the</span> <span data-start="650.25" data-end="652.5">meantime of you learning the application</span> <span data-start="652.5" data-end="654.17">and if you cool start application</span> <span data-start="654.17" data-end="656.759">process goes away then morning at 3:00</span> <span data-start="656.759" data-end="659.97">and then later for other operations the</span> <span data-start="659.97" data-end="663.569">process can also store a another process</span> <span data-start="663.569" data-end="668.069">to kind of like divide the work focus so</span> <span data-start="668.069" data-end="670.74">they start they use different location</span> <span data-start="670.74" data-end="673.47">of the memory and they walk together by</span> <span data-start="673.47" data-end="675.81">communicating single inter process</span> <span data-start="675.81" data-end="679.079">communication or sometimes a IPC and</span> <span data-start="679.079" data-end="682.17">good thing about this it's that if one</span> <span data-start="682.17" data-end="684.06">of the process gets hung up with</span> <span data-start="684.06" data-end="686.519">something the bug or something and then</span> <span data-start="686.519" data-end="689.519">just becomes unresponsible then you just</span> <span data-start="689.519" data-end="691.86">close it and then the original process</span> <span data-start="691.86" data-end="693.99">to live so your application might as</span> <span data-start="693.99" data-end="696.089">well still be in running with a few</span> <span data-start="696.089" data-end="699.149">blocking bits of UI while that other</span> <span data-start="699.149" data-end="703.199">process comes back up so what the</span> <span data-start="703.199" data-end="706.019">browser is process and threads look like</span> <span data-start="706.019" data-end="708.72">so one browser might look like this the</span> <span data-start="708.72" data-end="712.769">one giant process and many threads</span> <span data-start="712.769" data-end="715.709">inside or might look like this with a</span> <span data-start="715.709" data-end="719.49">few other processes and few threads</span> <span data-start="719.49" data-end="722.759">inside of them or it might look like</span> <span data-start="722.759" data-end="727.259">this many many more processes and kind</span> <span data-start="727.259" data-end="730.47">of like a divided work in fact this is</span> <span data-start="730.47" data-end="732.899">where Chrome's architecture is moving</span> <span data-start="732.899" data-end="736.199">towards now the idea is that each of the</span> <span data-start="736.199" data-end="740.37">tasks or service so that if you are</span> <span data-start="740.37" data-end="745.319">learning chrome on low powered device</span> <span data-start="745.319" data-end="748.829">member process takes up memory they can</span> <span data-start="748.829" data-end="751.559">consolidate them so that there is a less</span> <span data-start="751.559" data-end="755.13">process to provide the experience but if</span> <span data-start="755.13" data-end="757.11">you were on Mac or something that is</span> <span data-start="757.11" data-end="759.54">powerful then they can spin up more</span> <span data-start="759.54" data-end="762.92">processes to do a better efficient work</span> <span data-start="762.92" data-end="765.72">so for the purpose of the talk I'm going</span> <span data-start="765.72" data-end="771.66">to talk about a this model which is mmm</span> </p>
<p><span data-start="771.66" data-end="775.019">Colin may be near past architecture or</span> <span data-start="775.019" data-end="779.009">bacome which is one browser process it's</span> <span data-start="779.009" data-end="780.899">at the top that kicks</span> <span data-start="780.899" data-end="784.709">whew multiple of Landru process they</span> <span data-start="784.709" data-end="787.11">also kicks a plugin process GPU and then</span> <span data-start="787.11" data-end="793.069">of course utility I am it's important to</span> <span data-start="793.069" data-end="800.149">mention that this is a this is a</span> <span data-start="800.149" data-end="802.829">implementation detail there is no speck</span> <span data-start="802.829" data-end="805.23">how to write over browser there is a</span> <span data-start="805.23" data-end="807.749">speck way CMS ESS but there's no spec</span> <span data-start="807.749" data-end="809.22">for how many processes the browser</span> <span data-start="809.22" data-end="811.529">should use so Firefox might be different</span> <span data-start="811.529" data-end="813.269">it might be different or might be</span> <span data-start="813.269" data-end="814.079">different</span> </p>
<p><span data-start="814.079" data-end="816.839">I'm only choosing this model because I</span> <span data-start="816.839" data-end="820.29">work for them so it was a lot easier to</span> <span data-start="820.29" data-end="823.759">answer questions if I had them so</span> <span data-start="823.759" data-end="826.17">looking at this is very abstract so</span> <span data-start="826.17" data-end="827.999">let's put it into what you can see in</span> <span data-start="827.999" data-end="830.79">visual so imagine you're like your old</span> <span data-start="830.79" data-end="836.16">web browser this part everything outside</span> <span data-start="836.16" data-end="838.85">of the content that you provide is</span> <span data-start="838.85" data-end="841.529">called sometimes called chrome of the</span> <span data-start="841.529" data-end="843.809">application where I believe we're named</span> <span data-start="843.809" data-end="847.009">chrome come from that browser process</span> <span data-start="847.009" data-end="849.839">responsibility they have UI thread that</span> <span data-start="849.839" data-end="852.66">controls UI they have networks where to</span> <span data-start="852.66" data-end="855.42">get data from network and then the part</span> <span data-start="855.42" data-end="858.87">that yoko demands web content or the tab</span> <span data-start="858.87" data-end="862.47">is and reprocessed responsibility if</span> <span data-start="862.47" data-end="865.589">inside of them have a plugin say flash</span> <span data-start="865.589" data-end="867.99">and that is controlled by plugging</span> <span data-start="867.99" data-end="871.22">process and then on top of that</span> <span data-start="871.22" data-end="875.37">everything visually happening both a the</span> <span data-start="875.37" data-end="877.41">chrome part of the application and a web</span> <span data-start="877.41" data-end="879.54">content part of the application is</span> <span data-start="879.54" data-end="884.459">helped and powered by GPU process cool</span> <span data-start="884.459" data-end="889.67">yeah so i mentioned that the multiple</span> <span data-start="889.67" data-end="892.889">lender processes for chrome so what does</span> <span data-start="892.889" data-end="894.929">that look like well in simple term it</span> <span data-start="894.929" data-end="898.079">means that each type that you open it's</span> <span data-start="898.079" data-end="901.379">one process with main thread and worker</span> <span data-start="901.379" data-end="903.689">thread and you know things like you</span> <span data-start="903.689" data-end="907.91">might heard from multi in Chris talk so</span> <span data-start="907.91" data-end="911.339">separating these processes into each tab</span> <span data-start="911.339" data-end="913.709">gets a little good benefit for this like</span> <span data-start="913.709" data-end="914.42">you know</span> <span data-start="914.42" data-end="917.9">we know to top two types don't share a</span> <span data-start="917.9" data-end="920.5">memory so there is no fear of leaking</span> <span data-start="920.5" data-end="924.41">and then if you know one tab gets</span> <span data-start="924.41" data-end="928.22">unresponsible some bug memory week</span> <span data-start="928.22" data-end="930.17">whatever and then just you know</span> <span data-start="930.17" data-end="932.78">completely shuts off you just close them</span> <span data-start="932.78" data-end="937.88">and other drought tabs still works right</span> </p>
<p><span data-start="937.88" data-end="940.85">I kind of like roughly mentioned that</span> <span data-start="940.85" data-end="943.04">one tab process but if you have many</span> <span data-start="943.04" data-end="947">many toughs like I do Chrome kind of</span> <span data-start="947" data-end="950.06">starts to be assigning different sites</span> <span data-start="950.06" data-end="952.16">into same processes so there is</span> <span data-start="952.16" data-end="954.65">depending on the kind of resource that</span> <span data-start="954.65" data-end="957.08">your hardware have there is a small</span> <span data-start="957.08" data-end="959.21">threshold of how many other processes</span> <span data-start="959.21" data-end="962.33">that they this is reason why if you have</span> <span data-start="962.33" data-end="964.76">a hundred tabs and then you kill one tub</span> <span data-start="964.76" data-end="966.41">because it wasn't responsible</span> <span data-start="966.41" data-end="968.06">all of a sudden fifty other tabs die</span> <span data-start="968.06" data-end="972.32">right so if all of the tabs were run by</span> <span data-start="972.32" data-end="974.36">one process then the process and many</span> <span data-start="974.36" data-end="978.38">threads then if one of them gets busy or</span> <span data-start="978.38" data-end="980.81">responsible then you have to kill them</span> <span data-start="980.81" data-end="983.9">all you have to call the browser so</span> <span data-start="983.9" data-end="987.8">that's the idea of multiple process for</span> <span data-start="987.8" data-end="992.18">when rendering so let's we now we</span> <span data-start="992.18" data-end="995.24">covered a how process works on their</span> <span data-start="995.24" data-end="998.06">knees let's cover how those processes</span> <span data-start="998.06" data-end="1000.73">communicate in order to display whatever</span> <span data-start="1000.73" data-end="1004">the code that you give it to browsers so</span> <span data-start="1004" data-end="1006.19">today we're going to look at a very</span> <span data-start="1006.19" data-end="1009.31">simple case of loading some website</span> <span data-start="1009.31" data-end="1012.19">loading content download an image and</span> <span data-start="1012.19" data-end="1016.15">then a little bit of scrolling so I</span> <span data-start="1016.15" data-end="1018.34">talked about that the top part of the</span> <span data-start="1018.34" data-end="1020.68">browser is controlled by Landru process</span> <span data-start="1020.68" data-end="1023.68">so I'm sorry browser process browser</span> <span data-start="1023.68" data-end="1025.12">process have a few different threads</span> <span data-start="1025.12" data-end="1027.64">like UI thread that controls all the UI</span> <span data-start="1027.64" data-end="1030.31">built a network thread that goes out to</span> <span data-start="1030.31" data-end="1032.589">get the data from the network and then</span> <span data-start="1032.589" data-end="1035.98">store stories thread basically access to</span> <span data-start="1035.98" data-end="1037.66">your file access Hey and then I'm sure</span> <span data-start="1037.66" data-end="1040.959">there's many more so when you are typing</span> <span data-start="1040.959" data-end="1043.57">things into that omnibox that's browser</span> <span data-start="1043.57" data-end="1046.53">process responsibility because that's UI</span> <span data-start="1046.53" data-end="1048.72">and you already looks at that input</span> <span data-start="1048.72" data-end="1050.52">saying like it's this search query or</span> </p>
<p><span data-start="1050.52" data-end="1053.22">URL because in comm you can either a</span> <span data-start="1053.22" data-end="1055.11">search query and go to a search engine</span> <span data-start="1055.11" data-end="1058.2">or you can request a website and in this</span> <span data-start="1058.2" data-end="1060.6">case it looks like website so it's a URL</span> <span data-start="1060.6" data-end="1062.82">your voicethread calls up a network</span> <span data-start="1062.82" data-end="1065.28">thread saying like hey so this</span> <span data-start="1065.28" data-end="1067.409">navigation is about the start can you go</span> <span data-start="1067.409" data-end="1070.62">get the site and then it works sa thank</span> <span data-start="1070.62" data-end="1073.62">you a lot you thought so they go out and</span> <span data-start="1073.62" data-end="1076.65">get the data by the way this part is the</span> <span data-start="1076.65" data-end="1078.39">very commonly known software engineering</span> <span data-start="1078.39" data-end="1080.46">interview question and what what happens</span> <span data-start="1080.46" data-end="1083.1">when you are type google.com into a</span> <span data-start="1083.1" data-end="1085.23">browser you know go through if you're</span> <span data-start="1085.23" data-end="1087.299">like a hot name and DNS and everything I</span> <span data-start="1087.299" data-end="1090.929">am skipping all of that just you know</span> <span data-start="1090.929" data-end="1093.57">masculine hondo by network thread and</span> <span data-start="1093.57" data-end="1096.57">then when the little bit of data comes</span> <span data-start="1096.57" data-end="1098.76">back maybe server responds with a</span> <span data-start="1098.76" data-end="1101.309">soberly direct so networks the rest this</span> <span data-start="1101.309" data-end="1102.75">to you I hate this</span> <span data-start="1102.75" data-end="1104.58">you know server says to me direct and I</span> <span data-start="1104.58" data-end="1106.2">knew I thoroughly turns same thing I was</span> <span data-start="1106.2" data-end="1108.12">like okay then navigate to that Lee</span> <span data-start="1108.12" data-end="1111.419">direct them but if the actual content</span> <span data-start="1111.419" data-end="1113.64">start to come back the network process</span> <span data-start="1113.64" data-end="1115.89">kind of sniff the beginning of the file</span> <span data-start="1115.89" data-end="1118.74">by mime type sniffing to make sure the</span> <span data-start="1118.74" data-end="1121.049">file that they say they are is the file</span> <span data-start="1121.049" data-end="1124.83">they are and you know in case they are</span> <span data-start="1124.83" data-end="1128.01">getting image file then you don't they</span> <span data-start="1128.01" data-end="1129.75">don't need to lender the page it is a</span> <span data-start="1129.75" data-end="1132.539">downloaded quest so they would pass it</span> <span data-start="1132.539" data-end="1136.77">on to a storage thread I'm sure and this</span> <span data-start="1136.77" data-end="1139.14">is where Safe Browsing check happens so</span> </p>
<p><span data-start="1139.14" data-end="1141.809">I'm sure you might have seen who access</span> <span data-start="1141.809" data-end="1145.049">one some site and then chrome suddenly</span> <span data-start="1145.049" data-end="1148.5">says this might be fishing you might not</span> <span data-start="1148.5" data-end="1150.51">want to click through this is where the</span> <span data-start="1150.51" data-end="1152.82">check happens like if it is much to the</span> <span data-start="1152.82" data-end="1155.4">known malicious content and then the LMS</span> <span data-start="1155.4" data-end="1157.5">is yet so but in this case it looks</span> <span data-start="1157.5" data-end="1160.049">legit so the network's racist I got what</span> <span data-start="1160.049" data-end="1162.12">you requested and browser process</span> <span data-start="1162.12" data-end="1164.429">returns like let me get a render process</span> <span data-start="1164.429" data-end="1167.909">remember be content web content and the</span> <span data-start="1167.909" data-end="1171.63">chrome is a different process so then</span> <span data-start="1171.63" data-end="1173.79">at this point on UI thread mine update</span> <span data-start="1173.79" data-end="1177.63">to like secure UI shows up and then</span> <span data-start="1177.63" data-end="1179.88">you're back and forward button</span> <span data-start="1179.88" data-end="1183.15">navigation gets committed the lender</span> <span data-start="1183.15" data-end="1185.91">process wake up your wife's recess into</span> <span data-start="1185.91" data-end="1187.35">process communication</span> <span data-start="1187.35" data-end="1189.6">hey please render this page and then the</span> <span data-start="1189.6" data-end="1193.29">process says ok get me that HTML we talk</span> <span data-start="1193.29" data-end="1195.06">to network thread and a network thread</span> <span data-start="1195.06" data-end="1199.14">forward stuff stream of HTML into a</span> <span data-start="1199.14" data-end="1201.57">vendor process Landru takes all of that</span> <span data-start="1201.57" data-end="1205.11">do its magic which we will get into and</span> <span data-start="1205.11" data-end="1210.72">then returns be event saying hey page</span> <span data-start="1210.72" data-end="1212.46">has loaded at this point the spinner</span> <span data-start="1212.46" data-end="1215.31">stops spinning and then from browsers</span> <span data-start="1215.31" data-end="1218.46">point of view navigation is complete you</span> <span data-start="1218.46" data-end="1220.71">have the site at this point if you</span> <span data-start="1220.71" data-end="1224.28">decide to type in other URL because as</span> </p>
<p><span data-start="1224.28" data-end="1226.38">Java screen</span> <span data-start="1226.38" data-end="1231.36">on load handler event handler somebody</span> <span data-start="1231.36" data-end="1235.08">types new site again browser UI thread</span> <span data-start="1235.08" data-end="1237.09">wakes up and saying like hey did you</span> <span data-start="1237.09" data-end="1239.55">want to handle this event and then then</span> <span data-start="1239.55" data-end="1241.65">we process looks at it and then like huh</span> <span data-start="1241.65" data-end="1243.33">I might have they been hundred for that</span> <span data-start="1243.33" data-end="1246.69">and then you know they might block that</span> <span data-start="1246.69" data-end="1248.43">navigation or they proceed with</span> <span data-start="1248.43" data-end="1252.78">navigation what gets tricky is a</span> <span data-start="1252.78" data-end="1254.43">introduction of Service Worker so</span> <span data-start="1254.43" data-end="1258.8">Service Worker is a way to write a</span> <span data-start="1258.8" data-end="1262.32">caching and banette Makka pakka sea from</span> <span data-start="1262.32" data-end="1263.82">your front end code so you write</span> <span data-start="1263.82" data-end="1265.95">JavaScript to define which kind of</span> <span data-start="1265.95" data-end="1268.44">resource needs to go to cache needs to</span> <span data-start="1268.44" data-end="1270.72">go out from the network and you write</span> <span data-start="1270.72" data-end="1272.58">your code and then you ship it with your</span> <span data-start="1272.58" data-end="1274.83">application this is your Java square</span> <span data-start="1274.83" data-end="1277.35">which means it lives on the lander</span> <span data-start="1277.35" data-end="1280.83">process but the navigation is handled by</span> <span data-start="1280.83" data-end="1284.94">a browser process so the when site is</span> <span data-start="1284.94" data-end="1287.25">requested a browser process or the UI</span> <span data-start="1287.25" data-end="1290.34">thread checks for known service worker</span> <span data-start="1290.34" data-end="1294">scope so the browser process have a left</span> </p>
<p><span data-start="1294" data-end="1296.13">France to a known installed</span> <span data-start="1296.13" data-end="1299.7">scope basically a domain of the site and</span> <span data-start="1299.7" data-end="1302.61">then checks for it and now you see oh</span> <span data-start="1302.61" data-end="1303.47">there</span> <span data-start="1303.47" data-end="1307.07">it is a scope serviceworker is installed</span> <span data-start="1307.07" data-end="1309.529">so in this case browser process have to</span> <span data-start="1309.529" data-end="1311.57">wake up the render process asking hey</span> <span data-start="1311.57" data-end="1313.879">you need to align your serviceworker</span> <span data-start="1313.879" data-end="1316.759">code and then the process do that and</span> <span data-start="1316.759" data-end="1318.62">then turns out lando process wanted to</span> <span data-start="1318.62" data-end="1320.659">get a fresh content back so they say</span> <span data-start="1320.659" data-end="1322.879">actually the me like please give me</span> <span data-start="1322.879" data-end="1324.32">about lee service from the freshly</span> <span data-start="1324.32" data-end="1326.629">network and your wife's racist here we</span> <span data-start="1326.629" data-end="1329.09">go get that to network process you might</span> <span data-start="1329.09" data-end="1331.639">see this round trip is unnecessary these</span> <span data-start="1331.639" data-end="1334.549">like possibly making it 0 and this is</span> <span data-start="1334.549" data-end="1336.11">reason why sometimes you see article</span> <span data-start="1336.11" data-end="1337.759">about like serviceworker startup time</span> <span data-start="1337.759" data-end="1340.7">problem there is a proposed both there</span> <span data-start="1340.7" data-end="1343.009">is a new feature that is coming into</span> <span data-start="1343.009" data-end="1345.11">browser called navigation preload which</span> <span data-start="1345.11" data-end="1348.44">basically starting the network request</span> <span data-start="1348.44" data-end="1350.69">while they were checking with</span> <span data-start="1350.69" data-end="1353.809">serviceworker my teammate Jake or wrote</span> <span data-start="1353.809" data-end="1357.11">a great introduction and how to order</span> <span data-start="1357.11" data-end="1359.71">call so if you're curious check that out</span> <span data-start="1359.71" data-end="1364.24">so now moving on to an under process</span> <span data-start="1364.24" data-end="1367.009">where we learn the process have a walk</span> <span data-start="1367.009" data-end="1368.45">with rest that you've might heard of</span> <span data-start="1368.45" data-end="1370.789">from the beginning talk before me and</span> <span data-start="1370.789" data-end="1372.889">they also have compositor thread and</span> <span data-start="1372.889" data-end="1375.32">lustrous thread that we will go and to</span> <span data-start="1375.32" data-end="1378.74">get into but the make oh I need to</span> <span data-start="1378.74" data-end="1380.96">purchase this day that this part is</span> <span data-start="1380.96" data-end="1384.289">where when people talk about website</span> <span data-start="1384.289" data-end="1387.83">performance goes in so there are so many</span> <span data-start="1387.83" data-end="1390.95">details in-depth knowledge many many</span> <span data-start="1390.95" data-end="1394.7">many articles even within my team's own</span> <span data-start="1394.7" data-end="1396.11">documentation site there is like</span> <span data-start="1396.11" data-end="1398.269">hundreds of them so if you're curious of</span> <span data-start="1398.269" data-end="1400.669">any of that bit I recommend you to go</span> <span data-start="1400.669" data-end="1403.039">check that out and just to make sure</span> <span data-start="1403.039" data-end="1405.279">that I'm not just plugging my team</span> </p>
<p><span data-start="1405.279" data-end="1408.169">Mozilla has nearly great blog posts</span> <span data-start="1408.169" data-end="1409.7">especially with the release of serve</span> <span data-start="1409.7" data-end="1412.84">servo and web blender their new engine</span> <span data-start="1412.84" data-end="1415.34">especially when Clark has been writing a</span> <span data-start="1415.34" data-end="1417.789">lot of great explanation</span> <span data-start="1417.789" data-end="1421.1">WebKit blog in between daily beast notes</span> <span data-start="1421.1" data-end="1423.559">they also writes amazing documentation</span> <span data-start="1423.559" data-end="1426.47">about how internal browser works so if</span> <span data-start="1426.47" data-end="1428">you're curious about any of this from</span> <span data-start="1428" data-end="1430.1">this talk I highly recommend check that</span> <span data-start="1430.1" data-end="1433.7">out so under process last time we talked</span> <span data-start="1433.7" data-end="1436.24">about you know the feed coming in</span> <span data-start="1436.24" data-end="1439.27">but the blender process especially main</span> <span data-start="1439.27" data-end="1442.84">threads job is to get the data and turn</span> <span data-start="1442.84" data-end="1445.66">them into something that's this variable</span> <span data-start="1445.66" data-end="1449.44">on the screen so how does that work the</span> <span data-start="1449.44" data-end="1452.29">first step is loading and parsing as you</span> <span data-start="1452.29" data-end="1454.75">sew they start receiving a stream and</span> <span data-start="1454.75" data-end="1458.23">they start leading them from the top to</span> <span data-start="1458.23" data-end="1460.78">the bottom and then if the browser the</span> <span data-start="1460.78" data-end="1463.6">main thread sees that the link or image</span> <span data-start="1463.6" data-end="1465.37">your script that needs to get out to get</span> <span data-start="1465.37" data-end="1467.35">it they send the request to the network</span> <span data-start="1467.35" data-end="1470.49">thread in browser process together but</span> <span data-start="1470.49" data-end="1474.37">result of this process parsing is a Dom</span> <span data-start="1474.37" data-end="1478.21">tree that we all know this is a browsers</span> <span data-start="1478.21" data-end="1480.64">internal representation of the site as</span> <span data-start="1480.64" data-end="1485.14">well as a API another position to ask</span> </p>
<p><span data-start="1485.14" data-end="1487.09">JavaScript developer interact with via</span> <span data-start="1487.09" data-end="1494.44">JavaScript so in this process if a main</span> <span data-start="1494.44" data-end="1497.17">thread is a JavaScript then they need to</span> <span data-start="1497.17" data-end="1499.39">pause the parsing and then they need to</span> <span data-start="1499.39" data-end="1501.25">get the JavaScript don't know them parse</span> <span data-start="1501.25" data-end="1503.41">them execute them and then once</span> <span data-start="1503.41" data-end="1505.09">everything is done they can go back to</span> <span data-start="1505.09" data-end="1508.69">the list of HTML because javascript can</span> <span data-start="1508.69" data-end="1512.56">modify dong so you know am I do a little</span> <span data-start="1512.56" data-end="1514.3">bit of HTML and you're feeling good and</span> <span data-start="1514.3" data-end="1517.27">then like brow JavaScript comes in and</span> <span data-start="1517.27" data-end="1519.19">document light everything that's</span> <span data-start="1519.19" data-end="1523.24">possibility so they need to stop that's</span> <span data-start="1523.24" data-end="1525.22">this is why a lot of like a kind of</span> <span data-start="1525.22" data-end="1526.69">water wisdom about I could put the</span> </p>
<p><span data-start="1526.69" data-end="1528.55">JavaScript at the bottom comes from and</span> <span data-start="1528.55" data-end="1531.97">then you know modern browsers or more on</span> <span data-start="1531.97" data-end="1533.86">web api is has been introducing a lot of</span> <span data-start="1533.86" data-end="1537.19">ways to hint to the browser how to treat</span> <span data-start="1537.19" data-end="1539.38">those things so if you were sure that</span> <span data-start="1539.38" data-end="1541.72">your JavaScript code is now going to</span> <span data-start="1541.72" data-end="1543.4">interact with Dom then you can put a</span> <span data-start="1543.4" data-end="1545.5">single tree view because that's not</span> <span data-start="1545.5" data-end="1547.84">gonna block a evander if you're curious</span> <span data-start="1547.84" data-end="1550.27">about those resource priority my</span> <span data-start="1550.27" data-end="1551.92">teammate what about those on the same</span> <span data-start="1551.92" data-end="1556.9">site that I'd be showing so now that the</span> <span data-start="1556.9" data-end="1560.08">dome is there the only Dom is not gonna</span> <span data-start="1560.08" data-end="1562.6">construct a website they need style so</span> <span data-start="1562.6" data-end="1566.44">the LED CSS and then they curricula it's</span> <span data-start="1566.44" data-end="1568">what's called a computed style</span> <span data-start="1568" data-end="1569.08">it's basically</span> <span data-start="1569.08" data-end="1572.02">matching of what kind of CSS is applied</span> <span data-start="1572.02" data-end="1576.34">to this one given domnode you can see</span> <span data-start="1576.34" data-end="1580.27">those in a depth was ha</span> <span data-start="1580.27" data-end="1583.96">you see oops you see their computer part</span> <span data-start="1583.96" data-end="1585.82">that's what you were seeing the computed</span> <span data-start="1585.82" data-end="1591.13">style and once that's done is it</span> <span data-start="1591.13" data-end="1593.92">possible to render the page not really I</span> <span data-start="1593.92" data-end="1595.69">mean I'm looking at it there is a paper</span> <span data-start="1595.69" data-end="1598.33">on top of that paper there's a phone I</span> <span data-start="1598.33" data-end="1600.79">can't really describe how it is a placed</span> <span data-start="1600.79" data-end="1603.73">or it is so they need to figure out</span> <span data-start="1603.73" data-end="1607.09">layout the geometry of the page so the</span> <span data-start="1607.09" data-end="1609.25">main thread goes through like you know</span> <span data-start="1609.25" data-end="1611.89">oh and the layout is tricky like even</span> <span data-start="1611.89" data-end="1614.08">with a simple website like this they</span> <span data-start="1614.08" data-end="1615.55">need to figure out where the line blake</span> <span data-start="1615.55" data-end="1618.07">is going to be and if they line break on</span> <span data-start="1618.07" data-end="1620.44">that point then the top of the box</span> <span data-start="1620.44" data-end="1622.99">expands which means the subsequent box</span> <span data-start="1622.99" data-end="1627.25">all moves down so there is a vertical</span> <span data-start="1627.25" data-end="1630.73">writing on the CSS there is a float and</span> <span data-start="1630.73" data-end="1633.07">flex and layout is quite complicated</span> <span data-start="1633.07" data-end="1636.55">tasks but they work through that and</span> <span data-start="1636.55" data-end="1638.95">then creates what's called layer tree</span> <span data-start="1638.95" data-end="1641.23">it's important to note that layer tree</span> <span data-start="1641.23" data-end="1644.23">is not equal to dom tree sometimes looks</span> <span data-start="1644.23" data-end="1647.02">like it's the same but they all make use</span> <span data-start="1647.02" data-end="1648.85">of all the things that's going to be on</span> <span data-start="1648.85" data-end="1651.76">the screen so they omit the things like</span> <span data-start="1651.76" data-end="1653.8">display now and they add things that's</span> <span data-start="1653.8" data-end="1656.41">not in the dom like a pseudo content</span> <span data-start="1656.41" data-end="1661.92">from CSS so then it's time to paint</span> <span data-start="1661.92" data-end="1665.5">because we have geometry and what's in</span> <span data-start="1665.5" data-end="1667.39">them and style of them you might think</span> <span data-start="1667.39" data-end="1669.91">that you can pay draw the picture</span> <span data-start="1669.91" data-end="1672.22">already but if i'm having this like</span> <span data-start="1672.22" data-end="1674.56">human fax machine game is like Sue's</span> <span data-start="1674.56" data-end="1676.42">who's my friend sitting in front of me i</span> <span data-start="1676.42" data-end="1679.36">can't still can't media just explain</span> <span data-start="1679.36" data-end="1681.94">what exactly i am saying in front of me</span> <span data-start="1681.94" data-end="1684.7">because of the index and all of the</span> <span data-start="1684.7" data-end="1688.12">complicated CSS stuff so if i go through</span> <span data-start="1688.12" data-end="1691.3">this by dumb order then i would paint a</span> <span data-start="1691.3" data-end="1694.78">header and then next is div and the next</span> <span data-start="1694.78" data-end="1697.66">is another div but then there's a d'</span> <span data-start="1697.66" data-end="1700.18">index so this is totally messed up</span> <span data-start="1700.18" data-end="1700.78">so the</span> <span data-start="1700.78" data-end="1704.08">need to figure out exactly how to paint</span> <span data-start="1704.08" data-end="1706.99">the page and that process is called</span> <span data-start="1706.99" data-end="1710.02">paint they go through the layout tree</span> <span data-start="1710.02" data-end="1712.06">and then create what's called a paint Li</span> <span data-start="1712.06" data-end="1713.89">course and it's kind of like if you look</span> <span data-start="1713.89" data-end="1717.37">at used a canvas API then it's similar</span> <span data-start="1717.37" data-end="1719.98">to that you just like have a do this do</span> <span data-start="1719.98" data-end="1723.67">that do this to the create the page it's</span> <span data-start="1723.67" data-end="1727.24">really important to note that in each</span> <span data-start="1727.24" data-end="1729.82">steps the input is from the previous</span> <span data-start="1729.82" data-end="1733.27">step so if you mess something up in the</span> <span data-start="1733.27" data-end="1735.91">middle of this pixel pipeline then all</span> <span data-start="1735.91" data-end="1739.24">of the subsequent trees and data</span> <span data-start="1739.24" data-end="1742.57">structures needs to be regenerated if</span> <span data-start="1742.57" data-end="1744.28">it's like at the end of their maybe it's</span> <span data-start="1744.28" data-end="1746.38">okay but if you do a deep in the lending</span> <span data-start="1746.38" data-end="1748.84">process then you know there's a lot of</span> <span data-start="1748.84" data-end="1751.3">computation to be done and if you were</span> <span data-start="1751.3" data-end="1752.83">doing this kind of thing for your</span> <span data-start="1752.83" data-end="1755.62">animation say then you know you're in</span> <span data-start="1755.62" data-end="1759.52">problem because our display refreshes</span> <span data-start="1759.52" data-end="1763.3">sixteen sixty times a second so you need</span> <span data-start="1763.3" data-end="1765.16">to make sure that all the calculation is</span> <span data-start="1765.16" data-end="1768.31">catching up to that cadence so you might</span> <span data-start="1768.31" data-end="1770.2">be feeling good but then oh you missed a</span> <span data-start="1770.2" data-end="1773.92">frame and page chunks or you know am I</span> <span data-start="1773.92" data-end="1776.29">feeling good you have like a tiny change</span> <span data-start="1776.29" data-end="1778.72">is going in but then keep in mind this</span> <span data-start="1778.72" data-end="1781.12">is main thread so it's also hungry in</span> <span data-start="1781.12" data-end="1782.89">your JavaScript code and your JavaScript</span> <span data-start="1782.89" data-end="1785.08">code is start to throw a heavy</span> <span data-start="1785.08" data-end="1787.15">computation thing and then you make a</span> <span data-start="1787.15" data-end="1791.95">frame and pin chunks there's a way to</span> <span data-start="1791.95" data-end="1794.2">get that timing by calling</span> <span data-start="1794.2" data-end="1796.6">requestanimationframe and there's a way</span> <span data-start="1796.6" data-end="1798.97">to like divide your heavy JavaScript</span> <span data-start="1798.97" data-end="1800.32">tasks so that it doesn't block</span> <span data-start="1800.32" data-end="1802.42">calendaring there is heavily documented</span> <span data-start="1802.42" data-end="1804.34">on optimizing JavaScript execution</span> <span data-start="1804.34" data-end="1808.39">documentation so now that we have all of</span> <span data-start="1808.39" data-end="1810.76">the draw orders and everything maybe</span> <span data-start="1810.76" data-end="1813.16">it's time to draw or last revised the</span> <span data-start="1813.16" data-end="1816.13">page how would you do that well you</span> <span data-start="1816.13" data-end="1819.22">might go through naive way like okay I</span> <span data-start="1819.22" data-end="1821.47">know the viewport I know the layout I</span> <span data-start="1821.47" data-end="1823.75">know how to paint those layout so I'm</span> <span data-start="1823.75" data-end="1826.21">gonna lay them up if person's clothes</span> <span data-start="1826.21" data-end="1829.81">then I'm gonna fill in the list and if</span> <span data-start="1829.81" data-end="1834.19">the UI moves like you know the menu bar</span> <span data-start="1834.19" data-end="1834.74">slides</span> <span data-start="1834.74" data-end="1836.57">something I'm gonna invalidate that</span> <span data-start="1836.57" data-end="1838.429">changed apart and nearly drawn them</span> <span data-start="1838.429" data-end="1841.37">again but you can see this kids kind of</span> <span data-start="1841.37" data-end="1844.07">like a lot of work if you were trying to</span> <span data-start="1844.07" data-end="1846.11">do a 60 frames per second so a modern</span> <span data-start="1846.11" data-end="1849.8">browser have a way to do this a little</span> <span data-start="1849.8" data-end="1853.04">more and efficiently called a composite</span> <span data-start="1853.04" data-end="1855.83">so the idea of composite is that they're</span> <span data-start="1855.83" data-end="1858.38">going to divide all of your elements</span> <span data-start="1858.38" data-end="1860.51">into layers like Photoshop layers and</span> <span data-start="1860.51" data-end="1865.01">they'll a stir them all together that's</span> <span data-start="1865.01" data-end="1867.83">why it's already last Erised image so</span> <span data-start="1867.83" data-end="1870.32">all the browser has to do is moving and</span> <span data-start="1870.32" data-end="1871.309">layering them</span> <span data-start="1871.309" data-end="1874.19">so changing the scrolling doesn't matter</span> <span data-start="1874.19" data-end="1876.8">moving the things that is already in one</span> <span data-start="1876.8" data-end="1880.25">layer as a murderer walk smoothly so</span> <span data-start="1880.25" data-end="1882.74">here's a video of you can check this</span> <span data-start="1882.74" data-end="1885.05">layer on your dev tool so here's a video</span> <span data-start="1885.05" data-end="1887.45">of application that I made which is</span> <span data-start="1887.45" data-end="1890.33">visualizing your image input as a new</span> <span data-start="1890.33" data-end="1892.91">fabric you can see there are two layers</span> <span data-start="1892.91" data-end="1895.37">as I move them you can see that layer</span> <span data-start="1895.37" data-end="1899.179">box is moving I am going to soon turn on</span> <span data-start="1899.179" data-end="1902.12">the paint in flashing which basically is</span> <span data-start="1902.12" data-end="1904.7">a hint see to see which part of the</span> <span data-start="1904.7" data-end="1907.1">lesion of the page is painted oh it's</span> <span data-start="1907.1" data-end="1911.6">just it is a green paint happen so there</span> <span data-start="1911.6" data-end="1912.65">might be some kind of performance</span> <span data-start="1912.65" data-end="1914.87">problem that I have but you can see I</span> <span data-start="1914.87" data-end="1918.32">move all of my pictures and no paint is</span> <span data-start="1918.32" data-end="1920.09">happening it's already last Royce and</span> <span data-start="1920.09" data-end="1922.91">it's just moving so that's the composite</span> <span data-start="1922.91" data-end="1926.51">in order to do this the browser go</span> <span data-start="1926.51" data-end="1929.72">through a layer tree to create a layer</span> <span data-start="1929.72" data-end="1934.04">tree and once that layer tree is created</span> <span data-start="1934.04" data-end="1936.89">they can composite sometimes you might</span> <span data-start="1936.89" data-end="1939.08">find parts of your application that you</span> <span data-start="1939.08" data-end="1942.08">think is a layer might not get layer in</span> <span data-start="1942.08" data-end="1943.79">that case you can hint to the browser</span> <span data-start="1943.79" data-end="1946.22">hey this will change and then bake we're</span> <span data-start="1946.22" data-end="1948.41">there for you for the world change and</span> <span data-start="1948.41" data-end="1951.86">it's tempting to they're all the things</span> <span data-start="1951.86" data-end="1953.66">because it's gonna be plea bastard and</span> <span data-start="1953.66" data-end="1955.79">it's just moving them but that man is</span> <span data-start="1955.79" data-end="1958.07">old in a another performance junk so</span> <span data-start="1958.07" data-end="1959.75">it's always important to measure your</span> <span data-start="1959.75" data-end="1961.82">performance runtime performance before</span> <span data-start="1961.82" data-end="1965.69">deciding how to use those attributes so</span> <span data-start="1965.69" data-end="1968.19">now that all of the trees</span> <span data-start="1968.19" data-end="1971.159">paint order is in main thread' calls up</span> <span data-start="1971.159" data-end="1973.799">a compositor threat which is specialized</span> <span data-start="1973.799" data-end="1976.289">to Honduran dis compositing they commit</span> <span data-start="1976.289" data-end="1978.679">that data and say goal display this page</span> <span data-start="1978.679" data-end="1984.36">so then compositor thread try to Laster</span> <span data-start="1984.36" data-end="1986.909">the page but as you can see the page is</span> <span data-start="1986.909" data-end="1989.49">now bigger it's not just beautiful so</span> <span data-start="1989.49" data-end="1991.379">they have a mechanism to divide that up</span> <span data-start="1991.379" data-end="1994.83">into tile and each of the tile is last</span> <span data-start="1994.83" data-end="1998.039">rise using Laster thread what the last</span> <span data-start="1998.039" data-end="1999.96">of thread is doing is that getting the</span> <span data-start="1999.96" data-end="2004.73">small quad of the page making into a GPU</span> <span data-start="2004.73" data-end="2007.19">texture map and put it into GPU memory</span> <span data-start="2007.19" data-end="2010.539">also keeping the love friends in a</span> <span data-start="2010.539" data-end="2013.789">compositor thread so compositor spread</span> <span data-start="2013.789" data-end="2015.62">also have a idea of where the viewport</span> <span data-start="2015.62" data-end="2019.129">is so they might schedules the around</span> <span data-start="2019.129" data-end="2021.649">the viewport earlier than the one on the</span> <span data-start="2021.649" data-end="2023.059">bottom so they are a little more</span> <span data-start="2023.059" data-end="2025.789">sophisticated but now you have all of</span> <span data-start="2025.789" data-end="2028.73">the draw was compositor thread composite</span> <span data-start="2028.73" data-end="2031.07">the page and then create what's called a</span> <span data-start="2031.07" data-end="2033.289">compositor frame this is the frame of</span> <span data-start="2033.289" data-end="2034.659">your application that you're showing</span> <span data-start="2034.659" data-end="2038.049">this one gets sent to a browser process</span> <span data-start="2038.049" data-end="2041.299">your IPC same vendor this and browser</span> <span data-start="2041.299" data-end="2043.22">process UI process might add another</span> <span data-start="2043.22" data-end="2046.37">composite frame you know to display the</span> </p>
<p><span data-start="2046.37" data-end="2049.429">UI part of the thing and then sent it to</span> <span data-start="2049.429" data-end="2053.359">GPU if the screw comes in remember the</span> <span data-start="2053.359" data-end="2056.389">school input comes in the UI thread says</span> <span data-start="2056.389" data-end="2059.149">hey there is inter compositor thread</span> <span data-start="2059.149" data-end="2061.31">goes no problem I know how to layer</span> <span data-start="2061.31" data-end="2063.5">these things so they create another</span> <span data-start="2063.5" data-end="2067.19">compositor frame send it to GPU and you</span> <span data-start="2067.19" data-end="2068.659">know small screwing because the most</span> <span data-start="2068.659" data-end="2070.73">important part is that a compositor</span> <span data-start="2070.73" data-end="2072.889">surrett could handle all of this they</span> <span data-start="2072.889" data-end="2075.44">didn't need to bother a main thread they</span> <span data-start="2075.44" data-end="2079.099">didn't junk the page so but sometimes</span> <span data-start="2079.099" data-end="2080.389">you might have this kind of application</span> <span data-start="2080.389" data-end="2085.19">where you want to like you know clip the</span> <span data-start="2085.19" data-end="2087.29">only horizontal scroll to one region and</span> <span data-start="2087.29" data-end="2088.7">you might add other event listener and</span> <span data-start="2088.7" data-end="2090.29">and prevent default and then kind of</span> <span data-start="2090.29" data-end="2094.579">trying to force the scroll well that</span> <span data-start="2094.579" data-end="2096.53">event handler lives in the main thread</span> <span data-start="2096.53" data-end="2099.079">in JavaScript so how does dart handled</span> <span data-start="2099.079" data-end="2101.28">so compositor thread</span> <span data-start="2101.28" data-end="2103.859">when their last raising and compositing</span> <span data-start="2103.859" data-end="2106.53">them they mark that part as a known fast</span> <span data-start="2106.53" data-end="2108.72">goal of Allegiant which basically means</span> <span data-start="2108.72" data-end="2111">that if an even happens on this point</span> <span data-start="2111" data-end="2114.48">then tell me and then I need to ask my</span> <span data-start="2114.48" data-end="2117.569">main threat pause the scroll they say</span> <span data-start="2117.569" data-end="2119.79">hey you need something maybe I might say</span> <span data-start="2119.79" data-end="2122.099">yeah there is event handler so I'm gonna</span> <span data-start="2122.099" data-end="2126.99">block that default move right but there</span> <span data-start="2126.99" data-end="2128.94">is a common technique in JavaScript</span> <span data-start="2128.94" data-end="2131.819">which is event delegation you put it one</span> <span data-start="2131.819" data-end="2134.13">event listener on the top or the big</span> <span data-start="2134.13" data-end="2136.2">lesion of it and then you check which of</span> <span data-start="2136.2" data-end="2138.63">the target it is in this case it's a</span> <span data-start="2138.63" data-end="2140.849">problem everything becomes known fast</span> <span data-start="2140.849" data-end="2143.069">scrollable legion and compositors</span> <span data-start="2143.069" data-end="2145.23">threader is basically just dispatching</span> <span data-start="2145.23" data-end="2147.3">the message to main threat like you need</span> <span data-start="2147.3" data-end="2150.39">it like even though main threat actually</span> <span data-start="2150.39" data-end="2152.76">didn't need those part they need to ask</span> <span data-start="2152.76" data-end="2156.359">to them so as a web developer it's a big</span> <span data-start="2156.359" data-end="2159.329">chunk so as a web developer we can put a</span> <span data-start="2159.329" data-end="2164.49">passive true options and that makes you</span> </p>
<p><span data-start="2164.49" data-end="2168.27">Legion not read basically what it means</span> <span data-start="2168.27" data-end="2170.369">is that I still want to hear about the</span> <span data-start="2170.369" data-end="2172.26">event on the main threat but you can go</span> <span data-start="2172.26" data-end="2174.99">ahead and start scrolling if you want to</span> <span data-start="2174.99" data-end="2179.069">and there is a CSS attribute like touch</span> <span data-start="2179.069" data-end="2181.17">action panics which basically you don't</span> <span data-start="2181.17" data-end="2183.96">need to write any JavaScript logic to</span> <span data-start="2183.96" data-end="2185.64">prevent default and then clip it to</span> <span data-start="2185.64" data-end="2187.349">whatever the gesture that you want just</span> <span data-start="2187.349" data-end="2190.109">write a CSS and browser takes care for</span> <span data-start="2190.109" data-end="2194.43">you so those things also document it on</span> <span data-start="2194.43" data-end="2196.89">our side if you want to check that out</span> <span data-start="2196.89" data-end="2199.8">so hopefully this didn't overwhelm you</span> <span data-start="2199.8" data-end="2206.01">with like so many things I need to know</span> <span data-start="2206.01" data-end="2208.68">well there is a little bit of tools to</span> <span data-start="2208.68" data-end="2210.66">help you when you are trying to develop</span> <span data-start="2210.66" data-end="2213.99">so one is lighthouse lighthouse is a</span> <span data-start="2213.99" data-end="2216.63">plug-in also tool that lives within the</span> <span data-start="2216.63" data-end="2219.54">chrome developer tool if you go open the</span> <span data-start="2219.54" data-end="2222.27">audits tab they run the audit over your</span> <span data-start="2222.27" data-end="2224.46">site and then tells you the score and a</span> <span data-start="2224.46" data-end="2225.93">lot of people cares about the score and</span> <span data-start="2225.93" data-end="2228.27">getting hundred but what I find more</span> <span data-start="2228.27" data-end="2231.03">interesting is a explanation of each</span> <span data-start="2231.03" data-end="2232.61">audit</span> <span data-start="2232.61" data-end="2235.4">and when I started at this team home</span> <span data-start="2235.4" data-end="2237.5">develop operations first thing I did was</span> <span data-start="2237.5" data-end="2239.57">going through all of the audit to learn</span> <span data-start="2239.57" data-end="2242.21">what browser cares about as a</span> <span data-start="2242.21" data-end="2244.75">performance or any other business area</span> <span data-start="2244.75" data-end="2246.92">other thing that's coming to the</span> <span data-start="2246.92" data-end="2249.14">platform is a feature policy so future</span> <span data-start="2249.14" data-end="2251.45">potty is like a content security policy</span> <span data-start="2251.45" data-end="2253.97">but for your feature so you put a little</span> <span data-start="2253.97" data-end="2257.69">bit of a snippet in your header then it</span> <span data-start="2257.69" data-end="2261.29">will block the feature so you might have</span> <span data-start="2261.29" data-end="2263.18">things like fast animation feature</span> <span data-start="2263.18" data-end="2266.69">policy where every CSS animation that is</span> <span data-start="2266.69" data-end="2269.33">not performing it's blocked there is a</span> <span data-start="2269.33" data-end="2272.81">feature policy demos up comm that has</span> <span data-start="2272.81" data-end="2275.72">all of the try and eller type of thing</span> <span data-start="2275.72" data-end="2278.12">and this is super this is very new and</span> <span data-start="2278.12" data-end="2279.98">it's really interesting to see what kind</span> <span data-start="2279.98" data-end="2282.2">of feature policies proposed because it</span> <span data-start="2282.2" data-end="2284.45">tells what kind of performance problems</span> <span data-start="2284.45" data-end="2286.04">what kind of feature problem that the</span> <span data-start="2286.04" data-end="2287.72">web developer and browser engineers are</span> <span data-start="2287.72" data-end="2292.01">having so hopefully through this you</span> <span data-start="2292.01" data-end="2293.48">might thought that oh I already knew</span> <span data-start="2293.48" data-end="2296">that you are on the behind the side of</span> <span data-start="2296" data-end="2299.96">the browser I was the front side if you</span> <span data-start="2299.96" data-end="2301.76">are like me who is like this is</span> <span data-start="2301.76" data-end="2304.01">interesting but I don't know where to</span> <span data-start="2304.01" data-end="2306.62">start I recommend just building</span> <span data-start="2306.62" data-end="2310.76">applications it doesn't have to be to do</span> </p>
<p><span data-start="2310.76" data-end="2312.89">MVC it doesn't have to be Hakone use</span> <span data-start="2312.89" data-end="2314.81">clone you can pick whatever the thing</span> <span data-start="2314.81" data-end="2317.51">you want to do I like knitting so for</span> <span data-start="2317.51" data-end="2319.97">three years since last year's comes I</span> <span data-start="2319.97" data-end="2322.37">made more than five I'm sure I'm</span> <span data-start="2322.37" data-end="2326.36">forgetting knitting related application</span> <span data-start="2326.36" data-end="2328.79">which all of them have idea of compilers</span> <span data-start="2328.79" data-end="2333.59">a bit operations UI transform smooth</span> <span data-start="2333.59" data-end="2336.23">scrolling all of it and like by the time</span> <span data-start="2336.23" data-end="2338.24">the fifth one knitter if I this is the</span> <span data-start="2338.24" data-end="2340.25">only one that I can proudly say to my</span> <span data-start="2340.25" data-end="2342.17">friend hey use this sauce vacation it's</span> <span data-start="2342.17" data-end="2345.17">actually kind of cool so it takes time</span> <span data-start="2345.17" data-end="2347.54">it's really frustrating but I highly</span> <span data-start="2347.54" data-end="2350.36">recommend learning them and if you</span> <span data-start="2350.36" data-end="2353.06">didn't get anything from it I hope this</span> <span data-start="2353.06" data-end="2356">image of q-thruster now engrave into</span> <span data-start="2356" data-end="2357.98">your brain and you think about them</span> <span data-start="2357.98" data-end="2361.58">every time you open a browser this has</span> <span data-start="2361.58" data-end="2363.47">been me Marco that's my twitter handle</span> <span data-start="2363.47" data-end="2365.339">this slide is super eye</span> <span data-start="2365.339" data-end="2367.14">in heavy I am planning on publishing</span> <span data-start="2367.14" data-end="2369.93">static version later and all of the</span> <span data-start="2369.93" data-end="2372.029">reference I mean I counted this morning</span> </p>
<p><span data-start="2372.029" data-end="2376.14">I had a 48 tabs of resources to us so</span> <span data-start="2376.14" data-end="2377.91">dough will be coming soon if you took</span> <span data-start="2377.91" data-end="2379.41">any of the pictures or you want to use</span> <span data-start="2379.41" data-end="2382.44">the slice later I consider all of my</span> <span data-start="2382.44" data-end="2386.609">drawing to be CC by NC s a 4.0 whatever</span> <span data-start="2386.609" data-end="2388.589">that was I forgot I decided that was the</span> <span data-start="2388.589" data-end="2391.89">license I'm going to use so if you use</span> <span data-start="2391.89" data-end="2393.839">them in your talk or education no blog</span> <span data-start="2393.839" data-end="2397.259">or whatever do they mean oh please use</span> <span data-start="2397.259" data-end="2398.82">away thank you very much</span> </p>
</section>