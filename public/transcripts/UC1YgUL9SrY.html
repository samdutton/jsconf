<section>
<p><span data-start="10.58" data-end="14.16">and there's a query API that's really</span> <span data-start="14.16" data-end="17.279">really nice and really flexible to get</span> <span data-start="17.279" data-end="19.71">at you know lists of your data slices of</span> <span data-start="19.71" data-end="20.73">your data</span> <span data-start="20.73" data-end="23.909">that's what per store is all about so at</span> <span data-start="23.909" data-end="25.89">the lowest level actually these these</span> <span data-start="25.89" data-end="27.21">stores you don't gonna have to use per</span> <span data-start="27.21" data-end="29.189">store these stores can be shared across</span> <span data-start="29.189" data-end="34.8">different other JavaScript frameworks so</span> <span data-start="34.8" data-end="35.94">there's a lot of people working on</span> <span data-start="35.94" data-end="37.68">persistence in JavaScript so there's</span> <span data-start="37.68" data-end="39.24">like node persistence</span> </p>
<p><span data-start="39.24" data-end="40.95">I think it's Tim Caswell is doing that</span> <span data-start="40.95" data-end="42.33">there's there's a bunch of things going</span> <span data-start="42.33" data-end="43.74">on with node there's some stuff going on</span> <span data-start="43.74" data-end="45.18">all over the place stuff that uses the</span> <span data-start="45.18" data-end="48.54">JDBC to talk to sequel it would be great</span> <span data-start="48.54" data-end="50.79">if we could get together and actually at</span> <span data-start="50.79" data-end="53.4">the very lowest level just have an API</span> <span data-start="53.4" data-end="55.86">to that we can all reuse the same code</span> <span data-start="55.86" data-end="57.06">to talk to all these different no sequel</span> <span data-start="57.06" data-end="59.43">databases and so that's pretty much what</span> <span data-start="59.43" data-end="61.17">this API is about I'd show you some</span> <span data-start="61.17" data-end="66.119">examples that demonstrate this but it's</span> <span data-start="66.119" data-end="67.979">if anybody's familiar with the w3c</span> <span data-start="67.979" data-end="71.49">indexeddb api it's that it's it's just</span> <span data-start="71.49" data-end="74.609">that it's it's there's get and that</span> <span data-start="74.609" data-end="77.429">takes an ID and it gives you your you</span> <span data-start="77.429" data-end="80.34">know your data there's there's put you</span> <span data-start="80.34" data-end="82.799">give it an object and some directives</span> <span data-start="82.799" data-end="85.429">and it puts it you know in its store</span> <span data-start="85.429" data-end="87.96">there's you know delete same thing you</span> <span data-start="87.96" data-end="92.99">get the idea so the way per store works</span> <span data-start="92.99" data-end="96.09">there's the the models constructed with</span> <span data-start="96.09" data-end="97.829">three pieces three things that you need</span> <span data-start="97.829" data-end="100.799">to to create a model you really just you</span> <span data-start="100.799" data-end="103.619">require the store you instantiate it you</span> <span data-start="103.619" data-end="106.859">then you have VAR model equals if this</span> <span data-start="106.859" data-end="107.999">was a whiteboard that would work out</span> <span data-start="107.999" data-end="108.45">really well</span> <span data-start="108.45" data-end="111.42">but VAR ma you know my model equals and</span> <span data-start="111.42" data-end="112.59">you just give it three things you give</span> <span data-start="112.59" data-end="116.34">it an ID you give it a schema which is</span> <span data-start="116.34" data-end="118.349">it's just a JavaScript object it's it's</span> <span data-start="118.349" data-end="120.179">not like XML schema it's just JSON</span> <span data-start="120.179" data-end="122.399">schema it's really simple the empty</span> <span data-start="122.399" data-end="125.249">empty brackets like the empty object is</span> <span data-start="125.249" data-end="128.039">a valid schema that means schema Furi it</span> <span data-start="128.039" data-end="129.18">means do whatever you want there's no</span> <span data-start="129.18" data-end="132">constraints and then you give it the</span> <span data-start="132" data-end="135.17">store and so those three things</span> <span data-start="135.17" data-end="138.63">are now allow you to essentially have a</span> <span data-start="138.63" data-end="141.99">back-end storage for and whatever back</span> <span data-start="141.99" data-end="143.93">in storage you want for a given</span> <span data-start="143.93" data-end="146.25">collection like to have some models just</span> <span data-start="146.25" data-end="148.16">like an MVC it's there like a class</span> <span data-start="148.16" data-end="151.23">there's nothing it's not specifically a</span> <span data-start="151.23" data-end="154.08">class there's no you know it doesn't do</span> <span data-start="154.08" data-end="155.94">any magic with you no it doesn't require</span> <span data-start="155.94" data-end="158.67">any like you to choose a particular</span> <span data-start="158.67" data-end="161.07">class in prototype will inherit and</span> <span data-start="161.07" data-end="163.08">structure but it's like a class I mean</span> <span data-start="163.08" data-end="166.83">it's it's a place where all of the like</span> <span data-start="166.83" data-end="169.32">things gets get persisted and you can</span> <span data-start="169.32" data-end="171.72">you can talk to that that model and say</span> <span data-start="171.72" data-end="174.3">give me all of all of it and then for</span> <span data-start="174.3" data-end="176.01">each over it for instance if you're not</span> <span data-start="176.01" data-end="177.9">over HTTP that's a really helpful thing</span> <span data-start="177.9" data-end="180.33">to do or you can just ask for a very</span> <span data-start="180.33" data-end="182.94">specific query a very specific bit of a</span> <span data-start="182.94" data-end="185.67">model which is it returns a collection</span> <span data-start="185.67" data-end="187.35">it actually streams that all the way</span> <span data-start="187.35" data-end="191.9">back through the process and it returns</span> <span data-start="191.9" data-end="194.69">if by default it's going to return</span> <span data-start="194.69" data-end="198.75">application JavaScript if you're over</span> </p>
<p><span data-start="198.75" data-end="201.15">HTTP so I have a whole progression of</span> <span data-start="201.15" data-end="203.459">slides I was going to use here and we</span> <span data-start="203.459" data-end="205.23">did some artwork with some leaves it was</span> <span data-start="205.23" data-end="206.34">really pretty on I'll show you guys</span> <span data-start="206.34" data-end="207.44">later</span> <span data-start="207.44" data-end="213.63">but so that's per store per store is all</span> <span data-start="213.63" data-end="216.6">about just storing a very specific type</span> <span data-start="216.6" data-end="219.51">of data that's defined by a model in any</span> <span data-start="219.51" data-end="221.97">database you want we don't have all of</span> <span data-start="221.97" data-end="224.04">the stores yet we have many of the</span> <span data-start="224.04" data-end="225.74">stores there's a Mongo store there's a</span> <span data-start="225.74" data-end="228.9">almost I'm in the couch store if anybody</span> <span data-start="228.9" data-end="231.93">are you guys node users if you Felix</span> <span data-start="231.93" data-end="235.08">have you anybody seen no dirty so I was</span> <span data-start="235.08" data-end="237.78">okay so I was trying to map that as a</span> <span data-start="237.78" data-end="239.19">store and then I realized that wait a</span> <span data-start="239.19" data-end="240.24">minute we have this thing called a</span> <span data-start="240.24" data-end="243.6">memory store that it's just it just</span> <span data-start="243.6" data-end="244.83">stores everything in memory but it gives</span> <span data-start="244.83" data-end="246.15">you the same interface to get to data</span> <span data-start="246.15" data-end="251.13">and so I just wrapped that in a like so</span> <span data-start="251.13" data-end="252.66">stores compose really well because it</span> <span data-start="252.66" data-end="254.7">has this common API this it just exposes</span> <span data-start="254.7" data-end="257.07">a set of functions like that's all it</span> <span data-start="257.07" data-end="258.51">returns it's an object with a set of</span> <span data-start="258.51" data-end="260.94">functions and so I just wrapped that and</span> <span data-start="260.94" data-end="263.76">you can override any give and be hit</span> <span data-start="263.76" data-end="264.99">like all of the different behaviors that</span> <span data-start="264.99" data-end="266.22">you might need to actually make this</span> <span data-start="266.22" data-end="267.99">memory store</span> <span data-start="267.99" data-end="269.61">to write it out you know with new lines</span> <span data-start="269.61" data-end="272.099">separating every you know Jason objects</span> <span data-start="272.099" data-end="273.66">and now you have it essentially you have</span> <span data-start="273.66" data-end="276.3">no dirty except probably not quite as</span> <span data-start="276.3" data-end="280.86">fast but definitely more flexible so you</span> <span data-start="280.86" data-end="285.03">have you're able to use this common</span> <span data-start="285.03" data-end="286.229">query API that I was gonna demonstrate</span> <span data-start="286.229" data-end="290.669">this is awful let me see if I can't</span> <span data-start="290.669" data-end="297.599">bring this up yes okay so the query API</span> <span data-start="297.599" data-end="299.099">this is the this is that actually that</span> <span data-start="299.099" data-end="301.59">the coolest part of I think the most</span> <span data-start="301.59" data-end="305.069">effective thing that per store provides</span> <span data-start="305.069" data-end="310.259">is this notion of like the queries</span> <span data-start="310.259" data-end="312.509">themselves are they look an awful lot</span> <span data-start="312.509" data-end="314.909">like your standard query strings and</span> </p>
<p><span data-start="314.909" data-end="316.62">Chris died when he created called</span> <span data-start="316.62" data-end="318.479">resource query you still I think he's</span> <span data-start="318.479" data-end="320.639">gonna spec it and actually you know IETF</span> <span data-start="320.639" data-end="324.9">IETF it or something but what what it</span> <span data-start="324.9" data-end="328.62">does fundamentally it has two primary</span> <span data-start="328.62" data-end="331.02">terms that you can use so a query would</span> <span data-start="331.02" data-end="333.81">look like question over HTTP a query</span> <span data-start="333.81" data-end="335.969">would look like question mark you know</span> <span data-start="335.969" data-end="338.28">foo equals bar so that that's that would</span> <span data-start="338.28" data-end="339.93">be a comparison query and that would</span> <span data-start="339.93" data-end="342">look like a standard query string you</span> <span data-start="342" data-end="344.37">can do greater than less than greater</span> <span data-start="344.37" data-end="345.63">than equals you know all of that good</span> <span data-start="345.63" data-end="349.65">stuff and that's one term and then</span> <span data-start="349.65" data-end="350.849">there's another that's that's a</span> <span data-start="350.849" data-end="353.07">comparison type term there's another</span> <span data-start="353.07" data-end="355.74">term there's other type of term called a</span> <span data-start="355.74" data-end="359.52">call which is you know to do sorts for</span> <span data-start="359.52" data-end="361.169">instance the standard ways to just say</span> <span data-start="361.169" data-end="366.449">and sort open paren you know and then</span> <span data-start="366.449" data-end="367.889">you can put the actual sorts as</span> <span data-start="367.889" data-end="371.31">arguments in this this these question</span> <span data-start="371.31" data-end="373.68">are these parentheses close that and</span> <span data-start="373.68" data-end="376.62">then once you close the friends you have</span> <span data-start="376.62" data-end="378.18">this this thing that parses down as a</span> <span data-start="378.18" data-end="380.28">call so it's it's one term in this list</span> <span data-start="380.28" data-end="382.56">of terms that's your query string and</span> <span data-start="382.56" data-end="384.389">the parsed object actually really easy</span> <span data-start="384.389" data-end="385.65">to work with so it allows you to do some</span> <span data-start="385.65" data-end="389.34">fun some fun stuff too like manipulate</span> <span data-start="389.34" data-end="392.159">queries that come in so there's this</span> <span data-start="392.159" data-end="395.52">like at your model for instance or you</span> <span data-start="395.52" data-end="398.43">might want to actually override a</span> <span data-start="398.43" data-end="402.75">particular particular behavior like it's</span> <span data-start="402.75" data-end="404.31">a you know blog storm I had a whole</span> <span data-start="404.31" data-end="406.979">example that was a blog store and so you</span> <span data-start="406.979" data-end="411.8">might want to tack on a published thing</span> <span data-start="411.8" data-end="413.789">like you might want to say okay this is</span> <span data-start="413.789" data-end="415.8">a timestamp this is the author that</span> <span data-start="415.8" data-end="417.24">would you would override the put to do</span> <span data-start="417.24" data-end="418.289">that you would just it's just like</span> <span data-start="418.289" data-end="419.61">aspect-oriented programming kind of like</span> <span data-start="419.61" data-end="422.039">a round advice or in Python it would be</span> <span data-start="422.039" data-end="423.99">decorators like it's like you can met a</span> <span data-start="423.99" data-end="426.96">program you're the store functions that</span> <span data-start="426.96" data-end="429.419">actually that you expose you can wrap</span> <span data-start="429.419" data-end="432.659">them and do new things let's see what</span> <span data-start="432.659" data-end="435.75">else so but the query would look kind of</span> <span data-start="435.75" data-end="437.339">there's that's that there's there's</span> <span data-start="437.339" data-end="438.389">different terms and then they're</span> <span data-start="438.389" data-end="440.37">combined with a logic operator so either</span> <span data-start="440.37" data-end="443.82">an ampersand or a bar which is or and</span> <span data-start="443.82" data-end="446.94">you can have groups what comes out of</span> <span data-start="446.94" data-end="448.649">that what gets parsed and what you get</span> <span data-start="448.649" data-end="450.779">to use is this just a list of these</span> <span data-start="450.779" data-end="453.599">things these different terms and you can</span> <span data-start="453.599" data-end="456.149">use so I was saying you can actually use</span> <span data-start="456.149" data-end="458.13">it for effective things like so I wrote</span> <span data-start="458.13" data-end="460.11">a adaptive indexing store that you can</span> <span data-start="460.11" data-end="462.199">take say say have a sequel store it</span> <span data-start="462.199" data-end="464.94">every query that comes in I can inspect</span> <span data-start="464.94" data-end="466.979">that and say oh what fields are you</span> <span data-start="466.979" data-end="470.07">using and then if it's a field that</span> <span data-start="470.07" data-end="471.149">hasn't been indexed</span> </p>
<p><span data-start="471.149" data-end="473.729">I can set I can tell the sequel database</span> <span data-start="473.729" data-end="475.399">to create the index so kind of like how</span> <span data-start="475.399" data-end="477.419">in person for one pointer that's what</span> <span data-start="477.419" data-end="481.38">jason deep or j sdb did so in 2.0 i can</span> <span data-start="481.38" data-end="483.599">actually do that with sequel which makes</span> <span data-start="483.599" data-end="487.86">it kind of fun okay so there's this</span> <span data-start="487.86" data-end="490.5">other notion of the applicator assets</span> <span data-start="490.5" data-end="492.529">that those actually wrap the model</span> <span data-start="492.529" data-end="496.139">facets are they come from oh cap they</span> <span data-start="496.139" data-end="501.12">are a security mechanism they expose</span> <span data-start="501.12" data-end="503.43">this view of the model like of the</span> <span data-start="503.43" data-end="505.71">objects that exist in your database you</span> <span data-start="505.71" data-end="507.719">can only you can see just a bit of it</span> <span data-start="507.719" data-end="509.58">you get a certain set of capabilities so</span> <span data-start="509.58" data-end="512.399">a read-only facet would eliminate put</span> <span data-start="512.399" data-end="514.409">and delete and you would just have a get</span> <span data-start="514.409" data-end="516.12">that you would be able to like you just</span> <span data-start="516.12" data-end="519.12">be able to get and query the object but</span> <span data-start="519.12" data-end="520.86">they also have some other uses some of</span> <span data-start="520.86" data-end="522.57">interesting benefits</span> <span data-start="522.57" data-end="524.189">so that that's kind of that's the</span> <span data-start="524.189" data-end="527.64">general idea of per store it's on github</span> </p>
<p><span data-start="527.64" data-end="529.86">Chris's I slash per store it's</span> <span data-start="529.86" data-end="533.67">incredibly simple I now that I don't</span> <span data-start="533.67" data-end="534.22">have slot</span> <span data-start="534.22" data-end="535.899">I'll have to put I'll obviously get the</span> <span data-start="535.899" data-end="538.629">slides online and to actually</span> <span data-start="538.629" data-end="540.85">instantiate a store like and to use this</span> <span data-start="540.85" data-end="543.399">code it's it takes no effort like it's</span> <span data-start="543.399" data-end="545.199">really like ten lines of code and then</span> <span data-start="545.199" data-end="547.42">all of a sudden you've got a working API</span> <span data-start="547.42" data-end="550.41">to do effectively what no dirty does</span> <span data-start="550.41" data-end="552.639">except you can underneath the hood you</span> <span data-start="552.639" data-end="554.47">can swap that out for Mongo you can swap</span> <span data-start="554.47" data-end="556.209">that out for sequel evening but then you</span> <span data-start="556.209" data-end="558.25">have to define your schema obviously</span> <span data-start="558.25" data-end="560.709">because sequel is not gonna do a very</span> <span data-start="560.709" data-end="563.97">good job story just any arbitrary data</span> <span data-start="563.97" data-end="567.1">but once you do that there's there's now</span> <span data-start="567.1" data-end="571.029">no you're completely not no longer tied</span> <span data-start="571.029" data-end="573.73">to a specific database no sequel or</span> <span data-start="573.73" data-end="578.16">sequel it doesn't matter ok so on</span> <span data-start="578.16" data-end="580.839">ignoring per store like there's this</span> <span data-start="580.839" data-end="582.879">thing on top of it that's called pintura</span> <span data-start="582.879" data-end="585.22">that's where the HTTP side of things</span> <span data-start="585.22" data-end="587.47">comes in and that's the most interesting</span> <span data-start="587.47" data-end="589.389">thing to me because I don't I'm not</span> <span data-start="589.389" data-end="591.73">necessarily when I'm interacting with my</span> <span data-start="591.73" data-end="594.55">date I'm usually doing it over HTTP and</span> <span data-start="594.55" data-end="598.449">so pintura is just effectively its</span> <span data-start="598.449" data-end="601.089">documentation might as well be RFC 2616</span> <span data-start="601.089" data-end="604.509">like it I mean it's HTTP like the good</span> <span data-start="604.509" data-end="607.089">part so what the slide said but so it</span> <span data-start="607.089" data-end="609.04">does it does some of the stuff from HTTP</span> <span data-start="609.04" data-end="613.12">that you would typically most people</span> <span data-start="613.12" data-end="616.509">just ignore so it uses HTTP like all</span> <span data-start="616.509" data-end="619.029">these like edge things in HTTP in a</span> <span data-start="619.029" data-end="620.379">really effective way so content</span> <span data-start="620.379" data-end="622.36">negotiation turns out that's really</span> <span data-start="622.36" data-end="624.22">useful like if you do it right like if</span> <span data-start="624.22" data-end="626.829">you actually have a means by which to do</span> <span data-start="626.829" data-end="627.3">it</span> <span data-start="627.3" data-end="630.25">you it's so it's solved certain problems</span> <span data-start="630.25" data-end="631.54">that I didn't even I didn't know where</span> <span data-start="631.54" data-end="633.189">they're early because I'm I'm more</span> <span data-start="633.189" data-end="634.329">interested in just getting you know</span> </p>
<p><span data-start="634.329" data-end="635.8">Jason out of my database or or</span> <span data-start="635.8" data-end="637.779">JavaScript actually because then you can</span> <span data-start="637.779" data-end="638.98">have functions and you can share them</span> <span data-start="638.98" data-end="640.66">with the client and that's kind of nice</span> <span data-start="640.66" data-end="644.68">I didn't mention that feature but but I</span> <span data-start="644.68" data-end="647.889">mean there's just simply no way to turn</span> <span data-start="647.889" data-end="650.92">a JSON database to turn to turn the</span> <span data-start="650.92" data-end="652.439">Jason coming out of your database into</span> <span data-start="652.439" data-end="655.54">an atom feed just you can't do that on</span> <span data-start="655.54" data-end="659.459">the client it's not really gonna work so</span> <span data-start="659.459" data-end="661.959">it's helpful to have a way to tell the</span> <span data-start="661.959" data-end="663.88">server hey I want this thing as</span> <span data-start="663.88" data-end="667.49">application slash atom plus XML can you</span> <span data-start="667.49" data-end="669.02">that for me that's what content</span> <span data-start="669.02" data-end="671.209">negotiation is and it works out really</span> <span data-start="671.209" data-end="673.25">well so a lot of the time you have to</span> <span data-start="673.25" data-end="674.98">set a header to do that you say accept</span> <span data-start="674.98" data-end="678.17">application slash atom plus XML well you</span> <span data-start="678.17" data-end="680.33">can't always obviously can't do that if</span> <span data-start="680.33" data-end="681.74">only the browser's were a little smarter</span> <span data-start="681.74" data-end="683.089">like when you clicked on it stupid</span> <span data-start="683.089" data-end="684.8">little feed button it actually sent the</span> <span data-start="684.8" data-end="686.899">right accept header I don't think most</span> <span data-start="686.899" data-end="688.459">professors do that it would be nice if</span> <span data-start="688.459" data-end="692.51">they did so instead of actually since</span> <span data-start="692.51" data-end="695.12">the client can't actually say can't set</span> <span data-start="695.12" data-end="696.17">the accept header the browser's not</span> <span data-start="696.17" data-end="698.45">doing it properly we can set the accept</span> <span data-start="698.45" data-end="700.04">header you know and in the query string</span> <span data-start="700.04" data-end="702.41">just using a simple little syntax and</span> <span data-start="702.41" data-end="704.959">some jsg i middleware that interprets</span> <span data-start="704.959" data-end="706.61">and tears down all like you can pass any</span> <span data-start="706.61" data-end="708.29">header you want the query string if you</span> <span data-start="708.29" data-end="711.8">prefix it with HTTP â€” and you know it'll</span> <span data-start="711.8" data-end="713.089">just tear that down into a header and</span> <span data-start="713.089" data-end="714.98">then it'll look exactly like it'll run</span> <span data-start="714.98" data-end="716.08">through the rest of your application</span> <span data-start="716.08" data-end="718.58">through the middleware stack looking</span> <span data-start="718.58" data-end="720.98">exactly like the header was set you know</span> <span data-start="720.98" data-end="726.23">by like as an actual HTTP header so kind</span> <span data-start="726.23" data-end="728.029">of content negotiation can go both ways</span> <span data-start="728.029" data-end="730.899">- so it's not just for getting data out</span> <span data-start="730.899" data-end="734.899">it's also really interesting like for</span> <span data-start="734.899" data-end="736.97">putting data back in you don't have to</span> <span data-start="736.97" data-end="740.24">serialize everything into jason if</span> <span data-start="740.24" data-end="742.16">you're especially if you're not using</span> <span data-start="742.16" data-end="743.54">like the thin server approach where it's</span> <span data-start="743.54" data-end="744.709">just jason going back and forth over the</span> <span data-start="744.709" data-end="749.39">wire then it's really cool like if you</span> <span data-start="749.39" data-end="751.43">say you have CSV like this this does</span> <span data-start="751.43" data-end="753.29">happen if it happens to me actually I</span> <span data-start="753.29" data-end="755.959">work in the enterprise-e world CSV very</span> <span data-start="755.959" data-end="757.49">common I don't know why they just they</span> <span data-start="757.49" data-end="759.11">dumped us they had a CSV it's got no</span> <span data-start="759.11" data-end="761.27">type it's got nothing but you know a lot</span> <span data-start="761.27" data-end="762.44">of the time that's that's what you're</span> <span data-start="762.44" data-end="765.41">dealing with so CSV actually is not that</span> <span data-start="765.41" data-end="768.26">bad of a representation if you have a</span> <span data-start="768.26" data-end="770">schema that says hey this is a date hey</span> <span data-start="770" data-end="772.31">this is a yeah this is an integer this</span> <span data-start="772.31" data-end="774.47">is so so when you define these models</span> <span data-start="774.47" data-end="776.959">and you define your schemas you don't</span> <span data-start="776.959" data-end="778.94">have to but you can define a schema and</span> <span data-start="778.94" data-end="780.98">then you can include this representation</span> <span data-start="780.98" data-end="784.7">that's text CSV and so someone can</span> <span data-start="784.7" data-end="786.62">actually put back in the interfaces like</span> </p>
<p><span data-start="786.62" data-end="788.72">I said it's I was describing the first</span> <span data-start="788.72" data-end="790.64">row interface the Pantera interface just</span> <span data-start="790.64" data-end="793.19">as simple all of those methods map to</span> <span data-start="793.19" data-end="796.13">http so you know put and then some</span> <span data-start="796.13" data-end="798.35">object does your put but you can put</span> <span data-start="798.35" data-end="801.139">some object that's a CSV file and say</span> <span data-start="801.139" data-end="804.829">ten type you know text CSV and per store</span> <span data-start="804.829" data-end="807.949">will because it actually the CSV is</span> <span data-start="807.949" data-end="809.269">actually relatively easy to do so we can</span> <span data-start="809.269" data-end="811.04">have a generic interface that we we can</span> <span data-start="811.04" data-end="813.35">have a generic module that does this so</span> <span data-start="813.35" data-end="814.73">you require that module to turn it on</span> <span data-start="814.73" data-end="817.369">and then it'll it'll rip down that data</span> <span data-start="817.369" data-end="820.189">into Jason and put it into your database</span> <span data-start="820.189" data-end="821.989">so it doesn't matter if your database is</span> <span data-start="821.989" data-end="823.519">sequel if your database is Mongo like</span> <span data-start="823.519" data-end="824.779">it'll just put it wherever the data</span> <span data-start="824.779" data-end="830.72">store is that's not that useful but it</span> <span data-start="830.72" data-end="833.509">can be useful like for atom pub you can</span> <span data-start="833.509" data-end="835.939">you can support any of these models and</span> <span data-start="835.939" data-end="837.529">what the really cool thing is you can do</span> <span data-start="837.529" data-end="840.199">in a very generic way you don't have to</span> <span data-start="840.199" data-end="843.109">choose like you don't have to every time</span> <span data-start="843.109" data-end="844.309">you write your like as you're writing</span> <span data-start="844.309" data-end="846.019">your models you don't like for instance</span> <span data-start="846.019" data-end="849.499">to support atom or to support HTML for</span> <span data-start="849.499" data-end="850.669">instance because we can do H atom just</span> <span data-start="850.669" data-end="853.459">if we can do atom we can do H atom to</span> <span data-start="853.459" data-end="854.989">support that you don't have to think too</span> <span data-start="854.989" data-end="857.239">much about how it should look how your</span> <span data-start="857.239" data-end="858.829">how your actual model should look but if</span> <span data-start="858.829" data-end="860.989">you want to over override the behavior</span> <span data-start="860.989" data-end="862.519">you can define a little bit a little</span> <span data-start="862.519" data-end="864.169">interface that lets you define a get</span> <span data-start="864.169" data-end="866.299">title property you can define a get</span> <span data-start="866.299" data-end="867.86">content property it gets summary</span> <span data-start="867.86" data-end="869.48">property alright and these are just</span> <span data-start="869.48" data-end="871.879">functions that if they exist the default</span> <span data-start="871.879" data-end="873.679">the serial is the serializer which you</span> <span data-start="873.679" data-end="876.41">can also override it'll use those</span> <span data-start="876.41" data-end="878.629">functions to actually make your your</span> <span data-start="878.629" data-end="881.569">representation for that specific model a</span> <span data-start="881.569" data-end="886.699">little nicer so what was gonna be</span> <span data-start="886.699" data-end="891.009">next on the slides hmm</span> <span data-start="891.019" data-end="894.079">the the one of the nicest things I</span> <span data-start="894.079" data-end="895.48">didn't really get into the details but</span> <span data-start="895.48" data-end="899.36">so pintura like the way it's built it's</span> <span data-start="899.36" data-end="901.519">a pure j SGI op location and what that</span> <span data-start="901.519" data-end="905.209">means is it all it is is this stack of</span> <span data-start="905.209" data-end="906.259">middleware and i have this interesting</span> <span data-start="906.259" data-end="908.389">slide that's like a log that has the</span> <span data-start="908.389" data-end="909.439">different layers but it's fourteen</span> <span data-start="909.439" data-end="911.209">different layers of middleware most of</span> <span data-start="911.209" data-end="913.85">which are reusable they're not specific</span> <span data-start="913.85" data-end="915.259">to peter at also like I was describing</span> <span data-start="915.259" data-end="917.449">the the HTTP headers thing where you can</span> <span data-start="917.449" data-end="919.549">just take any header and it'll pull it</span> <span data-start="919.549" data-end="921.23">out of the the query string and put it</span> <span data-start="921.23" data-end="924.319">into the the actual you know header of</span> <span data-start="924.319" data-end="927.069">the the request object</span> <span data-start="927.069" data-end="930.949">so that's your the Pinterest pure</span> <span data-start="930.949" data-end="932.989">application that way that's just one</span> <span data-start="932.989" data-end="934.29">little matter where</span> <span data-start="934.29" data-end="936.06">that then it uses and it stacks all of</span> <span data-start="936.06" data-end="937.74">these on top of each other</span> </p>
<p><span data-start="937.74" data-end="939.959">I should probably define jsg I a little</span> <span data-start="939.959" data-end="943.74">bit better so it's a lips</span> <span data-start="943.74" data-end="946.5">I guess web gateway interface if</span> <span data-start="946.5" data-end="948.75">anybody's used was gear rack same</span> <span data-start="948.75" data-end="952.11">general idea we kind of I guess deviated</span> <span data-start="952.11" data-end="954.3">quite a little bit to be a little more</span> <span data-start="954.3" data-end="957.149">like HTTP because CGI it has some</span> <span data-start="957.149" data-end="959.43">problems it's got some significant</span> <span data-start="959.43" data-end="962.19">problems so I we papered over a lot of</span> <span data-start="962.19" data-end="963.269">those and I think it actually came out</span> <span data-start="963.269" data-end="965.279">really nice like it there's I think</span> <span data-start="965.279" data-end="966.66">we're still you know trying to figure</span> <span data-start="966.66" data-end="968.759">out how to finalize it it still depends</span> <span data-start="968.759" data-end="970.92">on having a few more things in common</span> </p>
<p><span data-start="970.92" data-end="975.93">Jas but it pintura is kind of a</span> <span data-start="975.93" data-end="981.199">candidate of just it's one of the first</span> <span data-start="981.199" data-end="984.3">applications I guess full full stack</span> <span data-start="984.3" data-end="986.279">applications that runs across all these</span> <span data-start="986.279" data-end="988.74">different engines and all these</span> <span data-start="988.74" data-end="992.04">different platforms so it's kind of the</span> <span data-start="992.04" data-end="994.41">first experiment in that in that sense I</span> <span data-start="994.41" data-end="996.839">mean there was a jack obviously that is</span> <span data-start="996.839" data-end="1001.069">an or wall application that that is kind</span> <span data-start="1001.069" data-end="1005.99">of the jsg i implement or kind of</span> <span data-start="1005.99" data-end="1009.74">default implementation but yeah it's a</span> <span data-start="1009.74" data-end="1012.16">port of racket it's the it's this guy</span> <span data-start="1012.16" data-end="1015.98">and it's really nice but so ventura</span> <span data-start="1015.98" data-end="1018.05">ventura actually depends on jack and</span> <span data-start="1018.05" data-end="1020.75">uses quite a bit of jack's functionality</span> <span data-start="1020.75" data-end="1023.959">so there's just the point i was going to</span> <span data-start="1023.959" data-end="1025.61">get across was there's just a lot of</span> <span data-start="1025.61" data-end="1027.26">these pieces you can pull out and use on</span> <span data-start="1027.26" data-end="1030.38">your own so but there's I mean there's a</span> <span data-start="1030.38" data-end="1032.51">lot of really cool stuff so the bottom</span> <span data-start="1032.51" data-end="1035.51">line I guess is it's not that hard to</span> <span data-start="1035.51" data-end="1038.449">get started with there's there's a build</span> <span data-start="1038.449" data-end="1041.24">that the Chris is set up that I should</span> <span data-start="1041.24" data-end="1042.949">also say I don't think I said this it's</span> <span data-start="1042.949" data-end="1046.49">a dojo Foundation project written by</span> </p>
<p><span data-start="1046.49" data-end="1048.74">Chris type I just kind of like hack on</span> <span data-start="1048.74" data-end="1050.69">it I get to do it for work it's awesome</span> <span data-start="1050.69" data-end="1052.4">like I highly recommend being able to</span> <span data-start="1052.4" data-end="1053.78">like hack on server-side JavaScript for</span> <span data-start="1053.78" data-end="1055.88">your day job because your life will be a</span> <span data-start="1055.88" data-end="1058.28">lot easier if you can figure out like I</span> <span data-start="1058.28" data-end="1060.14">work for dotnet shop but I get to hack</span> <span data-start="1060.14" data-end="1062.75">on server-side JavaScript so I I'm much</span> <span data-start="1062.75" data-end="1065.54">happier person because of it but so it's</span> <span data-start="1065.54" data-end="1068.33">it's uh it's really easy to hack on</span> </p>
<p><span data-start="1068.33" data-end="1070.82">I mean you you can crack open any of the</span> <span data-start="1070.82" data-end="1072.14">modules and you can just start using</span> <span data-start="1072.14" data-end="1074.2">them all right so yeah you crack open</span> <span data-start="1074.2" data-end="1076.1">something in Pinterest something in</span> <span data-start="1076.1" data-end="1077.93">first or something from a depending</span> <span data-start="1077.93" data-end="1079.43">library and you can just start changing</span> <span data-start="1079.43" data-end="1081.92">stuff it's amazing how it'll just work</span> <span data-start="1081.92" data-end="1083.3">it's there's a build step I mean you</span> <span data-start="1083.3" data-end="1085.64">guys know this obviously it's JavaScript</span> <span data-start="1085.64" data-end="1092.06">interpretive yeah so okay I I was</span> <span data-start="1092.06" data-end="1094.28">supposed to try I was trying to get like</span> <span data-start="1094.28" data-end="1095.95">get that point across but I guess I</span> <span data-start="1095.95" data-end="1098.5">confused it somewhere so per store is</span> <span data-start="1098.5" data-end="1101">it's you wouldn't there's no apes it's</span> <span data-start="1101" data-end="1103.13">not necessarily the HTTP part it's just</span> <span data-start="1103.13" data-end="1106.13">you would use it from your code now it</span> <span data-start="1106.13" data-end="1107.99">would be a package you require but</span> <span data-start="1107.99" data-end="1110.57">pintura is this other package so this is</span> <span data-start="1110.57" data-end="1111.86">a big branding problem I think with the</span> <span data-start="1111.86" data-end="1113.54">project there's just these three notions</span> <span data-start="1113.54" data-end="1116.81">is persevere which now 2.0 consists of</span> <span data-start="1116.81" data-end="1119.87">pintura and per store so this per store</span> <span data-start="1119.87" data-end="1122">thing is just that that library that you</span> <span data-start="1122" data-end="1124.49">would require pintura requires it and</span> <span data-start="1124.49" data-end="1127.94">maps HTTP to all the calls so yes and</span> <span data-start="1127.94" data-end="1129.83">their peen it's it's restful to like in</span> <span data-start="1129.83" data-end="1132.29">a sane degree like a lot of people would</span> <span data-start="1132.29" data-end="1134.9">say uh you know arrests just like it</span> <span data-start="1134.9" data-end="1136.16">doesn't really mean anything</span> </p>
<p><span data-start="1136.16" data-end="1140.72">I would having especially now like spent</span> <span data-start="1140.72" data-end="1141.92">so much time working with it like it's</span> <span data-start="1141.92" data-end="1145.19">amazing how how well-defined it really</span> <span data-start="1145.19" data-end="1147.44">is and like I mean obviously there's</span> <span data-start="1147.44" data-end="1148.94">there's certain pillars that you try to</span> <span data-start="1148.94" data-end="1150.71">ascribe to it's not just the uniform</span> <span data-start="1150.71" data-end="1153.5">interface obviously like things like</span> <span data-start="1153.5" data-end="1155.3">content negotiation things like just</span> <span data-start="1155.3" data-end="1156.86">using for instance content ranges why</span> <span data-start="1156.86" data-end="1158.33">don't we use more of that like we should</span> <span data-start="1158.33" data-end="1160.82">really do that more they allow you to</span> <span data-start="1160.82" data-end="1162.59">take like a resource and have all these</span> <span data-start="1162.59" data-end="1164.41">different dimensions on it now so</span> <span data-start="1164.41" data-end="1169.37">pintura uses the items type the items</span> <span data-start="1169.37" data-end="1172.4">content range that that obviously dojo</span> <span data-start="1172.4" data-end="1174.35">use cuz again Chris type said you know</span> <span data-start="1174.35" data-end="1177.05">dojo committer so I think you know they</span> <span data-start="1177.05" data-end="1178.76">originally kind of created this items</span> <span data-start="1178.76" data-end="1181.22">range that's representative of a slice</span> <span data-start="1181.22" data-end="1183.26">of a given query and so if your if your</span> <span data-start="1183.26" data-end="1185.78">store is just a big table there's a big</span> <span data-start="1185.78" data-end="1188.45">list of objects well then you can you</span> <span data-start="1188.45" data-end="1189.92">can look at that store and slice that up</span> <span data-start="1189.92" data-end="1191.45">any way you want</span> <span data-start="1191.45" data-end="1196.64">using this there's simple syntax that's</span> <span data-start="1196.64" data-end="1198.47">defined in HTTP really well I mean it's</span> <span data-start="1198.47" data-end="1200.21">it's only defined for the bytes there's</span> <span data-start="1200.21" data-end="1201.38">a there's something called bytes range</span> <span data-start="1201.38" data-end="1202.14">that's that's the</span> <span data-start="1202.14" data-end="1203.79">wellspect in HTTP but then it just says</span> <span data-start="1203.79" data-end="1205.2">yeah you can use this for other stuff</span> <span data-start="1205.2" data-end="1208.71">too in any event check it out there's a</span> <span data-start="1208.71" data-end="1213.12">lot like there's so much left to do but</span> <span data-start="1213.12" data-end="1214.67">there's already so much you can steal</span> <span data-start="1214.67" data-end="1218.04">like if like you summit it it just it</span> </p>
</section>