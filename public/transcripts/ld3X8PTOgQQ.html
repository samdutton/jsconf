<section>
<p><span data-start="7.099" data-end="10.889">alright so there are two sections to</span> <span data-start="10.889" data-end="15.78">this talk one is what and why Universal</span> <span data-start="15.78" data-end="18.779">JavaScript where I will be talking about</span> <span data-start="18.779" data-end="21.75">livid of about benefits that it brings</span> <span data-start="21.75" data-end="26.369">along and then another one is a little</span> <span data-start="26.369" data-end="29.51">bit on how we can build a simple</span> <span data-start="29.51" data-end="32.43">isomorphic sorry universal JavaScript</span> <span data-start="32.43" data-end="35.34">application and also what are the pain</span> <span data-start="35.34" data-end="37.32">points that you might face if you are</span> <span data-start="37.32" data-end="43.2">building such application alright so</span> <span data-start="43.2" data-end="49.2">that's me yeah so I'm mostly doing</span> <span data-start="49.2" data-end="52.14">front-end a trademark in my spare time</span> </p>
<p><span data-start="52.14" data-end="55.469">I'm doing some work on like just looking</span> <span data-start="55.469" data-end="57.239">around react native I build a couple of</span> <span data-start="57.239" data-end="60.39">apps on node stuff like but that's</span> <span data-start="60.39" data-end="62.94">pretty much it previously I was doing</span> <span data-start="62.94" data-end="66.84">some PHP and Java hated it and even did</span> <span data-start="66.84" data-end="70.02">some native Android so now mostly</span> <span data-start="70.02" data-end="75.15">front-end web front-end a red mark is</span> <span data-start="75.15" data-end="78.03">one of the leading online grocery stores</span> <span data-start="78.03" data-end="81.06">in Singapore we are technology and a</span> <span data-start="81.06" data-end="84.689">logistic company and that's rad mark so</span> <span data-start="84.689" data-end="87.57">just take a good look we do deliver</span> <span data-start="87.57" data-end="90.45">groceries why drones in case if you guys</span> <span data-start="90.45" data-end="94.35">want to order that yeah alright so</span> <span data-start="94.35" data-end="101.3">moving on</span> <span data-start="101.31" data-end="105.78">okay so what is a universal JavaScript</span> <span data-start="105.78" data-end="110.1">some people refer to it as isomorphic</span> </p>
<p><span data-start="110.1" data-end="114.07">JavaScript some as universal they pretty</span> <span data-start="114.07" data-end="118.899">much mean the same thing and so</span> <span data-start="118.899" data-end="121.479">Universal basically means that Universal</span> <span data-start="121.479" data-end="122.88">JavaScript basically means that</span> <span data-start="122.88" data-end="126.18">JavaScript code that can run in an</span> <span data-start="126.18" data-end="131.67">environment agnostic Bay and in short Oh</span> <span data-start="131.67" data-end="133.87">what it means is that it can run on a</span> <span data-start="133.87" data-end="138.37">server and client but also on you know</span> <span data-start="138.37" data-end="142.75">like phones mobile phones iOS android</span> <span data-start="142.75" data-end="146.86">etc isomorphic pretty much means the</span> <span data-start="146.86" data-end="149.41">same thing as well just that I</span> <span data-start="149.41" data-end="153.88">personally feel that Universal gives it</span> <span data-start="153.88" data-end="157.239">a good tag to a JavaScript the intention</span> <span data-start="157.239" data-end="159.67">the intent message that goes around is</span> <span data-start="159.67" data-end="162.22">like JavaScript that can be used</span> <span data-start="162.22" data-end="164.35">everywhere and i think that's that's</span> <span data-start="164.35" data-end="167.769">going to help javascript itself there is</span> <span data-start="167.769" data-end="169.78">some discussion going around like a lot</span> <span data-start="169.78" data-end="172.06">of people who are saying that isomorphic</span> <span data-start="172.06" data-end="174.37">is a more technical name and and it's a</span> <span data-start="174.37" data-end="175.81">good even though it's it might not be</span> <span data-start="175.81" data-end="179.41">accurate but so there are some people</span> <span data-start="179.41" data-end="183.45">who prefer isomorphic there are a lot of</span> <span data-start="183.45" data-end="185.739">people are preferring universal as well</span> <span data-start="185.739" data-end="188.17">and then I've those two links which you</span> <span data-start="188.17" data-end="190.42">guys can later go and check out and read</span> <span data-start="190.42" data-end="196.39">more about it okay so why Universal</span> </p>
<p><span data-start="196.39" data-end="199.359">JavaScript why do we need to go to the</span> <span data-start="199.359" data-end="201.28">trouble and you know like share code</span> <span data-start="201.28" data-end="203.35">between client and server or what are</span> <span data-start="203.35" data-end="208.239">the benefits that it brings us so</span> <span data-start="208.239" data-end="209.65">basically when building a web</span> <span data-start="209.65" data-end="213.51">application it house with some of these</span> <span data-start="213.51" data-end="216.37">so I'll go more in detail within each</span> <span data-start="216.37" data-end="218.56">one of it I see your performance and</span> <span data-start="218.56" data-end="223.77">maintainability</span> <span data-start="223.78" data-end="230.06">alright so SEO if any one of you I mean</span> <span data-start="230.06" data-end="231.319">a lot of you guys might have build</span> <span data-start="231.319" data-end="233.989">single page applications that only run</span> <span data-start="233.989" data-end="236.989">on a browser and so what happens is that</span> <span data-start="236.989" data-end="239.209">when different BOTS they come to our</span> <span data-start="239.209" data-end="243.92">website these BOTS like Facebook Google</span> <span data-start="243.92" data-end="248.629">board I think google bot now can now can</span> <span data-start="248.629" data-end="249.859">read single page application</span> <span data-start="249.859" data-end="252.439">applications properly and index them but</span> </p>
<p><span data-start="252.439" data-end="254.45">I think a lot of other BOTS still don't</span> <span data-start="254.45" data-end="257.389">do that so initially when somebody comes</span> <span data-start="257.389" data-end="260.12">to your like a bot that comes to your</span> <span data-start="260.12" data-end="261.949">website it will see something like this</span> <span data-start="261.949" data-end="265.46">and if you notice at the rube classroom</span> <span data-start="265.46" data-end="267.5">that's where your application is</span> <span data-start="267.5" data-end="269.72">supposed to be mounted but the bot will</span> <span data-start="269.72" data-end="271.759">not wait for that it will just index</span> <span data-start="271.759" data-end="273.289">this page which will have no information</span> <span data-start="273.289" data-end="282.5">about your website so to please these</span> </p>
<p><span data-start="282.5" data-end="286.13">BOTS we have to do various hacks one of</span> <span data-start="286.13" data-end="287.419">the hacks that we are doing at red mud</span> <span data-start="287.419" data-end="290.18">right now is something like this so what</span> <span data-start="290.18" data-end="294.349">we do is we on engine next level we</span> <span data-start="294.349" data-end="298.61">check if the user agent is one of these</span> <span data-start="298.61" data-end="301.849">BOTS and then we will try to reverse</span> <span data-start="301.849" data-end="304.97">proxy to our internal service that is</span> <span data-start="304.97" data-end="307.49">running a headless browser like phantom</span> <span data-start="307.49" data-end="311.15">jas which will wait for the whole</span> <span data-start="311.15" data-end="313.07">javascript thing to load CSS everything</span> <span data-start="313.07" data-end="316.099">patch it together and then give it back</span> <span data-start="316.099" data-end="320.72">to Googlebot and we also keep keep it in</span> <span data-start="320.72" data-end="323.57">man cash so that we can quickly get back</span> <span data-start="323.57" data-end="325.729">to Googlebot so there's some work</span> <span data-start="325.729" data-end="327.229">involved there we are running like to</span> <span data-start="327.229" data-end="329.87">medium instances and sometimes they</span> <span data-start="329.87" data-end="331.82">break due to various reasons we have to</span> <span data-start="331.82" data-end="334.19">maintain it and then one of the worst</span> <span data-start="334.19" data-end="336.02">thing about this approach is there might</span> <span data-start="336.02" data-end="337.34">be better ways but one of the worst</span> <span data-start="337.34" data-end="339.5">things about this approach is like you</span> <span data-start="339.5" data-end="341.449">have to put boards there and then every</span> <span data-start="341.449" data-end="343.25">day there's a new board so recently like</span> <span data-start="343.25" data-end="346.88">a slack also has a bot which so when we</span> <span data-start="346.88" data-end="349.789">face our website on slack it just shows</span> <span data-start="349.789" data-end="352.01">nothing because slack cannot read our</span> <span data-start="352.01" data-end="355.66">website</span> <span data-start="355.67" data-end="358.59">so Universal JavaScript approach</span> <span data-start="358.59" data-end="361.71">actually fixes this issue Oh what it</span> <span data-start="361.71" data-end="363.45">does is like your same application code</span> <span data-start="363.45" data-end="365.19">that you're building currently in single</span> <span data-start="365.19" data-end="367.68">page application that only runs on a</span> <span data-start="367.68" data-end="370.47">browser can render the same thing on the</span> <span data-start="370.47" data-end="374.85">server and push it down for BOTS to just</span> <span data-start="374.85" data-end="378.27">directly get that information before I</span> <span data-start="378.27" data-end="379.56">move forward I'll just quickly show you</span> <span data-start="379.56" data-end="388.68">guys how this website looks like so this</span> <span data-start="388.68" data-end="391.11">is red mark right now it's like right</span> <span data-start="391.11" data-end="393.39">working fine and then now I'll serve it</span> <span data-start="393.39" data-end="395.79">with so I'll fetch it as a google bot</span> <span data-start="395.79" data-end="397.77">and you guys will see that like it'll be</span> <span data-start="397.77" data-end="400.11">a bit broken but at least like you know</span> <span data-start="400.11" data-end="401.67">you'll see the things that are being</span> <span data-start="401.67" data-end="404.19">done to it when we are using phantom</span> <span data-start="404.19" data-end="409.08">juice or something let me just first</span> <span data-start="409.08" data-end="413.31">that again and yep so now you can see</span> <span data-start="413.31" data-end="417.3">all the information I mean all the</span> <span data-start="417.3" data-end="421.86">content the content is in here compared</span> <span data-start="421.86" data-end="425.64">to the one that we fetch as default like</span> <span data-start="425.64" data-end="433.74">jazz a browser user agent yep so you'll</span> <span data-start="433.74" data-end="439.02">see something like there's there's some</span> <span data-start="439.02" data-end="441.96">code somewhere here that that where the</span> <span data-start="441.96" data-end="443.79">mounting happens but yeah gehen there's</span> <span data-start="443.79" data-end="451.68">no full content and performance so the</span> <span data-start="451.68" data-end="456.03">one that all that is on the that is</span> <span data-start="456.03" data-end="458.1">saying client side rendering you can see</span> <span data-start="458.1" data-end="463.29">that how the browser actually renders</span> <span data-start="463.29" data-end="466.59">this is like it will download HTML it</span> <span data-start="466.59" data-end="468.48">will wait for JavaScript that is inside</span> <span data-start="468.48" data-end="472.56">that HTML to be downloaded then I will</span> <span data-start="472.56" data-end="474.81">try to evaluate it and after that I will</span> <span data-start="474.81" data-end="477.06">maybe in our case you try to make some</span> </p>
<p><span data-start="477.06" data-end="480.21">Ajax calls and only after that user will</span> <span data-start="480.21" data-end="484.65">see some content it works fine in some</span> <span data-start="484.65" data-end="486.04">cases like especially</span> <span data-start="486.04" data-end="487.9">dekstop like it'sit's not that of a big</span> <span data-start="487.9" data-end="489.85">deal where you have good connection</span> <span data-start="489.85" data-end="491.61">especially in countries like Singapore</span> <span data-start="491.61" data-end="494.38">but when you are mobile and then there</span> <span data-start="494.38" data-end="498.52">is a high high latency and low bandwidth</span> <span data-start="498.52" data-end="501.85">then you start to see a lot of</span> <span data-start="501.85" data-end="507.1">performance issues on on this side you</span> <span data-start="507.1" data-end="509.4">can see that server side rendering of</span> <span data-start="509.4" data-end="512.56">actually what happens here is that as</span> <span data-start="512.56" data-end="516.7">soon as you download the document it has</span> <span data-start="516.7" data-end="519.49">everything and user just sees it and you</span> <span data-start="519.49" data-end="521.169">can still download the JavaScript app</span> <span data-start="521.169" data-end="524.07">and do all the other stuff like</span> <span data-start="524.07" data-end="526.9">rehydrating it and maybe making some</span> <span data-start="526.9" data-end="528.7">additional Ajax calls if you want to or</span> <span data-start="528.7" data-end="531.01">you can just render everything on server</span> <span data-start="531.01" data-end="533.26">side so there's some clear big</span> <span data-start="533.26" data-end="534.7">performance gains when you do</span> <span data-start="534.7" data-end="538.9">server-side rendering maybe maybe this</span> <span data-start="538.9" data-end="541">will this performance issue will get</span> <span data-start="541" data-end="545.02">better with HTTP too but for now like I</span> <span data-start="545.02" data-end="547.48">mean I I think still it might not get</span> <span data-start="547.48" data-end="550.38">that better but I I think this helps and</span> <span data-start="550.38" data-end="557.05">yeah maintainability is is not a big</span> <span data-start="557.05" data-end="559.9">issue when it comes to single page</span> <span data-start="559.9" data-end="561.4">application like what we build a</span> <span data-start="561.4" data-end="562.93">trademark because it's a backbone</span> <span data-start="562.93" data-end="565.45">application all the code is in there we</span> <span data-start="565.45" data-end="567.54">don't we don't have any server</span> <span data-start="567.54" data-end="571.6">application that is rendering it we we</span> <span data-start="571.6" data-end="574.03">just have restful api so it might not be</span> <span data-start="574.03" data-end="577.48">a big deal but I i think for</span> <span data-start="577.48" data-end="578.92">applications like which have some</span> <span data-start="578.92" data-end="580.93">partial stop being done on a server and</span> <span data-start="580.93" data-end="583.66">then loading up sing some single page</span> <span data-start="583.66" data-end="587.71">application of to a browser and you're</span> <span data-start="587.71" data-end="589.33">sharing some stuff like formatting etc</span> <span data-start="589.33" data-end="593.2">or doing some data mutation I think you</span> <span data-start="593.2" data-end="596.05">can share that logic universal</span> </p>
<p><span data-start="596.05" data-end="600.73">JavaScript helps with that as well all</span> <span data-start="600.73" data-end="604.57">right so how do how how to build a</span> <span data-start="604.57" data-end="606.49">universal JavaScript app there are many</span> <span data-start="606.49" data-end="609.28">ways and I like frameworks like mature</span> <span data-start="609.28" data-end="612.1">and they actually come up with a lot of</span> <span data-start="612.1" data-end="614.38">packages that or I think by default also</span> <span data-start="614.38" data-end="616.07">material has this is server etc</span> <span data-start="616.07" data-end="618.49">all that stuff can help you build</span> <span data-start="618.49" data-end="621.59">Universal JavaScript app but let's say</span> <span data-start="621.59" data-end="623.86">if we are using react or something else</span> <span data-start="623.86" data-end="626.63">how do we build it I'm we're just going</span> <span data-start="626.63" data-end="630.92">to dig a big dive into some coding here</span> <span data-start="630.92" data-end="634.61">and see how to build a basic universal</span> <span data-start="634.61" data-end="639.82">application using react and nodejs so</span> <span data-start="639.82" data-end="645.35">let's build something like this this is</span> <span data-start="645.35" data-end="648.44">the component hierarchy so we have input</span> <span data-start="648.44" data-end="651.59">we have some progress j/s and then we</span> <span data-start="651.59" data-end="652.82">have search results so you type</span> <span data-start="652.82" data-end="654.38">something and then we'll just try to</span> <span data-start="654.38" data-end="656.45">fake that search result for now because</span> <span data-start="656.45" data-end="659.15">we we are not using any API or anything</span> <span data-start="659.15" data-end="661.07">it will take some time to build the</span> <span data-start="661.07" data-end="665.26">whole flux or some other layer here and</span> <span data-start="665.26" data-end="671.3">yeah we have a rapper AB GS so let's get</span> <span data-start="671.3" data-end="676.18">to it all right so I have this basic</span> <span data-start="676.18" data-end="679.13">template here which I'm going to use to</span> <span data-start="679.13" data-end="681.56">build a universal JavaScript application</span> <span data-start="681.56" data-end="684.62">so i'll just quickly run through what we</span> <span data-start="684.62" data-end="688.34">have so i've already have some node</span> <span data-start="688.34" data-end="690.35">modules that i've installed so that i</span> <span data-start="690.35" data-end="691.91">don't have to do n PM install again and</span> <span data-start="691.91" data-end="695.35">then I have some web pack config for</span> <span data-start="695.35" data-end="698.99">bundling the application etc so this is</span> <span data-start="698.99" data-end="701.72">my backpack where you basic stuff so</span> <span data-start="701.72" data-end="704.09">it's it's going to look for client</span> <span data-start="704.09" data-end="708.05">client rjs which is not there yet and it</span> <span data-start="708.05" data-end="711.35">will it will output a bundle DOJ's in a</span> <span data-start="711.35" data-end="714.32">dist folder which is not here yet and it</span> <span data-start="714.32" data-end="716.6">will yeah we are going to use es6 and</span> <span data-start="716.6" data-end="719.39">stuff so it's we i have babel loader</span> <span data-start="719.39" data-end="724.16">here and and yeah that's pretty much it</span> <span data-start="724.16" data-end="729.76">and for web pack and then i have index</span> <span data-start="729.76" data-end="733.34">dot GS so it's it's doing pretty much</span> <span data-start="733.34" data-end="736.25">the same thing for the server side so it</span> <span data-start="736.25" data-end="739.25">will set up a like it initiated it will</span> <span data-start="739.25" data-end="741.89">register babel here and then it will</span> <span data-start="741.89" data-end="745.24">look for server Dodgers and execute it</span> <span data-start="745.24" data-end="747.95">so let's let's build a</span> <span data-start="747.95" data-end="749.93">single page application that just runs</span> <span data-start="749.93" data-end="752.06">on a browser first and then we can do</span> <span data-start="752.06" data-end="754.04">the server side so I'm just going to go</span> <span data-start="754.04" data-end="756.35">here and yeah by the way I have some</span> <span data-start="756.35" data-end="758.15">code or ID with me so I'm just going to</span> <span data-start="758.15" data-end="760.16">paste it there or like even write some</span> <span data-start="760.16" data-end="762.68">and probably talk about it what it is</span> <span data-start="762.68" data-end="767.76">that actually typing each and every line</span> <span data-start="767.77" data-end="771.41">alright so let's do this let's create</span> <span data-start="771.41" data-end="774.2">client Jess and let me just look at all</span> <span data-start="774.2" data-end="780.65">right so this is what i have here so</span> <span data-start="780.65" data-end="785">what it's doing is it's actually yeah</span> <span data-start="785" data-end="788.68">it's look um it's just mounting the app</span> <span data-start="788.68" data-end="792.64">container a difference between can like</span> <span data-start="792.64" data-end="796.25">now and i'll go in detail later so app</span> <span data-start="796.25" data-end="798.56">is just a react component that is</span> <span data-start="798.56" data-end="801.32">actually composing a couple of other</span> <span data-start="801.32" data-end="803.63">components in there the one that we saw</span> <span data-start="803.63" data-end="806.69">in the diagram the slides so it's going</span> <span data-start="806.69" data-end="809.75">to mount to the root I have index or</span> </p>
<p><span data-start="809.75" data-end="814.73">HTML here which has this basic HTML</span> <span data-start="814.73" data-end="817.58">template so we are going to route here</span> <span data-start="817.58" data-end="820.51">and then we have this bundle dot J's</span> <span data-start="820.51" data-end="828.89">just okay yep so yeah so our client</span> <span data-start="828.89" data-end="831.89">application will be bundled and will be</span> <span data-start="831.89" data-end="835.7">captain static / bundled ojs right now</span> <span data-start="835.7" data-end="839">that's not done so i have this let's go</span> <span data-start="839" data-end="866.82">ahead and create our a BS</span> <span data-start="866.83" data-end="869.71">so a nap dodge is what we have is like</span> <span data-start="869.71" data-end="874.18">we are we are importing some components</span> <span data-start="874.18" data-end="876.91">like input search results so if you go</span> <span data-start="876.91" data-end="878.74">back here we have an input progress bar</span> <span data-start="878.74" data-end="881.65">search result so I'm pretty much loading</span> <span data-start="881.65" data-end="883.66">that stuff I have some additional stuff</span> <span data-start="883.66" data-end="885.97">that's not in the slide as like result</span> <span data-start="885.97" data-end="888.61">card so each of the result as a card</span> <span data-start="888.61" data-end="891.49">that see they're like this one this box</span> <span data-start="891.49" data-end="896.53">here and we have some data in data</span> <span data-start="896.53" data-end="912.54">folder so let's just quickly bootstrap</span> <span data-start="912.55" data-end="938.4">components</span> <span data-start="938.41" data-end="941.39">dark</span> <span data-start="941.39" data-end="948.75">yes</span> <span data-start="948.76" data-end="952.22">so this is a stateless component react</span> <span data-start="952.22" data-end="953.51">recently released this so you can</span> <span data-start="953.51" data-end="955.1">actually write a component in this way</span> <span data-start="955.1" data-end="959.99">which is like pretty cool and yeah what</span> <span data-start="959.99" data-end="961.58">it does is just take some props and just</span> <span data-start="961.58" data-end="967.53">renders a component at one more here</span> <span data-start="967.54" data-end="974.36">this one just renders a children's prop</span> <span data-start="974.36" data-end="976.37">that's it it's like a rapper nothing</span> <span data-start="976.37" data-end="990.38">else and okay all right so let's let's</span> <span data-start="990.38" data-end="992.81">have a look at here so what I'm doing is</span> </p>
<p><span data-start="992.81" data-end="996.14">I'm just initializing some state I have</span> <span data-start="996.14" data-end="998.6">some product data let me just create a</span> <span data-start="998.6" data-end="1011.02">data ducks is it products Rogers its</span> <span data-start="1011.02" data-end="1022.71">product Oh Cheers</span> <span data-start="1022.72" data-end="1024.579">alright so I'm just going to copy this</span> <span data-start="1024.579" data-end="1029.11">data so this data is just like a title</span> <span data-start="1029.11" data-end="1031.27">and an image of that product and a URL</span> <span data-start="1031.27" data-end="1038.65">that's it all right so let's just close</span> <span data-start="1038.65" data-end="1041.14">others and just open our appt don't</span> <span data-start="1041.14" data-end="1045.549">cheers and yeah okay sorry what's</span> <span data-start="1045.549" data-end="1047.47">happening here is I'm just initializing</span> <span data-start="1047.47" data-end="1051.76">some state for this application for it</span> <span data-start="1051.76" data-end="1053.74">for this component I have some products</span> <span data-start="1053.74" data-end="1055.659">i'm just putting all the products in</span> <span data-start="1055.659" data-end="1059.799">here and then what I'm rendering is just</span> <span data-start="1059.799" data-end="1062.409">all the products initially and then off</span> <span data-start="1062.409" data-end="1068.4">then on input I have a handle on submit</span> <span data-start="1068.4" data-end="1072.1">where where as soon as user enters</span> <span data-start="1072.1" data-end="1076.419">something he will be shown it will</span> <span data-start="1076.419" data-end="1078.37">quickly change the state to progress the</span> <span data-start="1078.37" data-end="1082">loading and then we will we will</span> <span data-start="1082" data-end="1085.21">simulate some sort of like a synchronous</span> <span data-start="1085.21" data-end="1088.539">operation so I will go somewhere and try</span> <span data-start="1088.539" data-end="1089.89">to fetch it but actually is this trying</span> <span data-start="1089.89" data-end="1093.909">to like get to two of the products</span> <span data-start="1093.909" data-end="1096.46">randomly from that product set that been</span> <span data-start="1096.46" data-end="1099.94">included up here yep so let's run this</span> <span data-start="1099.94" data-end="1105.46">and right yeah so before I run it let me</span> <span data-start="1105.46" data-end="1107.049">just show you how my package or Jason</span> <span data-start="1107.049" data-end="1110.26">looks so I i I'm just running these two</span> <span data-start="1110.26" data-end="1112.69">commands and like there is better way to</span> <span data-start="1112.69" data-end="1115.6">do it like you have to like people run</span> <span data-start="1115.6" data-end="1117.13">watch and stuff but right now for this</span> <span data-start="1117.13" data-end="1119.559">one I just try to cap it keep it very</span> <span data-start="1119.559" data-end="1121.45">simple so I'm just going to run backpack</span> <span data-start="1121.45" data-end="1123.82">and which will create a bundle and then</span> </p>
<p><span data-start="1123.82" data-end="1127.33">I will just run a node indexed rjs which</span> <span data-start="1127.33" data-end="1130.75">will just execute the server that's a so</span> <span data-start="1130.75" data-end="1136.69">run all right</span> <span data-start="1136.7" data-end="1143.93">I'm starved</span> <span data-start="1143.94" data-end="1150.51">it</span> <span data-start="1150.52" data-end="1154.46">art</span> <span data-start="1154.47" data-end="1157.62">okay my bad it's yeah we don't have a</span> <span data-start="1157.62" data-end="1160.02">server so let's just open this directory</span> <span data-start="1160.02" data-end="1162.75">and yeah this is a very bad way to do it</span> <span data-start="1162.75" data-end="1164.789">but we'll just you know yeah so this</span> <span data-start="1164.789" data-end="1168.12">other application looks like and I have</span> <span data-start="1168.12" data-end="1171.72">some CSS or that I prepared earlier in</span> <span data-start="1171.72" data-end="1176.159">here some ugly CSS no preprocessors just</span> <span data-start="1176.159" data-end="1179.37">simple CSS and yeah so if you see now</span> <span data-start="1179.37" data-end="1181.44">what it does is like it loads the</span> <span data-start="1181.44" data-end="1184.77">application and then and then after</span> <span data-start="1184.77" data-end="1186.36">javascript is loaded it will actually</span> <span data-start="1186.36" data-end="1189.63">populate the it will mount the component</span> <span data-start="1189.63" data-end="1192.12">and you can see that react component is</span> <span data-start="1192.12" data-end="1195.87">mounted and so functionality is just</span> <span data-start="1195.87" data-end="1197.58">this I'm just going to try bread and</span> <span data-start="1197.58" data-end="1199.2">it's like freaking dumb and it will just</span> <span data-start="1199.2" data-end="1200.909">like randomly give me something banana</span> <span data-start="1200.909" data-end="1203.52">or something and that's it and let's</span> <span data-start="1203.52" data-end="1207.87">let's render this on server and so I'm</span> <span data-start="1207.87" data-end="1211.82">just going to create a new file server</span> <span data-start="1211.82" data-end="1217.23">touches and all right so I'm just going</span> <span data-start="1217.23" data-end="1224.94">to import Express from express</span> </p>
<p><span data-start="1224.95" data-end="1227.02">I have server prepared already let's</span> <span data-start="1227.02" data-end="1232.99">just put here alright so what I have</span> <span data-start="1232.99" data-end="1236.71">here is a very simple bare minimal</span> <span data-start="1236.71" data-end="1242.62">Express server it's a it's what it's</span> <span data-start="1242.62" data-end="1244.83">doing is it's taking that same app</span> <span data-start="1244.83" data-end="1250.54">container a component and it's it's</span> <span data-start="1250.54" data-end="1252.46">using this HTML wrapper which I have to</span> <span data-start="1252.46" data-end="1254.77">create yet or what HTML wrapper is is</span> <span data-start="1254.77" data-end="1257.08">that pretty much the same thing which</span> <span data-start="1257.08" data-end="1261.69">I'm just going to put it in here as a</span> <span data-start="1261.69" data-end="1275.07">node module</span> <span data-start="1275.08" data-end="1278.77">ok</span> <span data-start="1278.78" data-end="1287.4">alright so</span> <span data-start="1287.41" data-end="1291.37">so yeah it's it's is just a wrapper it's</span> <span data-start="1291.37" data-end="1294.01">uh oh is this wrapper function i'm</span> <span data-start="1294.01" data-end="1295.78">passing app to it and then is this a</span> <span data-start="1295.78" data-end="1299.59">binding up here that's it nothing much</span> <span data-start="1299.59" data-end="1303.55">so on server yeah this should this</span> <span data-start="1303.55" data-end="1305.77">should just do the magic and and yeah</span> <span data-start="1305.77" data-end="1308.89">about about about this section what we</span> <span data-start="1308.89" data-end="1310.3">are doing here is i'm just running a</span> <span data-start="1310.3" data-end="1313.09">static middleware so that it can</span> <span data-start="1313.09" data-end="1316.96">actually take bundle and style on the</span> <span data-start="1316.96" data-end="1319.87">server as a static files and this</span> <span data-start="1319.87" data-end="1321.46">middleware here is just sending the</span> <span data-start="1321.46" data-end="1324.13">response back after putting everything</span> <span data-start="1324.13" data-end="1326.29">together we are using render to string</span> <span data-start="1326.29" data-end="1329.32">this is provided by react itself what it</span> <span data-start="1329.32" data-end="1330.64">does is actually it converts everything</span> <span data-start="1330.64" data-end="1335.29">to string and that's it passes back to</span> <span data-start="1335.29" data-end="1338.41">the client and then online when you when</span> <span data-start="1338.41" data-end="1340.96">you try to mount it again what it does</span> <span data-start="1340.96" data-end="1342.91">is it won't replace the whole thing if</span> <span data-start="1342.91" data-end="1345.67">it matches the dom if the door miss em</span> <span data-start="1345.67" data-end="1348.1">same from the server and the client it</span> <span data-start="1348.1" data-end="1351.79">will not try to replace it so let's do</span> <span data-start="1351.79" data-end="1361.47">this now</span> <span data-start="1361.48" data-end="1363.88">alright so I yeah it's running I don't</span> <span data-start="1363.88" data-end="1368.309">have any message in there so alright</span> <span data-start="1368.309" data-end="1373.15">let's open our local host 3000 just move</span> <span data-start="1373.15" data-end="1374.95">this little bit here so that I know</span> <span data-start="1374.95" data-end="1377.74">what's going on all right let's have a</span> <span data-start="1377.74" data-end="1382.84">look so earlier when we saw it was the</span> <span data-start="1382.84" data-end="1386.35">the document was empty there was no I</span> <span data-start="1386.35" data-end="1388.419">mean it wasn't empty but there was no</span> <span data-start="1388.419" data-end="1390.669">suicide rendered content in there but</span> <span data-start="1390.669" data-end="1395.41">let's see now so yeah now you can see</span> <span data-start="1395.41" data-end="1397.12">that there is some react stuff here that</span> <span data-start="1397.12" data-end="1400.75">directly came from server and then</span> <span data-start="1400.75" data-end="1406.15">you'll notice something here in your in</span> <span data-start="1406.15" data-end="1407.62">here that there is something called data</span> <span data-start="1407.62" data-end="1410.77">react a checksum so what what it does is</span> <span data-start="1410.77" data-end="1412.03">that on a service ID will generate</span> <span data-start="1412.03" data-end="1417.04">something like this a number or I don't</span> <span data-start="1417.04" data-end="1418.63">like some time its hash I don't know I</span> <span data-start="1418.63" data-end="1419.83">don't know exactly what it is but like</span> <span data-start="1419.83" data-end="1423.24">it will generate a unique key that is</span> <span data-start="1423.24" data-end="1425.65">compared on the client side when we are</span> <span data-start="1425.65" data-end="1428.65">doing something like this so when I'm</span> <span data-start="1428.65" data-end="1430.21">mounting this application on the client</span> <span data-start="1430.21" data-end="1432.07">side it will try to compare this and</span> <span data-start="1432.07" data-end="1435.82">then it was just like it will just</span> <span data-start="1435.82" data-end="1438.64">continue from where it left off now</span> <span data-start="1438.64" data-end="1441.46">let's say if the DOM is different on the</span> <span data-start="1441.46" data-end="1445.48">server then the client so so let's say I</span> <span data-start="1445.48" data-end="1449.61">do something like super quick one and</span> <span data-start="1449.61" data-end="1462.54">just do something like this</span> <span data-start="1462.55" data-end="1464.62">so I'm just going to define a jewel I</span> <span data-start="1464.62" data-end="1466.92">hope this works and I haven't dusted it</span> <span data-start="1466.92" data-end="1478.03">so on here sorry on the back</span> <span data-start="1478.04" data-end="1488.19">here I will just do something like just</span> </p>
<p><span data-start="1488.2" data-end="1491.95">Falls and yeah that's sorry I can just</span> <span data-start="1491.95" data-end="1494.559">do something like this I'm gonna get out</span> <span data-start="1494.559" data-end="1504.299">so let's let's get this a try and so</span> <span data-start="1504.299" data-end="1508">what i will do is probably let's go to</span> <span data-start="1508" data-end="1514.059">one of the components and or we can just</span> <span data-start="1514.059" data-end="1523.98">do it in the app is</span> <span data-start="1523.99" data-end="1529.36">so if i have something like this so it's</span> <span data-start="1529.36" data-end="1535.99">a great driving I will do this and so on</span> <span data-start="1535.99" data-end="1537.55">a server side I'll just return something</span> <span data-start="1537.55" data-end="1544.72">like this with class name some gibberish</span> <span data-start="1544.72" data-end="1548.8">and then I'll just do normal progress</span> <span data-start="1548.8" data-end="1553.48">bar here let's see if this works I</span> <span data-start="1553.48" data-end="1562.749">haven't tested this out</span> <span data-start="1562.759" data-end="1581.31">ok</span> <span data-start="1581.32" data-end="1600.19">oh okay okay my bad</span> <span data-start="1600.2" data-end="1603.019">alright so now you can see that this is</span> <span data-start="1603.019" data-end="1604.82">throwing some reactive throwing some</span> <span data-start="1604.82" data-end="1606.95">morning here that says that attempt to</span> <span data-start="1606.95" data-end="1609.169">reuse markup in container but Jackson</span> <span data-start="1609.169" data-end="1611.299">was invalid this generally means blah</span> <span data-start="1611.299" data-end="1613.58">blah blah that you know your server side</span> <span data-start="1613.58" data-end="1617.12">render is kind of useless so you have to</span> <span data-start="1617.12" data-end="1620.539">make sure that your DOM is same what's</span> <span data-start="1620.539" data-end="1623.51">on your markup is same that you throw</span> <span data-start="1623.51" data-end="1625.039">from server and then you mount it on the</span> <span data-start="1625.039" data-end="1629.72">client all right so that was just a</span> <span data-start="1629.72" data-end="1634.269">basic you know basic isomorphic app</span> <span data-start="1634.269" data-end="1638.389">universal app sorry let's skip this</span> <span data-start="1638.389" data-end="1642.95">since we build this already and yep done</span> <span data-start="1642.95" data-end="1645.559">but was it was it so simple like I mean</span> <span data-start="1645.559" data-end="1648.71">is that it not really actually this is</span> <span data-start="1648.71" data-end="1652.87">this is very basic stuff and building a</span> <span data-start="1652.87" data-end="1655.07">universal JavaScript application using</span> <span data-start="1655.07" data-end="1658.279">react node and tools like flux redux is</span> <span data-start="1658.279" data-end="1660.95">a bit more complicated because of</span> <span data-start="1660.95" data-end="1664.039">several things so let's let's talk a</span> <span data-start="1664.039" data-end="1667.549">little bit more about that so tricky</span> <span data-start="1667.549" data-end="1670.1">parts let's look at a more complex</span> <span data-start="1670.1" data-end="1672.769">application so I'll just close this one</span> <span data-start="1672.769" data-end="1674.12">and we will just have a look at this one</span> <span data-start="1674.12" data-end="1676.19">so this is something that I build over</span> <span data-start="1676.19" data-end="1678.529">the weekend and like what it uses is the</span> <span data-start="1678.529" data-end="1685.12">users Redux as a as a state Redux is a</span> <span data-start="1685.12" data-end="1687.5">predictable state library what it does</span> <span data-start="1687.5" data-end="1689.72">is like it you can create reducers and</span> <span data-start="1689.72" data-end="1691.61">then it will create a store object for</span> <span data-start="1691.61" data-end="1692.99">you which you can use in your</span> <span data-start="1692.99" data-end="1695.059">application and maintain a state across</span> <span data-start="1695.059" data-end="1698.809">the application so similar to flux not</span> <span data-start="1698.809" data-end="1701.299">not really same as flux but I wouldn't</span> <span data-start="1701.299" data-end="1704.299">go more in detail there so what what are</span> <span data-start="1704.299" data-end="1709.75">we doing here is now I have this here</span> <span data-start="1709.75" data-end="1713.12">sorry this is</span> <span data-start="1713.12" data-end="1715.5">yeah sorry this is the application all</span> <span data-start="1715.5" data-end="1717.78">right so what I do is if I search for</span> <span data-start="1717.78" data-end="1724.86">bread should get a bread yeah internet</span> <span data-start="1724.86" data-end="1728.13">is slow here think so so yeah I made a</span> <span data-start="1728.13" data-end="1731.22">real API call to red mud API and then it</span> <span data-start="1731.22" data-end="1734.37">give me bread and now if like more</span> <span data-start="1734.37" data-end="1736.169">complex example would be disliked right</span> <span data-start="1736.169" data-end="1738.45">so people might directly go to this</span> <span data-start="1738.45" data-end="1740.4">bread page instead of going to a home</span> <span data-start="1740.4" data-end="1742.559">page and you know so if I just directly</span> <span data-start="1742.559" data-end="1748.44">go to bread what I see is yeah</span> <span data-start="1748.44" data-end="1751.77">everything is in here rendered on the</span> <span data-start="1751.77" data-end="1755.34">server side there is no ajax call that</span> <span data-start="1755.34" data-end="1757.919">was made and also you will see something</span> <span data-start="1757.919" data-end="1761.07">here so this is the state that was</span> <span data-start="1761.07" data-end="1762.63">passed from server to the client side</span> <span data-start="1762.63" data-end="1765.89">and what happened here is that I</span> <span data-start="1765.89" data-end="1767.76">something was done on the server side</span> <span data-start="1767.76" data-end="1770.01">like there was like we felt that data we</span> <span data-start="1770.01" data-end="1772.83">package it together and then we</span> <span data-start="1772.83" data-end="1775.59">dehydrated this stuff into this initial</span> <span data-start="1775.59" data-end="1778.11">state and then on the app on the client</span> <span data-start="1778.11" data-end="1781.559">side we hydrated it and started like app</span> <span data-start="1781.559" data-end="1783.179">will continue to work exactly the way</span> <span data-start="1783.179" data-end="1784.86">it's supposed to work so let's say if I</span> <span data-start="1784.86" data-end="1788.97">fetch milk now I will get a JAX call</span> <span data-start="1788.97" data-end="1791.909">that will get me a milk and yet caught</span> <span data-start="1791.909" data-end="1802.21">me some milk yep and yeah I mean yeah so</span> <span data-start="1802.22" data-end="1807">all right okay so so that is more close</span> <span data-start="1807" data-end="1811.26">to some real application and so what are</span> <span data-start="1811.26" data-end="1817.86">the tricky parts here so what one of the</span> <span data-start="1817.86" data-end="1820.14">thing is that when you have a complex</span> <span data-start="1820.14" data-end="1824.1">application that is making several which</span> <span data-start="1824.1" data-end="1825.51">has several components that are making a</span> </p>
<p><span data-start="1825.51" data-end="1828.15">JAX calls and they have their state</span> <span data-start="1828.15" data-end="1832.2">maintained in the application you want</span> <span data-start="1832.2" data-end="1835.14">to somehow get that stuff and push it to</span> <span data-start="1835.14" data-end="1836.669">client so that you can continue from</span> <span data-start="1836.669" data-end="1840.57">there so that's where actually things</span> <span data-start="1840.57" data-end="1843.83">started to get messy so in this case</span> <span data-start="1843.83" data-end="1846.32">I'm just showing a very quick example of</span> <span data-start="1846.32" data-end="1848.059">redox you guys can have a look at it</span> <span data-start="1848.059" data-end="1850.85">later in more in detail I'll share the</span> <span data-start="1850.85" data-end="1853.46">code as well so what's happening here is</span> <span data-start="1853.46" data-end="1855.049">that I'm just creating a store on the</span> <span data-start="1855.049" data-end="1857.69">server side using all my reducers so</span> <span data-start="1857.69" data-end="1862.519">things like my I mean in this case it's</span> <span data-start="1862.519" data-end="1865.82">just a search reducer that actually gets</span> <span data-start="1865.82" data-end="1867.35">the data and then you know like</span> <span data-start="1867.35" data-end="1870.44">generates that reducer object and then</span> <span data-start="1870.44" data-end="1872.779">i'll just create a store or using that</span> <span data-start="1872.779" data-end="1875.72">and then i will dehydrate for the client</span> <span data-start="1875.72" data-end="1877.85">by just getting the state from that</span> <span data-start="1877.85" data-end="1879.889">store and then i will just you realize</span> <span data-start="1879.889" data-end="1882.47">stringify it and then you know somewhere</span> <span data-start="1882.47" data-end="1884.45">in my HTML and then pass it down to the</span> <span data-start="1884.45" data-end="1886.1">client and on the client side what i</span> <span data-start="1886.1" data-end="1887.269">will do is i will just pretty much</span> <span data-start="1887.269" data-end="1889.85">follow the same code that i have in the</span> <span data-start="1889.85" data-end="1891.83">server side for initializing a store and</span> <span data-start="1891.83" data-end="1894.32">i will just pass an initial state to it</span> <span data-start="1894.32" data-end="1895.669">so i will continue from where it left</span> <span data-start="1895.669" data-end="1902.029">off yeah so like it'sit's bit more</span> <span data-start="1902.029" data-end="1904.1">complex than that but in a nutshell this</span> <span data-start="1904.1" data-end="1909.71">is what actually happens another another</span> <span data-start="1909.71" data-end="1912.919">tricky part building these kind of</span> <span data-start="1912.919" data-end="1914.84">isomorphic app is that like now you have</span> <span data-start="1914.84" data-end="1916.19">to deal with things like this you know</span> <span data-start="1916.19" data-end="1919.399">like you used to use edge x and make a</span> <span data-start="1919.399" data-end="1921.62">edge x request and but now you can't use</span> <span data-start="1921.62" data-end="1924.11">that anymore on the server side and you</span> <span data-start="1924.11" data-end="1926.87">so so yeah I mean like there are ways to</span> <span data-start="1926.87" data-end="1929.69">do it like you can do what I did earlier</span> <span data-start="1929.69" data-end="1931.399">like assigned a global you can use that</span> <span data-start="1931.399" data-end="1933.529">global for certain specific things but</span> <span data-start="1933.529" data-end="1935.75">for such cases it's it's a mess like</span> <span data-start="1935.75" data-end="1937.13">just don't use it don't do something</span> <span data-start="1937.13" data-end="1939.71">like this the HTTP request is a is a</span> <span data-start="1939.71" data-end="1942.32">node module and then it's HTTP is node</span> <span data-start="1942.32" data-end="1944.51">module that is making a request and then</span> <span data-start="1944.51" data-end="1946.25">if it's not a server on a client said</span> <span data-start="1946.25" data-end="1947.45">what i'm doing is i'm making edge x</span> <span data-start="1947.45" data-end="1949.61">request so this is a bad way to share</span> <span data-start="1949.61" data-end="1951.529">code I like in some cases you have to do</span> <span data-start="1951.529" data-end="1954.32">it but better approaches look for I so</span> <span data-start="1954.32" data-end="1957.08">like universal or isomorphic modules</span> <span data-start="1957.08" data-end="1958.909">that are already there in this case</span> <span data-start="1958.909" data-end="1962.51">using isomorphic fetch and it I can use</span> <span data-start="1962.51" data-end="1964.1">the same thing I can use this patch I</span> <span data-start="1964.1" data-end="1967.7">pie that will be in the browser's soon I</span> <span data-start="1967.7" data-end="1969.169">think it's already in some of the</span> <span data-start="1969.169" data-end="1972.35">process but I can use that on browser</span> <span data-start="1972.35" data-end="1973.909">and the server with the same code I</span> <span data-start="1973.909" data-end="1976.86">don't have to change anything</span> <span data-start="1976.87" data-end="1980.84">alright so so this this is this is a</span> <span data-start="1980.84" data-end="1983.63">hard hard problem and then there are</span> <span data-start="1983.63" data-end="1985.43">some frameworks out there actually who</span> <span data-start="1985.43" data-end="1989.24">solves it like I think ljs and a couple</span> <span data-start="1989.24" data-end="1991.94">of others they they have they have stuff</span> <span data-start="1991.94" data-end="1993.5">that actually does this data fetch</span> <span data-start="1993.5" data-end="1996.86">fetching part but in our case let's say</span> <span data-start="1996.86" data-end="2002.98">in this application it's very let's let</span> <span data-start="2002.98" data-end="2004.84">me just open that application and just</span> <span data-start="2004.84" data-end="2009.07">show you guys all right can just roll</span> <span data-start="2009.07" data-end="2011.32">yeah I can just show it for me so what's</span> <span data-start="2011.32" data-end="2014.2">happening is I'm in my server i'm doing</span> <span data-start="2014.2" data-end="2016.03">i'm running this fetch search term</span> <span data-start="2016.03" data-end="2019.69">result when i go to hello it is passed</span> <span data-start="2019.69" data-end="2023.79">to this and then i will try to make a</span> </p>
<p><span data-start="2023.79" data-end="2027.13">HTTP call on server etc it will build a</span> <span data-start="2027.13" data-end="2029.2">new state for the application then it</span> <span data-start="2029.2" data-end="2032.47">will pass it down to the client so this</span> <span data-start="2032.47" data-end="2033.91">is this is very simple like because in</span> <span data-start="2033.91" data-end="2035.53">this case I just have I'm just doing one</span> <span data-start="2035.53" data-end="2037.27">thing like I'm just building a Search</span> <span data-start="2037.27" data-end="2039.04">application that's it there's nothing</span> <span data-start="2039.04" data-end="2040.93">more to it but let's say if you are</span> <span data-start="2040.93" data-end="2042.58">looking at something like this our red</span> <span data-start="2042.58" data-end="2045.04">mod mobile website so if I want to load</span> <span data-start="2045.04" data-end="2047.17">everything there's like at least four to</span> <span data-start="2047.17" data-end="2050.8">five API calls that are made then I have</span> <span data-start="2050.8" data-end="2053.5">to think of a different approach so in</span> <span data-start="2053.5" data-end="2056.32">this case what happens is that they are</span> <span data-start="2056.32" data-end="2058.87">very there several ways to do it one of</span> <span data-start="2058.87" data-end="2060.82">the ways is that in each of your handler</span> <span data-start="2060.82" data-end="2063.01">components like the main components like</span> <span data-start="2063.01" data-end="2066.129">app app is a rapper but like beneath a</span> <span data-start="2066.129" data-end="2067.54">pew might have landing pages search</span> <span data-start="2067.54" data-end="2069.79">pages etc you have to have something</span> <span data-start="2069.79" data-end="2073.419">like this static function then what you</span> <span data-start="2073.419" data-end="2076.36">can do is actually you can get the list</span> <span data-start="2076.36" data-end="2078.179">of all the components on the server side</span> <span data-start="2078.179" data-end="2080.59">loop through all of them look for these</span> <span data-start="2080.59" data-end="2083.35">functions which are retaining promises</span> <span data-start="2083.35" data-end="2085.56">and then you resolve all the promises</span> <span data-start="2085.56" data-end="2089.44">build that store using Redux and pass it</span> <span data-start="2089.44" data-end="2092.83">back to your application yeah but you</span> <span data-start="2092.83" data-end="2094.23">have to write a lot of code for that</span> <span data-start="2094.23" data-end="2098.38">unfortunately another another tricky</span> <span data-start="2098.38" data-end="2100.78">part is indira data fetching is that you</span> <span data-start="2100.78" data-end="2103.03">want to prefetch some of the stuff like</span> <span data-start="2103.03" data-end="2105.61">that navigation and that categories at</span> <span data-start="2105.61" data-end="2108.19">the top but data for that but like maybe</span> <span data-start="2108.19" data-end="2110.08">this product list you don't</span> <span data-start="2110.08" data-end="2112.39">want to prefetch you want to fetch it</span> <span data-start="2112.39" data-end="2113.86">online you you want to show a spinner</span> <span data-start="2113.86" data-end="2116.71">for whatever reason for now you can</span> <span data-start="2116.71" data-end="2118.3">immediately do it I think using</span> <span data-start="2118.3" data-end="2120.64">component DeadMau mount and it shouldn't</span> <span data-start="2120.64" data-end="2123.37">cause much of a problem there but I like</span> <span data-start="2123.37" data-end="2126.01">there yeah I mean then then what happens</span> <span data-start="2126.01" data-end="2130.53">is that you will have to define to</span> <span data-start="2130.53" data-end="2133.3">dispatch functions one in component in</span> <span data-start="2133.3" data-end="2134.44">mount which will fetch something like</span> <span data-start="2134.44" data-end="2136.36">this which is okay shouldn't be a</span> <span data-start="2136.36" data-end="2139.03">problem but it's not a really really</span> <span data-start="2139.03" data-end="2140.98">good way there are some libraries that</span> <span data-start="2140.98" data-end="2144.73">help you do that like react Thatcher is</span> <span data-start="2144.73" data-end="2147.49">one library and then with help of some</span> <span data-start="2147.49" data-end="2148.72">promise middle where you can actually</span> <span data-start="2148.72" data-end="2152.2">pass things up and do something like</span> <span data-start="2152.2" data-end="2154.87">that yeah but some this is something I'm</span> <span data-start="2154.87" data-end="2156.76">still researching I've like we've done</span> <span data-start="2156.76" data-end="2158.8">something like this but I haven't done</span> <span data-start="2158.8" data-end="2162.49">that like probably this new stuff yeah</span> <span data-start="2162.49" data-end="2165.91">so that's yeah that's pretty much it and</span> <span data-start="2165.91" data-end="2167.77">the application that you guys just saw</span> <span data-start="2167.77" data-end="2170.56">this one it's using Redux and couple of</span> <span data-start="2170.56" data-end="2174.52">other stuff and it's it's hosted on our</span> <span data-start="2174.52" data-end="2180.85">github so feel free to feel free to look</span> <span data-start="2180.85" data-end="2183.43">at it and give feedback it'sit's not a</span> <span data-start="2183.43" data-end="2185.14">really beautiful code but like yeah I'm</span> <span data-start="2185.14" data-end="2186.76">just in case if you guys want to have a</span> <span data-start="2186.76" data-end="2189.28">look so yeah it's out here there's no</span> <span data-start="2189.28" data-end="2195.97">read me yeah alright just alright so</span> <span data-start="2195.97" data-end="2198.94">that's pretty much it and these this is</span> <span data-start="2198.94" data-end="2200.59">the resources this is what I've been</span> <span data-start="2200.59" data-end="2202.42">through and I think if you guys have a</span> <span data-start="2202.42" data-end="2204.1">look at it there's tons of universal</span> <span data-start="2204.1" data-end="2206.53">application related content out there</span> <span data-start="2206.53" data-end="2212.2">here yep hi thank you so much hi um so</span> <span data-start="2212.2" data-end="2215.5">question red mark doesn't use react</span> <span data-start="2215.5" data-end="2218.71">right now or just type of universal app</span> <span data-start="2218.71" data-end="2223.75">it does actually so our our main website</span> <span data-start="2223.75" data-end="2227.08">of the one that you see on red marcom</span> <span data-start="2227.08" data-end="2229.57">actually uses react all the way but we</span> <span data-start="2229.57" data-end="2231.64">are stuck with backbone and it's like a</span> <span data-start="2231.64" data-end="2233.32">really complex application we are trying</span> <span data-start="2233.32" data-end="2235.87">to move away from it so what I did is</span> <span data-start="2235.87" data-end="2238.33">like I talked to pm's and got like one</span> <span data-start="2238.33" data-end="2239.95">month of time and we build a mobile</span> <span data-start="2239.95" data-end="2241.25">website using redux</span> <span data-start="2241.25" data-end="2243.44">all that stuff so that we can show it to</span> <span data-start="2243.44" data-end="2244.94">them how it looks like and you know it's</span> <span data-start="2244.94" data-end="2248">more easy to build stuff so yeah yep so</span> <span data-start="2248" data-end="2250.49">we are going to move to this whatever I</span> <span data-start="2250.49" data-end="2253.31">showed for the main website as well yep</span> <span data-start="2253.31" data-end="2255.29">you can access red mark from mobile</span> <span data-start="2255.29" data-end="2257.75">phone and it will give you the mobile</span> <span data-start="2257.75" data-end="2260.48">website okay thank you we have done with</span> <span data-start="2260.48" data-end="2263.66">the same methodology i mislike you how</span> <span data-start="2263.66" data-end="2266.9">you deal with the the cookies coyote</span> <span data-start="2266.9" data-end="2270.11">cookies tub because a cookie or disable</span> <span data-start="2270.11" data-end="2274.26">site and calcite or totally different</span> <span data-start="2274.27" data-end="2276.47">yeah that's a good question actually I</span> <span data-start="2276.47" data-end="2279.77">run into that issue we share a user your</span> <span data-start="2279.77" data-end="2282.91">your session token for a logged-in user</span> <span data-start="2282.91" data-end="2285.32">between both the applications and</span> <span data-start="2285.32" data-end="2287.42">apparently for this case I had to do</span> <span data-start="2287.42" data-end="2289.58">that thing you know if server do this if</span> <span data-start="2289.58" data-end="2293.12">client then do that I I think I like I'm</span> <span data-start="2293.12" data-end="2294.8">looking for a module that can help me do</span> <span data-start="2294.8" data-end="2296.78">that effectively on client side we are</span> <span data-start="2296.78" data-end="2299.96">using Jas cookie module but that doesn't</span> <span data-start="2299.96" data-end="2303.35">work well on server side and actually</span> <span data-start="2303.35" data-end="2305.27">doesn't work at all i think i don't know</span> <span data-start="2305.27" data-end="2307.73">i haven't dig more into that so we are</span> <span data-start="2307.73" data-end="2310.19">just using Express cookie on server side</span> <span data-start="2310.19" data-end="2314.54">for now yep</span> </p>
</section>