<section>
<p><span data-start="16.44" data-end="19.9">hi there so before I start I have a bit</span> <span data-start="19.9" data-end="23.56">of a stutter so if that makes it hard to</span> <span data-start="23.56" data-end="25.66">understand then I apologize hopefully it</span> <span data-start="25.66" data-end="26.8">won't be too bad</span> <span data-start="26.8" data-end="34.6">so I sent a tweet out a few days ago I</span> <span data-start="34.6" data-end="39.34">loved the Java scoop with the statement</span> <span data-start="39.34" data-end="45.72">so much and I got a replay from how</span> <span data-start="45.72" data-end="48.46">Yankee I think you say his name</span> <span data-start="48.46" data-end="50.44">I love the JavaScript with same so much</span> <span data-start="50.44" data-end="53.89">with sarcasm tags surround it he thought</span> </p>
<p><span data-start="53.89" data-end="55.95">I was being sarcastic</span> <span data-start="55.95" data-end="59.82">actually he forgot the opening tag so</span> <span data-start="59.82" data-end="62.08">maybe he was saying everything that I've</span> <span data-start="62.08" data-end="66.759">ever tweeted is like sarcastic however I</span> <span data-start="66.759" data-end="68.92">guess from this point on I can't be</span> <span data-start="68.92" data-end="70.78">sarcastic because he just like closed</span> <span data-start="70.78" data-end="73.06">the sarcasm tag on me so there we go</span> <span data-start="73.06" data-end="80.66">anyway oh and then I got this one</span> <span data-start="80.67" data-end="85.63">alright so by way of introduction how</span> <span data-start="85.63" data-end="90.79">you work at Twitter Twitter</span> <span data-start="90.79" data-end="94.93">we love javascript we love the front-end</span> <span data-start="94.93" data-end="96.76">we take the time to understand</span> <span data-start="96.76" data-end="101.56">everything understand all the parts so</span> <span data-start="101.56" data-end="104.4">that we have the widest toolkit at our</span> <span data-start="104.4" data-end="106.89">disposal we don't believe in just</span> <span data-start="106.89" data-end="110.38">restricting the language to the so</span> <span data-start="110.38" data-end="112.57">called safe parts or you know the bits</span> <span data-start="112.57" data-end="114.7">you should be able and I think we get a</span> <span data-start="114.7" data-end="116.92">lot of strength from that and we do</span> <span data-start="116.92" data-end="118.84">everything in strict mode just in case</span> <span data-start="118.84" data-end="121.57">you thought we were not very careful or</span> <span data-start="121.57" data-end="126.34">something like that so why am i making</span> <span data-start="126.34" data-end="128.049">this tool why did I write it there were</span> <span data-start="128.049" data-end="132.04">two motivations for this talk the first</span> <span data-start="132.04" data-end="134.23">one is kind of represent of this quote</span> <span data-start="134.23" data-end="141.25">by Douglas Douglas Crockford he says the</span> <span data-start="141.25" data-end="143.349">subset he carved out is vastly superior</span> <span data-start="143.349" data-end="145.08">to the</span> <span data-start="145.08" data-end="148.75">language as a whole now much as I love</span> <span data-start="148.75" data-end="150.519">the good parts I think it's a great book</span> <span data-start="150.519" data-end="152.14">and I think every JavaScript developer</span> <span data-start="152.14" data-end="158.17">should heed it I think the other parts</span> <span data-start="158.17" data-end="159.7">are really great as well the parts he</span> <span data-start="159.7" data-end="161.62">leaves out if you take the time to</span> <span data-start="161.62" data-end="163.36">understand them they are great and</span> <span data-start="163.36" data-end="164.98">they're really useful and they add a lot</span> <span data-start="164.98" data-end="167.5">to the language and it saddens me that</span> <span data-start="167.5" data-end="169.269">not enough people are actually looking</span> <span data-start="169.269" data-end="172.049">into them so that was one of the</span> <span data-start="172.049" data-end="177.459">motivations the other one is this I see</span> <span data-start="177.459" data-end="179.59">this all the time and it drives me crazy</span> <span data-start="179.59" data-end="183.79">it's like Stack Overflow you you're</span> <span data-start="183.79" data-end="185.819">reading a fairly interesting thread and</span> <span data-start="185.819" data-end="188.47">inevitably someone comes along and says</span> <span data-start="188.47" data-end="191.709">that and it's like you're not telling me</span> <span data-start="191.709" data-end="193.48">you're not explaining it you're not</span> <span data-start="193.48" data-end="196.9">saying why I shouldn't use it you just</span> <span data-start="196.9" data-end="199.629">telling me not to use it like why are</span> <span data-start="199.629" data-end="201.549">you telling me this because someone told</span> <span data-start="201.549" data-end="204.879">you you know we can't be good developers</span> <span data-start="204.879" data-end="207.31">unless we take the time to understand it</span> <span data-start="207.31" data-end="210.099">and we should not preach things to other</span> <span data-start="210.099" data-end="212.44">people that we can't explain or we're</span> <span data-start="212.44" data-end="215.98">not willing to convince others of that's</span> <span data-start="215.98" data-end="224.459">very important to me so why do we have</span> <span data-start="224.459" data-end="239.53">well that's the theory whose rules are</span> <span data-start="239.53" data-end="243.609">we actually following here and I think</span> <span data-start="243.609" data-end="246.31">right and rules apply to everything not</span> <span data-start="246.31" data-end="250.209">just a software they apply to life</span> <span data-start="250.209" data-end="254.47">they even apply to soup hears right as</span> <span data-start="254.47" data-end="259.93">it applies to soup so let me ask you</span> <span data-start="259.93" data-end="260.5">something</span> <span data-start="260.5" data-end="266.39">what is it an authentic minestrone soup</span> <span data-start="266.4" data-end="272.71">does anyone know well I tell you what we</span> <span data-start="272.71" data-end="275.9">can do research</span> </p>
<p><span data-start="275.9" data-end="278.6">Google Images will have the answer let's</span> <span data-start="278.6" data-end="281.03">key an authentic minestrone soup and see</span> <span data-start="281.03" data-end="281.84">what we get</span> <span data-start="281.84" data-end="286.82">oh turns out there is no such thing</span> <span data-start="286.82" data-end="289.04">there is no all authentic minestrone</span> <span data-start="289.04" data-end="291.95">soup it's whatever you want it to be and</span> <span data-start="291.95" data-end="295.24">actually the technical answer is it's a</span> <span data-start="295.24" data-end="297.44">regional soup and different parts of</span> </p>
<p><span data-start="297.44" data-end="301.01">Italy make the soup in a different way</span> <span data-start="301.01" data-end="303.38">but the point is we can't tell other</span> <span data-start="303.38" data-end="307.06">people how to make ministry only soup</span> <span data-start="307.06" data-end="309.26">and I guess that was meant to come next</span> <span data-start="309.26" data-end="312.65">and the bigger point is correctness is</span> <span data-start="312.65" data-end="315.65">sub is subjective there is no one</span> <span data-start="315.65" data-end="317.72">correctness that we all share</span> <span data-start="317.72" data-end="319.82">we cannot listen to one personal story</span> <span data-start="319.82" data-end="321.98">of what correctness is and apply it to</span> <span data-start="321.98" data-end="330.04">our to our development each of us is</span> <span data-start="330.04" data-end="333.98">unique and individual each of us we all</span> <span data-start="333.98" data-end="336.22">have our own opinion on what we consider</span> <span data-start="336.22" data-end="342.98">harmful these are all actual be copied</span> <span data-start="342.98" data-end="345.53">pasted from actual articles and you can</span> <span data-start="345.53" data-end="348.17">see everything in JavaScript has ever</span> <span data-start="348.17" data-end="349.82">done has been considered harmful by</span> <span data-start="349.82" data-end="351.86">someone like if consider how primitive</span> <span data-start="351.86" data-end="354.95">types arguments JavaScript is so</span> <span data-start="354.95" data-end="355.58">powerful</span> <span data-start="355.58" data-end="360.32">and so you know oh and look there we are</span> <span data-start="360.32" data-end="363.77">and just to really focus in the work</span> <span data-start="363.77" data-end="365.36">somebody actually read now it's got eval</span> <span data-start="365.36" data-end="370.18">considered useful so clearly harmful is</span> <span data-start="370.18" data-end="372.56">subjective — otherwise we wouldn't be</span> <span data-start="372.56" data-end="379.07">writing any code at all I really like</span> <span data-start="379.07" data-end="381.25">this quote from Swiss Swiss author</span> </p>
<p><span data-start="381.25" data-end="383.9">Jemaine — steel I think I'm saying that</span> <span data-start="383.9" data-end="389.81">right rules are only barriers to prevent</span> <span data-start="389.81" data-end="392">children from falling we should should</span> <span data-start="392" data-end="393.44">keep that in mind that's really</span> <span data-start="393.44" data-end="396.29">important so when you start out when you</span> <span data-start="396.29" data-end="399.2">learn a language you know rules are</span> <span data-start="399.2" data-end="401.18">really important they stop you falling</span> <span data-start="401.18" data-end="403.82">off the edge stop you're doing something</span> <span data-start="403.82" data-end="407.03">really stupid but you know we're not</span> <span data-start="407.03" data-end="408.99">children anymore right</span> <span data-start="408.99" data-end="411.569">we're adults we jump we like most of us</span> <span data-start="411.569" data-end="412.8">in this room probably consider ourselves</span> <span data-start="412.8" data-end="415.11">fairly good JavaScript developers we'd</span> <span data-start="415.11" data-end="420.73">want to code the way an adult codes and</span> <span data-start="420.74" data-end="424.949">we once we understand the rules we</span> <span data-start="424.949" data-end="428.16">should be able to break them find out</span> <span data-start="428.16" data-end="429.66">the exceptions find out when the rules</span> <span data-start="429.66" data-end="431.13">don't apply to what we're actually</span> <span data-start="431.13" data-end="436.669">trying to do it's just almost here</span> <span data-start="436.669" data-end="441.71">anybody else Thomas I apologize for this</span> <span data-start="441.71" data-end="444.229">singapore everything runs smoothly</span> <span data-start="444.229" data-end="447.509">everything's clean everything's nice but</span> <span data-start="447.509" data-end="449.07">there's a bit of a cost for that</span> <span data-start="449.07" data-end="451.32">it's the expense of personal freedom not</span> <span data-start="451.32" data-end="453.75">everyone has the liberty to do</span> <span data-start="453.75" data-end="456.78">everything they want to do and I think</span> </p>
<p><span data-start="456.78" data-end="466.46">Java was Singapore actually I actually I</span> <span data-start="466.46" data-end="468.419">didn't come up with this I stole this</span> <span data-start="468.419" data-end="470.46">from Andrew DuPont who said it had a</span> <span data-start="470.46" data-end="478.74">great J's can talk so ask yourself how</span> <span data-start="478.74" data-end="483.32">Singapore do you want javascript to be</span> <span data-start="483.32" data-end="489.24">that's pretty important this is a great</span> <span data-start="489.24" data-end="491.039">quote I really love this quote this is</span> <span data-start="491.039" data-end="493.169">video now this is from 11 years ago I</span> <span data-start="493.169" data-end="496.62">think it's still Wikipedia policy and</span> <span data-start="496.62" data-end="499.289">it's one of their great strengths they</span> <span data-start="499.289" data-end="503.37">have guidelines they have rules but</span> <span data-start="503.37" data-end="506.34">they're very quick to point out if it</span> <span data-start="506.34" data-end="508.38">holds you back if it prevents you</span> <span data-start="508.38" data-end="510.15">creating the site the page you want to</span> <span data-start="510.15" data-end="515.07">create then ignore it again I think we</span> <span data-start="515.07" data-end="516.719">should be adult enough to do the same</span> <span data-start="516.719" data-end="521.13">thing okay so we talked about breaking</span> <span data-start="521.13" data-end="526.079">rules how to break them let's start with</span> <span data-start="526.079" data-end="533.43">my own favor the with statement so to be</span> <span data-start="533.43" data-end="536.399">sure there's a lot to be careful about</span> <span data-start="536.399" data-end="538.05">when using the with statement you</span> <span data-start="538.05" data-end="540.86">shouldn't just use it</span> <span data-start="540.86" data-end="543.38">in just criminally here are a few</span> <span data-start="543.38" data-end="546.24">reasons not to use it</span> <span data-start="546.25" data-end="549.11">accidental clobbering an implicit global</span> <span data-start="549.11" data-end="551.9">creation is very easy to do here's an</span> <span data-start="551.9" data-end="554.12">example looks pretty cool on the face of</span> <span data-start="554.12" data-end="557">it okay we have an object literal we're</span> <span data-start="557" data-end="558.89">using a width to make another object</span> <span data-start="558.89" data-end="563.06">literal like statement two so there we</span> <span data-start="563.06" data-end="566.69">go to update the dragger that we just</span> <span data-start="566.69" data-end="568.22">created you wouldn't really get these</span> <span data-start="568.22" data-end="570.59">two lines next to each other but one of</span> <span data-start="570.59" data-end="573.44">them on the same side but look I</span> <span data-start="573.44" data-end="575.93">accidentally missed named increment as</span> <span data-start="575.93" data-end="578.42">as interval an easy mistake to make</span> <span data-start="578.42" data-end="581.78">and all hell broke loose I've now</span> <span data-start="581.78" data-end="584.42">created a global called interval it's</span> <span data-start="584.42" data-end="586.13">pretty easy to do should be careful</span> <span data-start="586.13" data-end="590.99">about them oh the obligatory ironic</span> <span data-start="590.99" data-end="595.16">footnote is with es5 strict mode they</span> <span data-start="595.16" data-end="596.63">protects against implicit global</span> <span data-start="596.63" data-end="600.14">equations so the biggest egregious fault</span> <span data-start="600.14" data-end="601.28">with the with statement would have</span> <span data-start="601.28" data-end="604.39">actually gone away with es5</span> <span data-start="604.39" data-end="608.2">unfortunately yes five dozen support the</span> <span data-start="608.2" data-end="612.79">statement it's kind of sad to be fair</span> <span data-start="612.79" data-end="615.05">the compiler cost might have been</span> <span data-start="615.05" data-end="616.88">prohibitive because trying to figure out</span> <span data-start="616.88" data-end="618.92">with a with statement whether Global's</span> <span data-start="618.92" data-end="621.74">were being clobbered a lot of browser</span> <span data-start="621.74" data-end="623.12">vendors would have complained that was</span> <span data-start="623.12" data-end="624.68">actually prohibitively expensive so that</span> <span data-start="624.68" data-end="626.45">might be the real reason there isn't a</span> <span data-start="626.45" data-end="632.3">with statement in es5 mode okay carrying</span> <span data-start="632.3" data-end="633.71">on with reasons not to use the with</span> <span data-start="633.71" data-end="636.23">statement it costs of scope closure</span> <span data-start="636.23" data-end="638.54">scope resolution so with adds an extra</span> <span data-start="638.54" data-end="641.45">scope so as you're going up the closure</span> <span data-start="641.45" data-end="643.19">chain looking for the trying to resolve</span> <span data-start="643.19" data-end="646.37">there's an extra that's an extra step to</span> <span data-start="646.37" data-end="649.28">go up in practice I think the way modern</span> <span data-start="649.28" data-end="651.71">browsers work it's an exaggerated</span> <span data-start="651.71" data-end="653.45">concern I don't think it's those</span> <span data-start="653.45" data-end="658.34">browsers down that much and the cost of</span> <span data-start="658.34" data-end="661.85">lake compilation we need to resolve the</span> <span data-start="661.85" data-end="664.52">affective property access and</span> <span data-start="664.52" data-end="666.86">assignments we can't do that at one time</span> <span data-start="666.86" data-end="669.25">so it's no extra compiles compile step</span> <span data-start="669.25" data-end="672.79">again not sure how much that costs</span> <span data-start="672.79" data-end="674.6">maybe sometimes</span> <span data-start="674.6" data-end="678.709">is significant cost turning to the</span> <span data-start="678.709" data-end="684.38">positive why is it useful well you</span> <span data-start="684.38" data-end="686.66">probably know it powers your developer</span> <span data-start="686.66" data-end="689.48">tools that's if you use Chrome or Safari</span> <span data-start="689.48" data-end="696.88">or Firebug here's an example taken from</span> </p>
<p><span data-start="696.88" data-end="700.04">Chrome source code a chrome developer</span> <span data-start="700.04" data-end="702.769">tools source code and actually this is</span> <span data-start="702.769" data-end="705.41">very slightly old they've changes but it</span> <span data-start="705.41" data-end="707.75">was this particular excerpt was a very</span> <span data-start="707.75" data-end="710.6">good illustration of what happens so you</span> <span data-start="710.6" data-end="715.009">may know that the kick console has this</span> <span data-start="715.009" data-end="719.12">command line API which makes available</span> <span data-start="719.12" data-end="721.37">extra functions such as the inspect</span> <span data-start="721.37" data-end="723.29">function things things things like that</span> <span data-start="723.29" data-end="726.38">which you can just use on the console</span> <span data-start="726.38" data-end="729.019">they're all within this object window</span> <span data-start="729.019" data-end="733.009">dot inspector command line API but what</span> <span data-start="733.009" data-end="735.709">if you wanted in the console to override</span> <span data-start="735.709" data-end="738.23">those functions we wanted with the user</span> <span data-start="738.23" data-end="739.97">of the console should be able to clobber</span> <span data-start="739.97" data-end="742.31">those functions this is a very neat and</span> <span data-start="742.31" data-end="744.439">incidentally very safe way to do that</span> <span data-start="744.439" data-end="747.68">you have a with windows statement nested</span> <span data-start="747.68" data-end="750.11">inside a with window inspector command</span> <span data-start="750.11" data-end="752.839">line so absolute priority will be given</span> <span data-start="752.839" data-end="756.25">to the global object and so if you</span> <span data-start="756.25" data-end="758.839">redefine it inspect it'll get to that</span> <span data-start="758.839" data-end="760.579">one first then it'll get to the</span> <span data-start="760.579" data-end="764.12">inspector command line API why is it</span> <span data-start="764.12" data-end="766.99">safe nothing could ever slip through the</span> <span data-start="766.99" data-end="769.6">global object because you're actually</span> <span data-start="769.6" data-end="776.18">including it there another reason it's</span> <span data-start="776.18" data-end="779.509">useful a lot of people like block scope</span> <span data-start="779.509" data-end="781.189">so es6 is going to be introducing</span> <span data-start="781.189" data-end="784.85">support for block scope with statement</span> <span data-start="784.85" data-end="787.339">is a pretty neat and fairly safe way to</span> <span data-start="787.339" data-end="792.56">replicate block scope let me show you by</span> <span data-start="792.56" data-end="796.399">illustration so you've all seen this one</span> <span data-start="796.399" data-end="799.55">right this is like a cautionary tale of</span> <span data-start="799.55" data-end="801.61">how closures don't always work so</span> <span data-start="801.61" data-end="804.26">because there's only one scope here the</span> <span data-start="804.26" data-end="806.18">variable I is being shared through each</span> <span data-start="806.18" data-end="808.46">iteration which means the</span> <span data-start="808.46" data-end="810.77">statement ends up pointing to know that</span> <span data-start="810.77" data-end="814.64">banks every single alert alerts knows</span> <span data-start="814.64" data-end="820.19">length length at the end the traditional</span> <span data-start="820.19" data-end="824.029">way to solve that is with a function</span> <span data-start="824.029" data-end="826.97">closure right you've all seen this I'm</span> <span data-start="826.97" data-end="829.459">sure so now we're introducing a scope</span> <span data-start="829.459" data-end="833">inside a scope so I is unique each eye</span> <span data-start="833" data-end="834.86">is unique within the function scope</span> <span data-start="834.86" data-end="836.39">there we go it has then everything works</span> <span data-start="836.39" data-end="842.39">great it's a little bit clunky it's not</span> <span data-start="842.39" data-end="844.85">very intuitive and people coming from</span> <span data-start="844.85" data-end="848.899">other languages don't really think it's</span> <span data-start="848.899" data-end="852.38">a bit over the top to do this so you</span> <span data-start="852.38" data-end="854.42">could have a with statement and here's</span> <span data-start="854.42" data-end="857.209">the key another key to using within a</span> <span data-start="857.209" data-end="860.54">safe way is don't as available where</span> <span data-start="860.54" data-end="862.07">available we don't know what's in there</span> <span data-start="862.07" data-end="864.17">person explicit hash so you know what's</span> <span data-start="864.17" data-end="869.8">there plus I as a hash then you can only</span> <span data-start="869.8" data-end="873.5">own it so there's no danger of a same of</span> <span data-start="873.5" data-end="875.39">a sane person trying to set anything</span> <span data-start="875.39" data-end="877.16">else in this with loop other than I</span> <span data-start="877.16" data-end="878.48">because it's clear that's all that's</span> <span data-start="878.48" data-end="881.089">actually there so nothing will be</span> <span data-start="881.089" data-end="884.36">accidentally clobbered and it's kind of</span> <span data-start="884.36" data-end="885.589">like wait I think compared to the</span> <span data-start="885.589" data-end="888.8">function thing and actually to be honest</span> <span data-start="888.8" data-end="891.589">it's slightly slower but so it depends</span> <span data-start="891.589" data-end="894.47">if performances are concerned to you but</span> </p>
<p><span data-start="894.47" data-end="899.14">I think it's a very neat illustration</span> <span data-start="899.14" data-end="902.39">and oh by the way there was a let</span> <span data-start="902.39" data-end="904.85">statement coming in es6 but like we know</span> <span data-start="904.85" data-end="906.08">that's not going to be there on all</span> <span data-start="906.08" data-end="908.39">browsers for quite a long time so this</span> <span data-start="908.39" data-end="912.29">is a kind of standby I guess the eval</span> <span data-start="912.29" data-end="915.29">statement everyone's other favorite</span> <span data-start="915.29" data-end="919.61">thing you should never do why shouldn't</span> <span data-start="919.61" data-end="921.62">you do it well we all know about code</span> <span data-start="921.62" data-end="924.079">ejection loophole if a user gets or if</span> <span data-start="924.079" data-end="925.88">some party gets their hands on the</span> <span data-start="925.88" data-end="927.38">argument the eval argument they can</span> <span data-start="927.38" data-end="931.99">invoke any code they want to also</span> <span data-start="931.99" data-end="935.06">prevents closure optimization because a</span> <span data-start="935.06" data-end="936.709">lot of modern browsers all modern</span> <span data-start="936.709" data-end="939.189">browsers I think</span> <span data-start="939.189" data-end="942.139">that they they will only persist those</span> <span data-start="942.139" data-end="944.029">variables on the outer scope that have</span> <span data-start="944.029" data-end="945.919">to be persisted so they'll look what's</span> <span data-start="945.919" data-end="947.6">reference in the end the innocent the</span> <span data-start="947.6" data-end="949.579">inner scope with a value don't really</span> <span data-start="949.579" data-end="950.959">know what you're going to be referencing</span> <span data-start="950.959" data-end="956.209">there so it inhibits optimization I'm</span> <span data-start="956.209" data-end="959.449">not sure with chrome and the latest</span> </p>
<p><span data-start="959.449" data-end="961.269">Firefox how much of a problem that is</span> <span data-start="961.269" data-end="964.819">but anyway that's something you don't</span> <span data-start="964.819" data-end="968.66">get if you have an eval statement and</span> <span data-start="968.66" data-end="971.089">again as with the with statement the</span> <span data-start="971.089" data-end="975.589">cost of lake compilation so you have to</span> <span data-start="975.589" data-end="980.149">compile at one time basically why is it</span> <span data-start="980.149" data-end="982.699">useful most obvious one is when there's</span> <span data-start="982.699" data-end="987.579">no JSON path so like ie7 for example</span> <span data-start="987.579" data-end="992.209">there's no ability to have a native JSON</span> <span data-start="992.209" data-end="998.089">pass in the browser these are a couple</span> <span data-start="998.089" data-end="1003.299">of accepted answers from Stack Overflow</span> <span data-start="1003.299" data-end="1006.22">basically saying the same thing so the</span> <span data-start="1006.22" data-end="1008.199">effect that you should never use avowal</span> <span data-start="1008.199" data-end="1011.139">it's really unsafe used JSON or gets</span> <span data-start="1011.139" data-end="1013.449">much much safer okay</span> <span data-start="1013.449" data-end="1016.119">let's have a look at json dot org well</span> <span data-start="1016.119" data-end="1018.16">if your browser didn't actually support</span> <span data-start="1018.16" data-end="1026.159">the about JSON pass it uses eval so</span> <span data-start="1026.159" data-end="1028.359">this is why you should watch Stack</span> </p>
<p><span data-start="1028.359" data-end="1030.879">Overflow because often accepted answers</span> <span data-start="1030.879" data-end="1037.059">are just completely wrong why else is it</span> <span data-start="1037.059" data-end="1039.789">useful it's how your console works the</span> <span data-start="1039.789" data-end="1041.169">same as the with statements so you can</span> <span data-start="1041.169" data-end="1049.149">try this now go to it's been been or to</span> <span data-start="1049.149" data-end="1051.809">any WebKit console run this code</span> <span data-start="1051.809" data-end="1055.299">anything that you evaluate the eval</span> <span data-start="1055.299" data-end="1056.979">segment is what actually caused it this</span> <span data-start="1056.979" data-end="1058.96">is this is just saying what is the color</span> <span data-start="1058.96" data-end="1061.96">of the function the eval same because</span> <span data-start="1061.96" data-end="1063.22">they use the eval statement for</span> <span data-start="1063.22" data-end="1064.899">everything it's used every time you run</span> <span data-start="1064.899" data-end="1069.309">something here's a quote I really like</span> <span data-start="1069.309" data-end="1074.039">from John Woo I think of a query time</span> <span data-start="1074.039" data-end="1077.559">it's like the sensible antidote to the</span> </p>
<p><span data-start="1077.559" data-end="1081.129">Crockford ism it's like basically he</span> <span data-start="1081.129" data-end="1084.099">says he's island where the trivialized</span> <span data-start="1084.099" data-end="1085.989">misuse and outright condemned by most</span> <span data-start="1085.989" data-end="1087.729">JavaScript programmers but when used</span> <span data-start="1087.729" data-end="1089.019">appropriately they allow for the</span> <span data-start="1089.019" data-end="1090.729">creation of some fantastic pieces of</span> <span data-start="1090.729" data-end="1096.549">code that wouldn't be possible otherwise</span> <span data-start="1096.549" data-end="1100.599">I think that's really cool and I wish</span> <span data-start="1100.599" data-end="1104.139">more people would pay attention to this</span> <span data-start="1104.139" data-end="1108.46">kind of thing this is the the cousin of</span> <span data-start="1108.46" data-end="1111.879">the avowal statement slightly nicer</span> <span data-start="1111.879" data-end="1114.34">cousin in most people's view although</span> <span data-start="1114.34" data-end="1115.629">I've heard it said it's only nicer</span> <span data-start="1115.629" data-end="1117.519">because it isn't an eval statement</span> <span data-start="1117.519" data-end="1120.099">therefore you can say you're not using</span> <span data-start="1120.099" data-end="1121.989">eval but you actually yeah that's not</span> <span data-start="1121.989" data-end="1123.129">really true</span> <span data-start="1123.129" data-end="1125.44">it's not just an avowal in disguise it's</span> <span data-start="1125.44" data-end="1128.44">much more besides that in particular it</span> <span data-start="1128.44" data-end="1131.109">always evaluates code in the child of</span> <span data-start="1131.109" data-end="1133.389">the global scope so it creates a brand</span> <span data-start="1133.389" data-end="1136.509">new scope every time to execute in which</span> <span data-start="1136.509" data-end="1138.82">is one down from the global global scope</span> <span data-start="1138.82" data-end="1140.889">which means it only has closure</span> <span data-start="1140.889" data-end="1143.08">reference to the global scope and to</span> <span data-start="1143.08" data-end="1146.47">nothing else and we'll see in a second</span> <span data-start="1146.47" data-end="1149.499">why that's a good thing or can be a good</span> <span data-start="1149.499" data-end="1152.679">thing in the right context this look a</span> <span data-start="1152.679" data-end="1155.789">couple of cases ways you saw actually</span> <span data-start="1155.789" data-end="1158.669">talking about what I just said</span> <span data-start="1158.669" data-end="1161.009">you know you're evaluated code will</span> <span data-start="1161.009" data-end="1162.72">always run in the same scope or not the</span> <span data-start="1162.72" data-end="1164.97">same scope but an equivalent scope every</span> <span data-start="1164.97" data-end="1170.97">time now it's pretty bad anyway if the</span> <span data-start="1170.97" data-end="1173.309">party gets hold of your a valid argument</span> <span data-start="1173.309" data-end="1176.34">but at least with function you function</span> <span data-start="1176.34" data-end="1178.32">only the Global's are exposed they can't</span> <span data-start="1178.32" data-end="1180.84">get deep down into the local code</span> <span data-start="1180.84" data-end="1182.34">because they'll never be available in</span> <span data-start="1182.34" data-end="1186.6">the in the scope chain and finally</span> <span data-start="1186.6" data-end="1188.429">there's no closure optimization concerns</span> <span data-start="1188.429" data-end="1192.72">because the only variables that in the</span> <span data-start="1192.72" data-end="1194.129">scope chain are the global variables</span> <span data-start="1194.129" data-end="1195.869">which are there the whole time persists</span> <span data-start="1195.869" data-end="1197.879">they're always persisted so there's no</span> <span data-start="1197.879" data-end="1202.71">issues there it's used in J Curry's past</span> <span data-start="1202.71" data-end="1205.35">past Jason which is a kind of variation</span> <span data-start="1205.35" data-end="1211.23">on Jason orgs version it uses the eval</span> <span data-start="1211.23" data-end="1214.009">it substitutes the eval for function</span> <span data-start="1214.009" data-end="1216.029">constructor as we can see here otherwise</span> <span data-start="1216.029" data-end="1218.97">it's pretty much the same and this is</span> <span data-start="1218.97" data-end="1221.009">again presumably to restrict access to</span> <span data-start="1221.009" data-end="1223.83">local variables and because at least in</span> <span data-start="1223.83" data-end="1226.7">theory less scope chaining means</span> <span data-start="1226.7" data-end="1237.96">performance where else is it used</span> <span data-start="1237.96" data-end="1240.33">underscore.js has a pretty pretty nifty</span> <span data-start="1240.33" data-end="1248.399">string interpolation method and it uses</span> <span data-start="1248.399" data-end="1251.879">our favorite with statement first what</span> <span data-start="1251.879" data-end="1256.47">this interpretation lets you do is you</span> <span data-start="1256.47" data-end="1259.139">can optionally give a context in which</span> <span data-start="1259.139" data-end="1260.97">you want the string to be interpolated</span> <span data-start="1260.97" data-end="1264.929">it to be evaluated in if you don't give</span> <span data-start="1264.929" data-end="1267.21">a context it'll just create an object</span> <span data-start="1267.21" data-end="1269.249">hash here so like the run it in the</span> <span data-start="1269.249" data-end="1270.779">given context or just create an object</span> <span data-start="1270.779" data-end="1273.989">hash in the latter case with an object</span> <span data-start="1273.989" data-end="1279.269">hash it will then use it in the new</span> <span data-start="1279.269" data-end="1281.309">function constructor so the default hash</span> <span data-start="1281.309" data-end="1284.249">doesn't run in your local scope it runs</span> <span data-start="1284.249" data-end="1286.169">in the new function scope which makes a</span> <span data-start="1286.169" data-end="1287.7">lot of sense because since you clear the</span> <span data-start="1287.7" data-end="1289.259">stage you don't care what scope it runs</span> <span data-start="1289.259" data-end="1291.9">in okay I'm going to run it in</span> <span data-start="1291.9" data-end="1295.02">quickest and safest possible go so I</span> <span data-start="1295.02" data-end="1296.46">think that's I think that's cool and</span> <span data-start="1296.46" data-end="1298.95">that's a good example of where with and</span> <span data-start="1298.95" data-end="1300.9">the new function the function</span> <span data-start="1300.9" data-end="1309.03">constructor work quite nicely running a</span> <span data-start="1309.03" data-end="1310.71">bit short on time so I'm going to speed</span> <span data-start="1310.71" data-end="1314.31">up a bit now equals equals how many</span> <span data-start="1314.31" data-end="1319.5">people use it okay that's pretty good</span> <span data-start="1319.5" data-end="1323.13">not as good as I hoped but pretty good</span> <span data-start="1323.13" data-end="1324.63">way not meant to use it</span> <span data-start="1324.63" data-end="1327.54">coerces operands to the same type so if</span> <span data-start="1327.54" data-end="1329.46">you have a string and an end number</span> <span data-start="1329.46" data-end="1333">it'll it'll curse then what other way oh</span> <span data-start="1333" data-end="1334.65">that's it actually</span> <span data-start="1334.65" data-end="1338.97">that's the only reason so why is it</span> <span data-start="1338.97" data-end="1341.13">useful oh because it coerces operands at</span> <span data-start="1341.13" data-end="1345.21">the same time like sometimes you really</span> <span data-start="1345.21" data-end="1346.92">don't care if the user was input a</span> <span data-start="1346.92" data-end="1350.31">string or and number if it's quote — or</span> <span data-start="1350.31" data-end="1353.55">- or — you don't care does it is it</span> <span data-start="1353.55" data-end="1358.02">gonna evaluate — - it's it's useful if</span> <span data-start="1358.02" data-end="1359.22">you are doing that you should put a</span> <span data-start="1359.22" data-end="1362.07">comment no to let people know that's why</span> <span data-start="1362.07" data-end="1363.75">you're using equals equals because</span> <span data-start="1363.75" data-end="1368.52">otherwise it might confuse them and then</span> <span data-start="1368.52" data-end="1370.95">there's this thing  is equal to</span> <span data-start="1370.95" data-end="1374.72">know which is pretty handy because</span> </p>
<p><span data-start="1374.72" data-end="1378.12">JavaScript has to know things it has</span> <span data-start="1378.12" data-end="1381.27">null and  and some people do FX</span> <span data-start="1381.27" data-end="1383.37">triple equals null or X triple equals</span> <span data-start="1383.37" data-end="1387.63">but that's a mouthful and is</span> <span data-start="1387.63" data-end="1389.7">logically identify it logically</span> <span data-start="1389.7" data-end="1392.73">identical to X equals equal so now and</span> <span data-start="1392.73" data-end="1394.77">you see a lot of libraries like jQuery</span> <span data-start="1394.77" data-end="1397.02">use the x equals equals no you know and</span> <span data-start="1397.02" data-end="1399.33">they use that the whole time just makes</span> <span data-start="1399.33" data-end="1401.43">a lot more sense it does exactly the</span> <span data-start="1401.43" data-end="1407.4">same thing and also if it's obvious why</span> <span data-start="1407.4" data-end="1409.59">the hell are you using triple equal like</span> <span data-start="1409.59" data-end="1412.4">type of is always a string type of</span> <span data-start="1412.4" data-end="1414.72">result of type of can never be anything</span> <span data-start="1414.72" data-end="1419.28">other than a string so type of something</span> <span data-start="1419.28" data-end="1421.44">equals equals function well like yeah</span> <span data-start="1421.44" data-end="1424.269">you know might as well do too</span> <span data-start="1424.269" data-end="1426.549">to an equals equals similar length and</span> <span data-start="1426.549" data-end="1431.559">indexable all plays a number and I</span> <span data-start="1431.559" data-end="1432.999">actually I mean this is a matter of</span> <span data-start="1432.999" data-end="1435.94">style but I actually prefer equals</span> <span data-start="1435.94" data-end="1437.499">equals in the sense because it's more</span> <span data-start="1437.499" data-end="1439.599">declarative I'm being very transparent</span> <span data-start="1439.599" data-end="1441.489">and saying to the read of my code I</span> <span data-start="1441.489" data-end="1444.039">actually know these are the same things</span> <span data-start="1444.039" data-end="1446.589">that's why I'm using using an equals</span> <span data-start="1446.589" data-end="1452.619">equals comparator or writer if I put</span> <span data-start="1452.619" data-end="1454.239">triple equals it suggests I don't</span> <span data-start="1454.239" data-end="1457.109">actually know it's the same type</span> <span data-start="1457.109" data-end="1458.739">personal preference</span> <span data-start="1458.739" data-end="1463.029">that's how I like to do it oh and in his</span> <span data-start="1463.029" data-end="1466.059">number two in our obligatory ironic</span> <span data-start="1466.059" data-end="1468.339">footnote series a lot of the people who</span> <span data-start="1468.339" data-end="1471.07">avoid equals equals with impunity they</span> <span data-start="1471.07" data-end="1473.019">use if something the whole time</span> <span data-start="1473.019" data-end="1475.839">well that's coercion too so it's like</span> <span data-start="1475.839" data-end="1478.089">why is one type of coercion okay and the</span> <span data-start="1478.089" data-end="1481.059">other time not and it's not even the</span> <span data-start="1481.059" data-end="1481.839">same coercion</span> <span data-start="1481.839" data-end="1485.109">so either they've understood the if</span> <span data-start="1485.109" data-end="1487.239">coercion but not the equals equals one</span> <span data-start="1487.239" data-end="1489.099">not sure why you would want to take the</span> <span data-start="1489.099" data-end="1491.139">time to understand one and not the other</span> <span data-start="1491.139" data-end="1493.899">or they don't understand any of coercion</span> <span data-start="1493.899" data-end="1496.059">but because Crockford said it's okay</span> <span data-start="1496.059" data-end="1498.039">they're just basically going ahead and</span> <span data-start="1498.039" data-end="1500.649">using it and here's an example of why</span> <span data-start="1500.649" data-end="1502.239">they're two coercion types are not the</span> <span data-start="1502.239" data-end="1507.159">same so you know if potato evaluates the</span> <span data-start="1507.159" data-end="1508.959">true but actually potato is not equal</span> <span data-start="1508.959" data-end="1512.799">equals true so there we go</span> <span data-start="1512.799" data-end="1516.279">array constructor so right you're not</span> <span data-start="1516.279" data-end="1518.469">supposed to create arrays this is not</span> <span data-start="1518.469" data-end="1523.869">how he's supposed to write but what</span> <span data-start="1523.869" data-end="1525.94">about this this is this is the most</span> <span data-start="1525.94" data-end="1527.589">beautiful thing and you need the array</span> <span data-start="1527.589" data-end="1531.249">constructor to do this you probably seen</span> <span data-start="1531.249" data-end="1533.409">this this is from prototype J s and it's</span> <span data-start="1533.409" data-end="1535.299">a way to repeat a string X number of</span> <span data-start="1535.299" data-end="1539.169">times and it basically creates an empty</span> <span data-start="1539.169" data-end="1543.19">array of x plus 1 x and uses as your</span> <span data-start="1543.19" data-end="1545.079">glue as the glue the string that you</span> <span data-start="1545.079" data-end="1549.849">that you provided to it I think it's</span> <span data-start="1549.849" data-end="1552.669">ultra cool and it makes me really sad</span> <span data-start="1552.669" data-end="1554.859">that some people will never use this or</span> <span data-start="1554.859" data-end="1557.36">we never want to see this in their code</span> <span data-start="1557.36" data-end="1559.07">because they filed a rule that somebody</span> <span data-start="1559.07" data-end="1561.05">once said and they never really took the</span> <span data-start="1561.05" data-end="1563.72">time to understand it so there we go</span> </p>
<p><span data-start="1563.72" data-end="1567.25">Oh wrong direction</span> <span data-start="1567.25" data-end="1570.74">so people that both these rules also</span> <span data-start="1570.74" data-end="1574.4">like to break these rules and I'm</span> <span data-start="1574.4" data-end="1575.93">running out of times way too many rules</span> <span data-start="1575.93" data-end="1577.04">so I'm going to be really really quick</span> <span data-start="1577.04" data-end="1578.81">but I just want to make it clear these</span> <span data-start="1578.81" data-end="1581.3">aren't the only rules so again Andrew</span> <span data-start="1581.3" data-end="1583.64">DuPont two years ago J's conf gave the</span> <span data-start="1583.64" data-end="1585.98">best talk about extending extending</span> <span data-start="1585.98" data-end="1588.02">Native prototypes just to quickly say</span> <span data-start="1588.02" data-end="1590.3">sometimes it's sensible I think es5</span> <span data-start="1590.3" data-end="1592.3">shims are one case worth sensitive</span> <span data-start="1592.3" data-end="1595.73">sensible has earned poverty on for in</span> <span data-start="1595.73" data-end="1597.95">well you know if you create at the house</span> <span data-start="1597.95" data-end="1599.9">your self and you didn't instant extend</span> <span data-start="1599.9" data-end="1601.82">it and you didn't extend object</span> <span data-start="1601.82" data-end="1604.01">prototype there's no way you could be</span> <span data-start="1604.01" data-end="1605.84">bringing anything else into your to your</span> <span data-start="1605.84" data-end="1608.78">to your iteration and I bet you nine</span> <span data-start="1608.78" data-end="1610.22">times out of ten when you do a foreign</span> <span data-start="1610.22" data-end="1612.47">iteration that is exactly the case the</span> <span data-start="1612.47" data-end="1615.47">other thing is what's so bad about photo</span> <span data-start="1615.47" data-end="1615.95">types</span> <span data-start="1615.95" data-end="1618.4">sometimes we want the prototype I've</span> </p>
<p><span data-start="1618.4" data-end="1622.18">I've done four in loops where I want</span> <span data-start="1622.18" data-end="1624.92">prototype objects to leak into my</span> <span data-start="1624.92" data-end="1628.58">foreign it for in iteration two so it's</span> <span data-start="1628.58" data-end="1630.05">all a question of what you actually want</span> <span data-start="1630.05" data-end="1632.51">in the iteration put all of our</span> <span data-start="1632.51" data-end="1634.31">statements at the top well good advice</span> <span data-start="1634.31" data-end="1635.99">most the time but in for loops it's</span> <span data-start="1635.99" data-end="1637.46">frankly unintuitive because you're</span> <span data-start="1637.46" data-end="1639.17">looking for where it was defined uh but</span> <span data-start="1639.17" data-end="1640.82">there's no reason to ever define it up</span> <span data-start="1640.82" data-end="1644.63">at the top in a for loop don't declare a</span> <span data-start="1644.63" data-end="1645.65">function after you use it this is</span> <span data-start="1645.65" data-end="1647.84">basically the hoisting thing like</span> <span data-start="1647.84" data-end="1649.94">function declarations to function</span> <span data-start="1649.94" data-end="1652.1">hoisting I start let's find it really</span> <span data-start="1652.1" data-end="1653.66">useful to hide the implementation</span> <span data-start="1653.66" data-end="1655.34">details further down the page where the</span> <span data-start="1655.34" data-end="1657.08">person looking at my code might not care</span> <span data-start="1657.08" data-end="1658.49">what the implementation is but they like</span> <span data-start="1658.49" data-end="1660.22">see where is it</span> <span data-start="1660.22" data-end="1663.56">use how's the function and I find that</span> <span data-start="1663.56" data-end="1667.91">actually pretty good comma operator as</span> <span data-start="1667.91" data-end="1671.81">chairs so I basically both the essay on</span> <span data-start="1671.81" data-end="1674.09">this one I could give you a hundred</span> <span data-start="1674.09" data-end="1675.98">reasons to use it but I'll just give you</span> <span data-start="1675.98" data-end="1678.59">one if you want to use multiple</span> <span data-start="1678.59" data-end="1680.33">expressions where the syntax the only</span> <span data-start="1680.33" data-end="1682.19">expects a single one like second or</span> <span data-start="1682.19" data-end="1685.22">third arguments of a whole loop really</span> <span data-start="1685.22" data-end="1688.7">good examples of that and the one I hate</span> <span data-start="1688.7" data-end="1690.23">is always pass</span> <span data-start="1690.23" data-end="1692.24">10 to pass in I mean unless you're</span> <span data-start="1692.24" data-end="1693.98">starting with zero or NX there's no</span> <span data-start="1693.98" data-end="1698.12">reason to have to pass 10 to a person so</span> <span data-start="1698.12" data-end="1701.48">in some way it's okay to break a rule if</span> <span data-start="1701.48" data-end="1705.02">you understand why the rule exists in</span> <span data-start="1705.02" data-end="1706.16">the first place</span> <span data-start="1706.16" data-end="1709.13">you can mitigate or safely ignore in</span> <span data-start="1709.13" data-end="1712.34">other words the concerns don't apply to</span> <span data-start="1712.34" data-end="1715.12">what you're trying to use it for and</span> <span data-start="1715.12" data-end="1718.01">maybe most importantly it adds something</span> <span data-start="1718.01" data-end="1720.95">like there's a reason to break the rule</span> <span data-start="1720.95" data-end="1723.2">and here I might mention semicolons I</span> <span data-start="1723.2" data-end="1727.52">think semicolons contrary to what you</span> <span data-start="1727.52" data-end="1728.69">might read they're pretty easy to</span> <span data-start="1728.69" data-end="1731.72">understand why and why and how automatic</span> <span data-start="1731.72" data-end="1735.08">semicolon insertion works I'm fine with</span> <span data-start="1735.08" data-end="1737.6">people not using them I personally don't</span> <span data-start="1737.6" data-end="1738.98">leave them out because it doesn't add</span> <span data-start="1738.98" data-end="1740.63">anything either it's very easy to put a</span> <span data-start="1740.63" data-end="1742.61">semicolon in this case sticking to the</span> <span data-start="1742.61" data-end="1744.049">convention doesn't really cost me any</span> <span data-start="1744.049" data-end="1746.6">anything leaving out is not really gonna</span> <span data-start="1746.6" data-end="1749.5">add anything to the code so there we go</span> <span data-start="1749.5" data-end="1752">this is a quote from an author I don't</span> <span data-start="1752" data-end="1752.99">know anything about the author but I</span> <span data-start="1752.99" data-end="1756.74">really like the quote and I think it</span> <span data-start="1756.74" data-end="1758.24">really sums up pretty nicely what I'm</span> <span data-start="1758.24" data-end="1761">trying to say which is become an expert</span> <span data-start="1761" data-end="1762.62">at the rules then break them with</span> <span data-start="1762.62" data-end="1768.11">creativity and style and like the TLDR</span> <span data-start="1768.11" data-end="1770.809">take away from this if you didn't listen</span> <span data-start="1770.809" data-end="1775.86">to anything else just listen to this is</span> <span data-start="1775.87" data-end="1778.99">pretty good and if you can't be good be</span> <span data-start="1778.99" data-end="1801.97">careful</span> <span data-start="1801.98" data-end="1804.669">so we're only a little bit over time</span> <span data-start="1804.669" data-end="1808.01">there is ten minutes till next break or</span> <span data-start="1808.01" data-end="1809.84">do we have maybe I would think this is</span> <span data-start="1809.84" data-end="1810.95">such a great opportunity to have this</span> <span data-start="1810.95" data-end="1813.049">guy speaking to answer questions and I</span> <span data-start="1813.049" data-end="1814.25">know there's something there I mean</span> <span data-start="1814.25" data-end="1816.2">personally I would have questions that</span> </p>
<p><span data-start="1816.2" data-end="1817.13">I'd want to ask him about stuff like</span> <span data-start="1817.13" data-end="1820.549">this but do we have questions if you</span> <span data-start="1820.549" data-end="1822.62">want to leave not rude at all go out and</span> <span data-start="1822.62" data-end="1825.139">you can you know have a beverage but if</span> <span data-start="1825.139" data-end="1826.61">we have questions maybe entertain one or</span> <span data-start="1826.61" data-end="1827.72">two while we have them here is that cool</span> <span data-start="1827.72" data-end="1842.899">I see one in the back great talk I agree</span> <span data-start="1842.899" data-end="1845.059">with you on a lot of this I think most</span> <span data-start="1845.059" data-end="1847.19">of these rules exists for teams where</span> <span data-start="1847.19" data-end="1848.539">the team is fairly large and not</span> <span data-start="1848.539" data-end="1850.25">everybody's a JavaScript programmer</span> <span data-start="1850.25" data-end="1853.13">don't you think that as well yes I was</span> <span data-start="1853.13" data-end="1854.6">gonna add a slide about that I did</span> <span data-start="1854.6" data-end="1856.1">actually have a slide about that and I</span> <span data-start="1856.1" data-end="1856.909">took it out</span> </p>
<p><span data-start="1856.909" data-end="1860.419">I think teamwork is a good idea to have</span> <span data-start="1860.419" data-end="1863.72">some conventions that the whole team</span> <span data-start="1863.72" data-end="1865.639">should follow and I guess all I'm saying</span> <span data-start="1865.639" data-end="1868.34">is yeah sure have those conventions but</span> <span data-start="1868.34" data-end="1870.049">decide amongst yourselves what those</span> <span data-start="1870.049" data-end="1872.179">conventions should be don't listen to</span> <span data-start="1872.179" data-end="1873.98">what other people say understand the</span> <span data-start="1873.98" data-end="1876.08">rules as a team understand how you want</span> <span data-start="1876.08" data-end="1881.179">to employ them anyone else all right</span> <span data-start="1881.179" data-end="1886.56">cool thank you so much</span> </p>
</section>