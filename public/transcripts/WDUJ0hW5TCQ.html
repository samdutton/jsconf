<section>
<p><span data-start="5.45" data-end="7.49">what you want to do is you want to get</span> <span data-start="7.49" data-end="10.66">this thing that is in your swag bag</span> <span data-start="10.66" data-end="13.34">assembled if you are like me and</span> <span data-start="13.34" data-end="16.16">basically incapable of using your</span> <span data-start="16.16" data-end="18.11">fingers for anything but typing and</span> <span data-start="18.11" data-end="22.64">holding food in Switzerland that's</span> <span data-start="22.64" data-end="24.759">really handy to be able to hold food</span> <span data-start="24.759" data-end="27.5">traditions and stuff anyway so you can</span> <span data-start="27.5" data-end="29.66">assemble it right now or you're going to</span> <span data-start="29.66" data-end="31.82">assemble it later when I assemble it in</span> <span data-start="31.82" data-end="35.149">front of you so gather around kits if</span> <span data-start="35.149" data-end="37.52">you need some help tinkering right um</span> <span data-start="37.52" data-end="39.83">with that out of the way so how does</span> <span data-start="39.83" data-end="42.05">that this begin and I'd like to sort of</span> <span data-start="42.05" data-end="44.21">as this is the last call I'd like to</span> <span data-start="44.21" data-end="46.93">sort of go back in history of it so in</span> <span data-start="46.93" data-end="50.21">2011 was so a very very small meetup</span> <span data-start="50.21" data-end="52.73">group in effort which is eastern Germany</span> <span data-start="52.73" data-end="54.67">where i lived at the time for studies</span> <span data-start="54.67" data-end="58.04">invited me to speak about some random</span> <span data-start="58.04" data-end="61.37">stuff i think it was html5 as a flesh</span> <span data-start="61.37" data-end="63.5">replacement or something and that was</span> <span data-start="63.5" data-end="65.59">brilliant and that got me into sort of</span> <span data-start="65.59" data-end="68.149">in delete this entire community thing</span> <span data-start="68.149" data-end="70.729">and then in November I think I got an</span> <span data-start="70.729" data-end="74.81">email with the headline Jace conv us</span> <span data-start="74.81" data-end="78.17">last call speaker invitation and I was</span> <span data-start="78.17" data-end="79.969">in public but that didn't prevent me</span> <span data-start="79.969" data-end="86.03">going full bananas about that so thank</span> <span data-start="86.03" data-end="88.1">you so much for putting up this one and</span> </p>
<p><span data-start="88.1" data-end="90.109">I like to take this opportunity to thank</span> <span data-start="90.109" data-end="92.359">all the communities that I got to visit</span> <span data-start="92.359" data-end="94.579">over the last couple of years and all</span> <span data-start="94.579" data-end="97.31">the people I met and all the fun we had</span> <span data-start="97.31" data-end="100.24">and all the the tough decisions and</span> <span data-start="100.24" data-end="104.899">chats we had and right with this one</span> <span data-start="104.899" data-end="106.52">we're going to dive in into the actual</span> <span data-start="106.52" data-end="107.779">topic so we're going to talk about</span> <span data-start="107.779" data-end="110.63">virtual reality and here are two</span> <span data-start="110.63" data-end="115.49">examples the the woman has fun and it's</span> <span data-start="115.49" data-end="117.2">pretty astound because she thinks she</span> <span data-start="117.2" data-end="119.779">stands right below a chopper over some</span> <span data-start="119.779" data-end="121.729">random city and then there's this other</span> <span data-start="121.729" data-end="124.039">guy who walks through an apartment that</span> <span data-start="124.039" data-end="127.999">doesn't even exist yet so you can see</span> <span data-start="127.999" data-end="130.19">from the actions at least of the lady</span> <span data-start="130.19" data-end="131.75">the guy is a Swiss guy so he has zero</span> <span data-start="131.75" data-end="137.28">facial expressions just like me that</span> <span data-start="137.28" data-end="140.85">true anyway so it's really amazing and</span> <span data-start="140.85" data-end="144.36">it actually gets it sun sets it set free</span> <span data-start="144.36" data-end="147.12">a lot of emotions and feelings because</span> <span data-start="147.12" data-end="149.28">it tricks a very low level of our brain</span> <span data-start="149.28" data-end="151.709">activity to think that we are in a place</span> <span data-start="151.709" data-end="155.28">that we actually aren't and originally</span> <span data-start="155.28" data-end="157.29">this demo was designed for a small</span> <span data-start="157.29" data-end="159.42">number of people because I thought who's</span> <span data-start="159.42" data-end="161.489">gonna have a cardboard I mean come on a</span> <span data-start="161.489" data-end="163.02">lot of people haven't even heard about</span> <span data-start="163.02" data-end="165.54">that so I tested with six people and it</span> <span data-start="165.54" data-end="168.239">was working nicely and like ah I'm done</span> <span data-start="168.239" data-end="170.28">so i can just you know pack for</span> <span data-start="170.28" data-end="171.81">cardboards and have a little live demo</span> <span data-start="171.81" data-end="174.66">with a few selected volunteers now the</span> <span data-start="174.66" data-end="177.17">situation is slightly different and</span> <span data-start="177.17" data-end="179.73">let's hope it doesn't end like it ended</span> <span data-start="179.73" data-end="185.269">in the movie right so without much more</span> <span data-start="185.269" data-end="189.48">other talking here is how you assemble</span> <span data-start="189.48" data-end="191.79">this one pull it from the cover it's</span> <span data-start="191.79" data-end="193.14">going to be a bit like these airport</span> <span data-start="193.14" data-end="195.9">airline dance right you pull it out of</span> <span data-start="195.9" data-end="199.92">the cover you can put the cover away for</span> <span data-start="199.92" data-end="203.19">later reuse of the cardboard device open</span> <span data-start="203.19" data-end="208.079">up the lib that wasn't so smooth right</span> <span data-start="208.079" data-end="215.13">and get this flap over fold it over fix</span> <span data-start="215.13" data-end="220.68">it with the velcro to both sides take</span> <span data-start="220.68" data-end="223.92">your phone go to that web address and I</span> <span data-start="223.92" data-end="225.959">really hope it doesn't crash or we</span> <span data-start="225.959" data-end="229.519">satisfy saturate the entire uplink and</span> <span data-start="229.519" data-end="234.66">now we get this so if you can't use your</span> <span data-start="234.66" data-end="236.31">phone or if it doesn't work with your</span> <span data-start="236.31" data-end="238.35">cardboard device you can check it out</span> <span data-start="238.35" data-end="240.66">here as well so we click to start the</span> <span data-start="240.66" data-end="244.07">demo which connects us to the server</span> <span data-start="244.07" data-end="247.14">that then goes into loading forever</span> <span data-start="247.14" data-end="249.6">because we do that it will saturate the</span> <span data-start="249.6" data-end="251.76">the upload oh god there's a lot of</span> <span data-start="251.76" data-end="255.269">people already and you put in the the</span> <span data-start="255.269" data-end="258.78">phone in here and you can pick it up</span> <span data-start="258.78" data-end="261.39">like that and ladies and gentlemen a</span> <span data-start="261.39" data-end="265.009">moment of silence I'm going in</span> <span data-start="265.009" data-end="270.3">and as all the horses oh my god and you</span> <span data-start="270.3" data-end="278.61">can move like me so let's see wow that's</span> <span data-start="278.61" data-end="287.129">a ton of people horse jas multi-user hi</span> <span data-start="287.129" data-end="292.409">there how's it going some people are</span> <span data-start="292.409" data-end="294.689">having trouble moving I guess or we ask</span> <span data-start="294.689" data-end="305.449">me screwing up the network ah alright</span> <span data-start="305.449" data-end="314.849">that was it um no have fun but please so</span> <span data-start="314.849" data-end="317.719">that has been at least 20 people Wow</span> <span data-start="317.719" data-end="322.919">right so this slide is a bit nice and it</span> <span data-start="322.919" data-end="326.249">doesn't have this like so voila if it</span> <span data-start="326.249" data-end="327.569">would have crashed i would have gone</span> <span data-start="327.569" data-end="330.629">like sorry so it's really nice because</span> <span data-start="330.629" data-end="335.439">this photo is pretty much multipurpose</span> <span data-start="335.449" data-end="337.979">alright so what what is in there what is</span> <span data-start="337.979" data-end="342.149">behind that demo well first of all we</span> <span data-start="342.149" data-end="344.25">have to get 3d content on screen and</span> <span data-start="344.25" data-end="346.199">we're going to use WebGL for that</span> <span data-start="346.199" data-end="347.759">because it's the perfect technology for</span> <span data-start="347.759" data-end="350.909">putting 3d content on screen and then we</span> <span data-start="350.909" data-end="352.71">have to get this entire sensor thing</span> <span data-start="352.71" data-end="354.06">working it also works with the oculus</span> <span data-start="354.06" data-end="356.819">rift in certain browsers actually it</span> <span data-start="356.819" data-end="358.229">will probably work with other hardware</span> <span data-start="358.229" data-end="360.949">as well it works with the gear VR</span> <span data-start="360.949" data-end="363.27">theoretically I haven't ever seen that</span> <span data-start="363.27" data-end="366.12">practically working and we use we're</span> <span data-start="366.12" data-end="367.74">going to use web PR for it which is a</span> <span data-start="367.74" data-end="371.099">standards proposal or spec draft that is</span> <span data-start="371.099" data-end="375.089">in development right now we also need</span> <span data-start="375.089" data-end="377.009">high speed networking in the browser and</span> </p>
<p><span data-start="377.009" data-end="381.87">WebRTC kinda comes in handy ly here so</span> <span data-start="381.87" data-end="384.899">let's talk about WebGL what is WebGL</span> <span data-start="384.899" data-end="387.689">well first of all everything that we're</span> <span data-start="387.689" data-end="388.979">going to draw on screen is made of</span> <span data-start="388.979" data-end="391.77">pixels in WebGL because we like to</span> <span data-start="391.77" data-end="393.99">invent new words we invented the word</span> <span data-start="393.99" data-end="395.909">verdicts and multiple things are</span> <span data-start="395.909" data-end="397.38">vertices because irregular</span> <span data-start="397.38" data-end="399.77">worlds are fun for non-native speakers</span> <span data-start="399.77" data-end="402.87">so here we see four points these four</span> <span data-start="402.87" data-end="404.73">points are not just 2d points but</span> <span data-start="404.73" data-end="406.38">actually have a set coordinate that can</span> <span data-start="406.38" data-end="408.15">go into the screen or out of the screen</span> <span data-start="408.15" data-end="411.69">so it's a 3d point if you wish and we</span> <span data-start="411.69" data-end="414.18">have four of them now drawing points by</span> <span data-start="414.18" data-end="416.01">themselves isn't very terribly</span> <span data-start="416.01" data-end="418.41">interesting and actually making surfaces</span> <span data-start="418.41" data-end="420.69">from them it's very very inefficient if</span> <span data-start="420.69" data-end="422.91">you do it in JavaScript so we have a</span> <span data-start="422.91" data-end="425.61">thing that's called faces and faces are</span> <span data-start="425.61" data-end="428.55">basically just vertices connected to</span> <span data-start="428.55" data-end="432.51">form certain well shapes can be quads or</span> <span data-start="432.51" data-end="434.37">can be triangles triangles are handy</span> <span data-start="434.37" data-end="435.81">because you can pretty much approximate</span> <span data-start="435.81" data-end="439.38">every shape with triangles so we have</span> <span data-start="439.38" data-end="441.54">these two and we put them into two typed</span> <span data-start="441.54" data-end="445.26">arrays float32 so that we have a bit of</span> <span data-start="445.26" data-end="447.93">precision and we have two lists one is</span> <span data-start="447.93" data-end="449.79">what all our points and the other one is</span> <span data-start="449.79" data-end="454.2">with our faces and now what well now</span> <span data-start="454.2" data-end="455.85">we're going to put them on to what's</span> <span data-start="455.85" data-end="458.25">called the GPU or the graphics card in</span> <span data-start="458.25" data-end="461.01">your device that doesn't have to be one</span> <span data-start="461.01" data-end="462.72">of these bulky cards it can actually be</span> <span data-start="462.72" data-end="464.7">just the chip that you have in your</span> <span data-start="464.7" data-end="467.73">phone so we see blue boxes here we see</span> <span data-start="467.73" data-end="470.43">green boxes here and we see red box one</span> <span data-start="470.43" data-end="473.85">red box the colors mean the blue ones</span> <span data-start="473.85" data-end="476.97">are actually running on the cpu and are</span> <span data-start="476.97" data-end="479.61">in JavaScript but the first thing we're</span> <span data-start="479.61" data-end="481.08">going to do is we take these two arrays</span> <span data-start="481.08" data-end="483.09">and put them into what's called a GL</span> <span data-start="483.09" data-end="485.1">buffer which is nothing else than a</span> <span data-start="485.1" data-end="487.05">bunch of memory on the graphics card</span> <span data-start="487.05" data-end="489.03">that's what the greenboxes mean we are</span> <span data-start="489.03" data-end="490.98">now crossing the border towards the</span> <span data-start="490.98" data-end="493.41">graphics card we can also use this to</span> <span data-start="493.41" data-end="495.99">mine bitcoins I mean do other</span> <span data-start="495.99" data-end="497.55">interesting things actually you can't</span> <span data-start="497.55" data-end="499.35">mine bitcoins I heard I know that I</span> <span data-start="499.35" data-end="501.33">tried but apparently there's</span> <span data-start="501.33" data-end="503.07">blacklisting going on when you try to do</span> <span data-start="503.07" data-end="506.04">that and then it goes into these buffers</span> <span data-start="506.04" data-end="508.68">then go into what's called a vertex</span> <span data-start="508.68" data-end="510.87">trader what does this thing do well a</span> <span data-start="510.87" data-end="513">vertex shader is basically a program</span> <span data-start="513" data-end="514.62">that runs on the GPU and its really</span> <span data-start="514.62" data-end="517.41">really fast and pushes these points</span> <span data-start="517.41" data-end="519.24">around if needed so for instance if this</span> <span data-start="519.24" data-end="521.43">point is there and my camera is turning</span> <span data-start="521.43" data-end="523.86">the point has to sort of move right so</span> <span data-start="523.86" data-end="525.42">that's what the vertex shader can do for</span> <span data-start="525.42" data-end="528.03">us that generates what's called</span> <span data-start="528.03" data-end="529.83">rasterized fragment so actually that</span> <span data-start="529.83" data-end="530.85">goes into a rest</span> <span data-start="530.85" data-end="533.37">which rested into fragments so that's</span> <span data-start="533.37" data-end="534.839">more or less the actual pixels that</span> <span data-start="534.839" data-end="537.36">we're going to color in later on now how</span> <span data-start="537.36" data-end="539.009">do we going to color them in right we</span> <span data-start="539.009" data-end="540.69">have to sort of know that well that's</span> <span data-start="540.69" data-end="542.79">what a fragment shader does it's another</span> <span data-start="542.79" data-end="545.88">piece of program on the GPU that colors</span> <span data-start="545.88" data-end="548.399">in every single pixel using images or</span> <span data-start="548.399" data-end="550.709">using some sort of math and it's also</span> <span data-start="550.709" data-end="552.42">really fast because it's highly parallel</span> <span data-start="552.42" data-end="558.42">and that generates this textured piece</span> <span data-start="558.42" data-end="561.48">off of concrete wall as a knock on brick</span> <span data-start="561.48" data-end="564.3">wall and now the last question the</span> <span data-start="564.3" data-end="566.459">question remaining might be what is then</span> <span data-start="566.459" data-end="569.639">this shader code thing it is code that</span> <span data-start="569.639" data-end="572.79">we can write and upload to the GPU but</span> <span data-start="572.79" data-end="574.139">we can't write it in JavaScript</span> <span data-start="574.139" data-end="576.36">unfortunately we have to write it in GL</span> <span data-start="576.36" data-end="579.66">slang which is glsl GL shader language</span> <span data-start="579.66" data-end="583.259">it's AC dialect that's used in WebGL and</span> </p>
<p><span data-start="583.259" data-end="585.3">OpenGL and then we can actually</span> <span data-start="585.3" data-end="586.8">influence this program in this program</span> <span data-start="586.8" data-end="592.709">and write our own Bitcoin mining right</span> <span data-start="592.709" data-end="594.779">but this is pretty birdie and pretty</span> <span data-start="594.779" data-end="597.089">verbose so there's libraries on top of</span> <span data-start="597.089" data-end="600.079">it one as we'd like to sort of push</span> <span data-start="600.079" data-end="602.99">Microsoft's open source strategy so</span> <span data-start="602.99" data-end="606">Babylon Jas is a brilliant library and</span> <span data-start="606" data-end="608.88">engine on top of WebGL that runs in the</span> <span data-start="608.88" data-end="610.319">browser quite nicely and is primarily</span> <span data-start="610.319" data-end="611.85">aimed at games but you can do other</span> <span data-start="611.85" data-end="613.769">things with it as well I think they</span> <span data-start="613.769" data-end="616.92">build a flight simulator in it and then</span> <span data-start="616.92" data-end="619.589">another one that's popular it's 3gs so</span> <span data-start="619.589" data-end="622.5">this is what three.js does 3j is pretty</span> <span data-start="622.5" data-end="625.41">much is having the concept of what you</span> <span data-start="625.41" data-end="626.73">would do when you would try to shoot a</span> <span data-start="626.73" data-end="628.05">movie you have it seen which is</span> <span data-start="628.05" data-end="630.42">basically just an empty stage you have a</span> <span data-start="630.42" data-end="633.06">camera that films this stage hi camera</span> <span data-start="633.06" data-end="636.209">and then you just put people on to other</span> <span data-start="636.209" data-end="637.86">things onto the stage and then you have</span> <span data-start="637.86" data-end="639.81">to sort of move them around and stuff so</span> <span data-start="639.81" data-end="640.8">this is more or less what we are doing</span> <span data-start="640.8" data-end="642.48">here we have a scene we have a camera we</span> <span data-start="642.48" data-end="644.04">have a renderer this doesn't quite fit</span> <span data-start="644.04" data-end="646.11">the metaphor but ignore that and then we</span> <span data-start="646.11" data-end="647.91">have a box which is a mesh which</span> <span data-start="647.91" data-end="649.56">basically is a bunch of faces and</span> <span data-start="649.56" data-end="652.47">vertices and textures and stuff put</span> <span data-start="652.47" data-end="654.839">together put that onto the scene render</span> <span data-start="654.839" data-end="657.24">it do it in a request animation frame</span> <span data-start="657.24" data-end="660.089">and you should get 60 frames per second</span> <span data-start="660.089" data-end="662.55">if you do it right a lot of people do it</span> <span data-start="662.55" data-end="663.71">wrong including me</span> <span data-start="663.71" data-end="668.84">sometimes so besides that the next thing</span> <span data-start="668.84" data-end="670.91">then would be to go into web PR and</span> <span data-start="670.91" data-end="673.55">there's a bevy r dot info has a bunch of</span> <span data-start="673.55" data-end="678.5">resources on what you can do with web PR</span> <span data-start="678.5" data-end="680.3">and how the specification currently</span> <span data-start="680.3" data-end="682.79">stands it also links to resources on how</span> <span data-start="682.79" data-end="686.51">you can get started and let's go a bit</span> <span data-start="686.51" data-end="689.51">back ends in time why am I so</span> <span data-start="689.51" data-end="692.12">enthusiastic about web PR or virtual</span> <span data-start="692.12" data-end="695.24">reality in general virtual reality isn't</span> <span data-start="695.24" data-end="698.12">a new thing it I think the first one</span> <span data-start="698.12" data-end="700.79">that I found was the first research was</span> <span data-start="700.79" data-end="704.72">published in 1962 that was long before I</span> <span data-start="704.72" data-end="707.27">was born and probably some of you as</span> <span data-start="707.27" data-end="711.56">well and in 1968 we got the thing on the</span> <span data-start="711.56" data-end="714.05">on the slide which is called the demo</span> <span data-start="714.05" data-end="717.17">class sort and I find that a very very</span> <span data-start="717.17" data-end="719.33">well coined term because it's kind of</span> <span data-start="719.33" data-end="722.47">cool but on the other hand look at it</span> <span data-start="722.47" data-end="725.63">and no I wouldn't try that one</span> <span data-start="725.63" data-end="727.88">especially because you can't just I mean</span> <span data-start="727.88" data-end="729.95">every one of us nowadays I mean this is</span> <span data-start="729.95" data-end="732.26">1968 everyone has one of those at home</span> <span data-start="732.26" data-end="736.16">right no you don't first of all it takes</span> <span data-start="736.16" data-end="739.07">a lot of space in a second it's freaking</span> <span data-start="739.07" data-end="742.58">creepy if I might say it looks a bit</span> <span data-start="742.58" data-end="743.96">like they would be shooting something</span> <span data-start="743.96" data-end="746.81">into his head with yeah whatever it's</span> <span data-start="746.81" data-end="748.52">horrible but it was really really cool</span> <span data-start="748.52" data-end="749.99">and it was the first head mounted</span> <span data-start="749.99" data-end="755.12">display for virtual reality 1968 then</span> <span data-start="755.12" data-end="757.31">this happened a couple of years ago the</span> <span data-start="757.31" data-end="759.47">oculus rift this is the dk2 which is</span> <span data-start="759.47" data-end="761.84">currently available soon to be replaced</span> <span data-start="761.84" data-end="765.89">by the customer version one in q1 2016</span> <span data-start="765.89" data-end="769.13">so this one as you might might wonder</span> <span data-start="769.13" data-end="771.71">about it this is multi thousand dollars</span> <span data-start="771.71" data-end="773.08">right this is really really expensive</span> <span data-start="773.08" data-end="778.93">this one is I think 250 or 350 right now</span> <span data-start="778.93" data-end="782.45">but oculus actually published the</span> <span data-start="782.45" data-end="784.85">specifications like the requirements and</span> <span data-start="784.85" data-end="786.68">hardware that you gotta have and they</span> <span data-start="786.68" data-end="789.38">are really really beefy most computers</span> <span data-start="789.38" data-end="791.66">won't be able to you can't run it on a</span> <span data-start="791.66" data-end="793.85">macbook you can't run it off your imac</span> <span data-start="793.85" data-end="794.84">because they are not going</span> <span data-start="794.84" data-end="797.51">for Mac OS X right now they do kinda run</span> <span data-start="797.51" data-end="800.26">it on Linux which pisses me off and</span> </p>
<p><span data-start="800.26" data-end="803.33">Debian can do everything but not vr like</span> <span data-start="803.33" data-end="806.03">well I actually it works fun fact it</span> <span data-start="806.03" data-end="808.79">works out of the box ish if you know the</span> <span data-start="808.79" data-end="812.36">right you know current options anyway so</span> <span data-start="812.36" data-end="815.29">this is three hundred fifty dollars plus</span> <span data-start="815.29" data-end="817.43">approximately a thousand dollars in</span> <span data-start="817.43" data-end="819.23">hardware that you have to get specific</span> <span data-start="819.23" data-end="820.88">for this purpose obviously you can use</span> <span data-start="820.88" data-end="822.38">it for other games and stuff as well but</span> <span data-start="822.38" data-end="825.14">it's kind of specific still but then</span> <span data-start="825.14" data-end="828.01">this happened and I don't mean today</span> <span data-start="828.01" data-end="832.01">right so when I ordered my first</span> <span data-start="832.01" data-end="833.93">cardboard from China it cost me</span> <span data-start="833.93" data-end="836.11">including shipping which was free</span> <span data-start="836.11" data-end="838.88">shipping to Switzerland that is two</span> <span data-start="838.88" data-end="846.71">dollars to I get 0.75 espresso in Zurich</span> <span data-start="846.71" data-end="851.81">for that so espresso or cardboard and I</span> <span data-start="851.81" data-end="857.45">said I cardboard and I never regret that</span> <span data-start="857.45" data-end="859.94">so that's pretty cool obviously it's</span> <span data-start="859.94" data-end="861.53">it's kind of cheating because you have</span> <span data-start="861.53" data-end="863.71">to have a phone that is capable of</span> <span data-start="863.71" data-end="866.69">running 3d content so it's not really</span> <span data-start="866.69" data-end="868.55">that cheap but on the other hand if you</span> <span data-start="868.55" data-end="870.5">look at it how many people do have a</span> <span data-start="870.5" data-end="872.9">more or less recent smartphone how many</span> <span data-start="872.9" data-end="875.48">people do have a dedicated gamer pc</span> <span data-start="875.48" data-end="879.47">right so yeah it's it's a thing and</span> <span data-start="879.47" data-end="882.65">actually we saw it working with working</span> <span data-start="882.65" data-end="887.66">reasonably well with iphone 3g so that's</span> <span data-start="887.66" data-end="889.73">alright dish it's not the same</span> <span data-start="889.73" data-end="891.38">experience as with the oculus the oculus</span> <span data-start="891.38" data-end="893.78">comes with a motion tracker as well so</span> <span data-start="893.78" data-end="896.06">you can literally have the motion</span> <span data-start="896.06" data-end="897.91">tracker set up like this and then go</span> <span data-start="897.91" data-end="901.88">around things and sort of bow down or</span> <span data-start="901.88" data-end="904.22">try to get up on your toes you can't</span> <span data-start="904.22" data-end="905.45">really do that with a cardboard because</span> <span data-start="905.45" data-end="907.04">it doesn't have any sense of where in</span> <span data-start="907.04" data-end="911.54">space you are but to be honest ninety</span> <span data-start="911.54" data-end="913.07">percent of the times it doesn't matter</span> <span data-start="913.07" data-end="915.89">right you can do a lot of mind-blowing</span> <span data-start="915.89" data-end="918.98">things without that and that is amazing</span> <span data-start="918.98" data-end="921.59">and that's accessible as well and</span> <span data-start="921.59" data-end="924.23">there's a personal story for me behind</span> <span data-start="924.23" data-end="926.54">the cardboard which is I have a family</span> <span data-start="926.54" data-end="927.31">member</span> <span data-start="927.31" data-end="929.92">who is unfortunately suffering a pretty</span> <span data-start="929.92" data-end="933.85">extreme case of social anxiety so he</span> <span data-start="933.85" data-end="936.06">really doesn't get out of the house much</span> <span data-start="936.06" data-end="939.85">and that's particularly annoying for him</span> <span data-start="939.85" data-end="943.99">because he sees how everyone in the</span> <span data-start="943.99" data-end="945.79">family sort of gets around the world and</span> <span data-start="945.79" data-end="948.339">gets to see nice places and and has all</span> <span data-start="948.339" data-end="950.26">these memories and all we can do is we</span> <span data-start="950.26" data-end="952.99">can bring them back as photos or videos</span> <span data-start="952.99" data-end="955.45">but the problem with videos or photos is</span> <span data-start="955.45" data-end="957.88">like this one you stand in front of a</span> <span data-start="957.88" data-end="961.18">flat thing that's more or less static it</span> <span data-start="961.18" data-end="962.95">doesn't react to you it doesn't give you</span> <span data-start="962.95" data-end="964.36">the same feelings it doesn't give you</span> <span data-start="964.36" data-end="966.79">the same experience I'm not saying that</span> <span data-start="966.79" data-end="968.65">virtual reality and particularly the</span> <span data-start="968.65" data-end="970.96">cardboard does give you the same but</span> <span data-start="970.96" data-end="972.76">it's a pretty pretty good substitute</span> <span data-start="972.76" data-end="975.07">right if you can't have this particular</span> <span data-start="975.07" data-end="977.8">thing for whatever reason physical</span> <span data-start="977.8" data-end="980.5">disability mental disability or just</span> <span data-start="980.5" data-end="983.05">because I'm pretty sure time travel</span> <span data-start="983.05" data-end="984.07">isn't going to be around for another</span> <span data-start="984.07" data-end="990.61">five years probably so ancient Rome hard</span> <span data-start="990.61" data-end="993.25">to get there Pompeii before it was</span> <span data-start="993.25" data-end="995.65">destroyed by the vesuvio how to get</span> <span data-start="995.65" data-end="999.1">there even actually the train connection</span> <span data-start="999.1" data-end="1001.14">to Pompeii is really really bad if you</span> <span data-start="1001.14" data-end="1003.63">ever plan on going there so even getting</span> <span data-start="1003.63" data-end="1006.45">there today is pretty hard that aside</span> <span data-start="1006.45" data-end="1009.27">this opens up this possibility and I</span> <span data-start="1009.27" data-end="1013.83">gave him a cardboard and I took a photo</span> <span data-start="1013.83" data-end="1015.87">sphere so that's basically a panorama</span> <span data-start="1015.87" data-end="1018.45">image but you also do it up and down so</span> <span data-start="1018.45" data-end="1020.85">you get a full sphere covering the space</span> <span data-start="1020.85" data-end="1024.99">around you of a place in Zurich one on</span> <span data-start="1024.99" data-end="1026.819">the mountain while Swiss people will</span> <span data-start="1026.819" data-end="1031.199">kill me now on a hill 500 meters as</span> <span data-start="1031.199" data-end="1035.819">opposed I walk that home and and swim it</span> <span data-start="1035.819" data-end="1038.449">back anyway um</span> </p>
<p><span data-start="1038.449" data-end="1040.89">I'm not even kidding i figured this one</span> <span data-start="1040.89" data-end="1043.47">out this summer like it's so hot i don't</span> <span data-start="1043.47" data-end="1044.97">want to get into the bus you don't have</span> <span data-start="1044.97" data-end="1048.35">to you can float down the river yeah and</span> <span data-start="1048.35" data-end="1053.07">i did and and one day I didn't get out</span> <span data-start="1053.07" data-end="1054.84">in time and I was there in the stream</span> <span data-start="1054.84" data-end="1058.049">I'm like oh this is so nice what where r</span> <span data-start="1058.049" data-end="1061.41">waves coming from in a river and while I</span> <span data-start="1061.41" data-end="1063.929">was thinking about that the answer made</span> <span data-start="1063.929" data-end="1067.98">itself very clear if you don't get it</span> <span data-start="1067.98" data-end="1070.2">yourself stones very close to the</span> <span data-start="1070.2" data-end="1074.21">surface is the answer in strong current</span> <span data-start="1074.21" data-end="1078.48">so yeah that was fun and and he got on</span> <span data-start="1078.48" data-end="1080.429">this he put on the the google cardboard</span> <span data-start="1080.429" data-end="1082.919">and you should have seen the facial</span> <span data-start="1082.919" data-end="1086.1">expressions and it was a pure joy and</span> <span data-start="1086.1" data-end="1089.039">that got pretty close to my heart and</span> <span data-start="1089.039" data-end="1091.53">that's why I really really really like</span> <span data-start="1091.53" data-end="1094.799">where this is going right with that</span> <span data-start="1094.799" data-end="1097.679">other way Bev pro3 Jas is not that hard</span> <span data-start="1097.679" data-end="1100.2">actually other library is not a hot not</span> <span data-start="1100.2" data-end="1101.64">that hard as well but you would have to</span> <span data-start="1101.64" data-end="1103.95">probably roll your own until the library</span> <span data-start="1103.95" data-end="1105.6">sketchup i'm not sure if Bobby long has</span> <span data-start="1105.6" data-end="1108.03">already done the work for VR but</span> <span data-start="1108.03" data-end="1110.309">probably they have already so you get a</span> </p>
<p><span data-start="1110.309" data-end="1112.02">V artifact you put in the renderer that</span> <span data-start="1112.02" data-end="1113.82">you got beforehand you have the are</span> <span data-start="1113.82" data-end="1115.77">controls that read the sensor data from</span> <span data-start="1115.77" data-end="1118.89">your phone or the euless position</span> <span data-start="1118.89" data-end="1121.11">sensor you update these on each frame</span> <span data-start="1121.11" data-end="1124.14">and you render again on each frame voila</span> <span data-start="1124.14" data-end="1128.22">that's it and the cool thing about web</span> <span data-start="1128.22" data-end="1131.159">we are especially is like VR is a thing</span> <span data-start="1131.159" data-end="1132.99">for native apps right now and for</span> <span data-start="1132.99" data-end="1134.49">Windows applications and there's the</span> <span data-start="1134.49" data-end="1137.61">oculus demo where you can meet with a</span> <span data-start="1137.61" data-end="1140.22">friend virtually and check out netflix</span> <span data-start="1140.22" data-end="1145.89">like Netflix and chill remotely Netflix</span> <span data-start="1145.89" data-end="1148.909">and chill as a service if you wish and</span> <span data-start="1148.909" data-end="1152.909">which is the thing probably 4 2016 but</span> <span data-start="1152.909" data-end="1155.159">both both platforms like the cardboard</span> <span data-start="1155.159" data-end="1157.049">and the oculus rift share the same API</span> <span data-start="1157.049" data-end="1159.96">alright not don't but the browser's make</span> <span data-start="1159.96" data-end="1161.64">sure that you have one API that you've</span> <span data-start="1161.64" data-end="1163.08">got to address and you get pretty much</span> <span data-start="1163.08" data-end="1164.4">all the heart we're done so it's</span> <span data-start="1164.4" data-end="1166.77">abstract away the hardware it's already</span> <span data-start="1166.77" data-end="1168.51">available in Firefox nightly builds and</span> <span data-start="1168.51" data-end="1171.87">it's available as a very secure</span> <span data-start="1171.87" data-end="1174.9">the distributed chromium built on a</span> </p>
<p><span data-start="1174.9" data-end="1178.62">Google Drive so yeah I'm the person who</span> <span data-start="1178.62" data-end="1181.89">destroys everyone's idea of security</span> <span data-start="1181.89" data-end="1185.19">downloaded from Google Drive it's really</span> <span data-start="1185.19" data-end="1186.69">low cost to get into it so we are</span> <span data-start="1186.69" data-end="1189.36">actually using it at work and have</span> <span data-start="1189.36" data-end="1190.95">paying customers for it which is cool</span> <span data-start="1190.95" data-end="1194.01">and the community behind it is amazing</span> <span data-start="1194.01" data-end="1195.99">there is a slap channel that's open for</span> <span data-start="1195.99" data-end="1197.49">invites there's a lot of people on</span> <span data-start="1197.49" data-end="1199.71">Twitter the website I are actually</span> <span data-start="1199.71" data-end="1201.57">earlier has a lot of resources on how to</span> <span data-start="1201.57" data-end="1203.04">get in touch with them there's mailing</span> <span data-start="1203.04" data-end="1205.23">lists as well and the spec is being</span> <span data-start="1205.23" data-end="1209.16">proposed and drafted on github and as I</span> <span data-start="1209.16" data-end="1211.05">say it allows you to reach people in a</span> <span data-start="1211.05" data-end="1213.57">very very deep level because it goes far</span> <span data-start="1213.57" data-end="1216.72">below what we consciously feel and see</span> <span data-start="1216.72" data-end="1219.75">and think I've been in a demo where I</span> <span data-start="1219.75" data-end="1221.46">was on the bottom of the ocean and then</span> <span data-start="1221.46" data-end="1223.02">someone asked me to make a step forward</span> <span data-start="1223.02" data-end="1225.69">but there was just an abbess in front of</span> <span data-start="1225.69" data-end="1228.33">me and seriously I couldn't step forward</span> </p>
<p><span data-start="1228.33" data-end="1230.13">I'm like my brain kept telling me like</span> <span data-start="1230.13" data-end="1231.809">yeah you know you are in the room and</span> <span data-start="1231.809" data-end="1233.16">nothing's going to happen but then</span> <span data-start="1233.16" data-end="1234.57">another part of the brain that I</span> <span data-start="1234.57" data-end="1236.16">couldn't control when old golem and were</span> <span data-start="1236.16" data-end="1243.15">like no don't kill us so I obeyed and</span> <span data-start="1243.15" data-end="1246.87">didn't step forward so that's really</span> <span data-start="1246.87" data-end="1248.82">cool and the last thing that we're going</span> <span data-start="1248.82" data-end="1250.95">to touch is the third ingredient why</span> <span data-start="1250.95" data-end="1253.23">does it say to then write whatever the</span> <span data-start="1253.23" data-end="1256.23">third ingredient AKA 2 because 2 is the</span> <span data-start="1256.23" data-end="1260.25">new 3 WebRTC so WebRTC is quite nice</span> <span data-start="1260.25" data-end="1262.01">because we don't need a server right</span> <span data-start="1262.01" data-end="1265.98">well except for signaling theoretically</span> <span data-start="1265.98" data-end="1267.45">you can do it without a server but you</span> <span data-start="1267.45" data-end="1269.94">sort of still have to have a server so</span> <span data-start="1269.94" data-end="1274.54">but still WebRTC is pretty cool right ah</span> <span data-start="1274.55" data-end="1279.99">except you want to do mobile so yeah I</span> <span data-start="1279.99" data-end="1282.03">would have to build a sort of fall back</span> <span data-start="1282.03" data-end="1283.71">and as the only fallback option I would</span> <span data-start="1283.71" data-end="1286.95">have really have web sockets so while</span> </p>
<p><span data-start="1286.95" data-end="1288.87">WebRTC are quite nice and sort of give</span> <span data-start="1288.87" data-end="1290.34">themselves to this particular issue</span> <span data-start="1290.34" data-end="1292.77">because they allow me to pick reliable</span> <span data-start="1292.77" data-end="1294.69">or unreliable which is more sensible</span> <span data-start="1294.69" data-end="1296.34">actually unreliable is more sensible for</span> <span data-start="1296.34" data-end="1298.35">this case because if a package with</span> <span data-start="1298.35" data-end="1299.91">information of where you look and where</span> <span data-start="1299.91" data-end="1302.04">you are in 3d space gets lost it doesn't</span> <span data-start="1302.04" data-end="1303.03">really matter because there's another</span> <span data-start="1303.03" data-end="1304.32">one because you're pretty much</span> <span data-start="1304.32" data-end="1306.029">still moving most of the time and if</span> <span data-start="1306.029" data-end="1307.289">you're not then there's only a very</span> <span data-start="1307.289" data-end="1309.87">small Delta between the two web sockets</span> <span data-start="1309.87" data-end="1311.58">on the other hand are kind of TCP ish</span> <span data-start="1311.58" data-end="1313.83">and because they hijack the connection</span> <span data-start="1313.83" data-end="1315.47">you already have to the web server HTTP</span> <span data-start="1315.47" data-end="1318.269">connection and they are reliable but</span> <span data-start="1318.269" data-end="1320.399">that makes them slower I guess and you</span> <span data-start="1320.399" data-end="1324.09">have to have a central server is that</span> <span data-start="1324.09" data-end="1326.73">doesn't make any sense to you don't</span> <span data-start="1326.73" data-end="1328.529">worry about it the only important kate</span> <span data-start="1328.529" data-end="1331.409">key takeaway is it doesn't really matter</span> <span data-start="1331.409" data-end="1333.149">that much for this particular case but</span> <span data-start="1333.149" data-end="1334.409">actually if you want something that's</span> <span data-start="1334.409" data-end="1335.72">really really really quick and</span> <span data-start="1335.72" data-end="1338.49">decentralized WebRTC is the way to go</span> <span data-start="1338.49" data-end="1340.889">unless you have to support browsers that</span> <span data-start="1340.889" data-end="1344.789">don't play nicely so how much data do we</span> <span data-start="1344.789" data-end="1347.07">actually get on the wire because for</span> <span data-start="1347.07" data-end="1348.419">this to matter we have to figure out how</span> <span data-start="1348.419" data-end="1350.22">much data we're transferring so we're</span> <span data-start="1350.22" data-end="1352.039">transferring positions and orientations</span> <span data-start="1352.039" data-end="1354.509">basically right so where is the paid</span> <span data-start="1354.509" data-end="1357.149">person looking at and where are they in</span> <span data-start="1357.149" data-end="1361.62">space so that's x y&z and rotations</span> <span data-start="1361.62" data-end="1365.1">around these three axes so that's for</span> <span data-start="1365.1" data-end="1367.649">instance these randomly picked six</span> <span data-start="1367.649" data-end="1369.899">floating-point numbers so that's six</span> <span data-start="1369.899" data-end="1372.69">times a float 32 variable because that's</span> <span data-start="1372.69" data-end="1375.509">what type arrays give us so that's 192</span> <span data-start="1375.509" data-end="1377.82">bits and we run with 60 frames per</span> <span data-start="1377.82" data-end="1380.7">second hopefully and that makes up for</span> <span data-start="1380.7" data-end="1385.409">11.5 kilobit per second I guess we're</span> <span data-start="1385.409" data-end="1390.809">safe right so how about latency and</span> <span data-start="1390.809" data-end="1393.09">speed so I measured this one will round</span> <span data-start="1393.09" data-end="1395.49">trip times and I figure out web sockets</span> <span data-start="1395.49" data-end="1397.409">are actually quite slow ish in this</span> <span data-start="1397.409" data-end="1398.97">particular work quite so sure on this</span> <span data-start="1398.97" data-end="1401.85">particular Wi-Fi that I was on versus</span> <span data-start="1401.85" data-end="1403.71">web RTC which was really fast because it</span> <span data-start="1403.71" data-end="1405.299">wasn't really going that that far out</span> <span data-start="1405.299" data-end="1408.57">over the Wi-Fi so now I proposed to talk</span> <span data-start="1408.57" data-end="1411.33">that set multiply of a PR virtual</span> <span data-start="1411.33" data-end="1413.279">reality using oculus rift and Google</span> <span data-start="1413.279" data-end="1415.679">cardboard and web RTC we got virtual</span> <span data-start="1415.679" data-end="1417.72">reality we got oculus rift and Google</span> <span data-start="1417.72" data-end="1421.259">cardboard mmm and I would have to build</span> <span data-start="1421.259" data-end="1423.509">a sort of WebRTC implementation</span> <span data-start="1423.509" data-end="1428.179">including a fallback to web sockets yeah</span> <span data-start="1428.179" data-end="1433.409">sorry I lied it turned out that web</span> <span data-start="1433.409" data-end="1434.97">sockets are actually fast enough for</span> <span data-start="1434.97" data-end="1436.769">this so what you've seen is actually not</span> <span data-start="1436.769" data-end="1437.82">using web</span> <span data-start="1437.82" data-end="1440.55">but it's on github so feel free to you</span> <span data-start="1440.55" data-end="1443.61">know fork it and make FR DC and you get</span> <span data-start="1443.61" data-end="1447.85">swiss chocolates sent from me probably</span> <span data-start="1447.86" data-end="1451.59">over WebRTC obviously so how does the</span> <span data-start="1451.59" data-end="1455.55">code then actually look like well the</span> <span data-start="1455.55" data-end="1457.56">server doesn't do that much it has to do</span> <span data-start="1457.56" data-end="1459.78">two things really it has to manage the</span> <span data-start="1459.78" data-end="1461.31">list of players that are available and</span> <span data-start="1461.31" data-end="1462.78">their state which means position and</span> <span data-start="1462.78" data-end="1464.16">rotation so that it can send this</span> <span data-start="1464.16" data-end="1465.75">information to the other players and</span> <span data-start="1465.75" data-end="1468.81">then the player send updates and the</span> <span data-start="1468.81" data-end="1470.55">server basically just broadcast them to</span> <span data-start="1470.55" data-end="1473.13">all the other players and that means we</span> <span data-start="1473.13" data-end="1475.19">have more or less for different messages</span> <span data-start="1475.19" data-end="1478.71">we have the player moving so a player is</span> <span data-start="1478.71" data-end="1479.88">moving and we're just going to broadcast</span> <span data-start="1479.88" data-end="1482.31">that to the other players we have a</span> <span data-start="1482.31" data-end="1484.11">player that just joined the game so we</span> <span data-start="1484.11" data-end="1485.97">have a connect message and we have a</span> <span data-start="1485.97" data-end="1487.95">player disconnect so a player player has</span> <span data-start="1487.95" data-end="1490.02">closed the website or has failed to</span> <span data-start="1490.02" data-end="1491.82">connect or something like that so that's</span> <span data-start="1491.82" data-end="1493.23">pretty much it actually there's a fourth</span> <span data-start="1493.23" data-end="1494.87">message now because I know that there's</span> <span data-start="1494.87" data-end="1497.31">we're going to see why there's a limit</span> <span data-start="1497.31" data-end="1498.78">to the number of players in this game</span> <span data-start="1498.78" data-end="1501.33">and I'm like yeah I have these four</span> <span data-start="1501.33" data-end="1503.07">people up here and it's going to be fine</span> <span data-start="1503.07" data-end="1506.61">and then this happened and I had to</span> <span data-start="1506.61" data-end="1508.47">actually use the the fourth one to say</span> <span data-start="1508.47" data-end="1512.55">so I service for try again later on the</span> <span data-start="1512.55" data-end="1514.95">next J is called maybe and the product</span> <span data-start="1514.95" data-end="1516.93">called for efficiency shall be binary</span> <span data-start="1516.93" data-end="1519.24">because I don't want to waste space on</span> <span data-start="1519.24" data-end="1522.15">the wire so to make it as small as</span> <span data-start="1522.15" data-end="1523.86">possible we do a bit of binary packing</span> <span data-start="1523.86" data-end="1525.93">so here we have our message format it</span> <span data-start="1525.93" data-end="1528.45">has three informations one is the header</span> <span data-start="1528.45" data-end="1530.7">which tells what kind of info what kind</span> <span data-start="1530.7" data-end="1534.27">of message this is and what player this</span> <span data-start="1534.27" data-end="1537.15">message sent originally the player has</span> <span data-start="1537.15" data-end="1538.95">to be identifiable so that the other</span> <span data-start="1538.95" data-end="1540.69">players can then update the right player</span> <span data-start="1540.69" data-end="1544.02">in the world and I figure out so we have</span> <span data-start="1544.02" data-end="1547.41">four message types I'm going to use to</span> <span data-start="1547.41" data-end="1550.23">bits but the smallest thing I can get in</span> <span data-start="1550.23" data-end="1552.96">as a type array is an 8-bit you and</span> <span data-start="1552.96" data-end="1556.08">eight so I got a packet a bit and just</span> <span data-start="1556.08" data-end="1560.04">use six bits for player ID now do the</span> <span data-start="1560.04" data-end="1563.04">math six pit means I have maximum thick</span> <span data-start="1563.04" data-end="1567.66">64 players plenty right has ample</span> <span data-start="1567.66" data-end="1571.53">players hi more than sixty four people</span> <span data-start="1571.53" data-end="1573.66">um so yeah that's why we have this</span> <span data-start="1573.66" data-end="1575.96">additional message that says unused here</span> <span data-start="1575.96" data-end="1578.04">so and then we have a position</span> <span data-start="1578.04" data-end="1580.5">information and we have a rotation</span> <span data-start="1580.5" data-end="1582.69">information we might not fill these in</span> <span data-start="1582.69" data-end="1584.4">if it's a disconnect you don't really</span> <span data-start="1584.4" data-end="1586.23">have to send a position and orientation</span> <span data-start="1586.23" data-end="1588.09">so we just leave them empty but that's</span> <span data-start="1588.09" data-end="1589.56">more or less that's what it boils down</span> <span data-start="1589.56" data-end="1594.62">to so we have six float float 32 s and</span> <span data-start="1594.62" data-end="1599.67">11 you and eight that means we have not</span> <span data-start="1599.67" data-end="1601.41">too much data but actually there's</span> <span data-start="1601.41" data-end="1603.54">there's more on the wire so this is the</span> </p>
<p><span data-start="1603.54" data-end="1605.82">WebSocket protocol and I couldn't be</span> <span data-start="1605.82" data-end="1607.41">arsed to actually figure out what these</span> <span data-start="1607.41" data-end="1611.34">mean but they are on the wire right so</span> <span data-start="1611.34" data-end="1613.86">that's 16 bit on the wire that sort of</span> <span data-start="1613.86" data-end="1615.87">pad around our actual message our actual</span> <span data-start="1615.87" data-end="1618.78">message is 200 bits long that means we</span> <span data-start="1618.78" data-end="1620.1">have two hundred sixteen bits on the</span> <span data-start="1620.1" data-end="1623.01">wire that's 27 bytes in total per</span> <span data-start="1623.01" data-end="1625.56">package that's not too bad so let's look</span> <span data-start="1625.56" data-end="1630.66">at how that looks in code right so can</span> <span data-start="1630.66" data-end="1634.56">you read that okay sweet I wasn't sure</span> <span data-start="1634.56" data-end="1636.9">so I zoomed in a bit and the server is</span> <span data-start="1636.9" data-end="1640.11">quite boring yeah here this is this is</span> <span data-start="1640.11" data-end="1643.89">what surprises like this do to you so</span> <span data-start="1643.89" data-end="1645.66">this is an express application to serve</span> <span data-start="1645.66" data-end="1647.52">the actual web content like the client</span> <span data-start="1647.52" data-end="1650.25">application as well and then it creates</span> <span data-start="1650.25" data-end="1655.14">a WebSocket server here and inside there</span> <span data-start="1655.14" data-end="1657.24">it loads a couple of modules it creates</span> <span data-start="1657.24" data-end="1659.07">the server on top of the HTTP server</span> <span data-start="1659.07" data-end="1661.23">because how WebSocket works is you have</span> <span data-start="1661.23" data-end="1662.91">an HTTP connection the client asks like</span> <span data-start="1662.91" data-end="1665.07">hey shall we upgrade to web socket and</span> <span data-start="1665.07" data-end="1668.31">then the server goes yeah and web socket</span> <span data-start="1668.31" data-end="1671.91">magic happens and we have a a player</span> <span data-start="1671.91" data-end="1674.13">state this object whole is basically a</span> <span data-start="1674.13" data-end="1676.02">dictionary holding all the players that</span> <span data-start="1676.02" data-end="1678.06">are in the game and a global counter of</span> <span data-start="1678.06" data-end="1679.68">how many players we have to assign them</span> <span data-start="1679.68" data-end="1682.59">an ID this one just kids gets a random</span> <span data-start="1682.59" data-end="1684.69">position in 3d space always on the</span> <span data-start="1684.69" data-end="1686.37">ground starting on the ground this one</span> <span data-start="1686.37" data-end="1688.17">makes the actual packet that's a bit</span> <span data-start="1688.17" data-end="1690.63">more interesting so if we don't pass in</span> <span data-start="1690.63" data-end="1692.49">a position or rotation we're going to</span> <span data-start="1692.49" data-end="1694.8">create a default one just 20 everything</span> <span data-start="1694.8" data-end="1697.05">out and then we use an array buffer and</span> <span data-start="1697.05" data-end="1699.9">the data view of that array buffer the</span> <span data-start="1699.9" data-end="1701.58">array buffer because they are a buffer</span> <span data-start="1701.58" data-end="1702.26">is a</span> <span data-start="1702.26" data-end="1704.78">did platform-specific and how things are</span> <span data-start="1704.78" data-end="1706.73">getting ordered but the data view is in</span> <span data-start="1706.73" data-end="1708.17">the data view is actually consistent and</span> <span data-start="1708.17" data-end="1710.09">we're going to use the data view to put</span> <span data-start="1710.09" data-end="1712.79">things in so first of all at position 0</span> <span data-start="1712.79" data-end="1714.08">which is the beginning of the package</span> <span data-start="1714.08" data-end="1716.27">we're going to put in the header at</span> <span data-start="1716.27" data-end="1718.67">position 1 which is one bite we're going</span> <span data-start="1718.67" data-end="1720.98">to put in the X and then it five bites</span> <span data-start="1720.98" data-end="1725.17">by five bites well I float32 is 32 bits</span> <span data-start="1725.17" data-end="1729.74">32 / 8 is 4 so 4 byte per each of those</span> <span data-start="1729.74" data-end="1731.87">four floats and then we're going to put</span> <span data-start="1731.87" data-end="1733.79">in position all the three components of</span> <span data-start="1733.79" data-end="1735.08">position or the three components of</span> <span data-start="1735.08" data-end="1737.45">rotation and we're done and we have a a</span> <span data-start="1737.45" data-end="1740.17">buffer that we can send over the network</span> <span data-start="1740.17" data-end="1743.03">this one is a closer that generates a</span> <span data-start="1743.03" data-end="1744.38">broadcast handler for this particular</span> <span data-start="1744.38" data-end="1746.69">socket which is a player and the player</span> <span data-start="1746.69" data-end="1749.3">object associated to it and it goes</span> <span data-start="1749.3" data-end="1751.7">through pretty much all the others so</span> <span data-start="1751.7" data-end="1753.14">this is where broadcasting happens so</span> <span data-start="1753.14" data-end="1755.78">basically a socket that's associated</span> <span data-start="1755.78" data-end="1759.2">with a player sends us some data since</span> <span data-start="1759.2" data-end="1760.91">awesome message and then we go through</span> <span data-start="1760.91" data-end="1762.5">all the players that we are having and</span> <span data-start="1762.5" data-end="1765.11">if it happens to be that the socket of</span> <span data-start="1765.11" data-end="1767.24">this particular player happens to be the</span> <span data-start="1767.24" data-end="1768.8">socket that sent this message we're just</span> <span data-start="1768.8" data-end="1770.06">not going to send it back because it</span> <span data-start="1770.06" data-end="1772.58">doesn't make sense to relay the messages</span> <span data-start="1772.58" data-end="1774.2">that i send to me right that's</span> <span data-start="1774.2" data-end="1775.7">additional network traffic that we can</span> <span data-start="1775.7" data-end="1777.8">avoid and then this one actually sends</span> <span data-start="1777.8" data-end="1781.19">to the socket a message which gets</span> <span data-start="1781.19" data-end="1783.98">passed in here in binary and that's</span> <span data-start="1783.98" data-end="1785.6">pretty much all that we have here's an</span> <span data-start="1785.6" data-end="1789.7">initial announcement so if a player gets</span> </p>
<p><span data-start="1789.7" data-end="1792.14">I don't know even sure what this one</span> <span data-start="1792.14" data-end="1793.79">does but the comment says what it does</span> <span data-start="1793.79" data-end="1796.73">it announces a player to another is okay</span> <span data-start="1796.73" data-end="1798.05">obviously we don't announce the player</span> <span data-start="1798.05" data-end="1800.18">to the player itself doesn't make sense</span> <span data-start="1800.18" data-end="1801.77">because the player already knows that he</span> <span data-start="1801.77" data-end="1805.37">had stored the game we send a packet</span> <span data-start="1805.37" data-end="1807.17">which means here we have a connect</span> <span data-start="1807.17" data-end="1809.69">message which is just this binary</span> <span data-start="1809.69" data-end="1811.52">message type that we saw in the slides</span> <span data-start="1811.52" data-end="1814.55">which stands for Kinect shift that by</span> <span data-start="1814.55" data-end="1816.98">six bit making it the most significant</span> <span data-start="1816.98" data-end="1819.8">bits the first two bits of this on the</span> <span data-start="1819.8" data-end="1822.11">highest order and then we send oh</span> <span data-start="1822.11" data-end="1826.52">it wraps badly we send the position and</span> <span data-start="1826.52" data-end="1828.98">we send that into binary so this is the</span> <span data-start="1828.98" data-end="1831.02">initial message that we're going to have</span> <span data-start="1831.02" data-end="1832.7">to make that says like this player has</span> <span data-start="1832.7" data-end="1834.59">joined this now here</span> <span data-start="1834.59" data-end="1837.679">right and then we send to the 2d player</span> <span data-start="1837.679" data-end="1839.72">that has just connected we send all the</span> <span data-start="1839.72" data-end="1842.539">other players connection positions so</span> <span data-start="1842.539" data-end="1844.88">that initializes the game and then this</span> <span data-start="1844.88" data-end="1848.39">is the actual beef of the application so</span> <span data-start="1848.39" data-end="1850.52">if whenever someone connects to the</span> <span data-start="1850.52" data-end="1854.059">server we check if we already have 63</span> <span data-start="1854.059" data-end="1856.039">players if that is the case then sorry</span> <span data-start="1856.039" data-end="1858.26">we can't accommodate you and we send a</span> <span data-start="1858.26" data-end="1860.27">message with ty project to this</span> <span data-start="1860.27" data-end="1862.4">particular play and say bye close the</span> <span data-start="1862.4" data-end="1863.659">connection so that he can't bother us</span> <span data-start="1863.659" data-end="1867.47">anymore and end of story if that doesn't</span> <span data-start="1867.47" data-end="1870.86">happen then we we go to the get get the</span> <span data-start="1870.86" data-end="1873.049">current ID increment the ID for the next</span> <span data-start="1873.049" data-end="1875.75">player and here we set up the player</span> <span data-start="1875.75" data-end="1878.659">object for woopsy first with a socket</span> <span data-start="1878.659" data-end="1880.52">that we got and the we could generate a</span> <span data-start="1880.52" data-end="1881.87">random position so the position gets</span> <span data-start="1881.87" data-end="1883.85">generated by the server not by the</span> <span data-start="1883.85" data-end="1887.299">client when it joins we sent that we get</span> <span data-start="1887.299" data-end="1889.399">a broadcast hander so whenever this new</span> <span data-start="1889.399" data-end="1891.169">player sends us a message we're going to</span> <span data-start="1891.169" data-end="1893.419">broadcast this to all the others kind of</span> <span data-start="1893.419" data-end="1896.99">makes sense and yeah if it actually the</span> <span data-start="1896.99" data-end="1899.27">socket closes which means the player has</span> <span data-start="1899.27" data-end="1900.649">disconnected we sent the disconnect</span> <span data-start="1900.649" data-end="1902.6">message to all the other players so they</span> <span data-start="1902.6" data-end="1904.669">know that this player has been just</span> <span data-start="1904.669" data-end="1906.73">going to remove them from the game world</span> <span data-start="1906.73" data-end="1909.38">then we announce the the players to each</span> <span data-start="1909.38" data-end="1911.33">other that's pretty much it and then we</span> <span data-start="1911.33" data-end="1912.89">just start the web server and listen and</span> <span data-start="1912.89" data-end="1916.279">done so that's a bit more than 100 lines</span> <span data-start="1916.279" data-end="1917.809">but if you would compress that that's</span> <span data-start="1917.809" data-end="1919.82">much less there's a lot of white space</span> <span data-start="1919.82" data-end="1923.779">and blah so that's the server side of</span> <span data-start="1923.779" data-end="1928.22">things</span> </p>
<p><span data-start="1928.23" data-end="1932.85">Wow right yeah it has to load because it</span> <span data-start="1932.85" data-end="1936.39">never saw this before Google slides you</span> <span data-start="1936.39" data-end="1938.88">are so weird sometimes so on the client</span> <span data-start="1938.88" data-end="1941.88">which is the last bit that's left we got</span> <span data-start="1941.88" data-end="1943.679">to have to do a bit more first of all we</span> <span data-start="1943.679" data-end="1945.09">have to initialize everything that's</span> <span data-start="1945.09" data-end="1946.35">rendering related right we have to</span> <span data-start="1946.35" data-end="1948.39">render that we have to load the textures</span> <span data-start="1948.39" data-end="1951.179">we have to load the horse 3d model we</span> <span data-start="1951.179" data-end="1953.25">have to do the actual render loop we</span> <span data-start="1953.25" data-end="1954.69">have to receive messages from the server</span> <span data-start="1954.69" data-end="1956.34">and we have to send messages to the</span> <span data-start="1956.34" data-end="1958.52">server whenever we are having enough</span> <span data-start="1958.52" data-end="1960.72">motion or hours and because it does make</span> <span data-start="1960.72" data-end="1962.76">sense to continuously send a message if</span> </p>
<p><span data-start="1962.76" data-end="1964.95">I haven't moved why would I send a</span> <span data-start="1964.95" data-end="1969.929">message and that looks like this how am</span> <span data-start="1969.929" data-end="1972.44">i doing what time I have no idea I'm</span> <span data-start="1972.44" data-end="1974.37">probably going to have a couple more</span> <span data-start="1974.37" data-end="1978.54">minutes client and the clients main</span> <span data-start="1978.54" data-end="1982.559">logic is a good question is in jayus</span> <span data-start="1982.559" data-end="1987.179">exactly a bunch of smaller modules and</span> <span data-start="1987.179" data-end="1991.71">here what we're doing is primarily there</span> <span data-start="1991.71" data-end="1993.33">is a parameter because you might have an</span> <span data-start="1993.33" data-end="1995.7">older cardboard where you don't have a</span> <span data-start="1995.7" data-end="1997.38">button so you can select a different</span> <span data-start="1997.38" data-end="1998.94">thing and then you actually get all to</span> <span data-start="1998.94" data-end="2000.5">move which means you constantly move</span> <span data-start="2000.5" data-end="2002.929">around which is quite handy and nice for</span> <span data-start="2002.929" data-end="2004.58">people who have the cheaper version of</span> <span data-start="2004.58" data-end="2006.5">the cardboard then we initialize the</span> <span data-start="2006.5" data-end="2008.03">game world which does all the the</span> <span data-start="2008.03" data-end="2009.77">rendering initialization which returns</span> <span data-start="2009.77" data-end="2011.299">promised once we're done with that we</span> <span data-start="2011.299" data-end="2012.74">initialize the network which opens up</span> <span data-start="2012.74" data-end="2014.57">the socket and does all the the</span> <span data-start="2014.57" data-end="2018.23">messaging there and whenever we're</span> <span data-start="2018.23" data-end="2021.559">getting a emotion event from this game</span> <span data-start="2021.559" data-end="2023.48">world module that's that's written and</span> <span data-start="2023.48" data-end="2025.22">that's a custom module basically that</span> <span data-start="2025.22" data-end="2027.679">just tracks if the VR controls have</span> <span data-start="2027.679" data-end="2029.24">updated the position or if I have</span> <span data-start="2029.24" data-end="2031.4">pressed the button so i move if that</span> <span data-start="2031.4" data-end="2033.919">happens i send a local update with my</span> <span data-start="2033.919" data-end="2036.38">position over the network all right and</span> <span data-start="2036.38" data-end="2038.48">then we have this overlay that you saw</span> <span data-start="2038.48" data-end="2041.179">that says tap to start it requests full</span> <span data-start="2041.179" data-end="2043.07">screen it locks the orientation because</span> <span data-start="2043.07" data-end="2045.14">that's that's actually an annoying thing</span> <span data-start="2045.14" data-end="2046.82">so if you don't lock the orientation and</span> <span data-start="2046.82" data-end="2048.95">go like this then it might automatically</span> <span data-start="2048.95" data-end="2052.85">rotate and look and you vomit to</span> <span data-start="2052.85" data-end="2056.33">avoid that you were laughing but it's</span> <span data-start="2056.33" data-end="2058.34">it's not that much of well you can say</span> <span data-start="2058.34" data-end="2060.98">it's a bucket full of fun</span> <span data-start="2060.98" data-end="2063.98">but it's not that cool so I lock the</span> <span data-start="2063.98" data-end="2065.48">orientation to prevent that and allow</span> <span data-start="2065.48" data-end="2067.01">you to sort of do these things where you</span> <span data-start="2067.01" data-end="2070.7">go into portrait mode as well which is a</span> <span data-start="2070.7" data-end="2073.04">bit browser specific but hey that's what</span> <span data-start="2073.04" data-end="2077">you get and then we just start moving if</span> <span data-start="2077" data-end="2079.07">you have to move because you can't press</span> <span data-start="2079.07" data-end="2081.35">a button and then there's some event</span> <span data-start="2081.35" data-end="2084.95">handlers and that's it for here so</span> <span data-start="2084.95" data-end="2086.419">that's not very interesting so what's</span> <span data-start="2086.419" data-end="2087.95">going on in this game world then and</span> <span data-start="2087.95" data-end="2089.69">that's where the virtual reality things</span> <span data-start="2089.69" data-end="2091.1">go on if you're interested in networking</span> <span data-start="2091.1" data-end="2095.24">cool check out networking guess I'd like</span> <span data-start="2095.24" data-end="2096.83">to dive in into this one I wrote a</span> <span data-start="2096.83" data-end="2098.42">wrapper around three J's because I'm</span> <span data-start="2098.42" data-end="2102.08">really really lazy I mean efficient so I</span> <span data-start="2102.08" data-end="2103.31">don't have to deal with most of the</span> <span data-start="2103.31" data-end="2106.79">things internally and what I do is I and</span> <span data-start="2106.79" data-end="2108.26">we're going to go through the code as it</span> <span data-start="2108.26" data-end="2112.07">flows in in it this one is a little</span> <span data-start="2112.07" data-end="2115.31">longer we initialize a world and put the</span> <span data-start="2115.31" data-end="2116.66">camera in the middle which is the</span> <span data-start="2116.66" data-end="2119.42">coordinate origin at zero which is the</span> <span data-start="2119.42" data-end="2122.78">set distance we put up a certain</span> <span data-start="2122.78" data-end="2125">distance until which we were going to</span> <span data-start="2125" data-end="2126.47">render and then we have a render</span> <span data-start="2126.47" data-end="2127.84">callback that does the actual rendering</span> <span data-start="2127.84" data-end="2130.88">we put a light in so that it's not dark</span> <span data-start="2130.88" data-end="2134.3">makes sense and we put a box which is</span> <span data-start="2134.3" data-end="2136.91">this j/s box that you might have seen if</span> <span data-start="2136.91" data-end="2138.35">you were around that one or floating</span> <span data-start="2138.35" data-end="2140.6">around the world which uses the JSP and</span> </p>
<p><span data-start="2140.6" data-end="2142.4">G file as a texture which is why I</span> <span data-start="2142.4" data-end="2145.369">looked like a J's logo as a box then we</span> <span data-start="2145.369" data-end="2147.05">have a sphere which is sort of the the</span> <span data-start="2147.05" data-end="2150.56">aura around that box and it's</span> <span data-start="2150.56" data-end="2153.08">transparent and it has a pink color</span> <span data-start="2153.08" data-end="2155.81">because JavaScript and Pink's sort of go</span> <span data-start="2155.81" data-end="2158.119">together or yellow really but yeah</span> <span data-start="2158.119" data-end="2161.54">yellow is boring then we have the ground</span> <span data-start="2161.54" data-end="2165.08">which is just a plain plain shape that</span> <span data-start="2165.08" data-end="2166.34">stretches everything and then we have a</span> <span data-start="2166.34" data-end="2168.53">box with a bunch of images around and</span> <span data-start="2168.53" data-end="2170.78">that was the sky in the horizon you were</span> <span data-start="2170.78" data-end="2172.46">seeing we are faking that it's not</span> <span data-start="2172.46" data-end="2174.109">really sort of like there's clouds now</span> <span data-start="2174.109" data-end="2177.26">screw that that would drop your iPhone's</span> <span data-start="2177.26" data-end="2178.97">frame rate so we're going to skip that a</span> <span data-start="2178.97" data-end="2182.33">bit and yeah then we just put it into</span> <span data-start="2182.33" data-end="2184.76">the world we get a camera we load the</span> <span data-start="2184.76" data-end="2187.7">wonderful horse look at my horse my</span> <span data-start="2187.7" data-end="2191.18">horse is amazing it's in virtual reality</span> <span data-start="2191.18" data-end="2195.079">hmm so I can fly around with it and then</span> <span data-start="2195.079" data-end="2197.059">we just initialize the VR controls and</span> <span data-start="2197.059" data-end="2199.069">the Uwharrie effect I had more or less</span> <span data-start="2199.069" data-end="2201.65">it and in the render loop scroll Scroll</span> <span data-start="2201.65" data-end="2203.75">scroll the render Luke we're checking if</span> <span data-start="2203.75" data-end="2206.99">we are going very imaginative name and</span> <span data-start="2206.99" data-end="2208.76">if we happen to be and if we're going</span> <span data-start="2208.76" data-end="2210.89">out of bounds then we sort of make sure</span> <span data-start="2210.89" data-end="2213.8">that you can't get out of bounds and we</span> <span data-start="2213.8" data-end="2215.9">update the the rotator the orientation</span> <span data-start="2215.9" data-end="2218.119">of you and we rotate the power up so</span> <span data-start="2218.119" data-end="2220.46">that it spins a bit and we render the</span> <span data-start="2220.46" data-end="2222.559">scene and if we happen to be actually</span> <span data-start="2222.559" data-end="2225.28">moving enough for it to be visible and</span> <span data-start="2225.28" data-end="2229.13">we're moving then we sort of sending</span> <span data-start="2229.13" data-end="2230.839">that information on calling this this</span> <span data-start="2230.839" data-end="2232.579">event listener and the network actually</span> <span data-start="2232.579" data-end="2235.609">actually sends it over and yeah check</span> <span data-start="2235.609" data-end="2237.43">out the code it's quite fun you can</span> <span data-start="2237.43" data-end="2242.51">extend it whatever you wish and we did</span> <span data-start="2242.51" data-end="2248.6">it</span> <span data-start="2248.61" data-end="2250.89">you can totally wire me the money on my</span> </p>
<p><span data-start="2250.89" data-end="2255.03">Swiss bank account later so what's next</span> <span data-start="2255.03" data-end="2257.16">well very quickly first of all you can</span> <span data-start="2257.16" data-end="2260.15">do it via web RTC implementation of that</span> <span data-start="2260.15" data-end="2262.59">you can actually build game mechanics</span> <span data-start="2262.59" data-end="2263.97">into it because right now it's just fun</span> <span data-start="2263.97" data-end="2265.62">to fly around with a horse but not that</span> <span data-start="2265.62" data-end="2267.54">much like scoring or something you can</span> <span data-start="2267.54" data-end="2269.34">use the gamepad API which is quite fun</span> <span data-start="2269.34" data-end="2271.11">as well particularly with oculus rift</span> <span data-start="2271.11" data-end="2272.73">and there's things like the leap motion</span> <span data-start="2272.73" data-end="2274.38">of my which allow you to actually use</span> <span data-start="2274.38" data-end="2275.91">your hands and virtual reality which</span> <span data-start="2275.91" data-end="2277.91">gives a better feeling of presence</span> </p>
</section>