<section>
<p><span data-start="0.18" data-end="12.549">[Music]</span> <span data-start="12.559" data-end="17.25">so why'd you come good</span> <span data-start="17.25" data-end="20.31">good afternoon everyone so this is my</span> <span data-start="20.31" data-end="23.189">first time that I'm giving a talk like a</span> <span data-start="23.189" data-end="25.98">fool and talked in a Tarascon like a</span> <span data-start="25.98" data-end="27.48">conflict outside of Thailand</span> <span data-start="27.48" data-end="32.25">so first I'm really grateful for the</span> <span data-start="32.25" data-end="35.63">organizers to have invited me here and</span> <span data-start="35.63" data-end="37.8">the past two days were really awesome</span> <span data-start="37.8" data-end="42.71">and I'm really excited for today so</span> <span data-start="42.71" data-end="47.64">let's begin so today I'm gonna talk</span> <span data-start="47.64" data-end="51.96">about smells in react apps and if you</span> <span data-start="51.96" data-end="54.78">talk about if if you talk about coach</span> <span data-start="54.78" data-end="57.239">males there are several books that talk</span> <span data-start="57.239" data-end="60.57">about coats mail and designs me as well</span> <span data-start="60.57" data-end="63.66">but unfortunately I don't read many</span> <span data-start="63.66" data-end="66.24">books so usually I read the articles on</span> <span data-start="66.24" data-end="68.58">the internet and piece them together so</span> <span data-start="68.58" data-end="71.85">these three books I haven't read them</span> <span data-start="71.85" data-end="78.21">yet so the contents that I'm gonna be</span> <span data-start="78.21" data-end="79.92">presenting today they are mainly based</span> <span data-start="79.92" data-end="82.229">on my experience so maybe they are not</span> <span data-start="82.229" data-end="84.47">perfectly aligned with those books and</span> <span data-start="84.47" data-end="87.33">maybe I may use a different term with</span> <span data-start="87.33" data-end="89.61">them but I really hope they will be</span> <span data-start="89.61" data-end="94.74">useful to you so my name is ty and I</span> <span data-start="94.74" data-end="100.22">come from Thailand and I'm a Thai person</span> <span data-start="100.22" data-end="104.15">and this is my twitter ID so at DT ints</span> <span data-start="104.15" data-end="106.67">so if you have any feedback about this</span> <span data-start="106.67" data-end="109.16">talk so please tweet it to me I would</span> <span data-start="109.16" data-end="112.58">really appreciate it you can also find</span> <span data-start="112.58" data-end="116.48">me on github as well so with that say</span> <span data-start="116.48" data-end="121.07">let's start so I really like to build</span> <span data-start="121.07" data-end="124.43">software for fun it's just like team</span> <span data-start="124.43" data-end="128.119">home and say in his previous previous</span> <span data-start="128.119" data-end="130.91">talk so in my free time I really like to</span> <span data-start="130.91" data-end="133.24">work on side projects so this is one</span> <span data-start="133.24" data-end="135.83">this one is a web-based musical</span> <span data-start="135.83" data-end="137">instruments and there are several</span> <span data-start="137" data-end="139.76">instruments you can choose from I demo</span> <span data-start="139.76" data-end="143.27">it in a Scottish year 2016 in a</span> <span data-start="143.27" data-end="146.39">lightning talk and some other time I</span> <span data-start="146.39" data-end="148.31">feel like doing something a bit silly so</span> <span data-start="148.31" data-end="151.79">here I created Windows 2000 theme for</span> <span data-start="151.79" data-end="156.459">autumn text editor the challenge here</span> <span data-start="156.459" data-end="158.93">dimensionless here is to replicate the</span> <span data-start="158.93" data-end="161.75">three-wheel in Windows in a</span> <span data-start="161.75" data-end="164.15">picture-perfect way so you think just</span> <span data-start="164.15" data-end="168.86">yes so this is really fun the other time</span> <span data-start="168.86" data-end="171.29">you see I sometimes I want to play a</span> <span data-start="171.29" data-end="173.39">music game like a DJ so I need a</span> <span data-start="173.39" data-end="176.239">turntable so I put a dish and put a</span> <span data-start="176.239" data-end="178.19">phone in a dish and let it send the</span> <span data-start="178.19" data-end="183.05">gyroscope signal to the game so that's</span> <span data-start="183.05" data-end="185.72">that's some of my projects so that you</span> <span data-start="185.72" data-end="188.78">see it for me the fun part is really</span> <span data-start="188.78" data-end="191.36">important because that makes coding a</span> <span data-start="191.36" data-end="194.33">fulfilling thing to do and makes it feel</span> <span data-start="194.33" data-end="197.12">good and when you could as a hobby it</span> <span data-start="197.12" data-end="200.989">will be a hobby that can also improve my</span> <span data-start="200.989" data-end="203.63">professional coding skills as well I'm</span> <span data-start="203.63" data-end="206.18">also really interested in how to make</span> <span data-start="206.18" data-end="208.79">software maintainable that's because in</span> <span data-start="208.79" data-end="210.95">one of my old project about 10 years ago</span> </p>
<p><span data-start="210.95" data-end="214.22">I put in a lot of effort developing it</span> <span data-start="214.22" data-end="216.35">but at that time I didn't know about</span> <span data-start="216.35" data-end="218.78">software engineering stuff so I keep on</span> <span data-start="218.78" data-end="221.72">coding and coding and coding and over</span> <span data-start="221.72" data-end="225.769">time it became less maintainable so that</span> <span data-start="225.769" data-end="227.36">we have seven thousand lines of</span> <span data-start="227.36" data-end="231.59">untestable code and at that point when I</span> <span data-start="231.59" data-end="234.11">do something or fix something another</span> <span data-start="234.11" data-end="237.2">appears you remember the last the last</span> <span data-start="237.2" data-end="241.13">demo the buck simulator so now</span> <span data-start="241.13" data-end="244.49">maintaining it it's not fun and later I</span> <span data-start="244.49" data-end="246.11">learned about software engineering so I</span> <span data-start="246.11" data-end="247.76">feel like I want to improve the code</span> <span data-start="247.76" data-end="251.87">base and add the tests but I have seven</span> <span data-start="251.87" data-end="252.92">thousand lines of</span> <span data-start="252.92" data-end="255.91">untestable code so that's also not fun</span> <span data-start="255.91" data-end="259.97">and as a side project I think it should</span> <span data-start="259.97" data-end="263.27">be fun and not a burden and this a huge</span> <span data-start="263.27" data-end="266.18">boring task so I start to feel that I'd</span> <span data-start="266.18" data-end="268.52">rather do something else and so the</span> <span data-start="268.52" data-end="271.04">development of that project stopped and</span> <span data-start="271.04" data-end="274.67">that's sad because I spent years working</span> <span data-start="274.67" data-end="275.77">on it</span> <span data-start="275.77" data-end="277.69">so what I learned here is that</span> <span data-start="277.69" data-end="280.52">sustainability really matters and so now</span> <span data-start="280.52" data-end="283.25">when I work on a new project I have to</span> <span data-start="283.25" data-end="284.51">make sure that it will not end up like</span> <span data-start="284.51" data-end="287.48">that one that's why I'm really</span> <span data-start="287.48" data-end="290.42">interested in this stuff and as you know</span> <span data-start="290.42" data-end="292.43">there are so many contributing factors</span> <span data-start="292.43" data-end="295.13">and so many techniques you can use to</span> <span data-start="295.13" data-end="299.6">make a software maintainable so later in</span> <span data-start="299.6" data-end="302.36">2014 I started working on a new project</span> <span data-start="302.36" data-end="305.56">and it's called amuse it is a web-based</span> <span data-start="305.56" data-end="308.6">open source music game using html5</span> <span data-start="308.6" data-end="312.29">technologies and I have the game with me</span> <span data-start="312.29" data-end="314.54">as well so if you wanna try a demo you</span> <span data-start="314.54" data-end="317.72">can approach me and so I want to make it</span> <span data-start="317.72" data-end="320.36">great I want people to play this game so</span> </p>
<p><span data-start="320.36" data-end="322.669">I need to make sure that this project is</span> <span data-start="322.669" data-end="327.23">maintainable so I organized my code into</span> <span data-start="327.23" data-end="330.11">modules and use webpack to bundle them</span> <span data-start="330.11" data-end="332.75">together I set up a fling to cache</span> <span data-start="332.75" data-end="335.36">common errors and enforce a consistent</span> <span data-start="335.36" data-end="338.479">coding style I set up unit testing</span> <span data-start="338.479" data-end="340.76">continuous integration and deployment as</span> <span data-start="340.76" data-end="344.81">well as I track my code coverage so that</span> <span data-start="344.81" data-end="347.21">took me three weeks to setup I</span> <span data-start="347.21" data-end="349.22">I just meant three weeks setting up the</span> <span data-start="349.22" data-end="350.54">project without doing any game</span> <span data-start="350.54" data-end="353.3">development and that sounds pretty long</span> <span data-start="353.3" data-end="354.95">compared to other projects but the</span> <span data-start="354.95" data-end="358.34">result is that it made a huge impact so</span> <span data-start="358.34" data-end="361.46">the unit tests they helped me to switch</span> <span data-start="361.46" data-end="363.47">from one library to the other without</span> <span data-start="363.47" data-end="365.979">fear that I would break the game a</span> <span data-start="365.979" data-end="368.03">decoupled architecture</span> <span data-start="368.03" data-end="370.57">to try out different wheel libraries I</span> <span data-start="370.57" data-end="373.46">tried two times without having to</span> <span data-start="373.46" data-end="376.58">rewrite the whole app and putting</span> <span data-start="376.58" data-end="378.08">implementation details behind an</span> <span data-start="378.08" data-end="379.88">interface lets me switch to a new</span> <span data-start="379.88" data-end="382.7">back-end service without having to make</span> <span data-start="382.7" data-end="384.92">a sweeping change across the whole</span> <span data-start="384.92" data-end="389.63">codebase also some features I can</span> <span data-start="389.63" data-end="391.79">prototype it in one night so in that</span> <span data-start="391.79" data-end="394.46">project I learned that a good codebase</span> <span data-start="394.46" data-end="397.46">it's like a clean table so where I can</span> <span data-start="397.46" data-end="400.25">experiment quickly and prototype new</span> <span data-start="400.25" data-end="403.52">ideas right away without having to first</span> <span data-start="403.52" data-end="406.73">move so many stuff that's getting in my</span> <span data-start="406.73" data-end="407.14">way</span> <span data-start="407.14" data-end="410.48">so after I implement the idea if the</span> <span data-start="410.48" data-end="411.8">experiment was successful</span> </p>
<p><span data-start="411.8" data-end="414.38">I try to refactor the code base to be</span> <span data-start="414.38" data-end="416.36">clean again ready for more experiments</span> <span data-start="416.36" data-end="419.63">to come in the future so I've been</span> <span data-start="419.63" data-end="421.49">maintaining this for about three years</span> <span data-start="421.49" data-end="426.79">now and I'm still maintaining it so now</span> <span data-start="426.79" data-end="430.01">I'm working out front in architect at</span> <span data-start="430.01" data-end="434.09">Tazewell and our app is using based on</span> <span data-start="434.09" data-end="435.67">react and redux</span> <span data-start="435.67" data-end="440">so we have many features I guess so this</span> <span data-start="440" data-end="443.39">is our tree view and this is just the</span> <span data-start="443.39" data-end="445.94">reader store and we have more than 900</span> <span data-start="445.94" data-end="448.58">components and over two years more than</span> <span data-start="448.58" data-end="452.48">20 engineers work on it so it is a</span> <span data-start="452.48" data-end="455.6">challenge for us to keep innovating new</span> <span data-start="455.6" data-end="458.15">features and at the same time making</span> <span data-start="458.15" data-end="460.19">sure the code is maintainable and we</span> <span data-start="460.19" data-end="462.23">have to strike a healthy balance between</span> <span data-start="462.23" data-end="464.9">minimizing technical debt and shortening</span> <span data-start="464.9" data-end="467.96">the time to market so pretty challenging</span> <span data-start="467.96" data-end="470.99">and as I say there are many contributing</span> <span data-start="470.99" data-end="475.49">factors to maintainability but the</span> <span data-start="475.49" data-end="476.87">things that have lived here they are</span> <span data-start="476.87" data-end="479.78">technical stuff and when when I work in</span> <span data-start="479.78" data-end="483.41">a team I learned that the most important</span> <span data-start="483.41" data-end="489.5">thing really is communication so you're</span> <span data-start="489.5" data-end="492.92">going to see a lot of code starting from</span> <span data-start="492.92" data-end="495.56">this light so let's see an example now I</span> <span data-start="495.56" data-end="498.05">created a module called music preview</span> <span data-start="498.05" data-end="500.139">and it exports five functions</span> <span data-start="500.139" data-end="502.09">the rest of the app only needs to know</span> <span data-start="502.09" data-end="503.83">about these five functions to use it</span> <span data-start="503.83" data-end="506.379">they don't need to know that behind the</span> <span data-start="506.379" data-end="509.289">interface of that five function lies a</span> <span data-start="509.289" data-end="512.2">big complicated ugly hack so you can see</span> <span data-start="512.2" data-end="515.14">like a four inside an if and if inside</span> <span data-start="515.14" data-end="517.12">an if inside and four in here and</span> <span data-start="517.12" data-end="519.61">there's a cache block inside a trice and</span> <span data-start="519.61" data-end="525.22">if in another if in the four so in</span> <span data-start="525.22" data-end="527.17">principle this would work fine because</span> <span data-start="527.17" data-end="530.019">the code space behind the interface and</span> <span data-start="530.019" data-end="532.12">other parts of the software are not</span> <span data-start="532.12" data-end="535.269">affected by it but in practice another</span> <span data-start="535.269" data-end="537.76">developer may be looking for a technical</span> <span data-start="537.76" data-end="540.76">solution and stumbled upon my hack since</span> </p>
<p><span data-start="540.76" data-end="543.399">I didn't clearly communicate that the</span> <span data-start="543.399" data-end="546.43">code they are seeing is the hack it got</span> <span data-start="546.43" data-end="550.269">duplicated so it's really important to</span> <span data-start="550.269" data-end="552.88">communicate with other developers about</span> <span data-start="552.88" data-end="555.07">when when you're writing code you have</span> <span data-start="555.07" data-end="557.529">to communicate whether you are doing</span> </p>
<p><span data-start="557.529" data-end="559.81">I mean while you are doing it and is it</span> <span data-start="559.81" data-end="562.36">the best practice is it the way other</span> <span data-start="562.36" data-end="565.63">people should take as an example so</span> <span data-start="565.63" data-end="568.269">another important factor is having an</span> <span data-start="568.269" data-end="570.85">effective code reviews and to do an</span> <span data-start="570.85" data-end="573.699">effective code reviews I think in my</span> <span data-start="573.699" data-end="575.44">opinion we should learn to recognize</span> <span data-start="575.44" data-end="579.1">smells inside our code and this is what</span> <span data-start="579.1" data-end="582.61">I'm gonna talk about today the first</span> <span data-start="582.61" data-end="585.1">kind of smell I call it information</span> <span data-start="585.1" data-end="589.54">leaks so let's see another example so</span> <span data-start="589.54" data-end="592.39">let's say in our project we have a</span> <span data-start="592.39" data-end="595.029">standard user interface toolkit which</span> <span data-start="595.029" data-end="597.43">contains the component that I use across</span> <span data-start="597.43" data-end="600.13">the app so one of them is this component</span> <span data-start="600.13" data-end="602.44">the user of water so we can use this</span> <span data-start="602.44" data-end="605.74">component to render and users of water</span> <span data-start="605.74" data-end="608.38">by specifying the image and the size and</span> <span data-start="608.38" data-end="612.42">we have three sizes to choose from small</span> <span data-start="612.42" data-end="615.73">medium and large maybe that's a bit too</span> <span data-start="615.73" data-end="620.589">large okay and later as we develop our</span> <span data-start="620.589" data-end="623.32">app we need to implement new features so</span> <span data-start="623.32" data-end="626.44">the code changes over time we have to</span> <span data-start="626.44" data-end="629.079">implement the messaging system and we</span> <span data-start="629.079" data-end="630.6">got the design</span> <span data-start="630.6" data-end="633.029">and this is our how a message should</span> <span data-start="633.029" data-end="635.43">look like on the Left we have the water</span> <span data-start="635.43" data-end="637.92">on the right some text so this should be</span> <span data-start="637.92" data-end="639.959">straightforward so I look at the user</span> <span data-start="639.959" data-end="642.24">avatar component and I saw that decides</span> <span data-start="642.24" data-end="646.949">that we need to use it's not there to</span> <span data-start="646.949" data-end="649.17">fix this we need to add a new size but</span> <span data-start="649.17" data-end="651.8">we already have small medium and large</span> <span data-start="651.8" data-end="661.61">what should we put in here medium large</span> <span data-start="661.62" data-end="665.92">quite lush okay so we did the most</span> <span data-start="665.92" data-end="668.11">obvious thing that makes perfect sense</span> <span data-start="668.11" data-end="672.16">we name it appropriately message because</span> <span data-start="672.16" data-end="674.259">it's only used in one place the message</span> <span data-start="674.259" data-end="675.389">right</span> <span data-start="675.389" data-end="680.8">so does this smells a bit to you yeah so</span> <span data-start="680.8" data-end="682.569">let's keep going in for now so few</span> <span data-start="682.569" data-end="684.1">months later I start seeing this</span> <span data-start="684.1" data-end="686.47">everywhere in other places that's not</span> <span data-start="686.47" data-end="690.04">related to the message at all so what</span> <span data-start="690.04" data-end="692.439">happened here let's step out a bit so we</span> <span data-start="692.439" data-end="694.48">have the message component which is a</span> <span data-start="694.48" data-end="696.279">specific feature it belongs to a</span> <span data-start="696.279" data-end="698.47">specific feature we have the user water</span> <span data-start="698.47" data-end="700.959">which is generic you say interface</span> <span data-start="700.959" data-end="703.269">component so the message wants to show</span> <span data-start="703.269" data-end="706.749">in a water so it uses that component in</span> <span data-start="706.749" data-end="710.29">turn that component knows how big the</span> <span data-start="710.29" data-end="714.069">owatta should be so it's aware of the</span> <span data-start="714.069" data-end="718.709">messaging system and when I see this I</span> <span data-start="718.709" data-end="721.629">think that okay some information is</span> <span data-start="721.629" data-end="723.49">leaking here because now the message</span> <span data-start="723.49" data-end="725.98">knows how to render itself but it</span> <span data-start="725.98" data-end="727.569">doesn't know how big the avatar should</span> <span data-start="727.569" data-end="731.709">be instead that knowledge is leaked into</span> <span data-start="731.709" data-end="735.85">the user of other component so the leak</span> <span data-start="735.85" data-end="737.74">here is that information about a</span> <span data-start="737.74" data-end="740.199">specific feature leaked into a generic</span> <span data-start="740.199" data-end="742.149">component making the component less</span> <span data-start="742.149" data-end="749.319">generic and more awkward to reuse so but</span> <span data-start="749.319" data-end="751.779">another reason why this happen is that</span> <span data-start="751.779" data-end="754.149">maybe because of our generic component</span> <span data-start="754.149" data-end="756.55">it's not flexible enough so we're gonna</span> <span data-start="756.55" data-end="758.62">try to make it more flexible to fix this</span> <span data-start="758.62" data-end="762.189">so we used to have four sides now we</span> <span data-start="762.189" data-end="766.209">have eight sides and now the message can</span> <span data-start="766.209" data-end="771.639">pick a size from the catalog and we</span> <span data-start="771.639" data-end="773.8">don't need to make any outward change to</span> <span data-start="773.8" data-end="776.439">it anymore but there's still a pitfall</span> <span data-start="776.439" data-end="779.17">here what would happen if we want to</span> <span data-start="779.17" data-end="784.87">make a new size between L and SL we may</span> <span data-start="784.87" data-end="787.029">need to adjust the size table again and</span> <span data-start="787.029" data-end="790.42">and maybe we have to go through the code</span> <span data-start="790.42" data-end="792.819">base and move it out to affect our it's</span> <span data-start="792.819" data-end="795.03">just out to ACS it out and so on</span> <span data-start="795.03" data-end="798.66">but fortunately at tasks well this is</span> <span data-start="798.66" data-end="800.43">flexible enough for us so we don't have</span> <span data-start="800.43" data-end="803.04">to do that but if you really want to</span> <span data-start="803.04" data-end="806.22">make it really flexible you can let the</span> <span data-start="806.22" data-end="808.89">user specify the size in pixel that's</span> <span data-start="808.89" data-end="811.98">really flexible but it may go out of</span> <span data-start="811.98" data-end="814.47">control right so to keep things under</span> <span data-start="814.47" data-end="816.96">control you can specify a list of</span> <span data-start="816.96" data-end="820.95">allowed size so you know they are trade</span> <span data-start="820.95" data-end="823.53">off to all of these three approaches so</span> <span data-start="823.53" data-end="826.74">this is an example where as mail calls</span> <span data-start="826.74" data-end="830.34">for a bit of code restructuring but</span> <span data-start="830.34" data-end="832.35">sometimes oh you have to do it's just</span> <span data-start="832.35" data-end="835.32">changing the name let's see another</span> <span data-start="835.32" data-end="839.22">example again we have a standard you say</span> <span data-start="839.22" data-end="841.74">interface to kit and we have a button</span> <span data-start="841.74" data-end="845.46">which the user can click we also have a</span> <span data-start="845.46" data-end="849.21">pop-up menu that the user can select an</span> <span data-start="849.21" data-end="853.23">item from it so help me with this I have</span> <span data-start="853.23" data-end="864.65">a button I have a menu ah menu button</span> <span data-start="864.65" data-end="865.86">okay</span> <span data-start="865.86" data-end="869.13">we're just putting it together so this</span> <span data-start="869.13" data-end="871.38">menu button you can click on it and a</span> <span data-start="871.38" data-end="873.45">menu opens and you can select items from</span> <span data-start="873.45" data-end="876.33">it but the cache here is that the button</span> <span data-start="876.33" data-end="879.33">must appear to be pressed while the menu</span> <span data-start="879.33" data-end="883.05">is open only until the menu is closed</span> <span data-start="883.05" data-end="885.51">then the button can return back to the</span> <span data-start="885.51" data-end="889.86">original state so at first thought we</span> <span data-start="889.86" data-end="891.81">may again start with the most obvious</span> <span data-start="891.81" data-end="894.51">thing here which is to make button and</span> <span data-start="894.51" data-end="897.57">step another prop called its menu open</span> <span data-start="897.57" data-end="901.589">so that if the if it's true then it</span> <span data-start="901.589" data-end="905.52">appears to be pressed but again thus it</span> <span data-start="905.52" data-end="910.14">smells a bit that's because now the</span> <span data-start="910.14" data-end="912.39">button is now aware of the menu which is</span> <span data-start="912.39" data-end="917.06">an entirely unrelated concept so</span> <span data-start="917.06" data-end="921.12">thinking a bit deeper we see that the</span> <span data-start="921.12" data-end="922.89">button doesn't really need to know about</span> <span data-start="922.89" data-end="924.959">the menu but it only needs to know</span> <span data-start="924.959" data-end="926.43">whether the button should appear to be</span> <span data-start="926.43" data-end="928.29">the</span> <span data-start="928.29" data-end="930.999">this example show that shows that a</span> <span data-start="930.999" data-end="934.379">simple naming change can entirely</span> <span data-start="934.379" data-end="938.68">communicate a different thing so when</span> <span data-start="938.68" data-end="942.49">people say it's just a name so you know</span> <span data-start="942.49" data-end="945.939">naming is really important so for this</span> <span data-start="945.939" data-end="949.029">kind of smell when I reveal code I try</span> <span data-start="949.029" data-end="952.029">to ask myself does this really needs to</span> <span data-start="952.029" data-end="958.199">know about that so that's how I do it</span> <span data-start="958.199" data-end="963.79">the second the second smell I call it</span> <span data-start="963.79" data-end="967.209">low cohesion and cohesion here means</span> <span data-start="967.209" data-end="971.339">that related things stay close together</span> <span data-start="971.339" data-end="974.92">let's see more examples here so now for</span> <span data-start="974.92" data-end="977.949">our app we need to create a navigation</span> <span data-start="977.949" data-end="983.949">bar and it looks like this so if I use</span> <span data-start="983.949" data-end="986.019">react bootstrap implementing this should</span> <span data-start="986.019" data-end="988.12">be straightforward so first I need an F</span> <span data-start="988.12" data-end="991.059">bar inside it header which contains the</span> <span data-start="991.059" data-end="993.67">apps name and then several items which</span> <span data-start="993.67" data-end="996.639">is shown here so that's it so far so</span> <span data-start="996.639" data-end="999.579">good again we need to implement new</span> <span data-start="999.579" data-end="1001.86">feature and this time is going to be the</span> <span data-start="1001.86" data-end="1005.009">authentication system and we need to now</span> <span data-start="1005.009" data-end="1007.439">we need to update the nav bar to display</span> <span data-start="1007.439" data-end="1012.269">these two guys at the right so let's do</span> <span data-start="1012.269" data-end="1016.139">it first I'm gonna take in some props so</span> <span data-start="1016.139" data-end="1018.269">that we can figure out how to display</span> <span data-start="1018.269" data-end="1020.189">the nav bar correctly we're gonna figure</span> <span data-start="1020.189" data-end="1022.199">out whether the user is locking or not</span> <span data-start="1022.199" data-end="1025.23">and then at the bottom we're gonna at</span> <span data-start="1025.23" data-end="1027">the right of that row right side of the</span> <span data-start="1027" data-end="1029.52">nav bar we're gonna add the navigation</span> <span data-start="1029.52" data-end="1033.289">item accordingly okay</span> <span data-start="1033.299" data-end="1036.48">and now this is our presentation or</span> <span data-start="1036.48" data-end="1039.6">component but we also need to connect to</span> <span data-start="1039.6" data-end="1042.6">the readers store so we can do that</span> <span data-start="1042.6" data-end="1044.939">using the connect function from react</span> <span data-start="1044.939" data-end="1050.1">react leaders package so that's it now</span> <span data-start="1050.1" data-end="1051.57">looking at the component we can see that</span> <span data-start="1051.57" data-end="1054.23">it cleanly separates into three concerns</span> <span data-start="1054.23" data-end="1057.63">selecting data dispatching action into</span> <span data-start="1057.63" data-end="1060.03">the store and our rendering logic which</span> <span data-start="1060.03" data-end="1060.809">is the</span> <span data-start="1060.809" data-end="1067.049">sensational component again we need to</span> <span data-start="1067.049" data-end="1070.74">implement new features this time two new</span> <span data-start="1070.74" data-end="1073.769">features so now we need to update the</span> <span data-start="1073.769" data-end="1076.409">navbar Ken when the user locked in now</span> <span data-start="1076.409" data-end="1078.45">we need to display the number of unread</span> <span data-start="1078.45" data-end="1082.499">notifications and messages so coming</span> <span data-start="1082.499" data-end="1084.09">back to our code we already see the</span> <span data-start="1084.09" data-end="1087.679">pattern here so let's go with the flow</span> <span data-start="1087.679" data-end="1091.019">so first I'm gonna select some data from</span> <span data-start="1091.019" data-end="1092.82">the store and by the action creators</span> <span data-start="1092.82" data-end="1095.73">here and then late and then here I'm</span> <span data-start="1095.73" data-end="1098.669">gonna take in some props according to</span> <span data-start="1098.669" data-end="1101.249">the code at the top now going down to</span> <span data-start="1101.249" data-end="1104.519">the bottom here's the rendering logic so</span> <span data-start="1104.519" data-end="1107.49">we are going to add two more items here</span> <span data-start="1107.49" data-end="1114.83">so the notifications and the message</span> <span data-start="1114.83" data-end="1118.2">that's it so maybe we can zoom out a bit</span> <span data-start="1118.2" data-end="1120.809">here we can see the pattern here that</span> <span data-start="1120.809" data-end="1124.23">our code is cleanly separated into three</span> <span data-start="1124.23" data-end="1127.23">concerns but these concerns are</span> <span data-start="1127.23" data-end="1130.86">cross-cutting that means they have to do</span> <span data-start="1130.86" data-end="1132.629">with many different functionalities of</span> <span data-start="1132.629" data-end="1135.72">the app but if we looked from another</span> <span data-start="1135.72" data-end="1137.73">perspective from a functionality</span> <span data-start="1137.73" data-end="1142.559">standpoint we are going to see that many</span> <span data-start="1142.559" data-end="1146.159">functional parts they are intermixed</span> <span data-start="1146.159" data-end="1149.519">inside the code and this can make it a</span> <span data-start="1149.519" data-end="1152.85">bit hard to navigate the code if we want</span> <span data-start="1152.85" data-end="1154.619">to look for the code related to the</span> <span data-start="1154.619" data-end="1157.83">navigation we have to jump and skip over</span> <span data-start="1157.83" data-end="1162.09">a lot of unrelated code let's see a real</span> <span data-start="1162.09" data-end="1165.149">world example so this is options panel</span> <span data-start="1165.149" data-end="1169.559">from my project beamers so I need to add</span> <span data-start="1169.559" data-end="1175.11">a new option here so this is the</span> <span data-start="1175.11" data-end="1176.759">existing code don't worry about it</span> <span data-start="1176.759" data-end="1179.999">but to implement this here's where I</span> <span data-start="1179.999" data-end="1182.279">need to add a code first one there the</span> <span data-start="1182.279" data-end="1184.559">second one in the prop types there and I</span> <span data-start="1184.559" data-end="1187.919">have to jump down 80 lines to add a new</span> <span data-start="1187.919" data-end="1191.76">code here so seeing this</span> <span data-start="1191.76" data-end="1195.12">as I started think as I add more options</span> <span data-start="1195.12" data-end="1198.21">what would happen this part would spread</span> <span data-start="1198.21" data-end="1201.57">even more apart and I have to scroll up</span> <span data-start="1201.57" data-end="1204.81">and down a lot more to implement more</span> <span data-start="1204.81" data-end="1208.05">options in the future so some cohesion</span> <span data-start="1208.05" data-end="1212.04">is lost here and you can tell that when</span> <span data-start="1212.04" data-end="1214.53">you code you have to knit when you need</span> <span data-start="1214.53" data-end="1216">to do something simple you have to</span> <span data-start="1216" data-end="1218.82">change you have to jump up and down a</span> <span data-start="1218.82" data-end="1221.7">lot or maybe you have to go between</span> <span data-start="1221.7" data-end="1224.76">different files or even sometimes</span> <span data-start="1224.76" data-end="1228.9">different repository you can also smell</span> <span data-start="1228.9" data-end="1231.66">this when reviewing a PR when you start</span> <span data-start="1231.66" data-end="1233.82">to notice that I read this piece of code</span> <span data-start="1233.82" data-end="1236.34">but it but I don't understand it I have</span> <span data-start="1236.34" data-end="1238.89">to jump down and jump up and down and up</span> <span data-start="1238.89" data-end="1242.15">again to fully understand something a</span> <span data-start="1242.15" data-end="1246.21">particular feature and this can also</span> <span data-start="1246.21" data-end="1249.14">happen when files are organized by types</span> <span data-start="1249.14" data-end="1251.7">so in this example if I want to</span> <span data-start="1251.7" data-end="1253.89">implement a new feature I have to change</span> <span data-start="1253.89" data-end="1258">six files and Rauh grouping file this</span> <span data-start="1258" data-end="1261.48">way can make the architecture more</span> <span data-start="1261.48" data-end="1263.7">obvious so it's obvious we have in</span> <span data-start="1263.7" data-end="1268.38">entities interactors IO and UI here and</span> <span data-start="1268.38" data-end="1271.41">in a small project like beam use I would</span> <span data-start="1271.41" data-end="1273.66">say this is a pretty good way to</span> <span data-start="1273.66" data-end="1276.63">structure but once you have like 200</span> <span data-start="1276.63" data-end="1279.96">files of each types this approach</span> <span data-start="1279.96" data-end="1284.43">doesn't scale very well for us so what</span> <span data-start="1284.43" data-end="1286.32">we can do is we can try to aim for</span> <span data-start="1286.32" data-end="1288.33">functional cohesion we try to group</span> <span data-start="1288.33" data-end="1292.19">things by what the purpose that code is</span> <span data-start="1292.19" data-end="1295.83">instead of grouping by responsibility</span> <span data-start="1295.83" data-end="1297.72">like I'm gonna select data from the</span> <span data-start="1297.72" data-end="1301.38">store I'm gonna dispatch no this part</span> <span data-start="1301.38" data-end="1304.16">for message this part for notification</span> <span data-start="1304.16" data-end="1305.87">let's do that</span> <span data-start="1305.87" data-end="1309.5">so coming back to our code here's the</span> <span data-start="1309.5" data-end="1312.48">navigation component so I'm first I'm</span> <span data-start="1312.48" data-end="1314.7">gonna remove stuff not directly related</span> <span data-start="1314.7" data-end="1318.36">to navigation so this one is gone plop</span> <span data-start="1318.36" data-end="1321.54">tides gone and the rendering logic that</span> <span data-start="1321.54" data-end="1324.659">has to do with user message notification</span> </p>
<p><span data-start="1324.659" data-end="1328.08">I replaced them with specialized</span> <span data-start="1328.08" data-end="1331.979">components here so this components this</span> <span data-start="1331.979" data-end="1334.08">specialized components they are smart in</span> <span data-start="1334.08" data-end="1337.049">a way that the lucky enough item for</span> <span data-start="1337.049" data-end="1339.419">example it would know how to figure out</span> <span data-start="1339.419" data-end="1341.46">the current authentication state on its</span> <span data-start="1341.46" data-end="1344.729">own and renders the right thing so let's</span> <span data-start="1344.729" data-end="1348.479">now look at it again we connect to the</span> <span data-start="1348.479" data-end="1351.059">reader store we select some data we bind</span> <span data-start="1351.059" data-end="1354.419">the action creators and here's our</span> <span data-start="1354.419" data-end="1358.229">enduring logic so that's pretty simple</span> <span data-start="1358.229" data-end="1362.249">and and this looks pretty good because</span> <span data-start="1362.249" data-end="1364.619">now most part of the code is now</span> <span data-start="1364.619" data-end="1366.929">concerned with authentication and the</span> <span data-start="1366.929" data-end="1369.95">current user except for these two lines</span> <span data-start="1369.95" data-end="1373.47">which renders the nav item they are</span> <span data-start="1373.47" data-end="1375.259">still concerned with the navigation</span> <span data-start="1375.259" data-end="1380.489">right so we are losing a bit of cohesion</span> <span data-start="1380.489" data-end="1383.46">here again because if in the future we</span> <span data-start="1383.46" data-end="1385.649">need to replace the nav item component</span> <span data-start="1385.649" data-end="1389.07">with something else we we need to jump</span> <span data-start="1389.07" data-end="1391.739">from the notification I mean from the</span> <span data-start="1391.739" data-end="1394.619">navigation component at the top to here</span> <span data-start="1394.619" data-end="1396.45">and down to other components that</span> <span data-start="1396.45" data-end="1401.21">renders an F item so what can we do here</span> <span data-start="1401.21" data-end="1405.349">well we can delegate the rendering logic</span> <span data-start="1405.349" data-end="1408.389">so instead of hard-coding the rendering</span> <span data-start="1408.389" data-end="1411.69">logic here we let the user of this</span> <span data-start="1411.69" data-end="1414.179">component specify its own rendering</span> <span data-start="1414.179" data-end="1419.789">logic as a function so I'm gonna add</span> <span data-start="1419.789" data-end="1424.229">some prop types to make it more clear so</span> <span data-start="1424.229" data-end="1426.84">now this component is now only concerned</span> <span data-start="1426.84" data-end="1429.059">about the current user and the</span> <span data-start="1429.059" data-end="1431.309">authentication state it's no longer</span> <span data-start="1431.309" data-end="1433.679">concerned about how to render it it</span> <span data-start="1433.679" data-end="1437.759">belongs to someone else now so this</span> <span data-start="1437.759" data-end="1439.619">component is no longer related to</span> <span data-start="1439.619" data-end="1440.249">navigation</span> <span data-start="1440.249" data-end="1442.229">it's just authentication so I'll just</span> <span data-start="1442.229" data-end="1445.59">name them off and by doing it this way</span> <span data-start="1445.59" data-end="1449.099">the art component can be reused in other</span> <span data-start="1449.099" data-end="1451.139">parts of the app such as maybe</span> <span data-start="1451.139" data-end="1453.45">displaying some kind of content only</span> <span data-start="1453.45" data-end="1456.599">when the user is logged in by the way</span> <span data-start="1456.599" data-end="1457.61">this technique</span> <span data-start="1457.61" data-end="1460.07">that we delegate the rendering logic to</span> <span data-start="1460.07" data-end="1462.08">the users of the component is now</span> <span data-start="1462.08" data-end="1464.42">officially known as render props and</span> <span data-start="1464.42" data-end="1467">just a past few weeks</span> <span data-start="1467" data-end="1469.61">this just got into the official react</span> <span data-start="1469.61" data-end="1470.89">documentation</span> <span data-start="1470.89" data-end="1473.78">so let's come back to our navigation</span> <span data-start="1473.78" data-end="1476.54">component so at the bottom instead of</span> <span data-start="1476.54" data-end="1479.14">using a specialized component thus</span> <span data-start="1479.14" data-end="1482.51">moving the nav item down to other parts</span> <span data-start="1482.51" data-end="1485.38">of the code we can use the earth</span> <span data-start="1485.38" data-end="1490.25">component here and specify how to render</span> <span data-start="1490.25" data-end="1492.799">when the user is locked out and lock in</span> <span data-start="1492.799" data-end="1499.94">accordingly so now you can see all the</span> <span data-start="1499.94" data-end="1502.19">nav items are clip here so all we have</span> <span data-start="1502.19" data-end="1503.75">to do left is to change the notification</span> <span data-start="1503.75" data-end="1506.78">and messages to use the same pattern</span> <span data-start="1506.78" data-end="1508.82">then all the nav items are going to be</span> <span data-start="1508.82" data-end="1512.5">grouped in the navigation component</span> <span data-start="1512.5" data-end="1517.49">finally the earth component here if we</span> <span data-start="1517.49" data-end="1519.23">look at it the objective of this</span> <span data-start="1519.23" data-end="1521.48">component is to connect the user</span> <span data-start="1521.48" data-end="1524.84">interface which is here the navigation</span> <span data-start="1524.84" data-end="1527.63">bar but it can be something else as I</span> <span data-start="1527.63" data-end="1530.84">said to the data source which is here</span> <span data-start="1530.84" data-end="1535.04">the current authentication state so it</span> <span data-start="1535.04" data-end="1537.58">has what we call this kind of component</span> <span data-start="1537.58" data-end="1540.02">data connector component</span> <span data-start="1540.02" data-end="1545.03">so to recap once a component grow bigger</span> <span data-start="1545.03" data-end="1548.36">it can be hard to maintain so if we try</span> <span data-start="1548.36" data-end="1550.97">to split the component with the most</span> <span data-start="1550.97" data-end="1552.89">obvious way maybe doing something like</span> <span data-start="1552.89" data-end="1553.25">this</span> <span data-start="1553.25" data-end="1555.559">separate the logic part from the real</span> <span data-start="1555.559" data-end="1559.28">part but this can lead to the code</span> <span data-start="1559.28" data-end="1562.19">losing its cohesion especially when one</span> <span data-start="1562.19" data-end="1563.96">part would not make sense without the</span> <span data-start="1563.96" data-end="1568.37">other we can try to split the code by</span> <span data-start="1568.37" data-end="1571.01">the functional codes that is trying to</span> <span data-start="1571.01" data-end="1575.57">achieve and if we do this right it's</span> <span data-start="1575.57" data-end="1577.549">easier to make these components reusable</span> <span data-start="1577.549" data-end="1581.47">in other parts of the app so in</span> <span data-start="1581.47" data-end="1586.52">conclusions in code reviews we usually</span> <span data-start="1586.52" data-end="1588.95">reveal code for consistency for</span> <span data-start="1588.95" data-end="1590.24">readability</span> <span data-start="1590.24" data-end="1591.98">usually revealed for logical correctness</span> <span data-start="1591.98" data-end="1598.25">and this quality is relatively simpler</span> <span data-start="1598.25" data-end="1602.45">to review but define smells</span> <span data-start="1602.45" data-end="1606.11">they are quite subtle and it's pretty</span> <span data-start="1606.11" data-end="1609.11">easy to see the code as correct but miss</span> <span data-start="1609.11" data-end="1612.26">the such a design issue unless we are</span> <span data-start="1612.26" data-end="1617.09">aware of them and actively look for them</span> <span data-start="1617.09" data-end="1620.95">so to build maintainable software I</span> <span data-start="1620.95" data-end="1623.39">encourage everyone to develop the sense</span> <span data-start="1623.39" data-end="1626.18">of course males and be mindful of them</span> <span data-start="1626.18" data-end="1630.02">and today I shared you two kinds of</span> <span data-start="1630.02" data-end="1632.33">smells and these are the kinds of smells</span> <span data-start="1632.33" data-end="1634.82">that I encountered most in my</span> <span data-start="1634.82" data-end="1638.9">professional professional life I mean</span> <span data-start="1638.9" data-end="1643.4">coding and I don't know of any ways that</span> <span data-start="1643.4" data-end="1645.62">we can detect this males automatically</span> <span data-start="1645.62" data-end="1647.33">especially when it's concerned with</span> <span data-start="1647.33" data-end="1649.76">naming so we can check that we are doing</span> <span data-start="1649.76" data-end="1652.31">camelcase right but we cannot check</span> <span data-start="1652.31" data-end="1654.95">automatically whether this component</span> <span data-start="1654.95" data-end="1657.26">should know about the other component so</span> <span data-start="1657.26" data-end="1666.52">some human expert is required here so</span> <span data-start="1666.52" data-end="1669.77">when writing and reviewing code I would</span> <span data-start="1669.77" data-end="1671.69">like to encourage you to look for this</span> <span data-start="1671.69" data-end="1674.69">kind of smells and other smells as you</span> <span data-start="1674.69" data-end="1678.68">can find in the web and take note of</span> <span data-start="1678.68" data-end="1682.13">them last but not least not all smells</span> <span data-start="1682.13" data-end="1687.25">are bad for example duplicate code is a</span> <span data-start="1687.25" data-end="1691.37">well-known code smell but a duplicated</span> <span data-start="1691.37" data-end="1693.94">code can sometimes be easier to read</span> <span data-start="1693.94" data-end="1697.61">than the code that's not duplicated</span> <span data-start="1697.61" data-end="1700.31">because a code that's duplicated they</span> <span data-start="1700.31" data-end="1703.22">are more explicit and contains less</span> <span data-start="1703.22" data-end="1705.2">abstraction but once you increase the</span> <span data-start="1705.2" data-end="1708.5">level of abstraction it can be harder to</span> <span data-start="1708.5" data-end="1711.98">see what's going on and also that's why</span> </p>
<p><span data-start="1711.98" data-end="1714.44">I do placate all my slides instead of</span> <span data-start="1714.44" data-end="1718.94">using animations and in up with 201 and</span> <span data-start="1718.94" data-end="1722.66">202 ice here so in the end everything is</span> <span data-start="1722.66" data-end="1724.01">a trade-off</span> <span data-start="1724.01" data-end="1726.47">by making your modules smaller you're</span> <span data-start="1726.47" data-end="1729.5">gonna have more modules by reducing the</span> <span data-start="1729.5" data-end="1731.29">amount of code you have to maintain your</span> <span data-start="1731.29" data-end="1734.69">increasing third-party dependencies so</span> <span data-start="1734.69" data-end="1737.36">we have to make a lot of choices when</span> <span data-start="1737.36" data-end="1740.93">developing software and to see if we</span> <span data-start="1740.93" data-end="1745.46">have made the right trade-off look for</span> <span data-start="1745.46" data-end="1747.74">feedback from other developers so after</span> <span data-start="1747.74" data-end="1750.29">all we make code maintainable so that</span> <span data-start="1750.29" data-end="1754.76">other people can maintain it so let's</span> <span data-start="1754.76" data-end="1758.3">look for their feedback so that's all I</span> <span data-start="1758.3" data-end="1761.39">want to share today thank you everyone</span> <span data-start="1761.39" data-end="1762.89">for listening</span> </p>
</section>