<section>
<p><span data-start="39.379" data-end="44.879">my name is and I'm from PayPal yeah so</span> <span data-start="44.879" data-end="46.649">if you would like to follow along with a</span> <span data-start="46.649" data-end="48.809">slice in your own browser just point to</span> <span data-start="48.809" data-end="52.62">the URL out there yeah</span> <span data-start="52.62" data-end="55.559">so before I start off giving you a</span> <span data-start="55.559" data-end="58.499">textbook definition of what we mean by</span> <span data-start="58.499" data-end="62.19">template specialization I'd like to talk</span> <span data-start="62.19" data-end="64.68">about what is the problem that we wanted</span> <span data-start="64.68" data-end="67.469">to solve with this solution in big EEMA</span> <span data-start="67.469" data-end="70.259">ecommerce sites if you there are like</span> <span data-start="70.259" data-end="73.67">millions of users lots of products and</span> <span data-start="73.67" data-end="75.869">different flavors of these products that</span> <span data-start="75.869" data-end="79.53">we want to provide and these products</span> <span data-start="79.53" data-end="81.119">may vary with respect to the users</span> <span data-start="81.119" data-end="84.659">profile itself and so we needed a</span> <span data-start="84.659" data-end="86.729">mechanism in the framework itself</span> <span data-start="86.729" data-end="88.619">somehow to do it instead of actually</span> <span data-start="88.619" data-end="90.119">handling it within the templates and</span> <span data-start="90.119" data-end="91.619">putting the logic the business logic</span> <span data-start="91.619" data-end="94.859">inside the templates typical cases we've</span> <span data-start="94.859" data-end="97.14">had is like in case you want to a be</span> <span data-start="97.14" data-end="98.52">test inexperienced you have two</span> <span data-start="98.52" data-end="100.469">different great designs but you don't</span> <span data-start="100.469" data-end="102.119">know which gets you more signup and</span> <span data-start="102.119" data-end="105.39">which gets you better adaptation so</span> <span data-start="105.39" data-end="107.609">that's one case that you would want to</span> <span data-start="107.609" data-end="111.78">use this another common case is like you</span> <span data-start="111.78" data-end="114.149">want to adapt your website to different</span> <span data-start="114.149" data-end="116.159">form factors because your user may be a</span> <span data-start="116.159" data-end="117.6">person who uses your website on</span> <span data-start="117.6" data-end="122.88">different form factors and then this we</span> <span data-start="122.88" data-end="124.56">have a lot in PayPal that I'm not sure</span> <span data-start="124.56" data-end="125.88">if it's applicable to many other</span> <span data-start="125.88" data-end="127.679">countries like many other companies but</span> <span data-start="127.679" data-end="129.45">when you have an e-commerce site that</span> <span data-start="129.45" data-end="130.979">sells products to different countries</span> <span data-start="130.979" data-end="132.81">the countries may have some regulations</span> <span data-start="132.81" data-end="135.15">or they may have some slightly different</span> <span data-start="135.15" data-end="136.769">expectations of the product so you would</span> <span data-start="136.769" data-end="137.97">probably want to provide different</span> <span data-start="137.97" data-end="141.269">flavors of the same site for different</span> <span data-start="141.269" data-end="144.959">countries a little differently so what</span> <span data-start="144.959" data-end="147.299">are the solutions that are offered out</span> <span data-start="147.299" data-end="150.51">in the industry like one very popular</span> <span data-start="150.51" data-end="152.4">one is responsive adaptive design</span> <span data-start="152.4" data-end="155.189">responsive being using media queries and</span> </p>
<p><span data-start="155.189" data-end="157.53">CSS techniques to somehow fit the</span> <span data-start="157.53" data-end="159.689">website into the viewport based on the</span> <span data-start="159.689" data-end="162.739">viewport size and adaptive being</span> <span data-start="162.739" data-end="164.97">providing a very specific design for a</span> <span data-start="164.97" data-end="169.29">very specific device yeah and other</span> <span data-start="169.29" data-end="171.51">techniques are like not long ago many</span> <span data-start="171.51" data-end="173.489">companies used to have like their mobile</span> <span data-start="173.489" data-end="174.959">site completely hosted on a different</span> <span data-start="174.959" data-end="178.53">domain or even if you want to have two</span> <span data-start="178.53" data-end="179.879">different experiences you would probably</span> <span data-start="179.879" data-end="181.23">host them on two different routes and</span> <span data-start="181.23" data-end="183.81">redirect and based on the users what</span> <span data-start="183.81" data-end="185.609">experiment or what segmentation is</span> <span data-start="185.609" data-end="187.859">turned on on to that user and more</span> <span data-start="187.859" data-end="189.329">recently there's a really popular</span> <span data-start="189.329" data-end="192.42">technique called rest and what what it</span> <span data-start="192.42" data-end="194.939">is is basically responsive server-side</span> <span data-start="194.939" data-end="197.67">components and what this does is like it</span> <span data-start="197.67" data-end="199.919">takes the advantage of using something</span> <span data-start="199.919" data-end="201.69">like worthless value find out what</span> <span data-start="201.69" data-end="203.91">device it is and for certain devices you</span> <span data-start="203.91" data-end="206.43">kind of like turn on a completely</span> <span data-start="206.43" data-end="209.18">different design but use it as a hybrid</span> <span data-start="209.18" data-end="212.129">model with responsive on the front end</span> <span data-start="212.129" data-end="214.59">to also adjust according to the viewport</span> <span data-start="214.59" data-end="215.819">sizes for example you could have a</span> <span data-start="215.819" data-end="217.44">different experience on the website like</span> <span data-start="217.44" data-end="221.22">on the desktop but from a tablet on you</span> <span data-start="221.22" data-end="222.419">probably want to have a completely</span> <span data-start="222.419" data-end="224.579">different layout but you still want to</span> <span data-start="224.579" data-end="227.04">adjust it as the viewport size decreases</span> <span data-start="227.04" data-end="232.049">from tablet on so this brings us to the</span> <span data-start="232.049" data-end="233.31">question of what is template</span> <span data-start="233.31" data-end="236.79">specialization then tech I would give</span> <span data-start="236.79" data-end="238.709">the definition as like dynamically</span> <span data-start="238.709" data-end="241.829">switching partials in your view based on</span> <span data-start="241.829" data-end="245.22">the context at render time like at that</span> <span data-start="245.22" data-end="246.93">point you know what the users</span> <span data-start="246.93" data-end="249.81">information for that request is and you</span> <span data-start="249.81" data-end="252.659">know for that you sets a set a bunch of</span> <span data-start="252.659" data-end="254.43">rules to figure out for that rules</span> <span data-start="254.43" data-end="256.109">what is the template you want to render</span> <span data-start="256.109" data-end="258.69">and then based on that you decide so</span> <span data-start="258.69" data-end="260.459">this could be at some levels thought of</span> <span data-start="260.459" data-end="262.68">as a rest technique because it is using</span> <span data-start="262.68" data-end="265.77">some information on the server side to</span> <span data-start="265.77" data-end="268.409">decide what is the base view you want</span> <span data-start="268.409" data-end="269.009">render</span> <span data-start="269.009" data-end="270.96">and then from there on you could just</span> <span data-start="270.96" data-end="272.999">render in response let me make it</span> <span data-start="272.999" data-end="276.809">responsive on the front end so how does</span> <span data-start="276.809" data-end="281.039">it work one the first thing as you would</span> <span data-start="281.039" data-end="283.11">probably have a bunch of rules that you</span> <span data-start="283.11" data-end="285.419">specified to figure out how you want to</span> <span data-start="285.419" data-end="287.639">resolve the templates on based on what</span> <span data-start="287.639" data-end="289.77">rules so there'll be like a bunch of</span> <span data-start="289.77" data-end="291.93">rules that you specify upfront and then</span> <span data-start="291.93" data-end="293.969">at render time you use these rules and</span> <span data-start="293.969" data-end="295.68">you use the context information and then</span> <span data-start="295.68" data-end="298.529">resolve for every partial what is if if</span> <span data-start="298.529" data-end="302.059">and what partial you need to map them to</span> <span data-start="302.059" data-end="305.669">so the genesis of this idea are like we</span> <span data-start="305.669" data-end="309.569">in PayPal let me take a step back and</span> <span data-start="309.569" data-end="311.729">give you a history in the past 1 and 1/2</span> <span data-start="311.729" data-end="314.129">years we moved to doing our entire app</span> <span data-start="314.129" data-end="317.189">stack in nodejs in JavaScript</span> <span data-start="317.189" data-end="321.809">so we built a thin bootstrapping</span> <span data-start="321.809" data-end="324.24">framework on top of Express apps to</span> <span data-start="324.24" data-end="326.039">provide some structure and convention</span> <span data-start="326.039" data-end="329.849">and some interesting ideas that came out</span> <span data-start="329.849" data-end="332.279">of like the design for Kraken is what</span> <span data-start="332.279" data-end="335.189">actually is an inspiration for how the</span> <span data-start="335.189" data-end="336.87">template specialization has been built</span> <span data-start="336.87" data-end="339.149">so I would like to take a quick bit over</span> <span data-start="339.149" data-end="340.919">to crack and this is not the stock was</span> <span data-start="340.919" data-end="342.539">not supposed to focus on Kraken itself</span> <span data-start="342.539" data-end="344.159">if you have if you are interested in</span> <span data-start="344.159" data-end="346.49">knowing more please hit that link</span> <span data-start="346.49" data-end="350.029">so what kraken provides is like a nice</span> <span data-start="350.029" data-end="352.289">thin boost bootstrapping</span> <span data-start="352.289" data-end="355.439">abstraction on top of express you would</span> <span data-start="355.439" data-end="357.36">throw it like configs at the conflict</span> <span data-start="357.36" data-end="359.309">it's a very conflict even approach where</span> <span data-start="359.309" data-end="362.849">you could have like the set up for your</span> <span data-start="362.849" data-end="364.889">express apps specified in the form of a</span> <span data-start="364.889" data-end="366.809">config or you could have like</span> <span data-start="366.809" data-end="369.149">environment are there configurations to</span> <span data-start="369.149" data-end="371.58">do different things on different modes</span> <span data-start="371.58" data-end="373.139">for example in dev board you may want to</span> <span data-start="373.139" data-end="374.55">do something else and prod mode you want</span> <span data-start="374.55" data-end="376.559">to do something else and also to set up</span> <span data-start="376.559" data-end="378.749">your middle that chain not only just to</span> <span data-start="378.749" data-end="380.459">set up the middle version also to figure</span> <span data-start="380.459" data-end="382.74">out what order you want to insert these</span> <span data-start="382.74" data-end="385.169">little bar in the middle that chain so</span> <span data-start="385.169" data-end="387.99">it's a very nice conflict driven</span> <span data-start="387.99" data-end="390.169">approach to setting up your app and</span> <span data-start="390.169" data-end="394.43">hence was born the specialization logic</span> <span data-start="394.43" data-end="396.779">ended up writing a very simple rule</span> <span data-start="396.779" data-end="399.88">parser Kolkata and</span> <span data-start="399.88" data-end="402.01">this is basically you would specify a</span> <span data-start="402.01" data-end="405.34">simple JSON config of what are the rules</span> <span data-start="405.34" data-end="408.84">and what you want the rules to result to</span> <span data-start="408.84" data-end="411.55">when the context information matches</span> <span data-start="411.55" data-end="413.8">these rules so given a set of rules and</span> <span data-start="413.8" data-end="417.13">facts if an manage results you will get</span> <span data-start="417.13" data-end="419.67">the correct templates picked up and</span> <span data-start="419.67" data-end="422.35">these rules are really in a very simple</span> </p>
<p><span data-start="422.35" data-end="426.06">JSON format which is what you see here</span> <span data-start="426.06" data-end="428.29">so you would see that the gun is very</span> <span data-start="428.29" data-end="430.51">simple you have in this and a rent class</span> <span data-start="430.51" data-end="433.15">what it means is like for maps to bar</span> <span data-start="433.15" data-end="436.57">when the bunch of rules in there match</span> <span data-start="436.57" data-end="440.56">with the context so how would you use</span> <span data-start="440.56" data-end="442.81">this to generate the map actually if you</span> <span data-start="442.81" data-end="445.03">look at it it really isn't specific to a</span> <span data-start="445.03" data-end="446.74">template specialization it's just a rule</span> <span data-start="446.74" data-end="449.38">parser but we use this rule Casa and</span> <span data-start="449.38" data-end="451.69">conjunction to do that specialization</span> <span data-start="451.69" data-end="454">itself so how you would do is like</span> <span data-start="454" data-end="455.8">require the module require the conflict</span> <span data-start="455.8" data-end="458.56">that you just specified and then you</span> <span data-start="458.56" data-end="461.68">create a rule parser the specialization</span> <span data-start="461.68" data-end="464.02">of specialized an object that you see</span> <span data-start="464.02" data-end="466.42">that and the specialized object right</span> <span data-start="466.42" data-end="469.45">exposes two different methods that's</span> <span data-start="469.45" data-end="471.82">resolved and resolved ah so you could</span> <span data-start="471.82" data-end="473.68">either resolve one template at a time or</span> <span data-start="473.68" data-end="476.89">you could just resolve the whole set of</span> <span data-start="476.89" data-end="478.99">rules that against the context a set of</span> <span data-start="478.99" data-end="483.16">rules that you just specified so let's</span> <span data-start="483.16" data-end="486.28">see how we use it alongside Express apps</span> <span data-start="486.28" data-end="496.22">for template specialization</span> </p>
<p><span data-start="496.23" data-end="499">I'm just going to show a touch late on</span> <span data-start="499" data-end="501.13">key parts in the Express app that you</span> <span data-start="501.13" data-end="502.71">would want to like watch out for like to</span> <span data-start="502.71" data-end="505.69">implement this so this if you look at it</span> <span data-start="505.69" data-end="509.08">is like a simple JSON config what it's</span> <span data-start="509.08" data-end="511.24">saying is not a partial called body to</span> <span data-start="511.24" data-end="514.18">something body ex-porn when like say an</span> <span data-start="514.18" data-end="516.669">experiment is turned on and not the</span> <span data-start="516.669" data-end="519.039">partial extra to something else when the</span> <span data-start="519.039" data-end="521.789">country is either UK or D or France and</span> <span data-start="521.789" data-end="524.02">then you have another partial right</span> <span data-start="524.02" data-end="525.82">panel which maps to something else when</span> <span data-start="525.82" data-end="527.44">the rule is though the rules are</span> <span data-start="527.44" data-end="529.63">satisfied like experimenters x1 as well</span> <span data-start="529.63" data-end="531.34">as extra has something called coupons</span> <span data-start="531.34" data-end="538.66">it's as simple as that and then you</span> <span data-start="538.66" data-end="546.28">would have I wanted to show so if you</span> <span data-start="546.28" data-end="547.84">look at the template itself is a dust</span> <span data-start="547.84" data-end="550.15">template there are three partials here</span> <span data-start="550.15" data-end="552.13">in body which has header body and footer</span> <span data-start="552.13" data-end="554.26">we just saw that body is actually</span> <span data-start="554.26" data-end="558.42">specialized for certain certain context</span> <span data-start="558.42" data-end="561.55">information so certain rules but you</span> <span data-start="561.55" data-end="563.68">keep your template really clean by</span> <span data-start="563.68" data-end="564.88">actually you doing kind of</span> <span data-start="564.88" data-end="568.45">specialization because you don't put the</span> <span data-start="568.45" data-end="569.71">business logic in the template itself</span> <span data-start="569.71" data-end="572.56">and it's actually handled for you by at</span> <span data-start="572.56" data-end="574.12">render time it'll just get picked up</span> <span data-start="574.12" data-end="575.89">from the config and then it'll get</span> <span data-start="575.89" data-end="578.35">inserted and switched in underneath in</span> <span data-start="578.35" data-end="580.08">the rendering workflow</span> <span data-start="580.08" data-end="590.16">similarly sorry about that</span> <span data-start="590.17" data-end="593.26">if you look at body for example body</span> <span data-start="593.26" data-end="595.39">also has right panels which are</span> <span data-start="595.39" data-end="596.83">specialized but you don't put any</span> <span data-start="596.83" data-end="598.84">business logic in your templates at</span> <span data-start="598.84" data-end="600.7">render time it'll take the context</span> <span data-start="600.7" data-end="602.02">information and figure out if it needs</span> <span data-start="602.02" data-end="606.04">to be switched out or not so let's take</span> <span data-start="606.04" data-end="609.04">a quick look at the app itself I'm not</span> <span data-start="609.04" data-end="612.31">planning on going over every line of the</span> <span data-start="612.31" data-end="613.96">ad but I wanted to show a tossed light</span> <span data-start="613.96" data-end="620.18">on what I'm doing to actually specialize</span> <span data-start="620.19" data-end="623.2">so this it's a very simple app you can</span> <span data-start="623.2" data-end="624.79">see that all it does is create an</span> </p>
<p><span data-start="624.79" data-end="627.61">Express app include the specialization</span> <span data-start="627.61" data-end="628.84">rules that I just showed you in a</span> <span data-start="628.84" data-end="630.82">different config and since I'm using</span> <span data-start="630.82" data-end="633.7">dust I'm actually including dust chairs</span> <span data-start="633.7" data-end="637.51">LinkedIn module and then creating a rule</span> <span data-start="637.51" data-end="640.63">parser instance which I'll use later on</span> <span data-start="640.63" data-end="642.43">to generate the math when I have the</span> <span data-start="642.43" data-end="644.86">context information and this is just</span> <span data-start="644.86" data-end="646.93">simple stuff I'm just setting up session</span> <span data-start="646.93" data-end="650.4">I'm just setting up serving static</span> <span data-start="650.4" data-end="652.81">telling it what is the parts to the</span> <span data-start="652.81" data-end="654.43">templates and what a new engine I'm</span> <span data-start="654.43" data-end="658.15">going to use so this is the part that I</span> <span data-start="658.15" data-end="660.97">would like to talk more about so where</span> <span data-start="660.97" data-end="663.01">you would actually intercept and</span> <span data-start="663.01" data-end="665.17">specialize there's venue where you feed</span> <span data-start="665.17" data-end="667.51">the app engine function into this</span> </p>
<p><span data-start="667.51" data-end="671.47">Express app so generally what happens is</span> <span data-start="671.47" data-end="673.75">you just get the view engine function</span> <span data-start="673.75" data-end="676.3">from consolidate or whatever module you</span> <span data-start="676.3" data-end="677.8">are using whatever templating engine</span> <span data-start="677.8" data-end="680.08">you're using and then you would just</span> <span data-start="680.08" data-end="682.42">that would automatically look up the</span> <span data-start="682.42" data-end="683.95">templates and do the processing</span> <span data-start="683.95" data-end="685.63">compilation of the templates and render</span> <span data-start="685.63" data-end="688.21">it so this is a plug this is a point you</span> <span data-start="688.21" data-end="689.65">want to actually intercept and do</span> <span data-start="689.65" data-end="691.03">whatever you want to do to actually</span> <span data-start="691.03" data-end="693.58">specialize your templates so what I have</span> <span data-start="693.58" data-end="695.44">like a three-step recipe that I tell</span> <span data-start="695.44" data-end="698.17">myself is a right way to do this the</span> <span data-start="698.17" data-end="699.79">first thing is what you want to do is</span> <span data-start="699.79" data-end="702.31">wrap your engine function so that you</span> <span data-start="702.31" data-end="704.53">can intercept before the actual</span> <span data-start="704.53" data-end="706.21">rendering and compilation of the</span> <span data-start="706.21" data-end="708.37">templates actually happen the second</span> <span data-start="708.37" data-end="711.13">step is when the render happens you get</span> <span data-start="711.13" data-end="714.4">called into your rot function and there</span> <span data-start="714.4" data-end="716.2">you already have the context information</span> <span data-start="716.2" data-end="718.81">super so now you have the two pieces of</span> <span data-start="718.81" data-end="720.04">information that you need to actually</span> <span data-start="720.04" data-end="722.56">specialize which is a context</span> <span data-start="722.56" data-end="724.42">and the rules that you already specified</span> <span data-start="724.42" data-end="727.39">so you have a specialized er which is</span> <span data-start="727.39" data-end="730">the rule parser which already has been</span> <span data-start="730" data-end="732.43">set up with the config rules config that</span> <span data-start="732.43" data-end="734.74">you just wrote in your app and now you</span> <span data-start="734.74" data-end="736.72">have the context information all you</span> <span data-start="736.72" data-end="738.82">need to do is generate that map saying</span> <span data-start="738.82" data-end="740.74">here in solve all and give me the JSON</span> <span data-start="740.74" data-end="742.18">object of all the template mappings that</span> <span data-start="742.18" data-end="744.52">need to happen and now once you have</span> <span data-start="744.52" data-end="746.89">that you can stash it back into the</span> <span data-start="746.89" data-end="749.71">context itself great so now you have the</span> <span data-start="749.71" data-end="753.4">map generated the next step is you want</span> <span data-start="753.4" data-end="755.98">to somehow get notified right before</span> <span data-start="755.98" data-end="758.86">every partial gets rendered that you</span> <span data-start="758.86" data-end="760.96">want to check if that's a mapping that</span> <span data-start="760.96" data-end="762.58">needs to happen like a switch that needs</span> <span data-start="762.58" data-end="765.13">to happen or not so for that dust gives</span> <span data-start="765.13" data-end="769.24">a nice hook to do that which is called</span> <span data-start="769.24" data-end="771.55">dust or onload so if you implement dust</span> <span data-start="771.55" data-end="774.36">or onload you will get called into that</span> <span data-start="774.36" data-end="777.4">function if the template is not found in</span> <span data-start="777.4" data-end="780.79">the cache so in my case I actually</span> <span data-start="780.79" data-end="783.58">deliberately enabled cache to false when</span> </p>
<p><span data-start="783.58" data-end="787.54">I set up the engine function so I will</span> <span data-start="787.54" data-end="791.11">get called on every every partial that</span> <span data-start="791.11" data-end="794.2">will get rendered so you may ask hey if</span> <span data-start="794.2" data-end="795.85">if the cache is disabled isn't that a</span> <span data-start="795.85" data-end="797.77">bad thing so what we do is we in paper</span> <span data-start="797.77" data-end="799.6">the kind of internet our own custom</span> <span data-start="799.6" data-end="801.4">cache if we want to do this sort of</span> <span data-start="801.4" data-end="804.1">massaging before we actually render the</span> <span data-start="804.1" data-end="808.54">templates yeah so now we have dust</span> <span data-start="808.54" data-end="810.82">calling in to me like in to my app</span> <span data-start="810.82" data-end="813.73">before any partial in my view gets</span> <span data-start="813.73" data-end="816.01">rendered at this point I had the context</span> <span data-start="816.01" data-end="817.27">the context already has the</span> <span data-start="817.27" data-end="819.04">specialization map for that specific</span> <span data-start="819.04" data-end="821.8">context so great so I have all the</span> <span data-start="821.8" data-end="823.54">information that I need to check if</span> <span data-start="823.54" data-end="825.339">before the partial gets rendered if I</span> <span data-start="825.339" data-end="826.99">need to map it to something else or not</span> <span data-start="826.99" data-end="830.62">so you would see that what all I'm doing</span> <span data-start="830.62" data-end="833.02">is getting figuring out if that needs a</span> <span data-start="833.02" data-end="834.4">mapping to a different template I have</span> <span data-start="834.4" data-end="836.56">the name of the template the context and</span> <span data-start="836.56" data-end="839.11">the context has the specialization not</span> <span data-start="839.11" data-end="841.72">itself generated so at this point what I</span> <span data-start="841.72" data-end="843.31">do is like I figure out if needs</span> <span data-start="843.31" data-end="846.01">switching sneekly switch it underneath</span> <span data-start="846.01" data-end="848.44">and then read the file and then pass</span> <span data-start="848.44" data-end="850.36">back the data and from there on the</span> <span data-start="850.36" data-end="852.67">rendering workflow is the exact same as</span> <span data-start="852.67" data-end="855.95">what you would have before so</span> <span data-start="855.95" data-end="857.81">that's the three things that you would</span> <span data-start="857.81" data-end="859.58">have to do if you want to do something</span> <span data-start="859.58" data-end="863.87">like this rest of the app is pretty</span> <span data-start="863.87" data-end="864.35">simple</span> <span data-start="864.35" data-end="865.79">like generally if you want to set the</span> <span data-start="865.79" data-end="868.16">context information it would let's say</span> <span data-start="868.16" data-end="869.96">you were trying to trying an experiment</span> <span data-start="869.96" data-end="871.4">on two different experiences you would</span> <span data-start="871.4" data-end="873.53">probably have that information come from</span> <span data-start="873.53" data-end="876.59">some experimentation platform or some</span> <span data-start="876.59" data-end="878.87">sort of that'll be a segmentation of</span> <span data-start="878.87" data-end="880.82">users who get some set of experiences</span> <span data-start="880.82" data-end="882.95">against other in this case I'm just</span> <span data-start="882.95" data-end="886.25">going to demo something close to real so</span> </p>
<p><span data-start="886.25" data-end="888.38">I'm just going going to set the context</span> <span data-start="888.38" data-end="908.04">from the using this route so demo time</span> <span data-start="908.05" data-end="910.629">so you'd see that what I have here is</span> <span data-start="910.629" data-end="913.42">like a really simple demo the view has a</span> <span data-start="913.42" data-end="917.649">header or footer signup form and then</span> <span data-start="917.649" data-end="920.259">some content in the center and then some</span> <span data-start="920.259" data-end="922.329">sort of feed newsfeed on the right side</span> <span data-start="922.329" data-end="925.329">so the menu you'd see is like a tabbed</span> <span data-start="925.329" data-end="928.839">menu let's say I want this view to be I</span> <span data-start="928.839" data-end="930.579">want to experiment the exact same</span> <span data-start="930.579" data-end="932.649">information in a different sort of</span> <span data-start="932.649" data-end="935.35">layout I all I would have to do is like</span> <span data-start="935.35" data-end="939.399">set an experiment on it you earlier saw</span> <span data-start="939.399" data-end="941.47">that in my specialization config</span> <span data-start="941.47" data-end="943.929">whenever experiment has turned onto x1</span> <span data-start="943.929" data-end="945.759">it has a different fashion mapping for</span> <span data-start="945.759" data-end="948.249">like a body fashion so you see that</span> <span data-start="948.249" data-end="952.72">automatically it gets rearranged to a</span> <span data-start="952.72" data-end="955.179">different sort of experience tab menu</span> <span data-start="955.179" data-end="957.489">now becomes a stacked menu and then</span> <span data-start="957.489" data-end="959.619">there's a content and the login form</span> <span data-start="959.619" data-end="962.11">actually gets rearranged differently so</span> <span data-start="962.11" data-end="963.879">let's assume that this is a different</span> <span data-start="963.879" data-end="965.29">experience that you want to test out to</span> <span data-start="965.29" data-end="968.17">see which gets better sign up on your</span> <span data-start="968.17" data-end="972.879">site let's say that once you have</span> <span data-start="972.879" data-end="974.439">segmented your users between like</span> <span data-start="974.439" data-end="977.579">experiment 1 and non experiment 1</span> <span data-start="977.579" data-end="980.11">experiences you want to further segment</span> <span data-start="980.11" data-end="982.059">it for some other rows let's say you</span> <span data-start="982.059" data-end="986.649">want to have coupons show up in case of</span> <span data-start="986.649" data-end="993.97">experiment 1 is enabled in that case you</span> <span data-start="993.97" data-end="997.66">see that it just setting us extra config</span> <span data-start="997.66" data-end="1000.42">in extra information in the context</span> <span data-start="1000.42" data-end="1003.569">automatically showed the coupon on the</span> <span data-start="1003.569" data-end="1006.899">right side so it can you can easily set</span> <span data-start="1006.899" data-end="1008.61">values in your context and enable</span> <span data-start="1008.61" data-end="1010.35">different sorts of layout without having</span> <span data-start="1010.35" data-end="1014.129">to touch any of your actual without</span> <span data-start="1014.129" data-end="1016.049">having to have enough extra business</span> <span data-start="1016.049" data-end="1019.259">logic in the templates themselves let's</span> <span data-start="1019.259" data-end="1021.869">say like I want to have my signup forms</span> <span data-start="1021.869" data-end="1024.539">differs for some countries as opposed to</span> <span data-start="1024.539" data-end="1027.24">another so I'm going to set the country</span> <span data-start="1027.24" data-end="1030.029">to UK and you'd see that let's say UK</span> <span data-start="1030.029" data-end="1032.069">needs extra information if you want to</span> <span data-start="1032.069" data-end="1033.87">sign up you want to probably give a</span> <span data-start="1033.87" data-end="1035.61">recovery number like you want to enter a</span> </p>
<p><span data-start="1035.61" data-end="1038.549">CAPTCHA you can easily like map that</span> <span data-start="1038.549" data-end="1040.529">specific partial to something else to</span> <span data-start="1040.529" data-end="1042.06">give show something else</span> <span data-start="1042.06" data-end="1044.85">different countries and you can now I've</span> <span data-start="1044.85" data-end="1046.17">demoed like there are different three</span> <span data-start="1046.17" data-end="1048.06">different vectors of information that</span> <span data-start="1048.06" data-end="1050.91">are used to decide what is shown in the</span> <span data-start="1050.91" data-end="1053.1">view right like they're all they're all</span> <span data-start="1053.1" data-end="1054.54">kind of independent of each other let's</span> <span data-start="1054.54" data-end="1057.09">say I want to have UK users also to have</span> <span data-start="1057.09" data-end="1059.55">both segmented with both experience one</span> <span data-start="1059.55" data-end="1061.5">and non experience one you can easily do</span> <span data-start="1061.5" data-end="1063">that as well</span> <span data-start="1063" data-end="1067.53">by setting experiment to not expand so</span> <span data-start="1067.53" data-end="1069.27">you have the specialization for the</span> <span data-start="1069.27" data-end="1072.62">country still but you get the benefit of</span> <span data-start="1072.62" data-end="1075.09">segmenting users for two different kinds</span> <span data-start="1075.09" data-end="1079.32">of experiences so this is what I wanted</span> <span data-start="1079.32" data-end="1081.84">to this is like a sum total of what</span> <span data-start="1081.84" data-end="1089.19">template specialization this so going</span> <span data-start="1089.19" data-end="1091.98">back so the rule pasta itself until now</span> </p>
<p><span data-start="1091.98" data-end="1094.17">I've just shown like really simple rules</span> <span data-start="1094.17" data-end="1096.39">that can be config actually the rule</span> <span data-start="1096.39" data-end="1098.73">parser has more capabilities I'm just</span> <span data-start="1098.73" data-end="1100.17">going to quickly go over what other</span> <span data-start="1100.17" data-end="1102.18">possibilities you can do with that rule</span> <span data-start="1102.18" data-end="1104.76">parser caca you can see that you can</span> <span data-start="1104.76" data-end="1106.26">specify multiple options like for</span> <span data-start="1106.26" data-end="1108.69">example in can either not to yang or BOM</span> <span data-start="1108.69" data-end="1110.97">depending on what sort of what are the</span> <span data-start="1110.97" data-end="1113.07">set of rules it satisfies this is kind</span> <span data-start="1113.07" data-end="1115.02">of like a switch case mentality so which</span> <span data-start="1115.02" data-end="1118.17">whichever one wins first gets to be the</span> <span data-start="1118.17" data-end="1120.87">one that gets mapped to so if the state</span> <span data-start="1120.87" data-end="1122.52">of mind becomes peaceful that gets</span> <span data-start="1122.52" data-end="1126.96">satisfied that that wins first the next</span> <span data-start="1126.96" data-end="1129.03">is you can specify multiple rules like</span> <span data-start="1129.03" data-end="1131.67">en gets mapped in yang if three</span> <span data-start="1131.67" data-end="1134.16">different rules are satisfied so that's</span> <span data-start="1134.16" data-end="1137.31">one option then you can have multiple</span> <span data-start="1137.31" data-end="1139.59">values for a rule where mood can be</span> <span data-start="1139.59" data-end="1142.05">either happy or related or ecstatic or</span> <span data-start="1142.05" data-end="1145.08">the state of body could be like should</span> <span data-start="1145.08" data-end="1147.36">have active and walking or energetic law</span> <span data-start="1147.36" data-end="1148.59">so you have different ways of</span> <span data-start="1148.59" data-end="1152.16">communicating your rules or let's say</span> <span data-start="1152.16" data-end="1153.84">you have a rule where it's not just</span> <span data-start="1153.84" data-end="1155.52">about comparison of values but you</span> <span data-start="1155.52" data-end="1157.29">actually want to do some math on the</span> <span data-start="1157.29" data-end="1159">context information or you want to do</span> <span data-start="1159" data-end="1161.4">some date/time manipulation or let's say</span> <span data-start="1161.4" data-end="1163.05">you want to do some regular expression</span> <span data-start="1163.05" data-end="1165.12">comparison you could all you can do is</span> <span data-start="1165.12" data-end="1166.2">like you don't even have to specify the</span> <span data-start="1166.2" data-end="1168.6">rules you can implement the evaluation</span> <span data-start="1168.6" data-end="1171.93">function yourself and it will what it</span> <span data-start="1171.93" data-end="1173.46">will do is it will give you the context</span> <span data-start="1173.46" data-end="1175.83">and the rules config you can do the</span> <span data-start="1175.83" data-end="1177.659">process of evaluating whether it matches</span> <span data-start="1177.659" data-end="1184.71">or not so summing up what's the recipe</span> <span data-start="1184.71" data-end="1186.63">there's just three steps to doing</span> <span data-start="1186.63" data-end="1188.97">template specialization take the engine</span> <span data-start="1188.97" data-end="1191.64">function wrap it so that you can insert</span> <span data-start="1191.64" data-end="1193.14">whatever you want to do at the time of</span> <span data-start="1193.14" data-end="1196.049">friendo second step at the time of</span> <span data-start="1196.049" data-end="1197.85">render you have the context and the</span> <span data-start="1197.85" data-end="1199.95">rules you can just resolve them into</span> <span data-start="1199.95" data-end="1201.419">attempted map use your favorite rule</span> <span data-start="1201.419" data-end="1203.519">path so it doesn't have to be what I</span> <span data-start="1203.519" data-end="1206.789">just showed you caca third once you have</span> <span data-start="1206.789" data-end="1208.74">start generated the map and stashed it</span> <span data-start="1208.74" data-end="1210.72">back in the context figure out if you're</span> <span data-start="1210.72" data-end="1213.559">templating engine of your choice has the</span> <span data-start="1213.559" data-end="1216.45">hook for you to like figure out if it</span> <span data-start="1216.45" data-end="1218.429">actually has a way to tell you all the</span> <span data-start="1218.429" data-end="1220.23">templates that need to be rendered or</span> <span data-start="1220.23" data-end="1221.549">the partials that need to be rendered in</span> <span data-start="1221.549" data-end="1224.1">your view now map it against I mean</span> <span data-start="1224.1" data-end="1225.57">compare it against the map that you just</span> <span data-start="1225.57" data-end="1227.549">generated figure out which ones need to</span> <span data-start="1227.549" data-end="1229.769">be mapped or something else and yes you</span> <span data-start="1229.769" data-end="1231.269">have there you have it there all you</span> <span data-start="1231.269" data-end="1232.95">need to do is like once you switch it</span> <span data-start="1232.95" data-end="1234.72">pass it back into the rendering workflow</span> <span data-start="1234.72" data-end="1237.87">you will have it switched on runtime so</span> <span data-start="1237.87" data-end="1240.919">on that's about all I wanted to say</span> <span data-start="1240.919" data-end="1244.019">thank you for listening on a parallel</span> <span data-start="1244.019" data-end="1246.929">note not completely related but I just</span> <span data-start="1246.929" data-end="1250.23">mentioned that PayPal is hiring big time</span> <span data-start="1250.23" data-end="1253.649">because we are moving to note completely</span> </p>
<p><span data-start="1253.649" data-end="1257.61">JavaScript on our app stack so please</span> <span data-start="1257.61" data-end="1259.23">come and talk to us we have a bunch of</span> <span data-start="1259.23" data-end="1261.6">enthusiastic faces here we want to talk</span> <span data-start="1261.6" data-end="1263.73">to you about what we're doing in PayPal</span> <span data-start="1263.73" data-end="1265.679">and want to listen to all the exciting</span> <span data-start="1265.679" data-end="1266.97">things they are doing in JavaScript</span> </p>
</section>