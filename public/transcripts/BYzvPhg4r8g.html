<section>
<p><span data-start="31.84" data-end="34.78">I'm Mary I'm going to talk about pistol</span> <span data-start="34.78" data-end="37.36">which is a game i wrote in</span> <span data-start="37.36" data-end="42.13">which is a game i wrote in JavaScript you played a pistol in</span> <span data-start="42.13" data-end="45.15">this game and i'll start off with a demo</span> <span data-start="45.15" data-end="50.59">to show how it works so you're the</span> <span data-start="50.59" data-end="54.01">little women on the bottom there and you</span> <span data-start="54.01" data-end="55.9">have to kill all of these policemen in</span> <span data-start="55.9" data-end="95.58">the level</span> <span data-start="95.59" data-end="111.64">see you get the idea okay um so I read</span> <span data-start="111.64" data-end="113.679">it in JavaScript and it's based on a</span> <span data-start="113.679" data-end="115.689">framework called the render engine which</span> <span data-start="115.689" data-end="117.459">is written by a man called breakfast or</span> <span data-start="117.459" data-end="120.64">e it's really cool it runs in the canvas</span> <span data-start="120.64" data-end="124">element and it works in any modern web</span> <span data-start="124" data-end="126.85">browser but I'm not going to talk about</span> <span data-start="126.85" data-end="130.2">any of that I'm going to talk about</span> <span data-start="130.2" data-end="132.579">fakery which i think is essential to</span> <span data-start="132.579" data-end="136.06">making games collision detection so the</span> <span data-start="136.06" data-end="138.76">code that i use to figure out what the</span> <span data-start="138.76" data-end="141.37">two objects were colliding artificial</span> <span data-start="141.37" data-end="143.44">intelligence so the code that runs the</span> <span data-start="143.44" data-end="146.019">enemies and at the end a little bit</span> <span data-start="146.019" data-end="151.41">about falling in love so fakery first up</span> <span data-start="151.41" data-end="153.79">recently over this book called Tinker</span> </p>
<p><span data-start="153.79" data-end="155.769">Tailor Soldier Spy which is by a man</span> <span data-start="155.769" data-end="160.389">called John the Carrie and I became kind</span> <span data-start="160.389" data-end="161.62">of completely obsessed with the book</span> <span data-start="161.62" data-end="164.35">I've read it several times and it's</span> <span data-start="164.35" data-end="167.739">about mi6 the British secret service and</span> <span data-start="167.739" data-end="171.28">they discover that they've got a Russian</span> <span data-start="171.28" data-end="173.79">agent working inside the organization</span> <span data-start="173.79" data-end="175.87">and they don't know who he is and</span> <span data-start="175.87" data-end="178.63">they've got to find him and the name for</span> <span data-start="178.63" data-end="183.579">such a person is a mall and the way this</span> <span data-start="183.579" data-end="186.329">person works as they pretend to be in a</span> <span data-start="186.329" data-end="188.59">kind of helping the organization they're</span> <span data-start="188.59" data-end="190.329">a part of but actually they're working</span> <span data-start="190.329" data-end="194.579">against it and I think if you're a mall</span> <span data-start="194.579" data-end="196.78">then you've got to keep like two</span> <span data-start="196.78" data-end="199.93">realities in your head first of all this</span> <span data-start="199.93" data-end="202.419">kind of fake reality which you're trying</span> <span data-start="202.419" data-end="203.709">to convince all the people around you</span> <span data-start="203.709" data-end="204.579">that you're working for British</span> <span data-start="204.579" data-end="207.13">interests to bring down the Russians or</span> <span data-start="207.13" data-end="209.889">whatever arm but actually underneath is</span> <span data-start="209.889" data-end="212.139">this real reality where in fact you're</span> <span data-start="212.139" data-end="213.669">trying to feed information back to the</span> </p>
<p><span data-start="213.669" data-end="216.609">Russians or trying to sabotage British</span> <span data-start="216.609" data-end="219.37">operations and I think making games you</span> <span data-start="219.37" data-end="221.59">have to do exactly the same thing to</span> <span data-start="221.59" data-end="223.09">keep these two realities in your head</span> <span data-start="223.09" data-end="225.939">where there's the kind of fake reality</span> <span data-start="225.939" data-end="227.829">we are trying to conjure these illusions</span> <span data-start="227.829" data-end="229.12">in the players head so</span> <span data-start="229.12" data-end="231.04">you want them to believe that there</span> <span data-start="231.04" data-end="233.95">really a grenade has just gone off by</span> <span data-start="233.95" data-end="237.31">their head or that they're trying to</span> <span data-start="237.31" data-end="239.59">kill policemen in some crazy utopian</span> <span data-start="239.59" data-end="241.69">world or whatever but then underneath</span> <span data-start="241.69" data-end="243.34">that you've got the real reality which</span> <span data-start="243.34" data-end="245.17">is just pixels moving around on a screen</span> <span data-start="245.17" data-end="249.25">so you a single red pixel might model</span> <span data-start="249.25" data-end="252.01">something like a fireball coming out of</span> <span data-start="252.01" data-end="253.989">an exploding barrel or a piece of</span> <span data-start="253.989" data-end="257.65">shrapnel from a grenade or a flame</span> <span data-start="257.65" data-end="260.079">licking up out of a bin that has a fire</span> <span data-start="260.079" data-end="264.28">burning inside it and so I'm going to</span> <span data-start="264.28" data-end="266.05">talk about a few of the bits of fakery</span> <span data-start="266.05" data-end="270.85">that I did in pistol slap and first up</span> <span data-start="270.85" data-end="274.3">particles so of particle is just a name</span> <span data-start="274.3" data-end="276.22">for a single pixel which has a certain</span> <span data-start="276.22" data-end="280.63">color and a set of behaviors and I use</span> <span data-start="280.63" data-end="282.07">particles for a bunch of different</span> <span data-start="282.07" data-end="285.25">things in the game so the five walls</span> <span data-start="285.25" data-end="286.81">that are thrown out by an exploding</span> <span data-start="286.81" data-end="290.35">barrel the fragments of shrapnel that a</span> <span data-start="290.35" data-end="292.479">produced foot by grenade when it</span> <span data-start="292.479" data-end="295.21">explodes the shrapnel that's thrown up</span> <span data-start="295.21" data-end="296.889">by a mortar round when it hits the</span> <span data-start="296.889" data-end="299.83">ground the flashes that come out of the</span> <span data-start="299.83" data-end="302.169">muzzle of a gun when it's fired the</span> <span data-start="302.169" data-end="304.45">sparks that have thrown out by firework</span> <span data-start="304.45" data-end="306.19">exploding the flames that come out of a</span> <span data-start="306.19" data-end="309.07">barrel that's on fire the debris that</span> <span data-start="309.07" data-end="311.59">comes out when a bullet hits a wall and</span> <span data-start="311.59" data-end="313.599">there's like this shower of sparks that</span> <span data-start="313.599" data-end="316.84">come out or the drops of blood that spew</span> <span data-start="316.84" data-end="318.25">out of an enemy when they're hit with a</span> <span data-start="318.25" data-end="323.56">bullet so this is a fire done with</span> <span data-start="323.56" data-end="326.74">particles and there's four basic rules</span> <span data-start="326.74" data-end="329.61">that control each of these particles</span> <span data-start="329.61" data-end="333.31">number one they have a fixed life so in</span> <span data-start="333.31" data-end="335.59">the game in pistol slide seven hundred</span> <span data-start="335.59" data-end="338.74">milliseconds number two they have a</span> <span data-start="338.74" data-end="341.349">fixed color cycle so they go from yellow</span> <span data-start="341.349" data-end="345.76">to red via orange number three days</span> <span data-start="345.76" data-end="347.8">start with a random speed so that's how</span> <span data-start="347.8" data-end="349.96">you get that high up red particle at the</span> <span data-start="349.96" data-end="352.389">top because that had a higher speed than</span> <span data-start="352.389" data-end="357.01">average and number four if your fire is</span> <span data-start="357.01" data-end="359.11">burning between here and here then each</span> <span data-start="359.11" data-end="360.76">new particle is spawned at a random</span> <span data-start="360.76" data-end="363.1">place along that line</span> <span data-start="363.1" data-end="364.75">and I use the same rules to produce</span> <span data-start="364.75" data-end="368.89">these particles which for when a grenade</span> <span data-start="368.89" data-end="370.57">goes off so you can't quite see it on</span> <span data-start="370.57" data-end="372.67">the slide there but a grenade has gone</span> <span data-start="372.67" data-end="374.19">off in the bottom right-hand corner of</span> <span data-start="374.19" data-end="376.6">the screen and then it's throwing out</span> <span data-start="376.6" data-end="379.33">all these particles but in grenade</span> <span data-start="379.33" data-end="380.95">particle or rather grenade shrapnel</span> <span data-start="380.95" data-end="383.8">particles have a bit of extra behavior</span> <span data-start="383.8" data-end="385.69">which is when they hit a solid object</span> <span data-start="385.69" data-end="389.08">then you get these plumes of yellow near</span> <span data-start="389.08" data-end="391.42">the bottom there so pieces of shrapnel</span> <span data-start="391.42" data-end="393.67">hit the floor and then thrown up more</span> <span data-start="393.67" data-end="395.92">more particles which are all yellow and</span> <span data-start="395.92" data-end="398.5">kind of simulate the idea of spa a</span> <span data-start="398.5" data-end="403.48">shower of sparks next bit of fakery in</span> <span data-start="403.48" data-end="406.9">pistol is parallax scrolling so</span> <span data-start="406.9" data-end="410.53">this is a way of faking depths in a 2d</span> <span data-start="410.53" data-end="412.81">game so if you and it's basically just</span> <span data-start="412.81" data-end="415.27">blind sliding sliding over each other so</span> <span data-start="415.27" data-end="417.79">if you imagine that my two hands at my</span> <span data-start="417.79" data-end="421.87">to a two bits of parallax layers then</span> <span data-start="421.87" data-end="425.59">there's three things that control when</span> <span data-start="425.59" data-end="427.96">you look at my hands how far away they</span> <span data-start="427.96" data-end="431.35">are in your brain so number one is this</span> <span data-start="431.35" data-end="432.79">hand because it's slightly further away</span> <span data-start="432.79" data-end="436.09">looks a tiny bit smaller number two if I</span> <span data-start="436.09" data-end="439.54">move them at what I promise you is equal</span> <span data-start="439.54" data-end="441.61">pace have passed each other then this</span> <span data-start="441.61" data-end="443.14">one looks like it's moving very slightly</span> <span data-start="443.14" data-end="446.38">slower number three when these hands</span> <span data-start="446.38" data-end="448.57">cross each other this one because it's</span> <span data-start="448.57" data-end="452.26">nearer to you obscures this hand so i</span> <span data-start="452.26" data-end="455.41">use those three things to generate this</span> <span data-start="455.41" data-end="458.32">illusion of depth in the game so you can</span> <span data-start="458.32" data-end="460.69">see that in this in this movie I've</span> <span data-start="460.69" data-end="463.72">taken out all the enemies so that large</span> <span data-start="463.72" data-end="467.05">you can't see it so the building is</span> <span data-start="467.05" data-end="468.67">really close and it's moving faster</span> <span data-start="468.67" data-end="470.32">those lanterns are further away and</span> <span data-start="470.32" data-end="473.14">they're moving more slowly and anis</span> <span data-start="473.14" data-end="475.78">three street lamps they'd all be the</span> <span data-start="475.78" data-end="478.02">same size if they were all up close but</span> </p>
<p><span data-start="478.02" data-end="480.82">I've drawn them smaller and made them</span> <span data-start="480.82" data-end="482.5">move more slowly which makes them look</span> <span data-start="482.5" data-end="487.54">like they're further away final bit of</span> <span data-start="487.54" data-end="488.71">folk who I'm going to talk about his</span> <span data-start="488.71" data-end="492.76">performance I think pistols that looks</span> <span data-start="492.76" data-end="495.52">like something on the nez so a game from</span> <span data-start="495.52" data-end="496.99">30 years ago</span> <span data-start="496.99" data-end="498.34">but you know it's running on a modern</span> <span data-start="498.34" data-end="500.89">computer and part of the reason well</span> <span data-start="500.89" data-end="502.81">there's many reasons for this probably</span> <span data-start="502.81" data-end="505.15">i'm a terrible programmer and i can't</span> <span data-start="505.15" data-end="508.45">draw very well but also there's not much</span> <span data-start="508.45" data-end="510.96">performance available in the browser</span> <span data-start="510.96" data-end="514.8">though WebGL is looking pretty amazing</span> <span data-start="514.8" data-end="517.54">and so i spent a lot of time optimizing</span> <span data-start="517.54" data-end="526.72">coat however yeah brilliant I find that</span> <span data-start="526.72" data-end="529.06">when you try and make code run faster</span> <span data-start="529.06" data-end="531.22">it's often a specific thing to that</span> <span data-start="531.22" data-end="532.9">piece of code that turns out to be the</span> <span data-start="532.9" data-end="534.79">problem so I dive into lots of different</span> <span data-start="534.79" data-end="536.89">bits of code and and say okay what's</span> <span data-start="536.89" data-end="538.18">wrong with this wise it's though and</span> <span data-start="538.18" data-end="540.37">then fix the problem but then there was</span> <span data-start="540.37" data-end="541.99">a general technique that I used again</span> <span data-start="541.99" data-end="544.54">and again and was able to apply to lots</span> <span data-start="544.54" data-end="545.86">of different pieces of code that we're</span> <span data-start="545.86" data-end="548.08">trying to achieve very different things</span> <span data-start="548.08" data-end="551.77">and that was the concept of denial so</span> <span data-start="551.77" data-end="555.97">essentially what can you ignore and then</span> <span data-start="555.97" data-end="558.4">if you can ignore it then it means you'd</span> <span data-start="558.4" data-end="559.96">have to spend any processing power on it</span> <span data-start="559.96" data-end="561.49">and you can use that processing power on</span> <span data-start="561.49" data-end="565.84">something else so there's two ways to</span> <span data-start="565.84" data-end="567.94">look at this if you imagine you're an</span> <span data-start="567.94" data-end="570.7">object in the game then do you have to</span> <span data-start="570.7" data-end="574.17">do your thing or can you just not bother</span> <span data-start="574.17" data-end="578.11">so if I'm an enemy do I need to move</span> <span data-start="578.11" data-end="580.63">around or if I'm a fire do i need to</span> <span data-start="580.63" data-end="582.64">bother burning or if I'm a firework</span> <span data-start="582.64" data-end="584.8">launcher do I need to launch or if I'm</span> <span data-start="584.8" data-end="586.36">an enemy do I need to have a brain or</span> <span data-start="586.36" data-end="588.88">can I just stand there or if I'm a piece</span> <span data-start="588.88" data-end="591.07">of ordnance like a bullet or a piece of</span> <span data-start="591.07" data-end="594.18">shrapnel do I need to continue to exist</span> <span data-start="594.18" data-end="596.92">and the other way to look at it is if</span> </p>
<p><span data-start="596.92" data-end="598.48">I'm an object in the game then there's</span> <span data-start="598.48" data-end="599.98">quite often I have to look at other</span> <span data-start="599.98" data-end="602.11">objects in the game and make decisions</span> <span data-start="602.11" data-end="604.78">about them so this must happen most</span> <span data-start="604.78" data-end="607.54">often happens with the enemies so if I'm</span> <span data-start="607.54" data-end="610.93">an enemy then and I'm trying to avoid</span> <span data-start="610.93" data-end="612.85">killing my my buddies who are on the</span> <span data-start="612.85" data-end="615.88">same side as me do I need to check out</span> <span data-start="615.88" data-end="617.38">where they all are or can I just look at</span> <span data-start="617.38" data-end="618.85">a subset of the other enemies in the</span> <span data-start="618.85" data-end="620.65">level or if I'm looking for a piece of</span> <span data-start="620.65" data-end="622.93">cover and I'm an enemy do I have to</span> <span data-start="622.93" data-end="624.58">consider all of the park benches in the</span> <span data-start="624.58" data-end="627.88">level or just a subset or if I'm hearing</span> <span data-start="627.88" data-end="629.32">all of these sounds of gunshots going</span> <span data-start="629.32" data-end="630.4">off around me</span> <span data-start="630.4" data-end="632.05">do I have to respond to them all or can</span> </p>
<p><span data-start="632.05" data-end="633.58">I ignore some of them because they're so</span> <span data-start="633.58" data-end="637.12">far away and the way to decide on all of</span> <span data-start="637.12" data-end="639.91">these questions is whether something's</span> <span data-start="639.91" data-end="643">on or off camera so if it's off camera I</span> <span data-start="643" data-end="645.46">probably don't have to care but if it's</span> <span data-start="645.46" data-end="648.76">on camera I do have to care so the</span> <span data-start="648.76" data-end="650.08">question is how do you decide whether</span> <span data-start="650.08" data-end="652.18">something's on or off camera and for</span> <span data-start="652.18" data-end="654.22">that we'll have to come back to it</span> <span data-start="654.22" data-end="655.84">because I need to talk about collision</span> <span data-start="655.84" data-end="659.26">detection first so collision detection</span> <span data-start="659.26" data-end="661.96">is a code that figures out whether</span> <span data-start="661.96" data-end="666">someone object is hitting another object</span> <span data-start="666" data-end="669.34">and I did is kind of two-pronged</span> <span data-start="669.34" data-end="671.77">approach to this and first of all the</span> <span data-start="671.77" data-end="673.93">first approach is assuming that the</span> <span data-start="673.93" data-end="675.82">world is a great which might look like</span> <span data-start="675.82" data-end="679.78">this so in this game magic game would</span> <span data-start="679.78" data-end="683.32">just black squares then if two objects</span> <span data-start="683.32" data-end="684.82">are in the same grid square they're</span> <span data-start="684.82" data-end="686.98">colliding and if they're not in the same</span> <span data-start="686.98" data-end="688.66">grid square they're not colliding so</span> <span data-start="688.66" data-end="691.57">those two guys in the top-left different</span> <span data-start="691.57" data-end="694">grid squares not colliding whereas the</span> <span data-start="694" data-end="696.13">guys in the bottom right same grid</span> <span data-start="696.13" data-end="698.83">square so they're colliding but the</span> <span data-start="698.83" data-end="701.53">world's not a grid so we need an extra</span> <span data-start="701.53" data-end="704.74">approach and this is called bounding</span> <span data-start="704.74" data-end="707.17">boxes so in this slide the two key</span> <span data-start="707.17" data-end="709.93">objects are the large black circles and</span> <span data-start="709.93" data-end="711.85">each of them has got a bounding box</span> <span data-start="711.85" data-end="714.07">which is just a rectangle which fits as</span> <span data-start="714.07" data-end="716.64">closely as possible around the object</span> <span data-start="716.64" data-end="719.56">and if the two bounding boxes of those</span> <span data-start="719.56" data-end="721.69">two objects are intersecting then the</span> <span data-start="721.69" data-end="723.19">two objects are colliding and if they're</span> <span data-start="723.19" data-end="725.32">not intersecting the two objects are not</span> <span data-start="725.32" data-end="731.11">colliding so now I'm going to talk about</span> <span data-start="731.11" data-end="733.96">some of the specific approaches to</span> <span data-start="733.96" data-end="737.17">collision detection they use for</span> <span data-start="737.17" data-end="739.21">particular objects and starting off with</span> <span data-start="739.21" data-end="745.24">bullets so in this slide the black</span> <span data-start="745.24" data-end="747.28">rectangles the small black rectangles</span> <span data-start="747.28" data-end="749.62">are a single bullet at different points</span> <span data-start="749.62" data-end="751.84">in time so the grenade I'm sorry the</span> <span data-start="751.84" data-end="755.68">bullet starts off at a position a moves</span> <span data-start="755.68" data-end="757.75">through position B and in Suffolk</span> <span data-start="757.75" data-end="760.21">position C and when the bullets at</span> <span data-start="760.21" data-end="761.68">position aid and it's not collided with</span> <span data-start="761.68" data-end="764.36">anything whereas when its up position C</span> <span data-start="764.36" data-end="765.74">then it's colliding with that large</span> <span data-start="765.74" data-end="768.529">white rectangle so we can just use</span> <span data-start="768.529" data-end="770.51">bounding boxes here to figure out that</span> <span data-start="770.51" data-end="773.63">it's colliding at position C and we</span> <span data-start="773.63" data-end="775.339">would be done because when a bullet hits</span> <span data-start="775.339" data-end="776.51">something it's just removed from the</span> <span data-start="776.51" data-end="778.97">game but there's a bit of extra stuff</span> <span data-start="778.97" data-end="781.64">because actually it's when a bullet hits</span> <span data-start="781.64" data-end="782.959">something it's not just removed from the</span> <span data-start="782.959" data-end="784.519">game there's also a shower of sparks</span> <span data-start="784.519" data-end="787.7">that come out of the object it hit so we</span> <span data-start="787.7" data-end="789.32">need to find position B because that's</span> <span data-start="789.32" data-end="790.7">where the shower of sparks is going to</span> <span data-start="790.7" data-end="793.07">come from and so the thing about writing</span> <span data-start="793.07" data-end="796.43">a game is that you don't actually see</span> <span data-start="796.43" data-end="800.54">your objects move through every pixel on</span> <span data-start="800.54" data-end="804.86">their path from A to C so I see or</span> <span data-start="804.86" data-end="806.99">rather they've game engine seized the</span> <span data-start="806.99" data-end="809.839">bullet at position a and then it next</span> <span data-start="809.839" data-end="812.209">sees it a position C and it's passed</span> <span data-start="812.209" data-end="814.1">through positioned be but it we didn't</span> <span data-start="814.1" data-end="816.8">see it so you need to figure out where</span> <span data-start="816.8" data-end="818.99">position B is and the way you do this is</span> <span data-start="818.99" data-end="820.91">you draw a line between position a in</span> <span data-start="820.91" data-end="823.19">position C and then you take the four</span> <span data-start="823.19" data-end="825.589">lines that define the edges of the large</span> <span data-start="825.589" data-end="828.74">white rectangle and you say okay which</span> <span data-start="828.74" data-end="830.93">of those lines is the line a to c</span> <span data-start="830.93" data-end="833.06">intersecting with oh it's the left-hand</span> <span data-start="833.06" data-end="835.91">side so you know which two lines are</span> <span data-start="835.91" data-end="837.17">intersecting and then you can find</span> <span data-start="837.17" data-end="840.99">intersection point and you're done</span> <span data-start="841" data-end="843.949">grenades so grenades are a little bit</span> <span data-start="843.949" data-end="846.56">different because when they hit an</span> <span data-start="846.56" data-end="847.97">object they don't just disappear they</span> <span data-start="847.97" data-end="850.85">bounce so for this we'll need position B</span> <span data-start="850.85" data-end="854.06">but we already know how to do that but</span> <span data-start="854.06" data-end="855.199">we also need to find out the new</span> <span data-start="855.199" data-end="856.85">trajectory that the grenade is going to</span> <span data-start="856.85" data-end="859.19">go on after it hits the large white</span> <span data-start="859.19" data-end="861.47">rectangle so it's the same thing again</span> <span data-start="861.47" data-end="864.47">it started off at position a and it ends</span> <span data-start="864.47" data-end="866.99">up a position C we find position B to</span> <span data-start="866.99" data-end="868.61">figure out where to bounce it from and</span> <span data-start="868.61" data-end="870.199">then we just need to find that gray line</span> <span data-start="870.199" data-end="872.269">that's sort of pointing diagonally down</span> <span data-start="872.269" data-end="874.55">in that direction and the way you do</span> <span data-start="874.55" data-end="877.579">this is that you know which side it hits</span> <span data-start="877.579" data-end="879.68">so it's that left hand side and so you</span> <span data-start="879.68" data-end="882.41">just reflect the bullet vector sorry the</span> <span data-start="882.41" data-end="884.779">grenade vector in the side that it hits</span> <span data-start="884.779" data-end="887.329">so this is my side this is the vector I</span> <span data-start="887.329" data-end="890.829">reflect it like that and then i'm done</span> <span data-start="890.829" data-end="893.24">but there's an extra bit of complication</span> <span data-start="893.24" data-end="896.99">with grenades excuse me because grenades</span> <span data-start="896.99" data-end="898.13">have an area where</span> <span data-start="898.13" data-end="900.2">so when you draw that line a to see if</span> <span data-start="900.2" data-end="902.27">you've got a bullet you just draw it</span> <span data-start="902.27" data-end="904.25">from the single pixel at position a to</span> <span data-start="904.25" data-end="907.37">the single pixel at position C but with</span> <span data-start="907.37" data-end="909.17">the grenade you need to figure out where</span> <span data-start="909.17" data-end="910.52">to draw that line from so let's say we</span> <span data-start="910.52" data-end="912.23">pick the top left-hand corner of where</span> <span data-start="912.23" data-end="914.48">the grenade is so I draw a line from the</span> <span data-start="914.48" data-end="916.22">top left-hand corner of position a to</span> <span data-start="916.22" data-end="918.38">the top left-hand corner of position C</span> <span data-start="918.38" data-end="921.59">and that gives me line one but we're bit</span> <span data-start="921.59" data-end="923.6">because line ones not actually</span> <span data-start="923.6" data-end="924.83">because line ones not actually intersecting with a large white</span> <span data-start="924.83" data-end="928.58">rectangle okay no big deal we'll just</span> <span data-start="928.58" data-end="929.39">draw that line from the bottom</span> <span data-start="929.39" data-end="933.71">right-hand corner right so draw the line</span> <span data-start="933.71" data-end="935.15">from the bottom right-hand corner of</span> <span data-start="935.15" data-end="936.92">position a to the bottom right-hand</span> <span data-start="936.92" data-end="939.35">corner of position C gives us line to</span> <span data-start="939.35" data-end="943.37">that lines intersecting we're done but</span> <span data-start="943.37" data-end="945.41">what about this so the grenades</span> <span data-start="945.41" data-end="946.79">approaching from a different angle in</span> <span data-start="946.79" data-end="949.28">this scenario and we draw that same line</span> <span data-start="949.28" data-end="951.35">bottom line right-hand corner of</span> <span data-start="951.35" data-end="953.09">position a to bottom right hand corner</span> <span data-start="953.09" data-end="955.67">of position see that gives us line 10</span> <span data-start="955.67" data-end="957.74">know when it's totally not intersecting</span> <span data-start="957.74" data-end="962.63">again so need a bit of a rethink and so</span> <span data-start="962.63" data-end="963.86">you need to use a different strategy for</span> <span data-start="963.86" data-end="965.96">grenades and this is called sweeping</span> <span data-start="965.96" data-end="968.66">according to the internet so it's the</span> <span data-start="968.66" data-end="970.52">same scenario grenade start setup</span> <span data-start="970.52" data-end="972.89">position a ends up at position C which</span> <span data-start="972.89" data-end="974.33">is where we detect the collision and</span> <span data-start="974.33" data-end="976.49">then to find out where the grenade</span> <span data-start="976.49" data-end="978.17">actually entered the object and</span> <span data-start="978.17" data-end="979.85">therefore find out where position B is</span> <span data-start="979.85" data-end="981.32">where we need to bounce the grenade from</span> <span data-start="981.32" data-end="983.81">then you just take the grave when it's a</span> <span data-start="983.81" data-end="985.97">position C and move it back along its</span> <span data-start="985.97" data-end="989.45">trajectory to position d but we need to</span> <span data-start="989.45" data-end="990.83">keep going because there's still no</span> <span data-start="990.83" data-end="992.9">intersection with a side so then we keep</span> <span data-start="992.9" data-end="994.85">going we move the grenade from position</span> <span data-start="994.85" data-end="998.39">d back along to position e now we've got</span> <span data-start="998.39" data-end="1000.04">the intersection now we've got</span> <span data-start="1000.04" data-end="1002.11">positioned be we know it about Soren aid</span> <span data-start="1002.11" data-end="1007.81">from we're done ace so with all this in</span> <span data-start="1007.81" data-end="1009.4">mind then we can now figure out whether</span> <span data-start="1009.4" data-end="1012.43">something's on or off camera and the</span> <span data-start="1012.43" data-end="1015.13">strategy is bounding boxes so all of the</span> <span data-start="1015.13" data-end="1017.23">objects in the game have a bounding box</span> <span data-start="1017.23" data-end="1020.71">and the view the camera is just a single</span> <span data-start="1020.71" data-end="1022.21">large band new box somewhere in the</span> <span data-start="1022.21" data-end="1027.43">world and so we can just say ok bin is</span> <span data-start="1027.43" data-end="1030.67">your bounding box intersecting with the</span> <span data-start="1030.67" data-end="1031.929">views bounding box if it</span> <span data-start="1031.929" data-end="1034.36">is then you're on camera if it's not</span> <span data-start="1034.36" data-end="1037.089">you're off camera but we run into a</span> <span data-start="1037.089" data-end="1038.799">performance problem here again because</span> <span data-start="1038.799" data-end="1041.799">this check of bounding box against</span> <span data-start="1041.799" data-end="1043.179">another bounding box to see whether</span> <span data-start="1043.179" data-end="1045.49">they're intersecting it's not slow but</span> <span data-start="1045.49" data-end="1047.98">it's not fast either so we need to make</span> <span data-start="1047.98" data-end="1050.499">it faster for moving objects does not</span> <span data-start="1050.499" data-end="1052.299">like you can do apart from just try and</span> <span data-start="1052.299" data-end="1054.82">write code efficiently but with unmoving</span> <span data-start="1054.82" data-end="1057.269">objects then it's quite easy because</span> <span data-start="1057.269" data-end="1059.83">they're bounding boxes don't change so</span> <span data-start="1059.83" data-end="1061.899">this means when you load the level then</span> <span data-start="1061.899" data-end="1064.269">all of the unmoving objects like bins or</span> <span data-start="1064.269" data-end="1067.539">park benches or the floor or the fences</span> <span data-start="1067.539" data-end="1070.57">at both ends of the level they're</span> <span data-start="1070.57" data-end="1071.889">bounding boxes are not going to change</span> <span data-start="1071.889" data-end="1074.95">throughout the entire game so when the</span> <span data-start="1074.95" data-end="1076.629">level loads you just say to each object</span> <span data-start="1076.629" data-end="1079.23">right totally generate a bounding box</span> <span data-start="1079.23" data-end="1083.71">and then store it so this means when you</span> <span data-start="1083.71" data-end="1087.22">do that check of the view bounding box</span> <span data-start="1087.22" data-end="1088.99">against an object bounding box it</span> <span data-start="1088.99" data-end="1090.309">doesn't have to generate its bounding</span> <span data-start="1090.309" data-end="1091.96">box it can just go and fetch it from</span> <span data-start="1091.96" data-end="1094.419">memory so that's a performance</span> <span data-start="1094.419" data-end="1096.22">improvement but you can actually take it</span> <span data-start="1096.22" data-end="1100.72">a bit further because the answer to</span> <span data-start="1100.72" data-end="1103.029">whether a particular unmoving object is</span> <span data-start="1103.029" data-end="1105.73">on or off camera doesn't change all the</span> <span data-start="1105.73" data-end="1107.889">time so if the camera hasn't moved the</span> <span data-start="1107.889" data-end="1110.169">answer is still the same so I let's</span> <span data-start="1110.169" data-end="1113.289">imagine some scenario where i say been a</span> <span data-start="1113.289" data-end="1116.649">you on camera and he fetches his</span> <span data-start="1116.649" data-end="1118.929">bounding box which he's got pre-stored</span> <span data-start="1118.929" data-end="1121.32">and then he compares it against the</span> <span data-start="1121.32" data-end="1124.419">bounding box of the camera and he comes</span> <span data-start="1124.419" data-end="1126.309">back the answer and says yes I'm on</span> <span data-start="1126.309" data-end="1128.919">camera and then I come back two seconds</span> <span data-start="1128.919" data-end="1131.019">later and the camera hasn't moved in</span> <span data-start="1131.019" data-end="1135.009">that time and so I say I've been I need</span> <span data-start="1135.009" data-end="1136.809">to ask you again are you on camera and</span> <span data-start="1136.809" data-end="1139.57">he says like dude you totally just asked</span> <span data-start="1139.57" data-end="1142.36">me that I've already stored the result</span> <span data-start="1142.36" data-end="1143.889">to your last request so I'm just going</span> <span data-start="1143.889" data-end="1145.629">to give the answer from that cash and</span> <span data-start="1145.629" data-end="1147.639">then you don't need to you only need to</span> <span data-start="1147.639" data-end="1149.679">clear the cache when the camera moves</span> <span data-start="1149.679" data-end="1151.629">which only happens when the pistol slap</span> <span data-start="1151.629" data-end="1153.909">moves which is relatively speaking not</span> <span data-start="1153.909" data-end="1156.85">that often so this means that you can</span> <span data-start="1156.85" data-end="1158.47">check with the objects run off camera</span> <span data-start="1158.47" data-end="1161.95">are extremely cheaply performance wise</span> <span data-start="1161.95" data-end="1165.6">and that was a big big win</span> <span data-start="1165.6" data-end="1169.44">so penultimate topic artificial</span> <span data-start="1169.44" data-end="1171.66">intelligence so this is the code that</span> <span data-start="1171.66" data-end="1176.58">runs the enemies and the technique I</span> <span data-start="1176.58" data-end="1180.24">used is called behavior trees and a</span> <span data-start="1180.24" data-end="1181.74">behavior tree is just a special type of</span> <span data-start="1181.74" data-end="1185.61">state machine except it's in a tree</span> <span data-start="1185.61" data-end="1191.01">structure obviously and so because it's</span> <span data-start="1191.01" data-end="1193.71">a state machine then that means the</span> <span data-start="1193.71" data-end="1195.96">objects that it controls have states so</span> <span data-start="1195.96" data-end="1198.15">one of the states that a enemy and</span> <span data-start="1198.15" data-end="1200.34">pistol star can be in is fighting and</span> <span data-start="1200.34" data-end="1203.789">another state can be in a shooting but</span> <span data-start="1203.789" data-end="1205.049">these states are slightly different from</span> <span data-start="1205.049" data-end="1207.39">each other because fighting is like it's</span> <span data-start="1207.39" data-end="1209.52">you're not actually the enemies when</span> <span data-start="1209.52" data-end="1211.559">they are in the fight state they're not</span> <span data-start="1211.559" data-end="1213.24">actually doing anything it's more like a</span> <span data-start="1213.24" data-end="1215.309">gateway to a set of states whether</span> <span data-start="1215.309" data-end="1218.34">actually achieve some useful function</span> <span data-start="1218.34" data-end="1220.83">whereas fighting oh sorry shooting is</span> <span data-start="1220.83" data-end="1223.94">actually doing something so when of</span> <span data-start="1223.94" data-end="1225.84">enemy is in the chute state it's</span> <span data-start="1225.84" data-end="1227.549">actually firing actual bullets with an</span> <span data-start="1227.549" data-end="1231.69">actual gun so in this diagram of a</span> <span data-start="1231.69" data-end="1235.97">totally generic behavior tree then</span> <span data-start="1235.97" data-end="1240.03">fighting would be the fork point so in</span> <span data-start="1240.03" data-end="1242.28">the middle layer and shooting would be</span> <span data-start="1242.28" data-end="1245.669">an example of a leaf node so the general</span> <span data-start="1245.669" data-end="1247.86">rule is if you're at a fork point you're</span> <span data-start="1247.86" data-end="1249.929">deciding what to do next whereas if</span> <span data-start="1249.929" data-end="1251.669">you're at a leaf node that you're</span> <span data-start="1251.669" data-end="1253.65">actually deciding to achieve something</span> <span data-start="1253.65" data-end="1255.75">and do some selection in the game like</span> <span data-start="1255.75" data-end="1261.27">shooting a bullet now there's two wait</span> <span data-start="1261.27" data-end="1263.88">there's two rules that govern movement</span> <span data-start="1263.88" data-end="1266.1">around the behavior tree and the first</span> <span data-start="1266.1" data-end="1269.4">one is can I do this so before moving to</span> <span data-start="1269.4" data-end="1272.309">a state then the code always asks am I</span> <span data-start="1272.309" data-end="1274.77">allowed to do this so it might say am I</span> <span data-start="1274.77" data-end="1276.75">allowed to fight and the code comes back</span> <span data-start="1276.75" data-end="1278.61">and says yet there's totally an enemy</span> <span data-start="1278.61" data-end="1280.799">there and he's got guns so you should</span> <span data-start="1280.799" data-end="1284.64">totally fight him or we're shooting can</span> </p>
<p><span data-start="1284.64" data-end="1288.03">I shoot yeah you've totally got bullets</span> <span data-start="1288.03" data-end="1290.82">you've got a gun do it and then the</span> <span data-start="1290.82" data-end="1292.59">other thing that governs movement around</span> <span data-start="1292.59" data-end="1295.44">the behavior tree is a strategy and this</span> <span data-start="1295.44" data-end="1297.69">is a method for choosing where you're</span> <span data-start="1297.69" data-end="1299.04">going to move next</span> <span data-start="1299.04" data-end="1302.73">in the tree so in this we're in the</span> <span data-start="1302.73" data-end="1305.43">fight state and we need a strategy for</span> <span data-start="1305.43" data-end="1307.23">choosing whether to try and shoot or try</span> <span data-start="1307.23" data-end="1308.94">and throw a grenade and the two</span> <span data-start="1308.94" data-end="1310.44">strategies that I used in pistol start</span> <span data-start="1310.44" data-end="1311.76">there are a bunch of others that you can</span> <span data-start="1311.76" data-end="1313.8">use a behavior trees but this was enough</span> <span data-start="1313.8" data-end="1316.65">for pistol the first strategy i use</span> <span data-start="1316.65" data-end="1322.44">was prioritization and in this then you</span> <span data-start="1322.44" data-end="1326.01">just start at the left and you run the</span> <span data-start="1326.01" data-end="1329.04">first sub branch that you can run so i'm</span> <span data-start="1329.04" data-end="1332.31">in the fight state and I say okay start</span> <span data-start="1332.31" data-end="1334.23">at left can I shoot the answer comes</span> <span data-start="1334.23" data-end="1337.11">back know so I say all right then can I</span> <span data-start="1337.11" data-end="1338.82">throw a grenade the answer comes back</span> <span data-start="1338.82" data-end="1341.04">yes so I moved to the throw grenade</span> <span data-start="1341.04" data-end="1343.38">state I throw a grenade and then I move</span> <span data-start="1343.38" data-end="1345.72">back up to the parent state so that's</span> <span data-start="1345.72" data-end="1347.85">prioritization so you choose the first</span> <span data-start="1347.85" data-end="1350.04">one that can run and then you go back to</span> <span data-start="1350.04" data-end="1352.71">the parent the other strategy is</span> <span data-start="1352.71" data-end="1354.75">sequential ization which is where you</span> <span data-start="1354.75" data-end="1357.39">run every sub branch that you can so you</span> <span data-start="1357.39" data-end="1358.83">might end up running all of the sub</span> <span data-start="1358.83" data-end="1361.95">branches or nun or some so I'm in the</span> <span data-start="1361.95" data-end="1364.29">fight state the strategy is sequential</span> <span data-start="1364.29" data-end="1368.46">ization um I say can I shoot and answer</span> <span data-start="1368.46" data-end="1370.17">comes back yes so I moved to the shoot</span> <span data-start="1370.17" data-end="1373.11">state I shoot and then I move straight</span> <span data-start="1373.11" data-end="1374.85">on to the throw grenades dating can I</span> <span data-start="1374.85" data-end="1377.25">and say can I throw a grenade the answer</span> <span data-start="1377.25" data-end="1378.66">comes back yeah you can totally throw a</span> <span data-start="1378.66" data-end="1380.7">grenade so I throw a grenade and then</span> <span data-start="1380.7" data-end="1383.61">move back to the fight state so with all</span> <span data-start="1383.61" data-end="1385.86">that in mind here is the only side with</span> <span data-start="1385.86" data-end="1389.22">any code on it it's JSON so it's not</span> <span data-start="1389.22" data-end="1393.87">even real code but it's pretty much all</span> <span data-start="1393.87" data-end="1396.39">of the code that all of the behavior</span> <span data-start="1396.39" data-end="1400.17">tree for pistol and we're going to</span> <span data-start="1400.17" data-end="1404.97">go through it so I'm on line one I'm in</span> <span data-start="1404.97" data-end="1408.12">the idle state the strategy is the idle</span> <span data-start="1408.12" data-end="1410.76">state is prioritized so this means i</span> <span data-start="1410.76" data-end="1412.38">need to find the first child that can</span> <span data-start="1412.38" data-end="1415.23">run and then run it but actually the</span> <span data-start="1415.23" data-end="1417.21">idle state only has one child and that's</span> <span data-start="1417.21" data-end="1421.83">line three fight so i say can I fight</span> <span data-start="1421.83" data-end="1423.96">and the code comes back and says yeah</span> <span data-start="1423.96" data-end="1425.64">there's totally an enemy day you can</span> <span data-start="1425.64" data-end="1429.33">fight so I moved to the fight state the</span> <span data-start="1429.33" data-end="1431.58">strategy again is prioritized so now</span> </p>
<p><span data-start="1431.58" data-end="1432.96">I've got three children to choose</span> <span data-start="1432.96" data-end="1435.75">so I check out the first one on line</span> <span data-start="1435.75" data-end="1438.539">five find cover so I say can I find</span> <span data-start="1438.539" data-end="1440.64">cover and the code comes back and says</span> <span data-start="1440.64" data-end="1443.429">yeah there's there's have been between</span> <span data-start="1443.429" data-end="1446.34">you and the enemy you can run and hide</span> <span data-start="1446.34" data-end="1448.649">behind that so I moved to the fine cover</span> <span data-start="1448.649" data-end="1451.2">state and the strategy of the fine cover</span> <span data-start="1451.2" data-end="1454.23">stay on line five is sequential ization</span> <span data-start="1454.23" data-end="1456.059">so this means i'm going to run all the</span> <span data-start="1456.059" data-end="1459.029">children that apply and then move back</span> <span data-start="1459.029" data-end="1461.97">up so i go to line seven and say can I</span> <span data-start="1461.97" data-end="1463.89">turn towards the player and the code</span> <span data-start="1463.89" data-end="1465.51">comes back and says yet you're turned</span> <span data-start="1465.51" data-end="1467.789">away from him so are you should totally</span> <span data-start="1467.789" data-end="1469.98">turn towards him so I moved to the turn</span> <span data-start="1469.98" data-end="1471.779">towards player state turn towards player</span> <span data-start="1471.779" data-end="1473.61">and then I move right on to line eight</span> <span data-start="1473.61" data-end="1475.35">and say can I stand and the code says</span> <span data-start="1475.35" data-end="1476.549">yeah you can stand because you're</span> <span data-start="1476.549" data-end="1478.32">crouched at the moment so I moved to the</span> <span data-start="1478.32" data-end="1480.299">stand state and then I stand up and then</span> </p>
<p><span data-start="1480.299" data-end="1482.19">I move the line nine and I say can I run</span> <span data-start="1482.19" data-end="1483.96">for cover which just comes back yes and</span> <span data-start="1483.96" data-end="1485.85">so I run for cover and then I really</span> <span data-start="1485.85" data-end="1488.25">moved to line 10 and I say can I shoot</span> <span data-start="1488.25" data-end="1490.5">and again you've got bullets you've got</span> <span data-start="1490.5" data-end="1492.63">guns you can totally shoot so I moved to</span> <span data-start="1492.63" data-end="1495.149">the shoot state and then I shoot and</span> <span data-start="1495.149" data-end="1496.83">then I go back up to the fine cover</span> <span data-start="1496.83" data-end="1499.32">state now I'm probably not in cover</span> <span data-start="1499.32" data-end="1503.7">still so the answer on line five can I</span> <span data-start="1503.7" data-end="1506.88">find cover will come back yes you can so</span> <span data-start="1506.88" data-end="1508.049">I'm going to keep on looping through</span> <span data-start="1508.049" data-end="1510.779">this fine cover state until i get to</span> <span data-start="1510.779" data-end="1512.399">cover and let's say I actually make it</span> <span data-start="1512.399" data-end="1513.72">there and I don't get killed on the way</span> <span data-start="1513.72" data-end="1516.539">then eventually i'll come back up to</span> <span data-start="1516.539" data-end="1518.61">line five and say can i find cover and</span> <span data-start="1518.61" data-end="1520.74">the answer comes back no you can't</span> <span data-start="1520.74" data-end="1522.27">because you're already in cover you're</span> <span data-start="1522.27" data-end="1524.85">already duck down behind that bin so now</span> <span data-start="1524.85" data-end="1526.74">i say okay back up to the fight state</span> <span data-start="1526.74" data-end="1529.74">line three and then i say i minused i'm</span> <span data-start="1529.74" data-end="1532.77">using the prioritized strategy so I</span> <span data-start="1532.77" data-end="1535.5">check out find cover again still can't</span> <span data-start="1535.5" data-end="1537.09">find cover because I'm still duck down</span> <span data-start="1537.09" data-end="1539.549">behind that bin and so I go to line 13</span> <span data-start="1539.549" data-end="1541.86">the throw grenades day and I say can I</span> <span data-start="1541.86" data-end="1543.36">throw a grenade and it said the code</span> <span data-start="1543.36" data-end="1544.35">comes back I says yeah you've got</span> <span data-start="1544.35" data-end="1546.63">grenades throw one so I throw one and</span> <span data-start="1546.63" data-end="1548.399">then back up to the fight state again</span> <span data-start="1548.399" data-end="1550.47">line three now it's going to be fine</span> <span data-start="1550.47" data-end="1552.48">cover can't do that because still in</span> <span data-start="1552.48" data-end="1554.13">cover throw grenade can't do that</span> <span data-start="1554.13" data-end="1555.51">anymore because you've just thrown one</span> <span data-start="1555.51" data-end="1558.059">and so then you move the line 14 can I</span> <span data-start="1558.059" data-end="1562.289">shoot a new shoot so that's basically</span> <span data-start="1562.289" data-end="1563.88">how the AI and pistols that works</span> <span data-start="1563.88" data-end="1565.169">there's a bit of extra stuff but it's</span> <span data-start="1565.169" data-end="1567.38">not that instructive</span> <span data-start="1567.38" data-end="1573.559">now why is this cool I think number one</span> <span data-start="1573.559" data-end="1576.12">with that behavior tree then you can</span> <span data-start="1576.12" data-end="1577.98">move around that JSON really really</span> <span data-start="1577.98" data-end="1579.929">easily so you can change the behavior of</span> <span data-start="1579.929" data-end="1584.76">the AI with minimal code changes so</span> <span data-start="1584.76" data-end="1585.87">obviously there's a bunch of code which</span> <span data-start="1585.87" data-end="1588.059">does inferences about where the bins are</span> <span data-start="1588.059" data-end="1589.71">and and whether you've got any bullets</span> <span data-start="1589.71" data-end="1591.27">and all of that stuff but that's all</span> <span data-start="1591.27" data-end="1593.67">nicely tucked away inside you know</span> <span data-start="1593.67" data-end="1595.98">modularized and it's it's it's it's kind</span> <span data-start="1595.98" data-end="1599.809">of not dependent on other bits of code</span> <span data-start="1599.809" data-end="1606.21">and second of all I think that you can</span> <span data-start="1606.21" data-end="1608.37">actually read that Jason and understand</span> <span data-start="1608.37" data-end="1610.35">it so I showed this Jason to my mom when</span> </p>
<p><span data-start="1610.35" data-end="1612.78">I was trying to talk about pistols on</span> <span data-start="1612.78" data-end="1614.61">what I've been working on in my spare</span> <span data-start="1614.61" data-end="1617">time and I think she totally got it I</span> <span data-start="1617" data-end="1621.63">think and so I think this means you can</span> <span data-start="1621.63" data-end="1624.059">collaborate on a I with non-programmers</span> <span data-start="1624.059" data-end="1625.53">and I think it's always good to be able</span> <span data-start="1625.53" data-end="1629.34">to do that so penultimate topic before i</span> <span data-start="1629.34" data-end="1633.45">talk about falling in love i want to wet</span> <span data-start="1633.45" data-end="1638.64">discovery when i wrote pistol was</span> <span data-start="1638.64" data-end="1640.95">the first game i've written and it was</span> <span data-start="1640.95" data-end="1642.48">the first major javascript project I'd</span> <span data-start="1642.48" data-end="1645.12">done and I'd never done any hadn't done</span> <span data-start="1645.12" data-end="1647.76">much a I work and hadn't done anything</span> <span data-start="1647.76" data-end="1649.26">to do with collision detection as far as</span> </p>
<p><span data-start="1649.26" data-end="1652.53">I can remember and I didn't really read</span> <span data-start="1652.53" data-end="1656.01">up that much in advance and probably if</span> <span data-start="1656.01" data-end="1657.33">it'd been something i was doing for work</span> <span data-start="1657.33" data-end="1659.61">i would have felt obliged to do that and</span> <span data-start="1659.61" data-end="1663.21">so I would have done but because it was</span> <span data-start="1663.21" data-end="1667.74">for fun then I kind of just want didn't</span> <span data-start="1667.74" data-end="1669.57">want to spoil a surprise and so I</span> <span data-start="1669.57" data-end="1671.61">figured out that grenade sweeping stuff</span> <span data-start="1671.61" data-end="1676.58">and um figured out you know why my</span> <span data-start="1676.58" data-end="1678.6">enemies were running around madly</span> <span data-start="1678.6" data-end="1682.38">shooting each other and didn't Google</span> </p>
<p><span data-start="1682.38" data-end="1684.84">March and didn't read any books in</span> <span data-start="1684.84" data-end="1687.09">advance just because that process of</span> <span data-start="1687.09" data-end="1689.34">discovering how to do something even</span> <span data-start="1689.34" data-end="1690.6">when you know someone else has already</span> <span data-start="1690.6" data-end="1692.91">solved this problem I think is like one</span> <span data-start="1692.91" data-end="1694.35">of the most joyous feelings in the whole</span> <span data-start="1694.35" data-end="1697.26">world and so that's why I didn't want to</span> <span data-start="1697.26" data-end="1699.87">spoil a surprise so I suppose up what</span> </p>
<p><span data-start="1699.87" data-end="1700.47">I'm saying is</span> <span data-start="1700.47" data-end="1702.71">read new books and don't learn anything</span> <span data-start="1702.71" data-end="1706.59">except by doing um and so the final</span> <span data-start="1706.59" data-end="1714.57">topic is falling in love and this is not</span> <span data-start="1714.57" data-end="1719.62">really about code that much so apologies</span> <span data-start="1719.63" data-end="1724.2">one evening maybe a few months ago I was</span> <span data-start="1724.2" data-end="1727.23">in my kitchen writing some code with</span> <span data-start="1727.23" data-end="1730.049">pistols up and I had this ticket to go</span> <span data-start="1730.049" data-end="1731.85">and see this band called wolf parade who</span> <span data-start="1731.85" data-end="1736.47">are really really good and and they were</span> <span data-start="1736.47" data-end="1737.88">playing down the road for me where i</span> <span data-start="1737.88" data-end="1740.669">live in berlin and i was really into the</span> <span data-start="1740.669" data-end="1742.14">cone i really wanted to stay in and</span> <span data-start="1742.14" data-end="1744.33">write it but then I sort of forced my</span> <span data-start="1744.33" data-end="1746.73">tore myself away and then dashed down</span> <span data-start="1746.73" data-end="1748.98">the road went to this gig and then after</span> <span data-start="1748.98" data-end="1750.72">that ended up going up with some friends</span> <span data-start="1750.72" data-end="1754.049">and and and and and and drinking quite a</span> <span data-start="1754.049" data-end="1755.76">lot and stuff and then i came home at</span> <span data-start="1755.76" data-end="1758.929">sort of seven or eight in the morning as</span> <span data-start="1758.929" data-end="1762.03">its kind of still drunk basically and</span> <span data-start="1762.03" data-end="1763.83">sat down and carried on picked up where</span> </p>
<p><span data-start="1763.83" data-end="1769.02">I left off with the code um and I'm in a</span> <span data-start="1769.02" data-end="1773.61">band as a sort of separate thing and so</span> <span data-start="1773.61" data-end="1775.559">when I write songs then more and more</span> <span data-start="1775.559" data-end="1777.419">often recently than I started to write</span> <span data-start="1777.419" data-end="1778.95">about my real life rather than about</span> <span data-start="1778.95" data-end="1781.26">more generic things and so I wrote a</span> <span data-start="1781.26" data-end="1783.36">song about the fact that I'd been</span> <span data-start="1783.36" data-end="1785.46">writing the code for pistol sight in my</span> <span data-start="1785.46" data-end="1787.409">kitchen and then run out to sea wolf</span> <span data-start="1787.409" data-end="1789.75">parade and then got drunk on gimlets</span> <span data-start="1789.75" data-end="1792.09">with my friends and and and gone some</span> <span data-start="1792.09" data-end="1796.049">clubs and stuff and um then when I</span> <span data-start="1796.049" data-end="1798.059">figured out grenade sweeping then I was</span> <span data-start="1798.059" data-end="1800.22">in a bar called for vigne a really nice</span> <span data-start="1800.22" data-end="1803.669">bar and fell in drinking Hemingway's so</span> <span data-start="1803.669" data-end="1804.87">whenever I think about the grenade</span> <span data-start="1804.87" data-end="1806.88">sweeping code I think about the taste of</span> </p>
<p><span data-start="1806.88" data-end="1808.38">Hemingway's which is a it's a really</span> <span data-start="1808.38" data-end="1810.15">nice cocktail by the way it's got great</span> <span data-start="1810.15" data-end="1811.74">fruit juice and some sort of red thing</span> <span data-start="1811.74" data-end="1817.19">and gin and so</span> <span data-start="1817.19" data-end="1819.5">I sort of felt like crystals that was</span> <span data-start="1819.5" data-end="1821.83">becoming in time as my life and then</span> <span data-start="1821.83" data-end="1824.33">some of the bits of graffiti in the</span> <span data-start="1824.33" data-end="1827.6">level it is level singular at the moment</span> <span data-start="1827.6" data-end="1830.6">in the level in pistol shot are from my</span> <span data-start="1830.6" data-end="1832.85">diary or things that I'd seen around</span> <span data-start="1832.85" data-end="1835.97">Berlin and then recently I found myself</span> <span data-start="1835.97" data-end="1838.49">at a party talkin about pistols that to</span> <span data-start="1838.49" data-end="1841.34">a stranger who was a non programmer and</span> <span data-start="1841.34" data-end="1843.26">he seemed to sort of find it interesting</span> <span data-start="1843.26" data-end="1845.99">I hope and so I suppose what I'm trying</span> <span data-start="1845.99" data-end="1849.17">to say is that pistol start become more</span> <span data-start="1849.17" data-end="1850.85">and more entwined with my life or more</span> <span data-start="1850.85" data-end="1853.04">like what more importantly programming</span> <span data-start="1853.04" data-end="1855.02">has been coming twined with my life and</span> </p>
<p><span data-start="1855.02" data-end="1857.54">I think falling in love like with a</span> <span data-start="1857.54" data-end="1863.72">person is so thrilling because they show</span> <span data-start="1863.72" data-end="1865.25">you these possibilities that you'd never</span> <span data-start="1865.25" data-end="1867.71">even realized existed so they show you</span> <span data-start="1867.71" data-end="1870.59">new ways of thinking about things or new</span> <span data-start="1870.59" data-end="1872.81">perspectives and so it sets off all of</span> <span data-start="1872.81" data-end="1874.04">these endorphins in your brain that are</span> <span data-start="1874.04" data-end="1878.09">just super exciting and so I felt like</span> <span data-start="1878.09" data-end="1880.7">the same thing happened with pistols lat</span> <span data-start="1880.7" data-end="1882.23">in the sense that it become entwined</span> <span data-start="1882.23" data-end="1884.45">with my life and and different parts of</span> <span data-start="1884.45" data-end="1886.25">my life had started to inform each other</span> <span data-start="1886.25" data-end="1888.5">because of it so you know the songs I</span> <span data-start="1888.5" data-end="1890">was writing and the code i was writing</span> <span data-start="1890" data-end="1891.8">and their friendships i was having in</span> <span data-start="1891.8" data-end="1894.14">the bars i was going to and and and the</span> <span data-start="1894.14" data-end="1895.82">graffiti i was saying all kind of became</span> <span data-start="1895.82" data-end="1899.33">entwined and so i suppose in summary</span> <span data-start="1899.33" data-end="1900.95">what i mean is that pistol made me</span> <span data-start="1900.95" data-end="1917.68">fall in love with programming thanks</span> <span data-start="1917.69" data-end="1922.17">any questions my name or pistol</span> <span data-start="1922.17" data-end="1927.32">name what the story of me uh okay um</span> <span data-start="1927.32" data-end="1932.55">basically it was a joke um I started</span> <span data-start="1932.55" data-end="1938.28">writing the code last summer and I was</span> <span data-start="1938.28" data-end="1940.02">thinking about the most ridiculous names</span> <span data-start="1940.02" data-end="1941.76">that I could have and I thought will</span> <span data-start="1941.76" data-end="1943.5">surely I've got to combine sex and</span> <span data-start="1943.5" data-end="1946.86">violence into a single phrase and then I</span> <span data-start="1946.86" data-end="1948.51">thought okay yeah pistol sup brilliant</span> <span data-start="1948.51" data-end="1951.06">and so then I when I was talking about</span> <span data-start="1951.06" data-end="1953.04">the fact i was writing this game to my</span> <span data-start="1953.04" data-end="1954.78">friends they said what's it going to be</span> <span data-start="1954.78" data-end="1957.18">called and I said as a joke pistol</span> <span data-start="1957.18" data-end="1959.22">and then I tried to change it later but</span> <span data-start="1959.22" data-end="1961.08">they were all like no no no no no that's</span> <span data-start="1961.08" data-end="1964.37">the best thing about it so it's stuck um</span> <span data-start="1964.37" data-end="1967.95">so you can play a pistol calm if</span> <span data-start="1967.95" data-end="1971.97">you want to anyone else how are you</span> <span data-start="1971.97" data-end="1973.23">choosing him Sylvester for your</span> <span data-start="1973.23" data-end="1976.29">javascript file sorry say that again I</span> <span data-start="1976.29" data-end="1978.06">was going through your code how was how</span> <span data-start="1978.06" data-end="1979.35">did you choose the name Sylvester for</span> <span data-start="1979.35" data-end="1981.21">your main javascript file oh she does</span> <span data-start="1981.21" data-end="1983.82">not mind that so made by a man called</span> </p>
<p><span data-start="1983.82" data-end="1985.59">James Coughlan who's an excellent</span> <span data-start="1985.59" data-end="1988.83">JavaScript developer it's a library for</span> <span data-start="1988.83" data-end="1992.85">doing mathematical calculations based on</span> <span data-start="1992.85" data-end="1996.69">vectors I don't know how he chose it so</span> <span data-start="1996.69" data-end="1999.06">you'd have to ask him but he blogs at</span> <span data-start="1999.06" data-end="2002.15">jeg coughlin com he's a super genius he</span> <span data-start="2002.15" data-end="2005.21">should totally check her eyes code did</span> <span data-start="2005.21" data-end="2007.46">you look at box TD for your uh your</span> <span data-start="2007.46" data-end="2010.79">physics framework yeah so um I found out</span> <span data-start="2010.79" data-end="2012.77">about box2d at the Berlin JavaScript</span> <span data-start="2012.77" data-end="2014.81">group quite recently and I was like god</span> <span data-start="2014.81" data-end="2017.3">dammit all of those nights crying into</span> <span data-start="2017.3" data-end="2019.76">my gimlets about you know the fact that</span> <span data-start="2019.76" data-end="2022.22">my grenades were still bouncing</span> <span data-start="2022.22" data-end="2027.59">into bins and not on them so I nearly</span> <span data-start="2027.59" data-end="2029.36">killed myself at that point but then I</span> <span data-start="2029.36" data-end="2031.34">thought it's a fine I'll just totally</span> <span data-start="2031.34" data-end="2034.28">integrate it so I spent a very difficult</span> <span data-start="2034.28" data-end="2038.9">week integrating box2d with the game but</span> <span data-start="2038.9" data-end="2040.97">found out that actually there were some</span> <span data-start="2040.97" data-end="2043.7">things that because I'd written them</span> <span data-start="2043.7" data-end="2046.07">specifically for my game were better in</span> <span data-start="2046.07" data-end="2048.08">my collision section code but this is</span> <span data-start="2048.08" data-end="2049.76">not to say that box2d sucks</span> <span data-start="2049.76" data-end="2052.76">it's awesome obviously but it solves a</span> <span data-start="2052.76" data-end="2054.83">much greater more general class of</span> <span data-start="2054.83" data-end="2058.04">problems and so I found that I wanted</span> <span data-start="2058.04" data-end="2060.95">specific behavior for different objects</span> <span data-start="2060.95" data-end="2063.26">and so I found I kept my code in the end</span> <span data-start="2063.26" data-end="2065.99">but box2d is totally great so if</span> <span data-start="2065.99" data-end="2068.3">anyone's writing a game used that not my</span> <span data-start="2068.3" data-end="2069.53">collision detection code because it</span> <span data-start="2069.53" data-end="2085.22">sucks anyone else nope okay thanks did</span> </p>
</section>