<section>
<p><span data-start="14.759" data-end="17.529">well good afternoon everyone um</span> <span data-start="17.529" data-end="19.509">today's been amazing it's so good to be</span> <span data-start="19.509" data-end="21.369">here the quality of the talks has been</span> <span data-start="21.369" data-end="24.369">absolutely astounding which puts a lot</span> <span data-start="24.369" data-end="25.9">of pressure on my shoulders for the last</span> <span data-start="25.9" data-end="29.74">talk yeah it's quite a long talk it's</span> <span data-start="29.74" data-end="31.81">quite a lot slide so I'll try not to run</span> <span data-start="31.81" data-end="35.559">over refactoring CSS without losing your</span> <span data-start="35.559" data-end="39.339">mind quite a scary topic refactoring any</span> <span data-start="39.339" data-end="41.8">kind of code kind of scary CSS is</span> <span data-start="41.8" data-end="44.079">particularly difficult so in this talk</span> <span data-start="44.079" data-end="46.149">we're gonna look at some fairly</span> <span data-start="46.149" data-end="48.76">philosophical stuff how do we prove the</span> <span data-start="48.76" data-end="50.98">business case for refactoring CSS how do</span> <span data-start="50.98" data-end="52.449">we go to our product owners that were</span> <span data-start="52.449" data-end="55.03">project managers and get the time to</span> <span data-start="55.03" data-end="57.91">refactor stuff what should we refactor</span> <span data-start="57.91" data-end="59.92">what do we decide to refactor what can</span> <span data-start="59.92" data-end="61.44">we leave alone for a bit longer</span> <span data-start="61.44" data-end="63.55">that's gonna be the philosophical stuff</span> <span data-start="63.55" data-end="64.449">and then we're gonna move on to some</span> <span data-start="64.449" data-end="66.85">fairly practical tips and tricks and</span> <span data-start="66.85" data-end="68.979">some weird stuff to help us actually</span> <span data-start="68.979" data-end="73.479">refactor our CSS yeah so hello again</span> <span data-start="73.479" data-end="75.64">from me it's my first time ever in</span> </p>
<p><span data-start="75.64" data-end="77.83">Argentina so obviously my first time</span> <span data-start="77.83" data-end="80.349">when Azhar is such a cool city having so</span> <span data-start="80.349" data-end="83.92">much fun um I'm Harry I'm from the north</span> <span data-start="83.92" data-end="86.5">of England which is probably why I'm</span> <span data-start="86.5" data-end="89.89">really hard to understand very specific</span> <span data-start="89.89" data-end="93.19">weird accent I am CSS wizardry online</span> <span data-start="93.19" data-end="96.819">get Herbeck cetera but my job is I'm a</span> <span data-start="96.819" data-end="99.55">consultant front-end architect so I deal</span> <span data-start="99.55" data-end="102.34">with CSS architecture uh performance and</span> </p>
<p><span data-start="102.34" data-end="104.53">I usually tend to do this at scale I</span> <span data-start="104.53" data-end="106">tend to work with fairly large companies</span> <span data-start="106" data-end="108.069">which means bigger code bases more</span> <span data-start="108.069" data-end="109.539">developers bigger teams</span> <span data-start="109.539" data-end="112.36">long-running projects which also means</span> <span data-start="112.36" data-end="115.03">that there's more reason for requirement</span> <span data-start="115.03" data-end="116.95">or a necessity to refactor things and</span> <span data-start="116.95" data-end="120.06">unfortunately I hate refactoring CSS</span> <span data-start="120.06" data-end="123.239">anybody here refactored some CSS before</span> <span data-start="123.239" data-end="126.55">yeah most of us keep your hands up hands</span> <span data-start="126.55" data-end="128.259">back up keep your hands up if you</span> <span data-start="128.259" data-end="131.379">enjoyed that experience yeah exactly I</span> <span data-start="131.379" data-end="133.66">don't trust you one person in this room</span> <span data-start="133.66" data-end="137.68">enjoys refactoring CSS so yeah it's</span> <span data-start="137.68" data-end="139.39">awful it's a horrible job because CSS</span> <span data-start="139.39" data-end="141.609">you can't really write tests for it so</span> <span data-start="141.609" data-end="143.349">if you modify one thing you don't even</span> <span data-start="143.349" data-end="144.86">gonna break everything else</span> <span data-start="144.86" data-end="146.48">so hopefully in this talk we'll look at</span> <span data-start="146.48" data-end="148.55">some ways of making the refactoring</span> <span data-start="148.55" data-end="150.68">process a little bit simpler a little</span> <span data-start="150.68" data-end="153.35">bit safer I'm not gonna promise you</span> <span data-start="153.35" data-end="155.81">it'll be an enjoyable experience but it</span> <span data-start="155.81" data-end="159.47">will at least be a little easier let's</span> <span data-start="159.47" data-end="161.39">start off then what do we talk about</span> <span data-start="161.39" data-end="164.12">when we talk about refactoring there's a</span> <span data-start="164.12" data-end="166.13">really nice definition from a very very</span> <span data-start="166.13" data-end="168.02">clever man called Martin Fowler and he</span> <span data-start="168.02" data-end="170.33">says that refactoring is the process of</span> <span data-start="170.33" data-end="172.37">changing a software system in such a way</span> <span data-start="172.37" data-end="174.23">that it does not alter the external</span> <span data-start="174.23" data-end="176.959">behavior of the code yet improve the</span> <span data-start="176.959" data-end="180.08">internal structure so right away what</span> </p>
<p><span data-start="180.08" data-end="180.89">I'm getting from this is that</span> <span data-start="180.89" data-end="182.989">refactoring doesn't benefit our users</span> <span data-start="182.989" data-end="184.67">it's not for them it's for us it's a</span> <span data-start="184.67" data-end="186.89">business decision it's a decision that</span> <span data-start="186.89" data-end="189.739">developers product owners they make it</span> <span data-start="189.739" data-end="191.6">so that we can have a nicer environment</span> <span data-start="191.6" data-end="193.94">to work in so it's not initially for our</span> <span data-start="193.94" data-end="197.03">users however I would argue that given</span> <span data-start="197.03" data-end="200.15">enough time it will ultimately benefit</span> <span data-start="200.15" data-end="202.13">our users because we'll be delivering</span> <span data-start="202.13" data-end="203.989">better quality software we'll be</span> <span data-start="203.989" data-end="205.73">delivering software with hopefully fewer</span> <span data-start="205.73" data-end="208.64">bugs or errors we'll be able to add</span> <span data-start="208.64" data-end="210.23">features quicker so we'll be able to</span> <span data-start="210.23" data-end="211.88">deliver features to our customers now it</span> <span data-start="211.88" data-end="214.34">uses much more quickly so refactoring</span> <span data-start="214.34" data-end="215.78">starts off as a business decision that</span> <span data-start="215.78" data-end="218.18">ultimately will benefit our users as</span> <span data-start="218.18" data-end="222.739">well to my mind and at least for the</span> <span data-start="222.739" data-end="225.26">purposes of this talk I consider kind of</span> <span data-start="225.26" data-end="227.57">three separate types of refactoring</span> <span data-start="227.57" data-end="229.43">there's a kind of as you go refactoring</span> <span data-start="229.43" data-end="232.16">which everybody in this room every</span> <span data-start="232.16" data-end="234.2">developer in the world should be doing</span> <span data-start="234.2" data-end="236.75">this one all the time this is like when</span> <span data-start="236.75" data-end="238.34">you need to build a new feature so you</span> <span data-start="238.34" data-end="239.959">chilled a prototype you hack it together</span> <span data-start="239.959" data-end="242.15">and it works now of course you're not</span> <span data-start="242.15" data-end="243.32">going to leave it in that kind of</span> <span data-start="243.32" data-end="245">condition you would go back and add</span> <span data-start="245" data-end="247.01">comments you add documentation you dry</span> <span data-start="247.01" data-end="249.38">it out you perhaps start using variables</span> <span data-start="249.38" data-end="251.239">from the wider project to kind of make</span> <span data-start="251.239" data-end="254.63">this code or more lean we should be</span> <span data-start="254.63" data-end="255.86">doing this all the time but if we don't</span> <span data-start="255.86" data-end="257.39">manage to do this if we don't manage to</span> <span data-start="257.39" data-end="258.919">capture everything at this point we</span> <span data-start="258.919" data-end="261.049">might end up with refactoring our</span> <span data-start="261.049" data-end="263.419">technical debt technical debt I'm</span> <span data-start="263.419" data-end="265.07">finding really interesting at the moment</span> <span data-start="265.07" data-end="266.06">because I'm working with clients who</span> <span data-start="266.06" data-end="268">have got quite a lot of it</span> <span data-start="268" data-end="270.38">technical debt is kind of when you do</span> <span data-start="270.38" data-end="273.2">what you can right now when you do you</span> <span data-start="273.2" data-end="275.3">build a feature given a certain of</span> <span data-start="275.3" data-end="276.99">limited time on knowledge</span> <span data-start="276.99" data-end="279.18">information but you know that you need</span> <span data-start="279.18" data-end="280.56">to go back and tidy up later so you</span> <span data-start="280.56" data-end="282.18">built something with all the available</span> <span data-start="282.18" data-end="284.1">information but you need to go back in</span> <span data-start="284.1" data-end="286.95">future and tidy things up if we don't</span> <span data-start="286.95" data-end="288.75">capture things at this point we end up</span> <span data-start="288.75" data-end="289.71">getting on to the third type of</span> <span data-start="289.71" data-end="291.24">refactoring which is actually more like</span> <span data-start="291.24" data-end="293.79">a rewrite this is where you've ignored</span> <span data-start="293.79" data-end="295.74">your technical debt for long enough that</span> <span data-start="295.74" data-end="297.6">you can't refactor anymore it's too</span> <span data-start="297.6" data-end="299.34">messy to start refactoring it's going to</span> <span data-start="299.34" data-end="302.19">be cheaper to actually just tear it all</span> <span data-start="302.19" data-end="303.11">down and start again</span> <span data-start="303.11" data-end="306.5">anyone ended up in this situation before</span> <span data-start="306.5" data-end="309.27">okay a few of us yeah it happens many on</span> <span data-start="309.27" data-end="311.22">big projects and the rewrite takes two</span> <span data-start="311.22" data-end="313.26">years and it's still not as good as when</span> <span data-start="313.26" data-end="314.91">you started and it all goes wrong and</span> <span data-start="314.91" data-end="317.46">it's a very expensive error-prone ever</span> <span data-start="317.46" data-end="321.6">of pronet process unfortunately as you</span> <span data-start="321.6" data-end="323.79">get further into a project the type of</span> <span data-start="323.79" data-end="326.61">refactoring is likely to change right</span> <span data-start="326.61" data-end="328.05">the longer you spend on a project the</span> <span data-start="328.05" data-end="329.76">type of refactoring you need to do is</span> <span data-start="329.76" data-end="331.32">probably going to change and</span> <span data-start="331.32" data-end="333.42">unfortunately it gets progressively more</span> <span data-start="333.42" data-end="336.39">expensive more costly it becomes a much</span> <span data-start="336.39" data-end="339.27">bigger operation this talk is mainly</span> <span data-start="339.27" data-end="342.06">going to discuss technical debt and the</span> <span data-start="342.06" data-end="344.64">rewrites and overhauls it's all going</span> <span data-start="344.64" data-end="346.32">it's also going to discuss that kind of</span> <span data-start="346.32" data-end="348.66">bit in the middle how can we capture a</span> <span data-start="348.66" data-end="350.19">technical debt before it becomes a</span> <span data-start="350.19" data-end="351.9">rewrite or how do we rewrite something</span> <span data-start="351.9" data-end="354.51">before it becomes a complete overhaul so</span> <span data-start="354.51" data-end="356.28">we'll look at that kind of thin seam in</span> <span data-start="356.28" data-end="360.57">the middle a quick aside on technical</span> </p>
<p><span data-start="360.57" data-end="362.61">Batman have you all heard of the phrase</span> <span data-start="362.61" data-end="364.68">technical debt you heard of technical</span> <span data-start="364.68" data-end="367.47">debt oh cool half of us maybe for</span> <span data-start="367.47" data-end="368.88">anybody who hasn't heard the phrase</span> <span data-start="368.88" data-end="371.67">technical debt the URL on this slide is</span> <span data-start="371.67" data-end="373.17">definitely worth checking out I will</span> <span data-start="373.17" data-end="374.91">share the slides at the end of the talk</span> <span data-start="374.91" data-end="377.82">but a technical debt is when you decide</span> <span data-start="377.82" data-end="380.61">to do something right now to kind of</span> <span data-start="380.61" data-end="381.84">take a shortcut so you do something</span> <span data-start="381.84" data-end="383.97">right now to take a shortcut but you</span> <span data-start="383.97" data-end="385.53">have to understand that that's like</span> <span data-start="385.53" data-end="387.78">taking a loan that shortcut isn't free</span> <span data-start="387.78" data-end="389.67">that shortcut will cost you something in</span> <span data-start="389.67" data-end="391.59">the future except it won't just cost you</span> <span data-start="391.59" data-end="394.43">the shortcut it will incur some interest</span> <span data-start="394.43" data-end="397.65">probably the quickest most succinctly of</span> <span data-start="397.65" data-end="399.75">technical debt is when you're working on</span> <span data-start="399.75" data-end="402.05">a product and there's a problem and</span> <span data-start="402.05" data-end="404.55">using important we'll fix that problem</span> <span data-start="404.55" data-end="408.33">now typing important takes about four</span> <span data-start="408.33" data-end="410.49">seconds right so four four second</span> <span data-start="410.49" data-end="412.65">you can fix a problem that's really</span> <span data-start="412.65" data-end="415.08">cheap but that's alone right that is</span> <span data-start="415.08" data-end="416.52">technical debt because fixing the</span> <span data-start="416.52" data-end="417.99">important in six months time isn't going</span> <span data-start="417.99" data-end="419.759">to take four seconds it's gonna take you</span> <span data-start="419.759" data-end="422.759">four days so four seconds now is</span> <span data-start="422.759" data-end="424.71">technical debt you're getting a loan</span> <span data-start="424.71" data-end="426.539">you're fixing the problem immediately</span> <span data-start="426.539" data-end="429.09">but the repayment of four days in six</span> <span data-start="429.09" data-end="433.009">months time is what technical debt is</span> <span data-start="433.009" data-end="435.3">it's going to happen though technical</span> <span data-start="435.3" data-end="437.37">that happens on nearly every project you</span> <span data-start="437.37" data-end="439.139">work on you will need to get a release</span> <span data-start="439.139" data-end="440.819">out of the door you'll have a bug that</span> <span data-start="440.819" data-end="442.41">is on the live site you'll have to do</span> <span data-start="442.41" data-end="444.659">something right now to get a quick win</span> <span data-start="444.659" data-end="446.46">so technical debt is guaranteed to</span> <span data-start="446.46" data-end="449.3">happen on any project of sufficient size</span> <span data-start="449.3" data-end="451.62">the thing is we need to make sure we</span> <span data-start="451.62" data-end="453.21">keep up our repayment so if you ignore</span> <span data-start="453.21" data-end="455.19">the debt you end up going bankrupt your</span> <span data-start="455.19" data-end="456.419">interest increases you end up going</span> <span data-start="456.419" data-end="458.37">bankrupt so what you need to do is</span> <span data-start="458.37" data-end="462">schedule in constant bug fixing every</span> <span data-start="462" data-end="463.56">sprint you have you need to guarantee</span> <span data-start="463.56" data-end="465.72">that you can get some time to fix bugs</span> <span data-start="465.72" data-end="467.849">tidy up the codebase and sort of fix up</span> <span data-start="467.849" data-end="470.789">your technical debt but that means</span> <span data-start="470.789" data-end="472.8">bigger problems that brings problems you</span> <span data-start="472.8" data-end="474.81">know what do we refactor when do we do</span> <span data-start="474.81" data-end="476.55">it how long can we wait before we</span> <span data-start="476.55" data-end="478.74">refactor something now the easy answer</span> <span data-start="478.74" data-end="479.759">here is that we should always be</span> <span data-start="479.759" data-end="483.56">refactoring something but in more detail</span> <span data-start="483.56" data-end="485.669">we should refactor things if the</span> <span data-start="485.669" data-end="489.96">projected cost of maintenance or the</span> <span data-start="489.96" data-end="491.55">projected cost of maintaining a feature</span> <span data-start="491.55" data-end="493.789">is higher than refactoring it</span> <span data-start="493.789" data-end="496.56">the problem is tech debt and refactoring</span> <span data-start="496.56" data-end="498.3">is that you have to be very good at your</span> <span data-start="498.3" data-end="500.099">estimates and developers hate giving</span> <span data-start="500.099" data-end="502.77">estimates you have to project the cost</span> <span data-start="502.77" data-end="504.06">of maintaining a feature and if you</span> <span data-start="504.06" data-end="506.28">think it's going to cost you 20 weeks</span> <span data-start="506.28" data-end="508.409">over the next four years to maintain</span> <span data-start="508.409" data-end="510.75">something but maybe 15 weeks to rewrite</span> <span data-start="510.75" data-end="513.209">it those are the kind of numbers you</span> <span data-start="513.209" data-end="514.649">have to work out and take back to the</span> <span data-start="514.649" data-end="518.099">business you should only refactor things</span> <span data-start="518.099" data-end="519.599">if the current version is actually</span> <span data-start="519.599" data-end="521.909">slowing you down if the current codebase</span> <span data-start="521.909" data-end="524.79">isn't actually causing any problems even</span> <span data-start="524.79" data-end="526.74">if it might be ugly like their update if</span> <span data-start="526.74" data-end="529.11">if it's not actually slowing you down or</span> <span data-start="529.11" data-end="530.04">causing you problems you probably</span> <span data-start="530.04" data-end="531.899">shouldn't refactor it you try and leave</span> <span data-start="531.899" data-end="534.329">alone a little bit longer and from the</span> <span data-start="534.329" data-end="535.89">flip side you should refactor something</span> <span data-start="535.89" data-end="537.54">if the new version gives you actual</span> <span data-start="537.54" data-end="538.16">actual</span> <span data-start="538.16" data-end="540.17">tangible benefits if the new version is</span> <span data-start="540.17" data-end="542.029">going to be measurably better than the</span> <span data-start="542.029" data-end="542.75">old version</span> <span data-start="542.75" data-end="546.29">perhaps you should refactor a minor kind</span> <span data-start="546.29" data-end="548.12">of change in naming convention might not</span> <span data-start="548.12" data-end="550.129">change the way you work upgrading to a</span> <span data-start="550.129" data-end="551.87">new version of a framework might have</span> <span data-start="551.87" data-end="553.579">huge impact so you need to make sure</span> <span data-start="553.579" data-end="557.24">you've got measurable benefit looking at</span> <span data-start="557.24" data-end="559.279">an example of kind of proving the</span> <span data-start="559.279" data-end="560.949">business case or going to the business</span> <span data-start="560.949" data-end="563.449">let's imagine we've got a project right</span> <span data-start="563.449" data-end="567.259">now and a client rings up and they want</span> <span data-start="567.259" data-end="568.91">to add a theme they want to add a theme</span> <span data-start="568.91" data-end="570.649">to this website and the site was never</span> <span data-start="570.649" data-end="572.6">built to have theming involved at all on</span> <span data-start="572.6" data-end="573.98">the left hand side we've got the</span> <span data-start="573.98" data-end="575.6">existing code base and the cost of</span> <span data-start="575.6" data-end="577.61">hacking a theme into the existing code</span> <span data-start="577.61" data-end="580.91">base might be two days then in a month's</span> <span data-start="580.91" data-end="582.86">time another client rings up and says oh</span> <span data-start="582.86" data-end="584.54">we saw that they had a theme and we want</span> <span data-start="584.54" data-end="586.22">that and you've said to your product</span> <span data-start="586.22" data-end="587.689">owner well it'll take two days again</span> <span data-start="587.689" data-end="589.069">we'll hack a theme in and just make it</span> <span data-start="589.069" data-end="591.529">work out across two days and three</span> <span data-start="591.529" data-end="593.54">months time maybe hacking it in costs</span> <span data-start="593.54" data-end="595.399">two and a half days because we created</span> <span data-start="595.399" data-end="596.87">enough mess that it's actually taking</span> <span data-start="596.87" data-end="599.24">progressively longer by the time we've</span> <span data-start="599.24" data-end="601.189">added these sort of themes these four</span> <span data-start="601.189" data-end="602.63">themes they overall cost within nine</span> <span data-start="602.63" data-end="606.199">days the way of making a business case</span> <span data-start="606.199" data-end="609.11">for refactoring or kind of deciding when</span> <span data-start="609.11" data-end="610.49">to refactor is if you can make the</span> <span data-start="610.49" data-end="612.709">projections that you can make it cheaper</span> <span data-start="612.709" data-end="615.199">in the long run if we were to add the</span> <span data-start="615.199" data-end="617.329">theme and refactor the CSS to have</span> <span data-start="617.329" data-end="619.16">theming involved as a first-class</span> <span data-start="619.16" data-end="621.199">citizen it might cost us seven days</span> <span data-start="621.199" data-end="622.55">which to the business looks more</span> <span data-start="622.55" data-end="624.769">expensive they've got an option you can</span> <span data-start="624.769" data-end="626.6">spend seven days on it or two days on it</span> <span data-start="626.6" data-end="628.339">the business wants to pick the two day</span> <span data-start="628.339" data-end="630.529">version but what we can see is if we</span> <span data-start="630.529" data-end="631.819">actually build theming in as a</span> <span data-start="631.819" data-end="633.259">first-class citizen it might cost us a</span> <span data-start="633.259" data-end="635.269">quarter of a day every single time it</span> <span data-start="635.269" data-end="637.819">might become really really quick to add</span> <span data-start="637.819" data-end="640.1">that feature so in the long run</span> <span data-start="640.1" data-end="641.87">refactoring now actually works out</span> <span data-start="641.87" data-end="643.459">cheaper but you don't get that return on</span> <span data-start="643.459" data-end="645.92">investment until the features being</span> <span data-start="645.92" data-end="648.47">asked for a number of times so if you</span> <span data-start="648.47" data-end="649.519">think there's something might be asked</span> <span data-start="649.519" data-end="651.8">for just once perhaps don't refactor if</span> <span data-start="651.8" data-end="653.089">you think something might get Rieff</span> <span data-start="653.089" data-end="656.18">asked for several times refactor and</span> <span data-start="656.18" data-end="659.839">invest the opposite of debt is</span> <span data-start="659.839" data-end="661.279">investment so you can have technical</span> <span data-start="661.279" data-end="662.449">investment where you actually invest</span> <span data-start="662.449" data-end="664.61">more time than you need right now in</span> <span data-start="664.61" data-end="666.11">order to make things very very quick in</span> <span data-start="666.11" data-end="668.3">the future</span> <span data-start="668.3" data-end="671.27">okay when shouldn't we refactor this is</span> <span data-start="671.27" data-end="672.74">an interesting one I have clients who</span> <span data-start="672.74" data-end="675.62">ask me a lot about you know we need to</span> <span data-start="675.62" data-end="677.63">refactor this or we want to rewrite this</span> <span data-start="677.63" data-end="679.07">part of the project and a lot of the</span> <span data-start="679.07" data-end="681.46">time I end up telling them not to bother</span> <span data-start="681.46" data-end="684.2">if a part of the project isn't actually</span> <span data-start="684.2" data-end="686.21">slowing you down perhaps it didn't need</span> <span data-start="686.21" data-end="688.31">refactoring if it's just ugly or nasty</span> <span data-start="688.31" data-end="691.37">code or not nice to look at I have to</span> <span data-start="691.37" data-end="692.06">leave it alone</span> <span data-start="692.06" data-end="694.1">only refactor if it's actually causing</span> <span data-start="694.1" data-end="697.28">you problems if it can be ignored or</span> <span data-start="697.28" data-end="698.9">avoided this sounds like terrible advice</span> <span data-start="698.9" data-end="700.73">now I'm saying out loud but if you can</span> <span data-start="700.73" data-end="704.09">ignore it or avoid it do so leave it as</span> <span data-start="704.09" data-end="705.74">long as it works just leave it alone for</span> <span data-start="705.74" data-end="708.56">as long as you can if you have to work</span> <span data-start="708.56" data-end="709.76">with it every single day and it's really</span> <span data-start="709.76" data-end="711.8">hard to work with that is causing you a</span> <span data-start="711.8" data-end="713.87">problem you need to refactor it I've got</span> <span data-start="713.87" data-end="715.31">a couple of examples of when not to reef</span> <span data-start="715.31" data-end="719.48">like some specific examples if something</span> <span data-start="719.48" data-end="721.67">is gonna be captured by a rewrite later</span> <span data-start="721.67" data-end="723.83">on so I've had clients who've said you</span> <span data-start="723.83" data-end="725.18">know we're gonna rebuild the entire</span> <span data-start="725.18" data-end="726.74">platform next year but we want to</span> <span data-start="726.74" data-end="729.35">refactor it now what well why do it</span> <span data-start="729.35" data-end="731.06">twice just leave it a bit shitty for a</span> <span data-start="731.06" data-end="733.31">year and like you know just rebuild it</span> <span data-start="733.31" data-end="736.16">next year so unless you actually need to</span> <span data-start="736.16" data-end="738.68">immediately leave it alone refactoring</span> <span data-start="738.68" data-end="741.29">is largely a business kind of case right</span> <span data-start="741.29" data-end="743.41">and it's cheaper to leave it alone so</span> <span data-start="743.41" data-end="746.84">one example um a client asked me we want</span> <span data-start="746.84" data-end="748.97">to rewrite all of our CSS onto the BEM</span> <span data-start="748.97" data-end="752.12">naming convention now I love them I</span> <span data-start="752.12" data-end="754.58">really really love them but I don't</span> <span data-start="754.58" data-end="756.38">think taking two weeks out of product</span> <span data-start="756.38" data-end="758.42">work to refactor your CSS onto the BEM</span> <span data-start="758.42" data-end="760.4">naming convention is going to pay itself</span> <span data-start="760.4" data-end="763.31">back very quickly rewrite in your entire</span> </p>
<p><span data-start="763.31" data-end="765.05">CSS architecture is a very costly</span> <span data-start="765.05" data-end="767.03">refactor it kind of it could potentially</span> <span data-start="767.03" data-end="769.4">introduce a lot of bugs I don't think</span> <span data-start="769.4" data-end="771.29">that just rewriting your CSS on to a</span> <span data-start="771.29" data-end="773.03">certain naming convention is gonna be</span> <span data-start="773.03" data-end="776.39">worth perhaps two weeks of your time if</span> <span data-start="776.39" data-end="777.86">you disagree or if you can prove that</span> <span data-start="777.86" data-end="779.39">you know having a better naming</span> <span data-start="779.39" data-end="781.4">convention will speed you up by more</span> <span data-start="781.4" data-end="783.05">than two weeks over the life of the</span> <span data-start="783.05" data-end="784.73">project and perhaps is the correct thing</span> <span data-start="784.73" data-end="786.17">to do but if the numbers don't agree</span> <span data-start="786.17" data-end="787.79">with you you need to hold off</span> <span data-start="787.79" data-end="793.4">refactoring another example I got a</span> <span data-start="793.4" data-end="795.92">client so me we think that code for this</span> <span data-start="795.92" data-end="798.62">nav is pretty ugly and I took a look at</span> <span data-start="798.62" data-end="800.03">the code and it was pretty ugly it was</span> <span data-start="800.03" data-end="800.98">awful</span> <span data-start="800.98" data-end="804.579">disgusting um so I said to the client</span> <span data-start="804.579" data-end="806.709">well do you actually need to refactor at</span> <span data-start="806.709" data-end="808.57">how many times do you actually open up</span> <span data-start="808.57" data-end="811.6">the nav like CSS JavaScript APIs you</span> <span data-start="811.6" data-end="812.829">know how often do you actually work with</span> <span data-start="812.829" data-end="815.98">it and they said well we don't if a user</span> <span data-start="815.98" data-end="817.81">adds a new page in the CMS it just</span> <span data-start="817.81" data-end="819.73">appears in the page and I said well so</span> <span data-start="819.73" data-end="820.959">you don't actually have to edit any of</span> <span data-start="820.959" data-end="822.399">this code like no we don't we don't</span> <span data-start="822.399" data-end="825.97">really edit it at all okay what problems</span> <span data-start="825.97" data-end="827.649">is it causing you right now is it not</span> <span data-start="827.649" data-end="829.24">working in certain browsers is it</span> <span data-start="829.24" data-end="831.13">inaccessible and like what's accessible</span> <span data-start="831.13" data-end="833.589">it works but why spend time and money</span> <span data-start="833.589" data-end="835.54">refactoring it leave it alone until you</span> <span data-start="835.54" data-end="837.55">need to redesign the nav completely if</span> <span data-start="837.55" data-end="838.87">you could ignore parts of the codebase</span> <span data-start="838.87" data-end="840.399">to save the time save the money and</span> <span data-start="840.399" data-end="846.43">don't refactor them okay right I want to</span> <span data-start="846.43" data-end="847.779">talk to you about a concept that I came</span> <span data-start="847.779" data-end="850.839">up with earlier this year this concept</span> <span data-start="850.839" data-end="853.5">is called the refactoring tunnel a</span> <span data-start="853.5" data-end="857.649">refactoring tunnel represents like the</span> <span data-start="857.649" data-end="859.93">tunnel itself represents the workload of</span> <span data-start="859.93" data-end="862.63">refactoring something if you pick a</span> <span data-start="862.63" data-end="864.85">thing a part of your project project to</span> <span data-start="864.85" data-end="867.13">refactor you should see that piece of</span> <span data-start="867.13" data-end="869.019">work as being a tunnel and on day one</span> <span data-start="869.019" data-end="870.61">when you start refactoring you step into</span> <span data-start="870.61" data-end="872.74">the tunnel you can't see the end of a</span> <span data-start="872.74" data-end="874">tunnel you don't know where the light is</span> <span data-start="874" data-end="875.769">at the end you can see the light where</span> <span data-start="875.769" data-end="878.26">you just came in and day two day three</span> <span data-start="878.26" data-end="880.06">you progress further into the tunnel now</span> <span data-start="880.06" data-end="882.73">the problem is we can pick tunnels that</span> <span data-start="882.73" data-end="884.68">are way too long we could pick a tunnel</span> <span data-start="884.68" data-end="887.079">on day four we can't see the light at</span> <span data-start="887.079" data-end="888.459">the end of the tunnel but we can't see</span> <span data-start="888.459" data-end="891.25">the light at the entrance either hasn't</span> <span data-start="891.25" data-end="892.329">he only had that before when you've</span> <span data-start="892.329" data-end="893.86">started refactoring something like I</span> <span data-start="893.86" data-end="895.149">don't know where I am anymore</span> </p>
<p><span data-start="895.149" data-end="896.649">I don't know how much more work there is</span> <span data-start="896.649" data-end="899.38">to do this I call these refactoring</span> <span data-start="899.38" data-end="902.47">tunnels a long refactoring tunnel is</span> <span data-start="902.47" data-end="904.63">basically a refactoring project that is</span> <span data-start="904.63" data-end="907.089">too big it had too much surface area it</span> <span data-start="907.089" data-end="909.699">touched too much of the project and it</span> <span data-start="909.699" data-end="911.079">leaves you really confused</span> <span data-start="911.079" data-end="913.18">you stepped into the tunnel with good</span> <span data-start="913.18" data-end="915.339">intentions but you got lost and after</span> <span data-start="915.339" data-end="917.769">three four five days maybe even a couple</span> <span data-start="917.769" data-end="920.44">of weeks you're so lost that you end up</span> <span data-start="920.44" data-end="922.51">doing something like this and just</span> <span data-start="922.51" data-end="925.029">saying just forget it just undo</span> <span data-start="925.029" data-end="927.73">everything the navs broken the foot has</span> <span data-start="927.73" data-end="929.589">disappeared on three pages people got</span> <span data-start="929.589" data-end="931.88">login anymore everything's</span> </p>
<p><span data-start="931.88" data-end="935.09">Giroud broken and you just throw it all</span> <span data-start="935.09" data-end="937.4">in the bin how expensive is that you may</span> <span data-start="937.4" data-end="939.44">have just lost five days of time and</span> <span data-start="939.44" data-end="942.47">money by picking off a part of your</span> <span data-start="942.47" data-end="943.97">refactoring or part of your project was</span> <span data-start="943.97" data-end="944.83">too big</span> <span data-start="944.83" data-end="948.11">always avoid long refactoring tunnels a</span> <span data-start="948.11" data-end="950.87">long refactoring tunnel is basically any</span> <span data-start="950.87" data-end="953.45">bit of work with a large surface area</span> <span data-start="953.45" data-end="955.7">and what I mean by a large surface area</span> <span data-start="955.7" data-end="958.54">is does it touch a lot of the project</span> <span data-start="958.54" data-end="963.2">so perhaps refactoring your nav has a</span> <span data-start="963.2" data-end="966.53">tiny surface area affects the nav but</span> <span data-start="966.53" data-end="968.72">upgrading from bootstrap 3 to bootstrap</span> <span data-start="968.72" data-end="970.46">4 have an enormous surface area that</span> <span data-start="970.46" data-end="972.35">touches your entire project so try and</span> <span data-start="972.35" data-end="974.66">avoid refactoring anything that has a</span> <span data-start="974.66" data-end="976.64">surface area that big avoid long</span> <span data-start="976.64" data-end="981.08">refactoring tunnels long refactoring</span> <span data-start="981.08" data-end="983.27">tunnels as well as just being a bit</span> <span data-start="983.27" data-end="985.46">scary and a bit confusing and a bit</span> <span data-start="985.46" data-end="986.9">difficult to work with have some very</span> <span data-start="986.9" data-end="989.6">specific problems if you try refactor</span> <span data-start="989.6" data-end="991.31">all of your site from bootstrap 3 to</span> <span data-start="991.31" data-end="993.58">bootstrap 4 there's gonna be a lot of</span> <span data-start="993.58" data-end="995.99">stuff to merge back into master that</span> <span data-start="995.99" data-end="997.97">huge deltas of things you need to merge</span> <span data-start="997.97" data-end="1000.07">back into your master or trunk branch</span> <span data-start="1000.07" data-end="1002.2">the chance of naming conflicts is</span> <span data-start="1002.2" data-end="1004.03">enormous the front of sorry not naming</span> <span data-start="1004.03" data-end="1005.23">conflicts but just getting merge</span> <span data-start="1005.23" data-end="1008.08">conflicts when you do a huge refactoring</span> <span data-start="1008.08" data-end="1010">job getting it back into trunk is really</span> <span data-start="1010" data-end="1012.04">really difficult and there's also the</span> <span data-start="1012.04" data-end="1013.75">problem that if you're taking down a lot</span> <span data-start="1013.75" data-end="1015.67">of the sites there's a chance that</span> <span data-start="1015.67" data-end="1017.71">you're gonna break some of the things by</span> <span data-start="1017.71" data-end="1019.93">accident introduce new bugs if anyone's</span> <span data-start="1019.93" data-end="1022.45">ever taken a bike or a car apart and you</span> <span data-start="1022.45" data-end="1023.38">put it back together and you've got a</span> <span data-start="1023.38" data-end="1026.47">suspicious pile of screws like they</span> <span data-start="1026.47" data-end="1027.91">should be in that car somewhere right</span> <span data-start="1027.91" data-end="1029.11">that's exactly what happens when you try</span> <span data-start="1029.11" data-end="1031.06">and take down your entire site and</span> <span data-start="1031.06" data-end="1034.72">rebuild it instead we should pick off</span> <span data-start="1034.72" data-end="1036.31">things with a limited and clear scope</span> <span data-start="1036.31" data-end="1037.87">find something that you know will be a</span> <span data-start="1037.87" data-end="1039.699">short refactoring tunnel for example</span> <span data-start="1039.699" data-end="1041.199">just pick the now for right today I'm</span> <span data-start="1041.199" data-end="1044.079">gonna refactor the nav get that work</span> <span data-start="1044.079" data-end="1045.579">done make sure it's correct get it</span> <span data-start="1045.579" data-end="1046.9">merged back in and then you've got two</span> <span data-start="1046.9" data-end="1049.03">choices you can get back onto product</span> <span data-start="1049.03" data-end="1050.56">work and start building features again</span> <span data-start="1050.56" data-end="1052.15">or you could pick another refactoring</span> <span data-start="1052.15" data-end="1053.44">turn off you could today well now I'll</span> <span data-start="1053.44" data-end="1055.93">just do the buttons and rinse and repeat</span> <span data-start="1055.93" data-end="1057.25">and keep doing this and before you know</span> <span data-start="1057.25" data-end="1058.66">it the site has kind of refactored</span> <span data-start="1058.66" data-end="1059.17">itself</span> <span data-start="1059.17" data-end="1061.12">you didn't refactor your entire project</span> <span data-start="1061.12" data-end="1063.34">onto a naming convention you reflected</span> <span data-start="1063.34" data-end="1064.809">the buttons onto a naming convention</span> <span data-start="1064.809" data-end="1066.399">then the nav onto a naming convention</span> <span data-start="1066.399" data-end="1069.1">the carousel and it kind of reef actors</span> <span data-start="1069.1" data-end="1070.659">itself by virtue of doing these small</span> <span data-start="1070.659" data-end="1077.289">bits constantly these small bits we need</span> <span data-start="1077.289" data-end="1078.999">to make sure we refactor these in</span> <span data-start="1078.999" data-end="1082.659">isolation I've seen a lot of people</span> <span data-start="1082.659" data-end="1084.34">struggle with refactoring projects</span> <span data-start="1084.34" data-end="1086.799">because they try to rebuild the same</span> <span data-start="1086.799" data-end="1090.58">feature back into the same project you</span> <span data-start="1090.58" data-end="1092.169">need to get a completely fresh start</span> <span data-start="1092.169" data-end="1093.7">pick the feature you're going to</span> <span data-start="1093.7" data-end="1096.549">refactor open jsfiddle or copán and</span> <span data-start="1096.549" data-end="1099.789">rebuild it there if you try and refactor</span> <span data-start="1099.789" data-end="1101.619">a feature back into the same codebase</span> <span data-start="1101.619" data-end="1103.72">you're going to taking advantage of</span> <span data-start="1103.72" data-end="1105.94">legacy CSS right you'll be using the</span> </p>
<p><span data-start="1105.94" data-end="1107.679">Cascade from CSS that might get</span> <span data-start="1107.679" data-end="1110.23">reflected in future you need to start</span> <span data-start="1110.23" data-end="1111.97">with a completely blank slate and build</span> <span data-start="1111.97" data-end="1114.549">it as perfect as you can don't try and</span> <span data-start="1114.549" data-end="1118.529">recycle already out-of-date environments</span> <span data-start="1118.529" data-end="1120.669">then once you've refactored that in</span> <span data-start="1120.669" data-end="1122.499">jsfiddle or code and copy and paste it</span> <span data-start="1122.499" data-end="1124.029">back into your project and fix any</span> <span data-start="1124.029" data-end="1127.33">problems at that point there let's say</span> <span data-start="1127.33" data-end="1128.95">the Guardian want to refactor something</span> <span data-start="1128.95" data-end="1130.779">and they pick the header in a refactor</span> <span data-start="1130.779" data-end="1132.879">the header today and then they finish it</span> <span data-start="1132.879" data-end="1134.019">they go to jsfiddle they get it</span> <span data-start="1134.019" data-end="1136.899">completed as you can imagine as soon as</span> <span data-start="1136.899" data-end="1138.669">you try and pull this header back into</span> <span data-start="1138.669" data-end="1140.409">the project things are gonna go wrong</span> <span data-start="1140.409" data-end="1141.82">there's gonna be some things will go</span> <span data-start="1141.82" data-end="1144.549">wrong they'll be a leaky selector that</span> <span data-start="1144.549" data-end="1146.59">breaks the link in the cut other colors</span> <span data-start="1146.59" data-end="1148.119">of the links right or they'll be a high</span> <span data-start="1148.119" data-end="1149.86">specificity selector that does something</span> <span data-start="1149.86" data-end="1152.59">weird with the display we will get some</span> <span data-start="1152.59" data-end="1156.309">breakages there's really nifty quite new</span> <span data-start="1156.309" data-end="1158.649">technique or tip I guess for dealing</span> <span data-start="1158.649" data-end="1160.749">with this and that's all initial who's</span> <span data-start="1160.749" data-end="1164.35">heard of all initial like three people</span> <span data-start="1164.35" data-end="1166.149">let's get a beer later where the cool</span> <span data-start="1166.149" data-end="1168.549">kids write all initial oh this is</span> <span data-start="1168.549" data-end="1170.649">amazing and all initial it effectively</span> <span data-start="1170.649" data-end="1173.86">stops inheritance all initial sets every</span> <span data-start="1173.86" data-end="1175.659">single CSS property back to its initial</span> <span data-start="1175.659" data-end="1178.899">value this means that things don't leak</span> <span data-start="1178.899" data-end="1181.149">into the Dom right you Styles don't leak</span> <span data-start="1181.149" data-end="1183.039">into any other part of the project if it</span> <span data-start="1183.039" data-end="1186.129">has all initials somewhere in there this</span> <span data-start="1186.129" data-end="1188.11">is a very progressive way of defending</span> <span data-start="1188.11" data-end="1189.639">against legacy now the reason I</span> <span data-start="1189.639" data-end="1191.35">mentioned progressive is because we will</span> <span data-start="1191.35" data-end="1192.909">need to discuss browser support in two</span> <span data-start="1192.909" data-end="1195.94">slides time there is a very nice way of</span> <span data-start="1195.94" data-end="1197.98">preventing I'm sorry protecting</span> <span data-start="1197.98" data-end="1200.41">your newly refracted work against the</span> <span data-start="1200.41" data-end="1203.89">effect of legacy hopefully we can see</span> <span data-start="1203.89" data-end="1206.59">this not hmm yeah not really um here</span> <span data-start="1206.59" data-end="1208.299">we've got a paragraph that's red and</span> <span data-start="1208.299" data-end="1211.15">bold it's red and bold because the HTML</span> <span data-start="1211.15" data-end="1214.36">and the div elements have got red and</span> <span data-start="1214.36" data-end="1216.58">bold applied to them the paragraph</span> <span data-start="1216.58" data-end="1218.44">itself has no styles directly applied</span> <span data-start="1218.44" data-end="1220.66">but because of inheritance it turns red</span> <span data-start="1220.66" data-end="1223.419">and it goes bold as soon as we put all</span> <span data-start="1223.419" data-end="1226">initials on that paragraph it goes back</span> <span data-start="1226" data-end="1229.24">to being black and font-weight:normal so</span> <span data-start="1229.24" data-end="1230.86">we can stop things leaking into parts of</span> <span data-start="1230.86" data-end="1233.95">the dom by using all initial there are</span> <span data-start="1233.95" data-end="1236.38">some weird caveats with all initial so</span> <span data-start="1236.38" data-end="1237.94">let us say we are refactoring our nav</span> <span data-start="1237.94" data-end="1239.32">and we want to make sure that nothing</span> <span data-start="1239.32" data-end="1242.83">from the outside project gets in if we</span> <span data-start="1242.83" data-end="1244.9">were to write our CSS like this the font</span> <span data-start="1244.9" data-end="1246.82">size and the font family rules here</span> <span data-start="1246.82" data-end="1249.07">wouldn't actually cascade down into the</span> <span data-start="1249.07" data-end="1251.86">link because the link also has all</span> <span data-start="1251.86" data-end="1253.69">initial on it it will stop inheriting</span> <span data-start="1253.69" data-end="1256.57">from its own parent the simple way</span> <span data-start="1256.57" data-end="1258.4">around this we just have to write those</span> <span data-start="1258.4" data-end="1260.5">style rules those declarations on the</span> <span data-start="1260.5" data-end="1261.97">leaf node we have to move them down to</span> <span data-start="1261.97" data-end="1264.13">here because they will not inherit from</span> <span data-start="1264.13" data-end="1268.9">an ancestor ya browser support it's</span> <span data-start="1268.9" data-end="1271.6">actually not terrible but it is still a</span> <span data-start="1271.6" data-end="1273.1">kind of a progressive way of dealing</span> <span data-start="1273.1" data-end="1277.299">with legacy all all that all initial</span> <span data-start="1277.299" data-end="1279.61">will do is buy you a bit more time it</span> <span data-start="1279.61" data-end="1282.19">will stop legacy styles appearing for</span> <span data-start="1282.19" data-end="1285.25">all chrome users or Firefox users and it</span> <span data-start="1285.25" data-end="1286.99">will stop the leakages for that for</span> <span data-start="1286.99" data-end="1289.12">those people if you're still go back and</span> <span data-start="1289.12" data-end="1290.83">fix anything that is broken so all</span> <span data-start="1290.83" data-end="1292.36">initial just buys you a little bit more</span> <span data-start="1292.36" data-end="1294.669">time but I do a little bit more time to</span> <span data-start="1294.669" data-end="1296.559">fix these leaky Styles so it's quite a</span> <span data-start="1296.559" data-end="1298.03">progressive way of defending against</span> <span data-start="1298.03" data-end="1302.38">legacy now the next tip I want to share</span> <span data-start="1302.38" data-end="1304.809">with you I actually implemented with a</span> <span data-start="1304.809" data-end="1307.96">specific client earlier this year the</span> <span data-start="1307.96" data-end="1310.36">defense CSS is like an internal open</span> <span data-start="1310.36" data-end="1312.91">source project for any company or any</span> <span data-start="1312.91" data-end="1314.89">team that is transitioning from old code</span> <span data-start="1314.89" data-end="1317.2">to new code</span> <span data-start="1317.2" data-end="1319.059">it basically answers the question what</span> <span data-start="1319.059" data-end="1321.22">happens when you need to run reflected</span> <span data-start="1321.22" data-end="1323.35">code and legacy code side by side and</span> <span data-start="1323.35" data-end="1325.09">that question was asked of me by a</span> <span data-start="1325.09" data-end="1328.059">company called Skype I actually used to</span> <span data-start="1328.059" data-end="1329.47">work for sky about three years ago</span> <span data-start="1329.47" data-end="1330.17">thought</span> <span data-start="1330.17" data-end="1332">and they got back in touch with me at</span> <span data-start="1332" data-end="1333.95">the end of last year because they wanted</span> <span data-start="1333.95" data-end="1336.95">to modernize their UI toolkit they had</span> <span data-start="1336.95" data-end="1339.14">an existing toolkit but the design</span> <span data-start="1339.14" data-end="1341.63">language had it dated they wanted to</span> <span data-start="1341.63" data-end="1343.7">change the architecture a little bit so</span> </p>
<p><span data-start="1343.7" data-end="1346.37">I kind of went back in to help them we</span> <span data-start="1346.37" data-end="1348.56">developed a new toolkit but sky is</span> <span data-start="1348.56" data-end="1351.89">pretty enormous sky has about 30,000</span> <span data-start="1351.89" data-end="1354.32">people working for them they're a big</span> <span data-start="1354.32" data-end="1356.3">broadcast company in the UK so they deal</span> <span data-start="1356.3" data-end="1358.28">with television ISP you know your</span> <span data-start="1358.28" data-end="1361.55">internet service so this is a very very</span> <span data-start="1361.55" data-end="1362.9">big project so what we have to do is</span> <span data-start="1362.9" data-end="1365.48">pick a candidates that kind of prove the</span> <span data-start="1365.48" data-end="1367.07">business value of this this bit of work</span> <span data-start="1367.07" data-end="1369.26">so we picked the homepage itself run</span> <span data-start="1369.26" data-end="1370.73">roll it out everywhere we started off by</span> <span data-start="1370.73" data-end="1372.92">implementing the new toolkit on the home</span> <span data-start="1372.92" data-end="1375.29">page then after that what the teams</span> <span data-start="1375.29" data-end="1376.49">could start rolling out on their</span> <span data-start="1376.49" data-end="1378.05">products and they could start adopting</span> <span data-start="1378.05" data-end="1380.75">the new look and feel I had the problem</span> <span data-start="1380.75" data-end="1382.91">is we had to run old and new in tandem</span> <span data-start="1382.91" data-end="1385.04">certain sites were using an old toolkit</span> <span data-start="1385.04" data-end="1387.02">and a new tool a new toolkit at the same</span> <span data-start="1387.02" data-end="1388.97">time and as you can imagine trying to</span> <span data-start="1388.97" data-end="1390.95">put two different CSS frameworks</span> <span data-start="1390.95" data-end="1393.17">together in the same project leads to a</span> <span data-start="1393.17" data-end="1394.94">bit of a mess things just weren't</span> <span data-start="1394.94" data-end="1396.77">sitting right things just weren't really</span> <span data-start="1396.77" data-end="1399.08">working well at all we've got these two</span> <span data-start="1399.08" data-end="1400.67">projects that were kind of in conflict</span> <span data-start="1400.67" data-end="1402.53">and they just would not meld together we</span> <span data-start="1402.53" data-end="1405.59">couldn't get them to work nicely so what</span> </p>
<p><span data-start="1405.59" data-end="1407.12">I end up doing is introduce this kind of</span> <span data-start="1407.12" data-end="1409.46">internal open source project just called</span> <span data-start="1409.46" data-end="1412.13">defense dot CSS and defense dot CSS was</span> <span data-start="1412.13" data-end="1414.38">a polyfill that would tidy up all the</span> <span data-start="1414.38" data-end="1416.72">mess between old and new and allowed</span> <span data-start="1416.72" data-end="1418.07">them to sort of sit together a bit more</span> <span data-start="1418.07" data-end="1422">nicely defense dr. CSS was an entirely</span> <span data-start="1422" data-end="1424.04">new project it's a new dependency</span> <span data-start="1424.04" data-end="1425.51">so the reason we run it like an open</span> <span data-start="1425.51" data-end="1426.98">source project is because other teams</span> <span data-start="1426.98" data-end="1429.98">needed to consume it and contribute to</span> <span data-start="1429.98" data-end="1432.5">it if another team wanted to run the new</span> <span data-start="1432.5" data-end="1433.94">toolkit as well they would need to</span> <span data-start="1433.94" data-end="1436.94">install defensive CSS to fix the kind of</span> <span data-start="1436.94" data-end="1439.7">problems between old and new the reason</span> <span data-start="1439.7" data-end="1441.62">we wanted it in a third project or a</span> <span data-start="1441.62" data-end="1443.99">separate file or so that when we</span> <span data-start="1443.99" data-end="1446.09">transition completely to the new toolkit</span> <span data-start="1446.09" data-end="1447.47">we can just hit delete right we don't</span> <span data-start="1447.47" data-end="1449.18">want to leave any legacy stuff behind</span> <span data-start="1449.18" data-end="1451.1">which want to remove the dependency</span> <span data-start="1451.1" data-end="1455.23">advanced CSS and have all greenfield CSS</span> <span data-start="1455.23" data-end="1458.69">and the stuff inside this file is</span> <span data-start="1458.69" data-end="1460.46">horrible it's just horrible horrible</span> <span data-start="1460.46" data-end="1463.16">stuff it's just typing until things look</span> <span data-start="1463.16" data-end="1464.6">right</span> <span data-start="1464.6" data-end="1466.82">it's full of hacked it's full of really</span> <span data-start="1466.82" data-end="1468.769">nasty stuff it will be important in that</span> <span data-start="1468.769" data-end="1470.57">this is the worst CSS you will ever</span> <span data-start="1470.57" data-end="1472.49">write but that's completely fine it's</span> <span data-start="1472.49" data-end="1473.33">temporary</span> <span data-start="1473.33" data-end="1479.48">it is designed to be deleted I I want to</span> <span data-start="1479.48" data-end="1481.519">show you what's in this file but um I</span> <span data-start="1481.519" data-end="1482.539">can't</span> </p>
<p><span data-start="1482.539" data-end="1484.909">I had to pixelate is that bad it's that</span> <span data-start="1484.909" data-end="1487.49">offensive it probably violates the Code</span> <span data-start="1487.49" data-end="1491.51">of Conduct it's really that bad but I</span> <span data-start="1491.51" data-end="1492.889">hopefully you can see it is quite</span> <span data-start="1492.889" data-end="1495.139">pixelated all these red bits they're</span> <span data-start="1495.139" data-end="1503.36">important yeah defense CSS if you need</span> <span data-start="1503.36" data-end="1506.87">to transition from old to new kind of in</span> <span data-start="1506.87" data-end="1509.12">a very layered manner or if you're going</span> <span data-start="1509.12" data-end="1510.32">to be running old and new at the same</span> <span data-start="1510.32" data-end="1513.019">time consider moving all the fixers to a</span> <span data-start="1513.019" data-end="1515.179">third project that can be rolled out to</span> <span data-start="1515.179" data-end="1517.039">other teams it can be versioned it can</span> <span data-start="1517.039" data-end="1518.779">be it could track your kind of your</span> <span data-start="1518.779" data-end="1520.13">version of your old toolkit your version</span> <span data-start="1520.13" data-end="1522.23">of your new toolkit and you can run it</span> <span data-start="1522.23" data-end="1524.299">like a proper sort of dependency managed</span> <span data-start="1524.299" data-end="1528.559">project oh the next tip I want to talk</span> <span data-start="1528.559" data-end="1531.649">to you about is RF classes RF classes</span> <span data-start="1531.649" data-end="1534.5">this is a really simple tip basically RF</span> <span data-start="1534.5" data-end="1537.889">classes any refactored class just put an</span> </p>
<p><span data-start="1537.889" data-end="1540.889">RF — in front of it this is just so that</span> <span data-start="1540.889" data-end="1542.99">the net developers can see that alright</span> <span data-start="1542.99" data-end="1544.97">RF nav has been reflected I don't need</span> <span data-start="1544.97" data-end="1547.789">to touch this is new code but would also</span> <span data-start="1547.789" data-end="1549.44">do some pretty clever stuff with this</span> <span data-start="1549.44" data-end="1551.63">like we could write a selector like this</span> <span data-start="1551.63" data-end="1554.99">I mean say if a class has RF — in it</span> <span data-start="1554.99" data-end="1556.909">just put a green box around it that</span> <span data-start="1556.909" data-end="1559.13">means it or me you look at our dev site</span> <span data-start="1559.13" data-end="1561.409">we might see this we can see that the</span> <span data-start="1561.409" data-end="1562.88">nav and the content blocks have been</span> <span data-start="1562.88" data-end="1565.1">reflected right this is this is work</span> <span data-start="1565.1" data-end="1566.48">that we've done this is work that has</span> <span data-start="1566.48" data-end="1568.73">been completed this is new greenfield</span> </p>
<p><span data-start="1568.73" data-end="1573.559">CSS on the flip side we could say find</span> <span data-start="1573.559" data-end="1576.11">me a class but is a class that doesn't</span> <span data-start="1576.11" data-end="1578.99">contain RF — put a red box around that</span> <span data-start="1578.99" data-end="1580.519">and you can just hide these behind a</span> <span data-start="1580.519" data-end="1583.399">config switch in your sass somewhere if</span> <span data-start="1583.399" data-end="1585.35">we turn this selector on we can see that</span> <span data-start="1585.35" data-end="1587.299">okay write anything with a red border</span> <span data-start="1587.299" data-end="1589.94">around it is not refactored here we can</span> <span data-start="1589.94" data-end="1592.7">see that the the temperature in London</span> <span data-start="1592.7" data-end="1594.23">all that information that little masked</span> <span data-start="1594.23" data-end="1595.76">head has been refactored we can see</span> <span data-start="1595.76" data-end="1596.88">that's clean</span> <span data-start="1596.88" data-end="1598.65">all the other red stuff is our to-do</span> <span data-start="1598.65" data-end="1600.57">list this represents the worker it's</span> <span data-start="1600.57" data-end="1603.45">still left to do that's just a really</span> <span data-start="1603.45" data-end="1606.45">simple tiny tip just put our F — in</span> <span data-start="1606.45" data-end="1608.49">front of refactored classes once you've</span> <span data-start="1608.49" data-end="1610.26">finished the refactoring project if you</span> <span data-start="1610.26" data-end="1612.24">can just kind of run a global find and</span> <span data-start="1612.24" data-end="1614.7">replace there's a strip RF — back off of</span> <span data-start="1614.7" data-end="1616.11">those classes and you've got a</span> </p>
<p><span data-start="1616.11" data-end="1621.21">Greenfield codebase the net tip this is</span> <span data-start="1621.21" data-end="1622.38">one of my party tricks</span> <span data-start="1622.38" data-end="1624.51">I actually don't come to one of my</span> <span data-start="1624.51" data-end="1626.7">parties have boring with this b-but</span> <span data-start="1626.7" data-end="1630.26">refactoring specificity right if you're</span> <span data-start="1630.26" data-end="1632.61">refactoring old CSS there is every</span> <span data-start="1632.61" data-end="1634.5">chance you're trying to remove IDs you</span> <span data-start="1634.5" data-end="1636.59">can I remove overly nested selectors</span> <span data-start="1636.59" data-end="1640.11">this often means that any new CSS you</span> <span data-start="1640.11" data-end="1642.05">introduced to the project might have</span> <span data-start="1642.05" data-end="1644.1">collisions with specificity old</span> <span data-start="1644.1" data-end="1647.34">selectors might be using IDs that might</span> <span data-start="1647.34" data-end="1650.79">accidentally override your new work so</span> <span data-start="1650.79" data-end="1652.11">dealing with specificity and legacy</span> <span data-start="1652.11" data-end="1655.44">project is not fun we could just start</span> <span data-start="1655.44" data-end="1657.03">throwing importance in there but we</span> <span data-start="1657.03" data-end="1658.56">really really don't want to start</span> <span data-start="1658.56" data-end="1660.36">putting importance into brand new</span> <span data-start="1660.36" data-end="1663.18">greenfield CSS we're instantly accruing</span> <span data-start="1663.18" data-end="1667.29">tech debt on a brand new project it's</span> <span data-start="1667.29" data-end="1668.19">what we can do is we can hack</span> <span data-start="1668.19" data-end="1670.14">specificity with minimal side effects</span> <span data-start="1670.14" data-end="1671.97">there's some kind of funky things we can</span> <span data-start="1671.97" data-end="1675.15">do to hack specificity around if we take</span> <span data-start="1675.15" data-end="1677.4">a real simple snippet of HTML a link</span> <span data-start="1677.4" data-end="1679.08">with a class of foo and an idea of bar</span> <span data-start="1679.08" data-end="1683.46">and throw this CSS at it we've got three</span> <span data-start="1683.46" data-end="1685.2">very different selectors here but we can</span> <span data-start="1685.2" data-end="1687.93">probably all work out that hash bar is</span> <span data-start="1687.93" data-end="1689.46">what's gonna win it's an ID it's</span> <span data-start="1689.46" data-end="1691.2">infinitely more specific than a class</span> <span data-start="1691.2" data-end="1693.6">who is infinitely more specific than an</span> <span data-start="1693.6" data-end="1695.88">element so even though we've got these</span> <span data-start="1695.88" data-end="1698.16">written in a certain sauce order they</span> <span data-start="1698.16" data-end="1700.02">will be applied in the opposite order to</span> <span data-start="1700.02" data-end="1702.33">what we kind of expect well not expect</span> <span data-start="1702.33" data-end="1704.91">but the last one is the least likely to</span> <span data-start="1704.91" data-end="1707.82">get applied so all of these selectors</span> <span data-start="1707.82" data-end="1709.23">are working against their sauce order</span> <span data-start="1709.23" data-end="1711.27">this is gonna be a definite definite</span> <span data-start="1711.27" data-end="1713.28">problem when we are refactoring at our</span> </p>
<p><span data-start="1713.28" data-end="1715.53">CSS so what we can do is be hacked our</span> <span data-start="1715.53" data-end="1717.72">specificity around without changing the</span> <span data-start="1717.72" data-end="1719.4">selector at all or rottweiler without</span> <span data-start="1719.4" data-end="1721.08">changing what we are binding on to</span> <span data-start="1721.08" data-end="1723.96">without changing the HTML we can rewrite</span> <span data-start="1723.96" data-end="1726.25">all of that CSS so that every</span> <span data-start="1726.25" data-end="1729.08">element has of every story every single</span> <span data-start="1729.08" data-end="1731.32">selector has the exact same specificity</span> <span data-start="1731.32" data-end="1735.5">if we were to write ID equals bar as an</span> <span data-start="1735.5" data-end="1737.57">attribute that's a class equivalent of</span> <span data-start="1737.57" data-end="1740">specificity we need to prefix that with</span> <span data-start="1740" data-end="1742.159">an element so we can have an element and</span> <span data-start="1742.159" data-end="1745.25">class equivalent specificity there the</span> <span data-start="1745.25" data-end="1747.38">second one the class just stays as it is</span> <span data-start="1747.38" data-end="1749.39">we put an element in front of that so</span> <span data-start="1749.39" data-end="1750.83">that's got an element and a class worth</span> <span data-start="1750.83" data-end="1753.529">of specificity and the final one staff</span> <span data-start="1753.529" data-end="1754.76">that offers an element it was just an</span> <span data-start="1754.76" data-end="1756.77">element we need to get that to have a</span> <span data-start="1756.77" data-end="1758.96">class as well what we can do is we can</span> <span data-start="1758.96" data-end="1761.299">just use the root pseudo element the</span> <span data-start="1761.299" data-end="1763.429">root pseudo selector which just</span> <span data-start="1763.429" data-end="1766.25">represents the HTML element in an HTML</span> <span data-start="1766.25" data-end="1768.38">document or the SVG element in an SVG</span> <span data-start="1768.38" data-end="1770.84">document and this also carries a class</span> <span data-start="1770.84" data-end="1772.64">worth of specificity so now all of a</span> <span data-start="1772.64" data-end="1775.07">sudden the last selector wins it can</span> <span data-start="1775.07" data-end="1777.98">beat the ID I just pull this out into a</span> <span data-start="1777.98" data-end="1781.76">more kind of digestible slide rewriting</span> </p>
<p><span data-start="1781.76" data-end="1783.71">IDs as attribute selectors who will</span> <span data-start="1783.71" data-end="1786.22">bring their specificity down to a class</span> <span data-start="1786.22" data-end="1788.779">we've actually chained the same class</span> <span data-start="1788.779" data-end="1791.24">with itself to increase its specificity</span> <span data-start="1791.24" data-end="1794.539">by doubling it if we had got food food</span> <span data-start="1794.539" data-end="1794.899">food</span> <span data-start="1794.899" data-end="1796.61">it would triple the specificity we can</span> <span data-start="1796.61" data-end="1798.32">do that for forever it'll just keep on</span> <span data-start="1798.32" data-end="1802.49">going and we can also use the root</span> <span data-start="1802.49" data-end="1804.649">element to introduce a class worth of</span> <span data-start="1804.649" data-end="1806.99">specificity without ever having to worry</span> <span data-start="1806.99" data-end="1809.919">about where the Dom node actually lives</span> <span data-start="1809.919" data-end="1812.149">it's really important to remember that</span> <span data-start="1812.149" data-end="1813.98">these are hacks these are disgusting</span> <span data-start="1813.98" data-end="1816.649">these are horrible ideally we would</span> <span data-start="1816.649" data-end="1819.38">refactor our CSS so that there wasn't a</span> <span data-start="1819.38" data-end="1822.799">problem at all realistically we might</span> <span data-start="1822.799" data-end="1824.45">have to use a few of these hacks I've</span> <span data-start="1824.45" data-end="1826.82">used the double class one quite a lot of</span> <span data-start="1826.82" data-end="1830.299">times we should never lean on things</span> <span data-start="1830.299" data-end="1833.12">like important we can use things before</span> <span data-start="1833.12" data-end="1836.33">things get that bad I'm not saying never</span> <span data-start="1836.33" data-end="1838.34">use important what I said in the first</span> <span data-start="1838.34" data-end="1840.95">talk and Twitter kind of set on fire</span> <span data-start="1840.95" data-end="1843.98">with that one but yeah we can avoid</span> <span data-start="1843.98" data-end="1845.659">using important for a lot longer by</span> <span data-start="1845.659" data-end="1847.76">learning how to hack specificity around</span> <span data-start="1847.76" data-end="1849.26">so if your legacy code is causing</span> <span data-start="1849.26" data-end="1851.059">problems perhaps you use one of these</span> <span data-start="1851.059" data-end="1854.3">techniques</span> <span data-start="1854.31" data-end="1857.16">the next thing I wanna talk about is</span> </p>
<p><span data-start="1857.16" data-end="1860.55">Shane CSS as an unheard of Shane CSS</span> <span data-start="1860.55" data-end="1862.89">yeah a few of you I wrote about this a</span> <span data-start="1862.89" data-end="1864.45">few years ago and I still really enjoy</span> <span data-start="1864.45" data-end="1866.79">it because I just like making people</span> <span data-start="1866.79" data-end="1870.39">write code in a file called shame the</span> <span data-start="1870.39" data-end="1872.52">idea of shame dot CSS is that you have a</span> <span data-start="1872.52" data-end="1874.68">totally new style sheet reserved just</span> <span data-start="1874.68" data-end="1877.68">for your hockey code code that you have</span> <span data-start="1877.68" data-end="1879.6">to write to get a release out on time</span> <span data-start="1879.6" data-end="1881.64">but code that makes you feel a bit bad</span> <span data-start="1881.64" data-end="1883.08">right because you just kind of</span> <span data-start="1883.08" data-end="1884.82">disappointed with yourself hang your</span> <span data-start="1884.82" data-end="1888.27">head in shame you could call it bugs CSS</span> <span data-start="1888.27" data-end="1891.81">or like hacked CSS died of shame dot CSS</span> <span data-start="1891.81" data-end="1893.55">is so that people see it and they're</span> <span data-start="1893.55" data-end="1896.39">kind of intrigued like what's in here</span> <span data-start="1896.39" data-end="1898.71">but it's just a dumping ground for all</span> <span data-start="1898.71" data-end="1900.27">the nasty bits of CSS that you're a</span> <span data-start="1900.27" data-end="1903">little bit ashamed of there are several</span> <span data-start="1903" data-end="1905.52">benefits to having all your hacks in a</span> <span data-start="1905.52" data-end="1907.71">separate file it's important to isolate</span> <span data-start="1907.71" data-end="1911.34">our hacks I'm not naive enough to think</span> <span data-start="1911.34" data-end="1914.13">that I don't write any hacky CSS ever</span> <span data-start="1914.13" data-end="1916.59">we're all good developers we all have to</span> <span data-start="1916.59" data-end="1918.24">write hacked at some point in our</span> <span data-start="1918.24" data-end="1920.04">careers we have to hack something around</span> <span data-start="1920.04" data-end="1923.01">because a deadline is looming this is</span> <span data-start="1923.01" data-end="1924.81">technical debt right I writing a hack to</span> <span data-start="1924.81" data-end="1926.76">fulfill a deadline is exactly what</span> <span data-start="1926.76" data-end="1929.43">technical debt is that's kind of a loan</span> <span data-start="1929.43" data-end="1931.07">that we take that we have to repay later</span> <span data-start="1931.07" data-end="1933.42">what we need to do is keep a balance of</span> <span data-start="1933.42" data-end="1935.64">our debt right we keep shamed up CSS as</span> <span data-start="1935.64" data-end="1937.56">a file to reminders of what we need to</span> <span data-start="1937.56" data-end="1940.44">refactor later so it makes it very easy</span> <span data-start="1940.44" data-end="1943.68">to find and fix things that are wrong an</span> <span data-start="1943.68" data-end="1946.95">example like chunk from i ashamed CSS</span> <span data-start="1946.95" data-end="1950.16">file every bit of CSS in shame doc CSS</span> <span data-start="1950.16" data-end="1951.93">should have the hack itself but should</span> <span data-start="1951.93" data-end="1954.03">have a comment explaining what the</span> <span data-start="1954.03" data-end="1956.64">problem is that you're fixing why you</span> <span data-start="1956.64" data-end="1959.28">had to fix it and what you would do to</span> <span data-start="1959.28" data-end="1961.23">fix it properly if you had enough time</span> <span data-start="1961.23" data-end="1963.03">and then you can optionally leave kind</span> <span data-start="1963.03" data-end="1964.71">of details that people can get in touch</span> <span data-start="1964.71" data-end="1966.11">with if they need to ask you about it</span> <span data-start="1966.11" data-end="1968.46">here you can see that I'm using the dot</span> </p>
<p><span data-start="1968.46" data-end="1971.61">BTN BTN trick to force the button class</span> <span data-start="1971.61" data-end="1973.56">just to have a higher specificity to</span> <span data-start="1973.56" data-end="1975.9">override dot promo right it's a nasty</span> <span data-start="1975.9" data-end="1980.34">hack but I had to do it so the benefits</span> <span data-start="1980.34" data-end="1981.96">of having this this file is this is a</span> <span data-start="1981.96" data-end="1984.42">self writing to-do list all of your</span> <span data-start="1984.42" data-end="1985.58">to-do zarnow exist</span> <span data-start="1985.58" data-end="1987.14">one foil he don't have to chase them</span> <span data-start="1987.14" data-end="1989.09">around the project when you have a</span> <span data-start="1989.09" data-end="1991.91">refactoring task or a sprint dedicated</span> <span data-start="1991.91" data-end="1994.01">to refactoring open this file and start</span> <span data-start="1994.01" data-end="1997.46">there it keeps your good code nice and</span> <span data-start="1997.46" data-end="1999.08">clean it keeps all the messy stuff away</span> <span data-start="1999.08" data-end="2000.97">from people who are working on</span> <span data-start="2000.97" data-end="2002.8">Greenfield code this is actually really</span> <span data-start="2002.8" data-end="2004.96">important has anybody heard of the</span> <span data-start="2004.96" data-end="2008.17">broken windows theory oh cool a few of</span> <span data-start="2008.17" data-end="2010.72">us right the broken windows theory kind</span> <span data-start="2010.72" data-end="2014.02">of loosely suggests that um it's like</span> <span data-start="2014.02" data-end="2016.39">her the example uses a New York kind of</span> <span data-start="2016.39" data-end="2021.25">state like council if there's an</span> <span data-start="2021.25" data-end="2023.89">abandoned or like vacant public building</span> <span data-start="2023.89" data-end="2026.71">and somebody smashes a window New York</span> </p>
<p><span data-start="2026.71" data-end="2028.21">Council sends someone around immediately</span> <span data-start="2028.21" data-end="2030.46">to fix that window even if that building</span> <span data-start="2030.46" data-end="2031.78">is going to be vacant for the next ten</span> <span data-start="2031.78" data-end="2033.22">years they will fix the broken window</span> <span data-start="2033.22" data-end="2035.29">immediately because as soon as there's</span> <span data-start="2035.29" data-end="2037.3">one broken window someone else will</span> <span data-start="2037.3" data-end="2038.41">throw a rock through another window</span> <span data-start="2038.41" data-end="2040.21">another one until the building falls</span> <span data-start="2040.21" data-end="2042.22">into disrepair it's kind of this this</span> <span data-start="2042.22" data-end="2044.65">social kind of theory about snowballing</span> <span data-start="2044.65" data-end="2047.62">effect the exact same thing happens in</span> <span data-start="2047.62" data-end="2051.28">in software projects someone will use</span> <span data-start="2051.28" data-end="2053.47">the first important and if they leave it</span> <span data-start="2053.47" data-end="2054.97">in at the next developer comes along and</span> <span data-start="2054.97" data-end="2057.58">sees an important and thinks wife they</span> <span data-start="2057.58" data-end="2058.75">did it I'm gonna do it</span> <span data-start="2058.75" data-end="2060.73">and before you know it you've gotten</span> <span data-start="2060.73" data-end="2063.1">messy spiraling codebase so what we need</span> <span data-start="2063.1" data-end="2065.11">to do is if we do need to add any</span> <span data-start="2065.11" data-end="2067.18">importance if we need to add any hockey</span> </p>
<p><span data-start="2067.18" data-end="2070.18">CSS took it away to one side so that for</span> <span data-start="2070.18" data-end="2071.59">90 percent of the time when you're</span> <span data-start="2071.59" data-end="2073.27">working on good clean code you're not</span> <span data-start="2073.27" data-end="2074.59">reminded of all the bad stuff that's</span> <span data-start="2074.59" data-end="2076.18">going on it just keeps you with a nice</span> <span data-start="2076.18" data-end="2080.95">view of your project this is an</span> <span data-start="2080.95" data-end="2082.03">interesting but you can see which parts</span> <span data-start="2082.03" data-end="2085.59">of the codebase are problematic</span> <span data-start="2085.59" data-end="2089.59">there's anybody being given a design to</span> <span data-start="2089.59" data-end="2091.54">build or being given a feature request</span> <span data-start="2091.54" data-end="2095.26">and you immediately think this is going</span> <span data-start="2095.26" data-end="2096.64">to be awful right this is going to be</span> <span data-start="2096.64" data-end="2098.08">really hard to build this is gonna be</span> <span data-start="2098.08" data-end="2100.06">really happy yeah all of us with CSS</span> <span data-start="2100.06" data-end="2101.65">developers of course that is basically</span> <span data-start="2101.65" data-end="2104.2">what our job is right we get given these</span> <span data-start="2104.2" data-end="2105.34">designs that are really nasty and</span> <span data-start="2105.34" data-end="2108.04">horrible and we just think I can't build</span> <span data-start="2108.04" data-end="2109.69">this nicely this is going to be happy</span> <span data-start="2109.69" data-end="2110.71">we're gonna have to use this and this</span> </p>
<p><span data-start="2110.71" data-end="2111.67">I'm gonna have to polyfill it with</span> <span data-start="2111.67" data-end="2113.89">JavaScript and you've got back to your</span> <span data-start="2113.89" data-end="2115.57">product owner or your project manager</span> <span data-start="2115.57" data-end="2117.85">and you say hey look I actually think we</span> <span data-start="2117.85" data-end="2119.32">shouldn't do this I think that this is</span> <span data-start="2119.32" data-end="2121.09">bad idea because it's gonna really</span> <span data-start="2121.09" data-end="2122.68">negatively affect the quality of our</span> <span data-start="2122.68" data-end="2124.87">code base and they probably say</span> <span data-start="2124.87" data-end="2126.52">something like well the clients happy to</span> <span data-start="2126.52" data-end="2130">pay for it and you're like fine if you</span> <span data-start="2130" data-end="2132.52">put all the hacks for that particular</span> <span data-start="2132.52" data-end="2135.88">feature inside your shamed CSS file when</span> <span data-start="2135.88" data-end="2137.29">that feature is finished you can go to</span> <span data-start="2137.29" data-end="2139.96">your product owner and say two weeks ago</span> <span data-start="2139.96" data-end="2143.29">this file had 17 lines of CSS in it now</span> </p>
<p><span data-start="2143.29" data-end="2145.48">I finished that feature it has 212 lines</span> <span data-start="2145.48" data-end="2146.73">of CSS in it</span> <span data-start="2146.73" data-end="2149.38">this feature directly contribute bhai</span> <span data-start="2149.38" data-end="2150.85">made their awkward numbers I have to do</span> <span data-start="2150.85" data-end="2153.81">some math now it's like 198 lines of CSS</span> <span data-start="2153.81" data-end="2156.28">that you've added to the project you can</span> <span data-start="2156.28" data-end="2158.5">actually start to prove with numbers</span> <span data-start="2158.5" data-end="2161.05">just how much technical debt particular</span> <span data-start="2161.05" data-end="2163.63">features add to your project it remains</span> <span data-start="2163.63" data-end="2165.85">the next time somebody asks for a weird</span> <span data-start="2165.85" data-end="2167.98">feature you can say look last time we</span> <span data-start="2167.98" data-end="2169.65">did this I told you it'd be a bad idea</span> <span data-start="2169.65" data-end="2172.39">this is what happened I'm keen to avoid</span> <span data-start="2172.39" data-end="2175.21">that happening again at the final good</span> <span data-start="2175.21" data-end="2177.31">thing about shame dot CSS is it's easy</span> <span data-start="2177.31" data-end="2180.34">to run get blame over a single file</span> </p>
<p><span data-start="2180.34" data-end="2184.54">I was really nasty when I say this I'm</span> <span data-start="2184.54" data-end="2186.49">not doing this in order to catch people</span> <span data-start="2186.49" data-end="2188.41">out I've actually got quite an</span> <span data-start="2188.41" data-end="2190.93">interesting story of how this really</span> <span data-start="2190.93" data-end="2194.11">helped me on a project about two years</span> <span data-start="2194.11" data-end="2196.51">ago I was kind of the lead consultant</span> <span data-start="2196.51" data-end="2198.7">and lead developer on phase one at a</span> <span data-start="2198.7" data-end="2202.99">fairly big elearning platform it's a</span> <span data-start="2202.99" data-end="2204.52">really exciting project it turns a fun</span> <span data-start="2204.52" data-end="2206.59">and I built kind of phase one and it's</span> <span data-start="2206.59" data-end="2208">my job to hand it over to another team</span> <span data-start="2208" data-end="2211.24">we had a full like proper handover</span> <span data-start="2211.24" data-end="2212.5">workshop where I talked him through the</span> <span data-start="2212.5" data-end="2214.75">architecture how everything worked and I</span> <span data-start="2214.75" data-end="2216.16">was like do you understand and they're</span> <span data-start="2216.16" data-end="2220.09">like yes we understand and I left and I</span> <span data-start="2220.09" data-end="2221.59">came back about two months later just to</span> <span data-start="2221.59" data-end="2222.97">check in and see how things were going</span> <span data-start="2222.97" data-end="2224.59">and I said oh cool I'm gonna take a look</span> <span data-start="2224.59" data-end="2225.7">through the codebase and see if there's</span> <span data-start="2225.7" data-end="2227.62">anything we need to discuss and all of a</span> <span data-start="2227.62" data-end="2230.02">sudden ashamed of CSS file it got it got</span> <span data-start="2230.02" data-end="2232.03">enormous and I ran get blame across it</span> <span data-start="2232.03" data-end="2233.17">and it's just one developer it was all</span> <span data-start="2233.17" data-end="2237.04">his work and at first I was like he said</span> <span data-start="2237.04" data-end="2239.02">he understood and he lied and at first I</span> <span data-start="2239.02" data-end="2240.25">was kind of angry but then I realized</span> <span data-start="2240.25" data-end="2243.43">that a way all of this CSS in here is</span> <span data-start="2243.43" data-end="2245.77">around the grid system that's the thing</span> </p>
<p><span data-start="2245.77" data-end="2248.35">I explained the least so what this</span> <span data-start="2248.35" data-end="2249.85">taught me or what this told me was that</span> <span data-start="2249.85" data-end="2252.279">I hadn't explained something very well</span> <span data-start="2252.279" data-end="2254.049">the guy was hacking around stuff that</span> <span data-start="2254.049" data-end="2255.849">already existed hadn't really made it</span> <span data-start="2255.849" data-end="2259.15">obvious so it was a quick case of I said</span> <span data-start="2259.15" data-end="2260.799">like dude can we grab a coffee for 58</span> <span data-start="2260.799" data-end="2262.24">for 15 minutes like I want to show you</span> <span data-start="2262.24" data-end="2263.38">some stuff about how the grid system</span> <span data-start="2263.38" data-end="2266.349">works and basically what this allowed me</span> <span data-start="2266.349" data-end="2268.359">to do was learn who struggles with which</span> <span data-start="2268.359" data-end="2270.13">parts of the project as a lead developer</span> <span data-start="2270.13" data-end="2272.47">or as a senior developer that's really</span> <span data-start="2272.47" data-end="2274.089">useful information to have if you can</span> <span data-start="2274.089" data-end="2276.25">see that this person is struggling with</span> <span data-start="2276.25" data-end="2279.43">the nav or the carousel or something it</span> <span data-start="2279.43" data-end="2280.69">means you can start sharing knowledge</span> <span data-start="2280.69" data-end="2282.309">with the right people about the right</span> <span data-start="2282.309" data-end="2286.75">things that's it for the kind of the</span> <span data-start="2286.75" data-end="2288.779">tips I just wanna close on quite um</span> <span data-start="2288.779" data-end="2290.799">there's an interesting thing that</span> <span data-start="2290.799" data-end="2292.599">happened to me again about two years ago</span> </p>
<p><span data-start="2292.599" data-end="2295.39">I had a very very interesting point of</span> <span data-start="2295.39" data-end="2298.51">view given to me by a developer that I</span> <span data-start="2298.51" data-end="2302.23">was talking to and it's about second</span> <span data-start="2302.23" data-end="2303.64">chances this is kind of weird I never</span> <span data-start="2303.64" data-end="2305.19">really do this kind of philosophical</span> <span data-start="2305.19" data-end="2307.39">ending to a talk but I think it's quite</span> <span data-start="2307.39" data-end="2310.359">poignant it was basically that second</span> <span data-start="2310.359" data-end="2311.95">chances I was running a workshop in</span> <span data-start="2311.95" data-end="2316.15">London and I always asked the attendees</span> <span data-start="2316.15" data-end="2318.309">like well where do you work what do you</span> <span data-start="2318.309" data-end="2320.079">work on what kind of stuff do you do and</span> <span data-start="2320.079" data-end="2323.289">and one guy said that I'm brand new to</span> <span data-start="2323.289" data-end="2325.48">web development I'm like I've been a</span> <span data-start="2325.48" data-end="2329.079">developer for like two months and I said</span> <span data-start="2329.079" data-end="2330.43">oh cool how are you finding it are you</span> <span data-start="2330.43" data-end="2331.69">enjoying it and he said oh it's amazing</span> </p>
<p><span data-start="2331.69" data-end="2334.63">I used to be a civil engineer so he used</span> <span data-start="2334.63" data-end="2336.43">to build bridges and roads and that kind</span> <span data-start="2336.43" data-end="2338.799">of stuff and I said so how are you</span> <span data-start="2338.799" data-end="2340.299">finding the transition to web</span> <span data-start="2340.299" data-end="2341.98">development and he said oh it's</span> <span data-start="2341.98" data-end="2344.769">incredible because web developers have a</span> <span data-start="2344.769" data-end="2348.97">chance to refactor things I am a civil</span> <span data-start="2348.97" data-end="2350.98">engineer I can't refactor a bridge</span> <span data-start="2350.98" data-end="2353.17">it's either perfect first time or 200</span> <span data-start="2353.17" data-end="2356.2">people died and I was like yeah you're</span> <span data-start="2356.2" data-end="2357.25">right that's incredible</span> <span data-start="2357.25" data-end="2359.559">like yeah I never even thought about</span> <span data-start="2359.559" data-end="2361.66">that you can't refactor a bridge it's</span> <span data-start="2361.66" data-end="2363.97">like oh like what that's me going</span> <span data-start="2363.97" data-end="2367.48">to prison yeah as a civil engineer I</span> <span data-start="2367.48" data-end="2369.099">don't get the chance to or as civil</span> <span data-start="2369.099" data-end="2370.509">engineers we don't get a chance to</span> <span data-start="2370.509" data-end="2372.43">refactor our architecture and I was like</span> <span data-start="2372.43" data-end="2374.349">oh my god like I've always looked at</span> <span data-start="2374.349" data-end="2377.14">refactoring as a horrible job I've</span> <span data-start="2377.14" data-end="2378.519">looked at refactoring as a chore</span> <span data-start="2378.519" data-end="2380.259">something that I had to do something I</span> <span data-start="2380.259" data-end="2381.93">resented</span> <span data-start="2381.93" data-end="2383.13">what refactoring actually there's a</span> <span data-start="2383.13" data-end="2385.17">second chance that most industries don't</span> <span data-start="2385.17" data-end="2386.819">get it's a chance for us to learn about</span> <span data-start="2386.819" data-end="2389.069">our product as we build it it's a chance</span> <span data-start="2389.069" data-end="2391.829">to respond to changes in requirements or</span> <span data-start="2391.829" data-end="2394.29">changes in use it's a chance for us to</span> <span data-start="2394.29" data-end="2395.94">learn from previous mistakes or learn</span> <span data-start="2395.94" data-end="2397.95">from new knowledge to make even better</span> <span data-start="2397.95" data-end="2401.579">stuff surgeons can't refactor a heart</span> <span data-start="2401.579" data-end="2404.43">surgery right you die civil engineers</span> <span data-start="2404.43" data-end="2406.17">can't read factor a bridge pilots can't</span> <span data-start="2406.17" data-end="2408.9">refactor a failed flight web developers</span> <span data-start="2408.9" data-end="2410.22">we can be like yeah well this</span> <span data-start="2410.22" data-end="2411.75">architecture is not good enough let me</span> <span data-start="2411.75" data-end="2414.03">spend a week fixing it so rather than</span> <span data-start="2414.03" data-end="2415.589">seeing refactoring is a nasty job</span> <span data-start="2415.589" data-end="2417.119">perhaps we should see it as a kind of a</span> <span data-start="2417.119" data-end="2418.68">second chance that is actually kind of</span> <span data-start="2418.68" data-end="2421.74">cool I've actually gone 10 minutes over</span> <span data-start="2421.74" data-end="2423.21">my time I think so I need to start</span> <span data-start="2423.21" data-end="2425.309">wrapping up um okay let's leave on this</span> <span data-start="2425.309" data-end="2428.55">then remember um prevention is cheaper</span> <span data-start="2428.55" data-end="2429.69">than the cure if we can start</span> <span data-start="2429.69" data-end="2432.48">refactoring things as we spot them as we</span> <span data-start="2432.48" data-end="2434.22">are working we're going to keep things</span> <span data-start="2434.22" data-end="2435.72">cheaper in the long run we don't have to</span> <span data-start="2435.72" data-end="2438.23">tear things down and start again</span> <span data-start="2438.23" data-end="2441">technical debt is fine right a lot of</span> <span data-start="2441" data-end="2443.069">people avoid technical debt completely</span> <span data-start="2443.069" data-end="2444.569">that's quite naive technical that is</span> <span data-start="2444.569" data-end="2446.28">going to happen it's bound to happen</span> <span data-start="2446.28" data-end="2448.89">which need to be very very careful very</span> <span data-start="2448.89" data-end="2450.93">diligent in keeping up repayment so that</span> <span data-start="2450.93" data-end="2453">we don't go bankrupt and have to rebuild</span> <span data-start="2453" data-end="2456.78">the entire site I'm only refactor things</span> <span data-start="2456.78" data-end="2458.849">once we can see tangible benefits try</span> <span data-start="2458.849" data-end="2460.559">and avoid refactoring something just out</span> <span data-start="2460.559" data-end="2462.839">of a sense of pride only refactor</span> <span data-start="2462.839" data-end="2464.4">something if is actually slowing you</span> <span data-start="2464.4" data-end="2466.2">down if it's causing problems if it's</span> <span data-start="2466.2" data-end="2470.49">costing the business money avoid long</span> <span data-start="2470.49" data-end="2472.17">refactoring tunnels do not pick</span> <span data-start="2472.17" data-end="2473.94">refactoring tasks that have a large</span> <span data-start="2473.94" data-end="2476.819">surface area pick off tiny granular jobs</span> <span data-start="2476.819" data-end="2478.859">complete them as quickly as you can and</span> <span data-start="2478.859" data-end="2482.7">move on to the next one and any hacks or</span> <span data-start="2482.7" data-end="2484.71">refactored code any code that are even</span> <span data-start="2484.71" data-end="2487.049">remotely interesting to other developers</span> <span data-start="2487.049" data-end="2488.94">highlight it Aref</span> <span data-start="2488.94" data-end="2491.099">in front of your refactored code hacky</span> <span data-start="2491.099" data-end="2495.18">code inside shame dot CSS the very last</span> <span data-start="2495.18" data-end="2496.77">thing I want to say to you or leave you</span> <span data-start="2496.77" data-end="2499.319">with is this quote by Sir Robert</span> <span data-start="2499.319" data-end="2502.29">baden-powell Robert baden-powell is the</span> <span data-start="2502.29" data-end="2503.849">founder of the Boy Scouts a movement</span> <span data-start="2503.849" data-end="2507.42">or was he's dead now and he said he</span> <span data-start="2507.42" data-end="2509.849">famously said to his Boy Scouts always</span> <span data-start="2509.849" data-end="2510.97">leave the camera</span> <span data-start="2510.97" data-end="2513.819">cleaner than when you found it I'd like</span> <span data-start="2513.819" data-end="2515.2">to think that as developers we have the</span> <span data-start="2515.2" data-end="2517.27">same responsibility to leave the</span> <span data-start="2517.27" data-end="2519.73">codebase cleaner than when we found it</span> <span data-start="2519.73" data-end="2521.4">thank you very much for your time</span> </p>
</section>