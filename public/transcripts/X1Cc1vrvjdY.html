<section>
<p><span data-start="15.179" data-end="16.179">Is that working?</span> <span data-start="16.179" data-end="17.179">Great.</span> <span data-start="17.179" data-end="18.179">Hi!</span> <span data-start="18.179" data-end="19.179">I'm super excited to be here and speaking at</span> <span data-start="19.179" data-end="20.179">JSConf.</span> <span data-start="20.179" data-end="21.179">My name is Mariko.</span> <span data-start="21.179" data-end="22.48">That's my Twitter handle.</span> <span data-start="22.48" data-end="25.599">I should be automatically tweeting this slide, linked</span> <span data-start="25.599" data-end="29.689">to this slide, so if you're in the back and you want to see that, you can find</span> <span data-start="29.689" data-end="30.689">it there.</span> <span data-start="30.689" data-end="33.201">I will be joining a company called (inaudible) next week, which</span> <span data-start="33.201" data-end="35.78"> —  I'm super excited about that.</span> <span data-start="35.78" data-end="38.64">But today I'm not going to talk about software engineering.</span> </p>
<p><span data-start="38.64" data-end="40.91">I'm going to talk about knitting.</span> <span data-start="40.91" data-end="42.69">And just in case you're wondering, like if you are</span> <span data-start="42.69" data-end="46.87">at the wrong conference, I will assure you that I will have enough math and</span> <span data-start="46.87" data-end="49.44">code examples for you to be interested.</span> <span data-start="49.44" data-end="54.14">Just for the guideline, I have a visual relation down on the slide.</span> <span data-start="54.14" data-end="58.82">So the blue dots are indications that the slide has some kind of math reference,</span> <span data-start="58.82" data-end="60.22">computer science reference.</span> </p>
<p><span data-start="60.22" data-end="66.88">The radius of the circle is how many scoops of ice cream I served myself after</span> <span data-start="66.88" data-end="68.79">I figured that out.</span> <span data-start="68.79" data-end="75.45">The yellow dots are some random GIF animations, because why not?</span> <span data-start="75.45" data-end="76.45">So I like knitting.</span> <span data-start="76.45" data-end="78.69">I've been doing knitting for quite a while.</span> <span data-start="78.69" data-end="81.99">I think the first time I was doing it I was seven years old.</span> <span data-start="81.99" data-end="83.729">It's something I've always done.</span> <span data-start="83.729" data-end="88.86">Once a year, come winter, I knit a scarf or mitten.</span> <span data-start="88.86" data-end="90.27">Something very simple.</span> <span data-start="90.27" data-end="92.92">Nothing crazy like having an Etsy store or anything.</span> <span data-start="92.92" data-end="97.55">So here's a few of my projects that I've done in recent years.</span> <span data-start="97.55" data-end="100.869">One winter, I think three years ago, was a very</span> <span data-start="100.869" data-end="105.9">special winter for me, because I learned to JavaScript while I was</span> <span data-start="105.9" data-end="109.77">also working on this green scarf project.</span> </p>
<p><span data-start="109.77" data-end="112.93">And I started to notice really interesting power of</span> <span data-start="112.93" data-end="115.49">computer programming and the process of knitting.</span> <span data-start="115.49" data-end="120.07">So, for example, when you get started  —  like, if you've never knit</span> <span data-start="120.07" data-end="123.61">something, knitting might look like this.</span> <span data-start="123.61" data-end="125.84">Seven-year-old me was like  —  I'm never going to be able to</span> <span data-start="125.84" data-end="129.209">figure this out, this thing that mom and Grandma is doing.</span> <span data-start="129.209" data-end="131.039">So intimidating.</span> <span data-start="131.039" data-end="135.93">My experiences programming, the first time, was just installing NPM install</span> <span data-start="135.93" data-end="137.65">on a terminal.</span> <span data-start="137.65" data-end="139.59">It was so confusing.</span> <span data-start="139.59" data-end="142.89">Words flying around, and is my laptop being hacked?</span> <span data-start="142.89" data-end="145.76">And like what's going on?</span> </p>
<p><span data-start="145.76" data-end="149.59">But we all know that once you've done it, once, and know, like, what</span> <span data-start="149.59" data-end="155.01">exactly it's doing, you know, it's not so scary at all.</span> <span data-start="155.01" data-end="158.439">The other thing  —  computer programming is very binary.</span> <span data-start="158.439" data-end="161.04">Knitting is very binary.</span> <span data-start="161.04" data-end="164.269">The atomic unit, the smallest unit that you can do is</span> <span data-start="164.269" data-end="166.76">two stitches, which is knit stitch and purl stitch.</span> <span data-start="166.76" data-end="170.54">Knit stitch is the stitch that you pull the yarn from</span> <span data-start="170.54" data-end="175.04">the back of the loop, and purl stitch is the yarn  —  you push the yarn</span> <span data-start="175.04" data-end="176.909">in front of the loop.</span> </p>
<p><span data-start="176.909" data-end="180.87">And those two stitches create two distinct faces</span> <span data-start="180.87" data-end="182.309">of fabric.</span> <span data-start="182.309" data-end="185.989">And the combination of those two, much like we say  —  programming</span> <span data-start="185.989" data-end="190.43">is ones and zeroes  —  creates a pattern in the fabric.</span> <span data-start="190.43" data-end="193.96">So the green side of the fabric, which is 2x2 ribbing, which</span> <span data-start="193.96" data-end="197.73">is commonly used for the cuff of your sweater or the neckline of your sweater,</span> <span data-start="197.73" data-end="202.75">is two knit stitch, two purl stitch, alternating each other, and then</span> <span data-start="202.75" data-end="204.269">going row by row.</span> <span data-start="204.269" data-end="208.749">The other side of the pattern is the one I took from</span> <span data-start="208.749" data-end="214.26">my sweater, which is a little more intricate, making a diagonal line.</span> </p>
<p><span data-start="214.26" data-end="218.989">But if you look closely, it's just knit and purl stitch.</span> <span data-start="218.989" data-end="221.68">Just one stitch by one stitch, shifting to the</span> <span data-start="221.68" data-end="223.9">left to create a diagonal line.</span> <span data-start="223.9" data-end="227.359">Knitters have a Github, actually.</span> <span data-start="227.359" data-end="229.729">It's called Ravelry.</span> <span data-start="229.729" data-end="232.65">People log in, you can put your patterns, sell your</span> <span data-start="232.65" data-end="237.309">patterns, star somebody's projects, and show your photos.</span> <span data-start="237.309" data-end="243.449">It's a central repository of knowledge that you do with knitting.</span> <span data-start="243.449" data-end="247.819">And speaking of a central repository, code for knitting  —  the knitting</span> <span data-start="247.819" data-end="250.469">pattern  —  looks like this.</span> <span data-start="250.469" data-end="255.079">And I thought this was totally  —  looked like code.</span> <span data-start="255.079" data-end="258.709">Because there is, like, some letters that are kind of repeating,</span> <span data-start="258.709" data-end="263.17">and maybe kind of like a variable, that's accessing the same information</span> <span data-start="263.17" data-end="264.17">again and again.</span> </p>
<p><span data-start="264.17" data-end="267.61">And there's more explicit loop indications.</span> <span data-start="267.61" data-end="270.56">Like knit until two stitches remaining.</span> <span data-start="270.56" data-end="274.199">Or repeat row one to four, for ten times.</span> <span data-start="274.199" data-end="278.3">This brings me to  —  I could pseudoknit in JavaScript.</span> <span data-start="278.3" data-end="283.71">So I took this code, which was a scarf pattern, very simple scarf pattern, put it</span> <span data-start="283.71" data-end="291.83">into 30 lines of JavaScript, to visualize what this would look like, virtually.</span> <span data-start="291.83" data-end="293.37">And this is what I came out.</span> <span data-start="293.37" data-end="295.139">You know, it is..</span> <span data-start="295.139" data-end="296.99">It turned out it's only using a knit stitch.</span> <span data-start="296.99" data-end="297.99">It's not a purl stitch.</span> <span data-start="297.99" data-end="298.99">So it's okay.</span> </p>
<p><span data-start="298.99" data-end="300.83">And it's a knit scarf.</span> <span data-start="300.83" data-end="302.62">So making a triangular shape.</span> <span data-start="302.62" data-end="303.62">Which is all right.</span> <span data-start="303.62" data-end="304.9">I can understand that.</span> <span data-start="304.9" data-end="308.15">So I actually knit that pattern myself, and I have</span> <span data-start="308.15" data-end="309.24">it here.</span> <span data-start="309.24" data-end="312.47">But it turns out it didn't quite become triangular.</span> <span data-start="312.47" data-end="315.139">Instead, it became like an arc.</span> <span data-start="315.139" data-end="319.68">So in my code, those yellow stripes should be straight,</span> <span data-start="319.68" data-end="320.68">flat lines.</span> </p>
<p><span data-start="320.68" data-end="322.02">But then it became an arc.</span> <span data-start="322.02" data-end="323.08">And I was like..</span> <span data-start="323.08" data-end="324.53">This is only 30 lines of JavaScript.</span> <span data-start="324.53" data-end="326.46">And I write JavaScript professionally.</span> <span data-start="326.46" data-end="328.229">Like, where is my bug?</span> <span data-start="328.229" data-end="330.699">I can't figure that out.</span> <span data-start="330.699" data-end="332.949">So I have it here.</span> <span data-start="332.949" data-end="337.81">Where my four stitches started here, two inches or so, and</span> <span data-start="337.81" data-end="339.06">I knit it down.</span> <span data-start="339.06" data-end="342.689">And if I force the fabric to see it, you could say</span> <span data-start="342.689" data-end="349.009">this is like a straight line, but in fact, it ended up being an arc of a scarf.</span> <span data-start="349.009" data-end="350.009">So why?</span> <span data-start="350.009" data-end="353.65">I did a little bit of research and found out that what I was discovering</span> <span data-start="353.65" data-end="356.79">was something called hyperbolic geometry in math.</span> <span data-start="356.79" data-end="358.29">And I was like..</span> </p>
<p><span data-start="358.29" data-end="359.29">Okay.</span> <span data-start="359.29" data-end="366.849">In knitting, we call it ruffles.</span> <span data-start="366.849" data-end="371.77">So I did some more research, and there were three kinds of geometry to describe,</span> <span data-start="371.77" data-end="375.25">and they both use one perfectly straight line.</span> <span data-start="375.25" data-end="378.509">The one we're familiar is Euclidean space, which  —  you have a</span> <span data-start="378.509" data-end="381.909">baseline, and then parallel to that, you have another line that will</span> <span data-start="381.909" data-end="383.789">never meet the baseline again.</span> <span data-start="383.789" data-end="385.81">So it's very 2D.</span> <span data-start="385.81" data-end="391.349">The other one is spherical space, where the straight lines are on the</span> <span data-start="391.349" data-end="392.37">sphere.</span> </p>
<p><span data-start="392.37" data-end="397.18">However you place it, it will always meet each other.</span> <span data-start="397.18" data-end="403.65">And the third one is a hyperbolic space, which  —  there is a baseline, and the straight line,</span> <span data-start="403.65" data-end="407.78">infinite number of straight lines, can be drawn.</span> <span data-start="407.78" data-end="410.83">And it turns out this hyperbolic geometry is a</span> <span data-start="410.83" data-end="417.36">hard problem to solve in computer graphics, because it's hard to model.</span> <span data-start="417.36" data-end="421.789">Researcher at Cornell actually created a physical model of hyperbolic</span> <span data-start="421.789" data-end="424.44">geometry in knitted fabric.</span> <span data-start="424.44" data-end="426.759">In her case, created in crotchet.</span> <span data-start="426.759" data-end="432.22">And here's her paper about how she created the hyperbolic</span> <span data-start="432.22" data-end="433.22">plane.</span> </p>
<p><span data-start="433.22" data-end="438.18">So when I discovered this, I just stumbled upon a problem making ruffles.</span> <span data-start="438.18" data-end="441.939">But when I discovered this is an actual math problem behind my ruffle, I</span> <span data-start="441.939" data-end="443.789">was like  —  this is great.</span> <span data-start="443.789" data-end="445.79">I want to do more of this.</span> <span data-start="445.79" data-end="448.18">I want to discover more about pattern making, and I</span> <span data-start="448.18" data-end="449.389">want to do this.</span> <span data-start="449.389" data-end="453.46">The problem was that knitting is a very slow process.</span> <span data-start="453.46" data-end="457.58">Like, this scarf  —  itself, take maybe five days</span> <span data-start="457.58" data-end="458.789">of solid work.</span> <span data-start="458.789" data-end="459.789">So..</span> <span data-start="459.789" data-end="461.639">Eight hours a day?</span> <span data-start="461.639" data-end="464.06">And if you think about software engineer salary  —  this is</span> <span data-start="464.06" data-end="467.819">a very expensive piece of scarf.</span> </p>
<p><span data-start="467.819" data-end="472.82">So I did more research about  —  how can I test out my patterns?</span> <span data-start="472.82" data-end="475.34">And stumbled upon this thing, called a knitting machine.</span> <span data-start="475.34" data-end="478.719">Which I have never knew that this existed.</span> <span data-start="478.719" data-end="483.479">But apparently it existed for home use, available to your house,</span> <span data-start="483.479" data-end="487.02">since 1890.</span> <span data-start="487.02" data-end="488.87">And this is the ad from that era.</span> <span data-start="488.87" data-end="493.57">And furthermore, interesting, as a native Japanese, was that the knitting machine was</span> <span data-start="493.57" data-end="500.289">a very popular thing to own in the household, in the '70s and '80s Japan.</span> <span data-start="500.289" data-end="504.759">And people were offering local classes, people owned a knitting machine like</span> <span data-start="504.759" data-end="506.319">you would own a sewing machine.</span> </p>
<p><span data-start="506.319" data-end="510.699">I found one TV commercial on YouTube about this knitting machine from 1979.</span> <span data-start="510.699" data-end="511.699">If you can get the audio.</span> <span data-start="511.699" data-end="520.14">(song in Japanese with female vocalist)</span> <span data-start="520.14" data-end="528.39">(male narrator speaking Japanese)</span> <span data-start="528.39" data-end="538.699">(female vocalist singing in Japanese)</span> <span data-start="538.699" data-end="542.83">All right.</span> <span data-start="542.83" data-end="549.06">So I am as confused as you are to see this TV commercial for</span> <span data-start="549.06" data-end="550.45">one different reason.</span> <span data-start="550.45" data-end="553">The song that was in the background, the lyrics said</span> <span data-start="553" data-end="558.69">that creating a special original pattern knitwear is like sending a secret</span> <span data-start="558.69" data-end="560.269">love letter to your loved one.</span> <span data-start="560.269" data-end="563.069">And I thought that was kind of creepy, but apparently..</span> <span data-start="563.069" data-end="566.329">Things to do in the '70s!</span> <span data-start="566.329" data-end="569.81">I lived in New York City when I discovered this, so I couldn't really go down</span> <span data-start="569.81" data-end="571.11">to local classes.</span> </p>
<p><span data-start="571.11" data-end="575.82">So I don't even know if that's offered in Tokyo now.</span> <span data-start="575.82" data-end="578.76">But I made a short trip to eBay.</span> <span data-start="578.76" data-end="581.87">Spent a couple hundred dollars to buy this machine.</span> <span data-start="581.87" data-end="584.88">And I got it, I set it up, and I was like..</span> <span data-start="584.88" data-end="585.88">Okay.</span> <span data-start="585.88" data-end="587.03">I'm going to set this up.</span> </p>
<p><span data-start="587.03" data-end="591.699">And create all of the patterns, and I'm going to be awesome,</span> <span data-start="591.699" data-end="593.26">and create sweaters.</span> <span data-start="593.26" data-end="595.93">Turns out..</span> <span data-start="595.93" data-end="599.07">Operating the machine, even before going into creating a pattern,</span> <span data-start="599.07" data-end="600.49">was a lot of work.</span> <span data-start="600.49" data-end="602.54">The machine was made in the '80s.</span> </p>
<p><span data-start="602.54" data-end="605.32">It was sitting in somebody's closet for a long time.</span> <span data-start="605.32" data-end="606.889">It was missing the manuals.</span> <span data-start="606.889" data-end="612.31">So I ended up  —  the next two months, just researching all kinds of stuff on Japanese</span> <span data-start="612.31" data-end="616.77">blog posts about machine knitting.</span> <span data-start="616.77" data-end="619.57">Possibly watched every single YouTube video about machine</span> <span data-start="619.57" data-end="620.99">knitting that's posted.</span> </p>
<p><span data-start="620.99" data-end="622.99">Many of them are Japanese.</span> <span data-start="622.99" data-end="627.41">Occasional trip to a free preview version of Google books, because I</span> <span data-start="627.41" data-end="630.68">couldn't go to a Japanese bookstore down the street from my parents'</span> <span data-start="630.68" data-end="633.75">house and pick up the book.</span> <span data-start="633.75" data-end="637.47">I never thanked myself enough to be able to</span> <span data-start="637.47" data-end="639.32">speak Japanese.</span> <span data-start="639.32" data-end="642.959">Because all of the stuff, great stuff, was available in Japanese.</span> <span data-start="642.959" data-end="649.55">And I just get to angry, when software only offers documentation in</span> <span data-start="649.55" data-end="650.55">English.</span> <span data-start="650.55" data-end="652.769">Certain things I could not understand.</span> <span data-start="652.769" data-end="656.32">But in knitting, at least I got my turn to just do</span> <span data-start="656.32" data-end="659.87">things in Japanese.</span> <span data-start="659.87" data-end="663.23">On top of figuring out how to operate the machine, I</span> <span data-start="663.23" data-end="665.81">actually needed to fix the machine.</span> </p>
<p><span data-start="665.81" data-end="668.279">So I figured out how to operate this machine.</span> <span data-start="668.279" data-end="670.17">Moving back and forth.</span> <span data-start="670.17" data-end="673.589">But it wasn't knitting quite right.</span> <span data-start="673.589" data-end="675.07">Something was missing.</span> <span data-start="675.07" data-end="678.139">And basically I flipped the carriers, looking at</span> <span data-start="678.139" data-end="685.06">examining what exactly it's supposed to do, and what each path is doing.</span> </p>
<p><span data-start="685.06" data-end="689.23">And after looking at maybe four hours of, like, mechanics of things, I</span> <span data-start="689.23" data-end="693.77">found out that one piece of thing was stuck in there.</span> <span data-start="693.77" data-end="698.23">And just a jiggle  —  it worked perfectly!</span> <span data-start="698.23" data-end="702.1">And so finally, I got to knit a fabric out of the</span> <span data-start="702.1" data-end="703.24">machine.</span> <span data-start="703.24" data-end="704.24">And I was like..</span> </p>
<p><span data-start="704.24" data-end="705.329">This is great.</span> <span data-start="705.329" data-end="710.49">One thing about this machine is it's known for something called Jacquard knit</span> <span data-start="710.49" data-end="717.1">or Fair Isle knit, or pattern knit, if you're familiar with those terms.</span> <span data-start="717.1" data-end="720.829">The term Jacquard comes directly from the Jacquard loom, which is</span> <span data-start="720.829" data-end="728.579">a different kind of machine that creates a fabric, and uses a punch card</span> <span data-start="728.579" data-end="731.319">to input the data.</span> <span data-start="731.319" data-end="734.33">And this punch card system, the punch card loom, became</span> <span data-start="734.33" data-end="736.389">the base of the modern computer.</span> <span data-start="736.389" data-end="738.389">Which  —  I thought this was a great discovery.</span> <span data-start="738.389" data-end="744.25">When I did the research and learned about it, I was so excited.</span> <span data-start="744.25" data-end="747.4">So..</span> <span data-start="747.4" data-end="749.259">The machine is based on that.</span> <span data-start="749.259" data-end="753.66">And you see on the '70s ad  —  the machine actually had a punch card</span> <span data-start="753.66" data-end="754.66">feeder.</span> <span data-start="754.66" data-end="756.85">So you create your own punch card, and then feed it into the punch</span> <span data-start="756.85" data-end="760.52">card feeder, and that will translate the pattern for you.</span> </p>
<p><span data-start="760.52" data-end="765.399">My machine is coming from the '80s, so it is an Electroknit.</span> <span data-start="765.399" data-end="767.279">It's actually the name of the model.</span> <span data-start="767.279" data-end="769.029">It's called the Electroknit.</span> <span data-start="769.029" data-end="770.819">And what does that mean?</span> <span data-start="770.819" data-end="773.85">It no longer has a feeder for a bunch card.</span> <span data-start="773.85" data-end="776.67">But it has a mother board and chip and magnetic strip.</span> <span data-start="776.67" data-end="781.69">You use an electromagnet to push and pull the needles</span> <span data-start="781.69" data-end="786.3">automatically.</span> <span data-start="786.3" data-end="790.6">It's a lot like dot matrix printing, if you are familiar with a dot matrix</span> <span data-start="790.6" data-end="791.839">printer.</span> </p>
<p><span data-start="791.839" data-end="794.8">One pixel becomes one stitch.</span> <span data-start="794.8" data-end="801.48">So in this machine's case, I feed it a yellow and blue yarn, the needle that's pushed</span> <span data-start="801.48" data-end="805.92">forward is grabbing a contrasting color, which is blue, and then</span> <span data-start="805.92" data-end="811.37">the needle that was left behind is grabbing a base color, which is yellow.</span> <span data-start="811.37" data-end="813.64">That's how they create a pattern.</span> <span data-start="813.64" data-end="816.18">So that means I can create some kind of graphic  —  anything.</span> <span data-start="816.18" data-end="818.709">In this case, the JSConf logo.</span> <span data-start="818.709" data-end="821.48">And then put it into knitted fabric.</span> <span data-start="821.48" data-end="822.48">And I was like..</span> <span data-start="822.48" data-end="825.77">I found out how to operate this machine, I fixed this</span> <span data-start="825.77" data-end="826.77">machine.</span> </p>
<p><span data-start="826.77" data-end="827.81">This shouldn't be a problem.</span> <span data-start="827.81" data-end="829.81">I'm going to do this.</span> <span data-start="829.81" data-end="832.579">Turns out it was not that easy.</span> <span data-start="832.579" data-end="834.319">Not even..</span> <span data-start="834.319" data-end="836.649">So there was so many things that you needed to figure out.</span> <span data-start="836.649" data-end="840.75">Which is indicated in that blue dot.</span> <span data-start="840.75" data-end="845.6">Even before you actually put the data into the machine.</span> <span data-start="845.6" data-end="850.42">So first question was like  —  how do I even make bitmap image?</span> <span data-start="850.42" data-end="854.25">Because if you're using Photoshop, you just load the colored photo</span> <span data-start="854.25" data-end="859.67">in, select grayscale, and select the bitmap method, and it will automatically</span> <span data-start="859.67" data-end="862.339">feed the bitmap for you.</span> <span data-start="862.339" data-end="864.45">But I need to do this in code.</span> <span data-start="864.45" data-end="867.36">How do I programmatically do that?</span> <span data-start="867.36" data-end="873.879">Let's start with just learning about images, and loading the image.</span> <span data-start="873.879" data-end="876.759">I used a library called graphics magic and then</span> </p>
<p><span data-start="876.759" data-end="879.759">NPM package GM, which wraps that library.</span> <span data-start="879.759" data-end="884.25">I actually started by using PhantomJS, creating a</span> <span data-start="884.25" data-end="889.64">canvas in Phantom, loading the image, and using the Phantom API to extract</span> <span data-start="889.64" data-end="894.53">all of the data, which worked fine, but it was very slow.</span> <span data-start="894.53" data-end="897.73">And GM was suggested to me as a faster alternative.</span> <span data-start="897.73" data-end="899.07">And it worked perfectly.</span> <span data-start="899.07" data-end="904.04">So when you load a file into GM as a text file, this is what you get.</span> <span data-start="904.04" data-end="906.55">XY coordinates of the pixel.</span> <span data-start="906.55" data-end="910.29">RGB value of the color, and then also the hex value</span> <span data-start="910.29" data-end="911.529">for that color.</span> </p>
<p><span data-start="911.529" data-end="916.18">So all you do is a handy-dandy regexing, and create an</span> <span data-start="916.18" data-end="919.87">array of arrays for each pixel.</span> <span data-start="919.87" data-end="923.99">So now I have RGB color for each pixel.</span> <span data-start="923.99" data-end="927.47">Let's get on it and make it grayscale?</span> <span data-start="927.47" data-end="929.509">But how do I grayscale?</span> </p>
<p><span data-start="929.509" data-end="934.61">I spent two hours just looking at a single Wikipedia page</span> <span data-start="934.61" data-end="943.19">about grayscaling, and the engineer from Adobe confirmed that's okay.</span> <span data-start="943.19" data-end="947.2">So I'm confident about my explanation here.</span> <span data-start="947.2" data-end="949.709">You have RGB value for each color.</span> <span data-start="949.709" data-end="952.649">In this case, pink and green.</span> <span data-start="952.649" data-end="956.08">You find the highest value for each color.</span> <span data-start="956.08" data-end="958.319">In this case, pink, red is the highest value.</span> <span data-start="958.319" data-end="960.779">Green, green is the highest value.</span> <span data-start="960.779" data-end="966.339">You repeat that number, and then you get the grayscale</span> <span data-start="966.339" data-end="968.6">color.</span> <span data-start="968.6" data-end="970.7">So now you load the image in GM.</span> <span data-start="970.7" data-end="972.829">You get all of the color.</span> <span data-start="972.829" data-end="977.1">And you have three color  —  RGB value array.</span> <span data-start="977.1" data-end="981.959">You just find the max value out of the array, and then you have an array of just the max</span> <span data-start="981.959" data-end="982.959">value.</span> </p>
<p><span data-start="982.959" data-end="986.51">And you can use that to create a grayscale image.</span> <span data-start="986.51" data-end="987.68">So I was like..</span> <span data-start="987.68" data-end="990.11">This is black and white photography.</span> <span data-start="990.11" data-end="993.17">So I can just load it in, because it's black and white.</span> <span data-start="993.17" data-end="996.079">But the grey scale image is actually black and</span> <span data-start="996.079" data-end="999.209">white and many shades of grey in between.</span> </p>
<p><span data-start="999.209" data-end="1001.1">And my machine only has two colors.</span> <span data-start="1001.1" data-end="1004.3">So it has to be just two colors.</span> <span data-start="1004.3" data-end="1007.19">Nothing in the shades of grey.</span> <span data-start="1007.19" data-end="1010.87">So my first upload was to split it in half.</span> </p>
<p><span data-start="1010.87" data-end="1014.569">Anything closer to white side gets white, and anything closer to black</span> <span data-start="1014.569" data-end="1016.41">side gets black.</span> <span data-start="1016.41" data-end="1017.67">And it turns out like this.</span> <span data-start="1017.67" data-end="1019">Something like..</span> <span data-start="1019" data-end="1020.74">What came out of a fax machine.</span> </p>
<p><span data-start="1020.74" data-end="1022.85">I wasn't really happy with that.</span> <span data-start="1022.85" data-end="1023.85">So I was like..</span> <span data-start="1023.85" data-end="1026.449">This is my favorite game when I grew up.</span> <span data-start="1026.449" data-end="1028.939">When I was growing up.</span> <span data-start="1028.939" data-end="1031.06">And this only used, like, black and white, and it</span> <span data-start="1031.06" data-end="1034.16">operated beautifully in my tiny Apple computer.</span> <span data-start="1034.16" data-end="1039.7">So I literally Googled Cosmic Osmo graphics and figured out that I needed</span> <span data-start="1039.7" data-end="1041.96">to do something called dithering.</span> <span data-start="1041.96" data-end="1047.36">Which  —  the Wikipedia article said it was an intentionally applied form</span> <span data-start="1047.36" data-end="1050.94">of noise.</span> <span data-start="1050.94" data-end="1052.99">I don't really understand, but okay.</span> </p>
<p><span data-start="1052.99" data-end="1055.32">GM has built-in methods for it.</span> <span data-start="1055.32" data-end="1056.76">So I did that.</span> <span data-start="1056.76" data-end="1058.9">It turns out better than my method.</span> <span data-start="1058.9" data-end="1059.9">But still..</span> <span data-start="1059.9" data-end="1062.65">Somewhere around the area is missing a definition.</span> <span data-start="1062.65" data-end="1065.24">And I wasn't quite happy with it.</span> <span data-start="1065.24" data-end="1069.47">I did more research, and something  —  discovered that the thing I</span> <span data-start="1069.47" data-end="1072.89">needed to do was something called ordered dithering, or half tone</span> <span data-start="1072.89" data-end="1077.7">screening, which is used for newspapers to translate that picture into</span> <span data-start="1077.7" data-end="1082.76">a newspaper, which is just one color of ink.</span> <span data-start="1082.76" data-end="1085.39">So you have a base image.</span> </p>
<p><span data-start="1085.39" data-end="1089.32">Which you extracted the value for the grayscale.</span> <span data-start="1089.32" data-end="1093.27">And then you have this noise matrix part.</span> <span data-start="1093.27" data-end="1094.93">You laid it over.</span> <span data-start="1094.93" data-end="1097.8">You compare the overlapping pixels.</span> </p>
<p><span data-start="1097.8" data-end="1100.98">And if the base image has a lower value than your</span> <span data-start="1100.98" data-end="1103.97">noise matrix, then it gets zero.</span> <span data-start="1103.97" data-end="1105.97">If it's over, then it gets one.</span> <span data-start="1105.97" data-end="1109.9">And that's how you make it into two color images.</span> <span data-start="1109.9" data-end="1111.35">And of course, if it's like..</span> <span data-start="1111.35" data-end="1116.76">One and two, you can put it into ones and zeroes  —  matrix.</span> <span data-start="1116.76" data-end="1119.59">Here's a few examples of that noise matrix.</span> <span data-start="1119.59" data-end="1124.51">And a lot of people explore their own matrix to create a better dithered image.</span> <span data-start="1124.51" data-end="1130.52">I ended up using Bayer, because I like the output most.</span> <span data-start="1130.52" data-end="1136.79">So now I loaded the JSConf logo and outputted it as ones and zero pictures.</span> <span data-start="1136.79" data-end="1142.58">And if I replace the zero with no value and one with asterisk, you can see something</span> <span data-start="1142.58" data-end="1143.58">like this.</span> <span data-start="1143.58" data-end="1146.55">And it's starting to look like something on the knitted</span> <span data-start="1146.55" data-end="1147.55">fabric.</span> </p>
<p><span data-start="1147.55" data-end="1148.59">So I'm like  —  great.</span> <span data-start="1148.59" data-end="1150.3">I've got files.</span> <span data-start="1150.3" data-end="1153.63">Let's just put it into the machine and just knit.</span> <span data-start="1153.63" data-end="1156.3">Let's make knitting pattern files.</span> <span data-start="1156.3" data-end="1160.88">The file format for this is something called .dat.</span> <span data-start="1160.88" data-end="1164.45">Which I think stands for digital audio tape?</span> <span data-start="1164.45" data-end="1165.81">No idea.</span> <span data-start="1165.81" data-end="1169.99">If you open it up, you get ones and zeroes.</span> <span data-start="1169.99" data-end="1170.99">Okay.</span> <span data-start="1170.99" data-end="1171.99">Great.</span> <span data-start="1171.99" data-end="1172.99">Binary file.</span> <span data-start="1172.99" data-end="1176.65">Just replace my one and zero matrix and put it in.</span> <span data-start="1176.65" data-end="1181.77">But I found out if the pattern is in there, it's actually hex.</span> <span data-start="1181.77" data-end="1184.14">So I'm like..</span> <span data-start="1184.14" data-end="1187.27">Something needs to be done in my one and zero matrix.</span> </p>
<p><span data-start="1187.27" data-end="1188.43">Into this file.</span> <span data-start="1188.43" data-end="1189.43">What do I do?</span> <span data-start="1189.43" data-end="1193.97">There was one guy, Steve Conklin, who is writing the same kind of project in</span> <span data-start="1193.97" data-end="1194.97">Python.</span> <span data-start="1194.97" data-end="1200.43">So I studied his code, and discovered this line.</span> <span data-start="1200.43" data-end="1205.24">And at the time, I was a newbie Python developer.</span> <span data-start="1205.24" data-end="1206.45">So I was learning Python.</span> <span data-start="1206.45" data-end="1207.45">And I'm like..</span> <span data-start="1207.45" data-end="1209.65">What is this?</span> </p>
<p><span data-start="1209.65" data-end="1212.47">I just went through Python's tutorial.</span> <span data-start="1212.47" data-end="1215.35">Nothing was mentioned about bitwise operator.</span> <span data-start="1215.35" data-end="1217.56">How could I not have heard of this?</span> <span data-start="1217.56" data-end="1219.65">I just went through training.</span> <span data-start="1219.65" data-end="1222.74">And I felt like this.</span> <span data-start="1222.74" data-end="1226.321">I also found out that the bitwise operator existed in JavaScript, and</span> <span data-start="1226.321" data-end="1232.7">read an article, and still couldn't really get what it is.</span> <span data-start="1232.7" data-end="1238.44">So what I concluded, after two days of, like, you know..</span> <span data-start="1238.44" data-end="1242.9">Throwing balls against walls, was that this is</span> <span data-start="1242.9" data-end="1243.9">like magic.</span> </p>
<p><span data-start="1243.9" data-end="1248.37">And this is my interpretation of what bitwise operator and bit</span> <span data-start="1248.37" data-end="1250.01">shifting is.</span> <span data-start="1250.01" data-end="1252.21">So I'm going to give you two examples.</span> <span data-start="1252.21" data-end="1256.58">Two operations that I use for this machine.</span> <span data-start="1256.58" data-end="1258.91">One is a bitwise left shift.</span> <span data-start="1258.91" data-end="1264.09">Left shift is a guy or fellow who pushes you to the left.</span> <span data-start="1264.09" data-end="1267.61">And he's a magician, because it's a bitwise operator.</span> </p>
<p><span data-start="1267.61" data-end="1268.93">So he has a magic hat.</span> <span data-start="1268.93" data-end="1272.03">So A is the small value of one.</span> <span data-start="1272.03" data-end="1275.6">And let's bit shift forward to the left.</span> <span data-start="1275.6" data-end="1279.46">So the representation of this small one is that.</span> <span data-start="1279.46" data-end="1284.34">And this left shift guy comes in, pushes you four times</span> <span data-start="1284.34" data-end="1288.62">to the left, and because he is a magician, he makes it to 16.</span> <span data-start="1288.62" data-end="1289.94">Like, how..</span> <span data-start="1289.94" data-end="1290.94">What..</span> <span data-start="1290.94" data-end="1292.84">How could that happen?</span> <span data-start="1292.84" data-end="1294.09">Okay.</span> <span data-start="1294.09" data-end="1296.9">And the bitwise OR operator  —  the same thing.</span> </p>
<p><span data-start="1296.9" data-end="1302.11">This person favors one over zero, and he's also a magician.</span> <span data-start="1302.11" data-end="1306.37">So let's do bitwise OR, with 1 and 5.</span> <span data-start="1306.37" data-end="1312.13">Representation of the 1 and 5 is that.</span> <span data-start="1312.13" data-end="1314.22">First compares 1 and 1.</span> <span data-start="1314.22" data-end="1316.29">There is only 1, so he chooses 1.</span> <span data-start="1316.29" data-end="1318.38">There's 0 and 0.</span> <span data-start="1318.38" data-end="1320.63">So there's no 1, so okay.</span> <span data-start="1320.63" data-end="1321.63">0.</span> </p>
<p><span data-start="1321.63" data-end="1323.19">And next one is 1 and 0.</span> <span data-start="1323.19" data-end="1324.27">So okay..</span> <span data-start="1324.27" data-end="1325.35">1.</span> <span data-start="1325.35" data-end="1330.23">And because it's magic, it stays as 5, even though you just did something.</span> <span data-start="1330.23" data-end="1333.54">But it stays as 5.</span> <span data-start="1333.54" data-end="1334.94">So..</span> <span data-start="1334.94" data-end="1337.69">I needed to do bitshifting, and if you're interested, I'm</span> <span data-start="1337.69" data-end="1344.16">happy to share the code, but my one and zero matrix shifted into one set of</span> <span data-start="1344.16" data-end="1348.47">the decimal value of A, shifted again, became one number, and then turned</span> <span data-start="1348.47" data-end="1352.69">that decimal number into hex, and I can finally put it into my knitting</span> <span data-start="1352.69" data-end="1354.5">machine.</span> <span data-start="1354.5" data-end="1359.22">So now I have the file prepared.</span> <span data-start="1359.22" data-end="1360.22">And put it into the machine.</span> <span data-start="1360.22" data-end="1366.35">And now I want to demo the machine.</span> <span data-start="1366.35" data-end="1370.41">Okay.</span> <span data-start="1370.41" data-end="1371.41">So I just turned it in.</span> </p>
<p><span data-start="1371.41" data-end="1374">I pre-loaded a file this morning.</span> <span data-start="1374" data-end="1377.8">I used USB to serial port cable.</span> <span data-start="1377.8" data-end="1381.89">Which the tutorial of how to make is available online.</span> <span data-start="1381.89" data-end="1383.07">And..</span> <span data-start="1383.07" data-end="1385.43">Just select..</span> <span data-start="1385.43" data-end="1388.8">You might not be able to see it.</span> <span data-start="1388.8" data-end="1391.87">But I'm selecting a custom pattern that I created.</span> <span data-start="1391.87" data-end="1393.22">It says one time.</span> <span data-start="1393.22" data-end="1394.22">Stitch of 90.</span> </p>
<p><span data-start="1394.22" data-end="1395.22">Okay.</span> <span data-start="1395.22" data-end="1396.22">Start.</span> <span data-start="1396.22" data-end="1397.22">I changed the setting.</span> <span data-start="1397.22" data-end="1399.27">Make sure this is okay.</span> <span data-start="1399.27" data-end="1401.39">And now..</span> <span data-start="1401.39" data-end="1409.87">Something interesting should happen.</span> <span data-start="1409.87" data-end="1414.11">(grinding noises)</span> <span data-start="1414.11" data-end="1416.23">See?</span> <span data-start="1416.23" data-end="1418.33">These needles are pushed forward.</span> <span data-start="1418.33" data-end="1423.62">This means that this carriage uses magnetics to pull those needles, and</span> <span data-start="1423.62" data-end="1433.01">now these needles that are pushed forward are picking up this blue yarn.</span> <span data-start="1433.01" data-end="1436.07">And..</span> <span data-start="1436.07" data-end="1442.19">(grinding noises)</span> <span data-start="1442.19" data-end="1448.31">All right!</span> <span data-start="1448.31" data-end="1460.34">Now the pattern is done.</span> </p>
<p><span data-start="1460.34" data-end="1461.34">I can just discharge this.</span> <span data-start="1461.34" data-end="1462.34">Take this out.</span> <span data-start="1462.34" data-end="1463.669">Actually, just leave it there.</span> <span data-start="1463.669" data-end="1466.29">You may not be able to see it from the front.</span> <span data-start="1466.29" data-end="1471.02">But it actually printed out the JSConf 2015 logo.</span> <span data-start="1471.02" data-end="1475.59">And after that, I'll finish this scarf, and I can show it to you</span> <span data-start="1475.59" data-end="1477.71">in person, if you're interested.</span> <span data-start="1477.71" data-end="1479.17">(applause)</span> <span data-start="1479.17" data-end="1480.64">Woo!</span> <span data-start="1480.64" data-end="1485.03">Oh, how kind!</span> <span data-start="1485.03" data-end="1487.97">Thank you!</span> <span data-start="1487.97" data-end="1491.85">So going into this project, I had no idea what</span> <span data-start="1491.85" data-end="1492.85">I was doing.</span> <span data-start="1492.85" data-end="1494.83">I just wanted to do knitting.</span> </p>
<p><span data-start="1494.83" data-end="1497.91">And I discovered that knitting and JavaScript are kind of related.</span> <span data-start="1497.91" data-end="1504.29">That turned into, like, finding out about this machine, and I wanted to do this.</span> <span data-start="1504.29" data-end="1506.82">I had no reservation about trying to sound smart.</span> <span data-start="1506.82" data-end="1508.21">This wasn't my job.</span> <span data-start="1508.21" data-end="1513.351">So whenever I go into a problem, I just tweet out or send emails about it, and so</span> <span data-start="1513.351" data-end="1517.96">many people just jumped right in, sending me code samples, and giving me</span> <span data-start="1517.96" data-end="1518.98">encouragement and all of that.</span> <span data-start="1518.98" data-end="1522.16">So I just want to give a shout out.</span> <span data-start="1522.16" data-end="1523.16">Thank you!</span> <span data-start="1523.16" data-end="1529.05">And most of the code will be available on Electroknit repo, which</span> <span data-start="1529.05" data-end="1532.25">right now is empty, but I promise I will put it up.</span> <span data-start="1532.25" data-end="1535.22">And a subset from that project  —  the part I was</span> <span data-start="1535.22" data-end="1538.39">doing, the color math  —  I was super interested in it.</span> <span data-start="1538.39" data-end="1543.76">And I added more features about translation between color spaces</span> <span data-start="1543.76" data-end="1546.36">and created a small library for you to..</span> <span data-start="1546.36" data-end="1549.34">What do you call it?</span> </p>
<p><span data-start="1549.34" data-end="1551.02">Explore the color.</span> <span data-start="1551.02" data-end="1555.02">And that's available on the color mixer repo, or NPM module.</span> </p>
</section>