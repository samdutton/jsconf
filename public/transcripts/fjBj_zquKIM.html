<section>
<p><span data-start="0" data-end="10.2">ah</span> <span data-start="10.21" data-end="13.76">so the issue i was having with chrome</span> <span data-start="13.76" data-end="15.26">and this chrome extension that i was</span> <span data-start="15.26" data-end="16.82">writing and it's monitoring all my pages</span> <span data-start="16.82" data-end="19.25">is that I really wanted to calm it while</span> <span data-start="19.25" data-end="21.98">doing this and you very quickly hit a</span> <span data-start="21.98" data-end="24.32">connection limit when you have 100 some</span> <span data-start="24.32" data-end="26.599">tabs open each tab is individually</span> <span data-start="26.599" data-end="27.679">trying to make a connection to the</span> <span data-start="27.679" data-end="29.9">server and there's really no wait to</span> <span data-start="29.9" data-end="33.26">share that when my plugging into yours</span> <span data-start="33.26" data-end="36.2">that I just have to pay attention to</span> <span data-start="36.2" data-end="40.31">what I'm doing um so yeah I hit this</span> <span data-start="40.31" data-end="41.84">connection limit pretty quickly and I</span> <span data-start="41.84" data-end="44">really really thought that I've always</span> <span data-start="44" data-end="45.32">seen the connection limit is one of the</span> <span data-start="45.32" data-end="49.25">forefront problems in HTTP and the the</span> <span data-start="49.25" data-end="51.83">idea of being able to pull for data and</span> <span data-start="51.83" data-end="53.89">listen for data this comment idea</span> <span data-start="53.89" data-end="56.39">doesn't really scale and this is</span> <span data-start="56.39" data-end="57.59">something that I desperately wanted to</span> <span data-start="57.59" data-end="62.75">address and there is a working group out</span> <span data-start="62.75" data-end="64.46">there that addressed wanted to address</span> <span data-start="64.46" data-end="67.61">this issue the hanging request issue hi</span> <span data-start="67.61" data-end="70.61">by working group realized the comment in</span> <span data-start="70.61" data-end="71.93">the way that we were trying to deal with</span> <span data-start="71.93" data-end="73.61">the large amount of connections was</span> <span data-start="73.61" data-end="75.47">simply not working not scaling and was</span> <span data-start="75.47" data-end="78.29">kind of a hack there's HTTP is a</span> <span data-start="78.29" data-end="80.09">pipelined request response model and</span> <span data-start="80.09" data-end="81.65">there's just no way to deal with</span> <span data-start="81.65" data-end="84.68">responses that don't get back to us I'm</span> <span data-start="84.68" data-end="86.12">going to do a quick little tour through</span> <span data-start="86.12" data-end="87.38">some of what these people thought was</span> <span data-start="87.38" data-end="90.26">important and of course the screen is</span> <span data-start="90.26" data-end="96.899">absolutely tiny ha</span> <span data-start="96.909" data-end="98.59">so let's just look through the high by</span> <span data-start="98.59" data-end="99.819">mailing list and see some of the issues</span> <span data-start="99.819" data-end="101.439">that people thought was important and</span> <span data-start="101.439" data-end="103.09">this will just kind of be a really quick</span> <span data-start="103.09" data-end="105.429">retrospective on where what sort of</span> <span data-start="105.429" data-end="106.99">issues people were talking about at the</span> <span data-start="106.99" data-end="114.609">time when high by was made so minimal</span> <span data-start="114.609" data-end="116.53">eventing was one of the first ideas that</span> <span data-start="116.53" data-end="118.509">came up I was just a random thread</span> <span data-start="118.509" data-end="120.49">saying how do we get just talking to</span> <span data-start="120.49" data-end="128.5">bait ah one of the anyway there's a</span> <span data-start="128.5" data-end="129.729">bunch of people chipping in saying how</span> <span data-start="129.729" data-end="131.079">do we get information on the page what</span> <span data-start="131.079" data-end="135.879">do we do with all these widgets it's a</span> <span data-start="135.879" data-end="137.349">similar idea how do we deal with this</span> <span data-start="137.349" data-end="139">particularly in the context of our two</span> <span data-start="139" data-end="140.14">connection limit however many</span> <span data-start="140.14" data-end="141.73">connections we have how do we get data</span> <span data-start="141.73" data-end="144.37">onto the page in some sort of push a</span> <span data-start="144.37" data-end="147.97">sort of fashion we have one particular</span> <span data-start="147.97" data-end="149.68">opinion Greg Wilkins talking about how</span> <span data-start="149.68" data-end="151.66">multiplex multiplexing is the way that</span> <span data-start="151.66" data-end="154.2">this is going to be done and in general</span> <span data-start="154.2" data-end="157.72">this is a this is one particular way for</span> <span data-start="157.72" data-end="160.569">how connection sharing might be dressed</span> <span data-start="160.569" data-end="162.04">how we might be able to get around this</span> <span data-start="162.04" data-end="164.26">this is just from some random java.net</span> <span data-start="164.26" data-end="166.69">article but it really has i think many</span> <span data-start="166.69" data-end="168.34">of the core ideas and many of the ideas</span> <span data-start="168.34" data-end="170.23">that are talked about here i think are</span> <span data-start="170.23" data-end="173.23">items that well they are the particular</span> <span data-start="173.23" data-end="175.54">means that i use to implement my own way</span> <span data-start="175.54" data-end="179.47">to address this connection limit and the</span> <span data-start="179.47" data-end="181.66">idea really is to have some sort of pool</span> <span data-start="181.66" data-end="184.09">being run by this is particularly</span> <span data-start="184.09" data-end="187.84">talking about server sent events which</span> <span data-start="187.84" data-end="189.25">is another way of sending data to the</span> <span data-start="189.25" data-end="191.25">browser and the server sent events plan</span> <span data-start="191.25" data-end="193.72">you have a TCP connection that is</span> <span data-start="193.72" data-end="195.79">talking to each individual page so this</span> <span data-start="195.79" data-end="197.349">doesn't address the two connection limit</span> <span data-start="197.349" data-end="200.019">but this particular article is saying</span> <span data-start="200.019" data-end="202.06">well we can just have a pool some sort</span> <span data-start="202.06" data-end="204.819">of managed pool that's shared and then</span> <span data-start="204.819" data-end="206.68">from that shared pool we can designate</span> <span data-start="206.68" data-end="209.099">and send requests where they need to go</span> <span data-start="209.099" data-end="212.019">this is probably the best post I have</span> <span data-start="212.019" data-end="215.349">seen on the list James look here Jamie</span> <span data-start="215.349" data-end="219.19">look here I love this he's just talking</span> <span data-start="219.19" data-end="221.29">about what's required from multiplexing</span> <span data-start="221.29" data-end="223.48">how people would have to what's going to</span> <span data-start="223.48" data-end="226.03">be required to share a pipe to get a</span> <span data-start="226.03" data-end="228.27">pipe</span> <span data-start="228.27" data-end="230.39">a pipe that everyone can use together</span> <span data-start="230.39" data-end="233.19">and he's not specifically he doesn't</span> <span data-start="233.19" data-end="235.25">address the earlier points about the</span> <span data-start="235.25" data-end="238.47">connection the shared pool that's spoken</span> <span data-start="238.47" data-end="241.05">of here but in terms of how a shared</span> <span data-start="241.05" data-end="242.67">pool would be implemented and what needs</span> <span data-start="242.67" data-end="244.35">to go into a shared pool and how it</span> <span data-start="244.35" data-end="246">would work how we're going to route that</span> <span data-start="246" data-end="252.57">data this is just dead on and so it</span> <span data-start="252.57" data-end="254.37">seemed like a good challenge to be able</span> <span data-start="254.37" data-end="256.92">to try and get something working with</span> <span data-start="256.92" data-end="258.239">this to try and get some sort of</span> <span data-start="258.239" data-end="262.26">asynchronous HTTP Live running so I</span> <span data-start="262.26" data-end="267.27">wrote a very simple little system the</span> <span data-start="267.27" data-end="272.28">back end is nodejs implementation and</span> <span data-start="272.28" data-end="275.31">it's a message router it allows it's</span> <span data-start="275.31" data-end="278.46">simply a back-end for the backend server</span> <span data-start="278.46" data-end="281.03">it's a front-end proxy and it</span> <span data-start="281.03" data-end="284.16">multiplexes connections over HTTP and so</span> <span data-start="284.16" data-end="285.66">let's look at a test page this is the</span> <span data-start="285.66" data-end="288.69">test case the only really interesting</span> <span data-start="288.69" data-end="291.54">thing that's included here is piped xhr</span> <span data-start="291.54" data-end="293.67">j/s and that's my implementation of my</span> <span data-start="293.67" data-end="296.07">pipe system to be able to multiplex and</span> <span data-start="296.07" data-end="300.24">get a synchronous HTTP as you can see</span> <span data-start="300.24" data-end="302.91">the test case is pretty simple let's</span> <span data-start="302.91" data-end="305.34">open an exit xmlhttprequest let's get</span> <span data-start="305.34" data-end="309.48">some data and then do something to then</span> <span data-start="309.48" data-end="310.47">when we're done we're just going to</span> <span data-start="310.47" data-end="313.23">change with the page says a really</span> <span data-start="313.23" data-end="321.15">simple idea is your pipe got xhr</span> <span data-start="321.15" data-end="324.48">overload it does that is exactly what it</span> <span data-start="324.48" data-end="328.44">does it overloads xml httprequest and so</span> <span data-start="328.44" data-end="331.59">you get it very simple easy to use code</span> <span data-start="331.59" data-end="335.04">and yet behind the scenes nodejs is</span> <span data-start="335.04" data-end="336.78">routing all of these requests through</span> <span data-start="336.78" data-end="339.93">itself there's random useless logs it</span> <span data-start="339.93" data-end="341.16">doesn't really sit anything interesting</span> <span data-start="341.16" data-end="346.14">but that's not —  j/s in action so yeah</span> <span data-start="346.14" data-end="350.4">like hit it we have this data you can</span> <span data-start="350.4" data-end="352.58">see that what we're asking for is</span> <span data-start="352.58" data-end="356.04">resource study text you can see a</span> <span data-start="356.04" data-end="359.28">resource text is fulfilled through it</span> <span data-start="359.28" data-end="360.33">goes through there's a bunch of</span> <span data-start="360.33" data-end="361.449">different the seasons</span> <span data-start="361.449" data-end="363.169">goes through a bunch of different</span> <span data-start="363.169" data-end="366.199">filters and it gets to the x-pipe filter</span> <span data-start="366.199" data-end="368.179">and the x-pipe filter is what implements</span> <span data-start="368.179" data-end="371.059">the x-pipe routing then we'll look at</span> <span data-start="371.059" data-end="375.289">this take another view of this data and</span> <span data-start="375.289" data-end="383.689">look at what's happening so here's the</span> <span data-start="383.689" data-end="385.909">request being sent out when the request</span> <span data-start="385.909" data-end="388.339">is sent out it creates its own pipe it</span> <span data-start="388.339" data-end="390.109">just generates its own random ID for</span> <span data-start="390.109" data-end="392.629">this pipe and then the pipe and then the</span> <span data-start="392.629" data-end="394.249">response back to it when it gets the</span> <span data-start="394.249" data-end="396.499">data back we can see that the pipe this</span> <span data-start="396.499" data-end="399.199">message is tagged with a pipe again and</span> <span data-start="399.199" data-end="400.819">there's now a sequence with it the</span> <span data-start="400.819" data-end="402.439">sequence will just increment each time</span> <span data-start="402.439" data-end="413.479">this particular pipe is used so it's</span> <span data-start="413.479" data-end="425.91">just oops</span> <span data-start="425.92" data-end="427.96">it's a delay filter in here so I can</span> <span data-start="427.96" data-end="430.27">just this will make a request hang for a</span> <span data-start="430.27" data-end="431.71">little bit it'll just wait for a while</span> <span data-start="431.71" data-end="433.09">and then I'll be like oh here's your</span> <span data-start="433.09" data-end="443.38">data back we're still running good I did</span> <span data-start="443.38" data-end="485.02">not clear what I wanted in</span> <span data-start="485.03" data-end="488.7">well rather than try and demos the point</span> <span data-start="488.7" data-end="489.78">of what it's doing is it's creating</span> <span data-start="489.78" data-end="491.76">these individual pipes and this these</span> <span data-start="491.76" data-end="493.92">identifiers these tags on the messages</span> <span data-start="493.92" data-end="496.02">these headers give it a multi a way to</span> <span data-start="496.02" data-end="498.24">address each message and so rather than</span> <span data-start="498.24" data-end="500.49">have a request-response framework now</span> <span data-start="500.49" data-end="502.41">what we have is we have HTTP sending</span> <span data-start="502.41" data-end="505.95">requests out HTTP asking saying here's</span> <span data-start="505.95" data-end="507.57">this request and then when the response</span> <span data-start="507.57" data-end="509.46">comes back the response can be to any</span> <span data-start="509.46" data-end="511.65">message it's not necessarily going to be</span> <span data-start="511.65" data-end="514.46">in response to the message that was</span> <span data-start="514.46" data-end="518.43">originally the a message that is a reply</span> <span data-start="518.43" data-end="521.46">is not necessarily going to be to the</span> <span data-start="521.46" data-end="522.66">given message from which it was</span> <span data-start="522.66" data-end="526.05">requested so you're basically instead of</span> <span data-start="526.05" data-end="528.57">opening up a dedicated common connection</span> <span data-start="528.57" data-end="530.67">for every one of those xhr objects</span> <span data-start="530.67" data-end="533.39">you're opening up one comment and you're</span> <span data-start="533.39" data-end="535.86">basically piping all these other ones</span> <span data-start="535.86" data-end="538.8">through the single connection I eat yep</span> <span data-start="538.8" data-end="540.87">that is that is exactly what's going on</span> <span data-start="540.87" data-end="542.85">it's all be multiplexed and the way that</span> <span data-start="542.85" data-end="547.47">that is done mouse where are you hi all</span> <span data-start="547.47" data-end="549.66">right so this is weird i don't have the</span> <span data-start="549.66" data-end="552">splash screen need to do more than one</span> <span data-start="552" data-end="556.53">but not one to one so right now you just</span> <span data-start="556.53" data-end="558.57">you went from there's no way to have</span> <span data-start="558.57" data-end="561.18">multiple down to one could you do by yes</span> <span data-start="561.18" data-end="563.43">yes the idea is to take as much</span> <span data-start="563.43" data-end="565.44">advantage of the existing pipelining</span> <span data-start="565.44" data-end="567.75">system as possible so you can issue a</span> <span data-start="567.75" data-end="570.57">large pipeline of requests and then be</span> <span data-start="570.57" data-end="572.73">able to get them back as in whatever out</span> <span data-start="572.73" data-end="574.77">of order system you want and so kind of</span> <span data-start="574.77" data-end="579.54">the model for this is uh we'll have like</span> <span data-start="579.54" data-end="581.4">a couple different web pages open here</span> <span data-start="581.4" data-end="584.58">and then the magic that runs all of this</span> <span data-start="584.58" data-end="586.53">there's a very simple implementation of</span> <span data-start="586.53" data-end="589.11">a shared router excuse me a shared</span> <span data-start="589.11" data-end="590.81">worker shared workers are in html5</span> <span data-start="590.81" data-end="593.34">creation and the shared worker the</span> <span data-start="593.34" data-end="595.53">center item here is talking to each</span> <span data-start="595.53" data-end="598.56">individual page and what happens is when</span> <span data-start="598.56" data-end="602.52">you look at the xmlhttprequest when this</span> <span data-start="602.52" data-end="605.88">happens the proxy is talking to the</span> <span data-start="605.88" data-end="608.07">shared worker it's sending the</span> <span data-start="608.07" data-end="610.35">xmlhttprequest to the shared worker and</span> <span data-start="610.35" data-end="612.15">then the shared worker on behalf of the</span> <span data-start="612.15" data-end="614.46">page issues the request over to the</span> <span data-start="614.46" data-end="616.62">server and so this is going to be our</span> <span data-start="616.62" data-end="619.48">node.js server</span> <span data-start="619.49" data-end="624.86">dude I can't draw that's no secret each</span> <span data-start="624.86" data-end="630.14">character / awesome and yes um so it</span> <span data-start="630.14" data-end="633.62">talks to node and then node goes a node</span> <span data-start="633.62" data-end="635.33">goes off and does whatever a sink in</span> <span data-start="635.33" data-end="637.64">asynchronous processing it needs to with</span> <span data-start="637.64" data-end="639.74">this request that does something fancy</span> <span data-start="639.74" data-end="640.88">asynchronous and then at some point</span> <span data-start="640.88" data-end="644.12">later back in time it comes back that</span> <span data-start="644.12" data-end="647.45">the the data comes back and it will come</span> <span data-start="647.45" data-end="650.089">back node will send it out over whatever</span> <span data-start="650.089" data-end="652.55">particular TCP connections or whatever</span> </p>
<p><span data-start="652.55" data-end="655.43">HTTP connections are open and again it's</span> <span data-start="655.43" data-end="657.11">decoupled so it's not necessarily going</span> <span data-start="657.11" data-end="659.75">to be the same same item back and then</span> <span data-start="659.75" data-end="661.399">it will get routed back to from it's</span> <span data-start="661.399" data-end="663.95">over to its original destination and</span> <span data-start="663.95" data-end="665.87">this allows this common having this</span> <span data-start="665.87" data-end="667.64">common shared workers really kind of the</span> <span data-start="667.64" data-end="674.48">key it is very much I mean this idea is</span> <span data-start="674.48" data-end="676.52">really dead on we they were talking</span> <span data-start="676.52" data-end="679.88">about having a to handle the per server</span> <span data-start="679.88" data-end="682.06">connection limitation a shared worker</span> <span data-start="682.06" data-end="684.26">which shares a single event source</span> <span data-start="684.26" data-end="686.57">object can be used and so it's not a</span> <span data-start="686.57" data-end="688.88">single event source object it's the</span> <span data-start="688.88" data-end="690.95">shared worker is making a crap ton of</span> </p>
<p><span data-start="690.95" data-end="694.85">XML HTTP requests but it's getting when</span> <span data-start="694.85" data-end="697.1">I'd ever whenever it gets a response its</span> <span data-start="697.1" data-end="699.079">using that tagging do I still have</span> <span data-start="699.079" data-end="702.02">anything in do i do still have some data</span> <span data-start="702.02" data-end="706.68">yeah</span> <span data-start="706.69" data-end="709.6">it's using each messages individual tag</span> <span data-start="709.6" data-end="714.7">to route it back to the worker really so</span> <span data-start="714.7" data-end="718.93">the shared worker that's yes it's an</span> <span data-start="718.93" data-end="721.66">html5 thing yeah client-side okay so</span> <span data-start="721.66" data-end="724.09">that's how I can talk to everybody yes</span> <span data-start="724.09" data-end="726.52">yeah the shared worker is really the key</span> <span data-start="726.52" data-end="727.6">thing here that makes all of this</span> <span data-start="727.6" data-end="728.95">possible is the fact that we can have</span> <span data-start="728.95" data-end="730.72">this delegated responsibility for</span> <span data-start="730.72" data-end="732.52">actually making these connections in a</span> <span data-start="732.52" data-end="734.92">common place for all pages so really a</span> <span data-start="734.92" data-end="736.99">the idea for that was talking about</span> <span data-start="736.99" data-end="739.69">earlier this Chrome extension that I'd</span> <span data-start="739.69" data-end="741.43">written where I have every single tab</span> <span data-start="741.43" data-end="743.71">every single tab I have open and chrome</span> <span data-start="743.71" data-end="747.04">is issuing a comment request to my own</span> <span data-start="747.04" data-end="749.77">server well that was having that shared</span> <span data-start="749.77" data-end="753.58">worker allows me to share that one pool</span> <span data-start="753.58" data-end="755.74">of resources shared the shared worker as</span> <span data-start="755.74" data-end="757.66">a shared resource pool that's really</span> <span data-start="757.66" data-end="760.92">that's all I've done it's really simple</span> <span data-start="760.92" data-end="765.37">it's been really fun the shed work is</span> <span data-start="765.37" data-end="770.11">today cash the caching I have not yet</span> <span data-start="770.11" data-end="771.52">implemented I do want to implement</span> <span data-start="771.52" data-end="772.84">caching but I have to re-implement</span> <span data-start="772.84" data-end="776.1">caching at the in an application level</span> <span data-start="776.1" data-end="781.36">so there is work required there I'm just</span> <span data-start="781.36" data-end="783.58">wondering if it was normally if you pull</span> <span data-start="783.58" data-end="789.21">down some cogency cash it mm-hmm</span> <span data-start="789.22" data-end="792.649">there's no module for that that's I'm</span> <span data-start="792.649" data-end="795.339">repurposing the there's an app for that</span> <span data-start="795.339" data-end="799.579">hahaha very good um that's it if anybody</span> <span data-start="799.579" data-end="803.3">has any question any more questions I'd</span> <span data-start="803.3" data-end="815.639">unicode yeah uh code is up and it is a</span> <span data-start="815.649" data-end="820.73">see get booty where's calm / huh see its</span> <span data-start="820.73" data-end="825.949">particular about this actually Shh oops</span> <span data-start="825.949" data-end="829.73">and / the project is pi player I'm</span> <span data-start="829.73" data-end="830.839">laying new pipes for the web</span> <span data-start="830.839" data-end="833.93">infrastructure I don't know if it's</span> <span data-start="833.93" data-end="835.91">better yet but uh it allows me to run</span> <span data-start="835.91" data-end="841.47">300 gamma connections so so start there</span> </p>
<p><span data-start="841.47" data-end="843.99">Oh back to what I was trying to ask</span> <span data-start="843.99" data-end="847.08">earlier I'm sorry you've got one shared</span> <span data-start="847.08" data-end="849.54">worker yes is there any benefit or is</span> <span data-start="849.54" data-end="852">there even any capability to have five</span> <span data-start="852" data-end="854.01">shared workers the whole it up a</span> <span data-start="854.01" data-end="858">thousand connections I don't think</span> <span data-start="858" data-end="860.7">there's really a benefit you could if</span> <span data-start="860.7" data-end="862.44">you wanted to you could isolate the</span> <span data-start="862.44" data-end="865.11">pipes like if for whatever reason you</span> <span data-start="865.11" data-end="866.91">wanted like I don't know high security</span> <span data-start="866.91" data-end="869.28">your low scary a or B you could run</span> <span data-start="869.28" data-end="871.32">multiple shared workers and talk you</span> <span data-start="871.32" data-end="876.54">need to does it create one shared worker</span> <span data-start="876.54" data-end="879.57">for each target location like my</span> <span data-start="879.57" data-end="882.33">question is if I wanted to talk to five</span> <span data-start="882.33" data-end="884.79">different servers five different shared</span> <span data-start="884.79" data-end="887.22">workers no you each shared worker is</span> <span data-start="887.22" data-end="889.14">capable of doing all of the routing for</span> <span data-start="889.14" data-end="892.58">all of XML HTTP in flight and so it will</span> <span data-start="892.58" data-end="894.93">the shared work role gracefully degrade</span> <span data-start="894.93" data-end="896.7">if you're not running the pipe layering</span> <span data-start="896.7" data-end="900.81">system so you can access / calm / org</span> <span data-start="900.81" data-end="904.44">and it will still go through the shared</span> <span data-start="904.44" data-end="907.17">worker out to / get back and then get</span> <span data-start="907.17" data-end="909.45">routed back to the page there's no need</span> <span data-start="909.45" data-end="911.49">to run multiple shared workers it's it</span> <span data-start="911.49" data-end="914.94">is the new xmlhttprequest it fully tries</span> <span data-start="914.94" data-end="916.65">to emulate it in every way possible and</span> <span data-start="916.65" data-end="918.75">there's just one shared worker is the</span> <span data-start="918.75" data-end="920.88">model it was designed in that will run</span> <span data-start="920.88" data-end="923.07">power and route messages into and out of</span> <span data-start="923.07" data-end="925.68">it for where it needs to go so it's a</span> <span data-start="925.68" data-end="926.64">progressive</span> <span data-start="926.64" data-end="929.07">it is a progressive enhancement ability</span> <span data-start="929.07" data-end="934.44">back yep presumably common style stuff</span> <span data-start="934.44" data-end="936.99">in the back I'm working that's one of</span> <span data-start="936.99" data-end="938.04">the things I really would have loved to</span> <span data-start="938.04" data-end="940.35">demo one of the other big influences for</span> <span data-start="940.35" data-end="942.78">all of this has been reversed HTTP and</span> <span data-start="942.78" data-end="945.27">all the various push systems I'm really</span> <span data-start="945.27" data-end="949.29">a fan of l shift Tony Tony G Tony's</span> <span data-start="949.29" data-end="952.38">named Tony G he had this L ships had a</span> <span data-start="952.38" data-end="954.45">pretty good project called reverse HTTP</span> <span data-start="954.45" data-end="955.71">where they did a pretty good job of</span> <span data-start="955.71" data-end="961.74">taking like second life mark was it the</span> <span data-start="961.74" data-end="964.14">second life guys have been doing in</span> <span data-start="964.14" data-end="966.54">verse HTTP for a while and he took that</span> <span data-start="966.54" data-end="968.91">up and he wrote so it's there's like a</span> <span data-start="968.91" data-end="970.8">registration system on one side of it</span> <span data-start="970.8" data-end="975.48">where you're it's pretty crazy but he</span> <span data-start="975.48" data-end="977.76">wrote a really nice reverse HTTP system</span> <span data-start="977.76" data-end="979.44">has a bunch of interesting features and</span> <span data-start="979.44" data-end="981.09">that was a big inspiration and so the</span> <span data-start="981.09" data-end="984.87">piping also there was a sequence because</span> <span data-start="984.87" data-end="986.91">you can see this story is that it works</span> <span data-start="986.91" data-end="989.22">it works today everywhere it works</span> <span data-start="989.22" data-end="993">better with new technology hring pi</span> <span data-start="993" data-end="995.61">using a limited amount of pipes if you</span> <span data-start="995.61" data-end="997.8">have a limited pipe space it will give</span> <span data-start="997.8" data-end="1001.49">you much more bumps if your server it</span> <span data-start="1001.49" data-end="1003.08">will give you a much wider pipe</span> <span data-start="1003.08" data-end="1005.63">utilization if the server has those</span> <span data-start="1005.63" data-end="1009.32">pipes available there still I mean if</span> <span data-start="1009.32" data-end="1011.78">the if the shared worker doesn't have an</span> <span data-start="1011.78" data-end="1013.85">x-pipe and doesn't have a sex sequence</span> <span data-start="1013.85" data-end="1016.13">it doesn't know where to route it and it</span> <span data-start="1016.13" data-end="1018.13">can only use native dumb xmlhttprequest</span> <span data-start="1018.13" data-end="1020.09">it can't use any of their progressive</span> <span data-start="1020.09" data-end="1021.44">enhancements so you're still going to be</span> <span data-start="1021.44" data-end="1024.17">stuck with whatever ajax limitations you</span> <span data-start="1024.17" data-end="1029.57">have common limitations you already have</span> <span data-start="1029.58" data-end="1031.32">speaking of progressive enhancement like</span> <span data-start="1031.32" data-end="1033.03">by going through that shared router</span> <span data-start="1033.03" data-end="1036.45">would you be able to also like negotiate</span> <span data-start="1036.45" data-end="1038.12">with the client if it does WebSockets</span> <span data-start="1038.12" data-end="1040.44">that kind of thing or negotiate with the</span> <span data-start="1040.44" data-end="1043.29">server that you can drop down to the</span> <span data-start="1043.29" data-end="1046.89">lower level but HTTP um I don't have any</span> <span data-start="1046.89" data-end="1048.42">lower levels this was all really built</span> <span data-start="1048.42" data-end="1051.12">to extend an embrace HTTP i really think</span> <span data-start="1051.12" data-end="1054.39">ish HTTP is the bee's knees so I that's</span> <span data-start="1054.39" data-end="1059.41">all I really that was my only real goal</span> <span data-start="1059.42" data-end="1061.74">this is something I was curious about I</span> <span data-start="1061.74" data-end="1063.93">mean there's obviously good there's even</span> <span data-start="1063.93" data-end="1065.55">though I also haven't had a little love</span> <span data-start="1065.55" data-end="1067.92">affair with their shitty foods there is</span> <span data-start="1067.92" data-end="1069.69">a lot of requests or header overhead</span> <span data-start="1069.69" data-end="1074.79">that you get we can get rid of it there</span> <span data-start="1074.79" data-end="1076.86">is definitely headers that you can get</span> <span data-start="1076.86" data-end="1080.25">rid of with WebSockets I I tend to abuse</span> <span data-start="1080.25" data-end="1084.93">headers is shown up here so I it I</span> <span data-start="1084.93" data-end="1087.24">haven't done anything with that I want</span> <span data-start="1087.24" data-end="1089.52">to actually back up a little bit to the</span> <span data-start="1089.52" data-end="1092.63">reverse pipe speaking to that one of the</span> <span data-start="1092.63" data-end="1095.1">features that is implemented in the</span> <span data-start="1095.1" data-end="1096.57">process of being implemented and what I</span> <span data-start="1096.57" data-end="1098.25">would have liked it not quite ready for</span> <span data-start="1098.25" data-end="1102.18">demo time yet but uh there is a based</span> <span data-start="1102.18" data-end="1104.64">off of the reverse HTTP work there is</span> <span data-start="1104.64" data-end="1106.85">sort of like an opera unite esque</span> <span data-start="1106.85" data-end="1113.01">reverse router so that like their this</span> <span data-start="1113.01" data-end="1116.91">page right here whatever that yeah this</span> <span data-start="1116.91" data-end="1118.92">page right here actually has an address</span> <span data-start="1118.92" data-end="1122.73">on the internet well it has an address</span> <span data-start="1122.73" data-end="1124.88">on the internet basically I guess yeah</span> <span data-start="1124.88" data-end="1128.19">so that I could issue a web hook I could</span> <span data-start="1128.19" data-end="1131.43">go to pub sub hubbub hook hook up this</span> <span data-start="1131.43" data-end="1134.78">page and say you know pub/sub</span> <span data-start="1134.78" data-end="1138.09">pubsubhubbub you need to notify my IP</span> <span data-start="1138.09" data-end="1140.64">address you need to notify my web server</span> <span data-start="1140.64" data-end="1142.83">whenever you get this data then the web</span> <span data-start="1142.83" data-end="1145.23">server will route that over to this page</span> <span data-start="1145.23" data-end="1147.42">so you can have web hooks in your web</span> <span data-start="1147.42" data-end="1150.6">page and that's like web hooks I think</span> <span data-start="1150.6" data-end="1152.67">are a pretty fantastic solution to being</span> <span data-start="1152.67" data-end="1154.92">able to do reverse and push and it</span> <span data-start="1154.92" data-end="1156.69">really works well because it's a great a</span> <span data-start="1156.69" data-end="1158.76">sinkers it's it's a very a synchronous</span> <span data-start="1158.76" data-end="1161.67">technology and it avoids the like long</span> <span data-start="1161.67" data-end="1162.419">polling</span> <span data-start="1162.419" data-end="1164.34">notion altogether of comment it's like</span> <span data-start="1164.34" data-end="1165.929">yes you can just run comment on this and</span> <span data-start="1165.929" data-end="1169.32">be naive and it will multiplex your 800</span> <span data-start="1169.32" data-end="1171.6">connections down into you know two pipes</span> <span data-start="1171.6" data-end="1173.519">one pipe it doesn't matter one HTTP</span> <span data-start="1173.519" data-end="1177.239">connection but the real that's that's</span> <span data-start="1177.239" data-end="1178.71">still a hack there's no reason to keep</span> <span data-start="1178.71" data-end="1181.019">those connections around just when you</span> <span data-start="1181.019" data-end="1183.359">get data send it over the pipe send it</span> <span data-start="1183.359" data-end="1186.09">back this pipe and that's also really a</span> <span data-start="1186.09" data-end="1188.279">very trivial implementation there's X</span> <span data-start="1188.279" data-end="1190.2">sequence which just grows up as you use</span> <span data-start="1190.2" data-end="1192.119">the pipe and again this is just</span> <span data-start="1192.119" data-end="1194.1">identification for each message so that</span> <span data-start="1194.1" data-end="1195.509">the shared worker knows where to route</span> <span data-start="1195.509" data-end="1198.48">it there's also that the inverse of this</span> <span data-start="1198.48" data-end="1201.72">is X our seek an XR seek is just that</span> <span data-start="1201.72" data-end="1203.909">reverse pipe when messages get are being</span> <span data-start="1203.909" data-end="1205.71">asserted to the pipe and the pipe has no</span> <span data-start="1205.71" data-end="1208.95">requests there it's it's data being</span> <span data-start="1208.95" data-end="1212.789">uploaded this is actually a x-pipe x</span> <span data-start="1212.789" data-end="1217.23">seek chris zip thank you a lot of this</span> <span data-start="1217.23" data-end="1220.769">idea came directly from dojo and x seek</span> <span data-start="1220.769" data-end="1222.84">they have their own x seek they don't</span> <span data-start="1222.84" data-end="1226.739">have india yeah they have x ID and x</span> <span data-start="1226.739" data-end="1228.929">seek yeah or the exige ID which I've</span> <span data-start="1228.929" data-end="1230.759">just identified so you can order your</span> <span data-start="1230.759" data-end="1232.559">transfer yeah it's a it's a few requests</span> <span data-start="1232.559" data-end="1235.32">if he's not order right yeah so that's</span> <span data-start="1235.32" data-end="1237.69">exactly it x seek was introduced to be</span> <span data-start="1237.69" data-end="1242.309">able to as I'm going to repeat x equals</span> <span data-start="1242.309" data-end="1244.499">introduced to be able to reorder HTTP</span> <span data-start="1244.499" data-end="1246.57">requests when they don't come in and</span> <span data-start="1246.57" data-end="1249.269">order in order and this is just saying</span> <span data-start="1249.269" data-end="1252.269">well rather than putting them into order</span> <span data-start="1252.269" data-end="1256.049">will will you know rii devise the order</span> <span data-start="1256.049" data-end="1257.879">it's a different it's a it's a different</span> <span data-start="1257.879" data-end="1259.2">rendition on the same idea I can't</span> <span data-start="1259.2" data-end="1260.7">precisely pin it down verbally for</span> <span data-start="1260.7" data-end="1262.169">exactly what it is but it's a similar</span> <span data-start="1262.169" data-end="1265.58">sort of ordering concept and that's</span> <span data-start="1265.58" data-end="1268.109">that's the implementation if I can't</span> <span data-start="1268.109" data-end="1269.85">walk you guys through most of it again</span> <span data-start="1269.85" data-end="1274.109">html5 on the client side is really what</span> <span data-start="1274.109" data-end="1275.609">powers this and then the backend is</span> <span data-start="1275.609" data-end="1278.899">awesome cool node.js code Thank You Raya</span> <span data-start="1278.899" data-end="1281.669">that's it any questions anyone else I</span> <span data-start="1281.669" data-end="1284.93">think we're done thank you all so much</span> </p>
</section>