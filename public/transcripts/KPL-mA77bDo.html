<section>
<p><span data-start="14.3" data-end="17.22">hi everyone so yeah today I'm gonna talk</span> <span data-start="17.22" data-end="19.56">about a couple of CSS fun facts that</span> <span data-start="19.56" data-end="21.3">I've collected over the years the kind</span> <span data-start="21.3" data-end="24.029">of things that were interesting to me</span> <span data-start="24.029" data-end="25.95">when I finally did understand them or</span> <span data-start="25.95" data-end="27.57">took me a very long time to figure out</span> <span data-start="27.57" data-end="29.64">and it is my hope that some of these</span> <span data-start="29.64" data-end="31.77">things are new to you or at least that</span> <span data-start="31.77" data-end="33.48">they are entertaining in some way and</span> <span data-start="33.48" data-end="35.55">I'm sure that at the end of the talk</span> <span data-start="35.55" data-end="37.53">you'll agree that CSS is much more</span> <span data-start="37.53" data-end="39.78">powerful and even more beautiful than</span> <span data-start="39.78" data-end="41.58">what we end up using it for in our day</span> <span data-start="41.58" data-end="46.23">to day jobs so first let me just quickly</span> <span data-start="46.23" data-end="49.29">introduce myself hi I'm Matthias I work</span> <span data-start="49.29" data-end="50.91">for Opera Software in developer</span> <span data-start="50.91" data-end="52.829">relations and before that I used to</span> <span data-start="52.829" data-end="54.78">freelance as a web developer a front-end</span> <span data-start="54.78" data-end="56.61">web developer so you could say I have</span> <span data-start="56.61" data-end="58.76">been dealing with CSS for a lot of years</span> <span data-start="58.76" data-end="61.469">now I like web standards in general</span> <span data-start="61.469" data-end="63.87">programming web security and working on</span> <span data-start="63.87" data-end="66.63">open source projects now if you have any</span> <span data-start="66.63" data-end="68.399">questions at all during this talk like</span> <span data-start="68.399" data-end="69.96">if you're watching the live stream or</span> <span data-start="69.96" data-end="71.759">whatever or watching this video later</span> <span data-start="71.759" data-end="73.68">just send me a message on twitter my</span> <span data-start="73.68" data-end="76.229">handle is just my first name Mattias and</span> </p>
<p><span data-start="76.229" data-end="78.06">I'll be sure to get back to you of</span> <span data-start="78.06" data-end="79.5">course if you're here today just come</span> <span data-start="79.5" data-end="81.659">talk to me afterwards and I'll be happy</span> <span data-start="81.659" data-end="84.75">to answer any questions you have now</span> <span data-start="84.75" data-end="87.21">let's get started let's start off with</span> <span data-start="87.21" data-end="88.56">everyone's favorite CSS feature</span> <span data-start="88.56" data-end="92.79">important yeah I'm sure you're all</span> <span data-start="92.79" data-end="94.56">familiar with what important does right</span> <span data-start="94.56" data-end="96.689">in a situation like this for example all</span> <span data-start="96.689" data-end="98.61">the elements with class bar get the</span> <span data-start="98.61" data-end="100.86">green color but all the elements with</span> <span data-start="100.86" data-end="102.75">class bar within an element with class</span> <span data-start="102.75" data-end="105.96">foo get a red color I'm sure I'm not</span> <span data-start="105.96" data-end="107.46">telling you anything new here and that</span> <span data-start="107.46" data-end="109.439">looks something like this so whenever</span> <span data-start="109.439" data-end="110.729">there is a conflict between two</span> <span data-start="110.729" data-end="113.25">selectors in CSS then by default the</span> <span data-start="113.25" data-end="115.59">last one in the source code wins but in</span> <span data-start="115.59" data-end="117.54">this case the specificity for both</span> <span data-start="117.54" data-end="119.939">selectors is different the one with the</span> <span data-start="119.939" data-end="122.52">highest specificity wins regardless of</span> <span data-start="122.52" data-end="124.65">the order in the source code so here the</span> <span data-start="124.65" data-end="126.36">specificity of the first selector with</span> <span data-start="126.36" data-end="127.89">the two class selectors in it is</span> <span data-start="127.89" data-end="129.989">actually higher than the specificity of</span> <span data-start="129.989" data-end="131.94">the last one and that's why the color is</span> <span data-start="131.94" data-end="135.269">red and not green again I'm sure this is</span> <span data-start="135.269" data-end="137.91">nothing new to you now in some</span> <span data-start="137.91" data-end="139.86">situations you may need to override an</span> <span data-start="139.86" data-end="142.47">earlier rule set so in this case you</span> <span data-start="142.47" data-end="144.15">want all elements with class bar to be</span> <span data-start="144.15" data-end="145.9">green despite of that other</span> <span data-start="145.9" data-end="148.72">is rule at the top there and it's cases</span> <span data-start="148.72" data-end="150.76">like this where important can be useful</span> <span data-start="150.76" data-end="152.89">you can just add importance to that last</span> <span data-start="152.89" data-end="154.75">statement there and it boosts that</span> <span data-start="154.75" data-end="158.23">single declaration precedents in CSS so</span> <span data-start="158.23" data-end="160.209">if you do that then the color in fact</span> <span data-start="160.209" data-end="163.269">will become green and again I'm sure</span> <span data-start="163.269" data-end="165.099">this is nothing new to you you know how</span> <span data-start="165.099" data-end="166.39">important works right</span> <span data-start="166.39" data-end="168.849">well what one surprised me here is that</span> <span data-start="168.849" data-end="170.709">important actually has nothing to do at</span> <span data-start="170.709" data-end="172.87">all with specificity it's actually a</span> <span data-start="172.87" data-end="175.299">completely different thing it boosts a</span> <span data-start="175.299" data-end="177.37">single declarations precedence without</span> <span data-start="177.37" data-end="179.109">affecting the specificity for the whole</span> <span data-start="179.109" data-end="183.43">selector now you may have heard that to</span> <span data-start="183.43" data-end="184.9">use of important is actually a bad</span> <span data-start="184.9" data-end="186.97">practice so you're not actually supposed</span> <span data-start="186.97" data-end="189.159">to be using it even though sometimes we</span> <span data-start="189.159" data-end="191.5">all do now the good news is now that we</span> <span data-start="191.5" data-end="192.549">know that there's a difference between</span> <span data-start="192.549" data-end="195.67">specificity and the use of importance we</span> <span data-start="195.67" data-end="197.62">can actually fake importance we can use</span> <span data-start="197.62" data-end="200.31">important without using importance and</span> <span data-start="200.31" data-end="202.42">instead of boosting the declarations</span> <span data-start="202.42" data-end="204.01">precedence we can just increase the</span> <span data-start="204.01" data-end="206.56">selector specificity so all we have to</span> <span data-start="206.56" data-end="208.72">do is just repeat the class name in the</span> <span data-start="208.72" data-end="209.859">last lecture a couple of hundred times</span> <span data-start="209.859" data-end="212.709">and every time you do that you boost the</span> <span data-start="212.709" data-end="214.569">selector specificity so if you just do</span> <span data-start="214.569" data-end="216.579">that enough times automatically this</span> <span data-start="216.579" data-end="220.75">selector will eventually win and just to</span> <span data-start="220.75" data-end="222.22">show you that this actually works it</span> <span data-start="222.22" data-end="224.349">does and in this case we only need to</span> <span data-start="224.349" data-end="227.319">repeat the class name once if it's twice</span> <span data-start="227.319" data-end="229.629">there if it's there twice it will be the</span> <span data-start="229.629" data-end="231.159">strongest one the specificity will be</span> <span data-start="231.159" data-end="233.769">highest and it will win so there you</span> <span data-start="233.769" data-end="235">have it I know it's still early in the</span> <span data-start="235" data-end="236.379">morning but already we've established</span> <span data-start="236.379" data-end="239.26">our new best practice of the day yay</span> <span data-start="239.26" data-end="243.489">not really okay so let's talk about farm</span> <span data-start="243.489" data-end="247.359">family names and CSS now let's do a show</span> <span data-start="247.359" data-end="248.709">of hands if you've heard this one before</span> <span data-start="248.709" data-end="250.87">if there's whitespace in the font family</span> <span data-start="250.87" data-end="255.4">name it must be quoted no no one is</span> <span data-start="255.4" data-end="257.199">certain before okay I got this off the</span> <span data-start="257.199" data-end="260.65">w3c CSS validator it used to give this</span> <span data-start="260.65" data-end="262.84">message to anywhere when you had some</span> </p>
<p><span data-start="262.84" data-end="265.72">CSS like this one font family come comic</span> <span data-start="265.72" data-end="267.76">sans ms and you forgot the quotes around</span> <span data-start="267.76" data-end="269.919">it it would give you the warning hey you</span> <span data-start="269.919" data-end="271.36">should you're supposed to be quoting</span> <span data-start="271.36" data-end="274.24">this so for a very long time I was</span> <span data-start="274.24" data-end="275.979">afraid of having white space in font</span> <span data-start="275.979" data-end="277.45">family names without using quotes around</span> <span data-start="277.45" data-end="278.139">it</span> <span data-start="278.139" data-end="280.3">but a couple of years later I actually</span> <span data-start="280.3" data-end="282.4">found out that this doesn't really make</span> <span data-start="282.4" data-end="284.379">a lot of sense at all spaces are not</span> <span data-start="284.379" data-end="286.03">problematic and found family names</span> <span data-start="286.03" data-end="288.189">usually if the font family name is a</span> <span data-start="288.189" data-end="290.439">space separated set of CSS identifiers</span> <span data-start="290.439" data-end="291.939">there's no problem at all</span> <span data-start="291.939" data-end="293.65">so if you want to use Comic Sans a mess</span> <span data-start="293.65" data-end="295.36">you don't actually need the codes the</span> </p>
<p><span data-start="295.36" data-end="297.249">CSS will still be valid and it will</span> <span data-start="297.249" data-end="298.93">still work exactly the same way in all</span> <span data-start="298.93" data-end="301.659">browsers now there's a lot of exact</span> <span data-start="301.659" data-end="303.49">rules and description and exceptions</span> <span data-start="303.49" data-end="305.379">here if you want you can check out the</span> <span data-start="305.379" data-end="306.879">URL in the middle of this slide for all</span> <span data-start="306.879" data-end="309.49">the details but trust me when I say that</span> <span data-start="309.49" data-end="311.02">in this case we can simply omit the</span> <span data-start="311.02" data-end="312.61">quotes and everything will still work</span> <span data-start="312.61" data-end="315.009">exactly the same way in fact there are</span> <span data-start="315.009" data-end="316.389">other things that are much more</span> <span data-start="316.389" data-end="318.52">dangerous than whitespace in film family</span> <span data-start="318.52" data-end="321.189">names here's an example let's say we</span> <span data-start="321.189" data-end="324.849">have a Fonz named 4 5 6 . street now</span> <span data-start="324.849" data-end="326.409">because this film family name starts</span> <span data-start="326.409" data-end="328.509">with a digit it's no longer of valid CSS</span> <span data-start="328.509" data-end="332.139">identifiers so this rule won't actually</span> <span data-start="332.139" data-end="334.289">silently be ignored it's not valid CSS</span> <span data-start="334.289" data-end="337.36">now the way to fix that is to make it a</span> <span data-start="337.36" data-end="338.979">valid identifier and we can do that by</span> <span data-start="338.979" data-end="341.169">escaping that first digit there and that</span> <span data-start="341.169" data-end="344.229">will look something like this now we get</span> <span data-start="344.229" data-end="347.349">backslash 3 4 5 6 . street and that's</span> <span data-start="347.349" data-end="348.819">kind of weird right because the font</span> <span data-start="348.819" data-end="351.339">family name is 4 5 6 birria street but</span> <span data-start="351.339" data-end="354.669">now it says 3 4 5 6 and there's a space</span> <span data-start="354.669" data-end="356.11">and there's a backslash and it's all</span> <span data-start="356.11" data-end="358.06">just a little bit crazy and this is</span> <span data-start="358.06" data-end="359.379">probably not code that you want to be</span> <span data-start="359.379" data-end="363.49">writing or maintaining now how else can</span> <span data-start="363.49" data-end="364.899">we resolve this problem well of course</span> <span data-start="364.899" data-end="367.18">you guessed it we can just use quotes</span> <span data-start="367.18" data-end="370.719">around the font family name so whenever</span> <span data-start="370.719" data-end="372.699">you're in doubt I would say just always</span> <span data-start="372.699" data-end="374.74">use the quotes it avoids a lot of</span> <span data-start="374.74" data-end="377.139">problems and it's you know it that way</span> <span data-start="377.139" data-end="378.37">you don't have to think about all these</span> <span data-start="378.37" data-end="380.62">issues that might pop up but the thing I</span> <span data-start="380.62" data-end="382.089">learned here is that there is no need to</span> <span data-start="382.089" data-end="383.319">use the quotes just because of</span> <span data-start="383.319" data-end="387.759">whitespace that's just not true now I</span> <span data-start="387.759" data-end="389.349">really wanted to understand how all this</span> <span data-start="389.349" data-end="392.169">works and so I ended up making a small</span> <span data-start="392.169" data-end="394.33">tool for it so you can enter any font</span> <span data-start="394.33" data-end="395.949">family name in there and it will tell</span> <span data-start="395.949" data-end="398.229">you if it can be used without the quotes</span> <span data-start="398.229" data-end="403.12">in CSS or not now let's take a closer</span> <span data-start="403.12" data-end="405.55">look at attribute values in HTML and CSS</span> <span data-start="405.55" data-end="409.839">as you probably know in both HTML CSS we</span> <span data-start="409.839" data-end="411">can use quotes around</span> <span data-start="411" data-end="413.52">tribute failures I'm sure that's not big</span> <span data-start="413.52" data-end="414.21">news for you</span> <span data-start="414.21" data-end="415.89">so here we have an anchor element with</span> <span data-start="415.89" data-end="418.68">an HR f of foo and then in the CSS style</span> <span data-start="418.68" data-end="420.93">block we select that same element based</span> <span data-start="420.93" data-end="423.6">on its attribute value and then we give</span> <span data-start="423.6" data-end="427.38">it a nice hot pink background now in</span> <span data-start="427.38" data-end="429.24">some cases like in this example we can</span> <span data-start="429.24" data-end="430.59">actually omit these quotes and</span> <span data-start="430.59" data-end="432.78">everything still works fine the HTML is</span> <span data-start="432.78" data-end="434.52">still valid the CSS is still valid and</span> <span data-start="434.52" data-end="436.38">the result looks the same in every</span> <span data-start="436.38" data-end="438.98">browser there's no problems whatsoever</span> <span data-start="438.98" data-end="442.17">however it's important to note that the</span> <span data-start="442.17" data-end="443.1">rules for unquoted</span> <span data-start="443.1" data-end="444.84">attribute values actually differ between</span> </p>
<p><span data-start="444.84" data-end="448.56">HTML and CSS in this example the HTML is</span> <span data-start="448.56" data-end="450.6">valid the attribute value is through</span> <span data-start="450.6" data-end="453.87">pipe bar but the CSS actually is invalid</span> <span data-start="453.87" data-end="455.73">in this case and it won't work it will</span> <span data-start="455.73" data-end="457.8">actually silently be ignored and there</span> <span data-start="457.8" data-end="460.29">will no be no beautiful hot pink in this</span> <span data-start="460.29" data-end="463.68">example at all so how do we resolve this</span> <span data-start="463.68" data-end="465.75">again you guessed it all you have to do</span> <span data-start="465.75" data-end="469.11">is just use the quotes and in this case</span> <span data-start="469.11" data-end="471.21">it's only really necessary to use quotes</span> <span data-start="471.21" data-end="474.45">for the CSS version but in general the</span> <span data-start="474.45" data-end="476.19">same advice holds it's probably best to</span> <span data-start="476.19" data-end="478.05">just always wrap your attribute values</span> <span data-start="478.05" data-end="480.39">in quotes both in HTML and in CSS</span> <span data-start="480.39" data-end="482.37">because it's that way you just don't</span> <span data-start="482.37" data-end="483.75">have to think about all these potential</span> <span data-start="483.75" data-end="485.49">issues and about the difference between</span> </p>
<p><span data-start="485.49" data-end="490.05">HTML and CSS rules I really wanted to</span> <span data-start="490.05" data-end="492.6">understand this as well so and all these</span> <span data-start="492.6" data-end="495.06">real differences between HTML and CSS so</span> <span data-start="495.06" data-end="497.34">I ended up making another tool and you</span> <span data-start="497.34" data-end="498.93">can enter any value it will instantly</span> <span data-start="498.93" data-end="500.4">tell you if it can be used as an</span> <span data-start="500.4" data-end="501.03">uncrowded</span> <span data-start="501.03" data-end="503.7">attribute value in HTML and in CSS and</span> <span data-start="503.7" data-end="505.65">as you can see in some cases the result</span> <span data-start="505.65" data-end="507.24">is actually different between these two</span> <span data-start="507.24" data-end="511.83">languages okay another thing I learned</span> <span data-start="511.83" data-end="515.839">something new about is CSS comment as</span> <span data-start="515.839" data-end="518.849">you probably know this is the only</span> <span data-start="518.849" data-end="521.099">common syntax that CSS sports it starts</span> <span data-start="521.099" data-end="523.289">with a slash followed by an asterisk and</span> <span data-start="523.289" data-end="524.85">then it ends with an asterisk followed</span> <span data-start="524.85" data-end="526.77">by another slash and anything in between</span> <span data-start="526.77" data-end="528.63">those two things will become part of a</span> <span data-start="528.63" data-end="530.88">comment even if it's like a newline</span> <span data-start="530.88" data-end="532.86">character so it becomes it can become a</span> <span data-start="532.86" data-end="537.089">multi-line comments that way now that's</span> <span data-start="537.089" data-end="538.5">why this example works the way you</span> <span data-start="538.5" data-end="540.99">expect it to the color colon rats rule</span> <span data-start="540.99" data-end="543.6">it won't up be affected</span> <span data-start="543.6" data-end="545.19">it will silently big nor because it's</span> <span data-start="545.19" data-end="550.079">part of a commons now lots of other</span> <span data-start="550.079" data-end="551.49">programming language have another</span> <span data-start="551.49" data-end="554.519">comment line syntax as well this is the</span> <span data-start="554.519" data-end="556.98">single line comments index and it uses</span> <span data-start="556.98" data-end="559.41">just two slashes and everything else on</span> <span data-start="559.41" data-end="561.569">the same line will be ignored in that</span> <span data-start="561.569" data-end="563.73">case however CSS doesn't support this</span> <span data-start="563.73" data-end="565.47">syntax it doesn't have the concept of</span> <span data-start="565.47" data-end="567.899">single line comments so this is actually</span> <span data-start="567.899" data-end="569.04">invalid CSS</span> <span data-start="569.04" data-end="571.47">however what surprised me about this is</span> <span data-start="571.47" data-end="573.87">that this specific example would</span> <span data-start="573.87" data-end="575.459">actually work the way we'd expect it to</span> <span data-start="575.459" data-end="577.74">the line with color : rat</span> <span data-start="577.74" data-end="580.23">will not have any effect so what's going</span> <span data-start="580.23" data-end="582.839">on there well it turns out that property</span> <span data-start="582.839" data-end="584.88">names in CSS are supposed to be valid</span> </p>
<p><span data-start="584.88" data-end="589.5">CSS identifiers and identifiers cannot</span> <span data-start="589.5" data-end="591.389">contain unescape slashes and because of</span> <span data-start="591.389" data-end="593.579">that this one rule fails to parse and</span> <span data-start="593.579" data-end="595.649">CSS just skips it moves on to the next</span> <span data-start="595.649" data-end="598.949">one and then applies that now it would</span> <span data-start="598.949" data-end="600.48">be different if the property name that</span> <span data-start="600.48" data-end="602.43">we're using was a valid identifier</span> <span data-start="602.43" data-end="604.199">because then the CSS would be parsed</span> <span data-start="604.199" data-end="607.44">just fine however CSS grammar also</span> <span data-start="607.44" data-end="609.63">states that rules for unknown properties</span> <span data-start="609.63" data-end="611.91">are silently ignored so this gives us</span> <span data-start="611.91" data-end="613.8">another way to fake a single line</span> <span data-start="613.8" data-end="616.8">comment in CSS we could just use the</span> </p>
<p><span data-start="616.8" data-end="618.93">British spelling or we could just make</span> <span data-start="618.93" data-end="620.43">some typos in the property name and</span> <span data-start="620.43" data-end="622.079">that's kind of crazy and you should</span> <span data-start="622.079" data-end="624.029">never deliberately do this probably but</span> <span data-start="624.029" data-end="626.009">it kind of works in the sense that the</span> <span data-start="626.009" data-end="630.569">rule is silently ignored now tap Atkins</span> <span data-start="630.569" data-end="632.939">has an excellent blog post that explains</span> <span data-start="632.939" data-end="634.589">these tricks and it's a good way to</span> <span data-start="634.589" data-end="636.689">learn a little bit about CSS grammar and</span> <span data-start="636.689" data-end="639.72">about how CSS error handling works so</span> <span data-start="639.72" data-end="643.56">check it out there's something else</span> <span data-start="643.56" data-end="645.18">that's related to CSS that I would like</span> <span data-start="645.18" data-end="646.889">to show you but before I can do that we</span> <span data-start="646.889" data-end="648.75">need to talk about HTML tags for a</span> <span data-start="648.75" data-end="650.759">little while now does anyone know the</span> <span data-start="650.759" data-end="652.5">difference between HTML tags and</span> <span data-start="652.5" data-end="654.569">elements let's do a quick show of hands</span> <span data-start="654.569" data-end="656.759">okay not a lot of people are confident</span> <span data-start="656.759" data-end="658.079">in the difference so I'll just briefly</span> <span data-start="658.079" data-end="660.93">explain it tags are the things that you</span> <span data-start="660.93" data-end="662.819">type into your code editor when you're</span> <span data-start="662.819" data-end="665.25">editing an HTML page so for example if</span> <span data-start="665.25" data-end="666.779">you have a paragraph element on your</span> <span data-start="666.779" data-end="669.81">page you can have a star tag to open the</span> <span data-start="669.81" data-end="671.97">paragraph element and an end tag to</span> <span data-start="671.97" data-end="675.12">close that P elements those are tags but</span> <span data-start="675.12" data-end="677.03">as soon as your document is part</span> <span data-start="677.03" data-end="679.19">by the browser it becomes a Dom a</span> <span data-start="679.19" data-end="680.96">document object model it becomes this</span> <span data-start="680.96" data-end="682.64">tree based thing that you interact with</span> <span data-start="682.64" data-end="686.27">in JavaScript or in CSS and once that</span> <span data-start="686.27" data-end="688.01">happens we no longer think in terms of</span> <span data-start="688.01" data-end="689.78">start and end tags we think in terms of</span> <span data-start="689.78" data-end="693.17">elements so that's pretty much</span> <span data-start="693.17" data-end="697.04">difference as soon as the page is open</span> <span data-start="697.04" data-end="699.11">in the browser its elements and melt</span> <span data-start="699.11" data-end="700.37">tags that we're thinking about and</span> <span data-start="700.37" data-end="702.26">that's important to realize because if</span> <span data-start="702.26" data-end="704.27">you're dealing with CSS or JavaScript</span> <span data-start="704.27" data-end="705.86">you're always interacting with these</span> <span data-start="705.86" data-end="708.41">elements not with tags or star tags or</span> <span data-start="708.41" data-end="711.5">end tags so anyway here's an example</span> <span data-start="711.5" data-end="714.71">this is a very simple HTML document so</span> <span data-start="714.71" data-end="716.39">you see the HTML and the head and the</span> <span data-start="716.39" data-end="718.97">body tags there well it turns out that</span> <span data-start="718.97" data-end="721.22">they're closing tags their end tags are</span> <span data-start="721.22" data-end="724.16">optional you can just omit them and the</span> <span data-start="724.16" data-end="727.25">result is a compact but still valid HTML</span> <span data-start="727.25" data-end="729.08">document that results in exactly the</span> <span data-start="729.08" data-end="732.98">same Dom as the one before but it gets</span> <span data-start="732.98" data-end="734.81">even better it turns out that you can</span> <span data-start="734.81" data-end="738.11">also omit their start tags for these</span> <span data-start="738.11" data-end="740.63">elements and that way you end up with</span> <span data-start="740.63" data-end="743.3">this very minimal but still valid HTML</span> <span data-start="743.3" data-end="745.1">document that still results in exactly</span> <span data-start="745.1" data-end="747.74">the same Dom so that's really important</span> <span data-start="747.74" data-end="749.36">here the HTML the hat and the body</span> <span data-start="749.36" data-end="751.04">elements will still be there in the Dom</span> <span data-start="751.04" data-end="752.95">even though they're Clark techs are</span> <span data-start="752.95" data-end="755.87">omitted from the source code and that's</span> <span data-start="755.87" data-end="757.25">because these elements are special</span> <span data-start="757.25" data-end="758.99">they're kind of implied and the browser</span> <span data-start="758.99" data-end="761">will automatically insert them into the</span> <span data-start="761" data-end="762.65">document for you even if they're not</span> <span data-start="762.65" data-end="765.89">part of the source code so with that in</span> <span data-start="765.89" data-end="768.53">mind this is probably the most useless -</span> <span data-start="768.53" data-end="770.78">to ever I mean if you're going to get an</span> </p>
<p><span data-start="770.78" data-end="772.61">HTML — at least you should pick some</span> <span data-start="772.61" data-end="776.15">tags that aren't implies right now</span> <span data-start="776.15" data-end="778.91">anyway that minimal HTML document that I</span> <span data-start="778.91" data-end="781.28">just showed you got me thinking how far</span> <span data-start="781.28" data-end="783.02">can we really take this and what more</span> <span data-start="783.02" data-end="785.15">can we remove from our HTML source code</span> <span data-start="785.15" data-end="787.49">if we stop caring about what's valid and</span> <span data-start="787.49" data-end="791.54">what isn't and then I came across Martin</span> <span data-start="791.54" data-end="793.69">Cole's experiment called no JavaScript</span> <span data-start="793.69" data-end="796.25">so he attempted to recreate a game using</span> <span data-start="796.25" data-end="799.04">CSS only and his goal was to use no</span> <span data-start="799.04" data-end="801.71">JavaScript at all and as little as HTML</span> <span data-start="801.71" data-end="803.96">as little HTML as possible and in fact</span> <span data-start="803.96" data-end="805.79">this is the full HTML source code for</span> <span data-start="805.79" data-end="807.98">his project it's just one line that</span> <span data-start="807.98" data-end="809">includes a stylesheet</span> <span data-start="809" data-end="809.6">on to the page</span> <span data-start="809.6" data-end="812.12">and really you should check this out for</span> <span data-start="812.12" data-end="815">yourself the URL is right there but just</span> <span data-start="815" data-end="816.26">to give you a quick idea of what it</span> <span data-start="816.26" data-end="820.37">looks like well here it is so remember</span> <span data-start="820.37" data-end="822.71">this is all CSS and I'm not sure if you</span> <span data-start="822.71" data-end="824.81">can see this but the spaceship at the</span> <span data-start="824.81" data-end="826.34">bottom is actually following my mouse</span> <span data-start="826.34" data-end="828.8">cursor which sounds simple if you have</span> <span data-start="828.8" data-end="830.9">the other script axis but if you want to</span> <span data-start="830.9" data-end="833.45">do this using only CSS it's actually</span> <span data-start="833.45" data-end="836.9">very tricky now the elements that are</span> <span data-start="836.9" data-end="838.85">being styled here are the ones that</span> <span data-start="838.85" data-end="840.65">we've talked about before the ones that</span> <span data-start="840.65" data-end="842.3">the browser automatically creates for</span> <span data-start="842.3" data-end="843.71">you even if they're not part of the</span> <span data-start="843.71" data-end="844.46">source code</span> <span data-start="844.46" data-end="847.97">so HTML hat and body and then there's</span> <span data-start="847.97" data-end="849.86">also that one link element that he had</span> <span data-start="849.86" data-end="853.34">there in the source code so of course</span> <span data-start="853.34" data-end="854.9">the link and the hat elements are</span> <span data-start="854.9" data-end="856.67">invisible by default but you can just</span> <span data-start="856.67" data-end="858.71">apply this play block to them to make</span> <span data-start="858.71" data-end="860.48">them visible then you can start styling</span> <span data-start="860.48" data-end="862.25">them giving them a background image and</span> <span data-start="862.25" data-end="865.13">all that stuff so anyway we have HTML</span> <span data-start="865.13" data-end="868.4">hat link and body that's four different</span> <span data-start="868.4" data-end="871.22">elements then we can also use the before</span> <span data-start="871.22" data-end="873.53">and after pseudo elements on these</span> <span data-start="873.53" data-end="875.18">elements and that totals up to twelve</span> <span data-start="875.18" data-end="878.21">unique style blocks so what you're</span> <span data-start="878.21" data-end="880.34">looking at here is just twelve unique</span> <span data-start="880.34" data-end="882.5">style blocks and that's enough to create</span> <span data-start="882.5" data-end="885.26">this apparently it's kind of crazy and</span> <span data-start="885.26" data-end="887.2">it just really blew my mind still demo</span> <span data-start="887.2" data-end="890.9">so I created a demo of my own it's not</span> <span data-start="890.9" data-end="892.97">nearly as impressive as this one but I</span> <span data-start="892.97" data-end="895.64">still want to talk about it this is what</span> <span data-start="895.64" data-end="898.73">it looks like yeah I know right it's not</span> <span data-start="898.73" data-end="899.99">nearly as impressive to look at that as</span> <span data-start="899.99" data-end="901.79">the previous one but it looks fairly</span> <span data-start="901.79" data-end="904.28">simple and if I were to see this on a</span> <span data-start="904.28" data-end="906.14">random website I would probably think it</span> <span data-start="906.14" data-end="908.18">was just some basic HTML like a</span> <span data-start="908.18" data-end="910.73">paragraph element or something and with</span> <span data-start="910.73" data-end="913.52">some very basic CSS to style it but in</span> <span data-start="913.52" data-end="915.02">fact if you look at the source code for</span> <span data-start="915.02" data-end="917.42">this page you'll see that it's</span> <span data-start="917.42" data-end="919.94">completely empty so what is going on</span> <span data-start="919.94" data-end="924.23">here well this is the trick that I used</span> </p>
<p><span data-start="924.23" data-end="927.65">I'm using the link HTTP header here so</span> <span data-start="927.65" data-end="929.27">in theory this header can be used</span> <span data-start="929.27" data-end="930.97">instead of the link element in HTML</span> <span data-start="930.97" data-end="932.81">anything you can do with the link</span> <span data-start="932.81" data-end="934.85">element in HTML can also be done with</span> <span data-start="934.85" data-end="937.28">the link HTTP header in browsers that</span> <span data-start="937.28" data-end="939.41">support it and at the moment only</span> <span data-start="939.41" data-end="942.35">Firefox supported supports it's Oprah I</span> <span data-start="942.35" data-end="943.35">used to support it</span> <span data-start="943.35" data-end="945.12">before we switch to blank but ever since</span> <span data-start="945.12" data-end="948.06">we brought support so if you want to try</span> <span data-start="948.06" data-end="952.38">this out visit this page in Firefox so</span> <span data-start="952.38" data-end="953.97">anyway this gives us a completely empty</span> <span data-start="953.97" data-end="955.8">HTML documents as you can see the</span> <span data-start="955.8" data-end="957.36">content length is zero so I'm not</span> <span data-start="957.36" data-end="958.92">cheating there I'm not using any special</span> <span data-start="958.92" data-end="961.89">weird tricks it's really an empty HTML</span> <span data-start="961.89" data-end="963.87">document but we still get a CSS file</span> <span data-start="963.87" data-end="967.59">applied to it so the next step is to</span> <span data-start="967.59" data-end="969.3">make the document look like it contains</span> <span data-start="969.3" data-end="971.49">some actual text and for this I used two</span> </p>
<p><span data-start="971.49" data-end="974.4">CSS content property so I select the</span> <span data-start="974.4" data-end="975.57">body element which the browser</span> <span data-start="975.57" data-end="977.82">automatically creates for me even though</span> <span data-start="977.82" data-end="979.38">I don't have the tag for it in the</span> <span data-start="979.38" data-end="981.45">source code then I target the after</span> <span data-start="981.45" data-end="983.25">pseudo element and then I just give that</span> <span data-start="983.25" data-end="985.08">some contents and that's how I made the</span> <span data-start="985.08" data-end="987.93">texture up there so that is how this</span> <span data-start="987.93" data-end="990.18">demo without any HTML source code at all</span> <span data-start="990.18" data-end="993.81">works now is this really useful well I</span> <span data-start="993.81" data-end="995.13">don't know maybe you can prank your</span> <span data-start="995.13" data-end="996.84">colleagues with this knowledge a little</span> <span data-start="996.84" data-end="999.15">bit or if you're really evil you could</span> <span data-start="999.15" data-end="1001.04">use it as part of an interview question</span> <span data-start="1001.04" data-end="1004.43">imagine this so you give an interview</span> <span data-start="1004.43" data-end="1006.62">candidate URL and tell them to open it</span> <span data-start="1006.62" data-end="1009.2">in Firefox and this URL points to an</span> </p>
<p><span data-start="1009.2" data-end="1011.27">HTML document that contains some inline</span> <span data-start="1011.27" data-end="1014.48">SVG for example the SVG that displays a</span> <span data-start="1014.48" data-end="1016.76">circle as you can see here now the</span> <span data-start="1016.76" data-end="1019.16">circles fill attribute is set to red and</span> <span data-start="1019.16" data-end="1020.42">that's when you ask the interview</span> <span data-start="1020.42" data-end="1022.76">candidate why is the circle green</span> <span data-start="1022.76" data-end="1026.03">instead of red and it will probably take</span> <span data-start="1026.03" data-end="1027.35">them very long time to realize that</span> <span data-start="1027.35" data-end="1029.54">there's a hidden CSS file that magically</span> <span data-start="1029.54" data-end="1032.18">gets applied to these documents even</span> <span data-start="1032.18" data-end="1033.38">though you can't see it in the source</span> <span data-start="1033.38" data-end="1035.24">code I mean the Styles are not even</span> <span data-start="1035.24" data-end="1037.579">visible if you inspect the elements in</span> <span data-start="1037.579" data-end="1039.68">the dev tools so yeah good luck with</span> <span data-start="1039.68" data-end="1042.17">that I hope none of that ever happens to</span> <span data-start="1042.17" data-end="1046.91">you in an interview ok if you want to</span> <span data-start="1046.91" data-end="1049.19">talk about Unicode in CSS we need to</span> <span data-start="1049.19" data-end="1051.35">talk about Unicode in HTML too so let's</span> <span data-start="1051.35" data-end="1054.62">start there the first thing you should</span> <span data-start="1054.62" data-end="1056.78">know is that the class attribute accepts</span> <span data-start="1056.78" data-end="1059.3">every possible character every possible</span> <span data-start="1059.3" data-end="1061.61">unicode character is valid in a class</span> <span data-start="1061.61" data-end="1064.76">attribute value and it will also work in</span> <span data-start="1064.76" data-end="1068.81">every browser so for example 404 — ever</span> <span data-start="1068.81" data-end="1070.7">is a valid class name which is probably</span> <span data-start="1070.7" data-end="1072.95">not very surprising to you but you could</span> <span data-start="1072.95" data-end="1074.66">also use the copyright sign as a class</span> <span data-start="1074.66" data-end="1076.43">name for an element containing a legal</span> <span data-start="1076.43" data-end="1077.159">disclaimer</span> <span data-start="1077.159" data-end="1080.849">for example now in html5 in the standard</span> <span data-start="1080.849" data-end="1082.83">there is this new feature that says that</span> <span data-start="1082.83" data-end="1084.57">the same thing now finally goes for the</span> </p>
<p><span data-start="1084.57" data-end="1086.999">ID attributes so this is new and aspect</span> <span data-start="1086.999" data-end="1088.799">with browser as I've always supported</span> <span data-start="1088.799" data-end="1089.399">this</span> <span data-start="1089.399" data-end="1092.279">this means that IDs can contain any</span> <span data-start="1092.279" data-end="1095.729">symbol at all except for whitespace but</span> <span data-start="1095.729" data-end="1097.679">everything else is valid as part of an</span> </p>
<p><span data-start="1097.679" data-end="1100.289">ID attribute so you could use the heart</span> <span data-start="1100.289" data-end="1102.479">symbol as the ID for a paragraph for</span> <span data-start="1102.479" data-end="1104.849">example or you could use curly quotes as</span> <span data-start="1104.849" data-end="1107.129">a class name for block code elements you</span> <span data-start="1107.129" data-end="1108.45">can do all kinds of stuff you can even</span> <span data-start="1108.45" data-end="1110.58">use hidden emoji to passive-aggressively</span> <span data-start="1110.58" data-end="1111.809">tell people you are using a shitty</span> <span data-start="1111.809" data-end="1117.369">browser and all of this is valid HTML</span> <span data-start="1117.379" data-end="1119.759">this also means that we can do stuff</span> <span data-start="1119.759" data-end="1121.859">like this where you give an element an</span> </p>
<p><span data-start="1121.859" data-end="1128.039">ID of hash ID or let's say a class of</span> <span data-start="1128.039" data-end="1131.249">adult class or you can even combine it</span> <span data-start="1131.249" data-end="1133.95">to an ad colon hover braces at the end</span> <span data-start="1133.95" data-end="1136.109">or even use a value that resembles an</span> <span data-start="1136.109" data-end="1138.119">attribute selector you see where this is</span> <span data-start="1138.119" data-end="1140.039">going right all these classes and ID's</span> <span data-start="1140.039" data-end="1141.869">already look like they're a CSS selector</span> <span data-start="1141.869" data-end="1145.619">so how would you write as use a selector</span> <span data-start="1145.619" data-end="1147.299">to select these elements based on these</span> </p>
<p><span data-start="1147.299" data-end="1151.349">IDs and classes well the answer is we</span> <span data-start="1151.349" data-end="1153.45">need to escape these values first so</span> <span data-start="1153.45" data-end="1155.22">that they become valid identifier and</span> <span data-start="1155.22" data-end="1157.679">only then we can use them as part of a</span> <span data-start="1157.679" data-end="1160.259">CSS selector and this is what that will</span> <span data-start="1160.259" data-end="1163.679">look like the hash symbol for example</span> <span data-start="1163.679" data-end="1165.72">has special meaning in CSS so it cannot</span> <span data-start="1165.72" data-end="1168.21">be used as it is we must escape it as</span> <span data-start="1168.21" data-end="1171.389">backslash hash first and the same thing</span> <span data-start="1171.389" data-end="1173.609">goes for the dot character has special</span> <span data-start="1173.609" data-end="1175.619">meaning so that becomes backslash dot</span> <span data-start="1175.619" data-end="1178.44">the colon character leads escaping too</span> <span data-start="1178.44" data-end="1180.149">and theoretically you could escape that</span> <span data-start="1180.149" data-end="1182.609">as backslash colon but that doesn't work</span> <span data-start="1182.609" data-end="1184.83">in old versions of Internet Explorer so</span> <span data-start="1184.83" data-end="1186.659">a more compatible way to escape it is to</span> <span data-start="1186.659" data-end="1189.149">use backslash 3 a followed by a space</span> <span data-start="1189.149" data-end="1192.09">and 3 a is the unicode code point that</span> <span data-start="1192.09" data-end="1194.82">refers to this character so you could</span> <span data-start="1194.82" data-end="1196.619">use this type of escape for any Unicode</span> <span data-start="1196.619" data-end="1199.47">symbol if you want to anyway as you can</span> <span data-start="1199.47" data-end="1201.509">see many characters need escaping but</span> <span data-start="1201.509" data-end="1203.249">take a look at that last example the</span> <span data-start="1203.249" data-end="1207.599">element with ID 404 — error because that</span> </p>
<p><span data-start="1207.599" data-end="1209.549">ID starts with a digit it needs to be</span> <span data-start="1209.549" data-end="1210.87">escaped as well</span> <span data-start="1210.87" data-end="1212.49">and I remember that this really</span> <span data-start="1212.49" data-end="1214.02">surprised me at some point because I was</span> <span data-start="1214.02" data-end="1215.43">trying to figure out why it was</span> <span data-start="1215.43" data-end="1217.38">impossible to style such an element</span> <span data-start="1217.38" data-end="1219.72">using CSS well it turned out I just had</span> <span data-start="1219.72" data-end="1222.059">to escape it and that looks like</span> <span data-start="1222.059" data-end="1225.54">backslash three for space oh four dash</span> <span data-start="1225.54" data-end="1227.49">error which is kind of weird if you</span> <span data-start="1227.49" data-end="1228.51">think about it</span> <span data-start="1228.51" data-end="1229.95">so if you'd ever need to style an</span> <span data-start="1229.95" data-end="1232.2">element whose class or ID starts with a</span> <span data-start="1232.2" data-end="1233.88">digit I'm sure you will think back on</span> <span data-start="1233.88" data-end="1235.86">this moment because it took me a long</span> <span data-start="1235.86" data-end="1239.79">time to figure this out now as for the</span> <span data-start="1239.79" data-end="1241.14">other examples with the non ASCII</span> </p>
<p><span data-start="1241.14" data-end="1243.54">Unicode symbols well those can just be</span> <span data-start="1243.54" data-end="1244.83">used without escaping them at all</span> <span data-start="1244.83" data-end="1246.39">because they don't have any special</span> <span data-start="1246.39" data-end="1248.64">meaning in CSS now you could still</span> <span data-start="1248.64" data-end="1250.29">escape them if you wanted to based on</span> <span data-start="1250.29" data-end="1252">the Unicode code point value and that</span> <span data-start="1252" data-end="1257.7">will look like this now to help me</span> <span data-start="1257.7" data-end="1259.23">understand all this I built another one</span> <span data-start="1259.23" data-end="1261.39">of those tools so it allows you to enter</span> <span data-start="1261.39" data-end="1264.03">any ID or class name even the crazy ones</span> <span data-start="1264.03" data-end="1265.95">and then it will automatically tell you</span> <span data-start="1265.95" data-end="1267.929">how to select that element in CSS or</span> <span data-start="1267.929" data-end="1270.54">using the selectors API in JavaScript so</span> <span data-start="1270.54" data-end="1272.16">if you're using documental career</span> <span data-start="1272.16" data-end="1274.2">selector or jQuery or something like</span> <span data-start="1274.2" data-end="1274.559">that</span> <span data-start="1274.559" data-end="1276.179">it will tell you what the selector would</span> <span data-start="1276.179" data-end="1278.49">look like after the double escaping that</span> <span data-start="1278.49" data-end="1282.809">you need for that nowadays there's a</span> <span data-start="1282.809" data-end="1284.64">standardized utility method for this in</span> <span data-start="1284.64" data-end="1287.1">the form of a JavaScript API called CSS</span> <span data-start="1287.1" data-end="1289.5">escape and this is part of the CSS</span> <span data-start="1289.5" data-end="1291.6">object model specification it's already</span> <span data-start="1291.6" data-end="1293.309">two supported in Opera Chrome and</span> </p>
<p><span data-start="1293.309" data-end="1295.05">Firefox so you can actually already</span> <span data-start="1295.05" data-end="1296.91">start using this today if you need</span> <span data-start="1296.91" data-end="1298.7">support for older browsers as well</span> <span data-start="1298.7" data-end="1301.08">there's a polyfill available that you</span> <span data-start="1301.08" data-end="1304.38">can use now the thing is you probably</span> <span data-start="1304.38" data-end="1306">need this functionality much more often</span> <span data-start="1306" data-end="1308.25">than you would think and here's some</span> <span data-start="1308.25" data-end="1310.86">examples of that I'm sure many of you</span> <span data-start="1310.86" data-end="1312.3">have just some I've done something like</span> <span data-start="1312.3" data-end="1314.94">this at some point I know I have so you</span> <span data-start="1314.94" data-end="1317.61">read the hash from the URL and then you</span> <span data-start="1317.61" data-end="1319.35">use it to select an element in</span> </p>
<p><span data-start="1319.35" data-end="1321.6">JavaScript this is fairly common if you</span> <span data-start="1321.6" data-end="1323.58">use a taps widget on your page for</span> <span data-start="1323.58" data-end="1326.94">example so look at this code and imagine</span> <span data-start="1326.94" data-end="1328.62">what happens if the location hash</span> <span data-start="1328.62" data-end="1331.23">contains a space for example now the</span> <span data-start="1331.23" data-end="1332.94">entire meaning of the selector that we</span> <span data-start="1332.94" data-end="1334.29">dynamically generate would suddenly</span> <span data-start="1334.29" data-end="1336.21">change because instead of selecting an</span> <span data-start="1336.21" data-end="1338.55">element based on that ID it would now</span> <span data-start="1338.55" data-end="1342.99">become a descendant selector now here's</span> <span data-start="1342.99" data-end="1344.28">another example</span> <span data-start="1344.28" data-end="1346.87">very dynamically construct a CSS</span> <span data-start="1346.87" data-end="1352.15">selector what if some value in this case</span> <span data-start="1352.15" data-end="1355.3">contains double quotes the CSS selector</span> <span data-start="1355.3" data-end="1357.13">would actually be broken because the</span> <span data-start="1357.13" data-end="1359.14">attribute selector would be closed by</span> <span data-start="1359.14" data-end="1361.96">the double quote this might throw a</span> <span data-start="1361.96" data-end="1363.73">javascript error and otherwise break</span> <span data-start="1363.73" data-end="1365.95">your site so this code is actually</span> <span data-start="1365.95" data-end="1368.86">broken but it's not really obvious to</span> <span data-start="1368.86" data-end="1373.929">see that now how can we avoid these</span> <span data-start="1373.929" data-end="1375.97">problems well all we need to do is just</span> <span data-start="1375.97" data-end="1377.679">wrap the variable parts of these</span> <span data-start="1377.679" data-end="1379.9">selectors in a call to CSS dot escape</span> <span data-start="1379.9" data-end="1382.059">and that magically makes it work and</span> <span data-start="1382.059" data-end="1386.41">protects against these cases now that</span> <span data-start="1386.41" data-end="1387.91">we're on the subject of breaking things</span> <span data-start="1387.91" data-end="1390.4">using malformed CSS selectors let's take</span> <span data-start="1390.4" data-end="1393.059">a look at how CSS can be used for evil</span> <span data-start="1393.059" data-end="1395.23">now first we need to talk about</span> <span data-start="1395.23" data-end="1398.11">cross-site scripting or XSS has anyone</span> <span data-start="1398.11" data-end="1401.11">ever heard of that before okay yeah some</span> <span data-start="1401.11" data-end="1403.44">people some evil hackers in the room</span> <span data-start="1403.44" data-end="1405.429">even if you have heard of cross-site</span> <span data-start="1405.429" data-end="1406.809">scripting I would recommend checking out</span> </p>
<p><span data-start="1406.809" data-end="1408.85">Google's cross-site scripting game it's</span> <span data-start="1408.85" data-end="1410.5">a really great way to learn about how</span> <span data-start="1410.5" data-end="1412.059">these cross-site scripting attacks work</span> <span data-start="1412.059" data-end="1414.01">and how you can exploit them yourself</span> <span data-start="1414.01" data-end="1416.11">and actually if you give this a try you</span> <span data-start="1416.11" data-end="1418.179">would be surprised how simple it is to</span> <span data-start="1418.179" data-end="1422.62">perform these attacks yourself now most</span> <span data-start="1422.62" data-end="1425.47">websites nowadays contain display or</span> <span data-start="1425.47" data-end="1427.21">they display use of supplied contents in</span> <span data-start="1427.21" data-end="1429.37">different contexts within an HTML</span> <span data-start="1429.37" data-end="1432.73">document so here a custom user color is</span> <span data-start="1432.73" data-end="1434.74">inserted in the context of a CSS value</span> <span data-start="1434.74" data-end="1437.08">then the user name is inserted in an</span> </p>
<p><span data-start="1437.08" data-end="1439.6">HTML text context as part of a paragraph</span> <span data-start="1439.6" data-end="1442.99">element the user profile URL is injected</span> <span data-start="1442.99" data-end="1445.809">in a quoted HTML attribute value the</span> <span data-start="1445.809" data-end="1448.24">user ID is inserted in a JavaScript</span> <span data-start="1448.24" data-end="1450.01">context on the right hand side of a</span> <span data-start="1450.01" data-end="1452.29">variable declaration and finally some</span> <span data-start="1452.29" data-end="1454.12">server generated debug information is</span> <span data-start="1454.12" data-end="1455.95">inserted as part of a comments in HTML</span> <span data-start="1455.95" data-end="1459.07">so all of these things are variable</span> <span data-start="1459.07" data-end="1461.32">content which can somehow be controlled</span> <span data-start="1461.32" data-end="1463.54">or at least influenced by the user and</span> <span data-start="1463.54" data-end="1465.34">the website that displays this</span> <span data-start="1465.34" data-end="1467.71">information in the HTML code needs to</span> <span data-start="1467.71" data-end="1469">make sure that the user input is</span> <span data-start="1469" data-end="1471.64">properly sanitized and escaped for the</span> <span data-start="1471.64" data-end="1473.47">context that it gets inserted to and</span> <span data-start="1473.47" data-end="1474.82">that is the main problem</span> <span data-start="1474.82" data-end="1476.8">each of these five different contexts</span> <span data-start="1476.8" data-end="1479.17">requires its own different escaping</span> <span data-start="1479.17" data-end="1483.04">rules so usually web application hackers</span> <span data-start="1483.04" data-end="1484.39">look for cross-site scripting</span> <span data-start="1484.39" data-end="1486.16">vulnerabilities which enable them to</span> <span data-start="1486.16" data-end="1488.74">execute custom JavaScript code in the</span> <span data-start="1488.74" data-end="1491.56">context of the targeted website once</span> <span data-start="1491.56" data-end="1493.36">they found such a vulnerability they can</span> <span data-start="1493.36" data-end="1495.07">basically do anything they want in</span> </p>
<p><span data-start="1495.07" data-end="1497.59">JavaScript to that website so the hacker</span> <span data-start="1497.59" data-end="1499.42">could add a script that listens for</span> <span data-start="1499.42" data-end="1501.34">keyboard events for example and then</span> <span data-start="1501.34" data-end="1503.83">logs whatever you like it locks your</span> <span data-start="1503.83" data-end="1506.02">keystrokes that the victim enters to</span> <span data-start="1506.02" data-end="1507.88">their own server for example it would</span> <span data-start="1507.88" data-end="1510.37">essentially be a key logger or it could</span> <span data-start="1510.37" data-end="1512.62">just read sensitive information from the</span> </p>
<p><span data-start="1512.62" data-end="1514.51">Dom and then leaked it to the attacker</span> <span data-start="1514.51" data-end="1516.55">server so that they basically steal that</span> <span data-start="1516.55" data-end="1521.11">data now that's using JavaScript but</span> <span data-start="1521.11" data-end="1523.66">this is a CSS conference so let's shift</span> <span data-start="1523.66" data-end="1528.34">our perspective here what can we do if</span> <span data-start="1528.34" data-end="1531.43">we have full control over pages CSS but</span> <span data-start="1531.43" data-end="1532.21">nothing else</span> <span data-start="1532.21" data-end="1533.98">what's the worst thing we can do as an</span> <span data-start="1533.98" data-end="1537.73">evil hacker in that case in other words</span> <span data-start="1537.73" data-end="1539.8">what if all these injections that we</span> <span data-start="1539.8" data-end="1541.5">talked about are all sanitized properly</span> <span data-start="1541.5" data-end="1546.13">except for the first one this one so for</span> <span data-start="1546.13" data-end="1548.05">the sake of the example assume that</span> <span data-start="1548.05" data-end="1549.64">there is some sort of sanitation going</span> <span data-start="1549.64" data-end="1551.26">on there that makes it impossible to</span> <span data-start="1551.26" data-end="1554.02">close this tile element in the HTML but</span> <span data-start="1554.02" data-end="1555.88">everything else is allowed to you can</span> <span data-start="1555.88" data-end="1558.52">inject any CSS you want but you cannot</span> <span data-start="1558.52" data-end="1561.64">inject arbitrary HTML what damage can</span> <span data-start="1561.64" data-end="1564.82">you do with that well does anyone</span> <span data-start="1564.82" data-end="1568.84">remember the CSS Zen garden yeah some</span> <span data-start="1568.84" data-end="1572.26">people if you look this up you'll end up</span> <span data-start="1572.26" data-end="1574.33">at this website it's just a very simple</span> </p>
<p><span data-start="1574.33" data-end="1576.85">HTML document and it can be styled using</span> <span data-start="1576.85" data-end="1579.94">CSS and anything is anyone is free to</span> <span data-start="1579.94" data-end="1581.89">contribute a CSS file with a custom</span> <span data-start="1581.89" data-end="1583.96">design and if it looks good it will be</span> <span data-start="1583.96" data-end="1587.23">added to the site so here's a bunch of</span> <span data-start="1587.23" data-end="1589.78">different designs designs there's over</span> <span data-start="1589.78" data-end="1593.26">200 on this website already and they all</span> <span data-start="1593.26" data-end="1595">look beautiful and completely different</span> <span data-start="1595" data-end="1597.97">and the main thing here is that the only</span> <span data-start="1597.97" data-end="1599.68">thing that is really changing between</span> <span data-start="1599.68" data-end="1602.44">these designs is the CSS the HTML is</span> <span data-start="1602.44" data-end="1604.96">exactly the same for every page that you</span> <span data-start="1604.96" data-end="1607.54">see here so this is a very powerful</span> <span data-start="1607.54" data-end="1611.3">demonstration of what CSS can do</span> <span data-start="1611.3" data-end="1613.26">now if you look at this from the</span> <span data-start="1613.26" data-end="1615.66">perspective of an evil hacker imagine</span> <span data-start="1615.66" data-end="1617.43">having that kind of power over a website</span> <span data-start="1617.43" data-end="1619.59">that you're targeting the obvious thing</span> <span data-start="1619.59" data-end="1621.42">to do as an evil hacker is of course to</span> <span data-start="1621.42" data-end="1623.64">completely deface the website you can</span> <span data-start="1623.64" data-end="1625.83">make it look like at whatever you want</span> <span data-start="1625.83" data-end="1628.98">basically so here's the original CSS</span> <span data-start="1628.98" data-end="1631.59">comp website for example now if you had</span> <span data-start="1631.59" data-end="1633.51">full control over the CSS but nothing</span> <span data-start="1633.51" data-end="1635.22">else you could make it look like this</span> <span data-start="1635.22" data-end="1638.4">and I'm not sure they would sell any</span> <span data-start="1638.4" data-end="1639.99">tickets this way because it's a CSS</span> <span data-start="1639.99" data-end="1641.7">conference and you have you know some</span> <span data-start="1641.7" data-end="1644.25">certain expectations about their use of</span> </p>
<p><span data-start="1644.25" data-end="1648.54">CSS so when an attacker is able to</span> <span data-start="1648.54" data-end="1650.34">control the CSS of your page in such a</span> <span data-start="1650.34" data-end="1652.04">way that's probably or not what you want</span> <span data-start="1652.04" data-end="1654.9">it could be even worse I mean they could</span> <span data-start="1654.9" data-end="1656.64">just hide all the existing content and</span> <span data-start="1656.64" data-end="1658.47">then just apply a background image that</span> <span data-start="1658.47" data-end="1660.12">contains some text of their own for</span> <span data-start="1660.12" data-end="1662.34">example so they could basically replace</span> <span data-start="1662.34" data-end="1664.02">all the existing content of the site</span> <span data-start="1664.02" data-end="1667.17">with whatever they want there's</span> <span data-start="1667.17" data-end="1668.4">something else that you could do and</span> <span data-start="1668.4" data-end="1670.44">this is kind of similar to defacing but</span> <span data-start="1670.44" data-end="1672.72">it's much more subtle you wouldn't touch</span> <span data-start="1672.72" data-end="1674.73">the design but you would just inject</span> <span data-start="1674.73" data-end="1676.86">some really annoying CSS rules and</span> <span data-start="1676.86" data-end="1679.02">there's a project that collects CSS</span> <span data-start="1679.02" data-end="1681">rules like that it's called evil dot CSS</span> <span data-start="1681" data-end="1683.4">and it's just a CSS file basically with</span> <span data-start="1683.4" data-end="1686.28">a bunch of really annoying CSS rules it</span> <span data-start="1686.28" data-end="1688.17">also contains some rules that are just</span> <span data-start="1688.17" data-end="1690.51">super bad for performance just for the</span> <span data-start="1690.51" data-end="1693.63">fun of it and yeah again here's the</span> <span data-start="1693.63" data-end="1697.46">original CSS deaf West web site and</span> <span data-start="1697.46" data-end="1700.29">here's that same web site with evil dot</span> </p>
<p><span data-start="1700.29" data-end="1702.96">CSS enables so there's no extra scroll</span> <span data-start="1702.96" data-end="1704.94">bars everywhere the layout is slightly</span> <span data-start="1704.94" data-end="1706.95">broken some of the content is flickering</span> <span data-start="1706.95" data-end="1710.1">or missing the text is slightly blurry</span> <span data-start="1710.1" data-end="1712.38">I'm not sure how easy to see that is</span> <span data-start="1712.38" data-end="1714.24">yeah there's a lot of content just</span> <span data-start="1714.24" data-end="1716.22">missing suddenly</span> <span data-start="1716.22" data-end="1718.44">scrolling also feels really really slow</span> <span data-start="1718.44" data-end="1720.15">because of all those terrible</span> <span data-start="1720.15" data-end="1722.49">performance-wise CSS that is added to</span> <span data-start="1722.49" data-end="1725.25">the page and my favorite part is the</span> <span data-start="1725.25" data-end="1727.59">first letter in each element is slightly</span> <span data-start="1727.59" data-end="1730.29">smaller than all the other ones so</span> <span data-start="1730.29" data-end="1731.37">annoying</span> <span data-start="1731.37" data-end="1733.98">anyway so both defacing and doing this</span> <span data-start="1733.98" data-end="1735.48">sort of thing to web sites can be</span> <span data-start="1735.48" data-end="1737.429">annoying for both the administrators and</span> <span data-start="1737.429" data-end="1739.59">the visitors of the web site but it</span> <span data-start="1739.59" data-end="1741.51">could be much worse right because if we</span> <span data-start="1741.51" data-end="1743.82">look back at cross-site scripting</span> <span data-start="1743.82" data-end="1745.529">well you could steal sensitive</span> <span data-start="1745.529" data-end="1747.419">information that way and this is not</span> <span data-start="1747.419" data-end="1750.619">possible using just TSS right or is it</span> <span data-start="1750.619" data-end="1753.409">well let's see</span> </p>
<p><span data-start="1753.409" data-end="1756.09">CSS kind of allows you to leak the value</span> <span data-start="1756.09" data-end="1758.789">for any attribute value in the Dom so</span> <span data-start="1758.789" data-end="1760.679">some attribute values contain security</span> <span data-start="1760.679" data-end="1762.6">sensitive information like a CSRF token</span> <span data-start="1762.6" data-end="1765.57">for example now if you were an attacker</span> <span data-start="1765.57" data-end="1767.639">or a hacker you wanted to steal this</span> <span data-start="1767.639" data-end="1769.799">value attribute here using nothing but</span> </p>
<p><span data-start="1769.799" data-end="1773.149">CSS injection how would you go about it</span> <span data-start="1773.149" data-end="1776.19">well one way to do it is to write a</span> <span data-start="1776.19" data-end="1779.759">bunch of CSS like this you could use the</span> <span data-start="1779.759" data-end="1781.889">CSS attribute starts with selector and</span> <span data-start="1781.889" data-end="1784.259">that way it's trivial to figure out the</span> <span data-start="1784.259" data-end="1786.33">first character of the CSRF token just</span> <span data-start="1786.33" data-end="1788.34">by brute forcing it you just try every</span> <span data-start="1788.34" data-end="1790.08">possible value for that first character</span> <span data-start="1790.08" data-end="1794.009">and you include a unique background</span> <span data-start="1794.009" data-end="1796.83">image URL on your own server for each</span> <span data-start="1796.83" data-end="1799.259">character and when the browser makes the</span> <span data-start="1799.259" data-end="1801.029">request to your server you know that</span> <span data-start="1801.029" data-end="1803.19">that character matches and then you can</span> <span data-start="1803.19" data-end="1805.08">start doing the same thing for the first</span> <span data-start="1805.08" data-end="1806.909">two characters to guess the second</span> <span data-start="1806.909" data-end="1809.34">character and so on until you have brute</span> <span data-start="1809.34" data-end="1813.69">force the entire token so in the worst</span> <span data-start="1813.69" data-end="1815.46">case scenario you could just enumerate</span> <span data-start="1815.46" data-end="1817.349">all the possible values for the CSRF</span> <span data-start="1817.349" data-end="1819.239">token but in practice you don't really</span> <span data-start="1819.239" data-end="1821.279">need to test all of them it's a bit</span> <span data-start="1821.279" data-end="1823.559">faster than that and here's an actual</span> <span data-start="1823.559" data-end="1825.69">proof of concept for this sort of attack</span> <span data-start="1825.69" data-end="1827.999">it doesn't use any JavaScript at all so</span> <span data-start="1827.999" data-end="1830.759">only a lot of CSS rules and it's not</span> <span data-start="1830.759" data-end="1833.309">very efficient or fast but it shows that</span> <span data-start="1833.309" data-end="1835.2">it is possible to actually exfiltrate</span> <span data-start="1835.2" data-end="1837.419">the sensitive data this way by using</span> <span data-start="1837.419" data-end="1844.499">nothing but CSS now that was about</span> <span data-start="1844.499" data-end="1846.359">stealing information that was hidden in</span> <span data-start="1846.359" data-end="1848.7">an HTML attribute what if you want to</span> <span data-start="1848.7" data-end="1850.619">steal data from the Dom that is part of</span> <span data-start="1850.619" data-end="1855.869">a text node using nothing but CSS so</span> <span data-start="1855.869" data-end="1857.46">let's say we have some HTML like this</span> <span data-start="1857.46" data-end="1859.769">that contains let's say a username or</span> <span data-start="1859.769" data-end="1861.629">something else that we want to find out</span> <span data-start="1861.629" data-end="1863.549">or maybe it's the balance of your bank</span> <span data-start="1863.549" data-end="1865.559">accounts something like that but you</span> <span data-start="1865.559" data-end="1867.269">can't use JavaScript you can only use</span> </p>
<p><span data-start="1867.269" data-end="1871.039">CSS injection how can we do this well</span> <span data-start="1871.039" data-end="1874.32">you could use Unicode range to define</span> <span data-start="1874.32" data-end="1876.69">web fonts to be used only for specific</span> <span data-start="1876.69" data-end="1877.74">character</span> <span data-start="1877.74" data-end="1879.87">so if you create a separate Fontes</span> <span data-start="1879.87" data-end="1881.58">declaration for each individual</span> <span data-start="1881.58" data-end="1884.22">character with a unique URL for each</span> <span data-start="1884.22" data-end="1886.23">font you can essentially figure out</span> <span data-start="1886.23" data-end="1888.06">which characters are being used as part</span> <span data-start="1888.06" data-end="1892.98">of the CSS content and here's a proof of</span> <span data-start="1892.98" data-end="1895.86">concept of that the demo was made by a</span> <span data-start="1895.86" data-end="1898.53">guy named masato Kanagawa and as you can</span> <span data-start="1898.53" data-end="1900.69">see the browser makes a request for each</span> <span data-start="1900.69" data-end="1902.37">of the characters that is being used</span> <span data-start="1902.37" data-end="1905.7">as part of this sensitive content now</span> <span data-start="1905.7" data-end="1908.19">one downside is that it wouldn't show</span> <span data-start="1908.19" data-end="1910.62">you the repeated characters like for</span> <span data-start="1910.62" data-end="1912.54">example the letter a is being used three</span> <span data-start="1912.54" data-end="1914.4">times in this case and of course the</span> <span data-start="1914.4" data-end="1916.29">browser will only make one request for</span> <span data-start="1916.29" data-end="1918.44">the font that is used for the letter A</span> <span data-start="1918.44" data-end="1921.93">but in many cases like it really depends</span> <span data-start="1921.93" data-end="1923.16">on the use case of course but in many</span> <span data-start="1923.16" data-end="1925.14">cases just knowing which characters are</span> <span data-start="1925.14" data-end="1930.73">being used is enough to guess the rest</span> <span data-start="1930.74" data-end="1933.24">now still it could be worse there could</span> <span data-start="1933.24" data-end="1937.59">be an easy way to steal sensitive data</span> <span data-start="1937.59" data-end="1940.11">that is fast it's efficient that doesn't</span> <span data-start="1940.11" data-end="1942.45">require us to write a lots of CSS and it</span> <span data-start="1942.45" data-end="1944.19">turns out there is such a thing as well</span> <span data-start="1944.19" data-end="1946.83">and CSS ie5 introduced this proprietary</span> <span data-start="1946.83" data-end="1949.38">feature called CSS expressions to make</span> <span data-start="1949.38" data-end="1951.54">it possibly to dynamically calculate the</span> <span data-start="1951.54" data-end="1953.4">values for certain CSS properties and</span> <span data-start="1953.4" data-end="1956.45">this feature was supported up until I 7</span> <span data-start="1956.45" data-end="1958.56">now even if you've never seen this</span> <span data-start="1958.56" data-end="1960.06">before if you just look at the syntax</span> <span data-start="1960.06" data-end="1961.77">closely you'll note that the code</span> <span data-start="1961.77" data-end="1963.36">wrapped in the expression part is</span> <span data-start="1963.36" data-end="1966.48">actually JavaScript so yes these as</span> <span data-start="1966.48" data-end="1968.37">expressions are basically a way to run</span> </p>
<p><span data-start="1968.37" data-end="1972.03">JavaScript in your CSS it's a great idea</span> <span data-start="1972.03" data-end="1973.62">I'm not sure what could possibly go</span> <span data-start="1973.62" data-end="1976.21">wrong here</span> <span data-start="1976.22" data-end="1979.53">anyway because it's all just JavaScript</span> <span data-start="1979.53" data-end="1981.96">it means you can use browser specific</span> </p>
<p><span data-start="1981.96" data-end="1984.09">JavaScript methods as well like alert</span> <span data-start="1984.09" data-end="1986.46">for example this example would show an</span> <span data-start="1986.46" data-end="1988.08">alert message and that looks something</span> <span data-start="1988.08" data-end="1991.71">like this but it also means you can use</span> <span data-start="1991.71" data-end="1995.19">Dom related methods like window that</span> <span data-start="1995.19" data-end="1997.86">open so you can actually open a new</span> <span data-start="1997.86" data-end="2000.44">window with the URL of our choice using</span> <span data-start="2000.44" data-end="2002.45">nothing but CSS and that of course could</span> <span data-start="2002.45" data-end="2004.55">be the URL for a malicious web site like</span> <span data-start="2004.55" data-end="2007.01">a phishing website that pretends to be</span> <span data-start="2007.01" data-end="2008.66">the original website and then asks you</span> <span data-start="2008.66" data-end="2009.71">for your password</span> <span data-start="2009.71" data-end="2011.299">soon as you enter it of course the</span> <span data-start="2011.299" data-end="2013.159">attacker has stolen your password now</span> <span data-start="2013.159" data-end="2016.549">you may be thinking okay this really</span> <span data-start="2016.549" data-end="2019.279">sucks but if this only affects i7 and</span> <span data-start="2019.279" data-end="2021.2">older versions of ie then what's the big</span> <span data-start="2021.2" data-end="2022.94">deal no one really supports those</span> <span data-start="2022.94" data-end="2025.309">browsers anymore and not a lot of people</span> <span data-start="2025.309" data-end="2029.39">use IE 7 well that's true but the thing</span> <span data-start="2029.39" data-end="2030.95">is Internet Explorer has this thing</span> <span data-start="2030.95" data-end="2033.47">called browser modes and the last four</span> <span data-start="2033.47" data-end="2036.289">major IE releases each shipped multiple</span> <span data-start="2036.289" data-end="2038.33">rendering engines that emulated the bugs</span> <span data-start="2038.33" data-end="2042.98">in their older IE versions their f12</span> <span data-start="2042.98" data-end="2044.6">developer tools allow you to easily</span> <span data-start="2044.6" data-end="2049.49">switch between them now that's all good</span> <span data-start="2049.49" data-end="2052.22">but it's also possible to trigger a</span> <span data-start="2052.22" data-end="2054.139">specific rendering mode for your website</span> <span data-start="2054.139" data-end="2056.45">by using an HTTP header or an HTML meta</span> <span data-start="2056.45" data-end="2058.639">elements the meta tag on this slide</span> <span data-start="2058.639" data-end="2060.619">ensures that your document is rendered</span> <span data-start="2060.619" data-end="2062.21">in the latest available rendering mode</span> <span data-start="2062.21" data-end="2064.639">so this means that if someone using ie</span> <span data-start="2064.639" data-end="2066.859">11 visits your site it will render it</span> <span data-start="2066.859" data-end="2069.29">using the OEE 11 rendering mode which as</span> <span data-start="2069.29" data-end="2070.82">a developer is probably what you want</span> <span data-start="2070.82" data-end="2073.94">and I tend to use ie 10 mode in IE 9 to</span> <span data-start="2073.94" data-end="2077.47">use ie 9 mode that makes sense however</span> <span data-start="2077.47" data-end="2081.05">this meta tag would trigger i7 mode even</span> <span data-start="2081.05" data-end="2084.26">in ie8 or I 9 or I 10 and the thing is</span> <span data-start="2084.26" data-end="2086.24">this mode not only emulates the known</span> <span data-start="2086.24" data-end="2088.76">bugs that i7 used to have but it also</span> <span data-start="2088.76" data-end="2091.129">brings back the old deprecated or even</span> <span data-start="2091.129" data-end="2093.109">removed features that i7 used to have</span> <span data-start="2093.109" data-end="2097.7">such as CSS expressions so our initial</span> <span data-start="2097.7" data-end="2099.53">example it only worked in i7 and older</span> <span data-start="2099.53" data-end="2101.48">versions can be made to work even in IE</span> <span data-start="2101.48" data-end="2105.08">8 9 and 10 just by adding a meta tag it</span> <span data-start="2105.08" data-end="2107.15">even works in AI 11 if the site is in</span> <span data-start="2107.15" data-end="2109.13">the so called trust its own so that's</span> <span data-start="2109.13" data-end="2111.349">why I did I include ie 11 in the title</span> <span data-start="2111.349" data-end="2113.08">here because it's a little bit trickier</span> <span data-start="2113.08" data-end="2115.88">so okay that's pretty cool but in our</span> <span data-start="2115.88" data-end="2117.53">attack scenario from before we could</span> <span data-start="2117.53" data-end="2120.53">only inject CSS and we couldn't inject</span> </p>
<p><span data-start="2120.53" data-end="2122.839">HTML so we had no way to add the meta</span> <span data-start="2122.839" data-end="2125.39">tag there so how can we still make use</span> <span data-start="2125.39" data-end="2129.109">of this trick well it turns out that the</span> <span data-start="2129.109" data-end="2130.79">attacker can just create a web page of</span> <span data-start="2130.79" data-end="2133.849">their own hosted on their own server at</span> <span data-start="2133.849" data-end="2135.89">the meta tag there and trigger ie7</span> <span data-start="2135.89" data-end="2138.05">compatibility mode and then they could</span> <span data-start="2138.05" data-end="2140.15">embed the targeted website with their</span> <span data-start="2140.15" data-end="2142.859">CSS payload inside of an iframe</span> <span data-start="2142.859" data-end="2146.069">in that case the documents the document</span> <span data-start="2146.069" data-end="2147.959">mode of the parent document is inherited</span> <span data-start="2147.959" data-end="2150.089">by the targeted website in the iframe</span> <span data-start="2150.089" data-end="2152.039">even if the targeted website would</span> <span data-start="2152.039" data-end="2153.359">normally use the latest available</span> <span data-start="2153.359" data-end="2155.849">rendering mode so this allows the</span> <span data-start="2155.849" data-end="2157.92">attacker to use CSS expressions in the</span> <span data-start="2157.92" data-end="2160.38">context of the target website even in</span> <span data-start="2160.38" data-end="2161.209">ie10</span> <span data-start="2161.209" data-end="2163.769">so just to recap there's two conditions</span> <span data-start="2163.769" data-end="2166.14">here if a target website allows you to</span> <span data-start="2166.14" data-end="2169.229">inject arbitrary CSS and it allows</span> <span data-start="2169.229" data-end="2172.109">framing then this enables attackers to</span> <span data-start="2172.109" data-end="2174.299">perform cross-site scripting attacks on</span> <span data-start="2174.299" data-end="2176.099">your site and Internet Explorer using</span> <span data-start="2176.099" data-end="2179.219">nothing but CSS I thought that was kind</span> <span data-start="2179.219" data-end="2182.219">of crazy now what can you do about this</span> <span data-start="2182.219" data-end="2184.979">how can we avoid these CSS expression</span> <span data-start="2184.979" data-end="2187.38">vulnerabilities as a web web site</span> <span data-start="2187.38" data-end="2189.42">administrator well of course all of this</span> <span data-start="2189.42" data-end="2191.609">can be avoided if you just sanitize all</span> <span data-start="2191.609" data-end="2193.799">your intrusted input before injecting it</span> <span data-start="2193.799" data-end="2196.289">into your HTML responses all you have to</span> <span data-start="2196.289" data-end="2198.18">do is never make a single mistake and</span> <span data-start="2198.18" data-end="2201.42">everything will be fine sure like that's</span> <span data-start="2201.42" data-end="2202.319">ever going to happen</span> <span data-start="2202.319" data-end="2204.719">so failing that you could use the X</span> <span data-start="2204.719" data-end="2207.359">frame options HTTP header to prohibit</span> <span data-start="2207.359" data-end="2209.369">framing of your web page and this makes</span> <span data-start="2209.369" data-end="2210.959">it impossible for an attacker to easily</span> <span data-start="2210.959" data-end="2213.269">pick your page into i7 compatibility</span> <span data-start="2213.269" data-end="2215.819">mode and thereby enable CSS expressions</span> <span data-start="2215.819" data-end="2218.94">and last but not least and this is</span> <span data-start="2218.94" data-end="2220.249">another thing that really surprised me</span> <span data-start="2220.249" data-end="2222.959">you could use the so-called html5</span> <span data-start="2222.959" data-end="2225.719">doctype you know the short one and it</span> <span data-start="2225.719" data-end="2227.43">turns out that Internet Explorer uses</span> <span data-start="2227.43" data-end="2229.979">this doctype as a heuristic whenever a</span> <span data-start="2229.979" data-end="2231.93">page is rendered using this doctype it</span> <span data-start="2231.93" data-end="2234.539">will automatically disable CSS</span> <span data-start="2234.539" data-end="2236.369">expressions even if your page gets</span> <span data-start="2236.369" data-end="2238.999">framed and inherits the i7 document mode</span> </p>
<p><span data-start="2238.999" data-end="2241.499">CSS expressions won't work with this</span> <span data-start="2241.499" data-end="2243.599">doctype and this is not true for any</span> <span data-start="2243.599" data-end="2245.759">other dog type so if you have a lot of</span> <span data-start="2245.759" data-end="2248.43">old HTML pages on your server lying</span> <span data-start="2248.43" data-end="2249.809">around that you don't even maintain</span> <span data-start="2249.809" data-end="2251.969">anymore it's definitely a good idea to</span> <span data-start="2251.969" data-end="2253.769">just do a simple search replace on them</span> <span data-start="2253.769" data-end="2255.69">and just update their doctype to use</span> <span data-start="2255.69" data-end="2257.819">this one it won't break anything and</span> <span data-start="2257.819" data-end="2259.499">will actually make your site more secure</span> <span data-start="2259.499" data-end="2262.859">in Internet Explorer so to me this is</span> <span data-start="2262.859" data-end="2264.509">really kind of crazy to think about</span> <span data-start="2264.509" data-end="2266.699">because you need to add an HTTP header</span> <span data-start="2266.699" data-end="2269.009">and use a specific duck type in your</span> </p>
<p><span data-start="2269.009" data-end="2271.999">HTML just to prevent people from running</span> <span data-start="2271.999" data-end="2276.36">JavaScript in your CSS well</span> <span data-start="2276.36" data-end="2278.55">it's a bit too much for me really but</span> <span data-start="2278.55" data-end="2281.94">that's the Internet Explorer I guess now</span> <span data-start="2281.94" data-end="2284.73">it's not just ie there's other browsers</span> <span data-start="2284.73" data-end="2287.22">that used to have books with JavaScript</span> <span data-start="2287.22" data-end="2289.92">and CSS you can kind of execute</span> <span data-start="2289.92" data-end="2291.51">JavaScript using nothing but CSS in</span> <span data-start="2291.51" data-end="2293.37">other browsers like old versions of</span> <span data-start="2293.37" data-end="2295.59">Firefox used to have a bug if you assign</span> <span data-start="2295.59" data-end="2297.39">a background image to an element and</span> <span data-start="2297.39" data-end="2300.15">point it to a JavaScript URL the script</span> <span data-start="2300.15" data-end="2302.13">would be executed however it would be</span> <span data-start="2302.13" data-end="2304.11">executed in a sandbox so it was not</span> <span data-start="2304.11" data-end="2305.85">possible to actually steal any data from</span> <span data-start="2305.85" data-end="2308.01">the Dom or do anything really malicious</span> <span data-start="2308.01" data-end="2310.79">but what you could do is for example</span> <span data-start="2310.79" data-end="2313.68">trigger an infinite loop and that would</span> <span data-start="2313.68" data-end="2316.47">essentially hang Firefox so if someone</span> <span data-start="2316.47" data-end="2318.33">was able to inject this CSS into your</span> <span data-start="2318.33" data-end="2320.97">page someone would try to visit the site</span> <span data-start="2320.97" data-end="2323.81">in Firefox they would basically just get</span> <span data-start="2323.81" data-end="2326.64">this yeah well it would look like this</span> <span data-start="2326.64" data-end="2333.6">and then if we just crash now fire from</span> </p>
<p><span data-start="2333.6" data-end="2335.22">Mozilla has since fixed the bug so this</span> <span data-start="2335.22" data-end="2337.11">is not a problem anymore but it really</span> <span data-start="2337.11" data-end="2339.27">makes you think about how powerful CSS</span> <span data-start="2339.27" data-end="2342.75">is okay and because I know it's still</span> <span data-start="2342.75" data-end="2344.22">early and I've just been talking about a</span> <span data-start="2344.22" data-end="2347.97">lot of random different things let's do</span> <span data-start="2347.97" data-end="2351.33">a quick CSS quiz who is up for that yeah</span> <span data-start="2351.33" data-end="2354.78">oh yeah that's the spirit okay so what</span> <span data-start="2354.78" data-end="2361.02">band is this I hope you like music you</span> <span data-start="2361.02" data-end="2364.31">can just shout if you want to guess</span> <span data-start="2364.31" data-end="2366.84">could be yeah that's the one the Black</span> <span data-start="2366.84" data-end="2371.49">Keys yeah these guys okay next one what</span> <span data-start="2371.49" data-end="2378">band is this you can just shout your</span> <span data-start="2378" data-end="2383.25">guesses it's fine to guess</span> <span data-start="2383.26" data-end="2390.7">what color is that foo fight oh that</span> <span data-start="2390.7" data-end="2393.06">would be good no it's not that</span> <span data-start="2393.06" data-end="2395.92">it's actually simply rat yeah it's just</span> <span data-start="2395.92" data-end="2399.04">ref that was a terrible one okay let's</span> <span data-start="2399.04" data-end="2403.78">try another one what band is this this</span> <span data-start="2403.78" data-end="2405.37">requires some knowledge of the Unicode</span> <span data-start="2405.37" data-end="2417.76">standard yeah its Radiohead okay one</span> <span data-start="2417.76" data-end="2418.15">more</span> <span data-start="2418.15" data-end="2421.45">what band is this I think someone said</span> <span data-start="2421.45" data-end="2427.98">it already yeah the white stripes</span> <span data-start="2427.98" data-end="2431.74">alright okay now let's try a song the</span> <span data-start="2431.74" data-end="2438.72">famous pop song what song is this yep</span> <span data-start="2438.72" data-end="2441.82">painted black by the Rolling Stones like</span> <span data-start="2441.82" data-end="2443.71">if you have a red door and CSS you want</span> <span data-start="2443.71" data-end="2445.48">to paint it black you can use CSS blend</span> <span data-start="2445.48" data-end="2451.3">modes for that turns out okay what band</span> <span data-start="2451.3" data-end="2457.42">is this yep Green Day wow that was quick</span> <span data-start="2457.42" data-end="2468.45">respect okay let's try some more</span> <span data-start="2468.46" data-end="2473.47">editor's yeah that one might have been a</span> <span data-start="2473.47" data-end="2476.23">little bit too geeky okay one last one</span> <span data-start="2476.23" data-end="2483.49">before I go what band is this yep it's</span> <span data-start="2483.49" data-end="2486.859">the Black Eyed Peas</span> <span data-start="2486.869" data-end="2488.38">there they are</span> <span data-start="2488.38" data-end="2491.23">okay so with that I'd like to thank you</span> <span data-start="2491.23" data-end="2492.01">for your attention</span> <span data-start="2492.01" data-end="2493.599">and thanks to everyone whose research</span> </p>
<p><span data-start="2493.599" data-end="2508.79">I've been using</span> </p>
</section>