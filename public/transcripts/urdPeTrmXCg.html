<section>
<p><span data-start="10.88" data-end="15.99">okay i want to start with a similar</span> <span data-start="15.99" data-end="18.32">question who of you in this room is</span> <span data-start="18.32" data-end="21.9">working on JavaScript frameworks as</span> <span data-start="21.9" data-end="29.869">developers awesome so this is a talk I</span> <span data-start="29.869" data-end="35.12">did to to show some of the design</span> <span data-start="35.12" data-end="38.34">decisions we made and I think this is</span> <span data-start="38.34" data-end="41.399">something pretty interesting for anyone</span> <span data-start="41.399" data-end="44.219">writing JavaScript frameworks but should</span> <span data-start="44.219" data-end="49.86">be interesting for anybody else so what</span> <span data-start="49.86" data-end="51.78">kind of frameworks am I talking about so</span> <span data-start="51.78" data-end="54.78">my background is bored what we are doing</span> </p>
<p><span data-start="54.78" data-end="57.629">I'm working for for cooks ooh and it is</span> <span data-start="57.629" data-end="62.34">a rich gooey JavaScript framework and</span> <span data-start="62.34" data-end="65.64">we're doing a similar single piece of</span> <span data-start="65.64" data-end="68.01">page applications so what you're seeing</span> <span data-start="68.01" data-end="72.78">here is gmx com make lined which is</span> <span data-start="72.78" data-end="76.5">written totally and cook soup and we</span> <span data-start="76.5" data-end="81.9">have widgets like the toolbars the tabs</span> <span data-start="81.9" data-end="92.189">the menus like the search bar of the</span> <span data-start="92.189" data-end="95.25">tree and what I'm talking talking about</span> <span data-start="95.25" data-end="98.79">today is how we actually implement these</span> <span data-start="98.79" data-end="100.979">widgets so which it is not in the sense</span> <span data-start="100.979" data-end="109.14">of a these mobile widget w-we w3c widget</span> <span data-start="109.14" data-end="114.13">it's in the sense of your I components</span> <span data-start="114.14" data-end="117.869">so what you're basically doing is we</span> <span data-start="117.869" data-end="120.2">treating the browser as rendering engine</span> <span data-start="120.2" data-end="123.869">so native applications like java</span> <span data-start="123.869" data-end="126.06">applications windows applications use</span> <span data-start="126.06" data-end="128.61">native api's we use the browser as</span> <span data-start="128.61" data-end="131.709">rendering engine and</span> <span data-start="131.709" data-end="135.26">what we have in the browser so I was</span> <span data-start="135.26" data-end="138.14">glad Dion put up this this slide only in</span> <span data-start="138.14" data-end="140.209">his keynote yesterday it's basically we</span> <span data-start="140.209" data-end="145.239">have three primitives we have images as</span> <span data-start="145.239" data-end="147.53">single entities or as background and</span> <span data-start="147.53" data-end="154.31">images we have text with some ways to to</span> <span data-start="154.31" data-end="157.97">define the font and colors and things</span> <span data-start="157.97" data-end="160.909">like this and have rectangles things</span> <span data-start="160.909" data-end="163.94">like this is the only primitives we have</span> <span data-start="163.94" data-end="167.87">if we want to support all browsers of</span> <span data-start="167.87" data-end="170.18">course we can use canvas but then it's</span> <span data-start="170.18" data-end="172.43">hard to this is not available in IE so</span> <span data-start="172.43" data-end="179.629">this is what we need to stick to well</span> <span data-start="179.629" data-end="181.7">and then these primitives are arranged</span> <span data-start="181.7" data-end="184.879">in a tree so we have a scene graph of</span> <span data-start="184.879" data-end="190.28">all those of all those elements which is</span> <span data-start="190.28" data-end="192.799">the Dom tree and the don't worry is</span> <span data-start="192.799" data-end="196.01">pretty nice it provides us stuff like</span> <span data-start="196.01" data-end="198.609">events bubbling through the tree and</span> <span data-start="198.609" data-end="200.72">propagating through the tree and we know</span> <span data-start="200.72" data-end="203.66">exactly for example click events on</span> <span data-start="203.66" data-end="207.829">which element the cliq occurred unlike</span> <span data-start="207.829" data-end="210.379">if you have the canvas where you have</span> <span data-start="210.379" data-end="213.65">just the opaque rectangle and you it's</span> <span data-start="213.65" data-end="217.01">hard to match what is actually the</span> <span data-start="217.01" data-end="218.359">element behind the pixel you are</span> <span data-start="218.359" data-end="221.12">clicking on and then we have CSS for</span> <span data-start="221.12" data-end="225.609">styling and of course JavaScript so</span> <span data-start="225.609" data-end="229.43">javascript is pretty much the thing</span> <span data-start="229.43" data-end="235.699">which ties it all together so let me</span> <span data-start="235.699" data-end="238.879">present you in the body this is the</span> <span data-start="238.879" data-end="242.409">widget I'm trying to open right now</span> <span data-start="242.409" data-end="245.71">spinner cool</span> <span data-start="245.71" data-end="249.61">it's pretty simple the the code you see</span> <span data-start="249.61" data-end="252.49">there is cook sous demo code it's</span> <span data-start="252.49" data-end="256.3">actually working code and spinners nice</span> <span data-start="256.3" data-end="259.09">because it's not too complex still it's</span> <span data-start="259.09" data-end="262.03">something you compose out of other more</span> <span data-start="262.03" data-end="266.65">more basic widgets it's simply used as</span> <span data-start="266.65" data-end="270.97">as an input for text and this is the</span> <span data-start="270.97" data-end="279.13">widget I want to talk about today so the</span> <span data-start="279.13" data-end="281.41">first step is I said the spinner is a</span> <span data-start="281.41" data-end="285.73">composed switches let's take a look how</span> <span data-start="285.73" data-end="287.89">the spinners compose out of other</span> <span data-start="287.89" data-end="295.06">widgets ok our goal is to create widget</span> <span data-start="295.06" data-end="298">by composition we want to create complex</span> <span data-start="298" data-end="300.75">widgets by composing simple widgets and</span> <span data-start="300.75" data-end="304.03">like the spinner basically is composed</span> <span data-start="304.03" data-end="308.5">of three four widget one container one</span> <span data-start="308.5" data-end="310.69">input field and two buttons for the up</span> <span data-start="310.69" data-end="315.37">and the down what we want to do is use</span> <span data-start="315.37" data-end="318.43">known glee concepts to do this like we</span> <span data-start="318.43" data-end="321.34">want to use layout managers to say how</span> <span data-start="321.34" data-end="323.47">the witches should be arranged or we</span> <span data-start="323.47" data-end="326.44">want to use a rich set of basic widgets</span> <span data-start="326.44" data-end="329.56">to compose it from and of course we want</span> <span data-start="329.56" data-end="331.96">to have some basic things like events</span> <span data-start="331.96" data-end="336.78">and the other thing is at this level I</span> <span data-start="336.78" data-end="339.67">really don't want to hassle with the</span> <span data-start="339.67" data-end="342.61">browser I don't want to know which</span> <span data-start="342.61" data-end="345.52">browser I'm in or I use any low level</span> <span data-start="345.52" data-end="349.62">browser api's because this is code that</span> <span data-start="349.62" data-end="352.45">letter right found it much more abstract</span> <span data-start="352.45" data-end="356.71">level</span> <span data-start="356.72" data-end="359.09">let's take a little look at the source</span> <span data-start="359.09" data-end="364.13">code in cook sous so this is cook soon</span> <span data-start="364.13" data-end="367.3">saw Scott a little bit like the juice I</span> <span data-start="367.3" data-end="370.07">talked we've seen yesterday or object</span> <span data-start="370.07" data-end="373.46">model so in cook sous widgets inherit</span> <span data-start="373.46" data-end="375.62">from our widget so we define a spinner</span> <span data-start="375.62" data-end="378.53">with your hair from widget and then we</span> <span data-start="378.53" data-end="380.93">provide a constructor and all we do is</span> <span data-start="380.93" data-end="383.09">called the base call are called the</span> <span data-start="383.09" data-end="385.22">constructor of the base class so this</span> <span data-start="385.22" data-end="388.01">basically just nothing it's just a</span> <span data-start="388.01" data-end="393.74">widget so the next step is we want to</span> <span data-start="393.74" data-end="397.22">lay out of the lease up witches and for</span> <span data-start="397.22" data-end="398.69">the spinner it's basically it's a grid</span> <span data-start="398.69" data-end="402.86">and the input field should have a row</span> <span data-start="402.86" data-end="407.99">span of two and and the the spacing of</span> <span data-start="407.99" data-end="409.73">the resize behavior should be that if</span> <span data-start="409.73" data-end="413.39">you resize it horizontally only the text</span> <span data-start="413.39" data-end="415.61">field should resize if I resize it</span> <span data-start="415.61" data-end="419.84">vertically both rose so should resize</span> <span data-start="419.84" data-end="422.33">equally and that weather is what I'm</span> <span data-start="422.33" data-end="425.36">saying there I create a layout which</span> <span data-start="425.36" data-end="428.3">nope layouts are not widget I create a</span> <span data-start="428.3" data-end="431.18">layout manager it's a grid and then I</span> <span data-start="431.18" data-end="435.02">say the growth legs that is the resizing</span> <span data-start="435.02" data-end="437.26">behavior of the first and second row</span> <span data-start="437.26" data-end="441.68">here equals 1 so it's resizable and the</span> <span data-start="441.68" data-end="446.9">first column well it's a type of way</span> <span data-start="446.9" data-end="452.75">sorry it should be the column should be</span> <span data-start="452.75" data-end="455.12">0 because the first first column is</span> <span data-start="455.12" data-end="457.49">starting with 0 so the first column</span> <span data-start="457.49" data-end="461.66">should be should be flexible well and</span> <span data-start="461.66" data-end="466.97">then I want to add the widget so I want</span> <span data-start="466.97" data-end="469.13">to add the text field widgets and I pass</span> <span data-start="469.13" data-end="472.82">in the value a string and then I simply</span> <span data-start="472.82" data-end="476.09">want to add this text feed widget to the</span> <span data-start="476.09" data-end="478.61">parent which is the spinner and then I</span> <span data-start="478.61" data-end="480.38">configure some some layout properties</span> <span data-start="480.38" data-end="482.54">like the row where it should be placed</span> <span data-start="482.54" data-end="485.84">column and the Rose bear and the same is</span> <span data-start="485.84" data-end="488.86">true for for the buttons as well</span> <span data-start="488.86" data-end="490.28">additionally</span> <span data-start="490.28" data-end="492.68">i define the images for the up and down</span> <span data-start="492.68" data-end="497.18">arrow so this actually is working code</span> <span data-start="497.18" data-end="500">and this is something that what we had</span> <span data-start="500" data-end="502.52">in mind so we want to write widgets on a</span> <span data-start="502.52" data-end="505.82">very high level just like and swing our</span> <span data-start="505.82" data-end="510.65">q te or any other widget toolkit and let</span> <span data-start="510.65" data-end="515.539">me switch to firefox just to show it a</span> <span data-start="515.539" data-end="517.659">little bit so that what i have here is</span> <span data-start="517.659" data-end="521.27">the cooks to demo browser no the cooks a</span> <span data-start="521.27" data-end="524.18">playground and i can type in code on the</span> <span data-start="524.18" data-end="526.67">left and run it on the right and what</span> <span data-start="526.67" data-end="528.35">you see here this was the first step</span> <span data-start="528.35" data-end="532.31">just inherent from from widget and then</span> </p>
<p><span data-start="532.31" data-end="533.51">I said background color because</span> <span data-start="533.51" data-end="539.51">otherwise you can see anything then we</span> <span data-start="539.51" data-end="543.53">have the next step that's pretty</span> <span data-start="543.53" data-end="545.9">interesting I add a layout and suddenly</span> <span data-start="545.9" data-end="549.41">the which it disappears that's why the</span> <span data-start="549.41" data-end="552.14">layout manager uses the sizes of the</span> <span data-start="552.14" data-end="553.82">child witches and since I don't have any</span> <span data-start="553.82" data-end="558.01">child widgets adjust the size collapse</span> <span data-start="558.01" data-end="562.75">still and then I add the text field</span> <span data-start="562.75" data-end="565.88">again with the row column and you and</span> <span data-start="565.88" data-end="570.56">the row span i can add the the first</span> <span data-start="570.56" data-end="574.36">button and the second button and voila</span> <span data-start="574.36" data-end="577.94">this is pretty much looking like a</span> <span data-start="577.94" data-end="581.36">spinner it's not nice should some</span> <span data-start="581.36" data-end="584.45">tweaking us is needed but this is pretty</span> <span data-start="584.45" data-end="587.48">much the api we had in mind how we want</span> <span data-start="587.48" data-end="593.01">to to create complex compose switches</span> <span data-start="593.02" data-end="595.59">okay let's get big</span> <span data-start="595.59" data-end="599.94">so now that we have the composition of</span> <span data-start="599.94" data-end="602.97">of widgets the question is if we have</span> <span data-start="602.97" data-end="604.86">basic widgets like a label or and image</span> <span data-start="604.86" data-end="607.47">which are not composed how does it map</span> <span data-start="607.47" data-end="611.22">to the dome what is the dome generated</span> <span data-start="611.22" data-end="615.42">or needed for this widget so let's take</span> <span data-start="615.42" data-end="622.43">this text field and this is</span> <span data-start="622.43" data-end="626.64">approximately the HTML generated by by</span> <span data-start="626.64" data-end="632.04">the framework for this widget basically</span> <span data-start="632.04" data-end="635.58">we have our three two to three diff</span> <span data-start="635.58" data-end="638.4">elements and I will go to third to this</span> <span data-start="638.4" data-end="640.65">in a moment so first we have the</span> <span data-start="640.65" data-end="643.74">container in our case the container is</span> <span data-start="643.74" data-end="645.93">the Dom element added to the parent</span> <span data-start="645.93" data-end="650.58">widget we use absolute positioning and</span> <span data-start="650.58" data-end="654.78">we use fixed sizes why we do this a</span> <span data-start="654.78" data-end="660.3">little bit later then you have a</span> <span data-start="660.3" data-end="663.63">decorator element this is I think this</span> <span data-start="663.63" data-end="665.91">is a pretty interesting concept the</span> <span data-start="665.91" data-end="669.21">decorator element arm basically is a</span> <span data-start="669.21" data-end="673.49">container for any background decoration</span> <span data-start="673.49" data-end="676.89">so i can add an image to this i can add</span> <span data-start="676.89" data-end="679.65">our complex HTML to render the</span> <span data-start="679.65" data-end="683.34">background of the of the widget and we</span> <span data-start="683.34" data-end="686.7">have custom classes which are simply</span> <span data-start="686.7" data-end="689.88">there to to render the background of the</span> <span data-start="689.88" data-end="695.34">widget and then we have the actual</span> <span data-start="695.34" data-end="698.31">content on the content the decorator are</span> <span data-start="698.31" data-end="701.01">at the same level of the year Dom</span> <span data-start="701.01" data-end="704.55">hierarchy just a difference z-index and</span> <span data-start="704.55" data-end="707.67">the content overlays the decorator and I</span> <span data-start="707.67" data-end="709.92">can change the decorator on the fly</span> <span data-start="709.92" data-end="712.56">without changing anything else on the</span> <span data-start="712.56" data-end="715.41">widget so it doesn't influence the</span> <span data-start="715.41" data-end="718.89">layout in our stuff like this and the</span> <span data-start="718.89" data-end="721.23">content actually is the element we want</span> <span data-start="721.23" data-end="723">to display in this case it's the input</span> <span data-start="723" data-end="725.85">element</span> <span data-start="725.86" data-end="729.459">the little dots we do set some starts to</span> <span data-start="729.459" data-end="733">reset the input element so the input</span> <span data-start="733" data-end="739.37">element itself doesn't have any chrome</span> <span data-start="739.38" data-end="743.079">so small summary of the of the dome</span> <span data-start="743.079" data-end="745.209">structure we do have two to three dom</span> <span data-start="745.209" data-end="747.73">elements it's two to three because the</span> <span data-start="747.73" data-end="749.62">decorators optional if I don't want to</span> <span data-start="749.62" data-end="751.51">render any day any background there is</span> <span data-start="751.51" data-end="754.24">no need for me to have this element we</span> <span data-start="754.24" data-end="756.48">use absolute positioning and fixed sizes</span> <span data-start="756.48" data-end="760.24">that's easy because if we do fix</span> <span data-start="760.24" data-end="763.209">cézanne's absolute positioning that's</span> <span data-start="763.209" data-end="765.67">the easiest staff browsers can do so</span> <span data-start="765.67" data-end="767.95">there is no cross browser issues in</span> <span data-start="767.95" data-end="770.709">these two features so cross browser</span> <span data-start="770.709" data-end="774.519">issues are just gone and then we have</span> <span data-start="774.519" data-end="776.8">something like no explicit heading and</span> <span data-start="776.8" data-end="780.31">no borders does anybody have an idea</span> <span data-start="780.31" data-end="783.519">where this is an advantage no borders no</span> <span data-start="783.519" data-end="788.47">pettings okay the advantage is that this</span> <span data-start="788.47" data-end="792.22">is box model independent this works in</span> </p>
<p><span data-start="792.22" data-end="794.56">COEX mode and in standard mode exactly</span> <span data-start="794.56" data-end="797.92">the same way because in a sentence mode</span> <span data-start="797.92" data-end="801.67">if you specify the size it will add to</span> <span data-start="801.67" data-end="803.62">the size the padding and the border and</span> <span data-start="803.62" data-end="806.17">you will get something different 22</span> <span data-start="806.17" data-end="808.899">quirks mode where the size is just the</span> <span data-start="808.899" data-end="814.54">size and if we remove in our our set our</span> <span data-start="814.54" data-end="817.57">borders and padding's from the widget we</span> <span data-start="817.57" data-end="820.839">gain box model independence out of the</span> <span data-start="820.839" data-end="827.34">box second</span> <span data-start="827.34" data-end="832.59">can show you how this maps to the dome</span> <span data-start="832.59" data-end="838.48">like</span> <span data-start="838.49" data-end="843">ok</span> <span data-start="843.01" data-end="848.05">well doesn't look nice okay so you can</span> <span data-start="848.05" data-end="850.24">see here this is the container element</span> <span data-start="850.24" data-end="856.02">it's a div it has absolute two positions</span> <span data-start="856.02" data-end="859.96">then this is the input element this</span> <span data-start="859.96" data-end="861.67">looks weird but most of these styles are</span> <span data-start="861.67" data-end="866.14">generated by by the browser so we you</span> <span data-start="866.14" data-end="869.05">use some of these these starts to to</span> <span data-start="869.05" data-end="870.99">make sure that the input element itself</span> <span data-start="870.99" data-end="874">is basically invisible so it doesn't</span> <span data-start="874" data-end="876.76">have this border and the inside and</span> <span data-start="876.76" data-end="879.34">background color and stuff like this and</span> <span data-start="879.34" data-end="884.92">then we have this one is the decorator</span> <span data-start="884.92" data-end="887.53">and this decorator is actually a little</span> <span data-start="887.53" data-end="890.53">bit more complex because it's rendering</span> <span data-start="890.53" data-end="893.47">these slightly rounded borders and it's</span> <span data-start="893.47" data-end="897.73">using its using diff elements to do this</span> <span data-start="897.73" data-end="901">and leaving the edge pixels empty and</span> <span data-start="901" data-end="903.7">then it has a skate background image and</span> <span data-start="903.7" data-end="906.48">that's something we can do without</span> <span data-start="906.48" data-end="909.22">interfering with any of the the rest of</span> <span data-start="909.22" data-end="918.53">the widget</span> <span data-start="918.54" data-end="922.23">okay what are the pros what are the cons</span> <span data-start="922.23" data-end="925.83">of these these decisions first of all we</span> <span data-start="925.83" data-end="928.71">have box model independence we have very</span> <span data-start="928.71" data-end="933.75">flex flexible styling because we can do</span> <span data-start="933.75" data-end="935.4">almost anything we could even do a</span> <span data-start="935.4" data-end="938.43">canvas element there and draw something</span> <span data-start="938.43" data-end="940.95">weird on the background and we don't</span> <span data-start="940.95" data-end="943.29">have any cross browser issues because</span> <span data-start="943.29" data-end="948.15">it's stupid sim the negative side is</span> <span data-start="948.15" data-end="950.85">that we do have to use more dom elements</span> <span data-start="950.85" data-end="955.29">than with the basic basic approach where</span> <span data-start="955.29" data-end="958.53">the element is the widget like the input</span> <span data-start="958.53" data-end="963.63">element is the text field widget and we</span> <span data-start="963.63" data-end="965.54">do sighs computation in javascript</span> <span data-start="965.54" data-end="969.78">because we have these fixed sizes we do</span> <span data-start="969.78" data-end="972.24">have to do some loyalty and this is of</span> <span data-start="972.24" data-end="975.39">course lower than the built-in layout</span> <span data-start="975.39" data-end="983.28">engine okay next a little bit on</span> <span data-start="983.28" data-end="987.03">steaming this is only a teaser I like</span> <span data-start="987.03" data-end="990.84">this image okay we put the skin over the</span> <span data-start="990.84" data-end="996.39">scalp so just a teaser this is a very</span> <span data-start="996.39" data-end="998.88">little calculator application I've</span> <span data-start="998.88" data-end="1001.46">written some time ago and these two</span> <span data-start="1001.46" data-end="1004.49">applications are exactly the same the</span> <span data-start="1004.49" data-end="1006.74">application source code is exactly the</span> <span data-start="1006.74" data-end="1009.62">same the only difference is that i use</span> <span data-start="1009.62" data-end="1013.28">different decorator renders so all I do</span> <span data-start="1013.28" data-end="1018.47">is I swept swap the decorators used to</span> <span data-start="1018.47" data-end="1023.17">render all these widgets so none of the</span> </p>
<p><span data-start="1023.17" data-end="1026.39">UI composition codes also is affected to</span> <span data-start="1026.39" data-end="1030.71">do this</span> <span data-start="1030.72" data-end="1036.03">let's get to the guys now somehow we</span> <span data-start="1036.03" data-end="1039.589">have to work with the Dom so there's no</span> <span data-start="1039.589" data-end="1042.179">no way around working with the dome when</span> <span data-start="1042.179" data-end="1044.939">we want to build a browser well we took</span> <span data-start="1044.939" data-end="1051.03">it so how how does this text via mid</span> <span data-start="1051.03" data-end="1056.64">widget map to this HTML so what code is</span> <span data-start="1056.64" data-end="1061.71">required to do this first of all this is</span> <span data-start="1061.71" data-end="1063.299">I think this should be familiar to all</span> <span data-start="1063.299" data-end="1066.45">of you so working with the Dom without</span> <span data-start="1066.45" data-end="1070.169">any library is not fun at all like we</span> <span data-start="1070.169" data-end="1072.39">have cross browser issues simple things</span> <span data-start="1072.39" data-end="1075.63">like setting opacity of an element is</span> <span data-start="1075.63" data-end="1078.96">very different in IE then in all other</span> <span data-start="1078.96" data-end="1081.059">browsers and there's many little things</span> <span data-start="1081.059" data-end="1084.289">so there are many cross browser issues</span> <span data-start="1084.289" data-end="1087.26">small mistake can degrade performance</span> <span data-start="1087.26" data-end="1090.9">enormously like in this little snippet</span> <span data-start="1090.9" data-end="1096.48">of code I create an element append the</span> <span data-start="1096.48" data-end="1098.84">element to the body and then I do a</span> <span data-start="1098.84" data-end="1102">change the style of the element and this</span> <span data-start="1102" data-end="1105.51">is slow because every change to the</span> <span data-start="1105.51" data-end="1108.03">style will update the layout of the</span> <span data-start="1108.03" data-end="1110.1">would trigger the layered engine of the</span> <span data-start="1110.1" data-end="1114.299">browser so don't do this the simple</span> <span data-start="1114.299" data-end="1116.82">change is to first create the element</span> <span data-start="1116.82" data-end="1118.679">set all the styles and then append it to</span> <span data-start="1118.679" data-end="1122.28">the document this way the Laird engine</span> <span data-start="1122.28" data-end="1125.159">is triggered only once and this can make</span> <span data-start="1125.159" data-end="1128.94">a huge difference just putting the line</span> <span data-start="1128.94" data-end="1133.74">a little bit further down and then</span> <span data-start="1133.74" data-end="1136.2">simple things like reading styles and</span> <span data-start="1136.2" data-end="1139.049">attributes from the Dom are depending on</span> <span data-start="1139.049" data-end="1141.21">the browser can be very expensive so</span> <span data-start="1141.21" data-end="1147.809">reading from the DOM is expensive so</span> <span data-start="1147.809" data-end="1151.11">what we do is we try to wrap the door so</span> <span data-start="1151.11" data-end="1154.049">we creep we create dumb wrappers for the</span> <span data-start="1154.049" data-end="1158.19">elements we use for the widget we do</span> <span data-start="1158.19" data-end="1160.59">lazy Dom element creation because</span> <span data-start="1160.59" data-end="1161.75">creating elements</span> <span data-start="1161.75" data-end="1164.9">so expensive and we batch dumb</span> <span data-start="1164.9" data-end="1168.08">operations additionally we start we</span> <span data-start="1168.08" data-end="1171.65">cache style and attributes so in the in</span> <span data-start="1171.65" data-end="1175.91">the code you see here let's focus on</span> <span data-start="1175.91" data-end="1182.54">this one this is how the widget the very</span> <span data-start="1182.54" data-end="1184.67">simplified widget could create its</span> <span data-start="1184.67" data-end="1187.88">element and what you see is that we</span> <span data-start="1187.88" data-end="1191.06">creating QX HTML element instance and</span> <span data-start="1191.06" data-end="1194.36">this is the wrapper and at this point no</span> </p>
<p><span data-start="1194.36" data-end="1196.91">Dom element is created just the</span> <span data-start="1196.91" data-end="1199.1">JavaScript instance and the Dom element</span> <span data-start="1199.1" data-end="1201.02">is only created when we actually add</span> <span data-start="1201.02" data-end="1206.27">this widget to the document and all this</span> <span data-start="1206.27" data-end="1208.46">is a decorator you see that it has a</span> <span data-start="1208.46" data-end="1214.25">unified API to set styles like if I had</span> <span data-start="1214.25" data-end="1217.01">this opacity here it would be normalized</span> <span data-start="1217.01" data-end="1220.22">and by ie the filter style would be said</span> <span data-start="1220.22" data-end="1222.2">and for all other browsers the opacity</span> <span data-start="1222.2" data-end="1226.82">style would be said the same for the</span> <span data-start="1226.82" data-end="1230.69">decorator and all all changes to these</span> <span data-start="1230.69" data-end="1232.94">elements are not applied immediately to</span> <span data-start="1232.94" data-end="1235.43">the Dom but they are queued and then in</span> <span data-start="1235.43" data-end="1238.79">in an asynchronous flush all of these</span> <span data-start="1238.79" data-end="1241.31">changes are pushed to the dome in one in</span> <span data-start="1241.31" data-end="1244.01">one batch which reduces the number of</span> <span data-start="1244.01" data-end="1248.14">relay on the browser has to do and</span> <span data-start="1248.14" data-end="1251.36">additionally the values I've said there</span> <span data-start="1251.36" data-end="1254.12">when I read these values they are cached</span> <span data-start="1254.12" data-end="1256.4">and that it doesn't hit the Dom it</span> <span data-start="1256.4" data-end="1262.46">actually returned the cash values so the</span> <span data-start="1262.46" data-end="1265.91">dumb rapper is a mixed bag so it does</span> <span data-start="1265.91" data-end="1269.78">provide a cross-browser API it can</span> <span data-start="1269.78" data-end="1272.51">increase performance in many ways as I</span> <span data-start="1272.51" data-end="1275.45">said inserting nodes can be can be</span> <span data-start="1275.45" data-end="1279.35">critical and we can since we know all</span> <span data-start="1279.35" data-end="1281.66">the dumb operations which are going to</span> <span data-start="1281.66" data-end="1283.73">happen we can order the Dom operations</span> <span data-start="1283.73" data-end="1287.24">in a way that are avoid these pitfalls</span> <span data-start="1287.24" data-end="1291.73">and it keeps the widget code clean and</span> <span data-start="1291.73" data-end="1294.53">working with a dom is very</span> <span data-start="1294.53" data-end="1297.83">very streamlined at Richard level well</span> <span data-start="1297.83" data-end="1301.9">obviously the drawback is that it does</span> <span data-start="1301.9" data-end="1305.42">cause more memory and the complexity of</span> <span data-start="1305.42" data-end="1311.51">doing this is of course higher basically</span> <span data-start="1311.51" data-end="1312.71">what we are doing is we are trading</span> <span data-start="1312.71" data-end="1316.01">memory to runtime performance we do use</span> <span data-start="1316.01" data-end="1319.16">more memory and get a little bit more</span> <span data-start="1319.16" data-end="1326.84">runtime performance ok so I said before</span> <span data-start="1326.84" data-end="1333.23">that layouts or that we use fixed sizes</span> <span data-start="1333.23" data-end="1335.84">for the images and absolute positioning</span> <span data-start="1335.84" data-end="1337.91">but the sizes must come from somewhere</span> <span data-start="1337.91" data-end="1341.54">and that in our case that's our layout</span> <span data-start="1341.54" data-end="1344.66">managers so and the layered measure has</span> <span data-start="1344.66" data-end="1348.65">basically two two tasks to do the first</span> <span data-start="1348.65" data-end="1351.86">is to render the initial layout to give</span> <span data-start="1351.86" data-end="1353.93">all the widgets the initial position and</span> <span data-start="1353.93" data-end="1361.85">sizes and for the spinner measuring</span> <span data-start="1361.85" data-end="1364.22">where the buttons should be and where</span> <span data-start="1364.22" data-end="1367.07">the input field should be placed like</span> <span data-start="1367.07" data-end="1371.99">this and the other task is what you do</span> <span data-start="1371.99" data-end="1373.76">when something resize when the browser</span> <span data-start="1373.76" data-end="1378.47">window resizes Owen I said with value</span> <span data-start="1378.47" data-end="1380.57">and the child nodes have to be resized</span> <span data-start="1380.57" data-end="1383.99">so that is a two tasks for for the</span> <span data-start="1383.99" data-end="1390.47">layout manager so basically it has to</span> <span data-start="1390.47" data-end="1393.17">compute widget sizes based on the</span> <span data-start="1393.17" data-end="1396.77">available space layout constraints like</span> <span data-start="1396.77" data-end="1399.14">it has to be in this cell and this</span> <span data-start="1399.14" data-end="1401.72">column and this row preferred widget</span> <span data-start="1401.72" data-end="1403.88">sizes like the label has a preferred</span> </p>
<p><span data-start="1403.88" data-end="1406.49">Richard size which is the size of the</span> <span data-start="1406.49" data-end="1409.58">label and widget size constraints that</span> <span data-start="1409.58" data-end="1412.85">is widget could have configured minimum</span> <span data-start="1412.85" data-end="1415.1">size or coffee configured maximum size</span> <span data-start="1415.1" data-end="1417.26">so all of this has to be taken into</span> <span data-start="1417.26" data-end="1421.01">account to compute the sizes basically</span> <span data-start="1421.01" data-end="1425.94">this is what the browser does as well</span> <span data-start="1425.94" data-end="1430.529">and the algorithm that does is basically</span> <span data-start="1430.529" data-end="1434.85">a two-pass algorithm we took compute we</span> <span data-start="1434.85" data-end="1437.429">first compute the preferred size the</span> <span data-start="1437.429" data-end="1440.7">preferred size of the spinner basically</span> <span data-start="1440.7" data-end="1442.919">is the preferred size of all of its</span> <span data-start="1442.919" data-end="1446.039">children and then combined with the</span> <span data-start="1446.039" data-end="1448.95">later information the layout manager in</span> <span data-start="1448.95" data-end="1452.279">this case the grid provides and once we</span> <span data-start="1452.279" data-end="1455.58">know the size of the of the route widget</span> <span data-start="1455.58" data-end="1457.889">and the available space we can then</span> <span data-start="1457.889" data-end="1462.799">render every widget from top to bottom</span> <span data-start="1462.799" data-end="1466.74">given the the known size that we have so</span> <span data-start="1466.74" data-end="1471.659">that's the second part pass the</span> <span data-start="1471.659" data-end="1475.789">following slides will be a little bit</span> <span data-start="1475.789" data-end="1478.649">complicated not complicated i will show</span> <span data-start="1478.649" data-end="1481.11">a little bit of code so let me know if</span> <span data-start="1481.11" data-end="1488.7">you have any questions there ok so first</span> <span data-start="1488.7" data-end="1490.919">person said I want to complete compute</span> <span data-start="1490.919" data-end="1495.75">the preferred size of the spinner simply</span> <span data-start="1495.75" data-end="1497.97">what I'm doing is I asked the layout</span> <span data-start="1497.97" data-end="1499.86">manager the spinner has a layout manager</span> <span data-start="1499.86" data-end="1501.84">asked the state layout manager what is</span> <span data-start="1501.84" data-end="1503.58">the preferred size of all of my children</span> <span data-start="1503.58" data-end="1508.71">given this layout well and the late</span> <span data-start="1508.71" data-end="1513.179">major says ok give me all the preferred</span> <span data-start="1513.179" data-end="1515.399">sizes of the children and then I apply</span> <span data-start="1515.399" data-end="1518.279">my complex or simple layout algorithm</span> <span data-start="1518.279" data-end="1522.029">and compute the preferred size of the</span> <span data-start="1522.029" data-end="1526.679">aggregate and the preferred size of the</span> <span data-start="1526.679" data-end="1530.82">children again the text field has the</span> <span data-start="1530.82" data-end="1534.21">preferred height is the text height we</span> <span data-start="1534.21" data-end="1536.039">can measure the height of the of the</span> <span data-start="1536.039" data-end="1540.179">text and I just have a fixed fixed with</span> <span data-start="1540.179" data-end="1543.99">because there's no intrinsic preferred</span> <span data-start="1543.99" data-end="1548.909">with often text field and for the button</span> <span data-start="1548.909" data-end="1550.769">it's even easier it's just the image</span> <span data-start="1550.769" data-end="1554.109">size</span> <span data-start="1554.119" data-end="1558.019">so once we know the preferred size of</span> <span data-start="1558.019" data-end="1561.469">the spinner we can then go top down from</span> <span data-start="1561.469" data-end="1563.179">the spinner to all of its children and</span> <span data-start="1563.179" data-end="1568.149">say okay I have the available space and</span> <span data-start="1568.149" data-end="1572.359">tells I and update the Dom elements</span> <span data-start="1572.359" data-end="1573.919">required for the switcher so it will</span> <span data-start="1573.919" data-end="1575.719">update the content element the decorator</span> <span data-start="1575.719" data-end="1579.169">element the container element and then</span> <span data-start="1579.169" data-end="1581.599">tear the layout manager to do the same</span> <span data-start="1581.599" data-end="1584.749">for all the children and the layout</span> <span data-start="1584.749" data-end="1588.159">manager does its size computation metric</span> <span data-start="1588.159" data-end="1591.669">iterates over all the children and then</span> <span data-start="1591.669" data-end="1595.009">tells called the render layout on all of</span> <span data-start="1595.009" data-end="1597.949">the children and the children again just</span> <span data-start="1597.949" data-end="1600.139">update their Dom positions and don't</span> <span data-start="1600.139" data-end="1607.009">sighs well that's not too easy so we do</span> <span data-start="1607.009" data-end="1611.279">all the reflow computation in JavaScript</span> <span data-start="1611.289" data-end="1615.589">the great benefit is that we can do</span> <span data-start="1615.589" data-end="1617.869">anything we have a large collection of</span> <span data-start="1617.869" data-end="1619.759">layout managers not just grid layouts of</span> <span data-start="1619.759" data-end="1621.919">the box layout and flow layouts and</span> <span data-start="1621.919" data-end="1625.789">other stuff but it has to be highly</span> <span data-start="1625.789" data-end="1627.739">optimized since we are doing this in</span> </p>
<p><span data-start="1627.739" data-end="1630.499">JavaScript and there are some browsers</span> <span data-start="1630.499" data-end="1634.999">which are not so fast in JavaScript we</span> <span data-start="1634.999" data-end="1638.029">have to optimize this a lot so this is</span> <span data-start="1638.029" data-end="1641.239">not so easy to do but if a feature is</span> <span data-start="1641.239" data-end="1643.159">missing we can implement it we don't</span> <span data-start="1643.159" data-end="1645.469">have to wait for any browser vendor to</span> <span data-start="1645.469" data-end="1647.989">implement a feature for us we can</span> <span data-start="1647.989" data-end="1650.239">basically implement any layout in</span> <span data-start="1650.239" data-end="1653.419">behavior we wanted that's a big win for</span> <span data-start="1653.419" data-end="1661.879">us so layout in summary this layering</span> <span data-start="1661.879" data-end="1665.059">mechanism is cross browser so it's all</span> </p>
<p><span data-start="1665.059" data-end="1668.629">JavaScript and it's the layout managers</span> <span data-start="1668.629" data-end="1671.749">itself have no references to any low</span> <span data-start="1671.749" data-end="1673.719">level code or widget code or whatsoever</span> <span data-start="1673.719" data-end="1676.309">we can do custom layout managers we can</span> <span data-start="1676.309" data-end="1680.949">do set anything can customize it we can</span> <span data-start="1680.949" data-end="1683.599">have default sizes for all of our</span> <span data-start="1683.599" data-end="1687.41">widgets but of course the drawing is</span> <span data-start="1687.41" data-end="1692.06">this is not native CSS layout in and you</span> <span data-start="1692.06" data-end="1693.98">feel the difference you feel the</span> <span data-start="1693.98" data-end="1696.29">difference because if I resize I can</span> <span data-start="1696.29" data-end="1704.39">show it so this</span> <span data-start="1704.4" data-end="1708.99">let's just say I edit I at this one in a</span> <span data-start="1708.99" data-end="1725.44">different way I say h20 that's Wow ok</span> <span data-start="1725.45" data-end="1729.38">ok so the resizing of the text field</span> <span data-start="1729.38" data-end="1732.26">doesn't doesn't work very well but it</span> <span data-start="1732.26" data-end="1736.159">just says 20 pixels from the border and</span> <span data-start="1736.159" data-end="1739.809">when I resize this one you will notice a</span> <span data-start="1739.809" data-end="1743.179">little leg and that's because the</span> </p>
<p><span data-start="1743.179" data-end="1746.33">JavaScript engine has to update the the</span> <span data-start="1746.33" data-end="1749.57">positions in Safari and chrome actually</span> <span data-start="1749.57" data-end="1752.69">you don't really notice this anymore but</span> <span data-start="1752.69" data-end="1758.33">of course that's the drawback of this</span> <span data-start="1758.33" data-end="1761.57">approach and implementation is not so</span> <span data-start="1761.57" data-end="1768.08">trivial actually I think GWT 2.0 has</span> <span data-start="1768.08" data-end="1770.649">implemented a layout engine purely with</span> <span data-start="1770.649" data-end="1777.139">CSS layout but the problem with it and</span> <span data-start="1777.139" data-end="1779.45">it's very snappy fury sighs but the</span> <span data-start="1779.45" data-end="1781.669">problem is adding features to this one</span> <span data-start="1781.669" data-end="1785.299">is really rocket science that's nothing</span> <span data-start="1785.299" data-end="1791.799">you want to do so now to the last topic</span> <span data-start="1791.799" data-end="1796.61">events like what can be so hard with</span> <span data-start="1796.61" data-end="1800.059">events let's just click and mouse down</span> <span data-start="1800.059" data-end="1804.169">and mouse up and key press but actually</span> </p>
<p><span data-start="1804.169" data-end="1809.57">Dom events are stinking it's not</span> <span data-start="1809.57" data-end="1811.519">javascript is a mess and not the dumb</span> <span data-start="1811.519" data-end="1815.83">SMS but Dom events are even worse so</span> <span data-start="1815.83" data-end="1818.389">first of all their different api's ie</span> <span data-start="1818.389" data-end="1820.61">has a complete different set of api's</span> <span data-start="1820.61" data-end="1823.669">than at any other browser that's fine if</span> <span data-start="1823.669" data-end="1825.529">the behavior is similar we can add</span> <span data-start="1825.529" data-end="1829.639">wrapper on this standard stuff but it's</span> <span data-start="1829.639" data-end="1835.7">not nice it's getting worse features</span> <span data-start="1835.7" data-end="1838.01">there are some features which are only</span> <span data-start="1838.01" data-end="1840.35">in IE there are some features which are</span> <span data-start="1840.35" data-end="1843.35">not in IE basically it's always IE and</span> <span data-start="1843.35" data-end="1847.669">not a one feature which is not in IE as</span> <span data-start="1847.669" data-end="1853.429">the event capturing face the normal</span> <span data-start="1853.429" data-end="1856.82">behavior for an event is to bubble from</span> <span data-start="1856.82" data-end="1858.02">the target</span> <span data-start="1858.02" data-end="1860.42">to the document body that's a bubbling</span> <span data-start="1860.42" data-end="1865.94">face but the w3c events also define a</span> <span data-start="1865.94" data-end="1868.67">capturing phase where the events starts</span> <span data-start="1868.67" data-end="1870.86">at the root bubbles through the target</span> <span data-start="1870.86" data-end="1873.2">and then bubbles back to the root that's</span> <span data-start="1873.2" data-end="1878.03">a capturing face that's not an ie ie has</span> <span data-start="1878.03" data-end="1879.8">on the other hand most capturing</span> <span data-start="1879.8" data-end="1882.29">completely unrelated just a similar name</span> <span data-start="1882.29" data-end="1886.04">and mouse capturing is if you turn on</span> </p>
<p><span data-start="1886.04" data-end="1888.11">Mouse capturing on an element all Mouse</span> <span data-start="1888.11" data-end="1889.76">events will be dispatched on this</span> <span data-start="1889.76" data-end="1892.04">element regardless where the mouse</span> <span data-start="1892.04" data-end="1894.53">cursor is at the given moment it's very</span> <span data-start="1894.53" data-end="1897.2">useful to do things like drag and drop</span> <span data-start="1897.2" data-end="1899.18">where the mouse cursor can leave the</span> <span data-start="1899.18" data-end="1902.39">direct element and the mouse event will</span> <span data-start="1902.39" data-end="1904.16">still be dispatched on the element and</span> <span data-start="1904.16" data-end="1907.37">not on the unrelated element below the</span> <span data-start="1907.37" data-end="1910.07">mouse cursor so both both features are</span> <span data-start="1910.07" data-end="1914.15">nice to have but very hard to to get</span> <span data-start="1914.15" data-end="1921.33">this cross browser and then even worse</span> <span data-start="1921.34" data-end="1924.86">they have different behavior they have</span> <span data-start="1924.86" data-end="1927.44">different mouse event sequences like</span> <span data-start="1927.44" data-end="1929.87">double click event sequence in IE is</span> <span data-start="1929.87" data-end="1931.94">different to double click event sequence</span> <span data-start="1931.94" data-end="1935.96">in Firefox where it is mousedown most up</span> <span data-start="1935.96" data-end="1937.85">click hasta almost up click double click</span> <span data-start="1937.85" data-end="1941.6">and I think IE doesn't fire two of those</span> <span data-start="1941.6" data-end="1944.93">don't remember exactly which one but</span> <span data-start="1944.93" data-end="1946.85">that can can be a problem should depend</span> <span data-start="1946.85" data-end="1950.96">on things like this and key code char</span> <span data-start="1950.96" data-end="1954.8">code are very very nasty they depend on</span> <span data-start="1954.8" data-end="1957.2">the browser on the operating system and</span> <span data-start="1957.2" data-end="1962.5">even on the locale the user has said so</span> <span data-start="1962.5" data-end="1967.76">that's not nice so our goal would be for</span> <span data-start="1967.76" data-end="1970.07">this little spinner widget to just</span> <span data-start="1970.07" data-end="1973.73">specify button up widget at listen I</span> <span data-start="1973.73" data-end="1977.57">click and then a function and this will</span> <span data-start="1977.57" data-end="1979.85">handle all of this in the background for</span> <span data-start="1979.85" data-end="1984.95">us so the native implementation is just</span> <span data-start="1984.95" data-end="1986.45">to add the listeners to all the elements</span> <span data-start="1986.45" data-end="1988.79">and then you have all these issues are</span> <span data-start="1988.79" data-end="1990.08">just</span> <span data-start="1990.08" data-end="1994.95">then that's not so now we'll tell you</span> <span data-start="1994.95" data-end="1998.75">that how our event implementation works</span> <span data-start="1998.75" data-end="2002.63">first of all we don't attach event</span> <span data-start="2002.63" data-end="2004.549">handlers directly to the elements we</span> <span data-start="2004.549" data-end="2007.01">have a generic mouse event handler and</span> <span data-start="2007.01" data-end="2010.12">what this mouse event handler does it</span> <span data-start="2010.12" data-end="2013.64">listens on the document body and all</span> <span data-start="2013.64" data-end="2015.789">mouse events bubble up to the body and</span> <span data-start="2015.789" data-end="2018.47">finally we'll arrive at the mouse event</span> <span data-start="2018.47" data-end="2021.59">handler then we have an event</span> <span data-start="2021.59" data-end="2024.02">registration the event registration</span> <span data-start="2024.02" data-end="2027.98">keeps a mapping of all listeners and all</span> <span data-start="2027.98" data-end="2030.08">elements so basically the event</span> <span data-start="2030.08" data-end="2031.809">registration does the same as a browser</span> <span data-start="2031.809" data-end="2035.72">it remembers all event listeners and of</span> <span data-start="2035.72" data-end="2038.03">course the most event handler has a</span> <span data-start="2038.03" data-end="2041.87">handle on this registration and then we</span> <span data-start="2041.87" data-end="2044.299">have code like this it's very low level</span> <span data-start="2044.299" data-end="2050.629">code where we call a net listener on the</span> <span data-start="2050.629" data-end="2053.419">registration this will store this</span> <span data-start="2053.419" data-end="2056.57">information about the element way we</span> <span data-start="2056.57" data-end="2059.659">want to listen the event type we want to</span> <span data-start="2059.659" data-end="2065.54">have and the callback function so now</span> <span data-start="2065.54" data-end="2070.9">it's a funny funny</span> <span data-start="2070.91" data-end="2073.5">okay what happens if I click on this</span> <span data-start="2073.5" data-end="2078.99">image obviously this is the event the</span> </p>
<p><span data-start="2078.99" data-end="2082.2">Dom event and the Dom event will well</span> <span data-start="2082.2" data-end="2086.09">bubble up to the root as you see it will</span> <span data-start="2086.09" data-end="2088.89">when it passes the element where the</span> <span data-start="2088.89" data-end="2091.44">listener is nothing happens because the</span> <span data-start="2091.44" data-end="2092.97">listener isn't attached directly to this</span> <span data-start="2092.97" data-end="2096.41">one then it arrives at the body and</span> <span data-start="2096.41" data-end="2098.61">there the mouse event handler will</span> <span data-start="2098.61" data-end="2101.43">listen for this event and we'll get this</span> <span data-start="2101.43" data-end="2104.01">event and now the event handler the</span> <span data-start="2104.01" data-end="2105.93">mouse event handler can do anything with</span> <span data-start="2105.93" data-end="2109.44">it it can wrap it into a custom event</span> <span data-start="2109.44" data-end="2111.57">object which normalizes all the API</span> <span data-start="2111.57" data-end="2115.28">calls it can even fire synthesized</span> <span data-start="2115.28" data-end="2118.89">events to fill up the event sequences</span> <span data-start="2118.89" data-end="2122.55">and all fancy stuff and when it has done</span> <span data-start="2122.55" data-end="2125.1">this it can just push it to the event</span> <span data-start="2125.1" data-end="2126.51">registration and tell the event</span> <span data-start="2126.51" data-end="2130.49">registration he is a mouse event this is</span> <span data-start="2130.49" data-end="2134.85">the event target for which can be read</span> <span data-start="2134.85" data-end="2137.73">from the Dom event do whatever you want</span> <span data-start="2137.73" data-end="2141.65">with it at this point we can handle the</span> <span data-start="2141.65" data-end="2145.65">dispatch of the event totally on our own</span> <span data-start="2145.65" data-end="2148.65">so we can now go ahead and say okay we</span> <span data-start="2148.65" data-end="2152.01">want to implement a capturing face so we</span> <span data-start="2152.01" data-end="2153.63">traverse all the Dom elements between</span> <span data-start="2153.63" data-end="2157.23">the target and the body and dispatch all</span> <span data-start="2157.23" data-end="2159.48">the handlers first or we can do mouse</span> <span data-start="2159.48" data-end="2161.82">capturing we can always dispatch this</span> <span data-start="2161.82" data-end="2165.3">event to the same element and then</span> <span data-start="2165.3" data-end="2170.3">finally the callback function is called</span> <span data-start="2170.3" data-end="2178.44">so to solve all these browser issues we</span> <span data-start="2178.44" data-end="2182.4">simply don't attach event listeners to</span> <span data-start="2182.4" data-end="2185.49">to the dome directly anymore we do this</span> <span data-start="2185.49" data-end="2188.46">all through to an Eric handlers there's</span> <span data-start="2188.46" data-end="2190.17">not only a mal Sandler there's a focus</span> <span data-start="2190.17" data-end="2191.43">on floor there's a keyboard handler</span> <span data-start="2191.43" data-end="2197.02">which does similar things yeah like</span> <span data-start="2197.02" data-end="2200.86">we have a standard compliance API we</span> <span data-start="2200.86" data-end="2204.31">have mouse capturing support we have the</span> <span data-start="2204.31" data-end="2208.06">capturing event capturing phase and we</span> <span data-start="2208.06" data-end="2209.86">have a unified behavior where it's</span> <span data-start="2209.86" data-end="2214.78">possible well like always we trade this</span> <span data-start="2214.78" data-end="2217.89">for a little bit loss in performance and</span> <span data-start="2217.89" data-end="2220.84">increased code size especially keyboard</span> <span data-start="2220.84" data-end="2224.89">handling is not the smallest class in</span> <span data-start="2224.89" data-end="2228.12">our framework because this only shows</span> <span data-start="2228.12" data-end="2230.47">how broken keyboard handling is in the</span> <span data-start="2230.47" data-end="2238.63">browsers okay let's come to the end sum</span> <span data-start="2238.63" data-end="2246.4">up we had this widget we've seen how</span> <span data-start="2246.4" data-end="2248.47">this complex which it can be composed</span> <span data-start="2248.47" data-end="2252.76">out of other simpler widgets we've seen</span> <span data-start="2252.76" data-end="2256.3">how simple widgets map to the Dom with</span> <span data-start="2256.3" data-end="2257.95">the container element the content</span> <span data-start="2257.95" data-end="2263.56">element and the decorator element then</span> </p>
<p><span data-start="2263.56" data-end="2266.71">I've shown a little teaser how theming</span> <span data-start="2266.71" data-end="2272.86">could look like why we use the dumb</span> <span data-start="2272.86" data-end="2276.09">rapper how we interact with the Dom</span> <span data-start="2276.09" data-end="2278.68">haole your team works how sizes are</span> <span data-start="2278.68" data-end="2285.55">computed and as last thing events how we</span> <span data-start="2285.55" data-end="2289.84">deal with events and in the beginning I</span> <span data-start="2289.84" data-end="2292.53">asked you who is framework developer</span> <span data-start="2292.53" data-end="2296.08">this is because this is why you want to</span> <span data-start="2296.08" data-end="2299.68">use a framework if you want to write a</span> </p>
<p><span data-start="2299.68" data-end="2303.82">GUI application this is stuff users</span> <span data-start="2303.82" data-end="2306.16">shouldn't have to bother with and that's</span> <span data-start="2306.16" data-end="2317.14">why they are just frameworks so thank</span> <span data-start="2317.15" data-end="2320.97">so now it's time to take questions are</span> <span data-start="2320.97" data-end="2331.45">there any questions yeah please</span> <span data-start="2331.46" data-end="2342.2">yes</span> <span data-start="2342.21" data-end="2346">in theory this shouldn't be a problem</span> <span data-start="2346" data-end="2348.94">and practice it still is if the browser</span> <span data-start="2348.94" data-end="2353.44">if the user increases the font size what</span> <span data-start="2353.44" data-end="2356.109">you could do is pull in the background</span> <span data-start="2356.109" data-end="2359.05">for font size changes and then trigger a</span> <span data-start="2359.05" data-end="2365.35">relay out of the of the interface in our</span> <span data-start="2365.35" data-end="2368.74">case it we don't do this falling yet but</span> <span data-start="2368.74" data-end="2370.66">what we can do we can increase the font</span> <span data-start="2370.66" data-end="2373">size and then reload and then the</span> <span data-start="2373" data-end="2377.17">measurement of the labels get the new</span> <span data-start="2377.17" data-end="2379.42">sizes and the interface will be will be</span> <span data-start="2379.42" data-end="2381.82">adopted like in this in this screen I</span> <span data-start="2381.82" data-end="2385.2">have increase increase the font size to</span> <span data-start="2385.2" data-end="2388.69">to make it more readable and the layout</span> <span data-start="2388.69" data-end="2391.33">mansions will get this but not yet at</span> <span data-start="2391.33" data-end="2414.18">one time yes</span> <span data-start="2414.19" data-end="2421.96">okay let me let me show you the the the</span> <span data-start="2421.96" data-end="2427.57">the HTML like this one if you look</span> <span data-start="2427.57" data-end="2430.18">closely there's no styling information</span> <span data-start="2430.18" data-end="2432.73">in this this is only positioning</span> <span data-start="2432.73" data-end="2434.68">positioning is things computed by the</span> <span data-start="2434.68" data-end="2436.96">layout engine and the layout engine has</span> <span data-start="2436.96" data-end="2443.74">to set it directly on the element so yes</span> <span data-start="2443.74" data-end="2445.6">you could do styling with external</span> <span data-start="2445.6" data-end="2449.53">classes and with CSS we have a little</span> <span data-start="2449.53" data-end="2452.65">different approach to styling because we</span> <span data-start="2452.65" data-end="2455.86">want to style widgets on the widget</span> <span data-start="2455.86" data-end="2458.47">level and not on the Dom element level</span> <span data-start="2458.47" data-end="2461.38">so we want to keep the abstraction and</span> <span data-start="2461.38" data-end="2463.81">we have a different approach to sort to</span> <span data-start="2463.81" data-end="2465.76">starting but in theory you could of</span> <span data-start="2465.76" data-end="2470.65">course apply styling or CSS classes to</span> <span data-start="2470.65" data-end="2472.21">the widgets like you can all your</span> <span data-start="2472.21" data-end="2474.07">buttons can have the button class then</span> <span data-start="2474.07" data-end="2476.35">you have some CSS which defines the</span> <span data-start="2476.35" data-end="2478.54">sides of the buttons what you cannot do</span> <span data-start="2478.54" data-end="2480.85">is externalize the size and position</span> <span data-start="2480.85" data-end="2488.02">information in this approach okay</span> </p>
</section>