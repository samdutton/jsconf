<section>
<p><span data-start="2.54" data-end="5.279">all right welcome everyone oh there's</span> <span data-start="5.279" data-end="6.839">this mic on can you hear me</span> <span data-start="6.839" data-end="9.63">Samsung awesome so welcome everyone</span> <span data-start="9.63" data-end="11.55">thanks for joining my talk I think it's</span> <span data-start="11.55" data-end="14.13">the most click Beatty title I'm not</span> <span data-start="14.13" data-end="15.24">gonna read all of these abbreviations</span> <span data-start="15.24" data-end="17.46">because that already weighs half at the</span> <span data-start="17.46" data-end="21.99">time but instead I would like to give</span> <span data-start="21.99" data-end="23.34">you in the next 30 minutes a quick</span> <span data-start="23.34" data-end="25.92">introduction to web security and this is</span> <span data-start="25.92" data-end="28.41">not gonna be making you all web security</span> <span data-start="28.41" data-end="30.449">experts but one thing that I want to</span> <span data-start="30.449" data-end="32.52">make sure is that all of the topics that</span> </p>
<p><span data-start="32.52" data-end="34.23">I highlight our topics that I think</span> <span data-start="34.23" data-end="35.79">every web developer should be aware of</span> <span data-start="35.79" data-end="37.8">whenever they build an application and</span> <span data-start="37.8" data-end="40.05">hopefully by the end of the talk all of</span> <span data-start="40.05" data-end="41.489">these abbreviations will make a bit more</span> <span data-start="41.489" data-end="44.34">sense to you but before we start I would</span> <span data-start="44.34" data-end="46.14">like to quickly introduce myself as</span> <span data-start="46.14" data-end="47.309">mentioned before I'm a developer</span> <span data-start="47.309" data-end="49.46">evangelist for a company called Twilio</span> <span data-start="49.46" data-end="52.8">we do things like api's to send and</span> <span data-start="52.8" data-end="54.48">receive text messages and other things</span> <span data-start="54.48" data-end="56.64">around communications and I live in</span> </p>
<p><span data-start="56.64" data-end="58.109">Berlin but there's one more thing that</span> <span data-start="58.109" data-end="59.879">you should know about me and that's the</span> <span data-start="59.879" data-end="61.26">beautiful part where I can drop this</span> <span data-start="61.26" data-end="64.1">jacket because it's getting really warm</span> <span data-start="64.1" data-end="68.09">and this is where the talk gets awkward</span> <span data-start="68.09" data-end="70.59">all right so I'm a member of a group</span> <span data-start="70.59" data-end="73.14">called one zjs we're a group of onesie</span> <span data-start="73.14" data-end="75.57">loving JavaScript developers that love</span> <span data-start="75.57" data-end="77.4">to go to conferences and care about the</span> <span data-start="77.4" data-end="77.909">community</span> <span data-start="77.909" data-end="79.799">I think fluckey is somewhere here which</span> <span data-start="79.799" data-end="81.119">is the unicorn that is running around</span> <span data-start="81.119" data-end="84.45">I'm not sure if I see him right now but</span> <span data-start="84.45" data-end="86.61">you know like today we have so many</span> <span data-start="86.61" data-end="88.02">social networks and communication</span> <span data-start="88.02" data-end="90.409">channels but there isn't really one for</span> <span data-start="90.409" data-end="92.67">onesie loving developers so being a</span> <span data-start="92.67" data-end="94.11">developer myself I did what every</span> <span data-start="94.11" data-end="95.46">developer does when they're frustrated</span> <span data-start="95.46" data-end="97.65">about something not existing and I built</span> <span data-start="97.65" data-end="100.74">the future great social network called</span> <span data-start="100.74" data-end="103.049">onesie live which is for onesie loving</span> <span data-start="103.049" data-end="105.72">developers so social network which I'm</span> <span data-start="105.72" data-end="108.24">fairly certain will take off I'm not</span> <span data-start="108.24" data-end="109.77">sure why I don't have high traffic yet</span> <span data-start="109.77" data-end="113.009">but it will come and you know like being</span> <span data-start="113.009" data-end="114.93">a developer I obviously made sure that</span> <span data-start="114.93" data-end="118.29">this is as secure as possible and it</span> <span data-start="118.29" data-end="119.579">doesn't have any vulnerabilities</span> <span data-start="119.579" data-end="121.11">especially nothing that can be hacked</span> <span data-start="121.11" data-end="124.86">with a banana so you know I thought of</span> <span data-start="124.86" data-end="128.55">everything it uses HTTPS and things to</span> <span data-start="128.55" data-end="129.869">let's encrypt I don't have to pay a dime</span> <span data-start="129.869" data-end="133.8">for that it uses HSCs which is the HTTPS</span> <span data-start="133.8" data-end="135.99">transport security which just makes sure</span> <span data-start="135.99" data-end="138.09">that there's no downgrading of the</span> <span data-start="138.09" data-end="139.8">traffic so this is typically what blocks</span> <span data-start="139.8" data-end="141.96">you from going to google.com when</span> <span data-start="141.96" data-end="144.09">there's a public Wi-Fi with a captive</span> <span data-start="144.09" data-end="145.74">portal because they're trying to</span> <span data-start="145.74" data-end="147.72">downgrade the connection typically from</span> </p>
<p><span data-start="147.72" data-end="151.77">HTTP to HTTPS and you know I don't allow</span> <span data-start="151.77" data-end="155.52">mixed content so no HTTP content on a</span> <span data-start="155.52" data-end="158.88">website that is served by HTTPS no</span> <span data-start="158.88" data-end="162.27">senator I sanitize the HTML so I allow</span> <span data-start="162.27" data-end="164.61">people to put a mark down but I'll make</span> <span data-start="164.61" data-end="166.05">sure to send out I said before I put it</span> <span data-start="166.05" data-end="167.55">in the page and there's no room for</span> <span data-start="167.55" data-end="169.41">sequel injections because I'm not really</span> <span data-start="169.41" data-end="173.58">using a real database so there's no no</span> <span data-start="173.58" data-end="176.52">way Trav's database injections and i'm</span> <span data-start="176.52" data-end="178.83">not talking about no sequel databases</span> <span data-start="178.83" data-end="181.26">because there are no sequel injections</span> <span data-start="181.26" data-end="182.49">but I'm literally just using a plain</span> <span data-start="182.49" data-end="183.93">storage because I don't believe this</span> <span data-start="183.93" data-end="188.37">will scale but turns out that developing</span> <span data-start="188.37" data-end="190.38">secure web applications isn't as easy as</span> </p>
<p><span data-start="190.38" data-end="192.69">I thought so I contacted my buddy Bob</span> <span data-start="192.69" data-end="195.33">Ellison and he took us and you took a</span> <span data-start="195.33" data-end="197.55">stab at the at the application and kind</span> <span data-start="197.55" data-end="199.2">of try and figure it out a bunch of</span> <span data-start="199.2" data-end="200.67">security vulnerabilities that would like</span> <span data-start="200.67" data-end="202.23">to share with you today and this is</span> <span data-start="202.23" data-end="203.88">where this hood gets really warm so I'm</span> <span data-start="203.88" data-end="207.93">gonna take this off all right so if we</span> <span data-start="207.93" data-end="213.12">go to this page this is basically the</span> <span data-start="213.12" data-end="215.58">login dialog and I'm gonna open the dev</span> <span data-start="215.58" data-end="218.01">tools here so we can want to char the</span> <span data-start="218.01" data-end="220.19">thing and basically what I'm doing</span> <span data-start="220.19" data-end="222.95">typing in my super secure password here</span> <span data-start="222.95" data-end="225.06">and it will just do a normal post</span> <span data-start="225.06" data-end="227.58">request and afterwards I'll send and set</span> <span data-start="227.58" data-end="230.31">an HTTP cookie to maintain the session</span> <span data-start="230.31" data-end="231.78">so if you're not familiar with cookies</span> <span data-start="231.78" data-end="234.3">it's just a way that allows you to</span> <span data-start="234.3" data-end="236.58">maintain session state throughout</span> <span data-start="236.58" data-end="238.11">multiple say throughout multiple</span> <span data-start="238.11" data-end="241.23">sessions by setting a value either by</span> </p>
<p><span data-start="241.23" data-end="244.8">HTTP headers or via JavaScript so if we</span> <span data-start="244.8" data-end="246.42">go into the console here we can actually</span> <span data-start="246.42" data-end="250.95">access that and so I have one that is</span> <span data-start="250.95" data-end="256.14">called auth token and this is what is</span> <span data-start="256.14" data-end="259.41">called a JWT or jots or JSON web token</span> <span data-start="259.41" data-end="262.049">and they're formatted in a very</span> <span data-start="262.049" data-end="264.45">particular way so if we inspect this we</span> <span data-start="264.45" data-end="265.919">can see it has three different parts it</span> <span data-start="265.919" data-end="266.71">has a header</span> <span data-start="266.71" data-end="268.72">which is the RET part it has a purple</span> <span data-start="268.72" data-end="270.759">part which is like the payload and then</span> <span data-start="270.759" data-end="273.85">it has a signature so that's generated</span> <span data-start="273.85" data-end="276.16">by an algorithm that is specified in the</span> <span data-start="276.16" data-end="278.71">header using a secret and if we look</span> <span data-start="278.71" data-end="280.389">here it actually says invalid signature</span> <span data-start="280.389" data-end="281.919">because I was smart enough to not use</span> <span data-start="281.919" data-end="286.03">secret as my secret but unfortunately</span> <span data-start="286.03" data-end="287.56">there is a vulnerability in my app</span> <span data-start="287.56" data-end="290.44">around this that we can exploit and that</span> <span data-start="290.44" data-end="291.97">is because there are different</span> <span data-start="291.97" data-end="293.71">algorithms that you can use to sign your</span> <span data-start="293.71" data-end="295.81">jots and one of them that is mandatory</span> <span data-start="295.81" data-end="298.389">in the spec is none</span> <span data-start="298.389" data-end="299.919">and what nan basically says is that</span> <span data-start="299.919" data-end="302.199">disregard the signature we don't care</span> <span data-start="302.199" data-end="303.789">about it and this is more for like</span> <span data-start="303.789" data-end="305.71">transmitting data than like maintaining</span> <span data-start="305.71" data-end="309.19">session or something but the problem is</span> <span data-start="309.19" data-end="310.96">if we do this and let's have some fun we</span> <span data-start="310.96" data-end="314.32">switch the role here to admin and then I</span> <span data-start="314.32" data-end="317.32">copy this part and this is just basic C</span> <span data-start="317.32" data-end="319.509">important base64 encoded right so this</span> <span data-start="319.509" data-end="322.09">is plain data don't think this is secure</span> <span data-start="322.09" data-end="326.11">or something and I will set this as an</span> <span data-start="326.11" data-end="331.9">auth token then we will we can refresh</span> <span data-start="331.9" data-end="333.94">the page and we'll see that we're now in</span> <span data-start="333.94" data-end="337.599">admin mode and that is because I'm</span> <span data-start="337.599" data-end="339.849">taking the job as a single source of</span> <span data-start="339.849" data-end="341.979">truth so if it says role admin I'm an</span> <span data-start="341.979" data-end="343.51">admin you know I'm not looking to suffer</span> <span data-start="343.51" data-end="347.08">anything and because of that in</span> <span data-start="347.08" data-end="348.43">combination with the algorithm that is</span> <span data-start="348.43" data-end="351.639">none we can have just switch anything</span> <span data-start="351.639" data-end="353.26">and I wouldn't have had to login in the</span> <span data-start="353.26" data-end="354.34">first place I could have just generated</span> <span data-start="354.34" data-end="356.409">this token with any username and sign in</span> <span data-start="356.409" data-end="359.409">as anyone so how can we how can we</span> <span data-start="359.409" data-end="361.449">protect ourselves from that so the first</span> <span data-start="361.449" data-end="362.86">thing is as I mentioned you can set</span> <span data-start="362.86" data-end="364.87">cookies either by a JavaScript or via</span> </p>
<p><span data-start="364.87" data-end="368.05">HTTP headers and you can declare cookies</span> <span data-start="368.05" data-end="370.06">as HTTP only and that means that you</span> <span data-start="370.06" data-end="372.07">can't access these by a JavaScript they</span> <span data-start="372.07" data-end="373.659">will still be send around by the browser</span> <span data-start="373.659" data-end="375.94">but you won't be able to access them in</span> <span data-start="375.94" data-end="377.86">JavaScript manipulate them additionally</span> <span data-start="377.86" data-end="379.24">I should have said this as a signed</span> <span data-start="379.24" data-end="380.86">cookie meaning I won't be able to</span> <span data-start="380.86" data-end="383.199">manipulate this anyways without knowing</span> <span data-start="383.199" data-end="385.57">this the token that was used to sign the</span> <span data-start="385.57" data-end="388.06">cookie and it's secure so this is only</span> <span data-start="388.06" data-end="391.18">transferred by a secure connection but</span> <span data-start="391.18" data-end="392.409">there's another thing I should have done</span> <span data-start="392.409" data-end="396.4">and that evolves around jars of cells so</span> </p>
<p><span data-start="396.4" data-end="399.159">I'm using the JSON web token library on</span> <span data-start="399.159" data-end="399.639">node</span> <span data-start="399.639" data-end="402.219">but I'm using an old version and that</span> <span data-start="402.219" data-end="404.02">one has to floss that the newer one</span> <span data-start="404.02" data-end="407.409">fixes and that is on the one hand the</span> <span data-start="407.409" data-end="409.15">library should provide you with a way to</span> <span data-start="409.15" data-end="411.879">whitelist algorithms so in this case I</span> <span data-start="411.879" data-end="414.849">am in the secure version of this I'm</span> <span data-start="414.849" data-end="418.36">saying that I only allow HS 256 tokens</span> <span data-start="418.36" data-end="422.02">versus nothing else and then the other</span> <span data-start="422.02" data-end="424.81">thing is in this library for example if</span> <span data-start="424.81" data-end="426.879">the secret is set to something that is</span> <span data-start="426.879" data-end="429.219">not null the library will actually not</span> <span data-start="429.219" data-end="431.919">accept none as an algorithm but that's</span> <span data-start="431.919" data-end="434.259">only in the newer libraries so the</span> <span data-start="434.259" data-end="436.569">bottom line here stay up to date because</span> <span data-start="436.569" data-end="438.069">you don't want to be the next Equifax</span> <span data-start="438.069" data-end="439.419">because that's pretty much what happened</span> <span data-start="439.419" data-end="441.61">to them not about jots but about having</span> <span data-start="441.61" data-end="443.529">an older version of an implementation</span> <span data-start="443.529" data-end="445.689">that was known to be vulnerable and I'm</span> <span data-start="445.689" data-end="447.879">not getting around to update it so you</span> <span data-start="447.879" data-end="449.279">don't want to be in the news for that</span> <span data-start="449.279" data-end="453.49">and this is a social network so we can</span> <span data-start="453.49" data-end="456.159">post stuff so let's jump back here and</span> <span data-start="456.159" data-end="457.689">actually post something and I said this</span> <span data-start="457.689" data-end="459.129">was marked so we can write something</span> <span data-start="459.129" data-end="465.4">like hi just cough Iceland and if we</span> <span data-start="465.4" data-end="470.289">post this and we look at the traffic we</span> <span data-start="470.289" data-end="474.679">will see that if I make this bigger</span> <span data-start="474.689" data-end="478.149">there's an HTTP POST request here that</span> <span data-start="478.149" data-end="480.699">actually sets the sense the auth token</span> <span data-start="480.699" data-end="484.12">along and just sense of form data here</span> <span data-start="484.12" data-end="486.939">in the bottom so the this is nice</span> <span data-start="486.939" data-end="488.229">because it's really easy to implement</span> </p>
<p><span data-start="488.229" data-end="490">I'm literally just submitting a form</span> <span data-start="490" data-end="494.849">asynchronously but the combination of</span> <span data-start="494.849" data-end="498.039">form and cookies is also something that</span> <span data-start="498.039" data-end="499.839">can cause a cross-site request forgery</span> <span data-start="499.839" data-end="502.629">attack by attackers so to give you an</span> <span data-start="502.629" data-end="503.979">idea how this works and what this</span> <span data-start="503.979" data-end="504.639">actually is</span> <span data-start="504.639" data-end="508.96">so this is pronounced access access so</span> <span data-start="508.96" data-end="512.589">sometimes it's written as xsrf or a CSRF</span> <span data-start="512.589" data-end="515.32">but typically it's pronounced c surf so</span> <span data-start="515.32" data-end="517.93">if we perform a c Serfaty here it says</span> <span data-start="517.93" data-end="520.419">you got pwned and if we get back to the</span> <span data-start="520.419" data-end="522.43">page and we refresh here we see that</span> <span data-start="522.43" data-end="524.32">actually the attacker was able to post</span> <span data-start="524.32" data-end="527.5">on my behalf on the page and the reason</span> <span data-start="527.5" data-end="529.39">why this works is that the browser is</span> <span data-start="529.39" data-end="531.13">super eager to send all these cookies</span> <span data-start="531.13" data-end="533.2">along on every</span> <span data-start="533.2" data-end="534.73">and if we look at the code that actually</span> <span data-start="534.73" data-end="538">hacked us here all it does is it on</span> <span data-start="538" data-end="541.09">bodies body unload it will submit the</span> <span data-start="541.09" data-end="542.59">form that we have there in this case</span> <span data-start="542.59" data-end="543.94">it's visible but this could have been</span> <span data-start="543.94" data-end="546.49">also just hidden and inside there</span> <span data-start="546.49" data-end="547.99">there's an input tag with a message we</span> <span data-start="547.99" data-end="549.64">want to send again this could be hidden</span> <span data-start="549.64" data-end="553.06">it doesn't have to be visible and then</span> <span data-start="553.06" data-end="555.67">this just submits so and this is really</span> <span data-start="555.67" data-end="557.35">the danger about this because there</span> <span data-start="557.35" data-end="559.66">because the browser is super eager to</span> <span data-start="559.66" data-end="561.49">send this so let's talk about how we can</span> <span data-start="561.49" data-end="564.4">fix this so let me find my slides again</span> <span data-start="564.4" data-end="566.89">all right so apparently I was hacked</span> <span data-start="566.89" data-end="569.56">twice by this application so it's</span> <span data-start="569.56" data-end="572.02">navigate back first and talk about what</span> <span data-start="572.02" data-end="575.83">happened here so when I clicked on the</span> <span data-start="575.83" data-end="578.59">link here I'm using a target blank link</span> <span data-start="578.59" data-end="581.41">here and what this causes is that the</span> <span data-start="581.41" data-end="584.35">attackers page can actually access my</span> <span data-start="584.35" data-end="586.99">page window by using windows open or</span> <span data-start="586.99" data-end="589.54">that location and rewrite that location</span> <span data-start="589.54" data-end="592.27">so in my case I was just the attacker</span> <span data-start="592.27" data-end="594.82">page was just navigating me to another</span> <span data-start="594.82" data-end="597.34">harmless page but this could just as</span> <span data-start="597.34" data-end="600.04">well be a redirection for example to a</span> <span data-start="600.04" data-end="602.41">phishing page it looks like your page so</span> <span data-start="602.41" data-end="604">imagine you you have something like a</span> <span data-start="604" data-end="606.16">social media page where someone can post</span> <span data-start="606.16" data-end="607.51">a link and you always market it with</span> <span data-start="607.51" data-end="609.88">target blank then someone someone could</span> <span data-start="609.88" data-end="613.06">put in a page page link that redirects</span> <span data-start="613.06" data-end="616.36">that original browser to to a phishing</span> <span data-start="616.36" data-end="618.97">page luckily protecting yourself from</span> <span data-start="618.97" data-end="620.44">that as I said pretty straightforward</span> <span data-start="620.44" data-end="623.77">you want to use the rel attribute and</span> <span data-start="623.77" data-end="626.62">set it to no opener no refer no opener</span> <span data-start="626.62" data-end="629.65">basically declares that you don't want</span> <span data-start="629.65" data-end="631.81">to provide access to windows opener and</span> <span data-start="631.81" data-end="634.42">then there is no refer which because</span> <span data-start="634.42" data-end="636.7">some browsers don't support no opener</span> <span data-start="636.7" data-end="639.37">namely ie and I'm not sure if the newest</span> <span data-start="639.37" data-end="641.29">version of edge supports no opener but</span> <span data-start="641.29" data-end="643.87">older versions don't you want to use no</span> <span data-start="643.87" data-end="645.73">refer as well which at least will hide</span> <span data-start="645.73" data-end="647.86">the refer URL so we can protect</span> <span data-start="647.86" data-end="649.36">ourselves from that plus there are some</span> </p>
<p><span data-start="649.36" data-end="652.63">JavaScript scripts that can you that</span> <span data-start="652.63" data-end="655">allow you to have circumvent this as</span> <span data-start="655" data-end="658.3">well to get back to the sea surface acts</span> <span data-start="658.3" data-end="661.03">the approach here is relatively</span> <span data-start="661.03" data-end="663.4">straightforward as well you can use a</span> <span data-start="663.4" data-end="665.74">library like C surf or just implement</span> <span data-start="665.74" data-end="666.97">this yourself but the</span> <span data-start="666.97" data-end="669.009">basic idea is that you will generate a</span> <span data-start="669.009" data-end="672.189">new cookie called underscore Caesar for</span> <span data-start="672.189" data-end="675.279">example where you specify a random token</span> <span data-start="675.279" data-end="677.62">and then you passes token once as a</span> <span data-start="677.62" data-end="679.42">cookie but you also embed it into the</span> <span data-start="679.42" data-end="681.61">page that is supposed to have this for</span> <span data-start="681.61" data-end="684.61">example form submission into for example</span> <span data-start="684.61" data-end="687.459">in in hidden input field and then when</span> <span data-start="687.459" data-end="690.399">you submit the post request in this case</span> <span data-start="690.399" data-end="693.759">you will check if the value in the</span> <span data-start="693.759" data-end="696.25">cookie equals the same value that is</span> <span data-start="696.25" data-end="698.17">either passed in the request body in the</span> <span data-start="698.17" data-end="700.629">request query parameters or in one of</span> <span data-start="700.629" data-end="704.92">the headers like the ones in the example</span> <span data-start="704.92" data-end="706.3">which are the ones that the see serve</span> <span data-start="706.3" data-end="708.37">library checks for and if that's the</span> <span data-start="708.37" data-end="711.79">case then that works and like your you</span> <span data-start="711.79" data-end="713.649">successfully submitted something if this</span> <span data-start="713.649" data-end="715.12">isn't the case it's likely someone who</span> <span data-start="715.12" data-end="716.769">performs a sea-surface against you</span> <span data-start="716.769" data-end="719.35">because they will be able to submit that</span> <span data-start="719.35" data-end="721.54">cookie but they're not able to read that</span> <span data-start="721.54" data-end="723.31">cookie since the browser auto submits</span> <span data-start="723.31" data-end="725.92">this meaning that they will not be able</span> <span data-start="725.92" data-end="728.399">to pass this as a header additionally</span> <span data-start="728.399" data-end="731.05">all right let's talk about little bobby</span> <span data-start="731.05" data-end="732.43">tables younger brother which I call</span> </p>
<p><span data-start="732.43" data-end="736.089">Sammy and the reason is to first give</span> <span data-start="736.089" data-end="738.16">you back a background about little Bobby</span> <span data-start="738.16" data-end="739.809">tables if you're not familiar with that</span> <span data-start="739.809" data-end="743.589">it comes from this xkcd comic which is a</span> <span data-start="743.589" data-end="746.199">joke about sequel injections by a family</span> <span data-start="746.199" data-end="747.91">of hackers who named their kid like a</span> <span data-start="747.91" data-end="751.36">sequel injection and and the principal</span> <span data-start="751.36" data-end="752.68">being mad because they lost all of their</span> <span data-start="752.68" data-end="754">student records because they weren't</span> <span data-start="754" data-end="758.86">sanitizing the input now to get to</span> <span data-start="758.86" data-end="760.93">access isotype does anyone know what</span> <span data-start="760.93" data-end="763.389">this source code is from I would be</span> <span data-start="763.389" data-end="764.709">really impressed if you someone knows</span> <span data-start="764.709" data-end="767.379">this behind so this is the myspace worm</span> <span data-start="767.379" data-end="769.899">or Sammy worm some of you might be</span> <span data-start="769.899" data-end="772.059">familiar with this for those who are not</span> <span data-start="772.059" data-end="774.009">familiar with this this was an XSS</span> <span data-start="774.009" data-end="777.43">attack from 2005 on myspace which would</span> <span data-start="777.43" data-end="780.819">basically repost this code at Sammy as</span> <span data-start="780.819" data-end="782.98">your friend and post that Sammy is</span> <span data-start="782.98" data-end="786.279">awesome that's also how they caught him</span> <span data-start="786.279" data-end="789.04">because if like if your access code</span> <span data-start="789.04" data-end="790.899">points at your myspace profile that's</span> <span data-start="790.899" data-end="792.1">not a smart idea</span> <span data-start="792.1" data-end="794.05">maybe now because myspace isn't much of</span> <span data-start="794.05" data-end="797.05">a thing anymore but especially at that</span> <span data-start="797.05" data-end="799.059">time that wasn't a smart idea but the</span> <span data-start="799.059" data-end="800.5">cool thing about the</span> <span data-start="800.5" data-end="802.42">attack as it shows a couple of things</span> <span data-start="802.42" data-end="805.36">that people use to circumvent XSS</span> <span data-start="805.36" data-end="808.27">protection because myspace actually had</span> </p>
<p><span data-start="808.27" data-end="811.36">XSS protection and yet that wasn't</span> <span data-start="811.36" data-end="813.04">enough because one thing that they said</span> <span data-start="813.04" data-end="814.99">is they don't have our script tags they</span> <span data-start="814.99" data-end="817.81">didn't allow the script Collin in in</span> <span data-start="817.81" data-end="819.46">your else and stuff but they did allow</span> <span data-start="819.46" data-end="822.64">CS inline CSS so Sammy just created a</span> <span data-start="822.64" data-end="824.86">div tag that has a style in it that used</span> <span data-start="824.86" data-end="826.63">background URL and then put JavaScript</span> <span data-start="826.63" data-end="828.34">in there and because he wasn't allowed</span> <span data-start="828.34" data-end="830.71">to use quotes in there he basically took</span> <span data-start="830.71" data-end="833.23">all his code wrapped it into an eval and</span> <span data-start="833.23" data-end="835.57">put the code itself into another HTTP</span> <span data-start="835.57" data-end="838.48">and to another HTML attribute and that</span> <span data-start="838.48" data-end="840.76">would then just be evaluated now the</span> <span data-start="840.76" data-end="842.53">other thing is they blacklisted words</span> <span data-start="842.53" data-end="845.17">like inner HTML or onreadystatechange</span> <span data-start="845.17" data-end="848.56">which is something that is used by xml</span> <span data-start="848.56" data-end="850.96">httprequest so Ajax requests before</span> <span data-start="850.96" data-end="854.53">there was fetch but what Sammy just did</span> <span data-start="854.53" data-end="856.06">is he just turned this into strings</span> <span data-start="856.06" data-end="859.18">split them by a plus and then also</span> <span data-start="859.18" data-end="860.77">basically recon catenate at them and</span> <span data-start="860.77" data-end="862.9">eval the whole thing which equals to the</span> <span data-start="862.9" data-end="864.85">same code but it's harder to reg acts</span> <span data-start="864.85" data-end="867.97">against that and then there's the other</span> <span data-start="867.97" data-end="869.41">thing because if you say that like well</span> </p>
<p><span data-start="869.41" data-end="871.33">I could block eval and then that's fine</span> <span data-start="871.33" data-end="873.7">there were all ways to evaluate code the</span> <span data-start="873.7" data-end="876.43">last one is from a project that I'm not</span> <span data-start="876.43" data-end="877.96">sure if I can name the name because I'm</span> <span data-start="877.96" data-end="880.42">not sure if it violates a code of</span> <span data-start="880.42" data-end="882.61">conduct but talk to Martin clapper over</span> <span data-start="882.61" data-end="885.07">there and he can probably tell you the</span> <span data-start="885.07" data-end="886.54">name oh I can tell you the name</span> <span data-start="886.54" data-end="889.18">afterwards but basically the bottom line</span> <span data-start="889.18" data-end="890.86">here is there are a bunch of ways to</span> <span data-start="890.86" data-end="892.84">write the same code in JavaScript so you</span> <span data-start="892.84" data-end="896.02">can't just block like a single word or</span> <span data-start="896.02" data-end="897.7">like blacklist certain words because</span> <span data-start="897.7" data-end="901.12">that doesn't help you so blocking XSL is</span> <span data-start="901.12" data-end="902.83">not exercise is not trivial and</span> <span data-start="902.83" data-end="904.53">obviously have a demo for that as well</span> <span data-start="904.53" data-end="908.05">and so I told you I'm using marks down</span> <span data-start="908.05" data-end="910.03">here and I'm using a library called</span> <span data-start="910.03" data-end="913.06">marked and if you're not on the latest</span> <span data-start="913.06" data-end="915.1">version but like a few versions back so</span> <span data-start="915.1" data-end="917.95">not really old even though it has a</span> <span data-start="917.95" data-end="919.57">function that allows you to sanitize</span> <span data-start="919.57" data-end="923.02">stuff so we can do stuff like alert 1</span> <span data-start="923.02" data-end="927.28">and this will not work there is a</span> <span data-start="927.28" data-end="930.79">security vulnerability in here so we can</span> <span data-start="930.79" data-end="932.91">create links right</span> <span data-start="932.91" data-end="935">and I can do something like click me and</span> <span data-start="935" data-end="938.64">in here if we would write JavaScript :</span> <span data-start="938.64" data-end="945.75">alert hello JS conf then copy this this</span> <span data-start="945.75" data-end="947.34">doesn't work directly because the</span> <span data-start="947.34" data-end="949.68">sanitizer is smart enough to do that but</span> <span data-start="949.68" data-end="951.27">we can we can play around with this and</span> <span data-start="951.27" data-end="955.41">shout out to guy from sneek who actually</span> <span data-start="955.41" data-end="958.2">showed this to me let's do some fun</span> <span data-start="958.2" data-end="961.86">stuff with encoding so ampersand hash 51</span> <span data-start="961.86" data-end="963.6">semicolon is literally the same as a</span> <span data-start="963.6" data-end="967.2">closing parenthesis and similarly a</span> </p>
<p><span data-start="967.2" data-end="970.2">Colin is M percent hash 50 aint</span> <span data-start="970.2" data-end="972.54">semicolon and I'm gonna copy this and if</span> <span data-start="972.54" data-end="973.47">we look at this this is already</span> <span data-start="973.47" data-end="974.97">difference because some we don't have</span> <span data-start="974.97" data-end="976.83">the closing parenthesis anymore so we're</span> <span data-start="976.83" data-end="978.12">getting there</span> <span data-start="978.12" data-end="981.06">now we can use a sort of quirkiness in</span> <span data-start="981.06" data-end="984.38">the browser and actually write this here</span> <span data-start="984.38" data-end="987.6">and what this will do let's first try</span> <span data-start="987.6" data-end="990.9">this it works and the reason why this</span> <span data-start="990.9" data-end="993.69">works is that the browser so so first of</span> <span data-start="993.69" data-end="996.27">all the HTML sanitizer will see this and</span> <span data-start="996.27" data-end="999.15">doesn't it doesn't see JavaScript : so</span> <span data-start="999.15" data-end="1002.51">it's like I'm fine with that but the</span> <span data-start="1002.51" data-end="1004.07">browser will see oh you have an</span> <span data-start="1004.07" data-end="1007.25">ampersand a hash your number I think you</span> <span data-start="1007.25" data-end="1009.08">just forgot the semicolon so I'll be a</span> <span data-start="1009.08" data-end="1013.94">good guy and insert this and then</span> <span data-start="1013.94" data-end="1015.29">everything afterwards turns into</span> </p>
<p><span data-start="1015.29" data-end="1017.18">JavaScript so this semicolon is valid</span> <span data-start="1017.18" data-end="1018.41">JavaScript so it doesn't complain about</span> <span data-start="1018.41" data-end="1019.91">that and then we can do anything</span> <span data-start="1019.91" data-end="1024.83">afterwards so we've seen this works and</span> <span data-start="1024.83" data-end="1026.33">the bottom line here is encoding can be</span> <span data-start="1026.33" data-end="1028.91">dangerous don't trust it don't trust any</span> <span data-start="1028.91" data-end="1030.83">code that you user can put in because</span> <span data-start="1030.83" data-end="1033.32">they can just modify it in like</span> <span data-start="1033.32" data-end="1034.61">different ways to kind of get around</span> <span data-start="1034.61" data-end="1037.73">that also CSS don't trust CSS I don't</span> <span data-start="1037.73" data-end="1039.74">have time to dig into that now but don't</span> <span data-start="1039.74" data-end="1041.12">trust it and Jake Archibald actually</span> <span data-start="1041.12" data-end="1042.65">just tweeted about this two days ago</span> <span data-start="1042.65" data-end="1045.71">again with a new blog post um really</span> <span data-start="1045.71" data-end="1047.06">don't trust users there's a bunch of</span> <span data-start="1047.06" data-end="1049.1">stuff you can do with about it and I</span> <span data-start="1049.1" data-end="1050.39">highly recommend you to check out this</span> <span data-start="1050.39" data-end="1052.55">tweet or like the blog post in this</span> <span data-start="1052.55" data-end="1056.48">tweet let's talk about another thing</span> <span data-start="1056.48" data-end="1059.42">and that's Jason P so jason with padding</span> <span data-start="1059.42" data-end="1062.3">it's being used less these days but</span> <span data-start="1062.3" data-end="1064.9">basically it's a way to circumvent</span> <span data-start="1064.9" data-end="1066.68">same-origin policy</span> <span data-start="1066.68" data-end="1068.87">so if you want to request some data from</span> <span data-start="1068.87" data-end="1071.42">a different domain you could do this and</span> <span data-start="1071.42" data-end="1073.85">the way it works is you define a global</span> <span data-start="1073.85" data-end="1075.32">function if you would use something like</span> </p>
<p><span data-start="1075.32" data-end="1077.96">Jason J queries JSONP method it would</span> <span data-start="1077.96" data-end="1079.94">define this for you but it's basically a</span> <span data-start="1079.94" data-end="1081.71">callback function that has to be global</span> <span data-start="1081.71" data-end="1085.37">where you expect the code to let the</span> <span data-start="1085.37" data-end="1087.29">data to be passed in to you and then you</span> <span data-start="1087.29" data-end="1091.37">inject a script tag with that JSONP URL</span> <span data-start="1091.37" data-end="1093.8">and pass in as a callback for example or</span> <span data-start="1093.8" data-end="1095.39">any other parameter depending on the</span> <span data-start="1095.39" data-end="1098.48">endpoint you define the name of the</span> <span data-start="1098.48" data-end="1101.6">function in this page play in this case</span> <span data-start="1101.6" data-end="1103.91">it's called got posts and what what this</span> <span data-start="1103.91" data-end="1105.71">will do is the JSONP endpoint will take</span> <span data-start="1105.71" data-end="1108.23">that name and then wrap the data into a</span> <span data-start="1108.23" data-end="1111.32">function call with that name now if you</span> <span data-start="1111.32" data-end="1114.32">use that but you write poor JSONP and</span> <span data-start="1114.32" data-end="1116.45">combine that with the XSS attack now</span> <span data-start="1116.45" data-end="1118.94">this is getting fun because my JSONP</span> <span data-start="1118.94" data-end="1122.15">endpoint does not verify what I pass and</span> <span data-start="1122.15" data-end="1125.45">as a callback and that means that we can</span> </p>
<p><span data-start="1125.45" data-end="1128.54">I'm in the wrong tab we can generate</span> <span data-start="1128.54" data-end="1131.48">arbitrary JavaScript here and this gets</span> <span data-start="1131.48" data-end="1134.27">really fun I'm gonna first show it to</span> <span data-start="1134.27" data-end="1136.03">you and then explain what's going on so</span> <span data-start="1136.03" data-end="1138.83">this is a bit over the longer code</span> <span data-start="1138.83" data-end="1142.04">snippet so I'm gonna copy this so I'm</span> <span data-start="1142.04" data-end="1143.84">gonna press this and then click this</span> <span data-start="1143.84" data-end="1146.27">button and nothing happens but if i</span> <span data-start="1146.27" data-end="1150.62">refresh the page we get this and I can</span> <span data-start="1150.62" data-end="1152.69">refresh as many times as a1 it will stay</span> <span data-start="1152.69" data-end="1155.18">like this so the reason why this why</span> <span data-start="1155.18" data-end="1158.06">this is happening is if we go to</span> <span data-start="1158.06" data-end="1160.22">application</span> </p>
<p><span data-start="1160.22" data-end="1164.36">I installed a serviceworker and if you</span> <span data-start="1164.36" data-end="1166.1">know if you don't know what service</span> <span data-start="1166.1" data-end="1168.8">workers are there an api from the</span> <span data-start="1168.8" data-end="1171.38">browser that allows you to handle the</span> <span data-start="1171.38" data-end="1174.11">network proxy so that you can it's made</span> <span data-start="1174.11" data-end="1176.09">for things like offline available apps</span> <span data-start="1176.09" data-end="1178.31">so you can cache your website and your</span> <span data-start="1178.31" data-end="1181.01">resources and kind of handle which ones</span> <span data-start="1181.01" data-end="1182.18">you want to cache and which ones you</span> <span data-start="1182.18" data-end="1185.45">don't but it can pretty much do anything</span> <span data-start="1185.45" data-end="1187.49">because it can intercept the network</span> <span data-start="1187.49" data-end="1190.13">requests right now the browsers are</span> <span data-start="1190.13" data-end="1191.93">smart enough to make sure that this can</span> <span data-start="1191.93" data-end="1193.7">only be like a serviceworker can only be</span> <span data-start="1193.7" data-end="1196.55">installed from your domain but if your</span> <span data-start="1196.55" data-end="1198.26">domain has something like a vulnerable</span> </p>
<p><span data-start="1198.26" data-end="1200.72">JSONP implementation that allows you to</span> <span data-start="1200.72" data-end="1202.669">right arbitrary JavaScript code hosted</span> <span data-start="1202.669" data-end="1205.159">on your domain then you have the problem</span> <span data-start="1205.159" data-end="1206.809">like this so we can actually see the</span> <span data-start="1206.809" data-end="1208.46">callback parameter here is really long</span> <span data-start="1208.46" data-end="1210.11">because it's literally the entire</span> <span data-start="1210.11" data-end="1212.809">JavaScript that I wanted to generate and</span> <span data-start="1212.809" data-end="1215.24">if we pretty fly this here we can see</span> <span data-start="1215.24" data-end="1216.44">what's actually happening so I'm</span> <span data-start="1216.44" data-end="1219.919">creating a serviceworker script and then</span> <span data-start="1219.919" data-end="1221.63">every the entire data because I don't</span> <span data-start="1221.63" data-end="1224.09">really care about it just commented and</span> <span data-start="1224.09" data-end="1225.83">in here what we do is we just cover</span> <span data-start="1225.83" data-end="1227.12">apply always with a hacked and the</span> <span data-start="1227.12" data-end="1229.58">script tag injected but this is an</span> <span data-start="1229.58" data-end="1231.47">obvious attack but you could do it in a</span> <span data-start="1231.47" data-end="1233.48">like less obvious way as well right you</span> <span data-start="1233.48" data-end="1236.15">could actually fetch the page inject a</span> <span data-start="1236.15" data-end="1237.89">script tag and then send that to the</span> <span data-start="1237.89" data-end="1239.39">user and the user will not recognize</span> <span data-start="1239.39" data-end="1241.669">this especially not a common user who</span> <span data-start="1241.669" data-end="1243.049">doesn't have the dev tool to open and</span> <span data-start="1243.049" data-end="1245.15">checks with serviceworkers are installed</span> </p>
<p><span data-start="1245.15" data-end="1248.03">I mean how many often did you do let's</span> <span data-start="1248.03" data-end="1249.14">see I think they still have that</span> <span data-start="1249.14" data-end="1251.72">checkbox or something oh it's down here</span> <span data-start="1251.72" data-end="1253.22">so there's a drop-down here called</span> <span data-start="1253.22" data-end="1255.26">search workers from other domains that's</span> <span data-start="1255.26" data-end="1256.64">a lot of fun open that and you will see</span> <span data-start="1256.64" data-end="1258.32">how many people actually install service</span> <span data-start="1258.32" data-end="1259.909">workers but you're not reading that code</span> <span data-start="1259.909" data-end="1261.409">so you have no idea what these service</span> <span data-start="1261.409" data-end="1264.59">workers do so it's sort of a dangerous</span> <span data-start="1264.59" data-end="1267.98">attack that's actually remove this</span> <span data-start="1267.98" data-end="1270.71">because I also forget about it on</span> <span data-start="1270.71" data-end="1275.09">register so if we reload this now this</span> <span data-start="1275.09" data-end="1276.409">works but you obviously don't want to</span> <span data-start="1276.409" data-end="1279.35">explain your customers please go to your</span> <span data-start="1279.35" data-end="1282.289">browser and then click on application in</span> <span data-start="1282.289" data-end="1284.15">the command the dev tools and then click</span> <span data-start="1284.15" data-end="1286.159">on register on this thing called</span> <span data-start="1286.159" data-end="1289.76">serviceworker so far we've seen like</span> <span data-start="1289.76" data-end="1292.039">different XSS attacks and we should fix</span> <span data-start="1292.039" data-end="1294.2">all of these and also all the other</span> <span data-start="1294.2" data-end="1296.03">attacks that we have in there but there</span> <span data-start="1296.03" data-end="1298.4">is a new superhero in town that allows</span> <span data-start="1298.4" data-end="1300.799">you to protect yourself at least against</span> <span data-start="1300.799" data-end="1302.96">some of these and that's called content</span> <span data-start="1302.96" data-end="1306.47">security policy or CSP and I haven't</span> <span data-start="1306.47" data-end="1308.12">demo for that and this is the exact same</span> <span data-start="1308.12" data-end="1310.789">page all that I'm doing is I'm injecting</span> <span data-start="1310.789" data-end="1313.669">an HTTP header and we can see that if I</span> <span data-start="1313.669" data-end="1316.97">click on any of these and refresh</span> <span data-start="1316.97" data-end="1319.309">nothing happens no difference the only</span> <span data-start="1319.309" data-end="1320.57">difference is I'm not showing some</span> <span data-start="1320.57" data-end="1324.38">pictures here and if we open this and go</span> <span data-start="1324.38" data-end="1325.789">to the console we'll see we have a bunch</span> <span data-start="1325.789" data-end="1328.07">of errors and that's because it says</span> <span data-start="1328.07" data-end="1330.08">that it violates the following content</span> <span data-start="1330.08" data-end="1332.929">security policy so what does that</span> <span data-start="1332.929" data-end="1334.94">actually mean</span> <span data-start="1334.94" data-end="1337.19">so I said content security policy it's</span> <span data-start="1337.19" data-end="1339.68">just an HTTP header that you can define</span> <span data-start="1339.68" data-end="1341.42">rules that the browser should play by</span> <span data-start="1341.42" data-end="1344.12">for your resources so this can be things</span> <span data-start="1344.12" data-end="1346.43">like by default anything hosted on my</span> <span data-start="1346.43" data-end="1348.59">domain is fine but for scripts and</span> <span data-start="1348.59" data-end="1350.21">styles I only want to have things that</span> <span data-start="1350.21" data-end="1351.98">have the following neurons and there's</span> <span data-start="1351.98" data-end="1353.87">nonce changes on every request so this</span> <span data-start="1353.87" data-end="1356.66">can't be hard-coded by the attacker and</span> <span data-start="1356.66" data-end="1358.52">that means that no more inline scripts</span> <span data-start="1358.52" data-end="1360.62">unless they have an HTML attribute</span> <span data-start="1360.62" data-end="1364.04">called nones similarly no inline styles</span> <span data-start="1364.04" data-end="1366.14">or anything and that's why the alert 1</span> <span data-start="1366.14" data-end="1368.36">or these XSS attacks don't work</span> </p>
<p><span data-start="1368.36" data-end="1371.63">I'm blocking objects here image source</span> <span data-start="1371.63" data-end="1374">I'm only specifying self and API to the</span> <span data-start="1374" data-end="1375.77">Dorobo dial which is what I use for the</span> <span data-start="1375.77" data-end="1379.13">user icons fund source I only allow</span> <span data-start="1379.13" data-end="1381.47">Google Fonts itself I block all mixed</span> <span data-start="1381.47" data-end="1383.42">content meaning no HTTP content in my</span> <span data-start="1383.42" data-end="1385.64">page and then I specify report your I</span> <span data-start="1385.64" data-end="1388.07">and this report your I will be paint on</span> <span data-start="1388.07" data-end="1390.77">every violation within with an HTTP POST</span> <span data-start="1390.77" data-end="1393.11">request there are tools that you can</span> <span data-start="1393.11" data-end="1394.25">point this against but you can also</span> <span data-start="1394.25" data-end="1396.29">point this against any endpoint on your</span> <span data-start="1396.29" data-end="1398.45">server and this will report it there's</span> <span data-start="1398.45" data-end="1400.73">also a report only flag and that one</span> <span data-start="1400.73" data-end="1404.06">allows you to say that you want to only</span> <span data-start="1404.06" data-end="1405.65">get the information that something has</span> <span data-start="1405.65" data-end="1407.18">been violated but you don't block the</span> <span data-start="1407.18" data-end="1409.1">actual content and this is great for to</span> <span data-start="1409.1" data-end="1411.62">have transitioning into it especially if</span> <span data-start="1411.62" data-end="1413.15">you want to test this first in like a</span> <span data-start="1413.15" data-end="1416.96">local environment or something but the</span> <span data-start="1416.96" data-end="1418.76">important thing here is to keep in mind</span> <span data-start="1418.76" data-end="1420.83">is that CSP should not be your security</span> <span data-start="1420.83" data-end="1423.41">policy it should be or security strategy</span> <span data-start="1423.41" data-end="1425.87">it should be your safety net because</span> <span data-start="1425.87" data-end="1430.07">writing a really strong CSP is hard and</span> <span data-start="1430.07" data-end="1431.99">there's a great paper by Google about</span> <span data-start="1431.99" data-end="1434.45">this well sort of like about the dangers</span> <span data-start="1434.45" data-end="1437.57">of this and meaning you should only have</span> <span data-start="1437.57" data-end="1438.83">this as a safety net but you should</span> <span data-start="1438.83" data-end="1441.83">still care about XSS attacks and similar</span> <span data-start="1441.83" data-end="1446.33">similar things a couple of other things</span> <span data-start="1446.33" data-end="1448.01">that you should look out for you should</span> <span data-start="1448.01" data-end="1449.75">avoid clickjacking by disallowing</span> <span data-start="1449.75" data-end="1453.02">framing I think most websites don't have</span> <span data-start="1453.02" data-end="1454.55">a legitimate reason why they should be</span> <span data-start="1454.55" data-end="1458.06">allowing to be iframed and if you do</span> <span data-start="1458.06" data-end="1459.89">allow a framing what an attacker can do</span> <span data-start="1459.89" data-end="1462.35">is they can place your page with an</span> <span data-start="1462.35" data-end="1464.99">opacity of zero above their page and</span> <span data-start="1464.99" data-end="1467.64">have lineup buttons so that the</span> <span data-start="1467.64" data-end="1469.77">that user things they're interacting</span> <span data-start="1469.77" data-end="1471.63">with their page but they're really</span> <span data-start="1471.63" data-end="1475.29">interacting with your page and so this</span> <span data-start="1475.29" data-end="1478.11">is what people could use for example to</span> <span data-start="1478.11" data-end="1480.03">like if you want to like a page or</span> <span data-start="1480.03" data-end="1481.68">something like that which like Facebook</span> <span data-start="1481.68" data-end="1484.41">blocks I Framing but you could do</span> <span data-start="1484.41" data-end="1485.85">something similar</span> <span data-start="1485.85" data-end="1488.04">also don't chill versions of front-end</span> <span data-start="1488.04" data-end="1490.2">libraries and servers so there are</span> <span data-start="1490.2" data-end="1491.67">things like unpackage and stuff very</span> <span data-start="1491.67" data-end="1495.03">really useful to to develop things but</span> <span data-start="1495.03" data-end="1497.4">if you show a version number in your in</span> <span data-start="1497.4" data-end="1499.56">your HTML page or in your HTTP headers</span> <span data-start="1499.56" data-end="1500.97">like hey I'm using Express version</span> <span data-start="1500.97" data-end="1504.69">whatever this can gives an attacker the</span> <span data-start="1504.69" data-end="1506.97">right idea of what security vulnerable</span> <span data-start="1506.97" data-end="1509.49">honorable vulnerabilities to test out</span> <span data-start="1509.49" data-end="1511.47">and you don't want to make their job</span> <span data-start="1511.47" data-end="1514.98">easier and then check for types of input</span> <span data-start="1514.98" data-end="1516.48">because there can be things like no</span> <span data-start="1516.48" data-end="1519.27">sequel injections if you expect a value</span> <span data-start="1519.27" data-end="1521.58">to be a string in an HTTP and like an</span> </p>
<p><span data-start="1521.58" data-end="1523.95">HTML HTTP body or in a query parameter</span> <span data-start="1523.95" data-end="1526.86">check that is really a string don't just</span> <span data-start="1526.86" data-end="1528.24">assume it because there are things said</span> <span data-start="1528.24" data-end="1530.67">some partial libraries that will parse</span> <span data-start="1530.67" data-end="1533.13">things like objects as well and if you</span> <span data-start="1533.13" data-end="1536.49">do that the result is that you could for</span> <span data-start="1536.49" data-end="1539.22">example have a no sequel injection other</span> <span data-start="1539.22" data-end="1541.41">things consider security audits</span> <span data-start="1541.41" data-end="1543.06">especially if your code base has never</span> <span data-start="1543.06" data-end="1545.43">had a security audit if you don't have</span> <span data-start="1545.43" data-end="1548.61">an internal security expert contract one</span> <span data-start="1548.61" data-end="1551.7">because there's so many things that it's</span> <span data-start="1551.7" data-end="1554.91">really hard to keep up with that this is</span> <span data-start="1554.91" data-end="1556.68">really helpful and you learn yourself a</span> <span data-start="1556.68" data-end="1557.73">lot as well if you look over their</span> <span data-start="1557.73" data-end="1559.47">shoulder that's how I learned most of</span> <span data-start="1559.47" data-end="1561">this stuff was when I had to go through</span> <span data-start="1561" data-end="1564.03">security audit with a feature and then</span> <span data-start="1564.03" data-end="1565.98">stay up to date with versions because as</span> </p>
<p><span data-start="1565.98" data-end="1567.09">I said you don't want to be the next</span> <span data-start="1567.09" data-end="1569.46">Equifax greenkeepers a useful tool but</span> <span data-start="1569.46" data-end="1571.41">there are other tools as well similarly</span> <span data-start="1571.41" data-end="1573.59">use a tool to detect security</span> <span data-start="1573.59" data-end="1575.52">vulnerabilities in your dependencies</span> <span data-start="1575.52" data-end="1577.8">because you can write the most secure</span> <span data-start="1577.8" data-end="1579.96">code but if your dependencies are</span> <span data-start="1579.96" data-end="1582">vulnerable that sort of defeats the</span> <span data-start="1582" data-end="1583.14">purpose</span> <span data-start="1583.14" data-end="1585.87">so sneek is one of them I like I like</span> <span data-start="1585.87" data-end="1587.37">them because they also provide patches</span> <span data-start="1587.37" data-end="1589.17">for things if they're too late so for</span> <span data-start="1589.17" data-end="1592.17">example marked still has a one or like</span> <span data-start="1592.17" data-end="1593.76">fix that vulnerability that I showed you</span> <span data-start="1593.76" data-end="1595.41">but they still have a vulnerability</span> <span data-start="1595.41" data-end="1597.84">about data your eyes and that still</span> <span data-start="1597.84" data-end="1601.32">didn't make it into the into the</span> <span data-start="1601.32" data-end="1603.059">package at least last I checked but</span> <span data-start="1603.059" data-end="1604.38">sneak for example has a patch for that</span> <span data-start="1604.38" data-end="1605.669">but there are other tools like no</span> <span data-start="1605.669" data-end="1608.61">security project and etc that check for</span> <span data-start="1608.61" data-end="1610.679">this as well github I think against your</span> <span data-start="1610.679" data-end="1612.659">package Jason as well and tells you</span> <span data-start="1612.659" data-end="1616.529">about vulnerabilities so to wrap this up</span> <span data-start="1616.529" data-end="1620.009">you signed HTTP only cookies be</span> <span data-start="1620.009" data-end="1621.779">skeptical of jobs don't treat them as a</span> <span data-start="1621.779" data-end="1625.679">single source of truth use something</span> <span data-start="1625.679" data-end="1628.409">like use rel no opener nor refer on your</span> <span data-start="1628.409" data-end="1631.2">target blank links use C surf tokens</span> <span data-start="1631.2" data-end="1633.299">it's really easy to use so there's no</span> <span data-start="1633.299" data-end="1635.12">real excuse to not do it</span> <span data-start="1635.12" data-end="1637.559">blocking XSS isn't trivial so always</span> <span data-start="1637.559" data-end="1639.12">think about like whenever you let the</span> <span data-start="1639.12" data-end="1641.07">user input anything or if you have query</span> <span data-start="1641.07" data-end="1643.86">parameters or something always think of</span> <span data-start="1643.86" data-end="1645.87">these and make sure that they can't</span> <span data-start="1645.87" data-end="1648.24">cause harm be aware of encoding because</span> <span data-start="1648.24" data-end="1649.44">there are a million ways to write the</span> <span data-start="1649.44" data-end="1653.22">same thing be careful with JSONP a JSONP</span> <span data-start="1653.22" data-end="1654.899">endpoint should really only accept word</span> <span data-start="1654.899" data-end="1657.149">characters in a callback and nothing</span> <span data-start="1657.149" data-end="1658.23">else</span> <span data-start="1658.23" data-end="1663.419">use CSP as a safety net and most</span> <span data-start="1663.419" data-end="1666.149">importantly stay up to date so I put up</span> <span data-start="1666.149" data-end="1667.47">the slides here I'm gonna tweet the link</span> <span data-start="1667.47" data-end="1670.32">in a second so you can check them out</span> <span data-start="1670.32" data-end="1671.19">again</span> <span data-start="1671.19" data-end="1673.409">similarly the whole source code of the</span> <span data-start="1673.409" data-end="1676.1">website is on this URL including</span> <span data-start="1676.1" data-end="1678.779">different readme files for every of</span> <span data-start="1678.779" data-end="1680.1">these vulnerable to said I showed you</span> <span data-start="1680.1" data-end="1681.36">plus a couple of others that are in</span> <span data-start="1681.36" data-end="1683.73">there including resources that are</span> <span data-start="1683.73" data-end="1685.259">interesting about the respective topic</span> <span data-start="1685.259" data-end="1687.269">and with that I would like to thank you</span> <span data-start="1687.269" data-end="1688.379">all for your attention I'll be around</span> <span data-start="1688.379" data-end="1690.33">for the rest of the day wearing likely</span> <span data-start="1690.33" data-end="1691.86">this jacket instead of the onesie</span> <span data-start="1691.86" data-end="1693.269">because this is really warm even in</span> </p>
<p><span data-start="1693.269" data-end="1697.11">Iceland and yeah come come by ask me any</span> <span data-start="1697.11" data-end="1698.46">questions and thank you for your</span> <span data-start="1698.46" data-end="1699.25">attention</span> </p>
</section>