<section>
<p><span data-start="6.31" data-end="10.42">can everyone hear me okay cool</span> <span data-start="10.42" data-end="13.94">hi I'm Amy well bellow I go by cellular</span> <span data-start="13.94" data-end="15.29">Hg on the Internet</span> <span data-start="15.29" data-end="17.51">I'm a programmer and electrical engineer</span> <span data-start="17.51" data-end="19.66">by trade with an interest in combining</span> <span data-start="19.66" data-end="22.009">computing an art and an interest in</span> <span data-start="22.009" data-end="24.529">making STEM education more inclusive and</span> <span data-start="24.529" data-end="27.86">accessible after working as a web</span> <span data-start="27.86" data-end="30.14">developer for several years a couple</span> <span data-start="30.14" data-end="31.669">years ago I founded my own company</span> <span data-start="31.669" data-end="34.16">called bubble sort genes to try to write</span> <span data-start="34.16" data-end="36.2">learning materials to make computer</span> <span data-start="36.2" data-end="38.42">science concept more inclusive and</span> <span data-start="38.42" data-end="39.83">accessible with stories and</span> <span data-start="39.83" data-end="43.94">illustrations and in that vein this</span> <span data-start="43.94" data-end="45.32">presentation is going to use</span> <span data-start="45.32" data-end="47.24">illustrations to help prove the</span> <span data-start="47.24" data-end="49.07">algorithm to calculate the phase of the</span> </p>
<p><span data-start="49.07" data-end="54.98">Moon so let me set the scene for you it</span> <span data-start="54.98" data-end="57.02">was midnight and the which side in her</span> <span data-start="57.02" data-end="59.36">tower boom as midnight as the moonlight</span> <span data-start="59.36" data-end="61.64">danced through the window she was deep</span> <span data-start="61.64" data-end="65.6">in thought and calculation these runes</span> <span data-start="65.6" data-end="67.43">were giving her trouble but she felt</span> <span data-start="67.43" data-end="69.32">confident that she could solve them and</span> <span data-start="69.32" data-end="71.539">with them the secrets of the moon with a</span> <span data-start="71.539" data-end="74.569">few more tries the runes keeping her</span> <span data-start="74.569" data-end="77.06">awake and keeping her from the secrets</span> <span data-start="77.06" data-end="79.64">of the moon weren't Egyptian hieroglyphs</span> <span data-start="79.64" data-end="82.039">nor ancient etruscan they were</span> <span data-start="82.039" data-end="85.639">trigonometry if you two have been</span> <span data-start="85.639" data-end="87.77">frustrated or terrified by trigonometry</span> <span data-start="87.77" data-end="90.56">fret not would it be as satisfying to</span> <span data-start="90.56" data-end="93.079">unlock the secrets of the universe if it</span> <span data-start="93.079" data-end="95.27">were straightforward it might be</span> <span data-start="95.27" data-end="97.28">challenging but we can do it right now</span> <span data-start="97.28" data-end="100.7">here together let's use trigonometry to</span> <span data-start="100.7" data-end="104.869">calculate the phases of the Moon so a</span> <span data-start="104.869" data-end="106.31">couple months ago I found this</span> </p>
<p><span data-start="106.31" data-end="107.689">JavaScript library that makes</span> <span data-start="107.689" data-end="110.029">astronomical calculations including this</span> <span data-start="110.029" data-end="112.279">function for calculating what fraction</span> <span data-start="112.279" data-end="114.409">of the moon is illuminated on any given</span> <span data-start="114.409" data-end="114.909">day</span> <span data-start="114.909" data-end="117.59">my first thought to myself was whoa this</span> <span data-start="117.59" data-end="121.67">library is rad my second thought was can</span> <span data-start="121.67" data-end="123.02">I prove this equation from first</span> <span data-start="123.02" data-end="125.869">principle and when I say first</span> <span data-start="125.869" data-end="128.24">principles I mean very first principles</span> <span data-start="128.24" data-end="130.069">let's start off with a very basic</span> <span data-start="130.069" data-end="134.26">question what even is a moon phase</span> <span data-start="134.26" data-end="135.95">depending on the day</span> <span data-start="135.95" data-end="138.5">sometimes we see the moon as a crust</span> <span data-start="138.5" data-end="140.78">sometimes we see half of the moon lit</span> <span data-start="140.78" data-end="143.39">and sometimes we see the moon as a full</span> <span data-start="143.39" data-end="148.79">circle what causes this so here we have</span> <span data-start="148.79" data-end="151.94">the Sun the earth and the moon which</span> <span data-start="151.94" data-end="153.98">orbits around the earth these are not</span> <span data-start="153.98" data-end="158.03">drawn to scale at all that's why notice</span> <span data-start="158.03" data-end="160.16">that as the moon orbits around the earth</span> <span data-start="160.16" data-end="163.46">the side facing the Sun is the only side</span> <span data-start="163.46" data-end="167.96">that is illuminated imagine standing on</span> <span data-start="167.96" data-end="170.27">earth as the moon is in each of these</span> <span data-start="170.27" data-end="172.16">different points in its orbit around the</span> </p>
<p><span data-start="172.16" data-end="172.61">Earth</span> <span data-start="172.61" data-end="175.13">for example let's imagine standing on</span> <span data-start="175.13" data-end="177.32">earth looking towards the moon in the</span> <span data-start="177.32" data-end="180.23">direction of this arrow while the moon</span> <span data-start="180.23" data-end="183.35">is at its rightmost position here what</span> <span data-start="183.35" data-end="187.459">you see from Earth is from the arrows</span> <span data-start="187.459" data-end="189.29">point of view is the unlit side of the</span> <span data-start="189.29" data-end="193.37">moon what we know as a new moon now</span> <span data-start="193.37" data-end="195.8">let's imagine standing on earth looking</span> <span data-start="195.8" data-end="197.63">towards the moon in the direction of</span> <span data-start="197.63" data-end="200.39">this arrow while the moon is at its</span> <span data-start="200.39" data-end="203.81">bottom most position here what you see</span> <span data-start="203.81" data-end="207.2">from Earth is that half of the circle of</span> <span data-start="207.2" data-end="209.36">the moon is illuminated what we know</span> <span data-start="209.36" data-end="212.769">somewhat confusingly as a quarter moon</span> <span data-start="212.769" data-end="215.39">now let's imagine standing on earth</span> <span data-start="215.39" data-end="217.459">looking towards the moon in the</span> <span data-start="217.459" data-end="218.959">direction of this arrow while the moon</span> <span data-start="218.959" data-end="221.69">is at the leftmost position here what</span> <span data-start="221.69" data-end="223.67">you see from Earth from the arrows point</span> <span data-start="223.67" data-end="226.04">of view is the full illuminated face of</span> <span data-start="226.04" data-end="230.42">the moon known as a full moon cool so</span> <span data-start="230.42" data-end="232.549">now we know that the moon phase depends</span> <span data-start="232.549" data-end="234.5">on the relative positions of the moon</span> <span data-start="234.5" data-end="238.299">earth and Sun let's define some terms</span> <span data-start="238.299" data-end="241.34">the algorithm that we looked at uses two</span> <span data-start="241.34" data-end="243.35">different angles which are labeled in</span> <span data-start="243.35" data-end="244.88">the comments as the geocentric</span> <span data-start="244.88" data-end="246.98">elongation of a moon from the Sun and</span> <span data-start="246.98" data-end="249.35">the Cellino centric elongation of the</span> </p>
<p><span data-start="249.35" data-end="251.06">Earth's from the Sun what does that even</span> <span data-start="251.06" data-end="254.66">mean so the word geocentric means</span> <span data-start="254.66" data-end="257.239">centering the earth in other words it</span> <span data-start="257.239" data-end="259.07">means making calculations from the</span> </p>
<p><span data-start="259.07" data-end="261.5">Earth's point of view as if the Moon and</span> <span data-start="261.5" data-end="263.63">Sun revolved around it we know that this</span> <span data-start="263.63" data-end="265.85">was not actually true but it just refers</span> <span data-start="265.85" data-end="267.53">to using this reference point for</span> <span data-start="267.53" data-end="272.09">calculations the word Celino centric</span> <span data-start="272.09" data-end="274.639">centering the moon in other words it</span> <span data-start="274.639" data-end="277.04">means making calculations from the point</span> <span data-start="277.04" data-end="279.8">of view of the moon as if the Earth and</span> <span data-start="279.8" data-end="282.56">the Sun revolved around it again this is</span> <span data-start="282.56" data-end="284.75">not actually true but it just refers to</span> <span data-start="284.75" data-end="286.34">using this reference point for</span> <span data-start="286.34" data-end="291.02">calculations and let's use these points</span> <span data-start="291.02" data-end="293.419">of view to define some angles we might</span> <span data-start="293.419" data-end="296.45">use in our calculations we'll use the</span> <span data-start="296.45" data-end="299.51">angle between the moon and the Sun from</span> <span data-start="299.51" data-end="301.07">the Earth's point of view and we'll call</span> <span data-start="301.07" data-end="303.38">that Phi this is the geocentric</span> <span data-start="303.38" data-end="306.229">elongation of the moon from the Sun that</span> <span data-start="306.229" data-end="310.04">the code was referring to will also use</span> <span data-start="310.04" data-end="312.11">the angle between the Earth and the Sun</span> <span data-start="312.11" data-end="314.15">from the moon's point of view and we'll</span> <span data-start="314.15" data-end="317.09">call that theta theta is this Celino</span> <span data-start="317.09" data-end="319.01">centric elongation of the moon from the</span> </p>
<p><span data-start="319.01" data-end="321.71">Sun that the code was referring to the</span> <span data-start="321.71" data-end="324.169">code was using the variable name ink but</span> <span data-start="324.169" data-end="325.7">that isn't a Greek letter so let's call</span> <span data-start="325.7" data-end="330.05">it theta instead at this point it's</span> <span data-start="330.05" data-end="332.15">worth remembering that the Earth Moon</span> <span data-start="332.15" data-end="334.49">and Sun are three points in space so</span> <span data-start="334.49" data-end="337.25">they form a triangle what information in</span> <span data-start="337.25" data-end="340.61">this triangle do we know one of the</span> <span data-start="340.61" data-end="342.71">sides of the triangle has length equal</span> <span data-start="342.71" data-end="345.26">to the distance between the moon and the</span> <span data-start="345.26" data-end="347.72">earth this is a known distance and this</span> <span data-start="347.72" data-end="349.85">distance doesn't change as the moon</span> <span data-start="349.85" data-end="351.65">revolves around the earth and as the</span> <span data-start="351.65" data-end="355.61">Earth revolves around the Sun the</span> <span data-start="355.61" data-end="357.35">distance between the earth and the Sun</span> <span data-start="357.35" data-end="360.32">is also a known distance so we know the</span> <span data-start="360.32" data-end="364.16">length of that side of the triangle the</span> <span data-start="364.16" data-end="366.139">last side of the triangle will change in</span> <span data-start="366.139" data-end="368.12">length depending on the angles between</span> <span data-start="368.12" data-end="371.03">the Earth Moon and Sun do we know any of</span> <span data-start="371.03" data-end="373.669">those angles well by the geocentric</span> <span data-start="373.669" data-end="376.28">elongation of the moon from the Sun that</span> <span data-start="376.28" data-end="379.07">we were referring to the in other words</span> <span data-start="379.07" data-end="381.41">the angle that the Moon and Sun formed</span> <span data-start="381.41" data-end="382.82">from the point of view of the Earth is</span> <span data-start="382.82" data-end="385.37">something that we can observe given that</span> <span data-start="385.37" data-end="390.08">we are on earth it's not a constant but</span> <span data-start="390.08" data-end="391.46">since we can observe and measure it</span> <span data-start="391.46" data-end="394.94">let's count it is known with this</span> <span data-start="394.94" data-end="397.16">information we can calculate the last</span> <span data-start="397.16" data-end="401.33">side see with a law of cosines a quick</span> <span data-start="401.33" data-end="403.18">refresher on the law of cosines</span> <span data-start="403.18" data-end="405.7">it lets you calculate the length of an</span> <span data-start="405.7" data-end="408.01">unknown side of a triangle given its</span> <span data-start="408.01" data-end="410.7">opposite angle and two other sides</span> <span data-start="410.7" data-end="413.77">so given that we know the values for Phi</span> <span data-start="413.77" data-end="418">a and B see the distance between the</span> <span data-start="418" data-end="420.58">moon and the Sun is then the square root</span> <span data-start="420.58" data-end="424.36">of a squared plus B squared minus 2a B</span> <span data-start="424.36" data-end="428.65">cosine Phi and now that we know the</span> <span data-start="428.65" data-end="431.89">length of C we can calculate theta the</span> <span data-start="431.89" data-end="434.2">angle between the Earth and the Sun from</span> <span data-start="434.2" data-end="436.15">the moon's point of view and we can</span> <span data-start="436.15" data-end="439.54">calculate it using the law of sines so</span> <span data-start="439.54" data-end="441.52">quick refresher on the law of sines if</span> <span data-start="441.52" data-end="444.13">we know all the sides of the triangle</span> <span data-start="444.13" data-end="447.37">and one angle we can calculate the rest</span> <span data-start="447.37" data-end="450.22">of the angles via the law of sines the</span> <span data-start="450.22" data-end="452.5">law of sine states that the sine of an</span> <span data-start="452.5" data-end="454.42">angle divided by the length of the side</span> <span data-start="454.42" data-end="457.66">opposite that angle is equal to the sine</span> <span data-start="457.66" data-end="459.28">of any other angle in that triangle</span> <span data-start="459.28" data-end="461.23">divided by the length of the side</span> <span data-start="461.23" data-end="464.11">opposite that angle so in the case of</span> <span data-start="464.11" data-end="466.81">our triangle we can say that the sine of</span> </p>
<p><span data-start="466.81" data-end="469.57">Phi divided by C equals the sine of</span> <span data-start="469.57" data-end="472.57">theta divided by B and we can substitute</span> <span data-start="472.57" data-end="475">in the value of C that we calculated</span> <span data-start="475" data-end="477.58">from the law of cosines to get the</span> <span data-start="477.58" data-end="480.88">answer for the sine of theta and then</span> <span data-start="480.88" data-end="483.28">knowing the sine of theta theta is then</span> <span data-start="483.28" data-end="487.69">the arc sine of that value now that we</span> <span data-start="487.69" data-end="490">know how to calculate theta the angle</span> <span data-start="490" data-end="492.4">between the Earth and the Sun from the</span> <span data-start="492.4" data-end="494.59">point of view of the moon let's see how</span> <span data-start="494.59" data-end="497.8">it's related to the moon phase you might</span> <span data-start="497.8" data-end="499.78">notice that as the moon revolves around</span> <span data-start="499.78" data-end="502.36">the earth and changes phase theta</span> <span data-start="502.36" data-end="505.66">changes to can we find the equation that</span> <span data-start="505.66" data-end="507.64">describes the relationship between theta</span> <span data-start="507.64" data-end="509.86">and the fraction of the moon that's</span> <span data-start="509.86" data-end="512.98">visible from Earth to make it clearer</span> <span data-start="512.98" data-end="515.11">what part of the Moon is visible from</span> </p>
<p><span data-start="515.11" data-end="517.54">Earth at different points in its phase</span> <span data-start="517.54" data-end="520.27">we're adding a color key the white area</span> <span data-start="520.27" data-end="523.57">is a part illuminated by the Sun the</span> <span data-start="523.57" data-end="525.73">lavender area is the part not</span> <span data-start="525.73" data-end="529.39">illuminated by the Sun and finally the</span> <span data-start="529.39" data-end="531.61">dark purple area covers the side of the</span> <span data-start="531.61" data-end="534.34">Moon that faces away from Earth so the</span> <span data-start="534.34" data-end="536.77">white area that's left is what we can</span> <span data-start="536.77" data-end="537.209">see</span> <span data-start="537.209" data-end="542.919">the moon from the earths point of view</span> <span data-start="542.929" data-end="544.079">okay</span> <span data-start="544.079" data-end="545.97">so we'll try to figure out the equation</span> <span data-start="545.97" data-end="547.679">that describes the relationship between</span> <span data-start="547.679" data-end="550.649">theta and what fraction of the moon is</span> <span data-start="550.649" data-end="553.74">illuminated and visible from Earth let's</span> <span data-start="553.74" data-end="556.29">look at very specific example angles</span> <span data-start="556.29" data-end="559.35">when the angle between the Earth and Sun</span> <span data-start="559.35" data-end="561.54">from the point of the view of the moon</span> <span data-start="561.54" data-end="565.35">is 180 degrees the illumination percent</span> <span data-start="565.35" data-end="569.91">visible from Earth is zero when the</span> <span data-start="569.91" data-end="572.189">angle between the Earth and the Sun from</span> <span data-start="572.189" data-end="575.97">the point of the Moon point of view of</span> <span data-start="575.97" data-end="577.529">the moon is zero degrees the</span> <span data-start="577.529" data-end="580.679">illumination percent is a hundred a full</span> <span data-start="580.679" data-end="583.639">moon but those are very specific</span> <span data-start="583.639" data-end="587.699">examples how is theta related to the</span> <span data-start="587.699" data-end="590.129">fraction of the Moon that's visible for</span> <span data-start="590.129" data-end="594.689">any arbitrary value of theta so let's</span> <span data-start="594.689" data-end="599.67">zoom in to try to figure that out we do</span> <span data-start="599.67" data-end="602.04">know that the Sun lights exactly half of</span> <span data-start="602.04" data-end="604.98">the moon the right half and forms a</span> <span data-start="604.98" data-end="607.41">perpendicular side perpendicular with a</span> <span data-start="607.41" data-end="609.48">side of the moon that's lit so we can</span> <span data-start="609.48" data-end="612.439">mark that perpendicular that</span> <span data-start="612.439" data-end="614.699">perpendicular means that we can mark</span> <span data-start="614.699" data-end="618.24">this bottom lit area as having angle 90</span> <span data-start="618.24" data-end="622.829">minus theta the earth also forms a</span> <span data-start="622.829" data-end="624.749">perpendicular with a side of the moon</span> <span data-start="624.749" data-end="627.809">that is visible from Earth the side</span> <span data-start="627.809" data-end="630.269">opposite the dark purple side so we can</span> <span data-start="630.269" data-end="632.249">mark that as well this perpendicular</span> <span data-start="632.249" data-end="635.61">means that we can mark this upper lip</span> <span data-start="635.61" data-end="639.179">area as having angle 90 minus theta as</span> <span data-start="639.179" data-end="644.519">well so adding up all of the lit areas</span> <span data-start="644.519" data-end="648.899">of the moon the lit area of the moon</span> <span data-start="648.899" data-end="652.259">spans an angle of 100 minus theta or in</span> <span data-start="652.259" data-end="658.079">radians pi minus theta so to calculate</span> <span data-start="658.079" data-end="660.869">the illumination percent of fraction</span> <span data-start="660.869" data-end="666.209">from the illumination angle we can</span> <span data-start="666.209" data-end="670.35">naively make this calculation</span> <span data-start="670.36" data-end="674.03">using the angle illuminated by divided</span> <span data-start="674.03" data-end="677.12">by the total angle visible so the angle</span> <span data-start="677.12" data-end="679.67">illuminated is pi minus theta and the</span> <span data-start="679.67" data-end="684.93">total angle visible is 180 degrees or pi</span> <span data-start="684.94" data-end="687.74">but this doesn't accurately describe the</span> <span data-start="687.74" data-end="689.84">illuminated percent that we see because</span> <span data-start="689.84" data-end="692.48">the moon is a sphere and not a circle</span> <span data-start="692.48" data-end="694.31">and we need to take into account the</span> <span data-start="694.31" data-end="695.9">moon's curvature and how our eyes</span> <span data-start="695.9" data-end="700.43">perceive that curvature so instead we</span> <span data-start="700.43" data-end="702.17">want to calculate the length of the</span> <span data-start="702.17" data-end="704.48">projection of the curved surface of the</span> <span data-start="704.48" data-end="708.65">moon that are icy how do we calculate</span> <span data-start="708.65" data-end="713.75">that projection let's assume we know the</span> <span data-start="713.75" data-end="719.99">radius of a moon which we do when we</span> <span data-start="719.99" data-end="722.57">project our down we see that it's going</span> <span data-start="722.57" data-end="724.61">to be a portion of the distance that we</span> <span data-start="724.61" data-end="728.66">care about what is the other portion the</span> <span data-start="728.66" data-end="730.88">other portion of the distance is a leg</span> <span data-start="730.88" data-end="735.17">of this right triangle with hypotenuse R</span> <span data-start="735.17" data-end="739.04">and inner angle theta since the inner</span> <span data-start="739.04" data-end="741.71">angle forms a straight line with angle</span> </p>
<p><span data-start="741.71" data-end="745.64">PI minus theta and we know from trig</span> <span data-start="745.64" data-end="748.34">that the length of a side adjacent to an</span> <span data-start="748.34" data-end="750.35">angle in any right triangle is the</span> <span data-start="750.35" data-end="752.09">hypotenuse times the cosine of that</span> <span data-start="752.09" data-end="753.71">angle that's the definition of the</span> <span data-start="753.71" data-end="756.62">cosine right adjacent over hypotenuse so</span> <span data-start="756.62" data-end="758.33">now we know that the length of the top</span> <span data-start="758.33" data-end="763.58">side of the right triangle is R cosine</span> <span data-start="763.58" data-end="765.65">theta and we can project that down to</span> <span data-start="765.65" data-end="767.96">the distance that we care about adding</span> <span data-start="767.96" data-end="771.44">those two projected values together now</span> <span data-start="771.44" data-end="773.45">we know the length of the projection of</span> <span data-start="773.45" data-end="775.73">the illuminated portion of the moon as</span> <span data-start="775.73" data-end="780.74">visible from Earth to calculate the</span> <span data-start="780.74" data-end="783.29">fraction illuminated we divide by the</span> <span data-start="783.29" data-end="785.48">total projection which is the diameter</span> <span data-start="785.48" data-end="789.2">of the moon in other words to are when</span> <span data-start="789.2" data-end="791.42">we simplify the moon's radius cancels</span> <span data-start="791.42" data-end="793.52">itself out and we're left with cosine</span> <span data-start="793.52" data-end="797.75">theta plus 1 over 2 does that look</span> <span data-start="797.75" data-end="798.2">familiar</span> <span data-start="798.2" data-end="801.35">so K we did it from first principles we</span> <span data-start="801.35" data-end="802.22">calculated</span> <span data-start="802.22" data-end="805.28">the same equation as this library for</span> <span data-start="805.28" data-end="806.57">the fraction of the moon that's</span> <span data-start="806.57" data-end="811.49">illuminated so to recap the fraction of</span> <span data-start="811.49" data-end="813.68">a moon illuminated at any point in time</span> <span data-start="813.68" data-end="816.5">can be calculated with a cosine of theta</span> <span data-start="816.5" data-end="819.41">plus 1 over 2 where theta is the angle</span> <span data-start="819.41" data-end="821.93">between the Earth and the Sun from the</span> <span data-start="821.93" data-end="825.44">moon's point of view so I know that's a</span> <span data-start="825.44" data-end="828.02">lot of information to digest at once so</span> </p>
<p><span data-start="828.02" data-end="829.82">I put all of it together in an</span> <span data-start="829.82" data-end="831.47">interactive website for you to mess</span> <span data-start="831.47" data-end="833.48">around with on your own if you'd like</span> <span data-start="833.48" data-end="835.67">and it uses an interactive scrolling</span> <span data-start="835.67" data-end="839">library colds called scroll llama made</span> <span data-start="839" data-end="841.07">by the data visualization site the</span> <span data-start="841.07" data-end="841.72">pudding</span> <span data-start="841.72" data-end="844.31">currently it's only desktop friendly but</span> <span data-start="844.31" data-end="846.08">I'm working on making it mobile-friendly</span> <span data-start="846.08" data-end="850.08">soon and I can briefly demo it right now</span> <span data-start="850.08" data-end="855.57">[Music]</span> <span data-start="855.58" data-end="858.52">ok</span> <span data-start="858.52" data-end="869.17">as you scroll it'll kind of like have</span> <span data-start="869.17" data-end="873.55">some of the interactions from the</span> <span data-start="873.55" data-end="883.14">presentation</span> <span data-start="883.15" data-end="885.85">like it also we add all the pieces of</span> <span data-start="885.85" data-end="887.29">information that we know about this</span> <span data-start="887.29" data-end="901.85">triangle</span> <span data-start="901.86" data-end="905.76">or so we add all the angles that we</span> <span data-start="905.76" data-end="909.9">figure out in the zoomed in image of the</span> <span data-start="909.9" data-end="913.44">moon and theta yeah so it's a which eco</span> <span data-start="913.44" data-end="927.84">slash trig if you want to mess around</span> <span data-start="927.85" data-end="930.31">yeah so that's it thanks for listening</span> </p>
</section>