<section>
<p><span data-start="9.32" data-end="10.88">Hi, everyone.</span> <span data-start="11.06" data-end="17.52">I'm about to show you some presentation of new concepts and we have a lot of code.</span> <span data-start="17.57" data-end="19.46">So, please bear with me.</span> <span data-start="19.46" data-end="27.74">I hope we're going to have fun in the next 25 minutes and hopefully learn one or two</span> <span data-start="27.75" data-end="28.75">tricks.</span> <span data-start="28.75" data-end="38.46">But before we start, I'm whenever I'm going to show you what's under construction right</span> <span data-start="38.46" data-end="46.38">now, the main thing here is to put the language that will show the kind of amazing features</span> <span data-start="46.38" data-end="55.62">that may or may not come to JavaScript and all the problems that a new feature can bring</span> <span data-start="55.62" data-end="58.059">to ship those features to ourselves.</span> <span data-start="58.059" data-end="61.899">That said, I'm going to bring you back to the future.</span> <span data-start="61.899" data-end="74.15">[theme song from Back to the Future playing] So, I would like to start my presentation</span> <span data-start="74.15" data-end="76.57">with a tricky question.</span> </p>
<p><span data-start="76.57" data-end="78.09">What is this?</span> <span data-start="78.09" data-end="86.88">So, this has different meanings than this in other language where it most likely refers</span> <span data-start="86.88" data-end="91.54">to the code scope.</span> <span data-start="91.54" data-end="94.11">So, in the scope, this in JavaScript, it's the object.</span> <span data-start="94.11" data-end="95.31">So, not browser, it's window.</span> <span data-start="95.31" data-end="100.93">And the web itself, NodeJS, model.exports and so on.</span> <span data-start="100.93" data-end="104.65">But what about this inside a function?</span> <span data-start="104.65" data-end="107.189">Well, depends.</span> <span data-start="107.189" data-end="112.07">It depends how this function is called.</span> <span data-start="112.07" data-end="115.39">I will show you my components.</span> <span data-start="115.39" data-end="121.18">It's a very simple class that has just one premier and one method.</span> <span data-start="121.18" data-end="126.649">So, if you're looking at this line 15 here, you will see that whenever I click on the</span> <span data-start="126.649" data-end="133.19">button, I want to console log, property.</span> <span data-start="133.19" data-end="140.29">But actually, my intention is to hit the button element.</span> <span data-start="140.29" data-end="144.14">But this the context here is the button event.</span> <span data-start="144.14" data-end="153.17">I will create it because the button element doesn't have the full property.</span> </p>
<p><span data-start="153.17" data-end="156.23">So, how to make this predictable?</span> <span data-start="156.23" data-end="160.81">So, this inside of JavaScript is tricky.</span> <span data-start="160.81" data-end="163.14">We can just buy into things.</span> <span data-start="163.14" data-end="170.15">The first is the prototype.bind which binds the context of the first sent to the bind</span> <span data-start="170.15" data-end="173.91">function to the method you want to call.</span> <span data-start="173.91" data-end="175.19">And error function.</span> <span data-start="175.19" data-end="180.4">So, I will show the previous example with these two techniques.</span> <span data-start="180.4" data-end="188.91">The first one you can see here, this bottom line here, it's basically binding the cat</span> <span data-start="188.91" data-end="191.35">instance into meow method.</span> </p>
<p><span data-start="191.35" data-end="197.92">So, I will print out this one.</span> <span data-start="197.92" data-end="204.05">I will print out button element there.</span> <span data-start="204.05" data-end="207.51">And then with error function, it's here.</span> <span data-start="207.51" data-end="219.1">But you will see that I don't need to explicitly bind this because it takes the lexical this</span> <span data-start="219.1" data-end="224.32">and then we will have button console property.</span> <span data-start="224.32" data-end="232.14">So, the thing is, error function removes a lot of complexity in order to predict that</span> <span data-start="232.14" data-end="234.1">this is in a function.</span> <span data-start="234.1" data-end="241.18">But we still have two cases that we need to explicitly bind this on a function.</span> <span data-start="241.18" data-end="242.41">The first one is this one.</span> <span data-start="242.41" data-end="248.79">Whenever we present in the language here, you will see that I have a new object called</span> </p>
<p><span data-start="248.79" data-end="249.79">Obj.</span> <span data-start="249.79" data-end="258.4">But I don't extend this from the object prototype.</span> <span data-start="258.4" data-end="260.1">I don't have has own property.</span> <span data-start="260.1" data-end="269.31">So, when I want to check if I have the X property inside the Obj, calling property, and the</span> <span data-start="269.31" data-end="270.35">prototype.</span> <span data-start="270.35" data-end="276.9">So, to fix this, I need to extract this function from the object prototype and then call this</span> <span data-start="276.9" data-end="278.19">in the first context.</span> <span data-start="278.19" data-end="282.78">In the second, the first for the function.</span> <span data-start="282.78" data-end="284.81">It's kind of tricky.</span> <span data-start="284.81" data-end="290.51">In the second one, whenever I want to extract a method from an object, I need to explicitly</span> <span data-start="290.51" data-end="292.86">call the context.</span> <span data-start="292.86" data-end="300.31">So, how do you call this case in a more natural way?</span> <span data-start="300.31" data-end="308.59">This is the route for our first proposal.</span> <span data-start="308.59" data-end="319.47">ｶ?ｶ this comes with two syntaxes.</span> </p>
<p><span data-start="319.47" data-end="323.82">The uniform and binary form.</span> <span data-start="323.82" data-end="330.36">The binary form takes whatever we have on the left side as a context, it binds to the</span> <span data-start="330.36" data-end="333.3">right side of the operator.</span> <span data-start="333.3" data-end="338.96">So, that example could be rewritten on the lines five and ten?</span> <span data-start="338.96" data-end="339.96">Yeah?</span> <span data-start="339.96" data-end="340.96">The last one?</span> <span data-start="340.96" data-end="341.96">Like this one.</span> <span data-start="341.96" data-end="343.28">So, it works.</span> <span data-start="343.28" data-end="346.93">And we need to shift, of course.</span> <span data-start="346.93" data-end="351.03">And the operator is a little bit different.</span> <span data-start="351.03" data-end="358.48">It takes the base of the reference you are passing and sets it as the context of the</span> <span data-start="358.48" data-end="359.48">methods.</span> <span data-start="359.48" data-end="368.08">So, this could be the cat.meow.bind and inside.</span> <span data-start="368.08" data-end="374.79">This we can call because we can compose personalities through methods.</span> </p>
<p><span data-start="374.79" data-end="382.99">You can extract those methods and compose them like in this internal library.</span> <span data-start="382.99" data-end="387.33">Or on this implementation, our XGS5, there's a way to do this here.</span> <span data-start="387.33" data-end="389.64">I don't know if they still encourage this.</span> <span data-start="389.64" data-end="391.59">I won't do it.</span> <span data-start="391.59" data-end="393.33">But it's an example.</span> <span data-start="393.33" data-end="398.23">For example, on this J query library, you can extract the functions you need.</span> <span data-start="398.23" data-end="407.9">And it's nice because you bundle only the functions you need.</span> <span data-start="407.9" data-end="413.83">And plus, it makes it easy to extend those libraries.</span> <span data-start="413.83" data-end="421.65">It's a good solution for the methods, but it relies on this to be bound.</span> <span data-start="421.65" data-end="427.65">How can we compose the functions in the same way without relying on this?</span> <span data-start="427.65" data-end="430.42">So, let's suppose I have this function here.</span> <span data-start="430.42" data-end="432.02">This functionality.</span> <span data-start="432.02" data-end="439.05">Whenever the user puts something, I need to sanitize this and textualize all the digits</span> <span data-start="439.05" data-end="441.14">I receive and then log those.</span> <span data-start="441.14" data-end="445.86">So, usually this is a way that we can do this.</span> </p>
<p><span data-start="445.86" data-end="453.19">But to make it readable, we end up having a lot of intermediary variables.</span> <span data-start="453.19" data-end="458.21">And I think someone can say, ah, this could be written without using this variable.</span> <span data-start="458.21" data-end="461.86">But it will look more or less like this.</span> <span data-start="461.86" data-end="469.4">It could be tricky because we may have a lot of nested functions, one inside the other</span> <span data-start="469.4" data-end="471.139">like this.</span> <span data-start="471.139" data-end="478.919">So, to solve this problem, I wanted to present you to you the second proposal.</span> <span data-start="478.919" data-end="486.81">ｶ?ｶ part operator.</span> <span data-start="486.81" data-end="496.42">It's a syntax for function composition.</span> <span data-start="496.42" data-end="501.09">It creates a chain of functions and it's backwards compatible.</span> <span data-start="501.09" data-end="505.86">So, remember this example here?</span> <span data-start="505.86" data-end="511.88">Using pipeline operator, I can rewrite this one with this code example.</span> <span data-start="511.88" data-end="516.69">So, you can see on the top of the pipeline chain you have the subject.</span> <span data-start="516.69" data-end="523.33">And then you start to pass this object through the next one, and the result will be the subject</span> <span data-start="523.33" data-end="525.77">for the following stack and so on and so forth.</span> </p>
<p><span data-start="525.77" data-end="528.65">And this code could be to this.</span> <span data-start="528.65" data-end="531.29">It will remain.</span> <span data-start="531.29" data-end="535.5">You don't need to write all those variables.</span> <span data-start="535.5" data-end="540.14">What if that textualized number needs to receive a second parameter?</span> <span data-start="540.14" data-end="549.59">For example, if we have a need to only textualize zeros and ones, how can we do that here?</span> </p>
<p><span data-start="549.59" data-end="553.88">One possible solution is to create a narrow function to receive a one per meter.</span> <span data-start="553.88" data-end="559.69">And inside this function, bind the second parameter inside of this.</span> <span data-start="559.69" data-end="565.94">But it creates a syntax server because you need to wrap to need to wrap the error</span> <span data-start="565.94" data-end="567.6">function with the parentheses.</span> <span data-start="567.6" data-end="571.33">So, it's kind of tricky.</span> <span data-start="571.33" data-end="578.76">And what if I need to process the sanitized and what if the sanitized function needs to</span> <span data-start="578.76" data-end="583.43">process the server?</span> <span data-start="583.43" data-end="587.57">I can await this.</span> <span data-start="587.57" data-end="595.07">But it's tricky because this line here, it's not clear how this would go to.</span> <span data-start="595.07" data-end="602.81">I can get this to the rate, parameter call with the step.</span> <span data-start="602.81" data-end="610.56">Or I wait for the sanitize and then the result will be a function that then I will send parameter.</span> <span data-start="610.56" data-end="616.49">So, we have a tricky question.</span> <span data-start="616.49" data-end="624.94">A tricky it's tricky to reason about how which one of those could be the two.</span> </p>
<p><span data-start="624.94" data-end="635.02">To answer this question, we need to understand the two proposals we have for this.</span> <span data-start="635.02" data-end="638.73">Because they're proposals don't cover this completely.</span> <span data-start="638.73" data-end="646.39">So, I want to present you the first one, which is smart line.</span> <span data-start="646.39" data-end="650.58">You have this in two ways.</span> <span data-start="650.58" data-end="659.45">You can see here we have line two, the top style, and the line four, the bear style.</span> <span data-start="659.45" data-end="664.73">Whenever we need to use parentheses or describe brackets, you need to use the top, and then</span> <span data-start="664.73" data-end="673.33">you need to use the hash token to as a place holder for the subject for the previous</span> <span data-start="673.33" data-end="674.44">step.</span> <span data-start="674.44" data-end="675.58">From the previous step.</span> <span data-start="675.58" data-end="678.04">And whenever I do anything, it's straightforward.</span> <span data-start="678.04" data-end="680.36">You just need to do use it.</span> <span data-start="680.36" data-end="687.76">This is information that in this chart it is subject to change.</span> <span data-start="687.76" data-end="690.3">It's not final.</span> </p>
<p><span data-start="690.3" data-end="692.75">What are carry?</span> <span data-start="692.75" data-end="696.99">If you try to use it in the first, since you are using parentheses, it thinks that it's</span> <span data-start="696.99" data-end="705.029">topic style since you don't have the token for the syntax server.</span> <span data-start="705.029" data-end="710">So, the good way to do this is on the second example here.</span> <span data-start="710" data-end="713.69">This is good because >> There's a new challenger!</span> </p>
</section>

<section>
<p><span data-start="713.69" data-end="718.29"><span class="speaker">Willian</span>: We have a new challenger.</span> <span data-start="718.29" data-end="721.61">So, there is the F# pipeline proposals.</span> <span data-start="721.61" data-end="723.17">The data proposal.</span> <span data-start="723.17" data-end="727.37">It just extends the minimal proposal with an await step.</span> <span data-start="727.37" data-end="734.05">And it you can see on this example here, you have just a solo await step here.</span> <span data-start="734.05" data-end="739.35">And this means that it needs to await for the first step to be finished.</span> <span data-start="739.35" data-end="745.72">And then as soon as that previous step is finished, then it passes to the next step.</span> <span data-start="745.72" data-end="753.87">You can see here that we still have the error function being wrappered with the parentheses.</span> <span data-start="753.87" data-end="760.42">But these are I will show you how we can solve this just in a couple minutes.</span> <span data-start="760.42" data-end="763.79">We will discuss the operator.</span> <span data-start="763.79" data-end="769.58">We saw this example here with the sharp as a token.</span> </p>
<p><span data-start="769.58" data-end="770.72">We can do this.</span> <span data-start="770.72" data-end="774.149">We can solve this this line with partial application.</span> <span data-start="774.149" data-end="779.35">But first I need to explain to you what is partial application?</span> <span data-start="779.35" data-end="786.589">Partial application refers to a process of giving a function without any editing.</span> <span data-start="786.589" data-end="790.81">It returns another function with a smaller entity.</span> <span data-start="790.81" data-end="793.5">By bounding the fixed parameters.</span> <span data-start="793.5" data-end="798.959">And by the way, it's the number of the programmers that a specific function takes.</span> <span data-start="798.959" data-end="802.27">So, I have this example here where a function.</span> <span data-start="802.27" data-end="807.18">And then you receive it, and the name and location.</span> </p>
<p><span data-start="807.18" data-end="809.529">Just console log those.</span> <span data-start="809.529" data-end="817.399">But what if this example like this is just straightforward, but what if we need to fetch</span> <span data-start="817.399" data-end="819.57">the location for the server?</span> <span data-start="819.57" data-end="821.37">I don't know why.</span> <span data-start="821.37" data-end="831.64">But then we will end up with this kind of code that we have some parameters like that</span> <span data-start="831.64" data-end="832.64">we assigned before.</span> </p>
<p><span data-start="832.64" data-end="838.6">And then whenever we have this chain reserved, we console log it.</span> <span data-start="838.6" data-end="840.89">Or call the function.</span> <span data-start="840.89" data-end="851.51">This kind but we still have a way to bind this and create a partial application in ECMAScript.</span> <span data-start="851.51" data-end="857.1">So, we can do this using function bind.</span> <span data-start="857.1" data-end="863.52">Sometimes we forgot that binds bind dot on binds the concept, but also binds parameters.</span> <span data-start="863.52" data-end="872.74">So, if the first parameter is the but the second parameter is what you want to call.</span> <span data-start="872.74" data-end="882.41">And it returns a new function just with the remaining missing parameters.</span> <span data-start="882.41" data-end="889.95">So, with this, I can rewrite that function using this bind.</span> </p>
<p><span data-start="889.95" data-end="894.11">So, on the first line you can see that this is achievable.</span> <span data-start="894.11" data-end="899.03">But what if I want to bind just the first and the last parameter?</span> <span data-start="899.03" data-end="904.84">There is a problem with the binder because I'm sorry the bind function.</span> <span data-start="904.84" data-end="912.529">It takes the parameters from the left to right without jumping in one of those.</span> <span data-start="912.529" data-end="913.79">So, this is a problem.</span> <span data-start="913.79" data-end="918.709">And someone can say, yeah, but we can solve this with carry.</span> <span data-start="918.709" data-end="920.56">Yes, we can.</span> <span data-start="920.56" data-end="929.089">But you need to remain that even though carry, it's our way to achieve a partial application,</span> <span data-start="929.089" data-end="932.24">doesn't mean that carry is partial application.</span> <span data-start="932.24" data-end="940.84">Carry is, each time you carry a function, you receive another function and add and minus</span> <span data-start="940.84" data-end="941.84">one.</span> <span data-start="941.84" data-end="948.089">And so, that example, let's say I want to just bind the first and the last parameter</span> <span data-start="948.089" data-end="955.61">so I can write the three first lines of code.</span> <span data-start="955.61" data-end="960.67">Create like that carry function that has the location.</span> </p>
<p><span data-start="960.67" data-end="971.051">Then on the line five I bind the first two parameters and then I receive the function</span> <span data-start="971.051" data-end="975.41">to bind to call with the third one online eight.</span> <span data-start="975.41" data-end="978.23">So, you can see that it's kind of a purpose.</span> <span data-start="978.23" data-end="983.85">Because whenever we want to change the configuration that you want to bind, you need to rewrite</span> <span data-start="983.85" data-end="985.99">that carry function there.</span> </p>
<p><span data-start="985.99" data-end="994.35">And, yes, of course, you can do this with a partial application with an error function.</span> <span data-start="994.35" data-end="1000.47">Which it's kind of better than the carry function.</span> <span data-start="1000.47" data-end="1007.339">But you still need to write the function for each configuration of parameters.</span> <span data-start="1007.339" data-end="1015.68">So, this is the hook for our last proposal for today.</span> <span data-start="1015.68" data-end="1022.62">ｶ?ｶ partial application.</span> </p>
<p><span data-start="1022.62" data-end="1029.159">Partial application proposal creates two new tokens to be placed in this the parameters.</span> <span data-start="1029.159" data-end="1036.909">So, the question mark is for and the ellipses is for multiple.</span> <span data-start="1036.909" data-end="1041.499">So, the examples could be written in this way.</span> <span data-start="1041.499" data-end="1044.1">The first and second parameters being bound.</span> <span data-start="1044.1" data-end="1045.759">And the third one, a question mark.</span> <span data-start="1045.759" data-end="1051.789">This will return a new function that you can call later with the missing parameters.</span> </p>
<p><span data-start="1051.789" data-end="1059.85">It's nice because you can do a lot of different configurations of parameters without them</span> <span data-start="1059.85" data-end="1063.519">having to do any kind of code.</span> <span data-start="1063.519" data-end="1066.039">But, wait.</span> <span data-start="1066.039" data-end="1068.119">There is more.</span> <span data-start="1068.119" data-end="1069.119">There is this.</span> <span data-start="1069.119" data-end="1070.119">This token.</span> <span data-start="1070.119" data-end="1076.5">And it's it spreads the unbalanced parameters on a specific position.</span> <span data-start="1076.5" data-end="1081.87">It's very useful whenever you want to bind like the first parameters and you don't need</span> <span data-start="1081.87" data-end="1085.679">to care about the rest of those or the last one.</span> <span data-start="1085.679" data-end="1090.139">So, I have an example here.</span> </p>
<p><span data-start="1090.139" data-end="1096.779">For example, this is a function that it's much greater than zero.</span> <span data-start="1096.779" data-end="1103.01">So, I receive a bunch of numbers and I need to return whenever I have a number greater</span> <span data-start="1103.01" data-end="1107.07">than zero, I return the max of those.</span> <span data-start="1107.07" data-end="1111.49">Whenever I only received negative numbers, I return zero.</span> <span data-start="1111.49" data-end="1115.279">So, this one, it's okay.</span> <span data-start="1115.279" data-end="1117.179">But we can do better.</span> <span data-start="1117.179" data-end="1123.769">With this we can bind just the zero as the first parameter and don't care about the rest.</span> <span data-start="1123.769" data-end="1128.799">And this will return a function with zero being bound.</span> <span data-start="1128.799" data-end="1132.769">And this is nice because it doesn't matter how I can call it, if I call in the first</span> <span data-start="1132.769" data-end="1135.929">configuration it will return the same as before.</span> </p>
<p><span data-start="1135.929" data-end="1143.169">And since zero is bound to math.next, I will receive zero whenever it sends just negative</span> <span data-start="1143.169" data-end="1145.899">numbers.</span> <span data-start="1145.899" data-end="1148.639">[ Laughter ]</span> <span data-start="1148.639" data-end="1158.01">So, I have at least you have this configuration on the F# proposal.</span> <span data-start="1158.01" data-end="1163.509">And I told you that this kind of syntax over here to wrap an error function with this balance.</span> <span data-start="1163.509" data-end="1169.33">But with partial application we can rewrite this line four to this.</span> </p>
<p><span data-start="1169.33" data-end="1175.6">And we have more like pre code, a readable one.</span> <span data-start="1175.6" data-end="1183.559">So, then you may ask me, should I use this all of this amazing stuff in production?</span> <span data-start="1183.559" data-end="1184.559">No.</span> <span data-start="1184.559" data-end="1186.759">These proposals are in the very early stage.</span> <span data-start="1186.759" data-end="1191.48">nothing I showed you is even in the stage two.</span> <span data-start="1191.48" data-end="1196.429">The binary is just stage zero and the other two in stage one.</span> <span data-start="1196.429" data-end="1204.299">That is a lot of conversations to be done in order to fix that syntax.</span> <span data-start="1204.299" data-end="1212.019">One form of one proposal may shape the syntax of the other or even remove completely.</span> <span data-start="1212.019" data-end="1220.279">So, my point here is to call you to participate with this discussion.</span> <span data-start="1220.279" data-end="1230.309">On my second slide I will share with you later on, there is the link for TC39 proposals page.</span> <span data-start="1230.309" data-end="1237.909">Whenever you wanted to like show your interest in some proposals or express your concerns,</span> <span data-start="1237.909" data-end="1244.659">open an issue, put stars, create a talk about it, as I did.</span> <span data-start="1244.659" data-end="1250.859">Before I finish, I want to thank that guy, Brendan Bush who was the guy who helped me</span> <span data-start="1250.859" data-end="1253.899">finish with these designs.</span> <span data-start="1253.899" data-end="1257.739">Because as a JavaScript designer.</span> <span data-start="1257.739" data-end="1259.749">This guy here, Daniel.</span> </p>
<p><span data-start="1259.749" data-end="1261.509">Suddenly he is behind me.</span> <span data-start="1261.509" data-end="1264.83">He helped me with the technical stuff.</span> <span data-start="1264.83" data-end="1268.649">Like don't introduce any misconceptions to you.</span> <span data-start="1268.649" data-end="1273.6">These are my contacts if you want to get in touch with me.</span> <span data-start="1273.6" data-end="1283.489">I will try to in the next weeks write all of these in an act code that may help you</span> <span data-start="1283.489" data-end="1286.61">to understand more about it.</span> <span data-start="1286.61" data-end="1288.23">And with this, I think I will leave you.</span> </p>
</section>