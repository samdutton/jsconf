<section>
<p><span data-start="20.51" data-end="24.599">everybody here to talk about promises a</span> <span data-start="24.599" data-end="28.74">plus and a story behind that so i'm</span> <span data-start="28.74" data-end="31.77">dominic and thanks for having me happy</span> <span data-start="31.77" data-end="34.59">to be here i want to start out by</span> <span data-start="34.59" data-end="36.059">talking about what I think the</span> <span data-start="36.059" data-end="37.44">JavaScript community is greatest</span> <span data-start="37.44" data-end="40.11">strength is and I think it's that what</span> <span data-start="40.11" data-end="42.18">we do a lot is we we turn tiny</span> <span data-start="42.18" data-end="44.519">primitives into into powerful patterns</span> <span data-start="44.519" data-end="46.35">and I think one of the most amazing</span> <span data-start="46.35" data-end="49.17">examples of this in recent times is the</span> <span data-start="49.17" data-end="51.51">the es5 module systems that we've seen</span> <span data-start="51.51" data-end="54.18">crop up things like commonjs modules or</span> </p>
<p><span data-start="54.18" data-end="56.46">AMD modules where we've taken these</span> <span data-start="56.46" data-end="59.1">these hacks really built on top of</span> <span data-start="59.1" data-end="61.199">function factory functions and objects</span> <span data-start="61.199" data-end="63.629">and turn them into a language feature</span> <span data-start="63.629" data-end="65.46">that was missing from our language and</span> <span data-start="65.46" data-end="67.14">allowed us to create you know package</span> <span data-start="67.14" data-end="69.18">managers and an amazing ecosystem on top</span> <span data-start="69.18" data-end="71.13">of that but we see this over and over</span> <span data-start="71.13" data-end="72.869">this is a general pattern that we do</span> <span data-start="72.869" data-end="75.99">something like just modules but also we</span> <span data-start="75.99" data-end="77.49">have classes built on this prototype</span> <span data-start="77.49" data-end="80.07">hack and we have callbacks that that are</span> <span data-start="80.07" data-end="81.51">building on we pass functions to other</span> <span data-start="81.51" data-end="83.159">functions and we have streams and we</span> <span data-start="83.159" data-end="85.32">have events event emitter is not part of</span> <span data-start="85.32" data-end="86.789">the language there's no like actor</span> <span data-start="86.789" data-end="88.71">pattern built-in but we're able to do</span> <span data-start="88.71" data-end="90.24">this I mean something as small as J</span> <span data-start="90.24" data-end="92.219">queries chainable API is an example of</span> <span data-start="92.219" data-end="93.42">this that's not a language feature</span> <span data-start="93.42" data-end="96.45">that's something we've built and</span> <span data-start="96.45" data-end="98.249">essentially we just use these function</span> <span data-start="98.249" data-end="100.189">and object primitives to cobble together</span> <span data-start="100.189" data-end="102.719">amazing applications and it propagate</span> <span data-start="102.719" data-end="103.979">like the wisdom of our patterns</span> <span data-start="103.979" data-end="106.74">throughout the community and I mean it's</span> <span data-start="106.74" data-end="107.969">a bunch of hacks but it's a bunch of</span> <span data-start="107.969" data-end="109.53">practical hacks and that really fits</span> <span data-start="109.53" data-end="111.329">with the spirit of JavaScript itself you</span> <span data-start="111.329" data-end="114.299">know as as its genesis in 1995 and</span> </p>
<p><span data-start="114.299" data-end="115.909">Brendan Ike's like hey let's put this</span> <span data-start="115.909" data-end="119.13">lisps semantics in some java syntax and</span> <span data-start="119.13" data-end="120.99">cool let's go I mean that's that's how</span> <span data-start="120.99" data-end="123.119">JavaScript works but I think this is</span> <span data-start="123.119" data-end="126.689">also our greatest weakness I think we</span> <span data-start="126.689" data-end="129.42">become prideful in our ability to shape</span> <span data-start="129.42" data-end="131.94">worlds out of the primordial Stardust of</span> <span data-start="131.94" data-end="137.13">function we get stuck in patterns we say</span> <span data-start="137.13" data-end="139.29">that because a certain thing is easiest</span> <span data-start="139.29" data-end="142.2">to express in terms of function it's</span> <span data-start="142.2" data-end="144.66">therefore the best pattern to use in</span> <span data-start="144.66" data-end="147.36">JavaScript and more generally I think</span> <span data-start="147.36" data-end="150.03">that we assume that the best ideas are</span> <span data-start="150.03" data-end="151.98">those that can be expressed most e</span> <span data-start="151.98" data-end="154.26">Lee in terms of JavaScript and most</span> <span data-start="154.26" data-end="156.299">naturally in JavaScript and we often</span> <span data-start="156.299" data-end="158.819">refuse to learn from other languages and</span> <span data-start="158.819" data-end="160.47">the lessons that have come from other</span> <span data-start="160.47" data-end="163.59">spaces so the promise is a plus story</span> <span data-start="163.59" data-end="165.84">that i want to tell you today is a story</span> <span data-start="165.84" data-end="167.489">where we actually as a community</span> <span data-start="167.489" data-end="170.519">overcame this weakness and i want to</span> <span data-start="170.519" data-end="173.28">kind of talk about how that went and why</span> <span data-start="173.28" data-end="176.129">it's important for the future of lily</span> <span data-start="176.129" data-end="179.04">the web and the language in general so</span> <span data-start="179.04" data-end="180.12">of course we first have to have a</span> <span data-start="180.12" data-end="182.909">minimal introduction or talk about a</span> <span data-start="182.909" data-end="185.099">sink programming but you know i want to</span> <span data-start="185.099" data-end="186.36">take a step back and be more general</span> <span data-start="186.36" data-end="188.16">about this than the usual just a sink</span> <span data-start="188.16" data-end="189.87">and JavaScript da callbacks whatever</span> <span data-start="189.87" data-end="192.269">right the async programming revolution</span> <span data-start="192.269" data-end="193.769">is something that's been going on for a</span> <span data-start="193.769" data-end="195.93">long time and a lot of programming</span> <span data-start="195.93" data-end="198.329">languages JavaScript may have made it</span> <span data-start="198.329" data-end="200.37">popular but it's not the first place</span> <span data-start="200.37" data-end="203.31">these easy ideas have been you know it's</span> <span data-start="203.31" data-end="205.349">it's popular because javascript is</span> <span data-start="205.349" data-end="208.29">popular but but that's not that's not</span> <span data-start="208.29" data-end="211.14">the foundation of these ideas and and</span> <span data-start="211.14" data-end="212.94">actually javascript is actually one of</span> <span data-start="212.94" data-end="214.2">the worst languages for a sink</span> <span data-start="214.2" data-end="216.54">programming and I think the reason for</span> <span data-start="216.54" data-end="219.72">this is largely historical you know Java</span> <span data-start="219.72" data-end="221.88">scripts initial asynchronous api's came</span> <span data-start="221.88" data-end="224.669">from this this wonderful set of API is</span> <span data-start="224.669" data-end="226.68">called the DOM and we all know how</span> <span data-start="226.68" data-end="228.93">pleasant Dom API czar to work with but</span> <span data-start="228.93" data-end="231.62">that's that's where they came from so</span> <span data-start="231.62" data-end="234">you know essentially all JavaScript</span> <span data-start="234" data-end="236.04">asynchronous API is end up being in this</span> <span data-start="236.04" data-end="238.049">thing called continuation passing style</span> </p>
<p><span data-start="238.049" data-end="241.41">I mean here's an oj s example because</span> <span data-start="241.41" data-end="243.03">nodejs kind of tried to clean up the</span> <span data-start="243.03" data-end="245.16">doms legacy but they really they just</span> <span data-start="245.16" data-end="247.56">latched on to that train where you want</span> <span data-start="247.56" data-end="249.66">to do something asynchronous you pass a</span> <span data-start="249.66" data-end="251.73">function to another function and you</span> <span data-start="251.73" data-end="253.38">stuff all the rest of your code in there</span> <span data-start="253.38" data-end="255.269">we call this continuation passing style</span> <span data-start="255.269" data-end="257.25">you pass a continuation of your program</span> <span data-start="257.25" data-end="260.7">to somewhere else I mean no decided on</span> <span data-start="260.7" data-end="262.169">the common signature for its callbacks</span> <span data-start="262.169" data-end="263.76">kind of getting away from the doms mess</span> <span data-start="263.76" data-end="265.2">of you know sometimes we use events</span> <span data-start="265.2" data-end="266.58">sometimes we use callbacks sometimes</span> <span data-start="266.58" data-end="269.88">we'll just do whatever and and but in</span> <span data-start="269.88" data-end="271.32">and then you know most of the time it's</span> <span data-start="271.32" data-end="273.449">consistent but it never took a step back</span> <span data-start="273.449" data-end="276.27">and said what's the landscape of design</span> <span data-start="276.27" data-end="277.77">patterns for asynchronous programming</span> <span data-start="277.77" data-end="280.469">how could we kind of look at what other</span> <span data-start="280.469" data-end="281.789">languages are doing or what other</span> <span data-start="281.789" data-end="283.62">frameworks are doing or what's possible</span> <span data-start="283.62" data-end="285.569">when you want to do asynchronous program</span> <span data-start="285.569" data-end="287.039">it just stuck with what the Dom was</span> <span data-start="287.039" data-end="289.08">doing which is just continuation passing</span> <span data-start="289.08" data-end="291.629">style and I think this is generally part</span> <span data-start="291.629" data-end="293.369">of the trap that we often fall into the</span> <span data-start="293.369" data-end="295.86">the more functions trap I like to call</span> <span data-start="295.86" data-end="299.309">it you spell it MOA are and where you do</span> <span data-start="299.309" data-end="300.869">literally the the simplest thing</span> <span data-start="300.869" data-end="304.379">possible so continuation passing style</span> <span data-start="304.379" data-end="307.919">in my opinion is easy right everyone can</span> <span data-start="307.919" data-end="309.509">do it callbacks are easy but it is not</span> <span data-start="309.509" data-end="312.869">simple so easy in this sense i mean it's</span> <span data-start="312.869" data-end="314.069">like the nearest thing you reach for</span> <span data-start="314.069" data-end="316.499">it's it's a very familiar tool you reach</span> <span data-start="316.499" data-end="318.629">out and functions are there and you pass</span> <span data-start="318.629" data-end="321.18">function to other functions and you need</span> <span data-start="321.18" data-end="322.74">to do an async operation you just stuff</span> <span data-start="322.74" data-end="323.99">the rest your code in a function</span> <span data-start="323.99" data-end="326.249">everyone can do this like if you can't</span> <span data-start="326.249" data-end="327.749">do this you're kind of a JavaScript new</span> <span data-start="327.749" data-end="329.189">band and like people will make fun of</span> <span data-start="329.189" data-end="330.899">you but they kind of should because this</span> <span data-start="330.899" data-end="333.589">is a very javascript thing to do like</span> </p>
<p><span data-start="333.589" data-end="338.339">I'm not kidding but the thing about</span> <span data-start="338.339" data-end="341.009">continuation passing style is it is not</span> <span data-start="341.009" data-end="344.039">simple okay it is not what what do I</span> <span data-start="344.039" data-end="346.169">mean by that exactly like what what's</span> <span data-start="346.169" data-end="347.309">the difference here that I'm trying to</span> <span data-start="347.309" data-end="350.58">get at well I think the way that I've</span> <span data-start="350.58" data-end="351.839">kind of come to think about this over</span> <span data-start="351.839" data-end="354.479">the the years is that continuation</span> <span data-start="354.479" data-end="356.669">passing style traps you in something</span> <span data-start="356.669" data-end="358.559">called the Turing tar pit and this is</span> <span data-start="358.559" data-end="360.689">one of my favorite conceptual entities</span> <span data-start="360.689" data-end="363.119">it's the idea that you know because you</span> <span data-start="363.119" data-end="365.189">have a turing-complete language you can</span> <span data-start="365.189" data-end="366.749">just cobble together whatever program</span> <span data-start="366.749" data-end="369.539">you want you rebuild whatever you need</span> <span data-start="369.539" data-end="371.519">and this is often seen in the Dom or in</span> <span data-start="371.519" data-end="373.05">you know in the browser where you're</span> <span data-start="373.05" data-end="374.369">like oh I have JavaScript i'm just going</span> <span data-start="374.369" data-end="376.079">to redo all of the browser's primitives</span> <span data-start="376.079" data-end="377.43">in terms of javascript like that's</span> <span data-start="377.43" data-end="378.569">you're getting trapped in the trying</span> <span data-start="378.569" data-end="381.119">carpet but it's the same thing you're in</span> <span data-start="381.119" data-end="382.709">you're in asynchronous programming in</span> </p>
<p><span data-start="382.709" data-end="384.389">JavaScript land you're like oh well I</span> <span data-start="384.389" data-end="385.709">have JavaScript I have a turing-complete</span> <span data-start="385.709" data-end="387.839">language let me just cobble together an</span> <span data-start="387.839" data-end="389.939">asynchronous abstraction like using the</span> <span data-start="389.939" data-end="392.61">basic JavaScript stuff and the problem</span> <span data-start="392.61" data-end="394.709">is that as with altering carpet things</span> <span data-start="394.709" data-end="397.469">you end up reinventing basic features of</span> <span data-start="397.469" data-end="399.389">the language something like returning a</span> <span data-start="399.389" data-end="402.119">value or throwing an error or a call</span> <span data-start="402.119" data-end="404.55">stack you lose those and you try and</span> <span data-start="404.55" data-end="406.499">reinvent them by cobbling together these</span> <span data-start="406.499" data-end="409.11">crazy Combinator functions that just tie</span> <span data-start="409.11" data-end="410.669">together other functions to try and</span> <span data-start="410.669" data-end="413.969">express your basic ideas and and of</span> <span data-start="413.969" data-end="415.8">course it's not hard right everyone can</span> <span data-start="415.8" data-end="418.499">do this this is easy stuff but it's not</span> <span data-start="418.499" data-end="419.04">simple</span> <span data-start="419.04" data-end="421.89">at all and this kind of complexity that</span> <span data-start="421.89" data-end="423.69">comes out really has the kind of</span> <span data-start="423.69" data-end="425.7">maintenance and cognitive burdens that</span> <span data-start="425.7" data-end="428.16">you would expect from a complex system</span> <span data-start="428.16" data-end="429.84">you know you're always making asking</span> <span data-start="429.84" data-end="431.46">questions or you know second-guessing</span> <span data-start="431.46" data-end="432.69">yourself you're saying did somebody</span> <span data-start="432.69" data-end="434.79">accidentally call my call back twice or</span> <span data-start="434.79" data-end="436.38">you know did they call it with both an</span> <span data-start="436.38" data-end="438.24">error and a value or what's the value of</span> <span data-start="438.24" data-end="439.65">that thing I use to do things in</span> <span data-start="439.65" data-end="441.36">parallel it's like a counter sometimes</span> <span data-start="441.36" data-end="443.16">with some of this is a map but I don't</span> <span data-start="443.16" data-end="445.35">know like what did I remember to pass</span> <span data-start="445.35" data-end="447.27">with the heirs to my collar like the</span> <span data-start="447.27" data-end="448.41">answer to all these questions should</span> <span data-start="448.41" data-end="450.45">always be I don't know and I don't want</span> <span data-start="450.45" data-end="452.22">to know I don't care i just want to do</span> <span data-start="452.22" data-end="455.16">an asynchronous function call and i</span> <span data-start="455.16" data-end="456.81">don't care how like that would be</span> <span data-start="456.81" data-end="458.39">something that was simple but</span> <span data-start="458.39" data-end="460.8">continuation passing style and callbacks</span> <span data-start="460.8" data-end="463.83">in general are not simple so the way</span> <span data-start="463.83" data-end="465.24">that other languages have solved this</span> <span data-start="465.24" data-end="467.91">asynchronous function call paradigm if</span> <span data-start="467.91" data-end="469.98">you want to look to them for four</span> <span data-start="469.98" data-end="472.53">lessons is by a concept called promises</span> <span data-start="472.53" data-end="474.33">and it comes from some very old</span> <span data-start="474.33" data-end="476.76">languages jewel and e are kind of the</span> <span data-start="476.76" data-end="477.84">originator of these and these are</span> <span data-start="477.84" data-end="480.6">somewhat academic languages that that</span> <span data-start="480.6" data-end="481.59">haven't seen that much practical</span> <span data-start="481.59" data-end="482.43">application but they're really</span> <span data-start="482.43" data-end="484.14">interesting and they have some first</span> <span data-start="484.14" data-end="485.22">class to support for this kind of</span> <span data-start="485.22" data-end="488.01">asynchronous function call idea but it's</span> <span data-start="488.01" data-end="489.45">made its way into a lot more mainstream</span> <span data-start="489.45" data-end="491.52">languages as you can see you know it's</span> <span data-start="491.52" data-end="493.2">in Java it's in Python it's an f-sharp</span> <span data-start="493.2" data-end="495.72">and VF charter got into the net in</span> <span data-start="495.72" data-end="498.48">general it's in C++ now it's of course</span> <span data-start="498.48" data-end="499.5">it's in dark because dark have</span> <span data-start="499.5" data-end="501.33">everything it's and it's it's in</span> <span data-start="501.33" data-end="504.09">javascript in the form of promises a</span> <span data-start="504.09" data-end="507.12">plus and so I think it's interesting</span> <span data-start="507.12" data-end="508.62">seeing this list because generally when</span> <span data-start="508.62" data-end="510.24">you see a list like this where all these</span> <span data-start="510.24" data-end="512.7">languages have adopted this feature it</span> <span data-start="512.7" data-end="514.14">generally means either one of two things</span> <span data-start="514.14" data-end="516.21">it means that the idea is so good that</span> <span data-start="516.21" data-end="518.79">everyone had to copy it or it means that</span> <span data-start="518.79" data-end="520.349">there's some convergent evolution on a</span> <span data-start="520.349" data-end="522.21">solution that everyone agreed was a</span> <span data-start="522.21" data-end="524.46">really good one and promises I think are</span> <span data-start="524.46" data-end="528.48">a bit of both so you know to convince</span> <span data-start="528.48" data-end="530.07">you this I I don't really want to show</span> <span data-start="530.07" data-end="532.02">you how to use promises in JavaScript I</span> <span data-start="532.02" data-end="533.34">think there's there's a lot of good blog</span> <span data-start="533.34" data-end="536.22">posts on that it's it's fun it's I'd</span> <span data-start="536.22" data-end="537.69">love to you know do a little tutorial</span> <span data-start="537.69" data-end="539.79">but I think I want to kind of blow you</span> <span data-start="539.79" data-end="541.95">out of the water here and say why you</span> <span data-start="541.95" data-end="543.66">should use promises of JavaScript with</span> <span data-start="543.66" data-end="546.21">some really compelling examples so the</span> <span data-start="546.21" data-end="547.77">essential point of promises that i want</span> <span data-start="547.77" data-end="550.23">to show with these examples is to give</span> <span data-start="550.23" data-end="551.67">you bat is that you're going to get back</span> <span data-start="551.67" data-end="552.87">asynchronous versions</span> <span data-start="552.87" data-end="555.75">of return and throw so instead of</span> <span data-start="555.75" data-end="558">thrashing wildly in this Turing carpet</span> <span data-start="558" data-end="560.19">only to sink further into this callback</span> <span data-start="560.19" data-end="562.05">molasses we're going to turn our</span> <span data-start="562.05" data-end="564.48">attention to an abstraction that can</span> <span data-start="564.48" data-end="565.98">bring us back into the semantics of</span> </p>
<p><span data-start="565.98" data-end="568.08">JavaScript the language the one that</span> <span data-start="568.08" data-end="569.7">we're used to we're going to create an</span> <span data-start="569.7" data-end="571.29">asynchronous call stack with these</span> <span data-start="571.29" data-end="573.75">promises regaining all the semantics of</span> <span data-start="573.75" data-end="575.79">the language as just like with</span> <span data-start="575.79" data-end="576.93">synchronous return and throw an we're</span> <span data-start="576.93" data-end="578.31">going to integrate well with synchronous</span> <span data-start="578.31" data-end="580.77">return well throw and so I think for</span> <span data-start="580.77" data-end="582.839">this reason promises are fundamentally a</span> <span data-start="582.839" data-end="585.93">simple thing they allow us to compose</span> <span data-start="585.93" data-end="587.67">our stuff in the same way that a normal</span> <span data-start="587.67" data-end="590.13">language constructs would and you can</span> <span data-start="590.13" data-end="591.57">compose a string or dysfunction calls</span> <span data-start="591.57" data-end="593.85">with promises without having to entangle</span> <span data-start="593.85" data-end="596.07">your concern of calling the asynchronous</span> <span data-start="596.07" data-end="598.26">function with the functions concern of</span> <span data-start="598.26" data-end="600.51">calling your call back and so I think</span> <span data-start="600.51" data-end="602.279">the first really drastic demonstration</span> <span data-start="602.279" data-end="604.65">of this is available to you actually if</span> <span data-start="604.65" data-end="607.02">you go to Chrome Canary and turn on some</span> <span data-start="607.02" data-end="609.63">experimental JavaScript flags so let me</span> <span data-start="609.63" data-end="610.68">show you about something called</span> <span data-start="610.68" data-end="612.779">generators so this is this is actually</span> <span data-start="612.779" data-end="616.07">not promises related at the moment but</span> <span data-start="616.07" data-end="618.75">so so the idea here is you declare the</span> <span data-start="618.75" data-end="620.01">special type of function called</span> <span data-start="620.01" data-end="622.41">generator function which gets a little</span> <span data-start="622.41" data-end="626.94">star next to its name not a typo and in</span> <span data-start="626.94" data-end="628.08">the middle of these you can put</span> <span data-start="628.08" data-end="630.959">statements like yield so in this example</span> <span data-start="630.959" data-end="633">this function yields up a few numbers</span> <span data-start="633" data-end="635.13">and in between the yielding it logs some</span> <span data-start="635.13" data-end="638.16">console statements ABCD and so I when</span> <span data-start="638.16" data-end="639.959">you call the function it doesn't</span> <span data-start="639.959" data-end="641.79">actually execute any code right away but</span> <span data-start="641.79" data-end="642.99">instead it gives you this iterator</span> <span data-start="642.99" data-end="645.959">object and then when you call next on</span> <span data-start="645.959" data-end="647.73">that iterator object it'll execute the</span> <span data-start="647.73" data-end="650.16">code it'll log a and yield you this one</span> <span data-start="650.16" data-end="652.08">and what that translates to is this</span> <span data-start="652.08" data-end="654.3">object value one done false because</span> <span data-start="654.3" data-end="656.279">there's no still more code to run but</span> <span data-start="656.279" data-end="658.32">the rest of the code doesn't run yet so</span> <span data-start="658.32" data-end="659.31">this is starting to look really</span> <span data-start="659.31" data-end="660.81">interesting this is something we have</span> <span data-start="660.81" data-end="662.19">don't have in JavaScript the ability a</span> <span data-start="662.19" data-end="664.98">pause execution of a function I mean</span> <span data-start="664.98" data-end="666.209">it's still completely single threaded</span> <span data-start="666.209" data-end="667.56">and there's no like blocking thread</span> <span data-start="667.56" data-end="668.7">stuff going on here but we've paused</span> <span data-start="668.7" data-end="670.95">execution and said well let's just not</span> <span data-start="670.95" data-end="673.589">execute the rest of the code and so you</span> <span data-start="673.589" data-end="674.91">know you keep calling next do you keep</span> <span data-start="674.91" data-end="676.589">executing more pieces of the code all</span> <span data-start="676.589" data-end="678.42">the way down until you get to the end</span> <span data-start="678.42" data-end="680.88">when after you've yielded three and got</span> <span data-start="680.88" data-end="683.13">value three done false you call next</span> <span data-start="683.13" data-end="685.89">again and you get D value  done</span> <span data-start="685.89" data-end="686.61">true</span> <span data-start="686.61" data-end="688.92">so this is pretty magic and I think</span> <span data-start="688.92" data-end="690.329">what's really fun is that if you go to</span> <span data-start="690.329" data-end="692.22">this J's bin link and turn on your</span> </p>
<p><span data-start="692.22" data-end="694.47">Chrome Canary flags you can actually see</span> <span data-start="694.47" data-end="696.209">this in action you can write this code</span> <span data-start="696.209" data-end="698.7">and it works and so that's that's pretty</span> <span data-start="698.7" data-end="700.649">amazing and I'm really excited about</span> <span data-start="700.649" data-end="702.779">next version of javascript in general</span> <span data-start="702.779" data-end="703.8">but I think this is really powerful</span> <span data-start="703.8" data-end="705.99">because this idea where we pause</span> <span data-start="705.99" data-end="707.91">function execution go off and do</span> <span data-start="707.91" data-end="709.29">something else and then come back is</span> <span data-start="709.29" data-end="711.42">exactly what we need to implement</span> <span data-start="711.42" data-end="713.61">something like a synchronous code that</span> <span data-start="713.61" data-end="714.959">integrates well with our language and</span> <span data-start="714.959" data-end="717.029">with promises because they're an</span> <span data-start="717.029" data-end="718.529">abstraction for asynchronous functions</span> <span data-start="718.529" data-end="720.48">that integrate well with our language we</span> <span data-start="720.48" data-end="723.149">can do exactly that so using the cue</span> <span data-start="723.149" data-end="725.19">library and this is also code that works</span> <span data-start="725.19" data-end="727.829">today in this jas bin you can do</span> <span data-start="727.829" data-end="730.079">something where you do an asynchronous</span> <span data-start="730.079" data-end="732.12">function call to this get repo events</span> <span data-start="732.12" data-end="733.92">function I wrote which is also written</span> <span data-start="733.92" data-end="736.35">with promises and generators and you</span> <span data-start="736.35" data-end="738.06">call this you use the yield keyword to</span> <span data-start="738.06" data-end="740.579">suspend execution until it's ready to</span> <span data-start="740.579" data-end="743.43">come back and then it goes then updates</span> <span data-start="743.43" data-end="745.26">the UI and so on and i'm also using</span> <span data-start="745.26" data-end="747.899">yield down there to delay for 500 5000</span> <span data-start="747.899" data-end="750.42">milliseconds and what's amazing here and</span> <span data-start="750.42" data-end="751.56">what you don't see in a lot of these</span> <span data-start="751.56" data-end="753.87">solutions is we integrate well with the</span> <span data-start="753.87" data-end="755.64">surrounding language constructs and in</span> <span data-start="755.64" data-end="757.23">this case i'm using try-catch finally</span> <span data-start="757.23" data-end="759.06">this is not something you can see you no</span> <span data-start="759.06" data-end="760.41">longer have to do these crazy like</span> </p>
<p><span data-start="760.41" data-end="762.24">Combinator's to say oh well sometimes</span> <span data-start="762.24" data-end="763.89">there's an error let me handle that well</span> <span data-start="763.89" data-end="765.57">but in both cases I want to execute the</span> <span data-start="765.57" data-end="766.89">finally function but if addicts and</span> <span data-start="766.89" data-end="768.029">could throws an error that i do want to</span> <span data-start="768.029" data-end="770.64">propagate that and so on you get all</span> <span data-start="770.64" data-end="772.47">that for free because promises as a</span> <span data-start="772.47" data-end="774.24">solution integrate well with the</span> <span data-start="774.24" data-end="776.76">language and they they can be directly</span> <span data-start="776.76" data-end="779.13">dropped into a generator solution for</span> <span data-start="779.13" data-end="780.72">the when the language evolves that and</span> <span data-start="780.72" data-end="786.269">so yeah it's pretty awesome all right so</span> <span data-start="786.269" data-end="788.07">the other major thing about promises</span> <span data-start="788.07" data-end="789.48">that I think is really cool and kind of</span> <span data-start="789.48" data-end="792.089">gives you an idea of their power is it</span> <span data-start="792.089" data-end="794.67">as a bonus to just this fitting well</span> <span data-start="794.67" data-end="796.29">with the language abstraction we get</span> <span data-start="796.29" data-end="798.81">time travel as i like to call it because</span> <span data-start="798.81" data-end="800.61">promises are objects that represent</span> <span data-start="800.61" data-end="802.62">another object that will eventually be</span> <span data-start="802.62" data-end="804.42">available it's an object from another</span> <span data-start="804.42" data-end="809.01">time and so you can get a really fun</span> <span data-start="809.01" data-end="811.32">like example of this with this this unit</span> <span data-start="811.32" data-end="812.88">testing assertion I've put down at the</span> <span data-start="812.88" data-end="814.56">bottom and I have a library that does</span> <span data-start="814.56" data-end="815.91">exactly this it's called chai as</span> <span data-start="815.91" data-end="817.56">promised where you can say like I</span> <span data-start="817.56" data-end="820.259">eventually expect this object</span> <span data-start="820.259" data-end="822.359">too deep equal these things so if you've</span> <span data-start="822.359" data-end="824.1">ever done asynchronous unit testing its</span> <span data-start="824.1" data-end="826.649">mean it's easy but it's not simple as</span> <span data-start="826.649" data-end="829.379">you as I emphasized like it's just it's</span> <span data-start="829.379" data-end="830.79">a pain it's not as simple as it should</span> <span data-start="830.79" data-end="834.47">be um but you know let's let's actually</span> <span data-start="834.47" data-end="837.479">step back a second and let Justin</span> </p>
<p><span data-start="837.479" data-end="839.479">Timberlake tell us what school because</span> <span data-start="839.479" data-end="843.359">time travel isn't cool really I mean I</span> <span data-start="843.359" data-end="845.1">don't know what well I kind of disagree</span> <span data-start="845.1" data-end="846.72">with him but but he thinks that space</span> <span data-start="846.72" data-end="850.589">travels much cooler so so let's look at</span> <span data-start="850.589" data-end="852.269">this example so this goes a bit beyond</span> <span data-start="852.269" data-end="853.949">basic promise stuff which is usually</span> <span data-start="853.949" data-end="856.019">just then but the idea is you have is</span> <span data-start="856.019" data-end="857.669">something like a promise for a user and</span> <span data-start="857.669" data-end="860.669">you call its get method and to get a</span> <span data-start="860.669" data-end="862.769">property called repose and that actually</span> <span data-start="862.769" data-end="864.119">gives you a promise for the property</span> <span data-start="864.119" data-end="866.129">called repose and you keep chaining off</span> <span data-start="866.129" data-end="867.179">of that you say oh we're going to get</span> <span data-start="867.179" data-end="868.919">the promise for the property 0 of the</span> <span data-start="868.919" data-end="870.809">repos get a promise for the property</span> <span data-start="870.809" data-end="872.729">commit history of the zeroth repo and</span> <span data-start="872.729" data-end="874.709">then I'm going to invoke this function</span> <span data-start="874.709" data-end="876.359">so I'm going to promise for the results</span> <span data-start="876.359" data-end="878.339">of the invocation of the to HTML</span> <span data-start="878.339" data-end="880.589">function on that chemistry history and</span> <span data-start="880.589" data-end="882.389">then I'm going to display it in the UI</span> <span data-start="882.389" data-end="884.339">and then I'm going to get done and you</span> <span data-start="884.339" data-end="885.569">want to point out that in ECMO script</span> <span data-start="885.569" data-end="887.489">six with the proxies feature this is</span> <span data-start="887.489" data-end="888.959">going to look really pretty just like</span> <span data-start="888.959" data-end="890.369">all our backbone code where we do get</span> <span data-start="890.369" data-end="892.139">set blah blah blah blah well or ember</span> <span data-start="892.139" data-end="893.309">code and so on is going to look a lot</span> <span data-start="893.309" data-end="898.169">prettier but it's not just like okay</span> <span data-start="898.169" data-end="899.699">here's some nice and tactic sugar for</span> <span data-start="899.699" data-end="901.259">some common promised operations like</span> <span data-start="901.259" data-end="903.949">getting properties and invoking methods</span> <span data-start="903.949" data-end="906.929">what if i told you that the user promise</span> <span data-start="906.929" data-end="909.089">was actually a promise for a remote</span> <span data-start="909.089" data-end="911.899">object an object on another computer</span> <span data-start="911.899" data-end="914.249">right so everything here takes on a new</span> <span data-start="914.249" data-end="917.069">meaning right what's happening is not</span> <span data-start="917.069" data-end="918.569">just that we're saying oq up these</span> <span data-start="918.569" data-end="920.73">actions to be taken in the future we're</span> <span data-start="920.73" data-end="923.819">saying cue up these actions to happen on</span> <span data-start="923.819" data-end="926.639">another computer and then the computer</span> <span data-start="926.639" data-end="928.829">will say oh well he called then let me</span> <span data-start="928.829" data-end="930.539">send back what I've currently computed</span> <span data-start="930.539" data-end="933.629">the the HTML rendered on the server so</span> <span data-start="933.629" data-end="934.949">if your Twitter and you don't believe in</span> <span data-start="934.949" data-end="936.479">rendering things on this client this</span> <span data-start="936.479" data-end="940.559">might be a good way to go so I think</span> <span data-start="940.559" data-end="942.209">this is really neat because we've we've</span> <span data-start="942.209" data-end="943.859">got an abstraction that was originally</span> <span data-start="943.859" data-end="944.669">meant for kind of asynchronous</span> <span data-start="944.669" data-end="946.079">programming but essentially it can be</span> <span data-start="946.079" data-end="947.729">used for distributed programming so we</span> <span data-start="947.729" data-end="948.959">really know we're onto something kind of</span> <span data-start="948.959" data-end="953.579">fundamental here all right and you can</span> <span data-start="953.579" data-end="954.209">actually do this</span> <span data-start="954.209" data-end="956.79">today we're using a library by Chris</span> </p>
<p><span data-start="956.79" data-end="959.519">Cole who's sitting right there called Q</span> <span data-start="959.519" data-end="961.86">connection and in this case the remote</span> <span data-start="961.86" data-end="964.47">sources can be a web socket a web worker</span> <span data-start="964.47" data-end="966.36">or a message port which is a way of</span> <span data-start="966.36" data-end="969.959">communicating among iframes usually and</span> <span data-start="969.959" data-end="972.449">so you can get a promise using today's</span> <span data-start="972.449" data-end="975.119">like using libraries today for a remote</span> <span data-start="975.119" data-end="976.8">user object and then you can queue</span> <span data-start="976.8" data-end="978.36">messages to send across these boundaries</span> <span data-start="978.36" data-end="981.749">to remote computers or remote iframes or</span> <span data-start="981.749" data-end="985.199">whatever and so this is I think really</span> <span data-start="985.199" data-end="987.329">neat demonstration of promises that goes</span> <span data-start="987.329" data-end="990.839">beyond the normal stuff so that's kind</span> <span data-start="990.839" data-end="993.749">of the end of the promises are really</span> <span data-start="993.749" data-end="996.66">cool part of the talk and now I want to</span> <span data-start="996.66" data-end="998.1">talk about something that I think is</span> <span data-start="998.1" data-end="1002.389">really impactful for kind of how how</span> </p>
<p><span data-start="1002.389" data-end="1004.369">JavaScript as a community and a language</span> <span data-start="1004.369" data-end="1007.1">evolves the prop the story I promised</span> <span data-start="1007.1" data-end="1008.959">you earlier where we overcame our</span> <span data-start="1008.959" data-end="1011.029">greatest weakness of the desire to build</span> <span data-start="1011.029" data-end="1012.529">everything and reach for the easiest</span> <span data-start="1012.529" data-end="1016.73">thing and and so on and so the story of</span> <span data-start="1016.73" data-end="1020.36">promise is a plus it it all started with</span> <span data-start="1020.36" data-end="1022.279">this thing called common J's promises a</span> <span data-start="1022.279" data-end="1024.289">and actually if you look at this message</span> <span data-start="1024.289" data-end="1026.87">it's it's by a guy on the the common J's</span> <span data-start="1026.87" data-end="1029.569">mailing list proposing to base it off of</span> <span data-start="1029.569" data-end="1031.25">dojos so it actually all started with</span> <span data-start="1031.25" data-end="1033.559">dojo which as we learned two days ago it</span> <span data-start="1033.559" data-end="1037.279">started everything but but the idea of</span> <span data-start="1037.279" data-end="1039.5">promises a and dojo promises before them</span> <span data-start="1039.5" data-end="1042.199">just captured the core idea of promises</span> <span data-start="1042.199" data-end="1043.73">from all those other languages we saw</span> <span data-start="1043.73" data-end="1045.74">the idea of an asynchronous computation</span> <span data-start="1045.74" data-end="1048.799">in an object but it had some problems as</span> <span data-start="1048.799" data-end="1052.13">a community created spec it was under</span> <span data-start="1052.13" data-end="1053.99">specified it was it was missing some key</span> <span data-start="1053.99" data-end="1055.49">features that all implementations</span> <span data-start="1055.49" data-end="1058.039">actually ended up in planting I'm it was</span> <span data-start="1058.039" data-end="1060.35">written in some paragraphs of prose that</span> <span data-start="1060.35" data-end="1062.99">were really easy to misinterpret and one</span> <span data-start="1062.99" data-end="1064.82">of the unfortunate consequences of this</span> <span data-start="1064.82" data-end="1066.799">easy to misinterpret nature of the spec</span> <span data-start="1066.799" data-end="1069.919">was as i like to call it moneybags</span> <span data-start="1069.919" data-end="1074.33">deferred so moneybags dot deferred you</span> <span data-start="1074.33" data-end="1077.09">know this is a this is a screenshot of a</span> <span data-start="1077.09" data-end="1079.159">issue tracker while I'm arguing with its</span> <span data-start="1079.159" data-end="1080.72">maintainer kind of saying hey it would</span> <span data-start="1080.72" data-end="1082.25">be really cool if you guys adopted the</span> <span data-start="1082.25" data-end="1083.72">promises a standard instead of this</span> <span data-start="1083.72" data-end="1086.6">misinterpretation of it you have and the</span> <span data-start="1086.6" data-end="1088.11">response is like sorry it was too</span> </p>
<p><span data-start="1088.11" data-end="1089.79">I am when I was reading that spec and I</span> <span data-start="1089.79" data-end="1091.14">got it wrong and now we're stuck with it</span> <span data-start="1091.14" data-end="1095.73">so so do too late and so they had a</span> <span data-start="1095.73" data-end="1097.95">really bad reading comprehension issue</span> <span data-start="1097.95" data-end="1099.69">they're like they missed the whole a</span> <span data-start="1099.69" data-end="1102.6">sink sink parallel and so these these</span> <span data-start="1102.6" data-end="1105.75">deferred like whatever like they they</span> <span data-start="1105.75" data-end="1107.73">don't match promises conceptually at all</span> <span data-start="1107.73" data-end="1109.35">they don't integrate all of the language</span> <span data-start="1109.35" data-end="1110.91">they don't do the async return throw</span> <span data-start="1110.91" data-end="1113.58">thing at all so they failed reading</span> <span data-start="1113.58" data-end="1114.69">comprehension and I think the only</span> <span data-start="1114.69" data-end="1117.6">realistic response to that is a Godzilla</span> <span data-start="1117.6" data-end="1121.29">facepalm so whatever I'll do my own</span> <span data-start="1121.29" data-end="1124.08">thing I recently been added to this Q</span> <span data-start="1124.08" data-end="1127.2">library by Chris Cole on but ice or a</span> <span data-start="1127.2" data-end="1130.049">solemn vow on the the grave of the Dead</span> <span data-start="1130.049" data-end="1132.419">callbacks that I buried that I'm not</span> <span data-start="1132.419" data-end="1136.799">going to let this happen again so when</span> <span data-start="1136.799" data-end="1139.2">you know some sometime later this this</span> <span data-start="1139.2" data-end="1140.16">library you may have heard of called</span> <span data-start="1140.16" data-end="1143.61">ember got a pull request that said adam</span> <span data-start="1143.61" data-end="1145.32">berg deferred mix in which implements</span> <span data-start="1145.32" data-end="1147.69">the promises i spec i took a look at the</span> <span data-start="1147.69" data-end="1150.15">code and i found out that actually those</span> <span data-start="1150.15" data-end="1153.45">are horrible horrible lies then and you</span> <span data-start="1153.45" data-end="1155.4">know we'd seen like like this this</span> <span data-start="1155.4" data-end="1157.679">misinterpretation of promises a had gone</span> <span data-start="1157.679" data-end="1160.02">on again you know and then it's really a</span> <span data-start="1160.02" data-end="1162.63">systemic problem and so you know the the</span> <span data-start="1162.63" data-end="1164.28">first appropriate response to that is of</span> <span data-start="1164.28" data-end="1168.45">course a double bunny face bomber but</span> <span data-start="1168.45" data-end="1171.45">after i was done done with that i got</span> <span data-start="1171.45" data-end="1174.69">really angry and i wrote wrote this this</span> <span data-start="1174.69" data-end="1176.46">rant called you're missing the point of</span> <span data-start="1176.46" data-end="1178.44">promises and this this kind of had</span> <span data-start="1178.44" data-end="1180.69">surprisingly large circulation which was</span> <span data-start="1180.69" data-end="1182.25">cool so people were listening to what i</span> <span data-start="1182.25" data-end="1183.72">wrote and people really seem to</span> <span data-start="1183.72" data-end="1185.429">understand it like the idea that oh wow</span> <span data-start="1185.429" data-end="1187.11">these libraries are missing the point of</span> <span data-start="1187.11" data-end="1188.4">promises they're just using it for like</span> <span data-start="1188.4" data-end="1190.38">callback aggregation they're not trying</span> <span data-start="1190.38" data-end="1191.7">to integrate well below the language and</span> <span data-start="1191.7" data-end="1193.77">provide a sane asynchronous primitive</span> <span data-start="1193.77" data-end="1196.919">for a value that represents like a</span> <span data-start="1196.919" data-end="1199.77">synchronous computation and at the</span> <span data-start="1199.77" data-end="1201.419">bottom of the guests i wanted to end on</span> <span data-start="1201.419" data-end="1203.07">a positive productive note not just like</span> <span data-start="1203.07" data-end="1204.51">i'm ranting on the internet i said i</span> <span data-start="1204.51" data-end="1206.52">would produce a test suite and once you</span> <span data-start="1206.52" data-end="1207.51">put something on the internet with a</span> <span data-start="1207.51" data-end="1208.62">promise you really have to do it</span> <span data-start="1208.62" data-end="1210.419">otherwise people hate you forever so i</span> <span data-start="1210.419" data-end="1213.54">did I produced a promises a test suite</span> <span data-start="1213.54" data-end="1215.73">which people started using which I</span> <span data-start="1215.73" data-end="1217.53">thought was really cool and at this</span> <span data-start="1217.53" data-end="1219.63">point actually you who to cats one of</span> <span data-start="1219.63" data-end="1221.67">the main people behind number J us</span> <span data-start="1221.67" data-end="1223.41">with me and he said yes we totally want</span> <span data-start="1223.41" data-end="1225.18">promises a compliant promises an ember</span> <span data-start="1225.18" data-end="1226.53">we don't want to make that jQuery</span> <span data-start="1226.53" data-end="1228.93">mistake and he created this library</span> <span data-start="1228.93" data-end="1231.36">called RSVP jas which is one of the more</span> <span data-start="1231.36" data-end="1234.15">popular promised libraries today and I</span> <span data-start="1234.15" data-end="1235.38">think this this was really kind of the</span> <span data-start="1235.38" data-end="1238.05">start of something great so here's a</span> <span data-start="1238.05" data-end="1239.16">screenshot of that test suite that I</span> <span data-start="1239.16" data-end="1242.46">created and I mean it's if I'm very</span> <span data-start="1242.46" data-end="1244.35">happy with with how many people started</span> <span data-start="1244.35" data-end="1246.39">conforming to that but then the real</span> <span data-start="1246.39" data-end="1249.18">magic happened so so what happened next</span> <span data-start="1249.18" data-end="1251.34">is this guy called Brian cavalier it</span> <span data-start="1251.34" data-end="1252.51">should be in the audience but I haven't</span> <span data-start="1252.51" data-end="1256.62">seen him there is yeah he he created</span> <span data-start="1256.62" data-end="1260.78">this jist or guest a gift to something</span> <span data-start="1260.78" data-end="1265.41">we're called promises a plus which you</span> <span data-start="1265.41" data-end="1267.18">know is a brilliant name I wish I</span> <span data-start="1267.18" data-end="1268.83">thought of it where you know we're going</span> <span data-start="1268.83" data-end="1270.42">to take promises a and we're going to</span> <span data-start="1270.42" data-end="1272.37">clarify it we're going to say how let's</span> <span data-start="1272.37" data-end="1274.29">put this in in like real language not a</span> <span data-start="1274.29" data-end="1275.67">few paragraphs let's put this in likes</span> <span data-start="1275.67" data-end="1278.34">peckish ty bullet points and kind of say</span> <span data-start="1278.34" data-end="1280.29">what exactly are the requirements that</span> <span data-start="1280.29" data-end="1282.21">have emerged over the last few years of</span> <span data-start="1282.21" data-end="1283.71">promise to implementation in JavaScript</span> <span data-start="1283.71" data-end="1285.48">what do we need to create an</span> <span data-start="1285.48" data-end="1287.01">interoperable set of promise</span> <span data-start="1287.01" data-end="1289.77">implementations a man and from that that</span> <span data-start="1289.77" data-end="1292.14">little gist we ended up with this</span> <span data-start="1292.14" data-end="1294.87">beautiful github pages website you can</span> <span data-start="1294.87" data-end="1298.35">tell that I'm a designer and it a bit in</span> <span data-start="1298.35" data-end="1300.12">oh really it's like it's it's a pretty</span> <span data-start="1300.12" data-end="1303.18">nice you know spec that we created and</span> <span data-start="1303.18" data-end="1304.38">it's got its own domain name now</span> <span data-start="1304.38" data-end="1307.65">promises a plus calm and this time we</span> <span data-start="1307.65" data-end="1309">actually made a test suite unlike the</span> <span data-start="1309" data-end="1311.55">poor promises a guys if if only they'd</span> <span data-start="1311.55" data-end="1314.19">known how important that was and then</span> <span data-start="1314.19" data-end="1319.47">jQuery well okay but so what so we</span> <span data-start="1319.47" data-end="1321.09">created this this spec and we put it up</span> <span data-start="1321.09" data-end="1322.32">on the internet and has its own domain</span> <span data-start="1322.32" data-end="1324.84">name Lou but it turns out that when you</span> <span data-start="1324.84" data-end="1326.22">write a clear and thoughtful</span> <span data-start="1326.22" data-end="1328.29">specification for something that people</span> <span data-start="1328.29" data-end="1330.06">like to do like prawns people have been</span> <span data-start="1330.06" data-end="1332.22">doing for a while like promises and you</span> <span data-start="1332.22" data-end="1333.9">create a nice test suite for it that's</span> <span data-start="1333.9" data-end="1335.61">very thorough then people get really</span> <span data-start="1335.61" data-end="1337.95">excited about implementing that so you</span> <span data-start="1337.95" data-end="1339.87">end up with we've ended up with over 30</span> <span data-start="1339.87" data-end="1342.87">implementations of promises a plus spec</span> <span data-start="1342.87" data-end="1345.06">and we've actually ended up ones with</span> <span data-start="1345.06" data-end="1347.1">actionscript Python and Objective C</span> <span data-start="1347.1" data-end="1350.13">which i think is pretty amazing and</span> <span data-start="1350.13" data-end="1352.02">what's great about this is is not that</span> <span data-start="1352.02" data-end="1353.46">like yes we've forced everyone to</span> <span data-start="1353.46" data-end="1354.89">conform because we really made</span> <span data-start="1354.89" data-end="1357.95">do only specify the core piece of the</span> <span data-start="1357.95" data-end="1359.48">promised implementation that's important</span> <span data-start="1359.48" data-end="1361.94">the then method and every implementation</span> <span data-start="1361.94" data-end="1363.65">now has a good then method which means</span> <span data-start="1363.65" data-end="1365.03">you can build libraries that work with</span> <span data-start="1365.03" data-end="1366.92">any implementation if you don't have to</span> <span data-start="1366.92" data-end="1369.32">choose one and say oh everybody has to</span> <span data-start="1369.32" data-end="1371.12">use my promises a plus implementation if</span> <span data-start="1371.12" data-end="1374.03">they want a benefit from my library so</span> <span data-start="1374.03" data-end="1375.59">this is pretty awesome and actually</span> <span data-start="1375.59" data-end="1376.49">there's there's another implementation</span> <span data-start="1376.49" data-end="1379.19">of these that ended up in the Dom spec</span> <span data-start="1379.19" data-end="1382.37">under the wonderful name Dom futures not</span> <span data-start="1382.37" data-end="1384.86">sure what that's about but Dom futures</span> <span data-start="1384.86" data-end="1388.01">are kind of like Dom promises and the</span> <span data-start="1388.01" data-end="1389.72">notes but seriously we have promises in</span> <span data-start="1389.72" data-end="1392.21">the Dom now and there's been major work</span> <span data-start="1392.21" data-end="1395.63">throughout the the what WG and the w3c</span> <span data-start="1395.63" data-end="1397.46">to encourage the use of these these Dom</span> <span data-start="1397.46" data-end="1399.83">promises these Dom futures in upcoming</span> <span data-start="1399.83" data-end="1401.6">api's I mean it's actually gotten kind</span> <span data-start="1401.6" data-end="1402.92">of ridiculous the amount of times the</span> <span data-start="1402.92" data-end="1404.45">mailing this post's get responded to</span> <span data-start="1404.45" data-end="1406.7">with oh you should use futures like</span> <span data-start="1406.7" data-end="1409.25">there's if you don't have an API that's</span> <span data-start="1409.25" data-end="1410.69">using futures you might as well just</span> <span data-start="1410.69" data-end="1413.18">sets them up just in case this is from</span> <span data-start="1413.18" data-end="1417.59">an amazing site called w3c memes com so</span> <span data-start="1417.59" data-end="1420.44">that's that but even more cool than that</span> </p>
<p><span data-start="1420.44" data-end="1422.09">I think even more cool than getting our</span> <span data-start="1422.09" data-end="1425.69">promises a plus spec into the DOM is for</span> <span data-start="1425.69" data-end="1427.61">es7 this is a presentation that was</span> <span data-start="1427.61" data-end="1430.13">recently given at a tc39 meaning there's</span> <span data-start="1430.13" data-end="1432.2">a slide saying we're going to try and</span> <span data-start="1432.2" data-end="1433.76">get these kind of cool concurrency</span> <span data-start="1433.76" data-end="1435.5">things in there and as part of that</span> <span data-start="1435.5" data-end="1437.51">we're going to try and create a promise</span> <span data-start="1437.51" data-end="1439.7">implementation standardize it in ECMO</span> <span data-start="1439.7" data-end="1442.04">script 7 in the language based on</span> <span data-start="1442.04" data-end="1445.4">promises a plus so so what just happened</span> <span data-start="1445.4" data-end="1447.86">somehow promise is a plus this little</span> <span data-start="1447.86" data-end="1449.18">thing we put up on github became the</span> <span data-start="1449.18" data-end="1450.98">starting point for any conversation</span> <span data-start="1450.98" data-end="1453.89">about promises in JavaScript how did we</span> <span data-start="1453.89" data-end="1456.02">end up like so planting promises a so</span> <span data-start="1456.02" data-end="1457.94">dramatically and and why am I getting</span> <span data-start="1457.94" data-end="1459.71">weekly queries about whether jQuery will</span> <span data-start="1459.71" data-end="1461.51">fix their broken promises like that blog</span> <span data-start="1461.51" data-end="1463.07">jquery they have so many users but</span> <span data-start="1463.07" data-end="1464.54">people want them to conform to my spec</span> <span data-start="1464.54" data-end="1466.85">like you know how did we go from some</span> <span data-start="1466.85" data-end="1468.65">nerd rage over a pull request to ember</span> <span data-start="1468.65" data-end="1471.17">22 to something that's influencing the</span> <span data-start="1471.17" data-end="1473.66">dom and even ECMO script 7 like how did</span> <span data-start="1473.66" data-end="1474.68">how do a bunch of implementers</span> <span data-start="1474.68" data-end="1476.66">congregating on github and doing our own</span> <span data-start="1476.66" data-end="1478.79">thing suddenly end up influencing the</span> <span data-start="1478.79" data-end="1481.82">what would in the w3c and tc39 like this</span> <span data-start="1481.82" data-end="1484.82">is amazing so to end my talk I want to</span> <span data-start="1484.82" data-end="1487.46">kind of point to some principles of this</span> <span data-start="1487.46" data-end="1488.36">thing</span> <span data-start="1488.36" data-end="1490.04">following open specification development</span> <span data-start="1490.04" data-end="1492.17">so so it's it's the answer the question</span> <span data-start="1492.17" data-end="1494.12">what made this promise is a plus effort</span> <span data-start="1494.12" data-end="1496.1">works so well and be so influential I</span> <span data-start="1496.1" data-end="1498.23">think it boils down to a few principles</span> <span data-start="1498.23" data-end="1501.53">of this this idea so going through them</span> <span data-start="1501.53" data-end="1504.77">in term like our cause of bringing sane</span> <span data-start="1504.77" data-end="1506.66">asynchronous programming to javascript</span> <span data-start="1506.66" data-end="1508.67">is this is the stuff we talked about</span> <span data-start="1508.67" data-end="1510.95">earlier like this is important you know</span> <span data-start="1510.95" data-end="1512.75">this is this is you know if something</span> <span data-start="1512.75" data-end="1514.28">people can get behind you can't build a</span> <span data-start="1514.28" data-end="1516.35">specification like this around things</span> <span data-start="1516.35" data-end="1518.09">nobody cares about you need to solve</span> <span data-start="1518.09" data-end="1519.86">real problems and you just solve them</span> <span data-start="1519.86" data-end="1521.27">with coherent solutions you need to have</span> <span data-start="1521.27" data-end="1522.86">something that people really can get</span> <span data-start="1522.86" data-end="1524.57">behind it have been using and need to</span> <span data-start="1524.57" data-end="1527.27">solve in the real world the next thing</span> <span data-start="1527.27" data-end="1528.98">the people right we have a really strong</span> <span data-start="1528.98" data-end="1530.929">and cooperative community working on</span> <span data-start="1530.929" data-end="1533.63">promises a plus it's led by Brian who</span> <span data-start="1533.63" data-end="1535.97">really did a great job you know hurting</span> <span data-start="1535.97" data-end="1538.1">all of us sheep into the into the github</span> <span data-start="1538.1" data-end="1540.29">repo to talk to each other on a good</span> <span data-start="1540.29" data-end="1542.299">round and we all care deeply about these</span> <span data-start="1542.299" data-end="1543.799">issues and we all were willing to make</span> <span data-start="1543.799" data-end="1546.73">sacrifices and and change our own</span> <span data-start="1546.73" data-end="1548.66">implementations to conform to something</span> <span data-start="1548.66" data-end="1551.09">that would be a core set of behaviors we</span> <span data-start="1551.09" data-end="1555.11">could all agree on the code so so this</span> <span data-start="1555.11" data-end="1557.84">is a probably the biggest reason and</span> <span data-start="1557.84" data-end="1559.19">this is all about what I was saying at</span> <span data-start="1559.19" data-end="1560.63">the beginning how we harness the</span> </p>
<p><span data-start="1560.63" data-end="1563.21">JavaScript developers you know desire to</span> <span data-start="1563.21" data-end="1564.679">create everything from function and</span> <span data-start="1564.679" data-end="1566.09">object you know we'd already done this</span> <span data-start="1566.09" data-end="1568.73">we had implementations like when and Q</span> <span data-start="1568.73" data-end="1570.74">and RSVP was starting to get some buzz</span> <span data-start="1570.74" data-end="1572.84">where we implemented promises in</span> <span data-start="1572.84" data-end="1575.96">JavaScript itself and we did this before</span> <span data-start="1575.96" data-end="1578.84">we manded together so so the idea that</span> <span data-start="1578.84" data-end="1580.64">we have these existing of limitations</span> <span data-start="1580.64" data-end="1582.2">that are already explored the problem</span> <span data-start="1582.2" data-end="1584.66">space and decided oh well this is kind</span> <span data-start="1584.66" data-end="1586.19">of where we're converging it all ends up</span> <span data-start="1586.19" data-end="1587.63">looking kind of like this let's just get</span> <span data-start="1587.63" data-end="1589.1">all the edge cases narrowed down and</span> <span data-start="1589.1" data-end="1592.4">create something we can agree on and in</span> <span data-start="1592.4" data-end="1594.38">short like this is code before pros</span> <span data-start="1594.38" data-end="1597.2">right get your code made going to get a</span> <span data-start="1597.2" data-end="1600.169">prolly fill as they call it like a this</span> <span data-start="1600.169" data-end="1601.669">is what the web api of the future</span> <span data-start="1601.669" data-end="1604.07">probably should look like out there</span> <span data-start="1604.07" data-end="1605.9">before you write down a spec it's a</span> <span data-start="1605.9" data-end="1608.87">everybody should follow this the</span> <span data-start="1608.87" data-end="1610.76">contract right so the contract of</span> <span data-start="1610.76" data-end="1613.61">promises a plus is a very small thing we</span> <span data-start="1613.61" data-end="1616.19">only spare specify the core then method</span> <span data-start="1616.19" data-end="1618.53">because that's enough that's enough to</span> <span data-start="1618.53" data-end="1620.24">get interoperable promises that everyone</span> <span data-start="1620.24" data-end="1621.71">can use we</span> <span data-start="1621.71" data-end="1623.059">been fighting over who's API to</span> <span data-start="1623.059" data-end="1624.89">standardize now I want the queue API and</span> </p>
<p><span data-start="1624.89" data-end="1627.02">I want the when API we didn't even</span> <span data-start="1627.02" data-end="1628.7">specify how do you create a promise we</span> <span data-start="1628.7" data-end="1630.559">just specified once you have one how</span> <span data-start="1630.559" data-end="1633.169">does it have to behave and this is why I</span> <span data-start="1633.169" data-end="1634.909">like to say that the Dom future is a</span> <span data-start="1634.909" data-end="1636.919">promise is a plus promise implementation</span> <span data-start="1636.919" data-end="1639.89">even though it is Excel for spec because</span> <span data-start="1639.89" data-end="1641.84">just like Q or when it's building on</span> <span data-start="1641.84" data-end="1643.669">this core interoperable then method that</span> <span data-start="1643.669" data-end="1644.99">can work with other than methods and</span> <span data-start="1644.99" data-end="1647.029">other libraries to create a larger</span> <span data-start="1647.029" data-end="1648.71">surface area that its consumers can use</span> <span data-start="1648.71" data-end="1649.97">and as consumers are in this case</span> <span data-start="1649.97" data-end="1653.539">browsers finally and this can't be</span> <span data-start="1653.539" data-end="1655.49">underestimated the setting of github</span> <span data-start="1655.49" data-end="1657.89">plays a large part in in our success</span> <span data-start="1657.89" data-end="1660.62">right github is where we as a community</span> <span data-start="1660.62" data-end="1663.77">work and play you know it encourages</span> <span data-start="1663.77" data-end="1666.399">like easy forking pull requests reviews</span> <span data-start="1666.399" data-end="1668.95">it has marked down which you know</span> <span data-start="1668.95" data-end="1671.36">markdown diffs are really easy to read</span> <span data-start="1671.36" data-end="1673.07">so if you come into a repo and you want</span> <span data-start="1673.07" data-end="1674.6">to see it's see what's been going on</span> <span data-start="1674.6" data-end="1676.34">with the specification you can actually</span> <span data-start="1676.34" data-end="1678.38">tell what's going on if you look at some</span> <span data-start="1678.38" data-end="1681.74">of the history for the w3c api's it's</span> <span data-start="1681.74" data-end="1684.169">this massive HTML and you have no idea</span> <span data-start="1684.169" data-end="1687.169">what's going on but everybody like just</span> <span data-start="1687.169" data-end="1688.85">that's part of like everybody knows how</span> <span data-start="1688.85" data-end="1690.08">to interface with github in this</span> <span data-start="1690.08" data-end="1691.429">community we all know how to look</span> <span data-start="1691.429" data-end="1693.559">through old issues how to send a pull</span> <span data-start="1693.559" data-end="1696.169">request how to look at diffs like this</span> <span data-start="1696.169" data-end="1698.63">is where we congregate and this is how</span> <span data-start="1698.63" data-end="1702.649">weary how we should be working and even</span> <span data-start="1702.649" data-end="1704.299">the w3c and the what load are starting</span> <span data-start="1704.299" data-end="1705.559">to get in on this they're starting to</span> <span data-start="1705.559" data-end="1707.029">see this they put some of their specs on</span> <span data-start="1707.029" data-end="1708.86">github but they haven't really made the</span> <span data-start="1708.86" data-end="1711.11">transition because they still cling to</span> <span data-start="1711.11" data-end="1713.779">these archaic old mailing lists where</span> <span data-start="1713.779" data-end="1715.909">with these archives that are impossible</span> <span data-start="1715.909" data-end="1718.82">to navigate and it's you can't really</span> <span data-start="1718.82" data-end="1720.02">jump into the middle of conversation</span> <span data-start="1720.02" data-end="1722">very easily and it's very frustrating</span> <span data-start="1722" data-end="1723.59">trying to get involved in the standards</span> <span data-start="1723.59" data-end="1724.97">process when you have to subscribe to</span> <span data-start="1724.97" data-end="1726.62">these things that bombard your inbox in</span> <span data-start="1726.62" data-end="1730.85">this like you know 1990s way so I think</span> <span data-start="1730.85" data-end="1733.19">github is a is a big part of why we were</span> <span data-start="1733.19" data-end="1736.279">able to collaborate so well so to close</span> </p>
<p><span data-start="1736.279" data-end="1738.95">I want to take a look at our our slogan</span> <span data-start="1738.95" data-end="1741.559">for that our tagline for promises a plus</span> <span data-start="1741.559" data-end="1743.419">you know we spent a lot of time getting</span> <span data-start="1743.419" data-end="1745.73">this right actually I mean it's it's a</span> <span data-start="1745.73" data-end="1748.58">bit bit silly and sometimes but in the</span> <span data-start="1748.58" data-end="1750.139">end I think it's perfect we end up</span> <span data-start="1750.139" data-end="1752.84">meaning every word the promise is a plus</span> <span data-start="1752.84" data-end="1755.539">organization and the standard we're open</span> <span data-start="1755.539" data-end="1756.979">do everything on github it's out in the</span> <span data-start="1756.979" data-end="1760.129">open were sound that's our cause we want</span> <span data-start="1760.129" data-end="1761.899">say in asynchronous e in JavaScript</span> <span data-start="1761.899" data-end="1764.33">we're interoperable that's the the core</span> <span data-start="1764.33" data-end="1766.07">contract we're providing for everyone</span> <span data-start="1766.07" data-end="1768.499">and we're by implementers and for</span> <span data-start="1768.499" data-end="1770.6">implementers reflecting our commitment</span> <span data-start="1770.6" data-end="1772.999">to build on existing code and to</span> <span data-start="1772.999" data-end="1774.229">leverage the strengths of the community</span> <span data-start="1774.229" data-end="1776.809">we already had so if you have all these</span> <span data-start="1776.809" data-end="1778.279">open specification development</span> <span data-start="1778.279" data-end="1780.559">ingredients in place then I think you're</span> <span data-start="1780.559" data-end="1783.289">in a place to extend the web forward and</span> <span data-start="1783.289" data-end="1785.479">this is referring to a concept that</span> <span data-start="1785.479" data-end="1788.09">started becoming popular recently it's a</span> <span data-start="1788.09" data-end="1789.799">specific philosophy champion by the</span> <span data-start="1789.799" data-end="1792.44">newly reformed w3c technical</span> <span data-start="1792.44" data-end="1794.539">architecture group and in particular by</span> <span data-start="1794.539" data-end="1797.059">yehuda katz brian ross or alex russell</span> <span data-start="1797.059" data-end="1800.929">and brian cardell who and the essential</span> <span data-start="1800.929" data-end="1802.519">idea is that when we build things on the</span> <span data-start="1802.519" data-end="1805.009">web platform it shouldn't be magic</span> <span data-start="1805.009" data-end="1807.919">browser ap is that go into c++ and do</span> <span data-start="1807.919" data-end="1810.259">crazy things and we don't have any idea</span> <span data-start="1810.259" data-end="1812.45">how to interface with it should be core</span> <span data-start="1812.45" data-end="1814.759">primitives in JavaScript that then build</span> <span data-start="1814.759" data-end="1816.799">on each other and allow us to create the</span> <span data-start="1816.799" data-end="1819.169">next version and so then we have this</span> <span data-start="1819.169" data-end="1821.059">virtuous cycle just like in promises a</span> <span data-start="1821.059" data-end="1823.369">plus where the community says oh I have</span> <span data-start="1823.369" data-end="1825.47">these tools I'm going to build a new API</span> <span data-start="1825.47" data-end="1827.599">on top of them and then the community</span> <span data-start="1827.599" data-end="1829.46">can compete between themselves and</span> <span data-start="1829.46" data-end="1831.399">refine and converge around something and</span> <span data-start="1831.399" data-end="1833.45">eventually a common primitive is gets</span> <span data-start="1833.45" data-end="1835.009">established and we can take that back</span> <span data-start="1835.009" data-end="1838.149">into the web platform itself all right</span> <span data-start="1838.149" data-end="1854.78">thanks</span> </p>
</section>