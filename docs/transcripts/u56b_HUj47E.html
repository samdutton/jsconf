<section>
<p><span data-start="10.58" data-end="13.13">I'm going to talk about the future of</span> <span data-start="13.13" data-end="15.389">JavaScript I'm always talking about the</span> <span data-start="15.389" data-end="21.42">future so as santa ana said if you if</span> <span data-start="21.42" data-end="23.82">you don't study history you're condemned</span> <span data-start="23.82" data-end="25.71">to repeat it I think that's true if you</span> <span data-start="25.71" data-end="29.52">do study history too so the future of</span> <span data-start="29.52" data-end="35.73">javascript is java because that's also</span> <span data-start="35.73" data-end="40.46">the past i'm only slightly kidding i</span> <span data-start="40.46" data-end="44.16">have to go back to nineteen ninety-five</span> <span data-start="44.16" data-end="49.84">which was when i was small and</span> <span data-start="49.85" data-end="53.129">javascript was created in a mad tearing</span> <span data-start="53.129" data-end="56.489">hurry and i was thinking about this not</span> <span data-start="56.489" data-end="58.019">only because of andreas is talk about</span> <span data-start="58.019" data-end="63.839">j2me jas but also because i don't know i</span> <span data-start="63.839" data-end="67.92">missed the 90s box calm had this picture</span> <span data-start="67.92" data-end="69.3">in their piece about how that was the</span> <span data-start="69.3" data-end="71.82">last great television season 94 95</span> <span data-start="71.82" data-end="74.34">there's like my so-called wife and party</span> <span data-start="74.34" data-end="80.19">of five and friends that's when i got my</span> <span data-start="80.19" data-end="83.1">big break this is me before my hair went</span> <span data-start="83.1" data-end="85.33">gray</span> <span data-start="85.34" data-end="88.88">javascript had something to do with that</span> </p>
<p><span data-start="88.88" data-end="92.75">I'd go to back then you couldn't find</span> <span data-start="92.75" data-end="95.579">things on the web like you can now now I</span> <span data-start="95.579" data-end="97.979">think you can find a lot of a lot of</span> <span data-start="97.979" data-end="99.479">computer science papers not all of them</span> <span data-start="99.479" data-end="103.619">some of them are still locked up behind</span> <span data-start="103.619" data-end="106.319">you know paywalls but back then you had</span> <span data-start="106.319" data-end="108.36">to go to real library and actually read</span> <span data-start="108.36" data-end="110.579">bound journals and that's what I did I</span> <span data-start="110.579" data-end="113.939">would go to this place this is Margaret</span> </p>
<p><span data-start="113.939" data-end="115.829">Jack's hall at least the front corner of</span> <span data-start="115.829" data-end="119.97">it in Stanford University count in</span> <span data-start="119.97" data-end="123.42">California and I would go read papers in</span> <span data-start="123.42" data-end="127.679">among the stacks I also maybe I went</span> <span data-start="127.679" data-end="129.33">there because i read that John doar said</span> <span data-start="129.33" data-end="130.979">he's a famous venture capitalist that</span> <span data-start="130.979" data-end="133.29">any idiot could make a lot of money just</span> <span data-start="133.29" data-end="135.75">by hanging around Margaret jacks hall</span> <span data-start="135.75" data-end="138.45">that's the computer science offices</span> <span data-start="138.45" data-end="139.799">that's where the computer science</span> <span data-start="139.799" data-end="142.56">professors have their offices and office</span> <span data-start="142.56" data-end="144.12">hours that's where the computer science</span> <span data-start="144.12" data-end="145.769">library is that's the library that I was</span> <span data-start="145.769" data-end="149.64">going to I didn't I didn't become a</span> <span data-start="149.64" data-end="151.17">successful venture capitalist</span> <span data-start="151.17" data-end="153.78">unfortunately but I did read a paper or</span> <span data-start="153.78" data-end="156.06">two including one about java bytecode</span> <span data-start="156.06" data-end="159.45">and this was right before I did the ten</span> <span data-start="159.45" data-end="161.01">days at work to create the first</span> </p>
<p><span data-start="161.01" data-end="164.43">JavaScript engine I was still thinking</span> <span data-start="164.43" data-end="168.45">about Java even though the Java VM that</span> <span data-start="168.45" data-end="170.34">the friend of mine Kip Hickman at</span> <span data-start="170.34" data-end="172.319">Netscape it started building had been</span> <span data-start="172.319" data-end="174.54">killed Netscape was doing a deal with</span> <span data-start="174.54" data-end="177.569">Sun and bill joy at son said we can't</span> <span data-start="177.569" data-end="180.269">have to Java vienes because they they</span> <span data-start="180.269" data-end="181.44">wouldn't have bugged for bug</span> <span data-start="181.44" data-end="184.62">compatibility Netscape has to use son's</span> <span data-start="184.62" data-end="187.17">source code to actually make there be</span> <span data-start="187.17" data-end="188.989">only one implementation of Java</span> <span data-start="188.989" data-end="192.69">otherwise it'll fail now he was right</span> <span data-start="192.69" data-end="195.03">though I think bill joy was right if we</span> <span data-start="195.03" data-end="197.1">tried to reverse engineer or even got</span> <span data-start="197.1" data-end="199.2">source code access and built our own jbm</span> <span data-start="199.2" data-end="201.42">we would have had lots of bugs getting</span> <span data-start="201.42" data-end="204.359">the interoperate and indeed when</span> <span data-start="204.359" data-end="206.01">javascript came out and Microsoft</span> <span data-start="206.01" data-end="207.45">reverse-engineer there were a lot of</span> <span data-start="207.45" data-end="209.43">bugs in both engines and we had to write</span> <span data-start="209.43" data-end="211.139">a standard down and work for many years</span> <span data-start="211.139" data-end="213.69">to standardize JavaScript evolved the</span> <span data-start="213.69" data-end="216.57">standard build test Suites like test 262</span> <span data-start="216.57" data-end="218.46">it's really taken along</span> <span data-start="218.46" data-end="221.37">time so Java has multiple</span> <span data-start="221.37" data-end="223.41">implementations but I think all the</span> <span data-start="223.41" data-end="225.71">competitive ones are proprietary and</span> </p>
<p><span data-start="225.71" data-end="228.48">Java has test Suites but it also has a</span> <span data-start="228.48" data-end="230.25">lot of code behind firewalls so who</span> <span data-start="230.25" data-end="232.14">knows how all it interoperates anyway I</span> <span data-start="232.14" data-end="234.06">was still looking at Java there's this</span> <span data-start="234.06" data-end="238.02">paper by Gosling from 95 it's a nice</span> <span data-start="238.02" data-end="240.09">little paper it talks about java</span> <span data-start="240.09" data-end="242.25">bytecode java bytecode has has some</span> <span data-start="242.25" data-end="245.13">issues most of the bob codes are typed</span> <span data-start="245.13" data-end="248.25">some are overloaded for multiple types</span> <span data-start="248.25" data-end="250.83">and you have to do crazy analysis to</span> <span data-start="250.83" data-end="253.32">verify the code and do definite</span> <span data-start="253.32" data-end="254.67">assignment analysis and do other things</span> <span data-start="254.67" data-end="257.43">to make sure it's safe javascript was</span> <span data-start="257.43" data-end="259.65">all untyped so i couldn't use the inside</span> <span data-start="259.65" data-end="262.53">in this paper about modeling the types</span> <span data-start="262.53" data-end="266.37">as you read the code modeling the stack</span> <span data-start="266.37" data-end="269.34">machine that Java uses in an abstract</span> <span data-start="269.34" data-end="271.71">way doing abstract interpretation but i</span> <span data-start="271.71" data-end="273.9">did use that idea for the decompiler</span> <span data-start="273.9" data-end="275.19">that i put in you know when you make a</span> <span data-start="275.19" data-end="277.31">function turn into a string in</span> </p>
<p><span data-start="277.31" data-end="279.36">JavaScript engines ever since I wrote</span> <span data-start="279.36" data-end="281.87">the first one that I'm familiar with</span> <span data-start="281.87" data-end="284.37">some of them actually go find the source</span> <span data-start="284.37" data-end="286.35">or save the source and give you that</span> <span data-start="286.35" data-end="288.75">source back as the two string result the</span> <span data-start="288.75" data-end="292.26">ones I've built up until somebody</span> <span data-start="292.26" data-end="293.88">Mozilla ripped it out the other year</span> <span data-start="293.88" data-end="296.25">used a decompiler so they would actually</span> <span data-start="296.25" data-end="298.98">take an internal form like a bytecode</span> <span data-start="298.98" data-end="301.05">and turn it back into a string and i</span> <span data-start="301.05" data-end="303.84">used the idea from this paper to build</span> <span data-start="303.84" data-end="306.78">that and I also thought at the time why</span> <span data-start="306.78" data-end="311.01">do we need typed bytecode Java already</span> <span data-start="311.01" data-end="316.29">has types in its you know class files as</span> <span data-start="316.29" data-end="317.79">descriptions of all the types of the</span> <span data-start="317.79" data-end="320.4">static and instance fields and as type</span> <span data-start="320.4" data-end="322.56">signatures for all the methods why do we</span> <span data-start="322.56" data-end="325.46">need to have types on the bike codes to</span> <span data-start="325.46" data-end="328.59">here's another thing from the paper it</span> <span data-start="328.59" data-end="332.52">shows class vector this is just like old</span> </p>
<p><span data-start="332.52" data-end="334.62">Java and then it shows the java</span> <span data-start="334.62" data-end="336.45">bytecodes you can see they have names</span> <span data-start="336.45" data-end="340.41">like a load I Const I for integer a is</span> <span data-start="340.41" data-end="344.76">usually for array there's no DS here or</span> <span data-start="344.76" data-end="347.13">B's for boolean or bite but it's typed</span> <span data-start="347.13" data-end="349.34">mostly but not always which is screwy</span> <span data-start="349.34" data-end="352.05">when Anders helzberg was doing</span> <span data-start="352.05" data-end="355.08">the clr for C sharp and net all those</span> <span data-start="355.08" data-end="358.169">languages at Microsoft he fixed some of</span> <span data-start="358.169" data-end="360.09">these problems by making the the dotnet</span> <span data-start="360.09" data-end="363.36">intermediate representation use untyped</span> <span data-start="363.36" data-end="367.02">by code and typed assembly metadata COI</span> <span data-start="367.02" data-end="369.96">data so you could always figure the</span> <span data-start="369.96" data-end="373.319">types out from the the fields and the</span> <span data-start="373.319" data-end="375.81">static members and all the signatures on</span> <span data-start="375.81" data-end="377.93">the methods you didn't need to have the</span> <span data-start="377.93" data-end="380.4">intermediate instructions carry types</span> <span data-start="380.4" data-end="383.639">and proliferate but there were other</span> <span data-start="383.639" data-end="386.759">problems he that CLR by code did not fix</span> <span data-start="386.759" data-end="389.129">or the intermediate code for dotnet did</span> <span data-start="389.129" data-end="392.61">not fix i meanwhile javascript was there</span> <span data-start="392.61" data-end="395.789">kind of slow in the 90s but still going</span> <span data-start="395.789" data-end="398.4">somewhere and finally taking off in the</span> <span data-start="398.4" data-end="406.669">last 11 years I'd say so now it's 2014 a</span> <span data-start="406.669" data-end="409.59">lot of water under the bridge Java is</span> <span data-start="409.59" data-end="411.479">pretty much dead on the client plugins</span> <span data-start="411.479" data-end="413.34">like Andre etc or malware vector</span> <span data-start="413.34" data-end="416.61">especially turns out the Java plugin I</span> <span data-start="416.61" data-end="419.25">think Brian Krebs security analyst said</span> <span data-start="419.25" data-end="421.02">that it was the number one in its day</span> <span data-start="421.02" data-end="422.969">it's probably not anymore number one</span> <span data-start="422.969" data-end="426.719">vector for malware that people would pay</span> <span data-start="426.719" data-end="430.259">for for black hat malware that's bought</span> <span data-start="430.259" data-end="433.979">and sold assam j/s is a thing it's a</span> <span data-start="433.979" data-end="435.84">subset of javascript it's like carving</span> <span data-start="435.84" data-end="438.96">nature at the joints like Plato said</span> <span data-start="438.96" data-end="441.05">it's it's finding inside JavaScript</span> <span data-start="441.05" data-end="444.69">thanks to the bitwise and shift</span> <span data-start="444.69" data-end="446.31">operators that I put in that we're in</span> </p>
<p><span data-start="446.31" data-end="448.469">Java and C and I put them in cuz they</span> <span data-start="448.469" data-end="450.87">were and see it's finding the subset</span> <span data-start="450.87" data-end="454.65">that is typed in a way that can be very</span> <span data-start="454.65" data-end="456.33">efficiently compiled to the machine to</span> <span data-start="456.33" data-end="461.669">the metal and es6 is all but done</span> <span data-start="461.669" data-end="464.61">there's there's you know Jason's talk</span> <span data-start="464.61" data-end="466.169">this morning had a nice chart</span> <span data-start="466.169" data-end="469.169">summarizing it but here's the here's the</span> <span data-start="469.169" data-end="471.449">more hard-to-reach art and if you look</span> <span data-start="471.449" data-end="474.69">at who's winning it's usually oh it's IE</span> <span data-start="474.69" data-end="476.789">now the technical preview for IE now has</span> <span data-start="476.789" data-end="480.12">the most of es6 implemented good for</span> <span data-start="480.12" data-end="482.669">microsoft followed by echo jsb somebody</span> <span data-start="482.669" data-end="484.83">on you in netscape cristo shock well by</span> <span data-start="484.83" data-end="485.67">tracer</span> <span data-start="485.67" data-end="489.12">arvid sins compiler that compiles es 62</span> </p>
<p><span data-start="489.12" data-end="492.21">JavaScript yes five and then Firefox 35</span> <span data-start="492.21" data-end="496.02">is as second after the browser in the</span> <span data-start="496.02" data-end="502.26">front which is IE ouch so es6 is kind of</span> <span data-start="502.26" data-end="505.8">the last of the big it it was so big and</span> <span data-start="505.8" data-end="508.89">so connected we didn't want to cut it up</span> <span data-start="508.89" data-end="511.47">into pieces but after es6 we're going to</span> <span data-start="511.47" data-end="514.08">do smaller annual releases i'll talk</span> <span data-start="514.08" data-end="517.68">about this in a few minutes ESX did</span> <span data-start="517.68" data-end="519.81">absorb typed arrays so there's that word</span> <span data-start="519.81" data-end="521.4">typed again now these aren't like Java</span> <span data-start="521.4" data-end="522.84">typed like you have to write down those</span> <span data-start="522.84" data-end="525.24">types but these are you know in 32 array</span> <span data-start="525.24" data-end="528.81">and you know float32 array these are</span> <span data-start="528.81" data-end="530.52">very important for working with the GPU</span> <span data-start="530.52" data-end="533.52">and with simdi units which are also</span> <span data-start="533.52" data-end="538.83">coming up and then typed objects in es7</span> <span data-start="538.83" data-end="540.96">kind of take away the wackiness the</span> <span data-start="540.96" data-end="542.55">fixed length nature in particular of</span> <span data-start="542.55" data-end="544.97">typed arrays and allow you to have</span> <span data-start="544.97" data-end="547.77">descriptions runtime descriptions of all</span> <span data-start="547.77" data-end="549.33">your types of your properties if you</span> <span data-start="549.33" data-end="551.07">want to so typed objects will allow you</span> <span data-start="551.07" data-end="554.88">to imperative Lee through an API not</span> <span data-start="554.88" data-end="557.75">declaratively say what the types of</span> <span data-start="557.75" data-end="560.13">properties in an object are and they can</span> <span data-start="560.13" data-end="561.57">be packed together they can be flat I</span> <span data-start="561.57" data-end="563.61">can be extremely efficient it's kind of</span> <span data-start="563.61" data-end="567.6">a generalization of typed arrays so then</span> <span data-start="567.6" data-end="570.36">we also have typescript and something</span> <span data-start="570.36" data-end="572.4">that it inspired according to the</span> <span data-start="572.4" data-end="575.13">facebook guys flow and flow looks very</span> <span data-start="575.13" data-end="577.17">very good because they done a</span> <span data-start="577.17" data-end="579.21">sophisticated analysis or set of</span> <span data-start="579.21" data-end="580.92">analyses really that allow them to</span> <span data-start="580.92" data-end="582.12">capture a lot of the idiomatic</span> </p>
<p><span data-start="582.12" data-end="583.8">JavaScript without just giving up and</span> <span data-start="583.8" data-end="585.78">saying I can't I can't type this I'm</span> <span data-start="585.78" data-end="589.21">going to just make it to type any</span> <span data-start="589.22" data-end="591.84">everyone's really keen on seeing where</span> <span data-start="591.84" data-end="594.63">these things go but back to the class</span> <span data-start="594.63" data-end="596.87">example from Java I've rewritten in es6</span> <span data-start="596.87" data-end="600.6">using typed arrays using a little bit of</span> <span data-start="600.6" data-end="603.3">as in j s typecasting like andreas said</span> <span data-start="603.3" data-end="606.12">if you see that vertical bar 0 that's</span> <span data-start="606.12" data-end="610.95">bitwise or 0 that is a cast to in 32 and</span> <span data-start="610.95" data-end="613.08">you probably know the other idioms for</span> <span data-start="613.08" data-end="615.63">doing this there's triple right shift 0</span> <span data-start="615.63" data-end="618.18">is cast you in 32</span> <span data-start="618.18" data-end="625.88">and twiddle twiddle X is a conversion to</span> <span data-start="625.88" data-end="631.649">int and you can do other things pretty</span> <span data-start="631.649" data-end="634.14">efficiently you can use plus as a unary</span> <span data-start="634.14" data-end="636.99">operator to make arbitrary value become</span> <span data-start="636.99" data-end="639.57">a double so as Matthias relies on these</span> <span data-start="639.57" data-end="642.81">type casts this isn't exactly pretty but</span> <span data-start="642.81" data-end="646.29">this will generate in a modern engine</span> <span data-start="646.29" data-end="648.029">that can handle the syntax like maybe</span> <span data-start="648.029" data-end="649.89">the IE preview 1 this will generate his</span> <span data-start="649.89" data-end="651.75">good code as any Java VM would on that</span> <span data-start="651.75" data-end="656.85">old Gosling code so I I say the J svms</span> <span data-start="656.85" data-end="662.339">are basically taking the dynamic untyped</span> <span data-start="662.339" data-end="664.79">route to the same promise land that Java</span> <span data-start="664.79" data-end="668.91">was was promising which didn't get</span> <span data-start="668.91" data-end="670.92">delivered in the browser by job I got</span> <span data-start="670.92" data-end="672.839">dillard by JavaScript we're almost there</span> <span data-start="672.839" data-end="674.399">with typed objects and typed arrays I</span> <span data-start="674.399" data-end="678.06">think we'll be there as Darth said the</span> <span data-start="678.06" data-end="679.38">circle is now complete i guess this</span> <span data-start="679.38" data-end="683.04">makes javascript darth vader and james</span> <span data-start="683.04" data-end="689.88">gosling is 0 we want anyway let me talk</span> <span data-start="689.88" data-end="691.709">about standardization because there</span> <span data-start="691.709" data-end="693.66">there's always angst about how long it</span> <span data-start="693.66" data-end="696.3">takes to do a standard and es6 is big i</span> <span data-start="696.3" data-end="699.57">was involved in es for which helped get</span> <span data-start="699.57" data-end="701.94">the standards body back in shape through</span> <span data-start="701.94" data-end="705.06">the harmony peace process that i</span> <span data-start="705.06" data-end="709.8">brokered but thank you standardization</span> <span data-start="709.8" data-end="713.22">is going to go faster now that's Ian</span> </p>
<p><span data-start="713.22" data-end="714.63">Hickson signature line I don't know if</span> <span data-start="714.63" data-end="716.64">its original to him things that are</span> <span data-start="716.64" data-end="720.39">impossible just take longer we're not</span> <span data-start="720.39" data-end="722.19">going to take years and years anymore</span> <span data-start="722.19" data-end="725.01">we're doing we're doing better here's</span> <span data-start="725.01" data-end="726.66">how they look though in 2011 when I</span> <span data-start="726.66" data-end="729.54">spoke at TX JSI I took a picture of the</span> <span data-start="729.54" data-end="732.959">tc39 meeting right before then and it</span> <span data-start="732.959" data-end="736.709">looked like that and then there's also</span> <span data-start="736.709" data-end="738.69">some some famous artists and Italy did a</span> <span data-start="738.69" data-end="741.75">picture of crock and me</span> <span data-start="741.76" data-end="745.38">the Crocs play-doh and I'm Aristotle and</span> </p>
<p><span data-start="745.38" data-end="748.36">I'm like cool it you know quit pointing</span> <span data-start="748.36" data-end="751.66">up I actually miss crock hehe doesn't</span> <span data-start="751.66" data-end="753.37">come to tc39 anymore and I looked around</span> <span data-start="753.37" data-end="754.78">at the last meeting and I didn't see him</span> <span data-start="754.78" data-end="757.21">and I actually felt sad even though he</span> <span data-start="757.21" data-end="759.4">gets pretty grumpy but we need we need</span> <span data-start="759.4" data-end="761.77">the grumpy idealists we need the</span> <span data-start="761.77" data-end="763.63">play-doh where would Aristotle be</span> <span data-start="763.63" data-end="767.89">without play-doh so now even without</span> <span data-start="767.89" data-end="773.11">croc it's kind of a loss we have tc39</span> <span data-start="773.11" data-end="776.41">doing its work on github my image is too</span> <span data-start="776.41" data-end="779.59">big you can actually see almost</span> <span data-start="779.59" data-end="780.94">everything that's happening there I</span> <span data-start="780.94" data-end="784.39">think all the the the tests are moving</span> <span data-start="784.39" data-end="787.81">there I believe the specification is</span> <span data-start="787.81" data-end="789.79">going to move there it still has to be</span> <span data-start="789.79" data-end="791.11">done in word if you can believe it</span> <span data-start="791.11" data-end="794.1">because of the way akma and iso work but</span> <span data-start="794.1" data-end="797.08">modulo the word issue it's also an HTML</span> <span data-start="797.08" data-end="798.64">as a first-class source for the</span> <span data-start="798.64" data-end="801.7">specification and people can send poll</span> <span data-start="801.7" data-end="805.35">requests the meeting notes are kept on</span> <span data-start="805.35" data-end="808.03">github and also available on ES</span> <span data-start="808.03" data-end="809.59">disgustin org they're captured</span> <span data-start="809.59" data-end="811.18">originally on I think it's alec sextons</span> <span data-start="811.18" data-end="814.36">okay so clap etherpad or somebody's</span> <span data-start="814.36" data-end="817.6">anyway well at my tc39 is no longer</span> <span data-start="817.6" data-end="820.69">working in smoke-filled rooms or arguing</span> <span data-start="820.69" data-end="824.71">in robes in the greek marketplace of</span> <span data-start="824.71" data-end="826.72">ideas we're actually working on github</span> <span data-start="826.72" data-end="829.36">which is good news and for es7 and</span> <span data-start="829.36" data-end="831.19">beyond we're going to work on an annual</span> <span data-start="831.19" data-end="833.44">cadence where it's like the chrome and</span> <span data-start="833.44" data-end="835.54">firefox release process if proposals</span> <span data-start="835.54" data-end="836.97">don't make it through a multi-stage</span> <span data-start="836.97" data-end="839.89">waterfall they just don't ship that year</span> <span data-start="839.89" data-end="841.33">they have to take a later train so the</span> <span data-start="841.33" data-end="844.36">trains almost ship on time so es7 should</span> <span data-start="844.36" data-end="846.55">be implemented so pieces that are</span> <span data-start="846.55" data-end="847.84">actually implemented now should be</span> <span data-start="847.84" data-end="850.42">implemented next year and finalized</span> <span data-start="850.42" data-end="851.95">there's almost a little bit of dotting</span> <span data-start="851.95" data-end="857.41">the i delay finalized in 2016 and as you</span> <span data-start="857.41" data-end="859.63">know es6 is going to be finalized middle</span> <span data-start="859.63" data-end="862.57">of next year so standards are getting</span> <span data-start="862.57" data-end="865.78">better not jason did such a good job of</span> <span data-start="865.78" data-end="868.03">covering es6 that i thought i'd just</span> <span data-start="868.03" data-end="869.83">talk about a few es7 things that you</span> <span data-start="869.83" data-end="871.18">might not have heard about how many</span> <span data-start="871.18" data-end="874.15">people here use promises in some library</span> <span data-start="874.15" data-end="878.02">they're good okay so you may know that</span> <span data-start="878.02" data-end="879.64">generators which I think Jason didn't</span> <span data-start="879.64" data-end="881.29">cover or any f6 and I'll show them in a</span> <span data-start="881.29" data-end="883.75">minute but this example from Luke Hoban</span> <span data-start="883.75" data-end="886.9">from Microsoft on the he was on the atma</span> <span data-start="886.9" data-end="890.2">committee until last year shows if you</span> <span data-start="890.2" data-end="892.54">were using promises to chain animation</span> <span data-start="892.54" data-end="894.67">say you had an array of animations and</span> <span data-start="894.67" data-end="897.94">you use this nice es6 for let annum of</span> <span data-start="897.94" data-end="900.4">animations loop to iterate over the</span> <span data-start="900.4" data-end="902.5">values of the animations array it's like</span> <span data-start="902.5" data-end="904.78">four in but it's over the values then</span> <span data-start="904.78" data-end="906.4">for each animation you'd have to chain</span> <span data-start="906.4" data-end="910.51">using a promise and using p10 to call</span> <span data-start="910.51" data-end="913.06">that animation and it's kind of a</span> <span data-start="913.06" data-end="915.16">verbose and then at the end you'd have</span> <span data-start="915.16" data-end="916.39">to worry about whether there was an</span> <span data-start="916.39" data-end="917.92">exception in which you probably ignore</span> <span data-start="917.92" data-end="921.1">and you finally with a final dub then at</span> <span data-start="921.1" data-end="924.46">the bottom return the return value of of</span> <span data-start="924.46" data-end="927.4">the last promise the fulfilment value of</span> <span data-start="927.4" data-end="928.54">the last promise which is what's being</span> <span data-start="928.54" data-end="931">captured by this red variable you know</span> <span data-start="931" data-end="932.32">so if you just let everywhere there's no</span> </p>
<p><span data-start="932.32" data-end="936.55">VARs so that's that's okay but you can</span> <span data-start="936.55" data-end="938.8">do better with with generators so in es6</span> <span data-start="938.8" data-end="941.32">function star makes a generator sort of</span> <span data-start="941.32" data-end="943.72">like python inspired by python with some</span> <span data-start="943.72" data-end="946.63">simplifications and the task jayus</span> <span data-start="946.63" data-end="949.51">library from Dave Herman has a function</span> <span data-start="949.51" data-end="951.93">called spawn you pass a generator</span> <span data-start="951.93" data-end="954.73">function function star to a spawn call</span> <span data-start="954.73" data-end="957.28">and you get a scheduler in the</span> <span data-start="957.28" data-end="959.14">background that will resume that</span> <span data-start="959.14" data-end="960.85">generator for you and that generator can</span> <span data-start="960.85" data-end="963.73">then yield each animation and terin</span> <span data-start="963.73" data-end="965.23">notice that there are no promises here</span> <span data-start="965.23" data-end="966.84">anymore the promises are hidden inside</span> <span data-start="966.84" data-end="969.37">the spawn machinery in the scheduler</span> <span data-start="969.37" data-end="972.49">that test j/s implements so already this</span> <span data-start="972.49" data-end="973.63">has gotten a lot simpler because it</span> <span data-start="973.63" data-end="976.06">doesn't that promises with their lambda</span> <span data-start="976.06" data-end="979">callbacks and it can use try-catch</span> <span data-start="979" data-end="981.37">directly whereas the previous slide had</span> <span data-start="981.37" data-end="984.57">to use the promised catch method and</span> <span data-start="984.57" data-end="988.3">couldn't use try-catch notice also the</span> <span data-start="988.3" data-end="989.92">arrow functions here which make it nice</span> <span data-start="989.92" data-end="991.09">and short wouldn't put on my slide</span> <span data-start="991.09" data-end="993.61">otherwise but even with arrows it's a</span> <span data-start="993.61" data-end="996.13">little much whereas with with TAS TAS</span> <span data-start="996.13" data-end="999.31">and spawn and generators it gets shorter</span> <span data-start="999.31" data-end="1001.08">and you can use real exception handling</span> <span data-start="1001.08" data-end="1002.499">with try catch</span> <span data-start="1002.499" data-end="1005.199">what we want to do for es7 is go one</span> <span data-start="1005.199" data-end="1006.939">step further and this is again I think</span> <span data-start="1006.939" data-end="1008.109">due to Luke home and originally</span> </p>
<p><span data-start="1008.109" data-end="1010.059">Microsoft and I think this isn't good</span> <span data-start="1010.059" data-end="1011.469">consensus in the committee and that's</span> <span data-start="1011.469" data-end="1015.879">allow a sink to be used as a non</span> <span data-start="1015.879" data-end="1018.849">reserved conditional keyword a</span> <span data-start="1018.849" data-end="1020.559">contextual keyword in front of function</span> <span data-start="1020.559" data-end="1022.299">so that you can make this chain</span> <span data-start="1022.299" data-end="1025.029">animation a sinc function be a nascent</span> <span data-start="1025.029" data-end="1027.639">function and once you say it's an async</span> <span data-start="1027.639" data-end="1029.98">function up there at the top then inside</span> <span data-start="1029.98" data-end="1032.529">it you can say a weight and you see the</span> <span data-start="1032.529" data-end="1034.419">await takes the place of the yield in</span> <span data-start="1034.419" data-end="1037.329">the previous version and there's no</span> <span data-start="1037.329" data-end="1039.759">function star and there's no spawn call</span> <span data-start="1039.759" data-end="1042.1">you don't need to use task j/s the</span> <span data-start="1042.1" data-end="1045.039">scheduler gets absorbed into the es 7</span> <span data-start="1045.039" data-end="1047.319">version of the language so async</span> <span data-start="1047.319" data-end="1049.659">functions will not only de promised a</span> <span data-start="1049.659" data-end="1051.82">file out of your code they will remove</span> <span data-start="1051.82" data-end="1054.549">generators and task GS boilerplate and</span> <span data-start="1054.549" data-end="1056.23">allow you to write something like this</span> <span data-start="1056.23" data-end="1058.5">which i think is pretty important</span> <span data-start="1058.5" data-end="1061.029">because we're JavaScript's go on your be</span> <span data-start="1061.029" data-end="1063.46">a sink in the browser forever and it</span> <span data-start="1063.46" data-end="1065.61">should be even if we have lots of new</span> <span data-start="1065.61" data-end="1069.009">ways of composing workers and we might</span> <span data-start="1069.009" data-end="1071.909">end up making ways to make the non</span> <span data-start="1071.909" data-end="1075.1">foreground UI thread workers block a</span> <span data-start="1075.1" data-end="1077.95">sinks the way to go so and that's</span> <span data-start="1077.95" data-end="1080.259">through a note too so I wanted to share</span> <span data-start="1080.259" data-end="1083.44">that and then quickly run through other</span> <span data-start="1083.44" data-end="1085.029">things that are on board the may know</span> <span data-start="1085.029" data-end="1088.139">about simdi I'll give a little demo is</span> <span data-start="1088.139" data-end="1090.779">single instruction multiple data its</span> <span data-start="1090.779" data-end="1093.6">architecture acronym that describes</span> <span data-start="1093.6" data-end="1099.36">vector units short units that short</span> <span data-start="1099.36" data-end="1101.649">vectors that contain integers or</span> <span data-start="1101.649" data-end="1103.769">floating point numbers pack usually for</span> <span data-start="1103.769" data-end="1106.21">32-bit floats or for 32-bit ants but</span> <span data-start="1106.21" data-end="1108.97">they come in different sizes 8 16 bit 16</span> <span data-start="1108.97" data-end="1111.46">8 bit generally they're multiplying 2</span> <span data-start="1111.46" data-end="1115.509">128 bits Intel's more recent work also</span> <span data-start="1115.509" data-end="1118.029">has 256 bit long vectors and they all</span> <span data-start="1118.029" data-end="1120.34">get pissed up into power of two sizes</span> <span data-start="1120.34" data-end="1122.649">for integers and floating points pretty</span> <span data-start="1122.649" data-end="1125.409">important for speeding up DSP code game</span> <span data-start="1125.409" data-end="1129.34">code physics code graphics code typed</span> <span data-start="1129.34" data-end="1133.149">objects i mentioned value objects which</span> <span data-start="1133.149" data-end="1136.57">include notably finally in 64 and un six</span> <span data-start="1136.57" data-end="1140.559">for real and that means we don't want to</span> <span data-start="1140.559" data-end="1141.61">just hard code these so we're going to</span> <span data-start="1141.61" data-end="1143.38">make user-defined operators and literals</span> <span data-start="1143.38" data-end="1144.94">in the language so you can have your own</span> <span data-start="1144.94" data-end="1146.769">operators probably makes sense for</span> <span data-start="1146.769" data-end="1148.99">people using matrices and vectors even</span> <span data-start="1148.99" data-end="1150.85">mutable objects could have operators and</span> <span data-start="1150.85" data-end="1153.759">you can go to town and async generators</span> </p>
<p><span data-start="1153.759" data-end="1155.35">I showed you a sinc functions async</span> <span data-start="1155.35" data-end="1158.259">generators would be sort of what they</span> <span data-start="1158.259" data-end="1160.33">sound like that's something that's being</span> <span data-start="1160.33" data-end="1166.49">worked on by Jafar sign of Netflix so</span> <span data-start="1166.5" data-end="1169.57">the s7 is going to be smaller you can</span> <span data-start="1169.57" data-end="1171.58">tell this isn't nearly as big as that</span> <span data-start="1171.58" data-end="1174.039">giant kangaroo chart and maybe some</span> <span data-start="1174.039" data-end="1175.74">stuff will get cut but we'll get it done</span> <span data-start="1175.74" data-end="1179.409">it'll be back next year implemented next</span> <span data-start="1179.409" data-end="1182.379">year and finalized into the beginning of</span> <span data-start="1182.379" data-end="1185.46">the following year and that's exciting</span> <span data-start="1185.46" data-end="1191.559">but nothing beats a excitement like a</span> <span data-start="1191.559" data-end="1193.48">demo so I'm going to try to show some</span> <span data-start="1193.48" data-end="1197.83">things here first of all this is the</span> <span data-start="1197.83" data-end="1202.24">demo from the Intel folks showing how</span> <span data-start="1202.24" data-end="1203.86">simdi can speed up your co here's a</span> </p>
<p><span data-start="1203.86" data-end="1206.919">Mandelbrot generator and if you don't</span> <span data-start="1206.919" data-end="1209.889">have simdi it starts off a little under</span> <span data-start="1209.889" data-end="1211.33">30 frames a second then it degrades</span> <span data-start="1211.33" data-end="1213.85">because the complexity is growing as we</span> <span data-start="1213.85" data-end="1219.85">zoom in if I say use simdi it zooms up</span> <span data-start="1219.85" data-end="1223">by almost factor of 4 and it will it</span> <span data-start="1223" data-end="1224.32">will again fluctuate depending on the</span> <span data-start="1224.32" data-end="1226.389">complexity but it's still roughly</span> <span data-start="1226.389" data-end="1227.83">between three and four times faster</span> <span data-start="1227.83" data-end="1230.2">because it's getting that for full speed</span> <span data-start="1230.2" data-end="1232.21">up for the parallelizable parts of the</span> <span data-start="1232.21" data-end="1236.169">code by using for float32 24 and 32 s at</span> <span data-start="1236.169" data-end="1238.629">a time it's using vectors so all the</span> <span data-start="1238.629" data-end="1239.95">additions or all the multiplications</span> <span data-start="1239.95" data-end="1245.23">happen at once so game developers and</span> <span data-start="1245.23" data-end="1247.96">people writing all sorts of things will</span> <span data-start="1247.96" data-end="1251.71">benefit from this now I don't want to</span> <span data-start="1251.71" data-end="1253.299">make this long it's all about games but</span> <span data-start="1253.299" data-end="1255.58">it kind of it's important to give games</span> <span data-start="1255.58" data-end="1257.049">there do because they stress test</span> <span data-start="1257.049" data-end="1259.629">everything I think I saw the CTO valve</span> <span data-start="1259.629" data-end="1261.129">many years ago at game developer</span> <span data-start="1261.129" data-end="1263.559">conference say that only games were</span> <span data-start="1263.559" data-end="1266.08">really pushing as applications as a</span> <span data-start="1266.08" data-end="1267.61">class of applications only games are</span> <span data-start="1267.61" data-end="1268.62">really pushing on</span> <span data-start="1268.62" data-end="1272.15">you know concurrency parallel hardware</span> <span data-start="1272.15" data-end="1276.14">vector units simdi GPU programming</span> <span data-start="1276.14" data-end="1279.66">aggressive memory management so games</span> <span data-start="1279.66" data-end="1283.17">are like the really hard case and this</span> <span data-start="1283.17" data-end="1288.9">demo I'll start with is the banana bread</span> <span data-start="1288.9" data-end="1290.97">game based on the open-source cube 2</span> <span data-start="1290.97" data-end="1293.76">engine a C++ code base that's compiled</span> <span data-start="1293.76" data-end="1296.55">to JavaScript beat by M scripting it's</span> <span data-start="1296.55" data-end="1299.58">compiled to as MJS this version this fun</span> <span data-start="1299.58" data-end="1303.99">because it embeds doom the free version</span> <span data-start="1303.99" data-end="1306.87">and and so you can be in the outer game</span> </p>
<p><span data-start="1306.87" data-end="1308.25">I'm gonna have to kill this bought</span> <span data-start="1308.25" data-end="1311.01">before it kills me there's a ball that's</span> <span data-start="1311.01" data-end="1312.39">going to come out in a minute and you</span> <span data-start="1312.39" data-end="1313.83">can see this inner game is on the wall</span> <span data-start="1313.83" data-end="1322.29">there and if you okay remove bottom if</span> <span data-start="1322.29" data-end="1325.14">you hit vertical bar now I'm playing the</span> <span data-start="1325.14" data-end="1327.27">inner game that proved this isn't the</span> <span data-start="1327.27" data-end="1329.79">video on youtube as somebody accused me</span> <span data-start="1329.79" data-end="1331.59">of running I'll let you guys tell me</span> <span data-start="1331.59" data-end="1335.6">which game first episode second episode</span> <span data-start="1335.6" data-end="1345.84">third episode is your clap dirty all</span> <span data-start="1345.84" data-end="1348.33">right this one I'm going to use please</span> <span data-start="1348.33" data-end="1352.53">don't kill me I believe control shoots</span> <span data-start="1352.53" data-end="1354.9">yes the arrow keys turn so I'm the outer</span> <span data-start="1354.9" data-end="1358.29">game is like WASD to move around and the</span> <span data-start="1358.29" data-end="1362.34">inner game is arrow keys I think I can</span> <span data-start="1362.34" data-end="1364.89">strafe yeah I can strafe with greater</span> <span data-start="1364.89" data-end="1368.13">than and less than and / those something</span> <span data-start="1368.13" data-end="1370.59">not sure what and there are monsters in</span> <span data-start="1370.59" data-end="1373.26">the inner game this is like oh yeah do I</span> <span data-start="1373.26" data-end="1381.72">have to like how do I hit that there now</span> </p>
<p><span data-start="1381.72" data-end="1383.67">I'm in trouble so I'm playing the inner</span> <span data-start="1383.67" data-end="1392.28">game it ah tackle demon all right come</span> <span data-start="1392.28" data-end="1394.47">on died either ow</span> <span data-start="1394.47" data-end="1402.74">ok</span> <span data-start="1402.75" data-end="1404.67">now what's what's really cool about this</span> <span data-start="1404.67" data-end="1412.13">is there's a where is it oh it's my</span> <span data-start="1412.13" data-end="1415.35">off-screen banana bread thank you let's</span> <span data-start="1415.35" data-end="1418.53">get out of this there's just a few</span> <span data-start="1418.53" data-end="1420.72">hundred lines of JavaScript to glue the</span> <span data-start="1420.72" data-end="1422.37">inner game to the outer game using a</span> <span data-start="1422.37" data-end="1425.13">worker this is from alone Sakai you can</span> <span data-start="1425.13" data-end="1430.77">see he sets up a worker that contains</span> <span data-start="1430.77" data-end="1432.99">boon jas boon is the name of the free</span> <span data-start="1432.99" data-end="1435.42">doom code and that's in a separate JS</span> <span data-start="1435.42" data-end="1437.04">file and it runs as the workers source</span> <span data-start="1437.04" data-end="1440.58">and then using sort of a proxy and ad</span> <span data-start="1440.58" data-end="1443.22">hoc proxy he glues the inner game into</span> <span data-start="1443.22" data-end="1444.69">the outer game so he sends these</span> <span data-start="1444.69" data-end="1446.22">messages with names like standard out</span> <span data-start="1446.22" data-end="1448.77">standard error window canvas along he</span> <span data-start="1448.77" data-end="1450.99">can do resizes and renders he has to</span> <span data-start="1450.99" data-end="1454.35">clone events has to worry about mapping</span> <span data-start="1454.35" data-end="1457.2">the keys through but this is like a</span> <span data-start="1457.2" data-end="1458.82">trivial amount of blue code to take two</span> <span data-start="1458.82" data-end="1460.2">games that weren't written to be</span> <span data-start="1460.2" data-end="1462.15">embedded one in the other and then put</span> <span data-start="1462.15" data-end="1464.4">them together it shows how JavaScript on</span> <span data-start="1464.4" data-end="1465.66">the web in general are really good for</span> <span data-start="1465.66" data-end="1468.99">mashing things up for composition if you</span> <span data-start="1468.99" data-end="1471.81">had to write a C++ mashup of these two</span> <span data-start="1471.81" data-end="1473.79">games it would be a nightmare so that's</span> <span data-start="1473.79" data-end="1477.15">that's cool and then this is unreal</span> <span data-start="1477.15" data-end="1480.36">engine 3 which is still a good demo on i</span> <span data-start="1480.36" data-end="1484.83">mentioned java bytecode here is the new</span> <span data-start="1484.83" data-end="1489.11">java bytecode this is this is the actual</span> <span data-start="1489.11" data-end="1492.66">it's going to take a while it's big it's</span> <span data-start="1492.66" data-end="1494.13">as I'm Jay s so it looks quite</span> <span data-start="1494.13" data-end="1497.43">voluminous but more fun to see the game</span> <span data-start="1497.43" data-end="1502.92">let's go here so this is I hope it's</span> <span data-start="1502.92" data-end="1506.99">going to make sound I hear it any else I</span> <span data-start="1506.99" data-end="1513.24">think it's only me</span> <span data-start="1513.25" data-end="1517.93">somebody has to stick a mic here oh good</span> <span data-start="1517.93" data-end="1531.35">and then i'll show you my mad skills</span> <span data-start="1531.36" data-end="1541.64">these are</span> <span data-start="1541.65" data-end="1545.16">it's it's fully playable smooth 50</span> <span data-start="1545.16" data-end="1547.8">frames a second and I'm cheating a</span> <span data-start="1547.8" data-end="1553.37">massively I'm in god mode it's daddy</span> <span data-start="1553.37" data-end="1555.75">you're really nice effects if you look</span> <span data-start="1555.75" data-end="1558.69">at the God raised the Sun see the ray</span> <span data-start="1558.69" data-end="1562.5">tracing this is all WebGL and as MJS</span> <span data-start="1562.5" data-end="1566.01">working together this works in all the</span> <span data-start="1566.01" data-end="1567.12">browsers are trying to make this work</span> <span data-start="1567.12" data-end="1570.21">really fast however they do it more</span> <span data-start="1570.21" data-end="1574.46">power to them all right killing spree</span> <span data-start="1574.46" data-end="1579.33">okay so then I think the last demo I</span> <span data-start="1579.33" data-end="1581.48">will do makes if I can show you the</span> <span data-start="1581.48" data-end="1586.95">assembly code though this is the source</span> <span data-start="1586.95" data-end="1588.45">there's some handwritten stuffs you see</span> <span data-start="1588.45" data-end="1591.66">it's very pretty but then it's prepended</span> <span data-start="1591.66" data-end="1593.61">it's concatenated as a source file to</span> <span data-start="1593.61" data-end="1596.73">the Asmodeus code which is not so pretty</span> <span data-start="1596.73" data-end="1599.31">but there's your modern bike code right</span> <span data-start="1599.31" data-end="1604.52">there's um there's your Java has a</span> <span data-start="1604.52" data-end="1608.99">number if greater than or if equal</span> <span data-start="1608.99" data-end="1610.89">branching conditional branching</span> <span data-start="1610.89" data-end="1612.93">instructions javascript has the if</span> <span data-start="1612.93" data-end="1615.69">statement Java has you know integer</span> <span data-start="1615.69" data-end="1617.94">operations there's your or zero that's</span> <span data-start="1617.94" data-end="1621.93">that's your cast to integer so I just</span> <span data-start="1621.93" data-end="1625.01">wanted to show that okay last thing is</span> <span data-start="1625.01" data-end="1627.9">not only the epic Unreal Engine but also</span> <span data-start="1627.9" data-end="1631.2">the unity engine has been cross compile</span> <span data-start="1631.2" data-end="1632.82">with them scripting and its runtimes</span> <span data-start="1632.82" data-end="1635.96">ported to the web so unity is supporting</span> <span data-start="1635.96" data-end="1638.61">html5 WebGL as a first-class target</span> </p>
<p><span data-start="1638.61" data-end="1641.58">Asmodeus is the first class target this</span> <span data-start="1641.58" data-end="1644.85">is dead trigger 2 it's pretty fun the</span> <span data-start="1644.85" data-end="1646.35">best part of this game is this the</span> <span data-start="1646.35" data-end="1649.95">Sentry chickens they have machine guns</span> <span data-start="1649.95" data-end="1651.789">on their back</span> <span data-start="1651.789" data-end="1654.129">so they they take care of those zombies</span> <span data-start="1654.129" data-end="1660.85">for you know no problem and again smooth</span> <span data-start="1660.85" data-end="1663.729">gameplay oh he's trying to crawl after</span> <span data-start="1663.729" data-end="1666.369">me huh they got him he's kamikaze guys</span> <span data-start="1666.369" data-end="1671.08">will try to blow you up so best thing to</span> <span data-start="1671.08" data-end="1677.679">do with them is a grenade I'm not in god</span> <span data-start="1677.679" data-end="1680.679">mode here but I'm doing okay I can take</span> <span data-start="1680.679" data-end="1683.35">some help just in case now there's that</span> <span data-start="1683.35" data-end="1690.499">big kamikaze guy watch out uh-oh grenade</span> <span data-start="1690.509" data-end="1701.71">second grenade oh good</span> <span data-start="1701.72" data-end="1708.53">so like I said games are fun and all and</span> <span data-start="1708.53" data-end="1711.8">kind of violent but they're also the you</span> <span data-start="1711.8" data-end="1715.55">know the the that if you can dodge a</span> <span data-start="1715.55" data-end="1717.92">wrench you can dodge a ball test so if</span> <span data-start="1717.92" data-end="1720.28">you can run these games you can you can</span> <span data-start="1720.28" data-end="1723.11">run a lot of code and that's why I</span> <span data-start="1723.11" data-end="1724.7">always close these talks with this</span> <span data-start="1724.7" data-end="1729.08">homage to Wesley Snipes in passenger 57</span> <span data-start="1729.08" data-end="1731.18">another nineties movie was not that</span> <span data-start="1731.18" data-end="1733.16">great Wesley he's always awesome when he</span> <span data-start="1733.16" data-end="1737.09">gets his martial arts face on but almost</span> <span data-start="1737.09" data-end="1739.25">been on Jas it was it was never going to</span> <span data-start="1739.25" data-end="1742.67">win it was this incredible underdog for</span> <span data-start="1742.67" data-end="1743.9">too many years and then when it started</span> <span data-start="1743.9" data-end="1745.67">coming up there was still flash there</span> <span data-start="1745.67" data-end="1748.34">was Java plug-in pretty much all</span> </p>
<p><span data-start="1748.34" data-end="1750.74">JavaScript now all the browser vendors</span> <span data-start="1750.74" data-end="1752.09">were acting serious about it we're</span> <span data-start="1752.09" data-end="1753.62">evolving it we're going on to a rapid</span> <span data-start="1753.62" data-end="1755.15">release process we're adding all the</span> <span data-start="1755.15" data-end="1756.56">hardware api's you need to do everything</span> <span data-start="1756.56" data-end="1760.13">with the machine and it's kicking Javas</span> <span data-start="1760.13" data-end="1761.93">ass so almost bet on Jas thank you very</span> <span data-start="1761.93" data-end="1787.9">much</span> </p>
</section>