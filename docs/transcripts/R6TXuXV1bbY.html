<section>
<p><span data-start="7.99" data-end="13.4">yeah fairlight performance I've always</span> <span data-start="13.4" data-end="18.29">been really into parallax I mean it's</span> <span data-start="18.29" data-end="21.05">really it's really hit these days to hit</span> <span data-start="21.05" data-end="23.06">on it and there's times when they that's</span> <span data-start="23.06" data-end="26.48">done really poorly but I like the effect</span> <span data-start="26.48" data-end="30.38">and like personally I i like i like long</span> <span data-start="30.38" data-end="32.3">single pages and i hate it when I'm like</span> <span data-start="32.3" data-end="33.32">working on a project and someone's like</span> <span data-start="33.32" data-end="34.76">well let's break it up into multiple</span> <span data-start="34.76" data-end="37.69">pages and I'm like because I was that</span> <span data-start="37.69" data-end="41.03">baccardo Jason he he's in Massachusetts</span> <span data-start="41.03" data-end="43.789">he said something like a click is the</span> <span data-start="43.789" data-end="46.429">decision but scrolling is a continuation</span> <span data-start="46.429" data-end="48.199">and I feel the same way like usability</span> <span data-start="48.199" data-end="50.3">wise i just feel like scrolling is like</span> <span data-start="50.3" data-end="52.309">extremely low barrier to entry right</span> <span data-start="52.309" data-end="54.05">it's just like i'm continuing and then</span> <span data-start="54.05" data-end="55.19">when you augment that's rollin</span> <span data-start="55.19" data-end="56.539">experience with parallax i think it's</span> <span data-start="56.539" data-end="59.03">cool but anyways there's many ways to</span> <span data-start="59.03" data-end="62.719">fall into a pit of badness with parallax</span> <span data-start="62.719" data-end="65.479">and so i'm going to show some examples</span> <span data-start="65.479" data-end="66.979">where that's happened and try and talk</span> <span data-start="66.979" data-end="70.25">about techniques to avoid that sort of</span> <span data-start="70.25" data-end="73.219">situation but like i said i've been into</span> <span data-start="73.219" data-end="76.7">it for a while in 2001 i just pointed to</span> <span data-start="76.7" data-end="78.5">this site because i thought was pretty</span> <span data-start="78.5" data-end="81.14">rad so like it's like this one and it's</span> <span data-start="81.14" data-end="82.64">italian site and I think it's just</span> <span data-start="82.64" data-end="85.549">selling shoes but like they kind of got</span> <span data-start="85.549" data-end="87.32">this thing floating in front you know</span> <span data-start="87.32" data-end="89.299">its parallax is what we're going to talk</span> <span data-start="89.299" data-end="94.07">about but first I think there's a little</span> <span data-start="94.07" data-end="95.659">bit of terminology we could discuss I</span> <span data-start="95.659" data-end="99.02">recently asked kind of like how we could</span> <span data-start="99.02" data-end="101">break up some of these things because</span> <span data-start="101" data-end="103.49">parallax generally gets use the word</span> <span data-start="103.49" data-end="106.28">gets used for anything for any site that</span> <span data-start="106.28" data-end="108.59">has an effect on scroll and I think we</span> <span data-start="108.59" data-end="110.45">could make it up a little bit more so</span> <span data-start="110.45" data-end="112.75">let's try it out this way parallax</span> <span data-start="112.75" data-end="115.329">moving elements in different Z layers</span> <span data-start="115.329" data-end="120.039">along with the natural scroll pace so</span> <span data-start="120.039" data-end="125.21">come on come on yeah this a classic</span> <span data-start="125.21" data-end="128.509">example and really the first example was</span> <span data-start="128.509" data-end="130.129">the nike better world site so this was</span> <span data-start="130.129" data-end="131.85">designed by ian cole</span> <span data-start="131.85" data-end="136.17">whole a Kian coil out of the UK and he</span> <span data-start="136.17" data-end="137.67">is generally the designer credited with</span> <span data-start="137.67" data-end="139.56">creating the parallax technique and at</span> <span data-start="139.56" data-end="143.4">least popularizing it on this site so</span> <span data-start="143.4" data-end="146.45">that's generally parallax peeler is</span> <span data-start="146.45" data-end="149.64">another site another kind of technique</span> <span data-start="149.64" data-end="152.07">that we've seen more recently a good</span> <span data-start="152.07" data-end="155.13">example is here and this is actually I</span> <span data-start="155.13" data-end="157.2">think where the name is kind of coming</span> <span data-start="157.2" data-end="160.01">from this is a concept video from the</span> </p>
<p><span data-start="160.01" data-end="164.25">Canadian agency tehan and lacs but as</span> <span data-start="164.25" data-end="167.64">you kind of scroll down the the article</span> <span data-start="167.64" data-end="169.8">kind of peels out of the way so you peel</span> <span data-start="169.8" data-end="173.46">through content in fact this technique</span> <span data-start="173.46" data-end="176.1">also I believe might have debuted on</span> <span data-start="176.1" data-end="179.37">edits quarterly com which was as well</span> <span data-start="179.37" data-end="183.57">designed by Ian coil so the man really</span> <span data-start="183.57" data-end="185.25">likes augmenting the scroll experience</span> <span data-start="185.25" data-end="189.12">with some good stuff alright lastly</span> <span data-start="189.12" data-end="192.42">scroll jacking scroll jacking we've seen</span> <span data-start="192.42" data-end="193.74">a little bit more recently this is kind</span> <span data-start="193.74" data-end="195.3">of taking over in the natural scroll of</span> <span data-start="195.3" data-end="198.45">the user to display an alternative page</span> <span data-start="198.45" data-end="201.06">velocity a classic example of this is</span> <span data-start="201.06" data-end="206.91">the Milwaukee Police newscom which takes</span> <span data-start="206.91" data-end="211.08">a while but it's so worth it come on I</span> <span data-start="211.08" data-end="216.09">really yeah let's try it so all right</span> <span data-start="216.09" data-end="219.99">it's going to scroll a little bit uh-huh</span> <span data-start="219.99" data-end="224.01">that's good actually oh it's working</span> <span data-start="224.01" data-end="226.11">pretty nice bring it up on your own</span> <span data-start="226.11" data-end="230.07">sometime in in many cases it scrolls to</span> <span data-start="230.07" data-end="233.04">like halfway through the content so</span> <span data-start="233.04" data-end="234.42">showing like two pieces all at once</span> <span data-start="234.42" data-end="238.65">that's a good example so they add some</span> <span data-start="238.65" data-end="240.27">work to do but honestly i think that the</span> <span data-start="240.27" data-end="242.1">design is done well but it's a little</span> <span data-start="242.1" data-end="243.42">tricky to pull it off when you want to</span> <span data-start="243.42" data-end="246.69">completely yeah overtake the scroll like</span> <span data-start="246.69" data-end="249.24">that alright so that's a little bit of</span> <span data-start="249.24" data-end="252">terminology but we're talking about</span> <span data-start="252" data-end="253.23">performance and so we're really talking</span> <span data-start="253.23" data-end="255.21">about jank jank is like you are</span> <span data-start="255.21" data-end="256.47">scrolling everything's supposed to be</span> <span data-start="256.47" data-end="258.09">smooth you're supposed to be able to</span> <span data-start="258.09" data-end="261.78">scroll at 60fps if you know a basic site</span> <span data-start="261.78" data-end="263.28">can do that but the more you throw out</span> <span data-start="263.28" data-end="265.2">the page and the more you kind of inter</span> <span data-start="265.2" data-end="266.85">with JavaScript the more you're going to</span> <span data-start="266.85" data-end="270.81">introduce jank so typically when there</span> <span data-start="270.81" data-end="272.82">is jank during a scroll it's caused by a</span> <span data-start="272.82" data-end="276.33">thing that we usually like to call paint</span> <span data-start="276.33" data-end="280.32">storms paint storms the term has kind of</span> <span data-start="280.32" data-end="281.31">been around for a while and it generally</span> <span data-start="281.31" data-end="284.16">means there is just excess painting like</span> <span data-start="284.16" data-end="285.89">more painting that should be happening</span> <span data-start="285.89" data-end="289.71">to the page and show so I'm going to</span> <span data-start="289.71" data-end="291.66">kind of try and visualize this actually</span> <span data-start="291.66" data-end="297.87">looks like when I come back to this</span> <span data-start="297.87" data-end="302.67">example over here and I just open up the</span> <span data-start="302.67" data-end="307.11">devtools what I have you hit escape and</span> <span data-start="307.11" data-end="308.55">you kind of bring up this drawer down</span> <span data-start="308.55" data-end="310.14">here which usually has a console but has</span> <span data-start="310.14" data-end="311.97">a few other things inside the rendering</span> <span data-start="311.97" data-end="315.93">tab there's show paint rectangles show</span> <span data-start="315.93" data-end="317.7">composited layer borders and show FPS</span> <span data-start="317.7" data-end="319.17">counter and I'm going to make good use</span> <span data-start="319.17" data-end="323.1">of the show paint rectangles now and</span> <span data-start="323.1" data-end="326.27">basically we're seeing these green</span> <span data-start="326.27" data-end="329.67">overlays happening on the screen all the</span> <span data-start="329.67" data-end="334.08">time if I take let's see this is just a</span> <span data-start="334.08" data-end="335.79">static page and I'm just going to open</span> <span data-start="335.79" data-end="339.03">it up the same thing we have green over</span> <span data-start="339.03" data-end="341.04">on me on the scroll bar because the</span> <span data-start="341.04" data-end="344.22">scrollbars is having to be redrawn but</span> <span data-start="344.22" data-end="345.84">the content itself is not being redrawn</span> <span data-start="345.84" data-end="351">right so similarly I'll take a inception</span> <span data-start="351" data-end="356.64">explained looks like it's over here cool</span> <span data-start="356.64" data-end="360.66">site kind of parallax II kind of effect</span> <span data-start="360.66" data-end="363.72">on a lot of this and if I take a look at</span> <span data-start="363.72" data-end="366.36">what's happening so they have orange</span> <span data-start="366.36" data-end="368.1">borders around all of the composited</span> <span data-start="368.1" data-end="370.89">layers and green for what's being</span> <span data-start="370.89" data-end="372.87">painted and so as I scroll you can just</span> <span data-start="372.87" data-end="374.79">see kind of blinking green everywhere so</span> <span data-start="374.79" data-end="378.06">this is a pretty visual example of paint</span> <span data-start="378.06" data-end="385.38">storms yeah but in order to understand</span> <span data-start="385.38" data-end="388.02">kind of like paint and what that means I</span> <span data-start="388.02" data-end="390.84">want to kind of quickly review all the</span> <span data-start="390.84" data-end="392.49">different operations that happen in the</span> <span data-start="392.49" data-end="394.02">browser kind of the rendering pipeline</span> <span data-start="394.02" data-end="398.04">inside the browser this is a view</span> <span data-start="398.04" data-end="399.99">from inside of the chrome devtools</span> <span data-start="399.99" data-end="403.74">timeline but at this point all browsers</span> <span data-start="403.74" data-end="407.64">have generally these same steps so first</span> <span data-start="407.64" data-end="410.88">up is the recalculate style operation at</span> <span data-start="410.88" data-end="414.18">this point we get all the style rules of</span> <span data-start="414.18" data-end="416.28">the page so they are in external style</span> <span data-start="416.28" data-end="421.14">sheets inline styles even the user agent</span> <span data-start="421.14" data-end="423.63">style sheet that you know says what a</span> <span data-start="423.63" data-end="425.82">button is supposed to look like then we</span> <span data-start="425.82" data-end="427.32">evaluate all the selectors of all that</span> <span data-start="427.32" data-end="429.47">stuff match it against the current job</span> <span data-start="429.47" data-end="431.94">this is exactly where selector matching</span> <span data-start="431.94" data-end="435.63">happens of total recalculate style costs</span> <span data-start="435.63" data-end="437.52">usually selector matching is about ten</span> <span data-start="437.52" data-end="440.76">percent but probably even less so it's</span> <span data-start="440.76" data-end="443.58">not it's not too big of a concern then</span> <span data-start="443.58" data-end="445.14">we calculate the computed style for</span> <span data-start="445.14" data-end="446.64">every a single element just kind of like</span> <span data-start="446.64" data-end="447.87">when you call get computed style in</span> </p>
<p><span data-start="447.87" data-end="449.97">JavaScript the browser does that for</span> <span data-start="449.97" data-end="451.98">everything that's on the page based on</span> <span data-start="451.98" data-end="455.64">what's in the style then we lay it out</span> <span data-start="455.64" data-end="458.63">and this is literally just what is the</span> <span data-start="458.63" data-end="461.46">geometry of the page laying out all the</span> <span data-start="461.46" data-end="465.27">boxes and all the dibs then we paint it</span> <span data-start="465.27" data-end="468.48">painting is figuring out what the pixels</span> <span data-start="468.48" data-end="470.37">should look like so any sort of visual</span> <span data-start="470.37" data-end="472.44">effects that are up need to be applied</span> <span data-start="472.44" data-end="475.91">to figure that out painting oftentimes</span> <span data-start="475.91" data-end="479.85">is what hurts when we were scrolling a</span> <span data-start="479.85" data-end="481.41">second ago and all that green that's all</span> <span data-start="481.41" data-end="485.01">paint so paint oftentimes is capturing a</span> <span data-start="485.01" data-end="486.06">lot of time inside the browser</span> <span data-start="486.06" data-end="488.28">especially in highly interactive</span> <span data-start="488.28" data-end="490.89">scrolling environments on low-end</span> <span data-start="490.89" data-end="493.71">devices paint is the thing that makes</span> <span data-start="493.71" data-end="495.63">the experience feel slow it is the thing</span> <span data-start="495.63" data-end="497.79">that drops the frame rate many times not</span> </p>
<p><span data-start="497.79" data-end="501.27">JavaScript and then show a little bit</span> <span data-start="501.27" data-end="504.39">about how to debug with the show paint</span> <span data-start="504.39" data-end="506.76">rex which we saw and also continuous</span> <span data-start="506.76" data-end="508.61">paint mode which is a way to find out</span> <span data-start="508.61" data-end="510.99">oval things being painted what is the</span> <span data-start="510.99" data-end="514.59">most expensive so of all of those</span> <span data-start="514.59" data-end="516.24">operations that are happening inside the</span> <span data-start="516.24" data-end="517.47">browser how do you kind of map those</span> <span data-start="517.47" data-end="521.16">into the CSS that we write so here I</span> <span data-start="521.16" data-end="523.62">kind of have just a snippet of CSS and</span> <span data-start="523.62" data-end="528.07">here's a brief look so the selector</span> <span data-start="528.07" data-end="531.07">the cost that we have of the selector is</span> <span data-start="531.07" data-end="532.81">really manifested in recalculation of</span> <span data-start="532.81" data-end="536.32">style just figuring out what elements</span> <span data-start="536.32" data-end="538.63">that style applies that select replies</span> <span data-start="538.63" data-end="541.45">do then we have a height the height</span> <span data-start="541.45" data-end="544.54">effects the layout of the page the way</span> <span data-start="544.54" data-end="546.46">of a div and then all the divs following</span> <span data-start="546.46" data-end="548.59">it usually and then a tech shadow</span> <span data-start="548.59" data-end="550.69">doesn't affect any sort of geometry of</span> <span data-start="550.69" data-end="552.1">how things are laid out it's just a</span> <span data-start="552.1" data-end="554.11">visual effect right so effects only</span> <span data-start="554.11" data-end="556.36">paint and so you can kind of look at all</span> <span data-start="556.36" data-end="558.52">of the CSS properties and figure out</span> <span data-start="558.52" data-end="563.41">what they account for so if we kind of</span> <span data-start="563.41" data-end="565.98">take all the operations that happen</span> <span data-start="565.98" data-end="570.07">transfer moment opacity can actually</span> <span data-start="570.07" data-end="572.95">they do not affect the layout they do</span> <span data-start="572.95" data-end="574.63">not affect paint and really can actually</span> <span data-start="574.63" data-end="576.58">be handled completely at the compositor</span> <span data-start="576.58" data-end="581.74">level things visual effects happen like</span> <span data-start="581.74" data-end="583.6">a box shadow bore radius background</span> <span data-start="583.6" data-end="586.06">outline even outline actually is just a</span> <span data-start="586.06" data-end="587.2">visual effect and does not affect</span> <span data-start="587.2" data-end="590.59">geometry so those only require being</span> <span data-start="590.59" data-end="592.84">painted and then composited and then</span> <span data-start="592.84" data-end="596.68">these guys these are all kind of the</span> <span data-start="596.68" data-end="599.23">things that cost the most changing the</span> <span data-start="599.23" data-end="600.64">width changing the margin the border</span> <span data-start="600.64" data-end="603.13">left and top and we're talking about</span> <span data-start="603.13" data-end="604.72">parallax these are usually the ones that</span> <span data-start="604.72" data-end="606.76">we're talking about anytime that you</span> <span data-start="606.76" data-end="609.22">change left on top you're going to have</span> <span data-start="609.22" data-end="610.48">to the browser is going to have to lay</span> <span data-start="610.48" data-end="613.21">it out then paint it because it has a</span> <span data-start="613.21" data-end="614.71">new size everything beneath it has</span> <span data-start="614.71" data-end="616.81">changed and then do any sort of</span> <span data-start="616.81" data-end="619.87">compositing so the more work that you're</span> <span data-start="619.87" data-end="623.74">doing the slower of a frame rate and the</span> <span data-start="623.74" data-end="626.74">worse the user experience gets so I took</span> <span data-start="626.74" data-end="629.98">a look at all of the CSS properties that</span> <span data-start="629.98" data-end="631.39">are animated there's actually</span> <span data-start="631.39" data-end="632.83">instrumentation inside of chrome to</span> <span data-start="632.83" data-end="635.89">figure out what CSS properties are</span> <span data-start="635.89" data-end="638.08">getting animated through transitions and</span> <span data-start="638.08" data-end="641.23">keyframe animation and so this is a dab</span> <span data-start="641.23" data-end="644.08">dump kind of the left two columns width</span> <span data-start="644.08" data-end="646.15">and height gets animated the most and</span> <span data-start="646.15" data-end="648.97">the next one I put kind of what they</span> <span data-start="648.97" data-end="651.22">require so pretty much you know</span> <span data-start="651.22" data-end="653.59">everything requires layout and then</span> <span data-start="653.59" data-end="657.64">paint and then compositing whereas color</span> <span data-start="657.64" data-end="659.51">and bordeaux-style just paint</span> <span data-start="659.51" data-end="663.38">pacity just compositing so basically</span> <span data-start="663.38" data-end="665.33">when we think about the things that we</span> <span data-start="665.33" data-end="667.64">can do change in elements that the</span> <span data-start="667.64" data-end="670.34">browser can transition extremely fast</span> <span data-start="670.34" data-end="672.41">there's about four things we can change</span> <span data-start="672.41" data-end="675.92">the size the position the rotation and</span> <span data-start="675.92" data-end="679.55">the opacity these just map to us</span> <span data-start="679.55" data-end="682.69">changing that the scale of a transform</span> <span data-start="682.69" data-end="685.64">translation the rotation and just the</span> <span data-start="685.64" data-end="689">straight-up opacity across browsers I've</span> <span data-start="689" data-end="691.19">spoken with the Firefox engineers this</span> <span data-start="691.19" data-end="694.4">is consistent on Chrome on on safari on</span> </p>
<p><span data-start="694.4" data-end="698.42">Opera and I use a little I ease pretty</span> <span data-start="698.42" data-end="700.75">good at hardware accelerated everything</span> <span data-start="700.75" data-end="705.44">so they're better than this really but</span> <span data-start="705.44" data-end="707.27">these are the four things that are on</span> <span data-start="707.27" data-end="710.96">the super super fast path so whenever</span> <span data-start="710.96" data-end="712.22">you're doing any sort of visual effects</span> <span data-start="712.22" data-end="713.89">that are animated any transitions any</span> <span data-start="713.89" data-end="718.07">animations try and use only these things</span> <span data-start="718.07" data-end="721.13">and transforms and opacity transitioning</span> <span data-start="721.13" data-end="723.32">anything else is going to require layout</span> <span data-start="723.32" data-end="724.79">and paint on every single frame and it's</span> <span data-start="724.79" data-end="726.95">going to slow things down so kind of at</span> <span data-start="726.95" data-end="729.23">your own risk I should point out at this</span> <span data-start="729.23" data-end="734.45">point layer promoting with translate Z</span> <span data-start="734.45" data-end="739.1">or 3d might be required depends on a lot</span> <span data-start="739.1" data-end="742.19">of things the compositor architecture</span> <span data-start="742.19" data-end="743.81">inside of browsers is really freaking</span> <span data-start="743.81" data-end="747.86">complicated generally it's like it's</span> <span data-start="747.86" data-end="750.89">required these days in browsers on</span> <span data-start="750.89" data-end="754.22">desktop browsers on low DPI devices not</span> <span data-start="754.22" data-end="755.93">required on mobile not required on</span> <span data-start="755.93" data-end="758.71">retina devices on retina desktop devices</span> <span data-start="758.71" data-end="762.92">but that's kind of how that is and at</span> <span data-start="762.92" data-end="765.28">this point I should also point out that</span> <span data-start="765.28" data-end="767.57">we've kind of known these as hacks for a</span> <span data-start="767.57" data-end="770.66">while a while and now there's a new CSS</span> <span data-start="770.66" data-end="772.88">property called will change that is the</span> <span data-start="772.88" data-end="774.65">kind of standardized version of this</span> <span data-start="774.65" data-end="776.57">that gives the browser a lot more</span> <span data-start="776.57" data-end="778.88">semantics to optimize the experience</span> <span data-start="778.88" data-end="782.96">there and show that in a little bit I</span> <span data-start="782.96" data-end="786.05">should point out of this at this point I</span> <span data-start="786.05" data-end="788.42">should bring up background position and</span> <span data-start="788.42" data-end="792.71">background attachment these two get used</span> <span data-start="792.71" data-end="793.22">a lot</span> <span data-start="793.22" data-end="795.35">in kind of a parallax experience you</span> <span data-start="795.35" data-end="798.8">have like a like you have a div and as</span> <span data-start="798.8" data-end="800.449">you scroll you kind of want to move the</span> <span data-start="800.449" data-end="803.86">background up as you're scrolling down</span> <span data-start="803.86" data-end="808.49">or background attachment here you've set</span> <span data-start="808.49" data-end="811.939">it to fixed the solution here which kind</span> <span data-start="811.939" data-end="817.459">of sucks in some cases is taking it out</span> <span data-start="817.459" data-end="819.589">of a background and throwing it into its</span> <span data-start="819.589" data-end="821.689">own image element promoting that into a</span> <span data-start="821.689" data-end="822.889">layer and then changing that around with</span> <span data-start="822.889" data-end="828.5">transforms I don't like that this is</span> <span data-start="828.5" data-end="830.209">like a recommendation it feels like a</span> <span data-start="830.209" data-end="831.649">terrible hack that you have to do to</span> <span data-start="831.649" data-end="832.939">overcome the brows that the browser</span> <span data-start="832.939" data-end="836.379">should be smart enough to do this in</span> <span data-start="836.379" data-end="840.41">most cases on mobile so Chrome Safari</span> <span data-start="840.41" data-end="842.54">and Firefox on mobile handle this</span> <span data-start="842.54" data-end="844.79">optimization for you on desktop they're</span> <span data-start="844.79" data-end="847.699">less smart again so watch out for that</span> <span data-start="847.699" data-end="849.439">it's something that you can test for</span> <span data-start="849.439" data-end="854.12">with the profiler and experiment with so</span> <span data-start="854.12" data-end="856.579">next when we're talking about parallax</span> <span data-start="856.579" data-end="860.87">you kind of have to you know know when</span> <span data-start="860.87" data-end="862.73">the browser when the user has scrolled</span> <span data-start="862.73" data-end="865.509">and so we need to handle that input so</span> <span data-start="865.509" data-end="869.329">as a few ways and usually it comes down</span> <span data-start="869.329" data-end="872.93">to a touch start handler mouse wheel or</span> </p>
<p><span data-start="872.93" data-end="876.68">Scroll basically touch start and mouse</span> <span data-start="876.68" data-end="879.589">wheel are the semantics of those</span> <span data-start="879.589" data-end="881.149">elements inside the browser are such</span> <span data-start="881.149" data-end="885.379">that if you call event.preventdefault at</span> <span data-start="885.379" data-end="887.509">any time inside that handler the browser</span> <span data-start="887.509" data-end="889.879">has to say nope I'm not scrolling the</span> <span data-start="889.879" data-end="892.55">page at all so basically the browser has</span> <span data-start="892.55" data-end="895.579">to just wait for you to do your entire</span> <span data-start="895.579" data-end="899.36">handler before it updates anything</span> <span data-start="899.36" data-end="901.129">scroll it has a little bit more</span> <span data-start="901.129" data-end="903.319">flexibility with so basically let's say</span> <span data-start="903.319" data-end="906.769">you have your phone you touch it you're</span> <span data-start="906.769" data-end="908.12">like doing a fling to scroll the page</span> <span data-start="908.12" data-end="910.129">right you touch it it's received by the</span> <span data-start="910.129" data-end="912.47">compositor gosselin is like hey is there</span> <span data-start="912.47" data-end="915.709">any JavaScript attached to a the place</span> <span data-start="915.709" data-end="918.529">where I am touching if there's not great</span> <span data-start="918.529" data-end="919.639">it's going to update the screen it's</span> <span data-start="919.639" data-end="921.74">going to scroll the page let's say that</span> <span data-start="921.74" data-end="923.449">there is a touch start handler and the</span> <span data-start="923.449" data-end="926.48">sonic handler is bound to the body</span> <span data-start="926.48" data-end="929.51">uh it's like oh okay I need to go</span> <span data-start="929.51" data-end="931.1">execute that before I do anything else</span> <span data-start="931.1" data-end="934.43">before I update the screen I'm just</span> <span data-start="934.43" data-end="936.29">going to execute all that JavaScript</span> <span data-start="936.29" data-end="938.51">that's attached the handler this is a</span> <span data-start="938.51" data-end="940.76">cross in a separate thread and that so</span> <span data-start="940.76" data-end="942.199">it's hopping across threads and when</span> <span data-start="942.199" data-end="943.49">it's finally done with that can finally</span> <span data-start="943.49" data-end="947.48">go back and update the screen this can</span> <span data-start="947.48" data-end="951.13">take hundreds of milliseconds and</span> <span data-start="951.13" data-end="954.139">hundreds of milliseconds in some cases</span> <span data-start="954.139" data-end="957.23">like doesn't sound so bad in a page load</span> <span data-start="957.23" data-end="959.779">thing you might like hundreds of</span> <span data-start="959.779" data-end="962.12">milliseconds and sound so bad but when</span> <span data-start="962.12" data-end="964.01">we're talking about input handling it's</span> <span data-start="964.01" data-end="969.949">much worse this is a benchmark that some</span> <span data-start="969.949" data-end="972.829">folks at Google made and it basically</span> <span data-start="972.829" data-end="975.709">helps visualize what latency and jank</span> <span data-start="975.709" data-end="977.81">kind of look like so I'm just going to</span> <span data-start="977.81" data-end="980.99">drag this box around and basically</span> <span data-start="980.99" data-end="983.24">there's no added latency here it feels</span> <span data-start="983.24" data-end="985.389">pretty snappy as I'm dragging it around</span> <span data-start="985.389" data-end="989.17">this one has ten frames of latency right</span> <span data-start="989.17" data-end="992.449">does not feel as good it feels worse for</span> <span data-start="992.449" data-end="995.079">me and then it feels for you i go to say</span> <span data-start="995.079" data-end="998.769">similarly down here jank this is fine</span> <span data-start="998.769" data-end="1002.56">this one see periodically it just kind</span> <span data-start="1002.56" data-end="1004.99">of like hangs it's sticking with me as</span> <span data-start="1004.99" data-end="1009.25">far as as far as its latency but every</span> <span data-start="1009.25" data-end="1013.54">once awhile just jenks pretty hard all</span> <span data-start="1013.54" data-end="1017.41">right so the the the latency that we</span> <span data-start="1017.41" data-end="1018.61">were experiencing in the top right</span> <span data-start="1018.61" data-end="1022.6">corner was 160 milliseconds doesn't</span> <span data-start="1022.6" data-end="1024.88">sound like held a lot but you feel it</span> <span data-start="1024.88" data-end="1026.89">like crazy especially with your finger</span> <span data-start="1026.89" data-end="1030.73">on a touchscreen device all right so</span> <span data-start="1030.73" data-end="1032.579">some things you can do to minimize that</span> <span data-start="1032.579" data-end="1035.939">bind your event listeners low in the Dom</span> <span data-start="1035.939" data-end="1038.98">this basically means don't use event</span> <span data-start="1038.98" data-end="1042.549">delegation for touchstart don't use</span> <span data-start="1042.549" data-end="1048.75">event delegation yeah for touch sign</span> <span data-start="1048.75" data-end="1052.419">browsers aren't smart enough to know oh</span> <span data-start="1052.419" data-end="1053.95">yeah he's using an event delegation to</span> <span data-start="1053.95" data-end="1055.45">really just watch this one selector</span> <span data-start="1055.45" data-end="1057.01">that's bound down here it's going to</span> <span data-start="1057.01" data-end="1057.99">like have 2x</span> <span data-start="1057.99" data-end="1061.41">the entire handler because you set the</span> <span data-start="1061.41" data-end="1063.809">hit region of that handler on everything</span> <span data-start="1063.809" data-end="1065.79">so it's going to it's going to execute</span> <span data-start="1065.79" data-end="1067.97">that before it gets to anything else</span> <span data-start="1067.97" data-end="1071.4">bind late so like don't have handlers</span> <span data-start="1071.4" data-end="1073.92">set up for non visible objects browser</span> <span data-start="1073.92" data-end="1075.24">is not always that smart figuring out</span> <span data-start="1075.24" data-end="1077.429">that that element is not visible so I</span> <span data-start="1077.429" data-end="1079.07">might have to start executing it anyways</span> <span data-start="1079.07" data-end="1082.41">if the visible if you know that the</span> <span data-start="1082.41" data-end="1084.15">element is gone outside of the viewport</span> <span data-start="1084.15" data-end="1087.9">kill the handler and speed up in the</span> <span data-start="1087.9" data-end="1091.35">handlers you've got you want to minimize</span> <span data-start="1091.35" data-end="1093.75">that input latency to be really really</span> <span data-start="1093.75" data-end="1098.27">tiny so kind of in summary for this is</span> <span data-start="1098.27" data-end="1101.22">just avoid JavaScript handlers for</span> <span data-start="1101.22" data-end="1103.02">scroll and touch as much as you can</span> <span data-start="1103.02" data-end="1104.97">because they just affect the user</span> <span data-start="1104.97" data-end="1107.45">experience incredibly if you can't</span> <span data-start="1107.45" data-end="1109.92">profile them and make them tiny as</span> <span data-start="1109.92" data-end="1111.8">possible you know those annoying</span> </p>
<p><span data-start="1111.8" data-end="1115.62">JavaScript micro optimizations that are</span> <span data-start="1115.62" data-end="1118.26">annoying this is actually a time when it</span> <span data-start="1118.26" data-end="1120.54">might make sense to start applying them</span> <span data-start="1120.54" data-end="1122.85">because it's really citizens between a</span> <span data-start="1122.85" data-end="1125.309">user touching something with their</span> <span data-start="1125.309" data-end="1127.17">finger and then seeing that something</span> <span data-start="1127.17" data-end="1132.78">update all right so then the question is</span> <span data-start="1132.78" data-end="1135.15">is it possible to avoid JavaScript</span> <span data-start="1135.15" data-end="1138.78">completely for parallax because we've</span> <span data-start="1138.78" data-end="1141.62">never really had that before and luckily</span> <span data-start="1141.62" data-end="1145.77">there is now this is a technique that I</span> <span data-start="1145.77" data-end="1147.929">became familiar with through actually</span> <span data-start="1147.929" data-end="1149.7">the chromium bug tracker but Scott</span> <span data-start="1149.7" data-end="1151.32">kellam is a great guys and he's in</span> </p>
<p><span data-start="1151.32" data-end="1153.57">Brooklyn does a lot of great work with</span> <span data-start="1153.57" data-end="1155.1">SAS he came up with us a while ago and</span> <span data-start="1155.1" data-end="1156.47">he's actually building on some research</span> <span data-start="1156.47" data-end="1161.429">from Keith Keith Clark Keith Clark over</span> <span data-start="1161.429" data-end="1167.15">in the UK someone let me open this up so</span> <span data-start="1167.15" data-end="1172.52">here's basically a bunch of kiddies and</span> <span data-start="1172.52" data-end="1176.61">well it's just parallax right but let me</span> <span data-start="1176.61" data-end="1182.58">kind of compare this with what we were</span> <span data-start="1182.58" data-end="1186.84">seeing over in Inception explained this</span> <span data-start="1186.84" data-end="1192.22">loads up</span> <span data-start="1192.23" data-end="1198.93">alright so in Inception explained as I</span> <span data-start="1198.93" data-end="1201.24">scroll like this is the paint store mean</span> </p>
<p><span data-start="1201.24" data-end="1204.66">I'm getting and if I look in a timeline</span> <span data-start="1204.66" data-end="1209.46">as I scroll we're getting frame times</span> <span data-start="1209.46" data-end="1212.94">that are about 150 milliseconds per</span> <span data-start="1212.94" data-end="1216.15">frame there's a lot of work going on now</span> <span data-start="1216.15" data-end="1218.22">I know that this demo is a bit more</span> <span data-start="1218.22" data-end="1221.22">simplistic but the fantastic thing is</span> <span data-start="1221.22" data-end="1223.47">that there's zero paint storming we have</span> <span data-start="1223.47" data-end="1227.01">movement completely here straight up</span> <span data-start="1227.01" data-end="1229.56">parallax movement and no pain storm at</span> <span data-start="1229.56" data-end="1231.96">all we are just you know updating the</span> <span data-start="1231.96" data-end="1236.94">scroll bar and that's about it so this</span> <span data-start="1236.94" data-end="1239.34">is really cool because never has before</span> <span data-start="1239.34" data-end="1241.52">this kind of technique has been evolved</span> <span data-start="1241.52" data-end="1244.26">there's never been a pure CSS wave of</span> <span data-start="1244.26" data-end="1248.76">doing this the technique here is it's</span> <span data-start="1248.76" data-end="1250.8">pretty cool so we'll call this the</span> <span data-start="1250.8" data-end="1253.29">kellam Keith technique we're basically</span> <span data-start="1253.29" data-end="1255.96">taking all of the elements of the page</span> <span data-start="1255.96" data-end="1259.79">and we're putting them into Z layers</span> <span data-start="1259.79" data-end="1263.01">it's using 3d transforms which have</span> <span data-start="1263.01" data-end="1265.8">constructed a technique you know 3d</span> <span data-start="1265.8" data-end="1267.39">transforms comes with a way just as we</span> <span data-start="1267.39" data-end="1270.84">heart of establishing depth and def is</span> <span data-start="1270.84" data-end="1274.22">exactly what we need for parallax so a</span> <span data-start="1274.22" data-end="1277.35">really nice way of seeing this I come</span> <span data-start="1277.35" data-end="1278.19">over here and this is kind of the</span> <span data-start="1278.19" data-end="1280.35">fullscreen example I'm going to open up</span> <span data-start="1280.35" data-end="1282.68">the dev tools and there's a new</span> <span data-start="1282.68" data-end="1285.87">experimental panel over here called</span> <span data-start="1285.87" data-end="1292.23">layers and so we can see my layers</span> <span data-start="1292.23" data-end="1295.2">moving around on the right-hand side but</span> <span data-start="1295.2" data-end="1298.38">cooler than that I can also kind of tilt</span> <span data-start="1298.38" data-end="1301.92">it and we can see the depth of them as</span> <span data-start="1301.92" data-end="1304.53">they kind of move around so we are</span> <span data-start="1304.53" data-end="1306.93">literally actually moving these in 3d</span> <span data-start="1306.93" data-end="1310.26">space and we're locking the viewport of</span> <span data-start="1310.26" data-end="1312.21">the browser to a particular perspective</span> <span data-start="1312.21" data-end="1314.07">and moving this around which</span> <span data-start="1314.07" data-end="1317.04">semantically you know feels great</span> <span data-start="1317.04" data-end="1319.23">because it is like exactly the 3d</span> <span data-start="1319.23" data-end="1321.42">experience that we are trying to</span> <span data-start="1321.42" data-end="1322.68">give to the user and now we've actually</span> <span data-start="1322.68" data-end="1324.54">constructed it in 3d space inside the</span> <span data-start="1324.54" data-end="1329.88">browser so it's pretty cool I want to</span> <span data-start="1329.88" data-end="1332.4">show a few more things just taking a few</span> <span data-start="1332.4" data-end="1334.2">sites that have done these sorts of</span> <span data-start="1334.2" data-end="1335.4">techniques and see if we can make them a</span> <span data-start="1335.4" data-end="1339.24">little bit better the first is this</span> <span data-start="1339.24" data-end="1340.89">great kind of interactive experience</span> <span data-start="1340.89" data-end="1342.27">that the New York Times put together a</span> <span data-start="1342.27" data-end="1345.15">little bit ago so it's tomato can blues</span> <span data-start="1345.15" data-end="1349.11">and as I scroll down this page we have</span> <span data-start="1349.11" data-end="1352.4">these kind of guys that that's scroll by</span> <span data-start="1352.4" data-end="1355.53">but as I kind of scroll this by like</span> <span data-start="1355.53" data-end="1357.33">like up here it's smooth right like this</span> <span data-start="1357.33" data-end="1360.06">feels fine and then I come down as I did</span> <span data-start="1360.06" data-end="1362.7">you did you did you do and it's like</span> <span data-start="1362.7" data-end="1365.67">like I'm just going my fingers but it</span> <span data-start="1365.67" data-end="1368.72">just like juggs as these are moving out</span> <span data-start="1368.72" data-end="1371.99">so let's look and see what's happening</span> <span data-start="1371.99" data-end="1375.87">all right I come in I'll inspect element</span> <span data-start="1375.87" data-end="1379.68">and as I scroll we're looking over in</span> <span data-start="1379.68" data-end="1381.03">the elements and we see some things</span> <span data-start="1381.03" data-end="1385.02">updating and it looks like we have a top</span> <span data-start="1385.02" data-end="1387.42">and a and a transform scale that's</span> <span data-start="1387.42" data-end="1391.11">actually changing so what someone's</span> <span data-start="1391.11" data-end="1395.56">guess at something that is wrong here</span> <span data-start="1395.57" data-end="1400.29">yeah just do the transform we kind of if</span> <span data-start="1400.29" data-end="1403.59">we avoid the top completely the browser</span> <span data-start="1403.59" data-end="1405.24">is probably going to be able to make</span> <span data-start="1405.24" data-end="1407.4">this a little bit better so what I did</span> <span data-start="1407.4" data-end="1410.55">is this is using the scroller library</span> <span data-start="1410.55" data-end="1414.66">which is pretty good and what I did is I</span> <span data-start="1414.66" data-end="1417.39">went in and I just made my own copy of</span> <span data-start="1417.39" data-end="1421.95">this page and in it this is kind of a</span> <span data-start="1421.95" data-end="1424.5">mess I basically temporarily said let's</span> <span data-start="1424.5" data-end="1426.33">just take out the top let's transform</span> <span data-start="1426.33" data-end="1429.62">only lets manipulate only the transforms</span> <span data-start="1429.62" data-end="1434.79">here is my yeah forget it this too hard</span> <span data-start="1434.79" data-end="1438.21">to read we said let's do only the</span> <span data-start="1438.21" data-end="1443.28">transforms I'll take that away and come</span> <span data-start="1443.28" data-end="1445.56">back over here and so this is my updated</span> <span data-start="1445.56" data-end="1448.53">version I just told scroller instead of</span> <span data-start="1448.53" data-end="1450.18">manipulating top and transform at the</span> <span data-start="1450.18" data-end="1451.83">same time just transform it's about it</span> <span data-start="1451.83" data-end="1455.419">and as I scroll down</span> <span data-start="1455.429" data-end="1467.5">yeah before after yeah so I was a quick</span> <span data-start="1467.5" data-end="1470.59">one the next they have here is carousel</span> <span data-start="1470.59" data-end="1472.36">carousels and app recently released by</span> </p>
<p><span data-start="1472.36" data-end="1474.76">Dropbox has this nice kind of experience</span> <span data-start="1474.76" data-end="1478.779">right here pretty good but let's open it</span> <span data-start="1478.779" data-end="1483.82">up and take a look I think that I'm the</span> <span data-start="1483.82" data-end="1484.929">thing that I didn't show in these two</span> <span data-start="1484.929" data-end="1488.44">experiences really is I mean I guess we</span> <span data-start="1488.44" data-end="1490.149">can all see it and feel it but I like to</span> <span data-start="1490.149" data-end="1500.799">show it to if as I scroll the page what</span> <span data-start="1500.799" data-end="1503.649">we want to see oops we're going to see</span> <span data-start="1503.649" data-end="1508.21">on the timeline is yeah so I just</span> <span data-start="1508.21" data-end="1509.919">captured a quick timeline recording</span> <span data-start="1509.919" data-end="1512.399">we're looking at the frame times here</span> <span data-start="1512.399" data-end="1515.61">huge frames going way above our 30 FPS</span> <span data-start="1515.61" data-end="1519.01">threshold compared to the after where it</span> <span data-start="1519.01" data-end="1521.62">is saying really small all the work that</span> <span data-start="1521.62" data-end="1524.23">we're doing is happening far underneath</span> <span data-start="1524.23" data-end="1528.059">60fps so looking over here on carousel</span> <span data-start="1528.059" data-end="1530.59">you can see the entire page is green</span> <span data-start="1530.59" data-end="1532.87">right looks like we're just changing a</span> <span data-start="1532.87" data-end="1535.09">few things on the page but the entire</span> <span data-start="1535.09" data-end="1538.12">page is getting updated for some reason</span> <span data-start="1538.12" data-end="1543.22">if i run a timeline and i scroll you can</span> <span data-start="1543.22" data-end="1545.59">see it's doing a lot of work so like any</span> <span data-start="1545.59" data-end="1547.36">device that is a little bit weaker than</span> <span data-start="1547.36" data-end="1550.09">mine is going to be running this much</span> <span data-start="1550.09" data-end="1554.11">lower I'm running it at 20 to 30 fps and</span> <span data-start="1554.11" data-end="1556.809">any other machine would be a slower</span> <span data-start="1556.809" data-end="1558.63">machine we've been running it much lower</span> <span data-start="1558.63" data-end="1561.61">so let's see if we can fix this I'm</span> <span data-start="1561.61" data-end="1563.83">going to open up elements and I want to</span> <span data-start="1563.83" data-end="1565.149">basically get an understanding of why</span> <span data-start="1565.149" data-end="1567.58">how these are being changed so i'll just</span> <span data-start="1567.58" data-end="1570.73">select it and so it looks like we have</span> <span data-start="1570.73" data-end="1572.71">just the transform is being updated okay</span> <span data-start="1572.71" data-end="1574.72">that's cool so here we don't have that</span> <span data-start="1574.72" data-end="1576.73">problem of top being manipulated it's</span> <span data-start="1576.73" data-end="1579.85">all just transforms let's figure out</span> <span data-start="1579.85" data-end="1582.399">where it's being manipulated I'm going</span> <span data-start="1582.399" data-end="1587.16">to break on attribute modifications</span> <span data-start="1587.16" data-end="1590.61">sizes are shaking but when we say bagon</span> <span data-start="1590.61" data-end="1592.62">that rebuke modifications a great bonus</span> <span data-start="1592.62" data-end="1595.47">here is that it will break in the</span> </p>
<p><span data-start="1595.47" data-end="1597.63">JavaScript where the inline style is</span> <span data-start="1597.63" data-end="1600.99">being changed so let's drop that in and</span> <span data-start="1600.99" data-end="1608.97">I'll scroll again and cool so now we're</span> <span data-start="1608.97" data-end="1612.12">broken inside of the minified jquery but</span> <span data-start="1612.12" data-end="1613.83">our call stack is telling us a little</span> <span data-start="1613.83" data-end="1617.61">bit more coming down we have jQuery</span> <span data-start="1617.61" data-end="1620.22">jQuery jQuery and then this looks like</span> <span data-start="1620.22" data-end="1624.66">actual application code animates step we</span> <span data-start="1624.66" data-end="1626.25">look in here and it looks like this is</span> <span data-start="1626.25" data-end="1627.54">where it constructs the transform</span> <span data-start="1627.54" data-end="1630.57">adjustment and so what I'm going to try</span> <span data-start="1630.57" data-end="1634.86">out is let's just add a translate Z into</span> <span data-start="1634.86" data-end="1637.26">this what this is going to do is say hey</span> <span data-start="1637.26" data-end="1639.24">we are animating all these things with</span> <span data-start="1639.24" data-end="1641.18">transforms I want to operate them as</span> <span data-start="1641.18" data-end="1645.99">individual layers on the page I'm just</span> <span data-start="1645.99" data-end="1647.94">going to change that JavaScript I hit</span> <span data-start="1647.94" data-end="1651.39">command s and my console tells me</span> <span data-start="1651.39" data-end="1653.76">recompilation update succeeded so I just</span> <span data-start="1653.76" data-end="1656.79">updated that JavaScript I'm going to</span> <span data-start="1656.79" data-end="1659.79">come out of the breakpoint just is just</span> <span data-start="1659.79" data-end="1665.07">going to continuous and now as I scroll</span> </p>
<p><span data-start="1665.07" data-end="1667.28">I'm going to hit my break point again</span> <span data-start="1667.28" data-end="1676.77">good and there we go cool so here if I</span> <span data-start="1676.77" data-end="1682.05">take I'll open up the unmodified example</span> <span data-start="1682.05" data-end="1688.58">right next to this here is the before</span> <span data-start="1688.58" data-end="1700.76">think yep before and timeline the after</span> <span data-start="1700.76" data-end="1704.91">so yeah it's not so bad a lot less</span> <span data-start="1704.91" data-end="1707.28">working them the next thing that I could</span> <span data-start="1707.28" data-end="1709.77">do actually is because translate Z is</span> <span data-start="1709.77" data-end="1712.38">kind of on its way out as a hack a</span> <span data-start="1712.38" data-end="1715.14">better thing to heed we could do is just</span> <span data-start="1715.14" data-end="1717.36">straight up views will change so i'll do</span> <span data-start="1717.36" data-end="1719.11">that now</span> <span data-start="1719.11" data-end="1725.64">something like this thing will change</span> <span data-start="1725.64" data-end="1728.53">and then we basically say what we're</span> <span data-start="1728.53" data-end="1730.75">going to change we are going to change</span> <span data-start="1730.75" data-end="1734.47">the transform of this element will hit</span> <span data-start="1734.47" data-end="1738.67">command us update that and well it's</span> <span data-start="1738.67" data-end="1742">basically the same but that's that's the</span> <span data-start="1742" data-end="1745.33">kind of effect that we want so we're</span> <span data-start="1745.33" data-end="1747.73">looking good here as far as a few</span> <span data-start="1747.73" data-end="1751.419">library recommendations scroller and</span> <span data-start="1751.419" data-end="1754.75">stellar scroller is probably the most</span> <span data-start="1754.75" data-end="1757.179">popular and the author has put a lot of</span> <span data-start="1757.179" data-end="1759.85">good work into it stellar is from a</span> <span data-start="1759.85" data-end="1762.82">developer outside of Melbourne they're</span> <span data-start="1762.82" data-end="1765.19">both great they're not very well suited</span> <span data-start="1765.19" data-end="1768.429">for mobile work but they do a good job</span> <span data-start="1768.429" data-end="1771.16">being as perform as possible on on</span> <span data-start="1771.16" data-end="1775.39">desktop for mobile for mobile only</span> <span data-start="1775.39" data-end="1779.169">things i would recommend the Kalam Keith</span> <span data-start="1779.169" data-end="1780.87">technique that we looked at earlier</span> <span data-start="1780.87" data-end="1783.52">which does a great job the other</span> <span data-start="1783.52" data-end="1786.1">question is like dude should you provide</span> <span data-start="1786.1" data-end="1787.54">a parallax experience on mobile I would</span> <span data-start="1787.54" data-end="1789.94">probably recommend that you likely don't</span> <span data-start="1789.94" data-end="1793.03">need to hit it enhances the desktop</span> <span data-start="1793.03" data-end="1794.14">experience and you could probably just</span> <span data-start="1794.14" data-end="1796.26">kill it from mobile so to sum up</span> <span data-start="1796.26" data-end="1799.35">browsers can hit a bath bath and</span> <span data-start="1799.35" data-end="1802.059">optimizing these animations if they are</span> <span data-start="1802.059" data-end="1804.16">just set up declare declaratively and</span> </p>
<p><span data-start="1804.16" data-end="1806.5">CSS the fastest thing you can be</span> <span data-start="1806.5" data-end="1808.39">animated it's transform and opacity you</span> <span data-start="1808.39" data-end="1811.929">might need to layer promote so watch out</span> <span data-start="1811.929" data-end="1814.299">for that try it see if it changes if it</span> <span data-start="1814.299" data-end="1817.15">doesn't change don't leave it you can if</span> <span data-start="1817.15" data-end="1819.88">you just promote everything it consumes</span> <span data-start="1819.88" data-end="1821.65">a lot of GPU memory and that will either</span> <span data-start="1821.65" data-end="1824.559">crash a browser or just make everything</span> <span data-start="1824.559" data-end="1830.14">really really slow so a good guideline</span> <span data-start="1830.14" data-end="1833.32">for that is don't have more than 30 to</span> <span data-start="1833.32" data-end="1836.62">40 layers on mobile and try not to use</span> </p>
<p><span data-start="1836.62" data-end="1839.08">JavaScript but if you do make it as lean</span> <span data-start="1839.08" data-end="1842.91">and mean as possible a few techniques</span> <span data-start="1842.91" data-end="1845.71">for keeping your JavaScript fast is</span> <span data-start="1845.71" data-end="1848.02">using requestanimationframe minimizing</span> <span data-start="1848.02" data-end="1852.369">only the elements manipulated</span> <span data-start="1852.369" data-end="1856.549">this not doing what this site did this</span> <span data-start="1856.549" data-end="1859.34">is like kind of the classic one this</span> <span data-start="1859.34" data-end="1862.789">blow up a few years ago and they did a</span> <span data-start="1862.789" data-end="1876.769">really nice job come on come on what the</span> <span data-start="1876.769" data-end="1880.759">site decided to do was as you scroll</span> <span data-start="1880.759" data-end="1882.83">down there kind of moving elements</span> <span data-start="1882.83" data-end="1884.899">around and they literally update the top</span> <span data-start="1884.899" data-end="1887.419">and left property for every element in</span> <span data-start="1887.419" data-end="1890.33">the Dom as you scroll so basically the</span> <span data-start="1890.33" data-end="1892.279">viewport the user viewport stays fixed</span> <span data-start="1892.279" data-end="1893.84">and they are just moving the entire</span> <span data-start="1893.84" data-end="1897.529">document with left and top as you as you</span> <span data-start="1897.529" data-end="1901.639">move your mouse all right and minimize</span> <span data-start="1901.639" data-end="1903.139">your hand lacoste and that's it for me</span> </p>
<p><span data-start="1903.139" data-end="1904.639">I'm going to wrap up and let's get on to</span> <span data-start="1904.639" data-end="1906.529">Jen so I'm excited thank you guys very</span> <span data-start="1906.529" data-end="1913.149">much</span> </p>
</section>