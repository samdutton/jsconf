<section>
<p><span data-start="37.86" data-end="42.58">I'm Dan Sylvester and there is Lord and</span> <span data-start="42.58" data-end="44.74">he'll join the talk shortly so we're</span> <span data-start="44.74" data-end="46.3">here to talk about it was the original</span> <span data-start="46.3" data-end="49.9">title was distributed parallel computing</span> <span data-start="49.9" data-end="51.91">of a multi machines and multicores in</span> <span data-start="51.91" data-end="54.01">javascript using node but i couldn't fit</span> <span data-start="54.01" data-end="55.6">it on the slide 8 so any or so i'm</span> <span data-start="55.6" data-end="58.18">assuming that you guys are here because</span> <span data-start="58.18" data-end="60.45">you know computering is the card and</span> <span data-start="60.45" data-end="62.829">we're getting to this point where we've</span> <span data-start="62.829" data-end="66.25">lost the ability to you know just saying</span> <span data-start="66.25" data-end="67.81">oh well my cpu is just getting faster</span> <span data-start="67.81" data-end="69.58">and faster and faster so it's becoming</span> <span data-start="69.58" data-end="71.17">more of a parallel processing world out</span> <span data-start="71.17" data-end="75.37">there and so before we jumped it out who</span> <span data-start="75.37" data-end="77.47">we are and this isn't really a plug but</span> </p>
<p><span data-start="77.47" data-end="79.57">Gordon are both from a bit hound we're</span> <span data-start="79.57" data-end="80.799">sponsoring here comes out with us</span> <span data-start="80.799" data-end="83.02">afterwards you can follow us on twitter</span> <span data-start="83.02" data-end="86.68">confuse minh and gore tanner and you</span> <span data-start="86.68" data-end="89.229">might know us better from our cosmonaut</span> <span data-start="89.229" data-end="91.15">survival kits that we've told out and i</span> <span data-start="91.15" data-end="92.799">keep hearing the little lasers go off so</span> <span data-start="92.799" data-end="97.299">thanks so what do we do and this isn't</span> <span data-start="97.299" data-end="99.07">again a plug for a company but this is</span> <span data-start="99.07" data-end="100.63">why we're here talking about distributed</span> <span data-start="100.63" data-end="102.58">computing we are here to help you write</span> <span data-start="102.58" data-end="104.77">better code but to do that we have to</span> <span data-start="104.77" data-end="107.229">analyze all of your repositories and all</span> <span data-start="107.229" data-end="110.619">of the code in them and that is a lot of</span> <span data-start="110.619" data-end="113.049">work that needs to be done right so kind</span> <span data-start="113.049" data-end="115.54">of a typical problem you want to run</span> <span data-start="115.54" data-end="118.03">lint you have something that's never run</span> <span data-start="118.03" data-end="119.71">length before and this is an actual case</span> </p>
<p><span data-start="119.71" data-end="122.95">I just I won't name the project 73-68</span> <span data-start="122.95" data-end="124.299">right that's how many lint or through</span> <span data-start="124.299" data-end="126.07">and it took 29 seconds to run this now</span> <span data-start="126.07" data-end="128.649">if we want to run this over another</span> <span data-start="128.649" data-end="131.739">thousand commits and we have multiple</span> <span data-start="131.739" data-end="133.689">multiple critics or analyzers that we</span> <span data-start="133.689" data-end="135.4">run this becomes</span> <span data-start="135.4" data-end="137.079">quite onerous and you know some of this</span> <span data-start="137.079" data-end="138.43">processing if you were to do it</span> <span data-start="138.43" data-end="140.739">sequentially will take two three four</span> <span data-start="140.739" data-end="144.189">hours and you know waiting sucks and we</span> <span data-start="144.189" data-end="148.269">hate it we're on patient people but we</span> <span data-start="148.269" data-end="149.799">have a bit of a challenge in javascript</span> <span data-start="149.799" data-end="151.079">in that you know we're single threaded</span> <span data-start="151.079" data-end="156.129">so how do you go about processing many</span> <span data-start="156.129" data-end="159.04">many many things and still you know</span> <span data-start="159.04" data-end="161.17">making things performing well so there's</span> <span data-start="161.17" data-end="163.599">the cluster if you i know'd anyone we</span> <span data-start="163.599" data-end="166.51">use cluster at all okay that's pretty</span> <span data-start="166.51" data-end="168.129">cool there's a little bit of overhead</span> <span data-start="168.129" data-end="169.889">but it's kind of nifty kids essentially</span> <span data-start="169.889" data-end="175.209">it's you know the profs calda exactly</span> <span data-start="175.209" data-end="176.68">and it just allows you to spawn</span> <span data-start="176.68" data-end="179.29">processes and can take advantage of all</span> <span data-start="179.29" data-end="182.409">the cores on that one machine and that's</span> <span data-start="182.409" data-end="185.26">nice but that means you just have to buy</span> <span data-start="185.26" data-end="186.7">bigger and bigger and bigger servers</span> <span data-start="186.7" data-end="188.17">that have more and more cores and they</span> <span data-start="188.17" data-end="189.879">cost a lot of money and you know for</span> <span data-start="189.879" data-end="192.67">startups that gets expensive so to the</span> <span data-start="192.67" data-end="194.92">cloud all right let's let's go out there</span> <span data-start="194.92" data-end="196.78">and and use a whole bunch of different</span> <span data-start="196.78" data-end="199.98">machines and max all of those out and</span> <span data-start="199.98" data-end="202.599">see if we can get performance to</span> <span data-start="202.599" data-end="208.209">increase and go better and so that's</span> <span data-start="208.209" data-end="210.879">kind of what we do and this is where is</span> <span data-start="210.879" data-end="214.06">your cue comes in as anyone used is your</span> <span data-start="214.06" data-end="217.54">omq oh awesome cool if you have that</span> <span data-start="217.54" data-end="218.889">installed on your laptop's by the way</span> <span data-start="218.889" data-end="220.799">you could actually joined a demo later</span> <span data-start="220.799" data-end="223.959">so I you know I read the description the</span> <span data-start="223.959" data-end="226.12">first time I saw cmq it's like looks</span> <span data-start="226.12" data-end="228.4">like an embeddable networking library</span> <span data-start="228.4" data-end="230.169">about acts like a concurrency framework</span> <span data-start="230.169" data-end="232.599">wow that's a whole lot of buzz words and</span> </p>
<p><span data-start="232.599" data-end="234.31">I don't know what any of this means so</span> <span data-start="234.31" data-end="236.019">we started kind of looking into a deeper</span> <span data-start="236.019" data-end="238.78">so this is totally legit this is off of</span> <span data-start="238.78" data-end="241.51">their manual so you basically take TCP</span> <span data-start="241.51" data-end="243.78">sockets you add some spandex cosmic rays</span> <span data-start="243.78" data-end="247.299">illegal radioscope or yeah radioisotopes</span> <span data-start="247.299" data-end="249.849">from secret soviet atomic city and then</span> <span data-start="249.849" data-end="252.34">that all of that stuff together and you</span> <span data-start="252.34" data-end="255.129">end up with zero and few sockets and</span> <span data-start="255.129" data-end="259.359">really awesome things so essentially the</span> <span data-start="259.359" data-end="261.07">sucks you know the carrier atomic</span> <span data-start="261.07" data-end="264.61">messages across multiple transports like</span> <span data-start="264.61" data-end="266.38">that's kind of a key here for us as well</span> <span data-start="266.38" data-end="267.82">so you can do it in process</span> <span data-start="267.82" data-end="269.26">inter-process tcp</span> <span data-start="269.26" data-end="276.96">multicast and you can connect sockets</span> <span data-start="276.96" data-end="279.19">well as many of them as you'd like and</span> <span data-start="279.19" data-end="280.81">there's multiple patterns that you can</span> <span data-start="280.81" data-end="283.18">den take advantage of it there's the fan</span> <span data-start="283.18" data-end="285.46">out fan in and I'll talk about that</span> <span data-start="285.46" data-end="288.31">that's part of gorgeous demo we can do</span> <span data-start="288.31" data-end="291.49">pub sub task distribution and then</span> <span data-start="291.49" data-end="294.37">obviously the standard a kind of request</span> <span data-start="294.37" data-end="297.91">response and of course we apply and this</span> <span data-start="297.91" data-end="300.91">is kind of the you know simple I've got</span> <span data-start="300.91" data-end="302.32">some tasks to be done I'm going to send</span> <span data-start="302.32" data-end="304.71">it out there whoever is out in the cloud</span> <span data-start="304.71" data-end="307.06">that's available to do the work we'll</span> <span data-start="307.06" data-end="308.65">just pick it up do what they need to do</span> <span data-start="308.65" data-end="313.39">and come back the pub sub I'm sure all</span> <span data-start="313.39" data-end="315.22">of you are familiar with it within bit</span> <span data-start="315.22" data-end="318.13">hound we use that mainly for all of our</span> <span data-start="318.13" data-end="319.84">stats so we've got all of these</span> <span data-start="319.84" data-end="321.91">distributed nodes you know doing work or</span> <span data-start="321.91" data-end="323.98">being idle or whatever and we want to</span> <span data-start="323.98" data-end="325.87">understand you know what our performance</span> <span data-start="325.87" data-end="327.07">is at the various oh so they all just</span> <span data-start="327.07" data-end="328.96">publish their stats and we've kind of</span> <span data-start="328.96" data-end="330.19">segregated that sits there and listens</span> <span data-start="330.19" data-end="333.79">and you know provide us with our with</span> <span data-start="333.79" data-end="336.43">our stats tooling but this is really</span> <span data-start="336.43" data-end="341.32">where all of our work comes in and this</span> <span data-start="341.32" data-end="343.3">is the fan out and then fan back in so</span> <span data-start="343.3" data-end="346.57">what we do is we have batches of work</span> <span data-start="346.57" data-end="348.01">that need to be done that's so you have</span> <span data-start="348.01" data-end="350.59">a thousand commits that doesn't critics</span> <span data-start="350.59" data-end="354.34">then we need to run we fan those out and</span> <span data-start="354.34" data-end="355.81">you can do that in batches or you can go</span> <span data-start="355.81" data-end="358">to all the once it's up to you we do</span> <span data-start="358" data-end="359.26">ours and batches really to kind of</span> <span data-start="359.26" data-end="362.23">maintain a shallower queue depth so we</span> <span data-start="362.23" data-end="365.14">can better utilize multiple requests for</span> <span data-start="365.14" data-end="368.41">repositories each one of our slaves goes</span> <span data-start="368.41" data-end="370.93">off and does some work and when it's</span> <span data-start="370.93" data-end="372.97">done it kind of response back and we</span> <span data-start="372.97" data-end="375.34">aggregate all of those results and we</span> <span data-start="375.34" data-end="377.43">end up with with what's on our website</span> <span data-start="377.43" data-end="380.38">so that's going to be a quick run</span> <span data-start="380.38" data-end="384.46">through what zeromq is and how we use it</span> <span data-start="384.46" data-end="385.99">and how you can go about doing</span> <span data-start="385.99" data-end="387.25">distributed computing but that was just</span> <span data-start="387.25" data-end="390.04">a theory essentially so we can prep for</span> </p>
<p><span data-start="390.04" data-end="392.62">Gords part of the talk so I've gone six</span> <span data-start="392.62" data-end="395.03">minutes so you have an extra four</span> <span data-start="395.03" data-end="398.48">give you nice of course I've prepped for</span> <span data-start="398.48" data-end="401.75">an extra four minutes um so when dan</span> <span data-start="401.75" data-end="405.59">told me we were doing this talk and said</span> <span data-start="405.59" data-end="407.08">you're doing the code portion of</span> <span data-start="407.08" data-end="409.58">distributed computing in JavaScript I</span> <span data-start="409.58" data-end="412.1">thought this is going to be fun so he's</span> <span data-start="412.1" data-end="413.96">like you just need to come up with a</span> <span data-start="413.96" data-end="416.57">really awesome demo and my mind was</span> <span data-start="416.57" data-end="418.55">racing I was like oh I could do like I</span> <span data-start="418.55" data-end="419.75">don't know like what about Fibonacci</span> <span data-start="419.75" data-end="421.52">that's not controversial in the know</span> <span data-start="421.52" data-end="424.51">community but that would be boring so I</span> <span data-start="424.51" data-end="427.67">racked my mind for a long time running</span> <span data-start="427.67" data-end="429.98">different things in it actually the idea</span> <span data-start="429.98" data-end="432.89">for my demo kind of came from a ride</span> <span data-start="432.89" data-end="435.11">with my daughter taking her back from</span> <span data-start="435.11" data-end="437.15">school she was sitting in the back and</span> <span data-start="437.15" data-end="438.86">kind of little conversation is a good</span> <span data-start="438.86" data-end="441.08">time to catch up with your kids and she</span> <span data-start="441.08" data-end="443.9">just randomly asked me daddy how many</span> <span data-start="443.9" data-end="448.88">letters are in 10 and being a incredibly</span> <span data-start="448.88" data-end="454.46">common question I said 3y and so she</span> <span data-start="454.46" data-end="456.5">sits back there and she goes well well</span> <span data-start="456.5" data-end="461.51">if Penn has three letters and three has</span> <span data-start="461.51" data-end="464.6">five letters and then we worked it out</span> <span data-start="464.6" data-end="467.54">okay well five has four letters and four</span> <span data-start="467.54" data-end="472.37">has four letters that works and I was</span> <span data-start="472.37" data-end="476">thinking this is odd so</span> <span data-start="476" data-end="478.4">we we worked we worked out a few more</span> <span data-start="478.4" data-end="479.99">numbers and she's like almost another</span> <span data-start="479.99" data-end="481.67">number i'm like i don't know like 13</span> <span data-start="481.67" data-end="483.8">he's like oh that's a lot of letters and</span> <span data-start="483.8" data-end="486.32">we worked through it and back and forth</span> <span data-start="486.32" data-end="488.03">and they everything kept reducing down</span> <span data-start="488.03" data-end="493.4">to four and this was such a amazing</span> <span data-start="493.4" data-end="497.45">experience like I I had to take a</span> <span data-start="497.45" data-end="498.92">picture of it because it was this</span> <span data-start="498.92" data-end="500.84">serendipitous exchange between me and my</span> <span data-start="500.84" data-end="502.46">daughter where I'm saying they're</span> <span data-start="502.46" data-end="504.47">thinking I have to have a compelling</span> <span data-start="504.47" data-end="506.63">awesome example for distributed</span> <span data-start="506.63" data-end="508.91">processing and here's my daughter</span> <span data-start="508.91" data-end="511.61">sitting in the back doing word games and</span> <span data-start="511.61" data-end="514.46">number games with me so that that is</span> <span data-start="514.46" data-end="516.89">actually my face my mind was blown that</span> <span data-start="516.89" data-end="521.77">that this happened so the key is</span> <span data-start="521.77" data-end="528.5">everything can be reduced to four I'm</span> <span data-start="528.5" data-end="530.9">not I'm not one to preach a religion</span> <span data-start="530.9" data-end="535.91">ought to you but just so you know there</span> <span data-start="535.91" data-end="538.58">is a real livered religion saw on urban</span> <span data-start="538.58" data-end="543.41">dictionary so it's legit called for ism</span> <span data-start="543.41" data-end="546.23">it's a religion based solely on the</span> <span data-start="546.23" data-end="549.86">worship of the ever cool for often</span> <span data-start="549.86" data-end="552.68">involving telling tales and giving of</span> <span data-start="552.68" data-end="555.29">muffins but we're a start-up so you can</span> <span data-start="555.29" data-end="559.49">buy your own muffins so I decided you</span> <span data-start="559.49" data-end="562.22">know what I'm going to create an NPM</span> <span data-start="562.22" data-end="566.87">module called for ism I I created it</span> <span data-start="566.87" data-end="570.14">kind of last week somehow 34 people</span> <span data-start="570.14" data-end="573.26">download it today with without me even</span> <span data-start="573.26" data-end="578.18">telling you about it so kudos I have no</span> <span data-start="578.18" data-end="580.03">idea how people are downloading that but</span> <span data-start="580.03" data-end="583.1">so this is the official launch of for</span> <span data-start="583.1" data-end="586.52">ism for this talk only and don't ever</span> <span data-start="586.52" data-end="589.22">use it so for those of you who know</span> <span data-start="589.22" data-end="591.14">about 0 and Q if you do have the zeromq</span> <span data-start="591.14" data-end="594.47">libs installed you can easily npm</span> <span data-start="594.47" data-end="596.69">install for ism and you can participate</span> <span data-start="596.69" data-end="600.08">in this demo it's also codes on G Tanner</span> <span data-start="600.08" data-end="602.99">for ism not that you really want to look</span> <span data-start="602.99" data-end="606.38">at that but give you a quick idea of</span> <span data-start="606.38" data-end="608.089">this summer's going to be this bigger</span> <span data-start="608.089" data-end="609.7">because</span> <span data-start="609.7" data-end="616.76">my eyes are old so I need to create a</span> <span data-start="616.76" data-end="621.25">couple a couple small modules so first I</span> <span data-start="621.25" data-end="624.89">need to create a module to like take a</span> <span data-start="624.89" data-end="628.55">number and were to fly it which is a new</span> <span data-start="628.55" data-end="635.03">word for me so we'll start here and</span> <span data-start="635.03" data-end="641.99">let's take ten and that returns me lo</span> <span data-start="641.99" data-end="646.1">and behold 10 and because the word the</span> <span data-start="646.1" data-end="648.05">number four is the greatest for you will</span> <span data-start="648.05" data-end="654.68">notice that it also returns for but it</span> <span data-start="654.68" data-end="656.48">works up to like really crazy big</span> <span data-start="656.48" data-end="661.58">numbers 10 trillion 43 billion 252</span> <span data-start="661.58" data-end="667.88">million 350 2356 so that was a fun</span> <span data-start="667.88" data-end="669.38">module I didn't really write that so I</span> <span data-start="669.38" data-end="671.63">can't take much credit I grabbed it off</span> <span data-start="671.63" data-end="673.16">a blog post somewhere that's the wrong</span> <span data-start="673.16" data-end="677.21">module oh that could have been bad I'm</span> <span data-start="677.21" data-end="679.97">yeah so Andrew Hoyer if you're here</span> <span data-start="679.97" data-end="682.19">thank you I didn't have to write that</span> <span data-start="682.19" data-end="685.07">but it's a really really fugly looking</span> <span data-start="685.07" data-end="687.2">code that that does that for me so we</span> <span data-start="687.2" data-end="691.55">won't look at that ever again so also we</span> <span data-start="691.55" data-end="693.83">needed to do the little game my daughter</span> <span data-start="693.83" data-end="696.95">played and little that I realized that</span> <span data-start="696.95" data-end="699.5">she was a prophet in this new religion</span> <span data-start="699.5" data-end="702.82">that we're going to talk about</span> <span data-start="702.82" data-end="705.68">enlightening us all so we can take our</span> <span data-start="705.68" data-end="711.8">example 10 I'll pass the word 10 to four</span> <span data-start="711.8" data-end="719.11">ism and will log that and it returns for</span> <span data-start="719.12" data-end="721.13">now I know some of your kind of like</span> <span data-start="721.13" data-end="723.35">what so I'm just like you're just kind</span> <span data-start="723.35" data-end="725.75">of like huh so if I this kind of passing</span> <span data-start="725.75" data-end="728.75">huh it'll expand out and we'll see a</span> <span data-start="728.75" data-end="730.88">little exchange ahead where 10 has three</span> <span data-start="730.88" data-end="733.94">letters three has 55 has four and four</span> <span data-start="733.94" data-end="737.51">has four and of course I wanted to play</span> <span data-start="737.51" data-end="739.279">around as like all cool like let's do</span> <span data-start="739.279" data-end="742.61">that awesome like 13 example it's also</span> <span data-start="742.61" data-end="746.72">for weird now I was playing around with</span> <span data-start="746.72" data-end="748.339">this and I notice that there's there's</span> <span data-start="748.339" data-end="750.23">some ones that take a little longer like</span> <span data-start="750.23" data-end="756.86">one two three which could be also for so</span> <span data-start="756.86" data-end="761.6">if i run node talk so this this example</span> <span data-start="761.6" data-end="764.54">is really interesting where 23 has 11</span> <span data-start="764.54" data-end="770.45">letters 11 at 66 has 33 has 55 has 4 and</span> <span data-start="770.45" data-end="777.11">4 has for those seven steps and seven is</span> <span data-start="777.11" data-end="781.96">really close to four it all relates</span> <span data-start="781.96" data-end="786.86">because if i took if i took seven that</span> <span data-start="786.86" data-end="790.88">took three steps and if i took three we</span> <span data-start="790.88" data-end="793.49">all know that three I should save the</span> <span data-start="793.49" data-end="796.49">file three took three steps whatever I</span> <span data-start="796.49" data-end="797.66">thought it'd be funny I did actually</span> <span data-start="797.66" data-end="801.2">prepare that so that's cool it's not</span> <span data-start="801.2" data-end="802.31">really a distributed but it takes a</span> <span data-start="802.31" data-end="803.72">little time and I'm like okay I want to</span> </p>
<p><span data-start="803.72" data-end="807.97">I want to like four fly all the numbers</span> <span data-start="807.97" data-end="813.17">so starting off I made this little</span> <span data-start="813.17" data-end="814.61">program it's really not not a whole lot</span> <span data-start="814.61" data-end="816.709">so I were to fly I'm 80 utils just to</span> <span data-start="816.709" data-end="819.62">like log log the results so I'll keep</span> <span data-start="819.62" data-end="822.56">track of my counts for one to a million</span> <span data-start="822.56" data-end="825.85">I'm going to for ism were defy the X</span> <span data-start="825.85" data-end="830.8">keep track of the turns and this node</span> <span data-start="830.8" data-end="837.85">sample and there was light thank you for</span> <span data-start="837.85" data-end="844.769">so that took about four seconds</span> <span data-start="844.779" data-end="847.69">so obviously this is going to take a</span> <span data-start="847.69" data-end="851.63">long time oh my gosh I am probably going</span> <span data-start="851.63" data-end="854.389">to hell for this talk it took a little</span> <span data-start="854.389" data-end="855.56">time and I was like just going to take a</span> <span data-start="855.56" data-end="856.82">while and this is a distributed</span> <span data-start="856.82" data-end="859.49">computing talk so let's kind of go let's</span> <span data-start="859.49" data-end="861.079">do this first thing and we all played</span> <span data-start="861.079" data-end="863.06">with cluster before so I took the same</span> <span data-start="863.06" data-end="866.3">code you'll basically kind of see right</span> <span data-start="866.3" data-end="869.449">here but word of Phi for ism counted</span> <span data-start="869.449" data-end="871.339">pretty much the same code except I'm</span> <span data-start="871.339" data-end="873.139">just grabbing the start and end from the</span> <span data-start="873.139" data-end="876.709">process environments and then when I'm</span> <span data-start="876.709" data-end="879.589">done I send it back on process so if if</span> <span data-start="879.589" data-end="882.139">your clusters you have a blaster and he</span> <span data-start="882.139" data-end="884.75">delegates to his slaves so I have a</span> <span data-start="884.75" data-end="886.699">little send function where I just kind</span> <span data-start="886.699" data-end="890.18">of fork off a new process sitting start</span> <span data-start="890.18" data-end="891.949">and end and when I get the message back</span> </p>
<p><span data-start="891.949" data-end="894.829">I'll call my callback and just to make</span> <span data-start="894.829" data-end="897.589">this easy to do the synchronization i'm</span> <span data-start="897.589" data-end="899.6">using the async library which we all</span> <span data-start="899.6" data-end="901.31">love a bit hound it's an awesome library</span> <span data-start="901.31" data-end="903.709">for doing callback management so I just</span> <span data-start="903.709" data-end="915.26">let's do five million on my I opted for</span> <span data-start="915.26" data-end="920.06">the cheap cpu on my act book air so just</span> <span data-start="920.06" data-end="927.199">wait for it wait obviously when someone</span> <span data-start="927.199" data-end="929.3">hits our website running this this</span> <span data-start="929.3" data-end="933.05">religion 20 seconds a long time to wait</span> <span data-start="933.05" data-end="935.6">for our response you see there's really</span> <span data-start="935.6" data-end="937.1">not a whole lot I can do to optimize</span> <span data-start="937.1" data-end="940.19">this like I could buy a bigger computer</span> <span data-start="940.19" data-end="944.779">but I'm poor but then we're kind of</span> <span data-start="944.779" data-end="946.459">limited to like how many cores we have</span> <span data-start="946.459" data-end="948.89">and we could do distributed kind of like</span> <span data-start="948.89" data-end="950.72">we have like a proxy in front of our</span> <span data-start="950.72" data-end="952.67">like node server and it will like go to</span> <span data-start="952.67" data-end="954.319">each one but i will have state i kind of</span> <span data-start="954.319" data-end="956.149">want to go i want to do when you request</span> <span data-start="956.149" data-end="959.329">like the supreme knowledge of the number</span> <span data-start="959.329" data-end="961.069">for you want to know all the numbers at</span> <span data-start="961.069" data-end="964.25">the same time so that's that's where the</span> <span data-start="964.25" data-end="969.949">true beauty of for ism lies so basically</span> <span data-start="969.949" data-end="971.87">there's a lot of code here just want to</span> <span data-start="971.87" data-end="975.519">make it pretty but at the root of it</span> <span data-start="975.519" data-end="977.18">you'll still see</span> </p>
<p><span data-start="977.18" data-end="981.28">I still have this little thing here so</span> <span data-start="981.28" data-end="984.71">counts loop over here return account</span> <span data-start="984.71" data-end="987.41">size call back and then back on the</span> <span data-start="987.41" data-end="991.4">slides where are we here so all I'm</span> <span data-start="991.4" data-end="994.96">really doing is using the push-pull</span> <span data-start="994.96" data-end="998.96">socket so zeromq sockets have basically</span> <span data-start="998.96" data-end="1001">we're called types and the types are not</span> <span data-start="1001" data-end="1002.38">really what you would think of normal</span> <span data-start="1002.38" data-end="1003.97">socket type a lot of socket libraries</span> <span data-start="1003.97" data-end="1004.99">would be like oh you want your in</span> <span data-start="1004.99" data-end="1008.65">process socket or you're like TCP socket</span> <span data-start="1008.65" data-end="1010.48">your web socket one of the key</span> <span data-start="1010.48" data-end="1012.7">components of zeromq is you kind of a</span> <span data-start="1012.7" data-end="1015.97">sign like message balancing type so you</span> <span data-start="1015.97" data-end="1018.67">have a push socket which is you can push</span> <span data-start="1018.67" data-end="1020.8">out messages and a pole socket which</span> <span data-start="1020.8" data-end="1023.56">will pull messages from a poor socket so</span> <span data-start="1023.56" data-end="1025.69">this this kind of diagram here is really</span> <span data-start="1025.69" data-end="1027.37">all I'm doing in this example where I</span> <span data-start="1027.37" data-end="1029.68">have a task ventilator well I'll push</span> <span data-start="1029.68" data-end="1031.72">out these like little batches of a</span> <span data-start="1031.72" data-end="1034.33">million processors and i'll have my</span> <span data-start="1034.33" data-end="1035.83">workers well just call pull and then</span> <span data-start="1035.83" data-end="1042.49">push back to the ventilator so that's</span> <span data-start="1042.49" data-end="1043.84">what you're seeing here where I pushed</span> <span data-start="1043.84" data-end="1050.47">result back pull it on and then really</span> <span data-start="1050.47" data-end="1054.7">all I'm doing is calling batches push so</span> <span data-start="1054.7" data-end="1056.83">pretty much the same code i did in</span> <span data-start="1056.83" data-end="1061.99">cluster and there was life so I'm going</span> <span data-start="1061.99" data-end="1066.7">to start this guy up so so I made like</span> <span data-start="1066.7" data-end="1068.2">any good library there's a command-line</span> <span data-start="1068.2" data-end="1070.84">interface so we have basically our</span> <span data-start="1070.84" data-end="1073.54">master and we have our slave so our</span> </p>
<p><span data-start="1073.54" data-end="1076.03">Master will start up he'll sit there</span> <span data-start="1076.03" data-end="1078.43">waiting for people to connect and we can</span> <span data-start="1078.43" data-end="1082.24">start up slave so go for ism master so</span> <span data-start="1082.24" data-end="1083.26">you're just going to sit there prompt</span> <span data-start="1083.26" data-end="1086.01">for millions all the star up locally</span> <span data-start="1086.01" data-end="1092.14">slave okay so I've like because I have</span> <span data-start="1092.14" data-end="1094.78">four cores on this machine therefore so</span> <span data-start="1094.78" data-end="1097.6">i have now i have eight because i have</span> <span data-start="1097.6" data-end="1099.79">some of my other guys from enhanced</span> <span data-start="1099.79" data-end="1101.65">joining so we can next if any of you</span> <span data-start="1101.65" data-end="1104.59">actually happen to install for ism my IP</span> <span data-start="1104.59" data-end="1112.7">is where we have here</span> <span data-start="1112.71" data-end="1119.47">192 168 1 59 128 so we should have more</span> <span data-start="1119.47" data-end="1123.97">people join in oh there oh wow there we</span> <span data-start="1123.97" data-end="1125.98">go that's distributed computing right</span> <span data-start="1125.98" data-end="1129.13">now so that was super cool so now where</span> <span data-start="1129.13" data-end="1133.33">is zul the gatekeeper ok i dazzle the</span> <span data-start="1133.33" data-end="1136.54">gatekeeper so just I've never had 32</span> <span data-start="1136.54" data-end="1138.4">cores on this this is good like so what</span> <span data-start="1138.4" data-end="1141.01">the heck let's do 20 million so let's do</span> <span data-start="1141.01" data-end="1144.49">this so cross your fingers so this is</span> <span data-start="1144.49" data-end="1146.71">going off you'll see you like like your</span> <span data-start="1146.71" data-end="1147.88">processors are going to get little</span> <span data-start="1147.88" data-end="1150.58">batches of jobs like so the force is</span> <span data-start="1150.58" data-end="1154.09">with them they'll kind of go off we're</span> <span data-start="1154.09" data-end="1156.7">kind of turn along here I built massive</span> <span data-start="1156.7" data-end="1158.86">stats otherwise no one is just waiting</span> <span data-start="1158.86" data-end="1167.5">oh there we go so so that that's pretty</span> <span data-start="1167.5" data-end="1169.81">cool that took 16 seconds and i just did</span> <span data-start="1169.81" data-end="1174.01">20 million of those so oh I well I'm</span> <span data-start="1174.01" data-end="1175.72">astonished at that I'm just going to</span> <span data-start="1175.72" data-end="1177.76">let's do like so another cool thing with</span> <span data-start="1177.76" data-end="1180.88">0 mq so you notice that my master</span> <span data-start="1180.88" data-end="1183.58">service i just killed this i'm not</span> <span data-start="1183.58" data-end="1185.5">starting a server it's just a it's just</span> <span data-start="1185.5" data-end="1188.23">basically a node command line and so I</span> <span data-start="1188.23" data-end="1190.18">killed that entire process and all these</span> <span data-start="1190.18" data-end="1192.49">slaves out here in the audience were</span> <span data-start="1192.49" data-end="1197.32">like uh where'd he go but I I stopped it</span> <span data-start="1197.32" data-end="1198.52">now i just started up again and they've</span> <span data-start="1198.52" data-end="1201.01">all reckon ected and you'll notice that</span> <span data-start="1201.01" data-end="1204.7">in my code I didn't really do that all I</span> <span data-start="1204.7" data-end="1208.96">did was use call connect so we just</span> <span data-start="1208.96" data-end="1212.14">connected like on port 1337 replying on</span> <span data-start="1212.14" data-end="1215.56">1338 and that's all we did it's just a</span> </p>
<p><span data-start="1215.56" data-end="1218.32">TCP socket hidden but all that crazy</span> <span data-start="1218.32" data-end="1220.06">stuff if you've ever done like any</span> <span data-start="1220.06" data-end="1222.4">socket work where you're like oh god the</span> <span data-start="1222.4" data-end="1224.98">server like disconnected and I guess I</span> <span data-start="1224.98" data-end="1226.9">got to reconnect and then get some state</span> <span data-start="1226.9" data-end="1228.82">back all that's been handled for us</span> <span data-start="1228.82" data-end="1230.74">through zeromq because these sockets are</span> <span data-start="1230.74" data-end="1234.52">amazing so i'm gonna i'm going to start</span> <span data-start="1234.52" data-end="1236.68">out on the scope I don't want go 100</span> <span data-start="1236.68" data-end="1239.68">million 1,000 million w well i'm just</span> <span data-start="1239.68" data-end="1241.87">going to at that run</span> <span data-start="1241.87" data-end="1244.65">1000 million is a desert word for that</span> <span data-start="1244.65" data-end="1254.77">billion so really s about it because</span> </p>
<p><span data-start="1254.77" data-end="1258.64">Danna was a four minutes earlier I have</span> <span data-start="1258.64" data-end="1263.11">four minutes left so really as this</span> <span data-start="1263.11" data-end="1264.61">Trump's way like the cool thing about</span> <span data-start="1264.61" data-end="1267.34">this if you uh if you are doing any kind</span> <span data-start="1267.34" data-end="1269.17">of distributed work think of as you're</span> <span data-start="1269.17" data-end="1270.61">designing your applications rather than</span> <span data-start="1270.61" data-end="1273.73">thinking of request response start</span> <span data-start="1273.73" data-end="1274.75">trying to think about if there's ways</span> <span data-start="1274.75" data-end="1276.13">you can just kind of send a message</span> <span data-start="1276.13" data-end="1278.679">we're infinitely familiar with how to</span> <span data-start="1278.679" data-end="1280.6">send messages and JavaScript kind of go</span> <span data-start="1280.6" data-end="1282.61">send this off here's a call back when</span> <span data-start="1282.61" data-end="1286.179">you're done but think about send this</span> <span data-start="1286.179" data-end="1288.4">off send this group of stuff off and</span> <span data-start="1288.4" data-end="1289.809">here's a call back when I'm done and</span> <span data-start="1289.809" data-end="1291.929">think of the power if you can have an</span> <span data-start="1291.929" data-end="1294.46">unlimited number of people out there</span> <span data-start="1294.46" data-end="1299.62">waiting to basically do your bidding wow</span> <span data-start="1299.62" data-end="1301.84">that's a minute to do a billion that's</span> <span data-start="1301.84" data-end="1304.24">cool that was awesome dude actually to</span> <span data-start="1304.24" data-end="1308.62">add to that room Q is also not linux</span> <span data-start="1308.62" data-end="1310.99">specific right so if you got a whole</span> <span data-start="1310.99" data-end="1312.19">bunch of work that you need to get done</span> <span data-start="1312.19" data-end="1313.57">and some of it is to happen on the</span> <span data-start="1313.57" data-end="1316.059">windows box or you know on a Mac machine</span> <span data-start="1316.059" data-end="1318.16">because Allah say when we're going to</span> <span data-start="1318.16" data-end="1321.82">analyzing objective-c and whatnot you</span> <span data-start="1321.82" data-end="1323.5">could totally do that it's just a</span> <span data-start="1323.5" data-end="1325.78">message and those slaves that run on</span> <span data-start="1325.78" data-end="1327.76">those systems will pick it up just like</span> <span data-start="1327.76" data-end="1329.05">anything else if they know what to do</span> <span data-start="1329.05" data-end="1331.78">with it let's go process it and respond</span> <span data-start="1331.78" data-end="1333.37">back so you can kind of still keep your</span> <span data-start="1333.37" data-end="1334.66">management and you're going to overall</span> <span data-start="1334.66" data-end="1336.91">restoration and node I just love</span> </p>
<p><span data-start="1336.91" data-end="1340.39">JavaScript so that that's about it thank</span> <span data-start="1340.39" data-end="1343.3">you also we are launching our developer</span> <span data-start="1343.3" data-end="1345.34">preview this is our pitch parts so if</span> <span data-start="1345.34" data-end="1346.96">you are interested in helping us build</span> <span data-start="1346.96" data-end="1349.09">one of the tools that are going to sit</span> <span data-start="1349.09" data-end="1350.41">there and help you guys build the best</span> <span data-start="1350.41" data-end="1352.69">software possible help us help you</span> <span data-start="1352.69" data-end="1355.45">register for our developer preview a bit</span> <span data-start="1355.45" data-end="1358.03">how no sighs preview and may the force</span> </p>
</section>