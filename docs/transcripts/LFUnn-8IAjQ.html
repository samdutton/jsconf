<section>
<p><span data-start="6.84" data-end="9.7">my name is Garth Henson as was mentioned</span> <span data-start="9.7" data-end="11.32">I do</span> <span data-start="11.32" data-end="12.73">Disney Company I've been with the</span> <span data-start="12.73" data-end="15.219">company about five years now thank you</span> <span data-start="15.219" data-end="18.36">that that's how I feel still every day I</span> <span data-start="18.36" data-end="21.16">worked out of the Seattle office for</span> <span data-start="21.16" data-end="22.9">about four years I work with corporate</span> <span data-start="22.9" data-end="23.95">technology there</span> <span data-start="23.95" data-end="27.039">what we do is basically platform to</span> <span data-start="27.039" data-end="29.439">laying anything we need to build to</span> <span data-start="29.439" data-end="31.029">enable the different brands to do what</span> <span data-start="31.029" data-end="32.98">they need to do so right now I'm working</span> <span data-start="32.98" data-end="35.35">with the SPN we work with ABC News we</span> <span data-start="35.35" data-end="36.79">work with Parks and Resorts we work with</span> <span data-start="36.79" data-end="38.53">all the different brands from an</span> <span data-start="38.53" data-end="40.809">infrastructure architecture application</span> <span data-start="40.809" data-end="42.539">basically whatever we need to build</span> <span data-start="42.539" data-end="46">right now it's kind of fun because most</span> <span data-start="46" data-end="48.52">of what I build is node on the backend</span> <span data-start="48.52" data-end="50.32">and we do full stack all the way up then</span> <span data-start="50.32" data-end="52.629">we do react on the front end and so most</span> <span data-start="52.629" data-end="53.98">of the stuff we're working is JavaScript</span> <span data-start="53.98" data-end="56.71">end to end one of the reasons I am</span> <span data-start="56.71" data-end="59.17">excited about this talk is this is</span> <span data-start="59.17" data-end="62.289">something that is an ongoing project is</span> <span data-start="62.289" data-end="63.899">we're trying to figure out which</span> <span data-start="63.899" data-end="66.399">applications we should move to not only</span> <span data-start="66.399" data-end="68.38">into the cloud but into a service</span> <span data-start="68.38" data-end="70.99">architecture the nice thing is that in</span> <span data-start="70.99" data-end="72.85">most cases we can keep running</span> </p>
<p><span data-start="72.85" data-end="75.19">JavaScript end to end with maybe a</span> <span data-start="75.19" data-end="76.689">little bit of bash in there for some of</span> <span data-start="76.689" data-end="78.159">our docker containers and entry points</span> <span data-start="78.159" data-end="80.59">and that type of thing so that's what</span> <span data-start="80.59" data-end="82.83">we're gonna talk about today</span> <span data-start="82.83" data-end="85.81">serverless is one of those very</span> <span data-start="85.81" data-end="87.88">interesting terms it's been a buzzword</span> <span data-start="87.88" data-end="89.47">for a long time and it's one that I</span> <span data-start="89.47" data-end="92.759">really don't like honestly serverless</span> <span data-start="92.759" data-end="95.77">sounds like we just don't have service</span> <span data-start="95.77" data-end="99.369">anymore which of course we know they</span> <span data-start="99.369" data-end="100.689">just are going to go away and everything</span> <span data-start="100.689" data-end="102.009">runs on magic right that's at least at</span> </p>
<p><span data-start="102.009" data-end="105.85">Disney that's how it works but but what</span> <span data-start="105.85" data-end="108.399">is serverless server this computing</span> <span data-start="108.399" data-end="110.649">based on a Wikipedia definition here</span> <span data-start="110.649" data-end="113.17">it's really a cloud computing execution</span> <span data-start="113.17" data-end="115.27">model it's a process it's a way of</span> <span data-start="115.27" data-end="117.399">thinking in which the cloud provider</span> <span data-start="117.399" data-end="119.259">dynamically manages allocation of</span> <span data-start="119.259" data-end="121.84">machine resources and then the pricing</span> <span data-start="121.84" data-end="123.759">itself is generally based on the actual</span> <span data-start="123.759" data-end="126.04">consumption of the processing so</span> <span data-start="126.04" data-end="128.619">whatever you use is what you pay for so</span> <span data-start="128.619" data-end="131.38">obviously that means I'm not there yes</span> <span data-start="131.38" data-end="134.17">arms up and so this this diagram kind of</span> <span data-start="134.17" data-end="136">breaks down into a couple different</span> <span data-start="136" data-end="138.43">categories all of the things we would</span> <span data-start="138.43" data-end="140.59">talk about as a cloud offering and so</span> <span data-start="140.59" data-end="143.32">most of these I hope many people in here</span> <span data-start="143.32" data-end="144.609">familiar with some of the different</span> <span data-start="144.609" data-end="144.97">burrows</span> <span data-start="144.97" data-end="149.74">odd categories is is pretty common</span> <span data-start="149.74" data-end="150.79">you're gonna have</span> <span data-start="150.79" data-end="152.35">infrastructure-as-a-service whether</span> <span data-start="152.35" data-end="154.15">that's an on-prem data center that</span> <span data-start="154.15" data-end="156.97">you're having to pull resources from an</span> <span data-start="156.97" data-end="159.16">out gate or you're using ec2 instances</span> <span data-start="159.16" data-end="161.95">or you're using compute instances from</span> <span data-start="161.95" data-end="163.74">whatever provider cloud provider you use</span> <span data-start="163.74" data-end="167.41">you basically have to provision what you</span> <span data-start="167.41" data-end="170.17">need and you have to assemble all of</span> <span data-start="170.17" data-end="171.82">your pieces before you can deploy the</span> <span data-start="171.82" data-end="173.71">code to it right that's that we're</span> <span data-start="173.71" data-end="176.05">familiar with that and then you've got</span> <span data-start="176.05" data-end="177.94">the SAS offerings which I think most of</span> <span data-start="177.94" data-end="179.5">us are also familiar with where I just</span> <span data-start="179.5" data-end="181.12">don't either want to take the time or</span> <span data-start="181.12" data-end="182.5">the money to build it I'd rather put the</span> <span data-start="182.5" data-end="184.24">money into paying for the service and</span> <span data-start="184.24" data-end="186.22">just use it where it stands and let them</span> <span data-start="186.22" data-end="188.35">manage the SaaS let them manage</span> <span data-start="188.35" data-end="190.03">everything else and the support layers</span> <span data-start="190.03" data-end="191.29">we just don't want to take that on</span> <span data-start="191.29" data-end="193.63">ourselves so we're gonna buy the service</span> <span data-start="193.63" data-end="195.7">from somebody else use it in place and</span> <span data-start="195.7" data-end="198.91">continue processing and then more</span> <span data-start="198.91" data-end="200.62">recently we're getting more and more</span> <span data-start="200.62" data-end="202.54">capabilities of moving things into the</span> <span data-start="202.54" data-end="204.76">cloud on top of your past offering so</span> <span data-start="204.76" data-end="206.41">you've got your platform as a service</span> <span data-start="206.41" data-end="208.35">that you're going to start leveraging</span> <span data-start="208.35" data-end="211.81">and what's really interesting and we'll</span> <span data-start="211.81" data-end="213.22">talk a little bit more about this is</span> <span data-start="213.22" data-end="216.22">with things like Direct Connect for AWS</span> <span data-start="216.22" data-end="217.78">and there's other things with with some</span> <span data-start="217.78" data-end="219.72">of the other service offerings as well</span> <span data-start="219.72" data-end="222.16">you can actually start running some of</span> <span data-start="222.16" data-end="224.68">these platform offerings on your own</span> <span data-start="224.68" data-end="227.56">private networks and so even though it's</span> <span data-start="227.56" data-end="230.2">still managed completely remotely by</span> <span data-start="230.2" data-end="231.55">your service provider you can actually</span> <span data-start="231.55" data-end="232.9">run it on your private network as well</span> <span data-start="232.9" data-end="235.06">so you starting to get the best of both</span> <span data-start="235.06" data-end="237.25">worlds where you can start leveraging</span> <span data-start="237.25" data-end="239.17">these other pieces but yet keep your</span> <span data-start="239.17" data-end="240.549">connectivity the way it needs to be for</span> <span data-start="240.549" data-end="243.4">your broader application and then on</span> <span data-start="243.4" data-end="245.019">this diagram as well you'll notice that</span> <span data-start="245.019" data-end="248.23">towards the top here we have the</span> <span data-start="248.23" data-end="251.049">functions and the database is a service</span> <span data-start="251.049" data-end="252.959">some of your things like your no sequels</span> <span data-start="252.959" data-end="256.989">firebase or you've got your dynamo DB</span> <span data-start="256.989" data-end="259.81">type of thing those are typically what</span> <span data-start="259.81" data-end="261.82">we group into what we would really call</span> <span data-start="261.82" data-end="263.2">server lists those are the things that</span> <span data-start="263.2" data-end="264.76">basically everybody says oh yeah just</span> <span data-start="264.76" data-end="267.1">use it it'll it'll scale and you just</span> <span data-start="267.1" data-end="271.03">pay for what you use which is true but</span> <span data-start="271.03" data-end="272.44">we need to make sure we understand what</span> <span data-start="272.44" data-end="275.919">that actually means so this is if we're</span> <span data-start="275.919" data-end="277.75">in a smaller room I would pause for</span> <span data-start="277.75" data-end="278.74">questions but I</span> <span data-start="278.74" data-end="280.9">say now if you have questions please do</span> <span data-start="280.9" data-end="283.03">come talk to me afterwards I don't have</span> <span data-start="283.03" data-end="284.979">all the answers I'm still learning a lot</span> <span data-start="284.979" data-end="286.63">of this but I do want to share what</span> <span data-start="286.63" data-end="290.069">we've what we've figured out so far so</span> <span data-start="290.069" data-end="293.47">of course once we understand all of</span> <span data-start="293.47" data-end="295.09">these this means this brings us to the</span> <span data-start="295.09" data-end="296.889">conclusion I've heard so many times</span> <span data-start="296.889" data-end="298.9">no more server is yeah everything's</span> <span data-start="298.9" data-end="299.949">awesome we'd have to worry about</span> <span data-start="299.949" data-end="303.34">anything anymore no actually all it</span> <span data-start="303.34" data-end="306.52">means is it's not my servers the the</span> <span data-start="306.52" data-end="308.68">problem or the the hiccups that the</span> <span data-start="308.68" data-end="309.88">things we have to be aware of don't go</span> <span data-start="309.88" data-end="312.31">away they just move to another location</span> <span data-start="312.31" data-end="316.659">the concerns we have to be aware of just</span> <span data-start="316.659" data-end="321.759">change it they don't go away why do we</span> <span data-start="321.759" data-end="325.479">care why does it matter well if we look</span> <span data-start="325.479" data-end="327.819">at the benefits of service there's</span> <span data-start="327.819" data-end="329.949">several and then there's other things we</span> <span data-start="329.949" data-end="332.71">have to be aware of as we move into this</span> <span data-start="332.71" data-end="333.729">architecture</span> <span data-start="333.729" data-end="338.5">first of all cost cost really is almost</span> <span data-start="338.5" data-end="342.52">unanimously cited as the driving reason</span> <span data-start="342.52" data-end="344.159">to move to serverless adoption</span> <span data-start="344.159" data-end="346.12">everybody's like oh it's just cheaper</span> <span data-start="346.12" data-end="347.32">everything should be service</span> <span data-start="347.32" data-end="351.19">everything's cheaper which can be on</span> <span data-start="351.19" data-end="352.93">demand execution built-in elasticity</span> <span data-start="352.93" data-end="356.409">optimizes utilization uptime reliability</span> <span data-start="356.409" data-end="358">everything's higher this is this is all</span> <span data-start="358" data-end="360.789">true this is great it's fantastic but I</span> <span data-start="360.789" data-end="362.5">want to see there's a there's a specific</span> <span data-start="362.5" data-end="366.18">word right there the savings can be</span> <span data-start="366.18" data-end="369.909">insane if they're built correctly for</span> <span data-start="369.909" data-end="372.24">the appropriate applications they are</span> <span data-start="372.24" data-end="374.199">incredibly cheaper to run</span> <span data-start="374.199" data-end="378.46">however there's that key word of if we</span> <span data-start="378.46" data-end="380.469">build them properly and we use it used</span> <span data-start="380.469" data-end="382.3">it for the appropriate application it's</span> <span data-start="382.3" data-end="384.34">cheaper so keep that in mind</span> <span data-start="384.34" data-end="387.94">scalability by definition we're using</span> <span data-start="387.94" data-end="390.25">serverless offerings we're using hosted</span> <span data-start="390.25" data-end="393.49">and managed solutions and so scalability</span> <span data-start="393.49" data-end="396.19">is built into it reliability it's really</span> <span data-start="396.19" data-end="398.8">based off your providers SLA so we have</span> <span data-start="398.8" data-end="400.539">all of these great potential benefits</span> <span data-start="400.539" data-end="402.849">that we can get out of moving</span> <span data-start="402.849" data-end="405.27">applications into a service architecture</span> <span data-start="405.27" data-end="409">but we need to be aware I love this</span> <span data-start="409" data-end="411.4">quote the most common currency to pay</span> <span data-start="411.4" data-end="412.09">for benefits</span> <span data-start="412.09" data-end="414.16">in our application architecture its</span> <span data-start="414.16" data-end="417.97">complexity so how do we get I don't know</span> <span data-start="417.97" data-end="420.04">if you I don't have the diagram up here</span> <span data-start="420.04" data-end="422.26">but you've got different pivots that you</span> <span data-start="422.26" data-end="423.82">can actually pull on in any application</span> <span data-start="423.82" data-end="426.28">right any architecture management comes</span> <span data-start="426.28" data-end="428.26">down says hey this has to run less</span> <span data-start="428.26" data-end="430.54">expensively okay great it's gonna be</span> <span data-start="430.54" data-end="432.55">slower now or it's going to be there's</span> <span data-start="432.55" data-end="434.5">only certain things we can pull on and</span> <span data-start="434.5" data-end="438.25">in order to reduce the cost and increase</span> <span data-start="438.25" data-end="440.41">the performance and the scalability and</span> <span data-start="440.41" data-end="442.54">reliability the easiest way to do that</span> <span data-start="442.54" data-end="444.16">is to increase complexity now what does</span> <span data-start="444.16" data-end="446.41">that look like though well in this</span> <span data-start="446.41" data-end="449.29">diagram we kind of see the stepping</span> <span data-start="449.29" data-end="451.57">stones between moving from our old</span> <span data-start="451.57" data-end="454.57">monolithic applications into a standard</span> <span data-start="454.57" data-end="456.07">what we would call the microservice</span> <span data-start="456.07" data-end="458.58">infrastructure or ecosystem and</span> <span data-start="458.58" data-end="461.56">basically what happens is is from step</span> <span data-start="461.56" data-end="464.47">one to step two all we've done is we've</span> <span data-start="464.47" data-end="466.479">broken all of those bits of logic all of</span> <span data-start="466.479" data-end="468.16">those sections of the code that we're</span> <span data-start="468.16" data-end="470.44">running all in one big application we've</span> <span data-start="470.44" data-end="471.85">broken them out into their own smaller</span> <span data-start="471.85" data-end="474.43">services which is great but now we have</span> <span data-start="474.43" data-end="476.65">all this wiring in between so we've</span> <span data-start="476.65" data-end="478.96">introduced some complexity of the wiring</span> <span data-start="478.96" data-end="481">breaking a model with into into a</span> <span data-start="481" data-end="483.09">microservices now did we gain</span> <span data-start="483.09" data-end="485.35">performance reliability yeah if it's</span> <span data-start="485.35" data-end="487.45">done right absolutely but we've added</span> <span data-start="487.45" data-end="490.06">some type of complexity so when we're</span> <span data-start="490.06" data-end="492.25">moving from microservice infrastructure</span> <span data-start="492.25" data-end="496.27">or architecture into a full server love</span> <span data-start="496.27" data-end="499.78">stack we're introducing far more wiring</span> <span data-start="499.78" data-end="501.58">in between all the pieces so the</span> <span data-start="501.58" data-end="504.13">complexity is potentially much greater</span> <span data-start="504.13" data-end="507.28">for the overall application even if the</span> <span data-start="507.28" data-end="509.229">individual pieces of code that we as</span> <span data-start="509.229" data-end="510.91">engineers are managing are much much</span> <span data-start="510.91" data-end="513.37">simpler to maintain so the overall</span> <span data-start="513.37" data-end="515.56">application architecture we've got to be</span> <span data-start="515.56" data-end="518.26">aware of as we go and then all of this</span> <span data-start="518.26" data-end="519.82">of course is built on top of some type</span> <span data-start="519.82" data-end="523.779">of a platform that we're paying for or</span> <span data-start="523.779" data-end="528.1">we've spun up internally so Oh moving on</span> <span data-start="528.1" data-end="531.55">here here are some of the things that we</span> <span data-start="531.55" data-end="535.3">have to be aware of as the heading up</span> <span data-start="535.3" data-end="537.82">here says service is cheaper not</span> <span data-start="537.82" data-end="542.98">necessarily simpler anybody played with</span> <span data-start="542.98" data-end="544.66">us three much and had any issues with</span> <span data-start="544.66" data-end="545.86">eventual consistency</span> <span data-start="545.86" data-end="549.339">a couple hands awesome okay so if you're</span> <span data-start="549.339" data-end="552.49">not aware of what eventual consisted he</span> <span data-start="552.49" data-end="556.6">consistently and and I told miles I was</span> <span data-start="556.6" data-end="557.62">going to have to apologize to him I</span> <span data-start="557.62" data-end="558.67">don't know if he's in here all of my</span> <span data-start="558.67" data-end="562.12">examples are AWS I am intentionally</span> <span data-start="562.12" data-end="564.64">doing pretty generic examples because</span> <span data-start="564.64" data-end="566.17">these are things you can do on any</span> <span data-start="566.17" data-end="568.36">service provider I'm not doing a sales</span> <span data-start="568.36" data-end="570.459">pitch for AWS I just just what I know</span> <span data-start="570.459" data-end="573">the best but eventual consistency</span> <span data-start="573" data-end="575.44">basically means you can drop an object</span> <span data-start="575.44" data-end="579.13">into an s3 bucket for storage and it may</span> <span data-start="579.13" data-end="580.99">or may not be available for a read right</span> <span data-start="580.99" data-end="583.269">away because it has the replicated</span> <span data-start="583.269" data-end="584.709">across different data centers it's got</span> <span data-start="584.709" data-end="586.51">to replicate across regions and when</span> <span data-start="586.51" data-end="588.04">you're get requests or your pull request</span> <span data-start="588.04" data-end="590.86">goes back out if it hasn't replicated</span> <span data-start="590.86" data-end="592.72">all the way across you might hit a</span> <span data-start="592.72" data-end="594.31">bucket or region where it hasn't</span> <span data-start="594.31" data-end="596.56">propagated yet and so even though you</span> <span data-start="596.56" data-end="598.39">just wrote it you've got a success it</span> <span data-start="598.39" data-end="601.24">may not be available to read yet and so</span> <span data-start="601.24" data-end="602.769">we actually had a couple projects we're</span> <span data-start="602.769" data-end="604.089">like a server looks awesome we're gonna</span> <span data-start="604.089" data-end="605.38">do one lamb to here and it's going to</span> <span data-start="605.38" data-end="606.579">drop something into a three and then</span> <span data-start="606.579" data-end="607.959">it's gonna fire this thing off over here</span> <span data-start="607.959" data-end="609.279">and then the other lamp is gonna pick it</span> <span data-start="609.279" data-end="611.019">up and do more processing with it and it</span> <span data-start="611.019" data-end="615.1">wasn't there and the entire flow grinds</span> <span data-start="615.1" data-end="617.32">to a halt and we realized that oh we</span> <span data-start="617.32" data-end="619.24">need to call AWS guys so we can is on</span> <span data-start="619.24" data-end="620.86">the phone we're talking with them and</span> <span data-start="620.86" data-end="622.6">the question of course what did you read</span> <span data-start="622.6" data-end="629.23">the SLA no I didn't and s3 is eventual</span> <span data-start="629.23" data-end="631.42">consistency there is a window of time in</span> <span data-start="631.42" data-end="633.49">which they are still within their SLA</span> <span data-start="633.49" data-end="635.649">and as long as you can read it back out</span> <span data-start="635.649" data-end="637.87">within a certain length of time they're</span> <span data-start="637.87" data-end="640.42">okay and so these are things like the</span> <span data-start="640.42" data-end="642.67">fault tolerance a synchronicity is</span> <span data-start="642.67" data-end="644.44">you're doing multiple lambdas they're</span> <span data-start="644.44" data-end="646.81">stateless you've got things like this</span> <span data-start="646.81" data-end="649.24">that you have to start juggling where</span> <span data-start="649.24" data-end="650.98">you do it in an application level in a</span> <span data-start="650.98" data-end="654.19">monolith or even a microcircuit maintain</span> <span data-start="654.19" data-end="656.56">some type of state you now are</span> <span data-start="656.56" data-end="658.81">introducing logical chunks that are</span> <span data-start="658.81" data-end="660.79">stateless that have to be aware or be</span> <span data-start="660.79" data-end="663.13">able to retrieve or rebuild or saturate</span> <span data-start="663.13" data-end="665.5">or do something to be able to continue</span> <span data-start="665.5" data-end="667.63">processing and so things that before</span> <span data-start="667.63" data-end="669.91">were somewhat intuitive within the</span> <span data-start="669.91" data-end="671.68">application architecture are now</span> <span data-start="671.68" data-end="673.24">becoming things we have to manually</span> <span data-start="673.24" data-end="675.43">think through and deal with or at least</span> <span data-start="675.43" data-end="678.399">be aware of latency the only reason I</span> <span data-start="678.399" data-end="679.55">bring it up here</span> <span data-start="679.55" data-end="681.86">every new Network hop can introduce</span> <span data-start="681.86" data-end="684.32">latency so if you have something let's</span> <span data-start="684.32" data-end="685.85">say we've got three micro-services and</span> <span data-start="685.85" data-end="687.62">they're talking nicely together and</span> <span data-start="687.62" data-end="689.66">every new request hits all three of them</span> <span data-start="689.66" data-end="691.67">and it's a handoff you've got the</span> <span data-start="691.67" data-end="693.29">inbound request and then you've got at</span> <span data-start="693.29" data-end="696.83">least two hops so you've got three but</span> <span data-start="696.83" data-end="698.45">if we break that out and it turns into</span> <span data-start="698.45" data-end="700.67">six different lambdas or whatever you're</span> <span data-start="700.67" data-end="701.96">doubling the number of network</span> <span data-start="701.96" data-end="703.4">connections the network hops you're</span> <span data-start="703.4" data-end="705.56">having to make to process something so</span> <span data-start="705.56" data-end="706.88">you've got to be aware of the increased</span> <span data-start="706.88" data-end="709.49">latency potentially okay and again these</span> <span data-start="709.49" data-end="710.87">are all just be aware of them they're</span> <span data-start="710.87" data-end="712.79">not I'm not saying don't do it I'm just</span> <span data-start="712.79" data-end="714.05">saying be aware of what the potential</span> <span data-start="714.05" data-end="717.11">gotchas are let's see fault tolerance</span> <span data-start="717.11" data-end="719.27">what happens if an asynchronous lambda</span> <span data-start="719.27" data-end="721.46">spins up and fails and it can't process</span> <span data-start="721.46" data-end="723.98">and it's responding to something that it</span> <span data-start="723.98" data-end="726.98">pulled off of a queue have you thought</span> <span data-start="726.98" data-end="728.51">through what's your dead letter Q look</span> <span data-start="728.51" data-end="730.04">like are you going to actually do some</span> <span data-start="730.04" data-end="732.05">retry logic what is your fault tolerance</span> <span data-start="732.05" data-end="733.97">for it what's your retry all these</span> <span data-start="733.97" data-end="735.86">things we have to start thinking through</span> <span data-start="735.86" data-end="741.92">on a higher level or broader scale API</span> <span data-start="741.92" data-end="743.81">is messaging schemas how are you gonna</span> <span data-start="743.81" data-end="745.4">have all of the different pieces talk to</span> <span data-start="745.4" data-end="746.33">each other if they're on the same</span> <span data-start="746.33" data-end="749.03">process all of these different things</span> <span data-start="749.03" data-end="751.67">rolling up grades how do you manage your</span> <span data-start="751.67" data-end="752.93">actual upgrades of the individual</span> <span data-start="752.93" data-end="755.78">lambdas or whatever whatever piece</span> <span data-start="755.78" data-end="758.75">you're upgrading are you changing the</span> <span data-start="758.75" data-end="760.55">signature of the payload you're dropping</span> <span data-start="760.55" data-end="762.32">what what are all of the different</span> <span data-start="762.32" data-end="765.41">pieces like that ah let's see and</span> <span data-start="765.41" data-end="768.92">there's more so I've heard from a lot of</span> <span data-start="768.92" data-end="771.02">people that hey just do everything</span> <span data-start="771.02" data-end="772.79">serverless it's it's a solve all it'll</span> <span data-start="772.79" data-end="774.98">cure everything and it's really not if</span> <span data-start="774.98" data-end="778.43">you if you approach it as a cure-all if</span> <span data-start="778.43" data-end="779.72">you approach it as a silver bullet</span> <span data-start="779.72" data-end="781.19">that's gonna fix all of our problems I'm</span> <span data-start="781.19" data-end="782.33">afraid people are gonna be very</span> <span data-start="782.33" data-end="785.45">disappointed now again I say all of this</span> <span data-start="785.45" data-end="787.25">and I'm a very big proponent of using</span> <span data-start="787.25" data-end="790.04">serverless so don't get me wrong it is a</span> <span data-start="790.04" data-end="793.04">fantastic tool but as with any other</span> <span data-start="793.04" data-end="794.93">tool you've got to use the right tool</span> <span data-start="794.93" data-end="795.56">for the right job</span> <span data-start="795.56" data-end="797.63">and so every application if you're</span> <span data-start="797.63" data-end="800.18">considering server lists as a potential</span> <span data-start="800.18" data-end="802.49">architecture you need to evaluate your</span> <span data-start="802.49" data-end="804.59">actual system what it is you're trying</span> <span data-start="804.59" data-end="806.36">to build and what the benefits are what</span> <span data-start="806.36" data-end="809">is your ROI what's the cost going to be</span> <span data-start="809" data-end="811.48">how many requests are you gonna have</span> <span data-start="811.48" data-end="814.63">and we'll look at a couple examples here</span> <span data-start="814.63" data-end="815.83">in a minute where we can actually talk</span> <span data-start="815.83" data-end="819.82">through some of those concerns so let's</span> <span data-start="819.82" data-end="825.13">build a little bit this slide we're</span> <span data-start="825.13" data-end="826.39">going to talk through a couple of the</span> <span data-start="826.39" data-end="829.48">options in the AWS toolset that actually</span> <span data-start="829.48" data-end="832.47">we use regularly for service</span> <span data-start="832.47" data-end="835.41">applications so broader architectures</span> <span data-start="835.41" data-end="838.45">some of these are arguable they fall</span> <span data-start="838.45" data-end="840.4">into slightly different categories and</span> <span data-start="840.4" data-end="842.71">maybe somebody like well that's not pure</span> <span data-start="842.71" data-end="845.26">serverless that's the bass or something</span> <span data-start="845.26" data-end="847.69">yeah I get that but overall from a</span> <span data-start="847.69" data-end="849.19">service architecture standpoint here's a</span> <span data-start="849.19" data-end="851.74">few things to be aware of we use route</span> <span data-start="851.74" data-end="854.1">53 anytime we can to do dns resolution</span> <span data-start="854.1" data-end="858.13">because it ties so seamlessly into some</span> <span data-start="858.13" data-end="859.84">of the other pieces like the API gateway</span> <span data-start="859.84" data-end="862.66">if you have not looked into the API</span> <span data-start="862.66" data-end="864.61">management structures for several of the</span> <span data-start="864.61" data-end="866.62">different cloud providers API gateway is</span> <span data-start="866.62" data-end="870.31">great they're the the way you can define</span> <span data-start="870.31" data-end="873.13">and manage configuration for even</span> <span data-start="873.13" data-end="875.02">authentication and header parsing</span> <span data-start="875.02" data-end="875.77">different things like that</span> <span data-start="875.77" data-end="879.79">it's pretty pretty slick lambdas</span> <span data-start="879.79" data-end="881.53">themselves this is this is pretty</span> <span data-start="881.53" data-end="883.15">standard this is what every provider has</span> <span data-start="883.15" data-end="886.84">as their cloud functions you you provide</span> <span data-start="886.84" data-end="890.02">enough logic to run as a single logical</span> <span data-start="890.02" data-end="892.54">execution and you want to break it down</span> <span data-start="892.54" data-end="894.28">and make sure you don't throw too much</span> <span data-start="894.28" data-end="895.75">in there you're going to run within</span> <span data-start="895.75" data-end="898.02">restrictions in the different providers</span> <span data-start="898.02" data-end="900.73">such as within lambdas if you're running</span> <span data-start="900.73" data-end="903.22">more than I believe it's a five Meg</span> <span data-start="903.22" data-end="905.83">payload in a post request in or into the</span> <span data-start="905.83" data-end="907.93">context into the lambda is your your cap</span> <span data-start="907.93" data-end="910.3">it also has a time limit of a five</span> <span data-start="910.3" data-end="912.91">minute processing time so anything</span> <span data-start="912.91" data-end="914.38">beyond that and it will automatically</span> <span data-start="914.38" data-end="916.48">shut it down so there are things like</span> <span data-start="916.48" data-end="918.64">that you just have to be aware of which</span> <span data-start="918.64" data-end="920.53">will help you discern where in your</span> <span data-start="920.53" data-end="922.57">logic to slice up the pieces to make it</span> <span data-start="922.57" data-end="924.63">affordable and still be able to process</span> <span data-start="924.63" data-end="929.23">so lambdas um you see what's next s3</span> <span data-start="929.23" data-end="932.32">this is your object stores this is</span> <span data-start="932.32" data-end="935.74">basically I'm mmm AWS makes it very</span> <span data-start="935.74" data-end="938.14">distinct that it is not a static asset</span> <span data-start="938.14" data-end="939.46">store it is an object store you</span> <span data-start="939.46" data-end="940.78">basically could drop anything you want</span> <span data-start="940.78" data-end="943.84">in there this is the one that has given</span> <span data-start="943.84" data-end="945.13">us trouble with eventual consists</span> <span data-start="945.13" data-end="946.75">see you just have to be aware of that</span> <span data-start="946.75" data-end="949.3">and then we'll look at dynamodb this is</span> <span data-start="949.3" data-end="951.31">our new seek no sequel store highly</span> <span data-start="951.31" data-end="955.12">scalable incredibly fast connection</span> <span data-start="955.12" data-end="958.33">speeds read speeds write speeds and then</span> <span data-start="958.33" data-end="960.49">sqs the and the reason I threw these up</span> <span data-start="960.49" data-end="961.39">on here is because these are the ones</span> <span data-start="961.39" data-end="963.55">will actually talk through on a couple</span> <span data-start="963.55" data-end="965.38">of the architectural diagrams that we'll</span> <span data-start="965.38" data-end="968.14">look at in a moment so sqs is just what</span> <span data-start="968.14" data-end="969.55">it sounds like it's a queueing service</span> <span data-start="969.55" data-end="970.87">it's a hosted and managed queuing</span> <span data-start="970.87" data-end="972.67">service you set it up and you start</span> <span data-start="972.67" data-end="974.88">dropping items into it and then you can</span> <span data-start="974.88" data-end="977.23">reach out to it and check to see if</span> <span data-start="977.23" data-end="978.7">there's anything on the queue for you to</span> <span data-start="978.7" data-end="982.12">resolve and it supports both standard</span> <span data-start="982.12" data-end="984.94">queuing as well as 5o queuing so you can</span> <span data-start="984.94" data-end="986.14">you can do a lot of different things</span> <span data-start="986.14" data-end="987.33">with it</span> <span data-start="987.33" data-end="989.92">so one of the examples I'm going to talk</span> <span data-start="989.92" data-end="993.88">through is a problem space I ran into</span> <span data-start="993.88" data-end="997.26">where we had a couple api's internally</span> <span data-start="997.26" data-end="999.73">these were api's that had been spun up</span> <span data-start="999.73" data-end="1002.7">and as we all know there's no such thing</span> <span data-start="1002.7" data-end="1005.07">as a proof-of-concept that stays a proof</span> <span data-start="1005.07" data-end="1007.29">of concept any time you show it to</span> <span data-start="1007.29" data-end="1009.03">somebody somebody starts using it and</span> <span data-start="1009.03" data-end="1011.25">now you have to support it and we had</span> <span data-start="1011.25" data-end="1012.84">several api's that had been built</span> <span data-start="1012.84" data-end="1015.32">internally for different teams and a</span> <span data-start="1015.32" data-end="1017.76">security audit came through and realized</span> <span data-start="1017.76" data-end="1019.83">that we had multiple api's that had</span> <span data-start="1019.83" data-end="1022.68">accessed the data that were not fronted</span> <span data-start="1022.68" data-end="1025.32">with any type of authentication now good</span> <span data-start="1025.32" data-end="1026.97">news is they were only on the internal</span> <span data-start="1026.97" data-end="1028.2">network however they still were not</span> <span data-start="1028.2" data-end="1030.81">fronted with authentication so we were</span> <span data-start="1030.81" data-end="1033.27">tasked with figuring out a way to try</span> <span data-start="1033.27" data-end="1038.67">and Front existing api's with basically</span> <span data-start="1038.67" data-end="1040.92">an OAuth style authentication of some</span> <span data-start="1040.92" data-end="1043.02">sort well we could give API keys out to</span> <span data-start="1043.02" data-end="1045.39">only those who need access to it and we</span> <span data-start="1045.39" data-end="1047.07">could do some type of token exchange to</span> <span data-start="1047.07" data-end="1049.89">grant access into those api's so if</span> <span data-start="1049.89" data-end="1051.03">you've ever done something like that</span> <span data-start="1051.03" data-end="1052.95">before where you've had an existing API</span> <span data-start="1052.95" data-end="1054.6">and you've had to try and put something</span> <span data-start="1054.6" data-end="1056.1">in front of it it can be extremely</span> <span data-start="1056.1" data-end="1059.7">challenging in this case we came up with</span> <span data-start="1059.7" data-end="1062.58">something that worked decently well see</span> <span data-start="1062.58" data-end="1066.15">if I can point over here essentially the</span> <span data-start="1066.15" data-end="1068.31">goal is we have an application layer</span> <span data-start="1068.31" data-end="1069.84">down here so this is something that was</span> <span data-start="1069.84" data-end="1072">already existing okay the applications</span> <span data-start="1072" data-end="1075.54">there the API is being hit but there's</span> <span data-start="1075.54" data-end="1077.73">no security layer in front of it and so</span> <span data-start="1077.73" data-end="1079.03">what we were able to do</span> <span data-start="1079.03" data-end="1086.19">is take a right here the API gateway and</span> <span data-start="1086.19" data-end="1090.72">set up a basically just an authorization</span> <span data-start="1090.72" data-end="1093.46">password exchange so you can take your</span> </p>
<p><span data-start="1093.46" data-end="1096.19">API key and your secret and you can hit</span> <span data-start="1096.19" data-end="1098.89">an endpoint here that will reach out</span> <span data-start="1098.89" data-end="1100.84">into the this is kind of where the</span> <span data-start="1100.84" data-end="1102.94">application layer I guess from the the</span> <span data-start="1102.94" data-end="1105.55">oauth thing that we created and there's</span> <span data-start="1105.55" data-end="1107.04">a lambda here that's your Authenticator</span> <span data-start="1107.04" data-end="1110.71">that really just checks your password if</span> <span data-start="1110.71" data-end="1113.32">you're in the the API keys that have</span> <span data-start="1113.32" data-end="1115.21">been granted it checks to make sure</span> <span data-start="1115.21" data-end="1117.42">you've got the appropriate role it</span> <span data-start="1117.42" data-end="1119.98">creates a new token it drops a token</span> <span data-start="1119.98" data-end="1122.26">into another DB table and another dynamo</span> <span data-start="1122.26" data-end="1124.96">table the reason we chose this</span> <span data-start="1124.96" data-end="1127.9">architecture is DynamoDB tables allow</span> <span data-start="1127.9" data-end="1131.35">you to specify a TTL on every item that</span> <span data-start="1131.35" data-end="1134.5">you drop into the table and at that TTL</span> <span data-start="1134.5" data-end="1136.48">it will auto expire that item and remove</span> <span data-start="1136.48" data-end="1138.52">it from your table so for this solution</span> <span data-start="1138.52" data-end="1140.77">it worked really well because if we had</span> <span data-start="1140.77" data-end="1143.26">you know let's say we had five minutes</span> <span data-start="1143.26" data-end="1144.91">oaken's and we only wanted them good for</span> <span data-start="1144.91" data-end="1146.83">a certain amount of time we could drop</span> <span data-start="1146.83" data-end="1149.68">them into our token table and they would</span> <span data-start="1149.68" data-end="1151">auto expire in that amount of time we</span> <span data-start="1151" data-end="1152.26">didn't have to do any manual cleanup</span> <span data-start="1152.26" data-end="1154.81">which was fantastic in this case once</span> <span data-start="1154.81" data-end="1157.18">that's done the Authenticator simply</span> <span data-start="1157.18" data-end="1159.1">returns with the token that they just</span> <span data-start="1159.1" data-end="1164.11">generated and the user or application</span> <span data-start="1164.11" data-end="1165.22">whatever it is it's hitting the end</span> <span data-start="1165.22" data-end="1167.89">point then can pick up that token pass</span> <span data-start="1167.89" data-end="1170.56">it off to the API that they were trying</span> <span data-start="1170.56" data-end="1173.38">to reach anyway and provide an</span> <span data-start="1173.38" data-end="1175.24">authorization header with a bearer token</span> <span data-start="1175.24" data-end="1177.97">on it that then fires off a secondary</span> <span data-start="1177.97" data-end="1180.25">lambda that all it knows how to do is</span> <span data-start="1180.25" data-end="1181.9">authorize the only thing this lambda</span> <span data-start="1181.9" data-end="1184.51">does is it takes the header and it looks</span> <span data-start="1184.51" data-end="1186.91">in here to see if it exists and if it</span> <span data-start="1186.91" data-end="1188.83">has the appropriate scopes for you to</span> <span data-start="1188.83" data-end="1190.53">execute what you're trying to execute an</span> <span data-start="1190.53" data-end="1195.16">api gateway right here actually has a</span> <span data-start="1195.16" data-end="1198.45">concept of authorizer and the authorizer</span> <span data-start="1198.45" data-end="1201.7">basically says you can check your token</span> <span data-start="1201.7" data-end="1207.01">you can build up an AWS what's the term</span> <span data-start="1207.01" data-end="1209.26">lost my lost my train of thought but you</span> <span data-start="1209.26" data-end="1210.7">basically build up your policy that's</span> <span data-start="1210.7" data-end="1212.87">what it is that grants our denies</span> <span data-start="1212.87" data-end="1215.15">as to what they're wanting and the API</span> <span data-start="1215.15" data-end="1216.95">gateway will receive that policy and</span> <span data-start="1216.95" data-end="1218.99">actually cache it at that layer so all</span> <span data-start="1218.99" data-end="1220.63">subsequent requests that that endpoint</span> <span data-start="1220.63" data-end="1222.92">will actually use the same policy that's</span> <span data-start="1222.92" data-end="1225.11">been cached so you can actually replay</span> <span data-start="1225.11" data-end="1226.79">tokens without having to overload the</span> <span data-start="1226.79" data-end="1228.44">number of executions of your lambdas</span> <span data-start="1228.44" data-end="1231.41">which ends up saving even more money so</span> </p>
<p><span data-start="1231.41" data-end="1233.45">I get a jump ahead I just got got the</span> <span data-start="1233.45" data-end="1235.76">signal here so application layer you end</span> <span data-start="1235.76" data-end="1237.65">up doing the handoff once everything has</span> <span data-start="1237.65" data-end="1241.85">been granted and you move forward this</span> <span data-start="1241.85" data-end="1244.12">one I think is a little more</span> <span data-start="1244.12" data-end="1247.16">approachable this is a full-on if we</span> <span data-start="1247.16" data-end="1248.84">wanted to do something like a mailing</span> <span data-start="1248.84" data-end="1252.8">list we could actually have the route 53</span> <span data-start="1252.8" data-end="1254.54">layer the DNS resolution had an API</span> <span data-start="1254.54" data-end="1257.39">gateway we can have the Gateway simply</span> <span data-start="1257.39" data-end="1261.26">drop payloads into like a registration</span> <span data-start="1261.26" data-end="1264.23">bucket so lambda can fire off mail great</span> <span data-start="1264.23" data-end="1265.49">yo you wanted to register we're gonna</span> <span data-start="1265.49" data-end="1267.44">drop drop your email address into a</span> <span data-start="1267.44" data-end="1270.2">dynamo DB table and then you might have</span> <span data-start="1270.2" data-end="1271.76">an administrator come in later and want</span> <span data-start="1271.76" data-end="1273.59">to actually send an email and they can</span> <span data-start="1273.59" data-end="1274.91">hit a different endpoint on the API</span> <span data-start="1274.91" data-end="1277.28">gateway and it'll kick you over and</span> <span data-start="1277.28" data-end="1279.32">build up a queue of all the emails that</span> <span data-start="1279.32" data-end="1280.61">need to be sent and then you can process</span> <span data-start="1280.61" data-end="1283.16">them however you like I want to jump</span> <span data-start="1283.16" data-end="1285.95">real quick and see if I can do a quick</span> <span data-start="1285.95" data-end="1291.17">demo or not so give me one moment I've</span> <span data-start="1291.17" data-end="1298.59">got just a couple minutes here and</span> <span data-start="1298.6" data-end="1301.76">alright so this is a whirlwind I will</span> <span data-start="1301.76" data-end="1303.89">tell you now I'm going to probably have</span> <span data-start="1303.89" data-end="1306.26">to cut this very short so if you have</span> <span data-start="1306.26" data-end="1307.88">questions or you want to walk through</span> <span data-start="1307.88" data-end="1309.73">this with me later please find me I'm</span> <span data-start="1309.73" data-end="1311.87">happy to talk through as much of this as</span> </p>
<p><span data-start="1311.87" data-end="1313.04">I can</span> <span data-start="1313.04" data-end="1316.22">API gateway essentially allows you to</span> <span data-start="1316.22" data-end="1318.98">just specify all of your endpoints like</span> <span data-start="1318.98" data-end="1321.29">you would it's almost if you've used</span> <span data-start="1321.29" data-end="1322.82">swagger or anything like that or or you</span> <span data-start="1322.82" data-end="1324.86">use happy Jas or anything that where you</span> <span data-start="1324.86" data-end="1329.6">can do a declarative style ap is or</span> <span data-start="1329.6" data-end="1331.61">routes that's basically what we can do</span> <span data-start="1331.61" data-end="1335.57">here and then you wire it up directly to</span> <span data-start="1335.57" data-end="1337.13">a lambda so you've got up here you see</span> <span data-start="1337.13" data-end="1339.08">the type as a lambda proxy on the</span> <span data-start="1339.08" data-end="1341.69">integration request basically what that</span> <span data-start="1341.69" data-end="1344.06">tells the api gateway to do is to do a</span> <span data-start="1344.06" data-end="1346.07">little bit of pre-processing and</span> <span data-start="1346.07" data-end="1347.57">create a context that's going to hand</span> <span data-start="1347.57" data-end="1349.76">off to your lambda function and so then</span> <span data-start="1349.76" data-end="1351.7">you write a little bit of node in your</span> <span data-start="1351.7" data-end="1367.61">lambdas over here slow there we go if</span> <span data-start="1367.61" data-end="1369.02">that loads that's great but there's some</span> <span data-start="1369.02" data-end="1371.81">node it's just a function that accepts a</span> <span data-start="1371.81" data-end="1373.07">context and some additional parameters</span> <span data-start="1373.07" data-end="1374.72">depending on the type of lambda you want</span> <span data-start="1374.72" data-end="1376.07">there's a lot more complexity I'm</span> <span data-start="1376.07" data-end="1378.38">smoothing a little bit of it over but it</span> <span data-start="1378.38" data-end="1380.27">gets handed of context from that context</span> <span data-start="1380.27" data-end="1381.86">you can basically look at the payload</span> <span data-start="1381.86" data-end="1382.97">that was parsed out you can look at the</span> <span data-start="1382.97" data-end="1384.47">headers you can make all kinds of</span> <span data-start="1384.47" data-end="1386.75">different decisions within your lambda</span> <span data-start="1386.75" data-end="1389.45">of what to do further and so in this</span> <span data-start="1389.45" data-end="1391.94">case I'm trying to load the email</span> <span data-start="1391.94" data-end="1393.41">sending one in this case we would</span> <span data-start="1393.41" data-end="1395.9">actually grab from dynamodb our entire</span> <span data-start="1395.9" data-end="1398.27">list of emails that have been registered</span> <span data-start="1398.27" data-end="1400.34">we would then take the body that was</span> <span data-start="1400.34" data-end="1402.05">sent to us and we just kind of line them</span> <span data-start="1402.05" data-end="1403.46">up together and send off an email to</span> <span data-start="1403.46" data-end="1404.96">each one of the users so it's a really</span> <span data-start="1404.96" data-end="1407.39">really rudimentary email management or</span> <span data-start="1407.39" data-end="1409.97">marketing type thing but that's that's</span> <span data-start="1409.97" data-end="1412.91">essentially all that there is in it is</span> <span data-start="1412.91" data-end="1415.73">the ability to wire up your API directly</span> <span data-start="1415.73" data-end="1417.32">into a lambda that knows how to process</span> <span data-start="1417.32" data-end="1419.15">glean the data that's been dropped in</span> <span data-start="1419.15" data-end="1422.03">from somewhere else so that never did</span> <span data-start="1422.03" data-end="1425.81">load did it nope all right well come to</span> <span data-start="1425.81" data-end="1430.07">be later well we'll run through it so</span> <span data-start="1430.07" data-end="1432.2">again that's all this this diagram is</span> <span data-start="1432.2" data-end="1434.15">showing in this case what I was doing is</span> <span data-start="1434.15" data-end="1436.49">dropping it into a queue and SQS and</span> <span data-start="1436.49" data-end="1438.02">then we'd be able to pull that queue and</span> <span data-start="1438.02" data-end="1440.12">pull off the generated emails to send</span> <span data-start="1440.12" data-end="1441.29">off you could have an iron port or</span> <span data-start="1441.29" data-end="1442.9">something like that to actually process</span> <span data-start="1442.9" data-end="1448.25">major email loads so besides that a</span> <span data-start="1448.25" data-end="1449.45">little bit of homework there are</span> <span data-start="1449.45" data-end="1451.55">multiple multiple multiple things to</span> <span data-start="1451.55" data-end="1453.38">consider we have not talked about this</span> <span data-start="1453.38" data-end="1456.62">is a very high level we have things like</span> </p>
<p><span data-start="1456.62" data-end="1458.54">I am roles you've got security models</span> <span data-start="1458.54" data-end="1460.34">you've got VPC for your private cloud</span> <span data-start="1460.34" data-end="1462.89">you have Direct Connect which I did</span> <span data-start="1462.89" data-end="1464.51">mention which lets you run things on</span> <span data-start="1464.51" data-end="1467.33">your internal or business network so</span> <span data-start="1467.33" data-end="1470">that you can actually control your</span> <span data-start="1470" data-end="1471.26">security a little bit better or have</span> <span data-start="1471.26" data-end="1473.06">security shared between internal and</span> <span data-start="1473.06" data-end="1476.36">cloud applications if you're using my</span> <span data-start="1476.36" data-end="1478.31">sequel Postgres something like that</span> <span data-start="1478.31" data-end="1479.2">there are</span> </p>
<p><span data-start="1479.2" data-end="1480.549">Frings to let you do that with your</span> <span data-start="1480.549" data-end="1482.139">database and let them scale it or host</span> <span data-start="1482.139" data-end="1485.08">it for you and again by them pretty much</span> <span data-start="1485.08" data-end="1486.25">all the providers have this type of</span> <span data-start="1486.25" data-end="1488.529">thing you've got caching layers you've</span> <span data-start="1488.529" data-end="1490.45">got all kinds of different things you</span> <span data-start="1490.45" data-end="1492.73">can use to to accent or complement the</span> <span data-start="1492.73" data-end="1494.679">serverless offerings we've looked at to</span> <span data-start="1494.679" data-end="1496.51">build out a much broader and more secure</span> <span data-start="1496.51" data-end="1500.2">application so I just did the demo and</span> <span data-start="1500.2" data-end="1503.14">so that's it thank you very much</span> </p>
</section>