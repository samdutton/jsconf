<section>
<p><span data-start="10.32" data-end="11.9">[Music]</span> <span data-start="11.9" data-end="15.389">usually drive down the coast I came here</span> <span data-start="15.389" data-end="21.359">the long way I've been building software</span> <span data-start="21.359" data-end="23.55">professionally since 1996</span> <span data-start="23.55" data-end="25.98">I am the organizer of Santa Barbara</span> <span data-start="25.98" data-end="29.73">JavaScript up the coast I love jazz</span> <span data-start="29.73" data-end="30.99">music if I were stranded on a desert</span> <span data-start="30.99" data-end="32.88">island and could take only one genre of</span> <span data-start="32.88" data-end="33.51">music with me</span> <span data-start="33.51" data-end="35.04">it'll be jazz it's America's greatest</span> <span data-start="35.04" data-end="37.05">gift for the world and I'm a dad of two</span> <span data-start="37.05" data-end="39.54">school-aged kids step-dad to a 19 year</span> <span data-start="39.54" data-end="41.85">old college student and husband of my</span> <span data-start="41.85" data-end="43.26">beautiful wife for five years that's me</span> <span data-start="43.26" data-end="44.879">on twitter follow me there for all sorts</span> <span data-start="44.879" data-end="48.629">of non sexy cold textured so I'm a</span> <span data-start="48.629" data-end="50.76">software architecture and pro core</span> <span data-start="50.76" data-end="51.96">technologies where cloud-based</span> <span data-start="51.96" data-end="53.85">constructions offer our company and</span> <span data-start="53.85" data-end="54.96">we're growing like wildfire</span> </p>
<p><span data-start="54.96" data-end="56.969">Glassdoor meaning us the number four</span> <span data-start="56.969" data-end="58.92">place overall to work in the US this</span> <span data-start="58.92" data-end="60.48">year number two in tech ahead of</span> <span data-start="60.48" data-end="61.949">heavyweights like Facebook Google</span> <span data-start="61.949" data-end="64.86">Microsoft Amazon etc and we're actively</span> <span data-start="64.86" data-end="67.29">hiring we got a large react codebase</span> <span data-start="67.29" data-end="69.6">you're interested in that see me after</span> <span data-start="69.6" data-end="70.95">the talker in the hallways I'll be happy</span> <span data-start="70.95" data-end="71.82">to put you in touch with the right</span> <span data-start="71.82" data-end="73.59">people and I do have some pro core</span> <span data-start="73.59" data-end="76.02">keychain bottle openers so hit me up</span> <span data-start="76.02" data-end="78.81">afterwards if you want to try when I'm</span> <span data-start="78.81" data-end="81.03">not geeking out over tech I'm an avid</span> <span data-start="81.03" data-end="86.009">scuba diver it's a bad habit don't get</span> <span data-start="86.009" data-end="88.59">into it it's a major waste of money but</span> <span data-start="88.59" data-end="91.59">it's a lot of fun all right so why</span> <span data-start="91.59" data-end="93.72">test-driven development well let's take</span> <span data-start="93.72" data-end="95.43">a step back for a moment for those who</span> <span data-start="95.43" data-end="97.29">aren't familiar and let's ask what is</span> <span data-start="97.29" data-end="99.9">test-driven development well it's a</span> <span data-start="99.9" data-end="101.43">software development methodology</span> <span data-start="101.43" data-end="103.799">agnostic and language technology</span> <span data-start="103.799" data-end="105.689">platform etc and it consists of</span> <span data-start="105.689" data-end="106.92">repeating a really short development</span> <span data-start="106.92" data-end="108.25">cycle</span> <span data-start="108.25" data-end="112.15">red green refactor read is writing a</span> <span data-start="112.15" data-end="113.59">failing test and watching it fail</span> <span data-start="113.59" data-end="114.97">knowing it's going to fail</span> </p>
<p><span data-start="114.97" data-end="117.55">Green is writing just enough code to</span> <span data-start="117.55" data-end="119.23">make that test pass and committing all</span> <span data-start="119.23" data-end="121.66">manner of sins to get there and refactor</span> <span data-start="121.66" data-end="123.4">is changing the internals or optimizing</span> <span data-start="123.4" data-end="124.75">the internals without breaking the</span> <span data-start="124.75" data-end="127.42">interface under tests so there's all</span> <span data-start="127.42" data-end="129.22">sorts of benefits to this methodology</span> <span data-start="129.22" data-end="131.44">some are technical some are process</span> <span data-start="131.44" data-end="133.93">based but in my mind the most important</span> <span data-start="133.93" data-end="135.91">outcome of test-driven development is</span> <span data-start="135.91" data-end="137.65">that a well-written suite becomes a</span> <span data-start="137.65" data-end="140.05">shared self documenting understanding of</span> <span data-start="140.05" data-end="141.54">the problem to me</span> <span data-start="141.54" data-end="144.28">so it's true that you can actually write</span> <span data-start="144.28" data-end="146.14">decent tests after the fact and you</span> <span data-start="146.14" data-end="148">could definitely get equivalent coverage</span> <span data-start="148" data-end="149.83">code coverage after the fact the problem</span> <span data-start="149.83" data-end="151.24">is you may be just asserting the</span> <span data-start="151.24" data-end="153.19">correctness of bad code or code that</span> <span data-start="153.19" data-end="155.44">solves the wrong problem in fact you're</span> <span data-start="155.44" data-end="156.97">kind of just verifying that the monster</span> <span data-start="156.97" data-end="161.38">lives okay wake up everybody I realized</span> <span data-start="161.38" data-end="162.97">that this sounds really dry and boring</span> <span data-start="162.97" data-end="165.55">but the truth is TDD can and should be</span> <span data-start="165.55" data-end="169.39">fun we first off we get to hook into the</span> <span data-start="169.39" data-end="171.43">brains own reward system we get to kick</span> <span data-start="171.43" data-end="173.08">that little dopamine rush off for each</span> <span data-start="173.08" data-end="175.18">passing test and then when we get a</span> <span data-start="175.18" data-end="176.769">whole suite of them it makes our</span> <span data-start="176.769" data-end="179.89">developer brains happy so we all agree</span> <span data-start="179.89" data-end="181.69">that test-driven development is awesome</span> <span data-start="181.69" data-end="183.519">right so why would you not want to do</span> <span data-start="183.519" data-end="186.22">this it turns out a few decades later</span> <span data-start="186.22" data-end="188.68">this practice is still controversial out</span> <span data-start="188.68" data-end="190.54">in the wild and there's various</span> <span data-start="190.54" data-end="192.58">different push backs most of which can</span> <span data-start="192.58" data-end="194.98">be pretty pretty easily countered it</span> <span data-start="194.98" data-end="196.63">does definitely feel wrong when you're</span> <span data-start="196.63" data-end="198.58">first doing it the rest of these can</span> <span data-start="198.58" data-end="200.65">easily be countered by the benefits that</span> <span data-start="200.65" data-end="202.63">are given in fact the the last couple</span> <span data-start="202.63" data-end="204.43">change happens to quickly solution isn't</span> <span data-start="204.43" data-end="206.59">clear TDD strength as it lets you</span> <span data-start="206.59" data-end="208.36">systematically close the knowledge gap</span> <span data-start="208.36" data-end="209.89">between where you are and where you want</span> <span data-start="209.89" data-end="211.42">to get to so I think you could pretty</span> <span data-start="211.42" data-end="213.01">easily throw these all in episode of</span> <span data-start="213.01" data-end="216.549">mythbusters' and maybe firmly busted so</span> <span data-start="216.549" data-end="218.5">we agree TDD is awesome</span> <span data-start="218.5" data-end="221.14">why test react components well to start</span> <span data-start="221.14" data-end="223.299">with there web technologies that we all</span> <span data-start="223.299" data-end="225.85">know and love are hard and at the end of</span> <span data-start="225.85" data-end="227.459">the day we're building user interfaces</span> <span data-start="227.459" data-end="229.75">right we're building something visual</span> <span data-start="229.75" data-end="231.76">and everybody and their mother has an</span> <span data-start="231.76" data-end="233.62">opinion on things that are visual and</span> <span data-start="233.62" data-end="236.049">then in react land we also have this</span> <span data-start="236.049" data-end="239.26">beast called JSX JSX looks an awful lot</span> <span data-start="239.26" data-end="240.96">like their web technologies</span> <span data-start="240.96" data-end="242.46">we're already familiar with it but in</span> <span data-start="242.46" data-end="246.54">fact it's not these things JSX is just</span> </p>
<p><span data-start="246.54" data-end="248.79">XML like extensions to the JavaScript</span> <span data-start="248.79" data-end="251.04">language it's syntactic sugar for the</span> <span data-start="251.04" data-end="252.36">create element method which just</span> <span data-start="252.36" data-end="255.12">produces react elements it's not HTML</span> <span data-start="255.12" data-end="258.35">it's not CSS I think it is JavaScript</span> <span data-start="258.35" data-end="264.15">got it awesome alright so we agree TDD</span> <span data-start="264.15" data-end="265.86">is awesome we think we should test our</span> <span data-start="265.86" data-end="269.79">react components how do we do that when</span> <span data-start="269.79" data-end="271.56">we think about testing react components</span> <span data-start="271.56" data-end="273.45">it helps to take a moment think about</span> <span data-start="273.45" data-end="275.52">the abstractions the react provides and</span> <span data-start="275.52" data-end="277.56">the primary abstraction that react</span> <span data-start="277.56" data-end="279.3">provides for us is to model a user</span> <span data-start="279.3" data-end="282.23">interface as a tree of components and</span> <span data-start="282.23" data-end="284.67">the docs actually give us some really</span> <span data-start="284.67" data-end="286.26">helpful little tidbits as we read</span> <span data-start="286.26" data-end="287.13">through them they tell us that</span> <span data-start="287.13" data-end="289.53">components are like functions they take</span> <span data-start="289.53" data-end="291.51">inputs and they return outputs that are</span> <span data-start="291.51" data-end="294.33">react elements and they go on to say</span> <span data-start="294.33" data-end="297.45">that they those react elements aren't</span> <span data-start="297.45" data-end="300.15">dominant they're plain objects and it's</span> <span data-start="300.15" data-end="301.56">not our responsibility to update the</span> <span data-start="301.56" data-end="303.26">don't react Dom will do that for us so</span> <span data-start="303.26" data-end="305.58">there's some really good little nuggets</span> <span data-start="305.58" data-end="306.96">in there that help us frame this</span> <span data-start="306.96" data-end="308.28">discussion around how to test react</span> <span data-start="308.28" data-end="310.26">components the first is components are</span> <span data-start="310.26" data-end="312.09">like functions they take inputs in</span> <span data-start="312.09" data-end="314.16">return outputs and there's a little</span> <span data-start="314.16" data-end="316.89">easier to test than a peer function the</span> <span data-start="316.89" data-end="318.9">outputs are react elements not Dom</span> <span data-start="318.9" data-end="321.75">elements those react elements are plain</span> <span data-start="321.75" data-end="324.03">objects and the Dom is none of your</span> <span data-start="324.03" data-end="324.57">business</span> </p>
<p><span data-start="324.57" data-end="326.73">I want to dig into that last point a</span> <span data-start="326.73" data-end="328.05">little bit more because it's important</span> <span data-start="328.05" data-end="330.66">it's reflected in the design of react we</span> <span data-start="330.66" data-end="332.22">actually get one package called react</span> <span data-start="332.22" data-end="334.5">and that is the core component hash</span> <span data-start="334.5" data-end="336.33">function and we get a completely</span> <span data-start="336.33" data-end="338.67">separate package called react Dom that's</span> <span data-start="338.67" data-end="340.35">responsible for the details of rendering</span> <span data-start="340.35" data-end="341.88">to the Dom because the Dom is an</span> <span data-start="341.88" data-end="345">implementation detail okay so we saw</span> <span data-start="345" data-end="347.82">from the docs that it's like react</span> <span data-start="347.82" data-end="349.56">components like a function take inputs</span> <span data-start="349.56" data-end="351.51">and returns outputs so if we take a</span> <span data-start="351.51" data-end="354.15">component in its simplest form this is a</span> <span data-start="354.15" data-end="355.98">basic function component from the docs</span> <span data-start="355.98" data-end="358.5">and if we just invoke that and pass it</span> <span data-start="358.5" data-end="361.02">an object with props what we get back is</span> <span data-start="361.02" data-end="363.24">a react element it's a plane object that</span> <span data-start="363.24" data-end="365.52">describes what might happen later if we</span> <span data-start="365.52" data-end="368.28">hand that off to react on this is not</span> <span data-start="368.28" data-end="370.29">super useful on its own from a testing</span> <span data-start="370.29" data-end="372.18">point of view there's no API here we</span> <span data-start="372.18" data-end="373.29">might be able to make some useful</span> <span data-start="373.29" data-end="374.11">assertions but we're</span> <span data-start="374.11" data-end="376.45">limited in what we can do so react ships</span> <span data-start="376.45" data-end="378.67">a package called react test renderer we</span> <span data-start="378.67" data-end="381.28">speak to it in JSX and we get back an</span> <span data-start="381.28" data-end="382.99">object with some methods on it like this</span> <span data-start="382.99" data-end="385.36">- tree method and we get back again a</span> <span data-start="385.36" data-end="386.98">plane object with a little bit more</span> <span data-start="386.98" data-end="389.77">detail and it also gives us an API by</span> <span data-start="389.77" data-end="391.87">which we can query the returned element</span> <span data-start="391.87" data-end="394.57">and make assertions about it so the docs</span> <span data-start="394.57" data-end="396.67">don't stop there they go further and</span> <span data-start="396.67" data-end="398.2">they tell us that if you're writing unit</span> <span data-start="398.2" data-end="400.63">tests shallow rendering can be helpful</span> <span data-start="400.63" data-end="402.16">because it frees us from worrying about</span> <span data-start="402.16" data-end="404.76">child components now this assumes that</span> <span data-start="404.76" data-end="407.71">unit testing is valuable to you and this</span> <span data-start="407.71" data-end="408.97">is another thing that's controversial</span> <span data-start="408.97" data-end="411.37">still out in the wild I believe that</span> <span data-start="411.37" data-end="412.93">years of testing experience have taught</span> <span data-start="412.93" data-end="415.57">us that based on cost and speed you</span> <span data-start="415.57" data-end="417.28">should spend most of your time at the</span> <span data-start="417.28" data-end="419.22">bottom of the test pyramid on unit tests</span> </p>
<p><span data-start="419.22" data-end="422.8">UI tests are important and then tests</span> <span data-start="422.8" data-end="424.18">service and integration tests are</span> <span data-start="424.18" data-end="425.68">important but they're more expensive</span> <span data-start="425.68" data-end="427.54">they're slower tend to be more brittle</span> <span data-start="427.54" data-end="429.82">and from a TDD perspective you're</span> <span data-start="429.82" data-end="431.8">starting at nothing so you're going to</span> <span data-start="431.8" data-end="434.56">be building unit tests first so with</span> <span data-start="434.56" data-end="436.51">that in mind the react test renderer</span> <span data-start="436.51" data-end="438.91">packages it ships a shallow render very</span> <span data-start="438.91" data-end="440.98">similar you talk to it in JSX and you</span> <span data-start="440.98" data-end="443.29">get back a plain object that you can</span> <span data-start="443.29" data-end="445.3">query it just doesn't render or</span> <span data-start="445.3" data-end="448.12">instantiate child objects the API is</span> <span data-start="448.12" data-end="450.37">fairly limited and the docs tell us that</span> <span data-start="450.37" data-end="452.2">if you want a more robust experience</span> <span data-start="452.2" data-end="453.94">with shallow rendering to use the</span> <span data-start="453.94" data-end="455.74">shallow render from enzyme this is a</span> <span data-start="455.74" data-end="458.65">package from Airbnb this library is also</span> <span data-start="458.65" data-end="460.24">not without its own controversy and</span> <span data-start="460.24" data-end="462.19">there are shinier new toys making their</span> <span data-start="462.19" data-end="463.62">way around the JavaScript ecosystem</span> <span data-start="463.62" data-end="465.88">there's definitely some legitimate</span> <span data-start="465.88" data-end="467.8">criticisms of enzyme but on the whole</span> <span data-start="467.8" data-end="469.81">especially for shallow rendering I think</span> <span data-start="469.81" data-end="471.46">the pros far outweigh the cons I</span> <span data-start="471.46" data-end="473.53">wholeheartedly recommend it and it's</span> <span data-start="473.53" data-end="474.61">what I'm gonna use for the rest of this</span> <span data-start="474.61" data-end="479.14">talk so all that said we now know the</span> </p>
<p><span data-start="479.14" data-end="481.36">TDD is awesome we all agree we should be</span> <span data-start="481.36" data-end="482.98">testing our react components we have</span> <span data-start="482.98" data-end="484.36">some idea how to do it</span> <span data-start="484.36" data-end="486.91">what do I mean then by testers and</span> <span data-start="486.91" data-end="489.1">component development what I'm really</span> <span data-start="489.1" data-end="491.34">getting at is this tendency to conflate</span> <span data-start="491.34" data-end="493.48">behavioral and presentational concerns</span> <span data-start="493.48" data-end="496.24">it's really easy especially in this</span> <span data-start="496.24" data-end="497.32">world of JSX</span> <span data-start="497.32" data-end="500.38">to go down the rabbit hole when you</span> <span data-start="500.38" data-end="502.06">should be testing the behavior or</span> <span data-start="502.06" data-end="503.44">verifying the behavior of the component</span> <span data-start="503.44" data-end="504.88">nobody's ever done that right they've</span> <span data-start="504.88" data-end="505.78">been in the middle of trying to make</span> <span data-start="505.78" data-end="507.31">something work and then they set it up</span> <span data-start="507.31" data-end="507.86">on the brows</span> <span data-start="507.86" data-end="509.419">and that should have a drop shadow that</span> <span data-start="509.419" data-end="510.83">should be three pictures to the left it</span> <span data-start="510.83" data-end="512.51">should be red etc</span> <span data-start="512.51" data-end="515.329">nobody's ever guilty of that so this is</span> <span data-start="515.329" data-end="516.95">basically applying the methodology of</span> </p>
<p><span data-start="516.95" data-end="519.829">TDD to focus entirely on the behavior of</span> <span data-start="519.829" data-end="521.719">a component first without worrying at</span> <span data-start="521.719" data-end="523.849">all about what it looks like we'll do</span> <span data-start="523.849" data-end="524.45">that later</span> <span data-start="524.45" data-end="530.39">we know that TDD forces us to compose or</span> <span data-start="530.39" data-end="532.13">output small modular single</span> <span data-start="532.13" data-end="534.23">responsibility units in this case react</span> <span data-start="534.23" data-end="537.5">components we can then compose those</span> <span data-start="537.5" data-end="539.51">together and write tests further up the</span> <span data-start="539.51" data-end="541.459">tree to verify the composition of those</span> <span data-start="541.459" data-end="543.44">and then we can focus on how they look</span> <span data-start="543.44" data-end="545.66">we already know that HTML and CSS are</span> <span data-start="545.66" data-end="548.18">hard so let's put our brains on the back</span> <span data-start="548.18" data-end="550.16">burner with a bunch of tests running on</span> <span data-start="550.16" data-end="551.959">the behavioral side of things and then</span> <span data-start="551.959" data-end="555.23">we can focus solely on the appearance so</span> <span data-start="555.23" data-end="557.14">what do you think should give a shot</span> <span data-start="557.14" data-end="560.42">cool so we know that the first thing</span> <span data-start="560.42" data-end="562.19">we're going to do is we're gonna write a</span> <span data-start="562.19" data-end="564.41">failing test but first let's have a</span> <span data-start="564.41" data-end="567.8">little context so we have a small bright</span> <span data-start="567.8" data-end="570.26">hungry development team and we've been</span> <span data-start="570.26" data-end="572.24">approached by a client with a unique</span> <span data-start="572.24" data-end="574.31">problem the clients told us they're</span> <span data-start="574.31" data-end="576.11">super busy they have a really hard time</span> <span data-start="576.11" data-end="577.49">keeping track of all the things they</span> <span data-start="577.49" data-end="580.04">have to do and what they want is an</span> <span data-start="580.04" data-end="581.93">application where they can type in tasks</span> <span data-start="581.93" data-end="584.06">they can mark them as complete they can</span> <span data-start="584.06" data-end="585.829">see which ones have done and not and</span> <span data-start="585.829" data-end="587.57">they could remove old done tasks and</span> <span data-start="587.57" data-end="590.029">since nobody in the history of software</span> <span data-start="590.029" data-end="591.56">engineering has ever built anything like</span> <span data-start="591.56" data-end="595.07">this our team has agreed that we can</span> <span data-start="595.07" data-end="596.449">step up to the plate and even though we</span> <span data-start="596.449" data-end="597.74">don't know how to get there we can use</span> </p>
<p><span data-start="597.74" data-end="601.42">TDD to bridge that knowledge gap so</span> <span data-start="601.42" data-end="605.269">we're gonna jump in six months into the</span> <span data-start="605.269" data-end="606.62">development cycle we're gonna see where</span> <span data-start="606.62" data-end="609.38">our team is so we know that test-driven</span> <span data-start="609.38" data-end="612.23">development produces as an artifact a</span> <span data-start="612.23" data-end="614.93">self documenting shared understanding of</span> <span data-start="614.93" data-end="617.949">the domain so let's run the tests and</span> <span data-start="617.949" data-end="622.43">what might be wrong here doesn't</span> <span data-start="622.43" data-end="627.86">recognize that let's run the tests and</span> <span data-start="627.86" data-end="629.899">let's see what we get and what we should</span> <span data-start="629.899" data-end="631.699">get is you should get some idea of what</span> <span data-start="631.699" data-end="633.17">the team has been up to in the past six</span> <span data-start="633.17" data-end="635.57">months all right so we've got some</span> <span data-start="635.57" data-end="637.01">output here let's see what they've been</span> <span data-start="637.01" data-end="639.5">doing so we can see sort of in plain</span> </p>
<p><span data-start="639.5" data-end="641.73">English that they've written this to do</span> <span data-start="641.73" data-end="643.649">component given a place to enter a new</span> <span data-start="643.649" data-end="645.42">task when a user presses enter and the</span> <span data-start="645.42" data-end="647.19">task is not empty responds with the task</span> <span data-start="647.19" data-end="649.67">it looks like they've also created a</span> <span data-start="649.67" data-end="652.32">component to hold a single to do give it</span> <span data-start="652.32" data-end="654.089">a task when displayed it shows the name</span> <span data-start="654.089" data-end="655.41">and whether it's complete or not and</span> <span data-start="655.41" data-end="656.94">they've written a button that bottom</span> <span data-start="656.94" data-end="659.01">navigation to switch between active and</span> <span data-start="659.01" data-end="661.74">completed — dues cool so that gives us</span> <span data-start="661.74" data-end="664.35">some idea of what they've been up to so</span> <span data-start="664.35" data-end="666.06">what we're gonna do as we're stepping in</span> <span data-start="666.06" data-end="668.55">here to help the team out glute for</span> <span data-start="668.55" data-end="669.75">those things and put them together into</span> <span data-start="669.75" data-end="671.79">a — duze component that has the input</span> <span data-start="671.79" data-end="673.92">that shows individual — dues and lets us</span> <span data-start="673.92" data-end="676.35">toggle between the views so the first</span> <span data-start="676.35" data-end="677.579">thing we know is we're gonna have to</span> <span data-start="677.579" data-end="687.839">write a failing test so let's do that so</span> <span data-start="687.839" data-end="694.35">let's say given a list of tasks when</span> <span data-start="694.35" data-end="703.519">displayed it shows each task in the list</span> <span data-start="703.519" data-end="705.68">sounds like a reasonable test right</span> <span data-start="705.68" data-end="709.17">everyone agree excellent ok so that</span> <span data-start="709.17" data-end="710.97">means that we're gonna need some tasks</span> <span data-start="710.97" data-end="715.16">to give this guy so let's add some tasks</span> <span data-start="715.16" data-end="722.43">so let's create some — dues and we'll</span> <span data-start="722.43" data-end="735.91">call them nonsensical names</span> <span data-start="735.92" data-end="738.72">okay cool now we can pass these to our</span> <span data-start="738.72" data-end="744.54">to do component so let's do that alright</span> <span data-start="744.54" data-end="747.09">so we've set up our test now we need to</span> <span data-start="747.09" data-end="748.68">make an assertion about it so what's a</span> <span data-start="748.68" data-end="749.97">reasonable assertion there we've given</span> <span data-start="749.97" data-end="752.49">it five to Do's why don't we say that</span> <span data-start="752.49" data-end="754.35">there's five individual to do components</span> <span data-start="754.35" data-end="755.97">one for each in the list sound</span> <span data-start="755.97" data-end="759.42">reasonable let's do it so we're going to</span> <span data-start="759.42" data-end="764.67">use an enzyme method called find and</span> <span data-start="764.67" data-end="766.5">we're gonna find our previously written</span> <span data-start="766.5" data-end="769.11">to do component and we're going to</span> <span data-start="769.11" data-end="770.91">verify that we have the right number of</span> <span data-start="770.91" data-end="789.11">them typos at all</span> <span data-start="789.12" data-end="791.38">okay let's run it and we should expect</span> <span data-start="791.38" data-end="793.99">that test to fail and it does it</span> <span data-start="793.99" data-end="796.6">definitely fails it fails with a syntax</span> <span data-start="796.6" data-end="799.45">error let's fix that first don't you</span> <span data-start="799.45" data-end="800.8">love that where's my syntax error</span> <span data-start="800.8" data-end="803.08">everyone help me out here this is the</span> <span data-start="803.08" data-end="805.69">perils of live coding oh I broke I broke</span> <span data-start="805.69" data-end="810.55">my my render area denied not to sought</span> <span data-start="810.55" data-end="817.21">hard let's do two do's that should fix</span> <span data-start="817.21" data-end="820.03">that okay that's better alright so it</span> <span data-start="820.03" data-end="821.77">still fails and it gives us this really</span> <span data-start="821.77" data-end="824.17">cryptic error react creat element type</span> <span data-start="824.17" data-end="826.09">is invalid so for those who have ever</span> <span data-start="826.09" data-end="827.59">worked in a statically typed languages</span> <span data-start="827.59" data-end="828.52">this is the equivalent of like a</span> <span data-start="828.52" data-end="830.77">compiler what it's telling us is that</span> <span data-start="830.77" data-end="832.72">the file that has our component and it</span> <span data-start="832.72" data-end="834.91">has nothing in it and our test run our</span> <span data-start="834.91" data-end="836.83">just is super helpful in that case gives</span> <span data-start="836.83" data-end="838.78">us a plain object and react has no idea</span> <span data-start="838.78" data-end="840.46">what to do with that so let's get</span> <span data-start="840.46" data-end="842.26">ourselves to at least a meaningful test</span> <span data-start="842.26" data-end="844.54">here I think that's gonna help us along</span> <span data-start="844.54" data-end="847.03">so let's grab our to Do's component and</span> <span data-start="847.03" data-end="849.1">let's just give it a basic react</span> <span data-start="849.1" data-end="853.09">component call to do's let's save that</span> <span data-start="853.09" data-end="854.62">now we should have a more meaningful air</span> <span data-start="854.62" data-end="857.08">great so it says give it a list of tasks</span> <span data-start="857.08" data-end="859.39">when displayed shows each in the list we</span> <span data-start="859.39" data-end="864.33">expected 5 we got 0 our test fails</span> <span data-start="864.33" data-end="867.07">alright and so armed with our failing</span> <span data-start="867.07" data-end="869.38">test we begin to cry we feel like</span> <span data-start="869.38" data-end="871.51">perhaps impostor syndrome is real maybe</span> <span data-start="871.51" data-end="873.16">we can't not cut out for this programmer</span> <span data-start="873.16" data-end="874.63">thing after all and we should maybe find</span> <span data-start="874.63" data-end="875.32">a new job</span> <span data-start="875.32" data-end="877.96">don't despair it's ok this is actually</span> <span data-start="877.96" data-end="880.75">progress a concrete failure is way</span> <span data-start="880.75" data-end="882.22">better than some sense that things are</span> <span data-start="882.22" data-end="883.72">failing and not knowing what's going on</span> <span data-start="883.72" data-end="887.29">and also and I can't under underscore</span> <span data-start="887.29" data-end="889.3">this enough if you've never seen a test</span> <span data-start="889.3" data-end="891.37">fail it's really hard to have confidence</span> <span data-start="891.37" data-end="893.41">that it's a valid test if you have a</span> <span data-start="893.41" data-end="895.45">whole suite of tests running in CI and</span> <span data-start="895.45" data-end="897.16">they always pass and you've never seen</span> <span data-start="897.16" data-end="897.73">one failed</span> <span data-start="897.73" data-end="899.86">chances are you have at least some false</span> <span data-start="899.86" data-end="901.84">positives and one of the things that TDD</span> <span data-start="901.84" data-end="904.06">gives us is the ability to verify up</span> <span data-start="904.06" data-end="906.13">front that a test can fail it's a super</span> <span data-start="906.13" data-end="909.58">important all right so the next step in</span> <span data-start="909.58" data-end="911.53">our short development cycle is the green</span> <span data-start="911.53" data-end="913.12">step and that's writing just enough code</span> <span data-start="913.12" data-end="915.37">to make this test to pass</span> <span data-start="915.37" data-end="917.45">and that's what we're gonna do and we're</span> <span data-start="917.45" data-end="918.98">gonna commit all manner of sins and</span> <span data-start="918.98" data-end="921.89">atrocities to get there so we have this</span> <span data-start="921.89" data-end="923.69">test it's failing um</span> </p>
<p><span data-start="923.69" data-end="925.58">I think probably the simplest thing that</span> <span data-start="925.58" data-end="927.56">we can do to make this test pass is just</span> <span data-start="927.56" data-end="929.87">a spit out five to do component do we</span> <span data-start="929.87" data-end="932.42">agree cool let's do it</span> <span data-start="932.42" data-end="938.84">so let's grab our to do component and</span> <span data-start="938.84" data-end="952.38">let's just spit out five of them</span> <span data-start="952.39" data-end="959.05">look bear with me there we go</span> <span data-start="959.05" data-end="962.18">let's run it and voila it passes</span> <span data-start="962.18" data-end="963.95">outstanding we got some console errors</span> <span data-start="963.95" data-end="964.97">there from prop type-checking</span> <span data-start="964.97" data-end="967.25">fix those later the point is our test</span> <span data-start="967.25" data-end="972.32">passes you would be cool so what do we</span> <span data-start="972.32" data-end="974.75">do there we did what's called a</span> <span data-start="974.75" data-end="976.88">shameless green or sinful green right</span> <span data-start="976.88" data-end="980.03">and even though the test passes the</span> <span data-start="980.03" data-end="981.35">implementation is not very useful</span> <span data-start="981.35" data-end="982.55">because it's very tightly coupled to</span> <span data-start="982.55" data-end="984.59">that test case if we wrote another test</span> <span data-start="984.59" data-end="986.81">case and threw it 6 — duze the test</span> <span data-start="986.81" data-end="988.25">would fail right there tightly coupled</span> <span data-start="988.25" data-end="990.2">so obviously this is not going to help</span> <span data-start="990.2" data-end="992.3">us much but what we did was we described</span> <span data-start="992.3" data-end="993.98">this perfect interface that we want for</span> <span data-start="993.98" data-end="995.9">our component and we achieved it with a</span> <span data-start="995.9" data-end="999.17">passing test more importantly we got</span> <span data-start="999.17" data-end="1000.64">that little dopamine rush from our</span> <span data-start="1000.64" data-end="1002.44">passing tests our developer brain is</span> <span data-start="1002.44" data-end="1004.42">happy we no longer feel like failures</span> <span data-start="1004.42" data-end="1006.13">maybe this imposter syndrome thing is</span> <span data-start="1006.13" data-end="1007.72">not real maybe we don't have to quit our</span> <span data-start="1007.72" data-end="1011.17">jobs we can proceed cool so now the next</span> <span data-start="1011.17" data-end="1013.21">step is we're gonna optimize the code</span> <span data-start="1013.21" data-end="1014.98">under tests without breaking the test</span> <span data-start="1014.98" data-end="1016.96">this is the refactor step so let's go</span> <span data-start="1016.96" data-end="1020.17">ahead and do that so I think what we</span> <span data-start="1020.17" data-end="1021.7">know what we need to do here right we</span> <span data-start="1021.7" data-end="1023.05">can't hard code these to do is we</span> <span data-start="1023.05" data-end="1024.76">probably just need to map over that to</span> <span data-start="1024.76" data-end="1027.82">dues that were given to us and output</span> <span data-start="1027.82" data-end="1034.24">those so let's do that so we have this</span> <span data-start="1034.24" data-end="1038.38">to do prop it's a map so we'll get its</span> <span data-start="1038.38" data-end="1044.23">entries array and then it will pluck</span> <span data-start="1044.23" data-end="1046.21">apart the values in there we've got a</span> <span data-start="1046.21" data-end="1048.61">key we'll call it task and we're gonna</span> <span data-start="1048.61" data-end="1049.9">have a boolean whether it's complete or</span> <span data-start="1049.9" data-end="1052.27">not okay so since we're mapping over</span> <span data-start="1052.27" data-end="1053.92">something here we're gonna need a key</span> <span data-start="1053.92" data-end="1056.85">and we have a map that has unique keys</span> <span data-start="1056.85" data-end="1063.49">so we can use that as our key so we use</span> <span data-start="1063.49" data-end="1067.78">the task as the key and then each one</span> <span data-start="1067.78" data-end="1069.97">needs it to do which is going to be the</span> <span data-start="1069.97" data-end="1072.49">same task and then each one has it is</span> <span data-start="1072.49" data-end="1077.14">complete okay and see what we got the</span> <span data-start="1077.14" data-end="1079.12">excellent we got a passing test Col</span> <span data-start="1079.12" data-end="1080.41">let's just while we're at it let's get</span> <span data-start="1080.41" data-end="1084.19">rid of those console warnings and we</span> <span data-start="1084.19" data-end="1086.02">know from reading the docs and the tests</span> <span data-start="1086.02" data-end="1089.08">that we have an unchanged event we don't</span> <span data-start="1089.08" data-end="1090.31">need to implement it right now we just</span> <span data-start="1090.31" data-end="1094.39">want to verify that the council warnings</span> <span data-start="1094.39" data-end="1099.89">are gone and we also have an on remove</span> <span data-start="1099.9" data-end="1101.14">cool</span> <span data-start="1101.14" data-end="1103.18">we have passing tests outstanding with</span> <span data-start="1103.18" data-end="1105.49">no council warnings so what did we do</span> <span data-start="1105.49" data-end="1108.22">there we committed this sinful green the</span> <span data-start="1108.22" data-end="1110.08">shameless green that got us to a passing</span> <span data-start="1110.08" data-end="1112.24">test and then we went back and fixed it</span> <span data-start="1112.24" data-end="1114.46">but chances are if you've been writing</span> <span data-start="1114.46" data-end="1116.32">react components for a while you know</span> <span data-start="1116.32" data-end="1118.06">what to do right the obvious the clean</span> <span data-start="1118.06" data-end="1119.89">implementation is obvious you should</span> <span data-start="1119.89" data-end="1120.46">just do it</span> <span data-start="1120.46" data-end="1121.93">so I'm not recommending that you</span> <span data-start="1121.93" data-end="1123.64">necessarily do these silly little in</span> <span data-start="1123.64" data-end="1126.31">between steps unless you don't know how</span> <span data-start="1126.31" data-end="1128.38">to reach the optimal solution sometimes</span> <span data-start="1128.38" data-end="1129.76">it won't be clear how to get from your</span> <span data-start="1129.76" data-end="1131.5">perfect interface to the right clean</span> <span data-start="1131.5" data-end="1133.81">solution so you get to refactor in small</span> <span data-start="1133.81" data-end="1136.06">steps until you get there and the</span> <span data-start="1136.06" data-end="1137.59">gentleman that coined the term</span> <span data-start="1137.59" data-end="1139.54">test-driven development guy named by the</span> <span data-start="1139.54" data-end="1141.52">neighbor Kent back in his book TDD by</span> <span data-start="1141.52" data-end="1144.1">example says that and he says this over</span> <span data-start="1144.1" data-end="1145.33">and over and over again throughout the</span> <span data-start="1145.33" data-end="1147.88">book TDD is not about taking teeny tiny</span> <span data-start="1147.88" data-end="1149.71">steps it's about being able to take</span> <span data-start="1149.71" data-end="1151.63">teeny tiny steps and he goes on to say</span> <span data-start="1151.63" data-end="1153.82">that if you all you ever do is take</span> <span data-start="1153.82" data-end="1155.77">large steps how would you know that a</span> <span data-start="1155.77" data-end="1157.51">smaller step might actually solve the</span> <span data-start="1157.51" data-end="1160.57">problem better so that's it in a</span> <span data-start="1160.57" data-end="1162.07">nutshell that's TDD</span> <span data-start="1162.07" data-end="1163.99">it's just that cycle and then you just</span> <span data-start="1163.99" data-end="1166.3">repeat it over and over and over again</span> <span data-start="1166.3" data-end="1168.58">till your application is done so in the</span> <span data-start="1168.58" data-end="1170.44">spirit of that let's go ahead and do so</span> <span data-start="1170.44" data-end="1172.66">let's repeat it and we have one test</span> <span data-start="1172.66" data-end="1175.3">right now this component is not super</span> <span data-start="1175.3" data-end="1177.94">useful for us we can display some to</span> <span data-start="1177.94" data-end="1179.56">do's but right now the user can't</span> <span data-start="1179.56" data-end="1180.91">interact with it so let's write another</span> <span data-start="1180.91" data-end="1182.92">test probably the first thing a user is</span> <span data-start="1182.92" data-end="1184.81">going to want to do is to add a new task</span> <span data-start="1184.81" data-end="1186.64">so let's go ahead and do that let's</span> <span data-start="1186.64" data-end="1189.61">write a test for that let's say when a</span> <span data-start="1189.61" data-end="1196.55">user chooses to add a new task</span> <span data-start="1196.56" data-end="1203.74">it shows the new task in the list so</span> <span data-start="1203.74" data-end="1207.16">good cool so we're gonna need to render</span> <span data-start="1207.16" data-end="1212.2">out the component again and we'll</span> <span data-start="1212.2" data-end="1213.91">bootstrap it with that same set of -</span> <span data-start="1213.91" data-end="1216.1">duze okay there's our arrangement by the</span> <span data-start="1216.1" data-end="1217.72">way a test a good test usually is in</span> <span data-start="1217.72" data-end="1219.13">three phases arranged</span> <span data-start="1219.13" data-end="1219.82">acta sir</span> <span data-start="1219.82" data-end="1221.47">so here's our arrangement now we're</span> <span data-start="1221.47" data-end="1223.749">gonna need to act so we already have</span> <span data-start="1223.749" data-end="1227.019">some components pre-built by our team we</span> <span data-start="1227.019" data-end="1228.489">have that individual to do component</span> <span data-start="1228.489" data-end="1229.989">we've also got this to do input</span> <span data-start="1229.989" data-end="1232.059">component and it's been tested we know</span> <span data-start="1232.059" data-end="1234.1">that it works and has a public contract</span> <span data-start="1234.1" data-end="1236.889">and in that public contract is a prop</span> <span data-start="1236.889" data-end="1239.409">called unchanged so here we're unit</span> <span data-start="1239.409" data-end="1241.21">testing this component in isolation we</span> <span data-start="1241.21" data-end="1242.289">don't need to worry about how that</span> <span data-start="1242.289" data-end="1243.879">internals with that other component</span> <span data-start="1243.879" data-end="1246.669">behave we're verifying that a callback</span> <span data-start="1246.669" data-end="1248.59">this component provides — it works</span> <span data-start="1248.59" data-end="1250.84">correctly and results in the right</span> <span data-start="1250.84" data-end="1252.549">output so what we're gonna do is we're</span> <span data-start="1252.549" data-end="1254.769">gonna find that to do input and we're</span> <span data-start="1254.769" data-end="1255.97">just going to directly call its on</span> <span data-start="1255.97" data-end="1257.95">change problem the unchanged prop is</span> <span data-start="1257.95" data-end="1260.47">provided by this component so we are</span> <span data-start="1260.47" data-end="1265.95">going to find that to do input component</span> <span data-start="1265.95" data-end="1271.659">and then we're going to get its props</span> <span data-start="1271.659" data-end="1275.529">collection and then we're just going to</span> <span data-start="1275.529" data-end="1277.989">call the unchanged method now but we're</span> <span data-start="1277.989" data-end="1281.019">gonna need to call it with something now</span> <span data-start="1281.019" data-end="1283.09">we're gonna need a new to do let's say</span> <span data-start="1283.09" data-end="1284.44">we're just gonna call it to do and let's</span> <span data-start="1284.44" data-end="1286.509">create that above so let's create a new</span> <span data-start="1286.509" data-end="1299.649">to do and we're gonna do something and</span> <span data-start="1299.649" data-end="1301.179">we're gonna fix that little typo there</span> <span data-start="1301.179" data-end="1303.009">okay cool so we're gonna cast it back</span> <span data-start="1303.009" data-end="1304.629">into the fiery chasm from whence it came</span> <span data-start="1304.629" data-end="1306.369">all right so at this point we've acted</span> <span data-start="1306.369" data-end="1307.57">now now we're gonna rush search</span> <span data-start="1307.57" data-end="1309.099">something about our action so there's</span> <span data-start="1309.099" data-end="1310.809">probably two assertions we could make</span> <span data-start="1310.809" data-end="1312.759">here that would be equally valid we</span> <span data-start="1312.759" data-end="1314.649">bootstrap this thing with five — duze we</span> <span data-start="1314.649" data-end="1316.09">can assert that now there's six and</span> <span data-start="1316.09" data-end="1318.639">that's a perfectly valid assertion but I</span> <span data-start="1318.639" data-end="1320.529">always prefer specificity and I think</span> <span data-start="1320.529" data-end="1321.879">there's a more specific assertion we</span> <span data-start="1321.879" data-end="1323.049">could make here and that's that we can</span> <span data-start="1323.049" data-end="1324.999">find it to do whose to do prop matches</span> <span data-start="1324.999" data-end="1328.119">that exactly so we're gonna do that so</span> <span data-start="1328.119" data-end="1332.779">let's make an assertion let's expect</span> <span data-start="1332.789" data-end="1335.619">that this is a really odd angle to type</span> </p>
<p><span data-start="1335.619" data-end="1336.099">AB</span> <span data-start="1336.099" data-end="1338.44">pardon my typos so we're gonna do first</span> <span data-start="1338.44" data-end="1344.629">is we're going to find all the to Do's</span> <span data-start="1344.639" data-end="1346.989">and then we're gonna call a more</span> <span data-start="1346.989" data-end="1348.94">granular version of find called find</span> <span data-start="1348.94" data-end="1349.82">where</span> <span data-start="1349.82" data-end="1353.749">and find where lets you run a predicate</span> <span data-start="1353.749" data-end="1355.609">over all the nodes all the children in</span> <span data-start="1355.609" data-end="1357.529">the tree and then it'll return those</span> <span data-start="1357.529" data-end="1358.729">that match the predicate so our</span> <span data-start="1358.729" data-end="1360.289">predicate is going to be that there's a</span> <span data-start="1360.289" data-end="1366.259">prop called or a azaab we're gonna find</span> <span data-start="1366.259" data-end="1369.619">a prop called to do</span> <span data-start="1369.619" data-end="1373.1">oops pardon me we're going to find a</span> <span data-start="1373.1" data-end="1375.289">prop called to do and that we're gonna</span> <span data-start="1375.289" data-end="1378.379">expect that it matches exactly but to do</span> <span data-start="1378.379" data-end="1381.049">that we just defined and then we're</span> <span data-start="1381.049" data-end="1383.809">gonna check that it exists and this is</span> <span data-start="1383.809" data-end="1384.859">going to tell us that at least one of</span> <span data-start="1384.859" data-end="1386.599">them exists or we'll expect that to be</span> <span data-start="1386.599" data-end="1393.019">true cool and let's run the test and we</span> <span data-start="1393.019" data-end="1395.57">should expect the test to fail and we</span> <span data-start="1395.57" data-end="1397.249">have an unexpected token so it's</span> <span data-start="1397.249" data-end="1398.69">definitely going to fail where did we</span> <span data-start="1398.69" data-end="1403.279">break it helped me out folks first one</span> <span data-start="1403.279" data-end="1405.08">to spot it gets a prize it looks like</span> <span data-start="1405.08" data-end="1410.119">it's here right there's the problem all</span> <span data-start="1410.119" data-end="1410.45">right</span> <span data-start="1410.45" data-end="1412.519">good okay cool so we got a failure as</span> <span data-start="1412.519" data-end="1415.94">expected and the failure tells us that</span> <span data-start="1415.94" data-end="1418.159">method props is meant to be run on one</span> <span data-start="1418.159" data-end="1421.58">node zero found instead and then it</span> <span data-start="1421.58" data-end="1422.659">shows us the line where that occurs</span> <span data-start="1422.659" data-end="1424.669">basically it's telling us it can't find</span> <span data-start="1424.669" data-end="1426.649">to do input right because we haven't</span> <span data-start="1426.649" data-end="1428.419">implemented it yet so let's go ahead and</span> <span data-start="1428.419" data-end="1431.119">implement it let's go back to our unit</span> <span data-start="1431.119" data-end="1433.609">under test so we're gonna need to import</span> <span data-start="1433.609" data-end="1440.929">that and then we're gonna need to render</span> <span data-start="1440.929" data-end="1448.129">one out right okay and then we also know</span> <span data-start="1448.129" data-end="1449.869">because we're invoking it that we're</span> <span data-start="1449.869" data-end="1450.889">gonna have to cut we're gonna have to</span> <span data-start="1450.889" data-end="1453.379">give it a non change and for the sake of</span> <span data-start="1453.379" data-end="1455.09">simplicity let's just call it on change</span> <span data-start="1455.09" data-end="1457.779">and then our job is going to be to</span> <span data-start="1457.779" data-end="1461.869">implement that so we know what's going</span> <span data-start="1461.869" data-end="1466.429">to take it to do now what are we gonna</span> <span data-start="1466.429" data-end="1470.38">do here</span> <span data-start="1470.39" data-end="1472.67">well we have some idea because we've</span> <span data-start="1472.67" data-end="1474.47">described the behavior that we want in</span> <span data-start="1474.47" data-end="1476.96">our test we basically have said that</span> <span data-start="1476.96" data-end="1480.23">when the user triggers this change event</span> <span data-start="1480.23" data-end="1481.97">that our new to do just magically</span> <span data-start="1481.97" data-end="1483.26">appears right</span> <span data-start="1483.26" data-end="1486.23">which probably implies some state we</span> <span data-start="1486.23" data-end="1487.61">can't mutate the props that are passed</span> <span data-start="1487.61" data-end="1490.28">in so it probably implies that we're</span> <span data-start="1490.28" data-end="1491.84">gonna have state means we're gonna need</span> <span data-start="1491.84" data-end="1494.72">a stateful component now in the old days</span> <span data-start="1494.72" data-end="1498.5">say in our last October that would have</span> <span data-start="1498.5" data-end="1499.55">meant that we would need a class</span> <span data-start="1499.55" data-end="1501.82">component that extends react component</span> <span data-start="1501.82" data-end="1504.32">but the folks at Facebook that work on</span> <span data-start="1504.32" data-end="1504.86">react</span> <span data-start="1504.86" data-end="1506.72">came up with an alternative API that</span> <span data-start="1506.72" data-end="1508.67">lets you hook into things like state</span> <span data-start="1508.67" data-end="1510.26">management from function components it's</span> <span data-start="1510.26" data-end="1512.36">called the hooks API this is good</span> <span data-start="1512.36" data-end="1515.24">because the overhead of classes is often</span> <span data-start="1515.24" data-end="1516.56">not needed and more importantly</span> <span data-start="1516.56" data-end="1518.21">javascript doesn't have classes</span> <span data-start="1518.21" data-end="1520.34">javascript just has syntax sugar on top</span> <span data-start="1520.34" data-end="1522.41">of constructors and prototype chains so</span> <span data-start="1522.41" data-end="1525.32">we're gonna use the use state hook so</span> <span data-start="1525.32" data-end="1530.77">we're gonna need to import it first and</span> <span data-start="1530.77" data-end="1533.83">it looks something like this</span> <span data-start="1533.83" data-end="1536">you give it the name of the state</span> <span data-start="1536" data-end="1537.98">container there's a setter provided for</span> <span data-start="1537.98" data-end="1539.39">you and then we'll initialize it with</span> <span data-start="1539.39" data-end="1541.82">the two dews that are passed in or we</span> <span data-start="1541.82" data-end="1544.4">don't get one we'll just initialize it</span> <span data-start="1544.4" data-end="1546.98">with a new map and then what that means</span> <span data-start="1546.98" data-end="1548.96">is that we should just be able to call</span> <span data-start="1548.96" data-end="1551">the setter or the mutated collection so</span> <span data-start="1551" data-end="1552.5">we should just be able to do set to dues</span> <span data-start="1552.5" data-end="1557.3">and just add our new one initialize to</span> <span data-start="1557.3" data-end="1560.39">false okay and we're almost done there's</span> <span data-start="1560.39" data-end="1561.56">just one more thing here that we're</span> <span data-start="1561.56" data-end="1563.99">gonna need to do to make this work first</span> <span data-start="1563.99" data-end="1567.26">one the spot it gets extra credit it's</span> <span data-start="1567.26" data-end="1568.58">alright I'll give it away right now</span> <span data-start="1568.58" data-end="1570.14">we're still reading off off the props</span> <span data-start="1570.14" data-end="1571.94">the read-only props that are passed in</span> <span data-start="1571.94" data-end="1573.71">so we actually need to read from our new</span> </p>
<p><span data-start="1573.71" data-end="1579.65">State container okay now we have syntax</span> <span data-start="1579.65" data-end="1581.38">errors all over the place what do we do</span> <span data-start="1581.38" data-end="1589.98">we broke something oh I know what it is</span> <span data-start="1589.99" data-end="1591.999">all right we're still broken would it be</span> <span data-start="1591.999" data-end="1596.58">break now we broke something</span> <span data-start="1596.58" data-end="1599.2">we broke one of our previous tests right</span> <span data-start="1599.2" data-end="1603.82">yeah no that's it help me out folks what</span> <span data-start="1603.82" data-end="1607.619">did we break hmm</span> <span data-start="1607.619" data-end="1616.809">we're in the source of the test right</span> <span data-start="1616.809" data-end="1630.279">here right here ah yeah thank you that</span> <span data-start="1630.279" data-end="1631.74">is outstanding thanks for the help</span> <span data-start="1631.74" data-end="1633.34">thanks for the assist</span> <span data-start="1633.34" data-end="1636.549">all right cool all right</span> <span data-start="1636.549" data-end="1639.519">so we have now what we're gonna do is</span> <span data-start="1639.519" data-end="1641.409">we're gonna fast forward another six</span> <span data-start="1641.409" data-end="1643.149">months you can tell like these things</span> <span data-start="1643.149" data-end="1644.2">take a long time for anyone that</span> <span data-start="1644.2" data-end="1645.429">actually works in the real world knows</span> <span data-start="1645.429" data-end="1647.019">that simple things take a long time in</span> <span data-start="1647.019" data-end="1648.82">the real world um we're gonna fast</span> <span data-start="1648.82" data-end="1650.649">forward six months and we're gonna let</span> <span data-start="1650.649" data-end="1652.119">our team continue along this journey of</span> <span data-start="1652.119" data-end="1653.44">test-driven development before they've</span> <span data-start="1653.44" data-end="1655.33">even looked at it in a browser and then</span> <span data-start="1655.33" data-end="1656.289">what's going to happen is they're gonna</span> <span data-start="1656.289" data-end="1658.059">have a fully functional application and</span> <span data-start="1658.059" data-end="1659.44">they haven't yet looked at it in the</span> <span data-start="1659.44" data-end="1661.539">browser it's probably going to look like</span> <span data-start="1661.539" data-end="1666.039">crap this is amazon.com when it launched</span> <span data-start="1666.039" data-end="1668.59">in 1999 by today's standards this looks</span> <span data-start="1668.59" data-end="1670.96">like absolute rubbish but it was a very</span> <span data-start="1670.96" data-end="1672.549">successful e-commerce site that allowed</span> </p>
<p><span data-start="1672.549" data-end="1674.679">Amazon to become the juggernaut that</span> <span data-start="1674.679" data-end="1677.32">they are today and this leads us then to</span> <span data-start="1677.32" data-end="1679.36">the really neat thing about test-driven</span> <span data-start="1679.36" data-end="1681.159">component development and that is that</span> <span data-start="1681.159" data-end="1684.49">we can treat the visual look and feel</span> <span data-start="1684.49" data-end="1686.769">portion of it as refactoring with</span> <span data-start="1686.769" data-end="1689.35">passing tests so we've already proven</span> <span data-start="1689.35" data-end="1692.679">that it works right now we can actually</span> <span data-start="1692.679" data-end="1694.33">set aside the behavioural part which was</span> <span data-start="1694.33" data-end="1696.519">hard right and we can let our tests run</span> <span data-start="1696.519" data-end="1698.019">and now we can focus on something else</span> <span data-start="1698.019" data-end="1700.48">that's hard which is CSS and HTML making</span> <span data-start="1700.48" data-end="1703.57">things look great so let's catch up with</span> <span data-start="1703.57" data-end="1711.93">the team and</span> <span data-start="1711.93" data-end="1714.78">see how they've done so the first thing</span> <span data-start="1714.78" data-end="1717.3">we're gonna do of course is to run our</span> <span data-start="1717.3" data-end="1719.97">tests and see how far they've come on</span> <span data-start="1719.97" data-end="1721.71">that component that we started helping</span> <span data-start="1721.71" data-end="1724.86">them with and what we can see is that</span> <span data-start="1724.86" data-end="1727.74">they were able to select only the active</span> <span data-start="1727.74" data-end="1730.98">tasks complete one and verify that it is</span> <span data-start="1730.98" data-end="1732.93">removed from the active tasks if you do</span> <span data-start="1732.93" data-end="1734.49">the opposite with completed tasks they</span> <span data-start="1734.49" data-end="1736.32">can delete one and they can remove one</span> <span data-start="1736.32" data-end="1737.79">so we're gonna do here is I'm going to</span> <span data-start="1737.79" data-end="1740.16">shrink these tests down not important</span> <span data-start="1740.16" data-end="1741.54">that you guys can read the individual</span> <span data-start="1741.54" data-end="1742.89">tests out there we just want to verify</span> <span data-start="1742.89" data-end="1745.62">that they're not breaking and then we</span> <span data-start="1745.62" data-end="1747.81">are going to stand up a browser over</span> <span data-start="1747.81" data-end="1752.19">here and we are going to let's go ahead</span> <span data-start="1752.19" data-end="1758.25">and get this guy here and I've got the</span> <span data-start="1758.25" data-end="1760.19">dev server running in the background and</span> <span data-start="1760.19" data-end="1763.32">the first thing we're gonna do is verify</span> <span data-start="1763.32" data-end="1765.03">that it in fact it actually does work</span> <span data-start="1765.03" data-end="1766.83">we've made this bold claim that we could</span> <span data-start="1766.83" data-end="1768.6">build an application without looking at</span> <span data-start="1768.6" data-end="1769.83">it so let's just see</span> <span data-start="1769.83" data-end="1772.05">can we add a new task it looks like we</span> <span data-start="1772.05" data-end="1774.3">can this is good this is progress</span> <span data-start="1774.3" data-end="1776.28">can't wait let's see all the active one</span> <span data-start="1776.28" data-end="1778.23">to see if we can complete one it looks</span> <span data-start="1778.23" data-end="1781.62">like we can looks good and let's see if</span> <span data-start="1781.62" data-end="1783.51">we can remove that it looks like it's</span> <span data-start="1783.51" data-end="1786">gone and then let's see if we can remove</span> <span data-start="1786" data-end="1788.97">them all okay cool so it worked it looks</span> <span data-start="1788.97" data-end="1791.31">like crap it's all just basic HTML</span> <span data-start="1791.31" data-end="1793.05">components there's no real pizzazz here</span> <span data-start="1793.05" data-end="1794.79">no style if we put different links</span> <span data-start="1794.79" data-end="1797.28">strings they're all off they're not</span> <span data-start="1797.28" data-end="1798.72">lined up it looks kind of like rubbish</span> <span data-start="1798.72" data-end="1801.84">so with that in mind let's do a little</span> <span data-start="1801.84" data-end="1803.49">bit of visual refactoring I'm gonna</span> <span data-start="1803.49" data-end="1805.98">cheat here and I'm gonna use component</span> <span data-start="1805.98" data-end="1808.59">library for some prettiness I'm gonna</span> <span data-start="1808.59" data-end="1810.87">use material your eye not because I</span> <span data-start="1810.87" data-end="1814.2">recommend it over other libraries the</span> <span data-start="1814.2" data-end="1816.18">real reason is a lot more practical and</span> <span data-start="1816.18" data-end="1817.71">that is that it's the one that's easiest</span> <span data-start="1817.71" data-end="1819.51">to drop into a project with no config</span> <span data-start="1819.51" data-end="1820.8">and no style sheets and it just looks</span> <span data-start="1820.8" data-end="1824.28">good so I'm gonna use that and I think</span> <span data-start="1824.28" data-end="1828.51">what we can do here let's go ahead swap</span> <span data-start="1828.51" data-end="1831.33">that out for a card all right let's make</span> <span data-start="1831.33" data-end="1842.91">it a flexbox</span> <span data-start="1842.92" data-end="1846.35">and let's make it not fill the whole</span> <span data-start="1846.35" data-end="1856.53">width let's say 90% let's line it laughs</span> <span data-start="1856.54" data-end="1859.84">this is a really odd angle to type from</span> <span data-start="1859.84" data-end="1861.44">all right that should be good enough</span> <span data-start="1861.44" data-end="1863.6">cool and then I think if we just wrap</span> <span data-start="1863.6" data-end="1868.46">these guys in their own container and</span> <span data-start="1868.46" data-end="1881.54">give it a flex of one</span> <span data-start="1881.55" data-end="1883.65">unless see what that looks like</span> <span data-start="1883.65" data-end="1887.5">good said here we go okay alright we're</span> <span data-start="1887.5" data-end="1888.19">getting somewhere</span> <span data-start="1888.19" data-end="1892.059">cool all right so we can also if we want</span> <span data-start="1892.059" data-end="1894.28">so we've just changed the mark up we</span> <span data-start="1894.28" data-end="1896.97">could also or like wrap this in a span</span> <span data-start="1896.97" data-end="1899.74">and everything should still work let's</span> <span data-start="1899.74" data-end="1901.63">just make sure that it works first and</span> <span data-start="1901.63" data-end="1904.15">then we'll prove it by looking at the</span> <span data-start="1904.15" data-end="1905.32">tests and the tests are all still</span> <span data-start="1905.32" data-end="1907.84">passing so if you've written good tests</span> <span data-start="1907.84" data-end="1908.71">if you've written tests that are</span> <span data-start="1908.71" data-end="1910.87">agnostic of implementation details you</span> <span data-start="1910.87" data-end="1912.19">can you should be able to move your</span> <span data-start="1912.19" data-end="1915.13">markup around style it add additional</span> <span data-start="1915.13" data-end="1916.69">wrapper components and everything should</span> <span data-start="1916.69" data-end="1920.65">still just work cool so let's jump ahead</span> <span data-start="1920.65" data-end="1924.79">just one more time here let's see what</span> <span data-start="1924.79" data-end="1927.25">the team has been up to for the next six</span> <span data-start="1927.25" data-end="1930.19">months just doing visual refactoring</span> <span data-start="1930.19" data-end="1934.72">working with the client and let's see</span> <span data-start="1934.72" data-end="1938.08">what we get let's run the tests just</span> <span data-start="1938.08" data-end="1939.22">make sure everything is still running</span> <span data-start="1939.22" data-end="1941.35">and you can see now our UI looks a</span> <span data-start="1941.35" data-end="1942.7">little bit glossy err we've got these</span> <span data-start="1942.7" data-end="1945.01">great little animated radio buttons</span> <span data-start="1945.01" data-end="1946.75">everything looks pretty cool so let's</span> <span data-start="1946.75" data-end="1953.2">just add one more task whoops well Jess</span> </p>
<p><span data-start="1953.2" data-end="1955.51">Kong is close enough let's mark that</span> <span data-start="1955.51" data-end="1956.91">sucker off the list</span> <span data-start="1956.91" data-end="1959.35">alright cool the perils of live coding</span> <span data-start="1959.35" data-end="1961.9">and so what did we do here we learned</span> <span data-start="1961.9" data-end="1964.9">that test-driven development is a thing</span> <span data-start="1964.9" data-end="1967.75">that it's good that testing react</span> <span data-start="1967.75" data-end="1969.49">components is worthwhile and important</span> <span data-start="1969.49" data-end="1972.58">we learned that using this technique we</span> <span data-start="1972.58" data-end="1974.02">could free ourselves from completing</span> <span data-start="1974.02" data-end="1975.79">behavior own presentational concerns</span> <span data-start="1975.79" data-end="1977.35">even though they're co-located in one</span> <span data-start="1977.35" data-end="1979.36">file we could focus on making components</span> <span data-start="1979.36" data-end="1981.67">work and then we could free ourselves to</span> <span data-start="1981.67" data-end="1984.429">focus on how they look we're happy our</span> <span data-start="1984.429" data-end="1986.52">customers happy and now we can get paid</span> <span data-start="1986.52" data-end="1988.33">and that's all I got</span> <span data-start="1988.33" data-end="1990.25">thanks a lot there's the repo that's me</span> <span data-start="1990.25" data-end="1990.77">on Twitter</span> <span data-start="1990.77" data-end="1994.27">[Applause]</span> </p>
</section>