<section>
<p><span data-start="17.53" data-end="22.72">hi everybody well that was loud I know</span> <span data-start="22.72" data-end="26.56">the schedule says awesomer MVC with 0</span> <span data-start="26.56" data-end="31.63">CSS but I called an audible on my on my</span> <span data-start="31.63" data-end="35.7">talk so we're going to be talking about</span> <span data-start="35.7" data-end="40.69">why rjs today a new library that</span> <span data-start="40.69" data-end="44.85">provides inversion of control</span> <span data-start="44.85" data-end="48.37">aspect-oriented programming and a lot of</span> <span data-start="48.37" data-end="51.129">other stuff to help you bootstrap kick</span> <span data-start="51.129" data-end="55.449">off and write apps in a very structured</span> <span data-start="55.449" data-end="62.489">way in JavaScript so if you were here</span> <span data-start="62.489" data-end="66.6">this morning for John hands talk on</span> <span data-start="66.6" data-end="71.74">modules you probably saw this little app</span> <span data-start="71.74" data-end="75.97">here pirate script or noob script where</span> <span data-start="75.97" data-end="79.06">you can pick which one you think is more</span> <span data-start="79.06" data-end="85.24">piratey we'll go with this one hey all</span> <span data-start="85.24" data-end="92.619">right play our little game here all</span> <span data-start="92.619" data-end="98.17">right I got them both right and so</span> <span data-start="98.17" data-end="100.539">you've probably built an app that sort</span> <span data-start="100.539" data-end="102.34">of looks similar to that under the hood</span> <span data-start="102.34" data-end="104.079">and it probably looks something like</span> <span data-start="104.079" data-end="107.649">this you've got on the front end you've</span> <span data-start="107.649" data-end="110.32">got some views you've got a controller</span> <span data-start="110.32" data-end="112.359">so we're managing those guys you've got</span> <span data-start="112.359" data-end="114.93">some models that are accessing some data</span> <span data-start="114.93" data-end="117.85">and all those are communicating with one</span> <span data-start="117.85" data-end="122.74">another but who creates those things</span> <span data-start="122.74" data-end="124.719">those are the application who creates</span> <span data-start="124.719" data-end="126.369">the controller the controller creates</span> <span data-start="126.369" data-end="129.369">the views who creates the models if the</span> <span data-start="129.369" data-end="131.41">controller who creates the controller if</span> <span data-start="131.41" data-end="132.79">the controller creates the models who</span> <span data-start="132.79" data-end="139.47">who does all that</span> <span data-start="139.48" data-end="143.51">that a little smaller so one thing you</span> <span data-start="143.51" data-end="144.92">can do and you've probably done this and</span> </p>
<p><span data-start="144.92" data-end="146.93">I've done it is you write some piece of</span> <span data-start="146.93" data-end="150.53">code that you load the whatever</span> <span data-start="150.53" data-end="152.93">mechanism and it does all of that for</span> <span data-start="152.93" data-end="155.57">you you write programmatic code to new</span> <span data-start="155.57" data-end="157.94">your controller new your views hand them</span> <span data-start="157.94" data-end="160.459">to the controller new your models do all</span> <span data-start="160.459" data-end="162.38">of that stuff set everything up set it</span> <span data-start="162.38" data-end="165.89">all in motion and then your code looks</span> <span data-start="165.89" data-end="170.56">like this and everything's good except</span> <span data-start="170.56" data-end="173.03">you kind of keep doing that over and</span> <span data-start="173.03" data-end="175.58">over for every page in your application</span> <span data-start="175.58" data-end="177.17">and every application you're right and</span> <span data-start="177.17" data-end="179.959">it always kind of goes the same way you</span> <span data-start="179.959" data-end="181.55">create some views you create a</span> <span data-start="181.55" data-end="183.59">controller you create some modules you</span> <span data-start="183.59" data-end="185.959">realize that I should have done it in</span> <span data-start="185.959" data-end="187.97">this order because hey I can do a bunch</span> <span data-start="187.97" data-end="189.62">of this stuff before damas the DOM is</span> <span data-start="189.62" data-end="191.27">ready so i can give the user a better</span> <span data-start="191.27" data-end="193.34">experience so i can do some x hr's</span> <span data-start="193.34" data-end="195.14">pulling some data all right let's</span> <span data-start="195.14" data-end="197.9">refactor all right first we'll load some</span> <span data-start="197.9" data-end="199.82">models will wait for Dom ready we'll</span> <span data-start="199.82" data-end="200.84">create some views will create a</span> <span data-start="200.84" data-end="203.09">controller ah I could create the</span> <span data-start="203.09" data-end="205.13">controller before dawn ready to okay we</span> <span data-start="205.13" data-end="207.44">refactor again we load some more models</span> <span data-start="207.44" data-end="209.68">we create a controller crap my</span> <span data-start="209.68" data-end="211.93">controller expected my views in the</span> <span data-start="211.93" data-end="214.519">constructor so I've got to refactor my</span> <span data-start="214.519" data-end="218.209">controller oh geez okay I do all of this</span> </p>
<p><span data-start="218.209" data-end="220.13">I debug I fix all the errors finally I</span> <span data-start="220.13" data-end="222.32">have a running app right no I get a</span> <span data-start="222.32" data-end="226.31">blank page so I debug again I fix all of</span> <span data-start="226.31" data-end="228.47">those errors and then I'm fed up right I</span> <span data-start="228.47" data-end="230.51">do I'm doing all this just so I can run</span> <span data-start="230.51" data-end="232.82">my app not this is not really my appt at</span> <span data-start="232.82" data-end="238.16">all and even if you're writing a single</span> <span data-start="238.16" data-end="242.15">page application and you only have to</span> <span data-start="242.15" data-end="245.35">write one loader well so you think</span> <span data-start="245.35" data-end="247.19">you're probably going to want to</span> <span data-start="247.19" data-end="248.63">structure your applications so that you</span> <span data-start="248.63" data-end="250.43">have if it's a single page app you have</span> <span data-start="250.43" data-end="252.53">different areas of your application that</span> <span data-start="252.53" data-end="253.91">the user can navigate to and you don't</span> <span data-start="253.91" data-end="255.35">want to load all of that in the</span> <span data-start="255.35" data-end="260.63">beginning so you have a user preferences</span> <span data-start="260.63" data-end="263.21">area that has a few tabs some HTML</span> <span data-start="263.21" data-end="264.74">templates for each of the tabs some</span> </p>
<p><span data-start="264.74" data-end="267.11">JavaScript driving at all you don't</span> <span data-start="267.11" data-end="269.94">really want to load that at least</span> <span data-start="269.94" data-end="271.77">most of the time until the user actually</span> <span data-start="271.77" data-end="273.45">needs it because how often do users</span> <span data-start="273.45" data-end="274.95">change their preferences maybe once then</span> <span data-start="274.95" data-end="280.62">they first log in so you go and you</span> <span data-start="280.62" data-end="283.26">write some code to load your user</span> <span data-start="283.26" data-end="285.18">preferences and create all the objects</span> <span data-start="285.18" data-end="287.49">and set the whole thing in motion and it</span> <span data-start="287.49" data-end="293.4">looks kinda like this so you do it all</span> <span data-start="293.4" data-end="295.47">over again and then you have another</span> <span data-start="295.47" data-end="297.15">section of your application and you do</span> <span data-start="297.15" data-end="298.95">it all over again and you write this</span> <span data-start="298.95" data-end="300.93">same code over and over even though it's</span> <span data-start="300.93" data-end="306.39">a single page app and not only do you</span> <span data-start="306.39" data-end="307.98">have to create it all you have to clean</span> <span data-start="307.98" data-end="309.84">it all up when the user clicks save or</span> <span data-start="309.84" data-end="311.64">cancel in their preferences you have to</span> <span data-start="311.64" data-end="313.17">destroy all those Dom nodes that you</span> <span data-start="313.17" data-end="315.24">created get it off the screen free all</span> <span data-start="315.24" data-end="317.88">your objects you know make the browser</span> <span data-start="317.88" data-end="324.53">happy don't keep it all around so can we</span> <span data-start="324.53" data-end="327.24">automate or make this process easier how</span> <span data-start="327.24" data-end="330.57">can we do that and that's what why rjs</span> <span data-start="330.57" data-end="334.31">aims to do it aims to allow you to</span> <span data-start="334.31" data-end="338.25">declaratively specify what your</span> <span data-start="338.25" data-end="341.46">controller is what your views are what</span> <span data-start="341.46" data-end="344.51">your models are what Dom nodes you need</span> <span data-start="344.51" data-end="349.65">other things like what events should be</span> <span data-start="349.65" data-end="351.75">hooked up between your view and your</span> <span data-start="351.75" data-end="353.669">controller so the controller can respond</span> <span data-start="353.669" data-end="355.14">to actions that the user takes in the</span> <span data-start="355.14" data-end="358.22">view and it allows you to do that all</span> <span data-start="358.22" data-end="361.169">declaratively you don't have to worry</span> <span data-start="361.169" data-end="362.94">about the order you don't have to worry</span> <span data-start="362.94" data-end="365.7">about when Dom ready happens why I was</span> <span data-start="365.7" data-end="367.11">going to figure all of that out for you</span> <span data-start="367.11" data-end="368.64">assemble it all into a running</span> <span data-start="368.64" data-end="374.75">application kick it off</span> <span data-start="374.76" data-end="378.63">so you write a JavaScript object literal</span> <span data-start="378.63" data-end="383.76">or you know Jason like spec that wire</span> <span data-start="383.76" data-end="387.54">assembles into a running app or a</span> <span data-start="387.54" data-end="390.42">running section of your app for you and</span> <span data-start="390.42" data-end="392.7">manages that so that you can then</span> <span data-start="392.7" data-end="394.59">destroy it with a single line of code</span> <span data-start="394.59" data-end="401.79">later so these are the things that wire</span> <span data-start="401.79" data-end="405.33">does we already mentioned component</span> <span data-start="405.33" data-end="409.01">lifecycle management it also provides</span> <span data-start="409.01" data-end="412.77">dependency injection including Dom nodes</span> <span data-start="412.77" data-end="415.41">so if you have a view that you want to</span> <span data-start="415.41" data-end="417.78">create in wire and it needs a dom node a</span> </p>
<p><span data-start="417.78" data-end="419.31">Dom container where it's going to put at</span> <span data-start="419.31" data-end="422.58">HTML you can hand that Dom node to the</span> <span data-start="422.58" data-end="426.15">view in the wire spec and again wire</span> <span data-start="426.15" data-end="430.53">will work out the order of things it</span> <span data-start="430.53" data-end="433.83">provides a set of connectors which allow</span> <span data-start="433.83" data-end="435.78">you to hook up your objects to one</span> <span data-start="435.78" data-end="437.19">another hook your views up to your</span> <span data-start="437.19" data-end="439.35">controllers hook your models up to your</span> <span data-start="439.35" data-end="443.61">views hook plain old objects up to each</span> <span data-start="443.61" data-end="447.89">other and it provides some</span> <span data-start="447.89" data-end="450.78">aspect-oriented programming we'll take a</span> <span data-start="450.78" data-end="455.94">look at that a little bit later so why</span> <span data-start="455.94" data-end="457.95">are managers life cycles by allowing you</span> <span data-start="457.95" data-end="461.93">to create configure initialize and</span> <span data-start="461.93" data-end="466.98">destroy components and it does this</span> <span data-start="466.98" data-end="469.83">through a plug-in architecture so that</span> <span data-start="469.83" data-end="473.28">you can do this with any type of object</span> <span data-start="473.28" data-end="476.37">it supports plain JavaScript objects out</span> <span data-start="476.37" data-end="479.67">of the box but it comes with a plug-in</span> <span data-start="479.67" data-end="482.24">now that allows you to do this with</span> <span data-start="482.24" data-end="485.25">digits so that if you don't want to use</span> <span data-start="485.25" data-end="487.95">dojo type in your HTML to create digits</span> <span data-start="487.95" data-end="491.37">you can create them in wire and it will</span> <span data-start="491.37" data-end="493.35">create them for you and then clean them</span> <span data-start="493.35" data-end="495.93">up when you when you want the to destroy</span> <span data-start="495.93" data-end="497.55">that section of your application you</span> <span data-start="497.55" data-end="499.62">could also there'll be plugins coming</span> <span data-start="499.62" data-end="502.35">for jQuery since jQuery widgets are sort</span> <span data-start="502.35" data-end="506.249">of non-standard JavaScript objects they</span> <span data-start="506.249" data-end="507.269">you have to create them through the</span> <span data-start="507.269" data-end="509.099">widget factory and you have to destroy</span> <span data-start="509.099" data-end="512.61">them through the jQuery API so you can't</span> <span data-start="512.61" data-end="515.699">just knew a JavaScript object so that</span> <span data-start="515.699" data-end="520.269">can be handled through wire plugins also</span> <span data-start="520.279" data-end="523.169">so remember that user preferences screen</span> <span data-start="523.169" data-end="525.6">that we had to write a loader for to</span> <span data-start="525.6" data-end="528.449">bring it into existence set up all the</span> <span data-start="528.449" data-end="531.24">events we had to knew all the the the</span> <span data-start="531.24" data-end="532.829">views and the controller hook them up</span> <span data-start="532.829" data-end="535.86">and then remember to destroy it all when</span> <span data-start="535.86" data-end="538.86">we're done you can wire that whole thing</span> <span data-start="538.86" data-end="542.85">into existence with one line of code you</span> <span data-start="542.85" data-end="544.5">write a spec for it wire it into</span> <span data-start="544.5" data-end="546.66">existence wire will manage all of that</span> <span data-start="546.66" data-end="548.37">for you hook it all up the user</span> <span data-start="548.37" data-end="550.649">interacts with it and then when the user</span> <span data-start="550.649" data-end="553.68">is done they click save or cancel in</span> <span data-start="553.68" data-end="556.559">your spec you've hooked up that save or</span> <span data-start="556.559" data-end="560.189">cancel event to your controller your</span> <span data-start="560.189" data-end="563.37">controller then destroys the wired</span> <span data-start="563.37" data-end="566.699">container and all of that stuff goes</span> <span data-start="566.699" data-end="574.92">away but isn't this when we're talking</span> <span data-start="574.92" data-end="578.1">about dependencies so if we have a view</span> <span data-start="578.1" data-end="582.24">that depends on some data isn't this</span> <span data-start="582.24" data-end="584.819">what we already talked about when we</span> <span data-start="584.819" data-end="592.72">talk about an AMD loader yes and no</span> <span data-start="592.73" data-end="594.959">we're going to divert just a second and</span> <span data-start="594.959" data-end="598.889">talk about why that's the case good</span> <span data-start="598.889" data-end="600.569">software is built on abstractions we</span> <span data-start="600.569" data-end="603.149">know this we'd like to be able to write</span> <span data-start="603.149" data-end="604.8">generic components that can be</span> <span data-start="604.8" data-end="607.139">configured to solve this problem in a</span> <span data-start="607.139" data-end="608.55">specific situation for us so we don't</span> <span data-start="608.55" data-end="609.839">have to write that component over and</span> <span data-start="609.839" data-end="612.42">over and over and over again and if you</span> <span data-start="612.42" data-end="617.689">do that you can mix and match them dojo</span> <span data-start="617.689" data-end="620.069">data stores are a good example of this</span> <span data-start="620.069" data-end="622.949">they provide a JSON rest or they provide</span> <span data-start="622.949" data-end="625.29">a memory store and they provide a</span> <span data-start="625.29" data-end="628.11">standard API for accessing those get put</span> <span data-start="628.11" data-end="632.459">add remove they also provide some</span> <span data-start="632.459" data-end="634.579">decorators that allow you to do caching</span> <span data-start="634.579" data-end="638.04">allow you to observe new objects being</span> <span data-start="638.04" data-end="638.85">added to the store</span> <span data-start="638.85" data-end="640.8">in your in your application so you can</span> <span data-start="640.8" data-end="642.24">react to that display a new item in the</span> <span data-start="642.24" data-end="645">list and the reason this all works is</span> <span data-start="645" data-end="648.269">because they created a standard API that</span> <span data-start="648.269" data-end="650.73">matches what we expect from a rest</span> <span data-start="650.73" data-end="655.889">endpoint so you could with this API</span> <span data-start="655.889" data-end="658.019">design of you that's very generic and</span> <span data-start="658.019" data-end="660.93">could draw its data from a rest endpoint</span> <span data-start="660.93" data-end="663.81">or from a memory store for testing or</span> <span data-start="663.81" data-end="666">maybe you have some data that you just</span> <span data-start="666" data-end="668.67">want to you don't need to fetch it from</span> <span data-start="668.67" data-end="670.709">from a rest store it's a small amount of</span> <span data-start="670.709" data-end="673.589">data like you know name prefixes mr.</span> <span data-start="673.589" data-end="675.42">mrs. things like that it's not going to</span> <span data-start="675.42" data-end="677.55">change so you just use a memory store</span> <span data-start="677.55" data-end="679.29">for that you could design a view that</span> <span data-start="679.29" data-end="681.3">could use either of those or any</span> <span data-start="681.3" data-end="684.75">combination of those things and so</span> <span data-start="684.75" data-end="687.72">really there are many kinds of</span> <span data-start="687.72" data-end="690.899">dependencies there are integral</span> <span data-start="690.899" data-end="693.329">dependencies which your component just</span> <span data-start="693.329" data-end="695.759">simply can't function without these it</span> <span data-start="695.759" data-end="698.85">needs these exact things and AMD is</span> <span data-start="698.85" data-end="701.389">really good and other module loaders</span> <span data-start="701.389" data-end="703.529">dependency managers are really good at</span> <span data-start="703.529" data-end="706.199">solving that problem those are also</span> <span data-start="706.199" data-end="708.24">required dependencies it just can't work</span> <span data-start="708.24" data-end="710.579">without those but then there also a set</span> <span data-start="710.579" data-end="713.43">of configurable dependencies like a data</span> <span data-start="713.43" data-end="715.74">store you might want to point a data</span> <span data-start="715.74" data-end="717.99">store at this rest endpoint or you might</span> <span data-start="717.99" data-end="719.339">want to use a memory store and you might</span> <span data-start="719.339" data-end="720.959">want to hand either one of those to a</span> <span data-start="720.959" data-end="723.089">view you don't want to specify that data</span> <span data-start="723.089" data-end="725.639">store as a dependency in your module</span> <span data-start="725.639" data-end="727.98">dependencies because then you can't use</span> <span data-start="727.98" data-end="731.13">that component anywhere else and then</span> <span data-start="731.13" data-end="732.959">there are optional dependencies your</span> <span data-start="732.959" data-end="735.899">component may behave in one way if you</span> <span data-start="735.899" data-end="738.75">give it some extra information but maybe</span> <span data-start="738.75" data-end="741.089">that information is a isn't available or</span> <span data-start="741.089" data-end="742.38">you don't need it in a particular</span> <span data-start="742.38" data-end="744.99">situation so you'd like your component</span> <span data-start="744.99" data-end="747.569">to still function but maybe in a more</span> <span data-start="747.569" data-end="749.37">limited way and that's perfectly</span> <span data-start="749.37" data-end="751.16">reasonable so there are optional</span> <span data-start="751.16" data-end="757.139">dependencies module loaders don't</span> <span data-start="757.139" data-end="760.29">necessarily solve the configurable and</span> <span data-start="760.29" data-end="763.079">optional dependencies problem they</span> <span data-start="763.079" data-end="764.939">certainly solve the integral and</span> <span data-start="764.939" data-end="769.07">required dependencies problem</span> <span data-start="769.08" data-end="773.01">and this is the whole one of the holes</span> <span data-start="773.01" data-end="777.09">that why rjs fills it allows you to</span> <span data-start="777.09" data-end="780.12">inject specific dependencies concrete</span> <span data-start="780.12" data-end="782.19">dependencies the actual objects that are</span> <span data-start="782.19" data-end="783.63">going to be used when the application</span> <span data-start="783.63" data-end="786.84">runs for the specific situation that you</span> <span data-start="786.84" data-end="788.46">need so if you have a view you want to</span> <span data-start="788.46" data-end="789.93">use multiple times you want to give it</span> <span data-start="789.93" data-end="792.42">different kinds of data just instantiate</span> <span data-start="792.42" data-end="795">three copies of it and inject the data</span> <span data-start="795" data-end="802.02">stores that each one needs so for</span> <span data-start="802.02" data-end="807.06">example let's take a look at what that</span> <span data-start="807.06" data-end="814.24">looks like</span> <span data-start="814.25" data-end="818.27">this is actually code from the pirate</span> <span data-start="818.27" data-end="821.26">script or nude script application and</span> <span data-start="821.26" data-end="826.91">this is a wire spec this is what you</span> <span data-start="826.91" data-end="828.92">would write to bring all the components</span> <span data-start="828.92" data-end="831.47">of your application together you'll</span> <span data-start="831.47" data-end="834.34">notice that it itself is an AMD module</span> <span data-start="834.34" data-end="838.16">but it's just basically a JavaScript</span> <span data-start="838.16" data-end="843.44">object literal and you can see down here</span> <span data-start="843.44" data-end="846.74">at the bottom we're declaring that hey</span> </p>
<p><span data-start="846.74" data-end="851.89">I've got a view called codes view it's</span> <span data-start="851.89" data-end="855.11">comes from this AMD module instantiate</span> <span data-start="855.11" data-end="858.59">me one of these I want to pass it it's I</span> <span data-start="858.59" data-end="860.93">want to pass its constructor a dom node</span> <span data-start="860.93" data-end="863.27">that i'm going to query for it has the</span> <span data-start="863.27" data-end="865.55">class codes container which might return</span> <span data-start="865.55" data-end="868.46">many but i want the first one I've got</span> <span data-start="868.46" data-end="870.47">heading view which was up at the top you</span> <span data-start="870.47" data-end="873.83">saw the pictures of the Pirates that</span> <span data-start="873.83" data-end="875.81">comes that's going to instantiate this</span> </p>
<p><span data-start="875.81" data-end="877.93">AMD module called Hayt heading view</span> <span data-start="877.93" data-end="881.74">again we're going to hand at a dom node</span> <span data-start="881.74" data-end="885.11">I've got some results that we're going</span> <span data-start="885.11" data-end="886.73">to put in this results container but</span> <span data-start="886.73" data-end="890">notice there's no results view here we</span> <span data-start="890" data-end="891.95">don't need that when we start we'll see</span> <span data-start="891.95" data-end="894.35">how that happens later and then we've</span> <span data-start="894.35" data-end="897.2">got our controller and it's a pirate</span> <span data-start="897.2" data-end="900.17">script controller and we're going to</span> <span data-start="900.17" data-end="901.25">create it we're going to call its</span> <span data-start="901.25" data-end="902.81">constructor with no arguments and then</span> <span data-start="902.81" data-end="903.86">we're going to set a bunch of properties</span> <span data-start="903.86" data-end="908.18">on it and if you're familiar with JSON</span> <span data-start="908.18" data-end="911.03">referencing the syntax dollar ref this</span> <span data-start="911.03" data-end="914.99">is wire uses Jason referencing syntax so</span> <span data-start="914.99" data-end="916.94">what we're saying is there's a coat</span> <span data-start="916.94" data-end="919.1">underscore codes view property on the</span> <span data-start="919.1" data-end="923.18">controller and hey make it point to this</span> <span data-start="923.18" data-end="927.53">view up here that we just created so I'm</span> <span data-start="927.53" data-end="932.6">wiring in the views the codes view some</span> <span data-start="932.6" data-end="936.71">data a node that the controller is going</span> <span data-start="936.71" data-end="938.36">to manage for the whole application and</span> <span data-start="938.36" data-end="943.01">and some data turns and thresholds up</span> <span data-start="943.01" data-end="945.11">here so these can be just plain old</span> </p>
<p><span data-start="945.11" data-end="946.67">JavaScript objects if you want they can</span> <span data-start="946.67" data-end="948.019">be arrays they can be value</span> <span data-start="948.019" data-end="949.22">they can be strings they can be whatever</span> <span data-start="949.22" data-end="952.67">you want but wire is going to create all</span> <span data-start="952.67" data-end="954.709">of this it's going to manage the order</span> <span data-start="954.709" data-end="956.119">of creating these views it's going to</span> <span data-start="956.119" data-end="958.579">make sure the dom is ready before it</span> <span data-start="958.579" data-end="962.869">creates this view and before it hands it</span> <span data-start="962.869" data-end="965.149">to the controller because the controller</span> <span data-start="965.149" data-end="966.679">can't really do anything with it until</span> <span data-start="966.679" data-end="968.119">the view is ready and the view can't be</span> <span data-start="968.119" data-end="975.679">ready until the dom is ready and i just</span> <span data-start="975.679" data-end="978.17">mentioned that the ordering very</span> <span data-start="978.17" data-end="982.73">important wire takes care of that for</span> <span data-start="982.73" data-end="987.139">you if you notice you could move this</span> <span data-start="987.139" data-end="990.29">stuff around in this spec and the</span> <span data-start="990.29" data-end="994.1">application would still work so you</span> <span data-start="994.1" data-end="997.04">don't have to think about it I'll take</span> <span data-start="997.04" data-end="1004.04">this controller and put it up here</span> </p>
<p><span data-start="1004.05" data-end="1007.78">Oh</span> <span data-start="1007.79" data-end="1010.61">let's just lent that real quick oh haha</span> <span data-start="1010.61" data-end="1021.47">all right let's reload oh no anyway must</span> <span data-start="1021.47" data-end="1028.38">have it comma to have a comment there</span> <span data-start="1028.39" data-end="1030.71">anyway I might worry about commas right</span> <span data-start="1030.71" data-end="1036.32">now okay so you have component a that</span> <span data-start="1036.32" data-end="1037.43">needs component of B that needs</span> <span data-start="1037.43" data-end="1040.19">component C D and E and C needs a dom</span> <span data-start="1040.19" data-end="1042.5">node normally you'd have to think about</span> <span data-start="1042.5" data-end="1043.73">that you would have to write the code</span> <span data-start="1043.73" data-end="1045.11">create the objects in the right order</span> <span data-start="1045.11" data-end="1047.66">access the Dom use your Dom ready</span> <span data-start="1047.66" data-end="1049.73">function put the right set of code</span> <span data-start="1049.73" data-end="1052.85">inside of that Dom ready call back make</span> <span data-start="1052.85" data-end="1054.98">sure you've got your variable scope</span> <span data-start="1054.98" data-end="1056.93">correctly for all of that you don't need</span> <span data-start="1056.93" data-end="1058.85">to worry about that here just declare</span> <span data-start="1058.85" data-end="1062.36">what you need and wire will make it</span> <span data-start="1062.36" data-end="1069.33">happen when it needs to happen</span> <span data-start="1069.34" data-end="1071.78">connectors is the next thing that wire</span> <span data-start="1071.78" data-end="1074.75">offers and these are when you draw a box</span> <span data-start="1074.75" data-end="1077.47">in line diagram these are the lines</span> <span data-start="1077.47" data-end="1080.48">these are just as important how your</span> <span data-start="1080.48" data-end="1082.28">components communicate are just as</span> <span data-start="1082.28" data-end="1085.92">important as the components themselves</span> <span data-start="1085.93" data-end="1091.61">and wire offers a couple of these out of</span> <span data-start="1091.61" data-end="1093.74">the box you can inject dependencies</span> <span data-start="1093.74" data-end="1095.39">directly so that objects get references</span> <span data-start="1095.39" data-end="1096.86">to other objects and you can call</span> <span data-start="1096.86" data-end="1098.27">methods on them that's one type of</span> <span data-start="1098.27" data-end="1100.37">connector but that's pretty tight</span> <span data-start="1100.37" data-end="1102.08">tightly coupled but sometimes you need</span> <span data-start="1102.08" data-end="1105.44">it it's less tightly coupled and</span> <span data-start="1105.44" data-end="1107.03">actually creating the object inside</span> <span data-start="1107.03" data-end="1108.83">you're inside your component and then</span> <span data-start="1108.83" data-end="1110.06">you're using it because here you could</span> <span data-start="1110.06" data-end="1112.4">swap different ones in but you can also</span> <span data-start="1112.4" data-end="1117.08">hook up events and pub sub and wire does</span> <span data-start="1117.08" data-end="1119.06">this through plugins right now it</span> <span data-start="1119.06" data-end="1121.22">supports dojo so it actually has a</span> <span data-start="1121.22" data-end="1124.55">plug-in that when you use the wire event</span> <span data-start="1124.55" data-end="1126.47">connector and you're using the dojo</span> <span data-start="1126.47" data-end="1128.27">plug-in it's using dojo connect under</span> <span data-start="1128.27" data-end="1130.49">the under the scenes same with pub sub</span> <span data-start="1130.49" data-end="1132.53">if you do pub sub and even you use the</span> <span data-start="1132.53" data-end="1135.92">dojo plugin it's going to use dojo pub</span> <span data-start="1135.92" data-end="1138.68">sub so you're integrating with if you're</span> <span data-start="1138.68" data-end="1139.7">already using dojo</span> <span data-start="1139.7" data-end="1141.799">pub sub you can leverage that you don't</span> <span data-start="1141.799" data-end="1144.919">have another pub sub system to take care</span> <span data-start="1144.919" data-end="1151.23">of and work with</span> <span data-start="1151.24" data-end="1155.09">and lastly it provides aspect-oriented</span> <span data-start="1155.09" data-end="1157.88">programming also through a plug-in and</span> <span data-start="1157.88" data-end="1160.7">if you're not familiar with aop it's a</span> <span data-start="1160.7" data-end="1163.1">way that you can augment and customize</span> <span data-start="1163.1" data-end="1165.68">the functionality of existing components</span> <span data-start="1165.68" data-end="1167.66">maybe you wrote maybe you didn't write</span> <span data-start="1167.66" data-end="1169.91">without actually modifying the source</span> <span data-start="1169.91" data-end="1172.78">code it allows you to add aspects to</span> <span data-start="1172.78" data-end="1176.21">components some examples of those you</span> <span data-start="1176.21" data-end="1179.27">can apply decorators you can add advice</span> <span data-start="1179.27" data-end="1182.36">before after around you can introduce</span> <span data-start="1182.36" data-end="1184.85">mix-ins in the fly introduce new methods</span> <span data-start="1184.85" data-end="1186.68">introduce new interfaces into an object</span> <span data-start="1186.68" data-end="1189.47">and you know these are all useful in</span> <span data-start="1189.47" data-end="1194.18">various specific situations one the sort</span> <span data-start="1194.18" data-end="1196.43">of canonical aop example is adding</span> <span data-start="1196.43" data-end="1198.23">logging to some component that you don't</span> <span data-start="1198.23" data-end="1200.36">have access to all right that's great</span> <span data-start="1200.36" data-end="1204.26">but it's kind of boring so more fun is</span> <span data-start="1204.26" data-end="1207.86">to take dojos Jason rest or write</span> <span data-start="1207.86" data-end="1210.91">yourself a validating decorator for it</span> <span data-start="1210.91" data-end="1215.33">that uses JSON schema use wire to inject</span> <span data-start="1215.33" data-end="1217.16">the schema into your decorator and then</span> <span data-start="1217.16" data-end="1220.22">apply your decorator to dojos Jason rest</span> <span data-start="1220.22" data-end="1222.65">or and then inject that store into your</span> <span data-start="1222.65" data-end="1224.66">controller all without changing any of</span> <span data-start="1224.66" data-end="1227.06">the code in Jason restore or your</span> <span data-start="1227.06" data-end="1234.23">controller so let's see what some of</span> <span data-start="1234.23" data-end="1239.36">this stuff looks like so we already saw</span> <span data-start="1239.36" data-end="1241.91">this example this is from pirate script</span> <span data-start="1241.91" data-end="1245.06">or noob script and here's another</span> <span data-start="1245.06" data-end="1249.55">example that I've pulled from an</span> <span data-start="1249.55" data-end="1253.87">application where wire is being used</span> <span data-start="1253.87" data-end="1255.59">it's going to be a production</span> <span data-start="1255.59" data-end="1260.75">application and some pieces of this I'm</span> <span data-start="1260.75" data-end="1264.05">using some wire plugins this is just an</span> <span data-start="1264.05" data-end="1265.31">array there's nothing special about it</span> <span data-start="1265.31" data-end="1266.99">why are just notices that hey these</span> <span data-start="1266.99" data-end="1269.71">modules are plugins as it loads them and</span> <span data-start="1269.71" data-end="1273.89">instantiate them as plugins so in this</span> <span data-start="1273.89" data-end="1275.27">app we're going to have some we're going</span> <span data-start="1275.27" data-end="1277.97">to have some data stores we've got a</span> </p>
<p><span data-start="1277.97" data-end="1280.58">JSON rest or that points to some people</span> <span data-start="1280.58" data-end="1283.53">and hey we're going to decorate that</span> <span data-start="1283.53" data-end="1287.35">with this and what is this well up here</span> <span data-start="1287.35" data-end="1291.13">in the wire aop module we're declaring</span> <span data-start="1291.13" data-end="1292.84">some decorators we're saying hey there's</span> <span data-start="1292.84" data-end="1295.6">a caching decorator and it is going to</span> <span data-start="1295.6" data-end="1298.57">use dojos cashing store we've got a</span> <span data-start="1298.57" data-end="1300.01">validating decorator that we wrote</span> <span data-start="1300.01" data-end="1302.74">ourselves so down here we're going to</span> <span data-start="1302.74" data-end="1306.25">apply a validating decorator to the JSON</span> <span data-start="1306.25" data-end="1310.64">rest or that we're creating for people</span> <span data-start="1310.65" data-end="1315.66">and we're going to hand it a schema that</span> <span data-start="1315.66" data-end="1319.12">we're loading here this is AMD module</span> </p>
<p><span data-start="1319.12" data-end="1321.4">AMD loading we're loading a schema</span> <span data-start="1321.4" data-end="1323.65">handing it to our decorator and then</span> <span data-start="1323.65" data-end="1325.3">applying the decorator to the Jason rest</span> <span data-start="1325.3" data-end="1328">or all without changing any of those in</span> <span data-start="1328" data-end="1331.18">the JSON dress store we've got another</span> <span data-start="1331.18" data-end="1334.15">store for occupations and hey we're</span> <span data-start="1334.15" data-end="1337.45">going to use a caching decorator here</span> <span data-start="1337.45" data-end="1338.53">because I know that these occupations</span> <span data-start="1338.53" data-end="1340.84">just don't change very very often so</span> <span data-start="1340.84" data-end="1342.43">while the users logged in I don't care</span> <span data-start="1342.43" data-end="1343.81">you know i'm just going to present them</span> <span data-start="1343.81" data-end="1347.02">always with the same set of occupations</span> <span data-start="1347.02" data-end="1349.69">so we apply a caching decorator and</span> <span data-start="1349.69" data-end="1350.8">we're going to use the dojo memory</span> <span data-start="1350.8" data-end="1352.87">stored as thick as the backing store for</span> <span data-start="1352.87" data-end="1358.72">the cash then we've got some name</span> <span data-start="1358.72" data-end="1360.49">prefixes that we're going to load to</span> <span data-start="1360.49" data-end="1362.26">this is something else that wire</span> <span data-start="1362.26" data-end="1364.78">provides is the notion of reference</span> <span data-start="1364.78" data-end="1368.2">resolvers you'll see this in a couple of</span> <span data-start="1368.2" data-end="1371.2">places this is resolving a reference to</span> <span data-start="1371.2" data-end="1373.48">a rest resource so what this ends up</span> <span data-start="1373.48" data-end="1375.31">being is actually another Jason rest</span> <span data-start="1375.31" data-end="1379.12">store and this is just shorthand oh it's</span> <span data-start="1379.12" data-end="1380.29">not going to be a jason rusch store i'm</span> <span data-start="1380.29" data-end="1382.39">sorry it's going to create a Jason rest</span> <span data-start="1382.39" data-end="1384.34">or issue a query on it and return a</span> <span data-start="1384.34" data-end="1388.18">promise so that when that when that data</span> <span data-start="1388.18" data-end="1391.69">comes back from the server name prefixes</span> <span data-start="1391.69" data-end="1394.84">is going to be the actual data not a</span> <span data-start="1394.84" data-end="1397.6">store and that's fine because that's</span> <span data-start="1397.6" data-end="1399.19">what I need I need the prefixes I don't</span> <span data-start="1399.19" data-end="1400.57">need the store here we're going to</span> <span data-start="1400.57" data-end="1405.63">create a view hand at a Dom reference</span> <span data-start="1405.63" data-end="1407.3">and then we're going to create a</span> <span data-start="1407.3" data-end="1412.5">controller from our our application</span> <span data-start="1412.5" data-end="1414.15">going to set some properties on it we're</span> <span data-start="1414.15" data-end="1416.16">going to hand our stores to our</span> <span data-start="1416.16" data-end="1417.36">controller because we want our</span> <span data-start="1417.36" data-end="1419.07">controller to be managing the data not</span> <span data-start="1419.07" data-end="1421.38">the view the controller can decide how</span> <span data-start="1421.38" data-end="1424.8">to hand that data to the view and then</span> <span data-start="1424.8" data-end="1427.92">we're going to apply an event connector</span> <span data-start="1427.92" data-end="1430.35">this is one of wires supported</span> <span data-start="1430.35" data-end="1434.37">connectors and up at the top we're using</span> <span data-start="1434.37" data-end="1437.04">the dojo events plugin so this is going</span> <span data-start="1437.04" data-end="1440.12">to use dojo connect to do this operation</span> <span data-start="1440.12" data-end="1445.23">so you know you could load the jQuery</span> <span data-start="1445.23" data-end="1448.14">events plugin and it would use jQuery to</span> <span data-start="1448.14" data-end="1454.71">do this so what this is saying is I want</span> <span data-start="1454.71" data-end="1459.96">to connect person views on save event to</span> <span data-start="1459.96" data-end="1462.63">the controller's handle save person</span> <span data-start="1462.63" data-end="1466.29">method so you can imagine when the user</span> <span data-start="1466.29" data-end="1468.81">clicks the Save button in the view the</span> <span data-start="1468.81" data-end="1473.31">view fires a non-save event and the</span> <span data-start="1473.31" data-end="1475.8">controller's handles save method gets</span> <span data-start="1475.8" data-end="1478.68">gets called same thing with with on</span> <span data-start="1478.68" data-end="1481.71">cancel cause the controller's handle</span> <span data-start="1481.71" data-end="1484.8">cancel method and what's interesting</span> <span data-start="1484.8" data-end="1487.05">here is if you were writing this app</span> <span data-start="1487.05" data-end="1490.29">yourself without wire or maybe with a</span> <span data-start="1490.29" data-end="1492">framework or something like that you</span> <span data-start="1492" data-end="1493.47">might be tempted to actually give a</span> <span data-start="1493.47" data-end="1496.98">reference of the view to the controller</span> <span data-start="1496.98" data-end="1499.44">and have it do that but the controller</span> <span data-start="1499.44" data-end="1501.81">really doesn't care it doesn't need to</span> <span data-start="1501.81" data-end="1503.79">have a reference to the view all it</span> <span data-start="1503.79" data-end="1505.56">really needs to know is when the data</span> <span data-start="1505.56" data-end="1511.38">was either saved or canceled so here we</span> <span data-start="1511.38" data-end="1514.38">can avoid that very loose coupling we</span> <span data-start="1514.38" data-end="1516.84">just care about the events we don't care</span> <span data-start="1516.84" data-end="1519.42">about the reference itself about the</span> <span data-start="1519.42" data-end="1536.169">view itself</span> <span data-start="1536.179" data-end="1539.119">and that's it that's why rjs you can</span> <span data-start="1539.119" data-end="1543.86">find it on github the currently released</span> <span data-start="1543.86" data-end="1546.83">version like I said supports dojo</span> <span data-start="1546.83" data-end="1548.48">through set of plugins there'll be</span> <span data-start="1548.48" data-end="1554.509">jQuery plugins coming soon and if you've</span> <span data-start="1554.509" data-end="1557.57">heard a lot of the talk about modules at</span> <span data-start="1557.57" data-end="1560.57">this this conference wire works really</span> <span data-start="1560.57" data-end="1563.269">well with modules and AMD so if you're</span> <span data-start="1563.269" data-end="1566.57">using AMD or you want to use AMD that's</span> <span data-start="1566.57" data-end="1568.72">another reason to check out why rjs</span> </p>
</section>