<section>
<p><span data-start="9.38" data-end="14.04">so I'm Randy um I maintain a QR code</span> <span data-start="14.04" data-end="17.67">package for men p.m. so it's kind of</span> <span data-start="17.67" data-end="19.5">neat you can npm install QR code and</span> <span data-start="19.5" data-end="23.74">generate QR codes for your applications</span> <span data-start="23.75" data-end="26.939">stuff maybe how to make a QR code with</span> <span data-start="26.939" data-end="30.24">node what kind of error correction do</span> <span data-start="30.24" data-end="34.17">they have inside of them how to take it</span> <span data-start="34.17" data-end="36.149">way out of spec and put your own crap in</span> <span data-start="36.149" data-end="40.2">it because they're not very good looking</span> <span data-start="40.2" data-end="41.7">unless you have it night next to the</span> <span data-start="41.7" data-end="46.05">cool like jsk confe 8-bit font and then</span> </p>
<p><span data-start="46.05" data-end="48.2">Adam maybe sticks and bacon behind one</span> <span data-start="48.2" data-end="51.149">and then it's JavaScript so you can do</span> <span data-start="51.149" data-end="59.96">in the client side too like every day</span> <span data-start="59.96" data-end="62.809">when I'm playing out these QR codes I</span> <span data-start="62.809" data-end="66.54">get a disappointed right I bring it up</span> <span data-start="66.54" data-end="68.13">on my phone share with like barcode</span> <span data-start="68.13" data-end="70.74">scanner on Android and doesn't scan like</span> <span data-start="70.74" data-end="72.659">an iPhone user couldn't scan it right</span> <span data-start="72.659" data-end="74.4">and we're like inches apart at night mr.</span> <span data-start="74.4" data-end="77.96">greens backlit but in other situations</span> <span data-start="77.96" data-end="80.52">they work great you know other times I'm</span> <span data-start="80.52" data-end="81.96">not disappointed you know you see them</span> <span data-start="81.96" data-end="83.159">on the sides of buildings you see them</span> <span data-start="83.159" data-end="86.07">all over the place you know so you know</span> <span data-start="86.07" data-end="88.979">people seem to put them on stuff and I</span> <span data-start="88.979" data-end="90.84">think it's more of the mystery like what</span> <span data-start="90.84" data-end="95.4">is inside of that QR code you know I</span> <span data-start="95.4" data-end="97.53">mean sometimes you just want to know all</span> <span data-start="97.53" data-end="99.15">right sometimes you're like that could</span> <span data-start="99.15" data-end="104.729">be you know in fact it is a clue give</span> <span data-start="104.729" data-end="108.299">you all sorts of funny things and they</span> <span data-start="108.299" data-end="111.99">can hold about 1.2 k so you can stick I</span> <span data-start="111.99" data-end="116.909">mean they get pretty big and with the</span> <span data-start="116.909" data-end="121.26">highest level of error correction</span> <span data-start="121.27" data-end="124.729">so uh it's like I said before it looked</span> <span data-start="124.729" data-end="127.67">kind of neat if there next to this like</span> <span data-start="127.67" data-end="132.98">real blocky text but uh when you put</span> <span data-start="132.98" data-end="136.7">this on your website or you you know</span> <span data-start="136.7" data-end="138.709">print it on your advertisement you</span> <span data-start="138.709" data-end="140.93">really are sacrificing a big portion of</span> <span data-start="140.93" data-end="142.76">your real estate right there's no brand</span> <span data-start="142.76" data-end="145.37">identity there's it's just not very fun</span> <span data-start="145.37" data-end="147.98">and there's nothing to do with bacon at</span> <span data-start="147.98" data-end="158.41">all um c making a QR code with note just</span> <span data-start="158.41" data-end="162.709">npm install QR code you can have some</span> <span data-start="162.709" data-end="164.87">problems just because of dependencies on</span> <span data-start="164.87" data-end="167">kiro I don't know if everybody has an</span> <span data-start="167" data-end="169.4">up-to-date version of Cairo but if you</span> <span data-start="169.4" data-end="172.22">happen to get one in the middle node</span> <span data-start="172.22" data-end="173.959">canvas will install and seem to work</span> <span data-start="173.959" data-end="176.68">perfectly but I will be unable to</span> <span data-start="176.68" data-end="179.03">extract data from images it'll be unable</span> <span data-start="179.03" data-end="181.34">to write images to the canvas so that's</span> <span data-start="181.34" data-end="182.81">a big breaker if you're going to try and</span> <span data-start="182.81" data-end="185.6">try and put weird things on a underneath</span> <span data-start="185.6" data-end="196.67">your QR codes stuff the API pretty</span> <span data-start="196.67" data-end="199.1">simple I'm basically exporting the</span> <span data-start="199.1" data-end="201.049">functions that the canvas itself</span> <span data-start="201.049" data-end="205.13">provides ability to send a you know</span> <span data-start="205.13" data-end="209.57">today to URL save it to a file simply</span> <span data-start="209.57" data-end="217.01">draw it and return a canvas object so I</span> <span data-start="217.01" data-end="218.06">mean that's how to do it it's not that</span> <span data-start="218.06" data-end="219.53">complicated i tried to propose a</span> <span data-start="219.53" data-end="221.18">minimalistic api there's a lot more</span> <span data-start="221.18" data-end="223.34">options for configurability in a version</span> <span data-start="223.34" data-end="226.76">i'm going to push tonight maybe that'll</span> <span data-start="226.76" data-end="228.14">allow you to configure like the module</span> <span data-start="228.14" data-end="229.43">size and stuff like that provide</span> <span data-start="229.43" data-end="234.03">additional options see</span> <span data-start="234.03" data-end="240.45">um let's see so that's not really a last</span> <span data-start="240.45" data-end="249.06">slide so uh whoa um I recently</span> <span data-start="249.06" data-end="253.11">refactored this code because I was</span> <span data-start="253.11" data-end="254.79">putting the global space on the client</span> <span data-start="254.79" data-end="256.53">side with a bunch of variables because I</span> <span data-start="256.53" data-end="258.12">was kind of hacking around the fact that</span> </p>
<p><span data-start="258.12" data-end="260.63">I have synchronous model loading or</span> <span data-start="260.63" data-end="263.04">module loading in a node but a</span> <span data-start="263.04" data-end="264.63">synchronous module loading on the client</span> <span data-start="264.63" data-end="267.09">side on this library is fully come you</span> <span data-start="267.09" data-end="268.53">know its candidate uses the canvas it</span> <span data-start="268.53" data-end="270.63">works totally on the client side you can</span> <span data-start="270.63" data-end="273.78">just you know pipe stuff the QR code</span> <span data-start="273.78" data-end="278.25">gets more data and you know and they're</span> <span data-start="278.25" data-end="279.63">just works you can scan it you so you</span> <span data-start="279.63" data-end="283.38">can choose to render your QR codes</span> <span data-start="283.38" data-end="285.24">dynamically on the client with whatever</span> <span data-start="285.24" data-end="286.74">information they want post them back to</span> <span data-start="286.74" data-end="288.51">the server or you can generate them on</span> <span data-start="288.51" data-end="294.81">the server yourself but uh getting</span> <span data-start="294.81" data-end="298.59">creative with QR codes I mean that when</span> <span data-start="298.59" data-end="300.3">the scanner actually reads a QR code</span> <span data-start="300.3" data-end="303.69">it's a it's taking just the gray scale</span> <span data-start="303.69" data-end="306.27">of the image so like the background</span> <span data-start="306.27" data-end="308.1">could be bright yellow and it would work</span> <span data-start="308.1" data-end="310.38">just fine right it could be a very</span> <span data-start="310.38" data-end="311.97">bright color it could be like a bright</span> <span data-start="311.97" data-end="313.86">green which has the most the most</span> <span data-start="313.86" data-end="317.37">influence on our eyes and it wouldn't</span> <span data-start="317.37" data-end="319.62">influence that it wouldn't harm the data</span> <span data-start="319.62" data-end="321.84">at all in any way people could read it</span> <span data-start="321.84" data-end="323.36">from very far away it'd be very obvious</span> <span data-start="323.36" data-end="333.99">right that it was yours so see um with</span> <span data-start="333.99" data-end="336.63">canvas you can do things like you know</span> <span data-start="336.63" data-end="339.75">round edges this is terrible sorry gotta</span> <span data-start="339.75" data-end="344.52">zoom in or something um anyway okay so</span> <span data-start="344.52" data-end="350.54">uh Livy show you some cut</span> <span data-start="350.55" data-end="360.9">or not</span> <span data-start="360.91" data-end="371.81">so wow that's terrible I'm sorry White</span> <span data-start="371.81" data-end="383.54">will give you 10 C so I said like we can</span> <span data-start="383.54" data-end="386.66">mess with it in funny ways I can I made</span> <span data-start="386.66" data-end="388.07">a little web api can pass the net effect</span> <span data-start="388.07" data-end="391.19">right rounded and I can draw it and get</span> <span data-start="391.19" data-end="393.62">a canvas back I can do a bunch of</span> <span data-start="393.62" data-end="395.27">inefficient things with the canvas and</span> <span data-start="395.27" data-end="399.41">lots of weird ways and then I changed</span> <span data-start="399.41" data-end="402.2">the result right it's now like a canvas</span> <span data-start="402.2" data-end="404.39">with slightly rounded checkmarks that's</span> <span data-start="404.39" data-end="411.89">kind of neat I I wanted to make sure</span> <span data-start="411.89" data-end="416.21">that I could Brandi QR code and with</span> <span data-start="416.21" data-end="418.67">like a logo or something and have it</span> <span data-start="418.67" data-end="420.86">retain its data not compromise the</span> <span data-start="420.86" data-end="425.47">clients ability to understand it and and</span> <span data-start="425.47" data-end="427.43">bacon is a pretty good choice actually</span> <span data-start="427.43" data-end="429.71">because Browns are very dark it's</span> <span data-start="429.71" data-end="430.88">actually very difficult to desaturate</span> </p>
<p><span data-start="430.88" data-end="434.06">Browns I made some functions that</span> <span data-start="434.06" data-end="437.09">convert rgb2 y UV and reduce the</span> <span data-start="437.09" data-end="438.86">luminosity of the colors which is the</span> <span data-start="438.86" data-end="443.87">algorithm that's used in grayscale so to</span> <span data-start="443.87" data-end="448.31">make bacon theme QR codes I this will</span> <span data-start="448.31" data-end="450.37">scan just fine it's got a bacon heart</span> <span data-start="450.37" data-end="453.14">because i'm actually really sick of</span> <span data-start="453.14" data-end="457.01">bacon because njs comp to free jas comp</span> <span data-start="457.01" data-end="458.6">i was really excited about bacon now I'm</span> <span data-start="458.6" data-end="462.47">kind of done but it's still I still love</span> <span data-start="462.47" data-end="464.93">bacon I mean you can really just put</span> <span data-start="464.93" data-end="467.12">anything back there right as long as you</span> <span data-start="467.12" data-end="469.97">can ensure that the colors are light</span> <span data-start="469.97" data-end="472.85">enough and I provided a function with</span> <span data-start="472.85" data-end="476.84">the canvas utility that will ensure that</span> <span data-start="476.84" data-end="479.09">all pixels can be pushed below that</span> <span data-start="479.09" data-end="482.33">threshold and I made a little API and</span> <span data-start="482.33" data-end="484.67">the tests to be able to like show how to</span> <span data-start="484.67" data-end="489.28">do that</span> <span data-start="489.29" data-end="492.66">yeah yeah thank you please ask more</span> <span data-start="492.66" data-end="495.12">questions because I'm nervous and never</span> <span data-start="495.12" data-end="507.94">talk with thank you let's see um bacon</span> <span data-start="507.95" data-end="513.419">see so simply I just have this is just</span> <span data-start="513.419" data-end="515.16">my test file it's not designed to be an</span> </p>
<p><span data-start="515.16" data-end="517.38">API yet I mean I could expose these kind</span> <span data-start="517.38" data-end="520.56">of bacon effects as a as an API and who</span> <span data-start="520.56" data-end="523.83">knows everybody likes bacon and there's</span> <span data-start="523.83" data-end="525.45">a bacon bikini effect but i don't know</span> <span data-start="525.45" data-end="529.45">if i should show the resulting QR code</span> <span data-start="529.46" data-end="533.34">should anybody later cuz bacon bikinis</span> <span data-start="533.34" data-end="536.34">are like a actually very top so very</span> <span data-start="536.34" data-end="541.14">high google image result for bacon let's</span> <span data-start="541.14" data-end="547.59">see um so how to process the image now I</span> <span data-start="547.59" data-end="549.6">I wrote this code last night so it's not</span> <span data-start="549.6" data-end="550.98">like the best and I'm sure there's gonna</span> <span data-start="550.98" data-end="557.12">be some free variables but it works I i</span> <span data-start="557.12" data-end="562.47">set a dark and a light threshold then i</span> <span data-start="562.47" data-end="566.1">make sure that the image will fit as</span> <span data-start="566.1" data-end="568.35">best as possible you know I'll crop it</span> <span data-start="568.35" data-end="571.68">off on the longest side and so you know</span> <span data-start="571.68" data-end="573.3">an image that's a that's a wide</span> <span data-start="573.3" data-end="575.61">rectangle will get the end cut off cut</span> <span data-start="575.61" data-end="581.24">off I have a just a pixel helper I'm</span> <span data-start="581.24" data-end="585.63">provided by a canvas util library I put</span> <span data-start="585.63" data-end="588.39">on NPM just iterates over pixels you</span> <span data-start="588.39" data-end="590.67">pass it to canvas as like a generic call</span> <span data-start="590.67" data-end="592.86">back this is the raw function for</span> <span data-start="592.86" data-end="596.73">calculating luminosity which is which</span> <span data-start="596.73" data-end="599.88">after I wrote that I also pass to I've</span> <span data-start="599.88" data-end="604.14">added it to a library it's the</span> <span data-start="604.14" data-end="605.85">calculation of luminosity is based on</span> <span data-start="605.85" data-end="609.18">the seven or nine coefficients those are</span> <span data-start="609.18" data-end="611.76">used in HDTV I'm rather than the 60</span> <span data-start="611.76" data-end="613.92">whatever something are there but they're</span> <span data-start="613.92" data-end="615.72">just magic numbers that make them the</span> <span data-start="615.72" data-end="619.32">these specific magic numbers that a</span> <span data-start="619.32" data-end="631.41">a weighted average to your pixels these</span> <span data-start="631.41" data-end="635.34">are things that you can use to if you</span> <span data-start="635.34" data-end="638.94">wanted to to customize a QR code right</span> <span data-start="638.94" data-end="642.33">you can my library at its core just</span> <span data-start="642.33" data-end="645.09">provides a QR code it's it's just it's</span> <span data-start="645.09" data-end="648.36">to spec right this is how you can make</span> <span data-start="648.36" data-end="651.6">it out of spec but still readable really</span> <span data-start="651.6" data-end="655.68">a lot of this stuff i would like to</span> <span data-start="655.68" data-end="657.72">expose like just export a few kind of</span> <span data-start="657.72" data-end="659.04">trick functions that would allow you to</span> <span data-start="659.04" data-end="662.31">underlay any background I just like I've</span> <span data-start="662.31" data-end="664.65">made a bug and I couldn't I had to roll</span> <span data-start="664.65" data-end="672.69">back anyway this is my oh my development</span> <span data-start="672.69" data-end="675.53">branch of note QR code it's on github</span> <span data-start="675.53" data-end="678.93">and I will finish the tests today and</span> <span data-start="678.93" data-end="682.44">get it up so you'll be able to basically</span> <span data-start="682.44" data-end="684.99">provide any image as a background and</span> <span data-start="684.99" data-end="688.56">the code will decent will will either</span> <span data-start="688.56" data-end="690.03">darken or lighten the pixels</span> <span data-start="690.03" data-end="692.79">appropriately and then your code will</span> <span data-start="692.79" data-end="695.58">just work right so you know you have</span> <span data-start="695.58" data-end="697.83">like a node.js logo and PM logo you can</span> <span data-start="697.83" data-end="699.72">put anything right in the middle and you</span> <span data-start="699.72" data-end="701.13">know that the library is going to take</span> <span data-start="701.13" data-end="704.07">care of ensuring that I mean it's just a</span> <span data-start="704.07" data-end="706.95">simple number 1 through 100 and about 50</span> <span data-start="706.95" data-end="709.86">is the distance you need if you see like</span> <span data-start="709.86" data-end="717.51">you know 2575 anyway um and then if the</span> <span data-start="717.51" data-end="719.04">color is too light i just iterate the</span> <span data-start="719.04" data-end="722.34">pixels and then call back with the bacon</span> <span data-start="722.34" data-end="730.53">canvas so I don't know it works I guess</span> <span data-start="730.53" data-end="735.41">uh any questions</span> <span data-start="735.42" data-end="755.1">ah yes let me uh it is on my github it's</span> <span data-start="755.1" data-end="761.64">the repository node canvas util and I</span> <span data-start="761.64" data-end="765.93">should have pushed that up conversion</span> <span data-start="765.93" data-end="770.3">lip inside of conversion lip I've added</span> </p>
<p><span data-start="770.3" data-end="774.9">I grabbed some functions for from MJ</span> <span data-start="774.9" data-end="777.24">Jackson I don't know I don't have this</span> <span data-start="777.24" data-end="780.66">full name here I just included his is a</span> <span data-start="780.66" data-end="786.15">copyright rgb2 hsl hsl RGB RGB to HSV I</span> <span data-start="786.15" data-end="787.8">experimented with a lot of different</span> <span data-start="787.8" data-end="790.29">kinds of transforms I have one that</span> <span data-start="790.29" data-end="793.8">increases the brightness of of bright</span> <span data-start="793.8" data-end="796.23">colors which has an interesting behavior</span> <span data-start="796.23" data-end="798.72">when you're looking at like sunflowers</span> <span data-start="798.72" data-end="801.06">or something right you can have a super</span> <span data-start="801.06" data-end="803.01">like bright color and really subdued</span> <span data-start="803.01" data-end="805.38">colors underneath your QR code or I mean</span> <span data-start="805.38" data-end="809.37">under whatever right I did a lot of the</span> <span data-start="809.37" data-end="817.86">tests for that yeah it's just JavaScript</span> <span data-start="817.86" data-end="823.28">and it's just a canvas API when I see I</span> <span data-start="823.28" data-end="833.14">start that server</span> <span data-start="833.15" data-end="855.03">see so this is an actual tests for for</span> <span data-start="855.03" data-end="858.54">the different algorithms for determining</span> <span data-start="858.54" data-end="862.01">gray scale and and different</span> <span data-start="862.01" data-end="865.35">implementations anyway this column is</span> <span data-start="865.35" data-end="867.48">client-side this column is server side</span> <span data-start="867.48" data-end="872.1">and the same for the boat this is a kind</span> <span data-start="872.1" data-end="873.9">of derived from there's a fellow who</span> <span data-start="873.9" data-end="875.91">made some document documented some of</span> <span data-start="875.91" data-end="877.77">these gray scale functions but it turns</span> <span data-start="877.77" data-end="880.08">out that this is like the correct one</span> <span data-start="880.08" data-end="881.7">that's the ones the phones use to</span> <span data-start="881.7" data-end="882.93">determine grayscale that's the most</span> <span data-start="882.93" data-end="885.11">popular it's based on that HD standard</span> <span data-start="885.11" data-end="889.83">and let's see I actually implement those</span> <span data-start="889.83" data-end="892.83">transforms kind of with a plug-in</span> <span data-start="892.83" data-end="899.32">architecture for canvas util let me just</span> <span data-start="899.33" data-end="903.66">write here actually so it's let me</span> <span data-start="903.66" data-end="910.56">increase the size of that</span> <span data-start="910.57" data-end="915.8">so I mean the average is average</span> <span data-start="915.8" data-end="918.89">luminosity all grayscale limo I Lamar</span> <span data-start="918.89" data-end="924.29">and why a Brighton threshold basically</span> <span data-start="924.29" data-end="925.88">these are all filters to apply over any</span> <span data-start="925.88" data-end="927.71">canvas you can write anything to it</span> <span data-start="927.71" data-end="930.32">it'll just apply the filter blindly and</span> <span data-start="930.32" data-end="932.51">any plugin that goes into canvas you</span> <span data-start="932.51" data-end="934.67">till I mean can take advantage or extend</span> <span data-start="934.67" data-end="937.85">that pixel iterators behavior to apply</span> <span data-start="937.85" data-end="939.59">just kind of random crazy effects if</span> <span data-start="939.59" data-end="940.97">they want and it'll work on the client</span> <span data-start="940.97" data-end="945.02">side as well right in threshold</span> <span data-start="945.02" data-end="947.63">saturation threshold you know either put</span> <span data-start="947.63" data-end="949.31">you can choose instead of pushing colors</span> <span data-start="949.31" data-end="952.1">darker inside of their own range but to</span> <span data-start="952.1" data-end="953.6">actually push them towards white using</span> </p>
<p><span data-start="953.6" data-end="963.44">HSV or hsl and yeah um note y UV is</span> <span data-start="963.44" data-end="966.77">actually a lossy as it's a Selassie</span> <span data-start="966.77" data-end="969.56">algorithm so if you take rgb2 y UV and</span> <span data-start="969.56" data-end="971.57">back again you're going to end up with</span> <span data-start="971.57" data-end="973.37">slightly different colors it's the</span> <span data-start="973.37" data-end="976.04">reason jpg is lossy and ends used an</span> <span data-start="976.04" data-end="980.84">MPEG compression as well so so those are</span> <span data-start="980.84" data-end="985.66">why those real haci algorithms but yeah</span> <span data-start="985.66" data-end="994.479">anything else</span> <span data-start="994.489" data-end="1001.339">huh Kate chilly I'm running this is my</span> <span data-start="1001.339" data-end="1005.42">older opensuse box i'm using Katie it's</span> <span data-start="1005.42" data-end="1007.429">kinda I mean it's just all the all the</span> <span data-start="1007.429" data-end="1010.429">que tu plugins the the Qt plugins like</span> <span data-start="1010.429" data-end="1012.92">spider component the files file browser</span> <span data-start="1012.92" data-end="1014.329">component it's all just like a plug-in</span> <span data-start="1014.329" data-end="1025.279">architecture all right yeah well thank</span> </p>
</section>