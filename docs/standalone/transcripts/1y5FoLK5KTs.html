<!DOCTYPE html>

<!--
Copyright 2019 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="//google.com">
  <meta name="description" content="JSConf transcript">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>1y5FoLK5KTs</title>
  <link rel="stylesheet" href="../css/main.css">
</head>

<body>

<iframe id="youtube" src="https://www.youtube.com/embed/1y5FoLK5KTs?enablejsapi=1"></iframe>

<div id="container">

<div id="options">
  <div id="google-translate"></div>
  <div>
    <input type="checkbox" id="videoSticky" checked>
    <label for="videoSticky">Video position sticky</label>
  </div>
  <div>
    <input type="checkbox" id="captionScroll" checked>
    <label for="captionScroll">Keep current caption visible</label>
  </div>
</div>

<section>
<p><span data-start="0.78" data-end="7.849">[Music]</span> <span data-start="7.849" data-end="12.19">welcome everybody thanks for coming</span> <span data-start="12.2" data-end="14.61">this is the talk your credit card was</span> <span data-start="14.61" data-end="20.96">made with JavaScript this is me my</span> <span data-start="20.96" data-end="24.75">handle on all sorts of wherever social</span> <span data-start="24.75" data-end="26.58">media Twitter sort of stuff and where I</span> <span data-start="26.58" data-end="33.149">work and where we created a or produced</span> <span data-start="33.149" data-end="37.23">a smart card that goes on credit cards</span> <span data-start="37.23" data-end="41.61">for ever for this was post and in the</span> <span data-start="41.61" data-end="42.93">process of doing that we didn't just</span> <span data-start="42.93" data-end="44.67">produce the the module we also did the</span> <span data-start="44.67" data-end="49.649">entire integration for this for this</span> <span data-start="49.649" data-end="52.23">product which included writing the</span> <span data-start="52.23" data-end="55.579">programs for the machines that actually</span> <span data-start="55.579" data-end="61.14">produce the cards later on and those</span> <span data-start="61.14" data-end="65.88">programs are written in JavaScript so</span> <span data-start="65.88" data-end="68.79">this talk is a bit of a curiosity I</span> <span data-start="68.79" data-end="70.59">guess most of you won't be programming</span> <span data-start="70.59" data-end="73.71">credit cards or personalized and credit</span> <span data-start="73.71" data-end="77.369">cards so it's sort of hard for me and</span> <span data-start="77.369" data-end="79.439">sorry it's a brother abstract topic</span> <span data-start="79.439" data-end="81.81">there's a lot of bits and bytes and it's</span> <span data-start="81.81" data-end="82.549">kind of boring</span> <span data-start="82.549" data-end="87.21">so I want to try to get get you guys a</span> <span data-start="87.21" data-end="88.92">general feeling I think you know some</span> <span data-start="88.92" data-end="91.079">people are interested in in smart cards</span> <span data-start="91.079" data-end="92.909">what all this is about how these things</span> <span data-start="92.909" data-end="96.42">work to just get a general feeling of</span> <span data-start="96.42" data-end="98.97">how the smart cards work have a look at</span> <span data-start="98.97" data-end="103.02">that at these api's that are used on on</span> <span data-start="103.02" data-end="105.119">the machines and there's an there's</span> <span data-start="105.119" data-end="106.7">actually an open source implementation</span> <span data-start="106.7" data-end="109.799">that you can that you can run on a</span> <span data-start="109.799" data-end="113.909">normal laptop which you could use with</span> <span data-start="113.909" data-end="116.88">just a normal reader to just look into</span> <span data-start="116.88" data-end="118.229">your cards to see what they're actually</span> <span data-start="118.229" data-end="120.659">doing and how they work so this is more</span> <span data-start="120.659" data-end="123.24">of a preparation for you know maybe</span> <span data-start="123.24" data-end="124.799">hacking a little bit with with the smart</span> <span data-start="124.799" data-end="128.229">cards that you guys have in your pockets</span> <span data-start="128.239" data-end="132.42">so basically when I when I said your</span> <span data-start="132.42" data-end="134.16">credit card is made with JavaScript</span> <span data-start="134.16" data-end="136.68">we're talking about these things the</span> <span data-start="136.68" data-end="140.31">the card number that's that's punched</span> <span data-start="140.31" data-end="145.14">into the card the magstripe data that's</span> <span data-start="145.14" data-end="148.08">prepared the CVV that's that's that's</span> <span data-start="148.08" data-end="150.15">calculated and put onto the back of the</span> <span data-start="150.15" data-end="153.629">card and all of the keys and stuff that</span> <span data-start="153.629" data-end="156.45">are inside of the that are started</span> <span data-start="156.45" data-end="160.59">inside of the chip and if there's any</span> <span data-start="160.59" data-end="162.36">questions you can feel free to just</span> <span data-start="162.36" data-end="164.73">interrupt or if I'm going too fast or</span> <span data-start="164.73" data-end="166.45">too slow</span> <span data-start="166.45" data-end="168.5">[Music]</span> <span data-start="168.5" data-end="172.769">one of the main so this is the next</span> <span data-start="172.769" data-end="175.53">several slides are going to be just sort</span> <span data-start="175.53" data-end="177.209">of in general what smart cards are how</span> <span data-start="177.209" data-end="178.799">they work and one of the main</span> <span data-start="178.799" data-end="181.47">misconceptions is that even with the</span> <span data-start="181.47" data-end="184.44">with the magstripe is that sort of when</span> <span data-start="184.44" data-end="187.14">you take your card put it in the ATM the</span> </p>
<p><span data-start="187.14" data-end="190.769">ATM reads the PIN or whatever off of the</span> <span data-start="190.769" data-end="192.84">mag stripe and then you types of painin</span> <span data-start="192.84" data-end="196.069">and it compares the two and that the</span> <span data-start="196.069" data-end="202.29">that the that the chip basically does</span> <span data-start="202.29" data-end="204.9">the same it's just a store of data but</span> <span data-start="204.9" data-end="207.989">the chip is really a full computer on</span> <span data-start="207.989" data-end="212.549">the on the card so what typically</span> <span data-start="212.549" data-end="215.19">happens and said that the data is</span> <span data-start="215.19" data-end="218.609">exchanged you have these keys in the</span> <span data-start="218.609" data-end="220.859">card and that are part that are specific</span> <span data-start="220.859" data-end="226.109">to your card and they can find</span> <span data-start="226.109" data-end="228.599">themselves into the into the into the</span> <span data-start="228.599" data-end="230.489">chip this is when the chips in the</span> <span data-start="230.489" data-end="235.97">factory being produced and when the</span> <span data-start="235.97" data-end="241.799">merchant who accepts your card what they</span> <span data-start="241.799" data-end="243.54">will do is they will they will give the</span> <span data-start="243.54" data-end="248.01">card some data that they want signed</span> <span data-start="248.01" data-end="250.739">from the card and just like in your</span> <span data-start="250.739" data-end="252.87">computer there's a little man inside of</span> <span data-start="252.87" data-end="254.699">it that can calculate and he has access</span> <span data-start="254.699" data-end="260.94">to the to the keys and he can he can</span> <span data-start="260.94" data-end="262.71">generate a cryptogram which then the</span> <span data-start="262.71" data-end="266.37">merchant can use to prove towards the</span> <span data-start="266.37" data-end="268.22">credit card organizations that yes</span> <span data-start="268.22" data-end="269.72">did actually have this person in my</span> <span data-start="269.72" data-end="273.44">store doing this transaction</span> <span data-start="273.45" data-end="275.77">[Music]</span> <span data-start="275.77" data-end="280.28">so again just getting going across some</span> <span data-start="280.28" data-end="282.35">of the things that if you ever want to</span> <span data-start="282.35" data-end="283.76">play around with this stuff and it's</span> <span data-start="283.76" data-end="285.83">fairly easy to play around with that you</span> <span data-start="285.83" data-end="288.29">know that you need to sort of have heard</span> <span data-start="288.29" data-end="290.36">and this is gonna be really quick the</span> <span data-start="290.36" data-end="292.58">whole thing is seven eight one six those</span> <span data-start="292.58" data-end="295.31">are just the ISO norms that do</span> <span data-start="295.31" data-end="299.21">everything with with chip cards and this</span> <span data-start="299.21" data-end="300.47">is chip cards in general it's not</span> <span data-start="300.47" data-end="303.8">specific to credit cards the one in two</span> <span data-start="303.8" data-end="305.78">is really low physical layer we're</span> <span data-start="305.78" data-end="307.58">talking centimeters how how big the</span> <span data-start="307.58" data-end="308.9">little module is and where it is on a</span> <span data-start="308.9" data-end="312.14">card and fault and and what the</span> <span data-start="312.14" data-end="315.56">different pads on the thing mean level</span> <span data-start="315.56" data-end="318.41">three is sort of this in between type of</span> <span data-start="318.41" data-end="321.11">thing this is one of the few pictures</span> <span data-start="321.11" data-end="323.93">and one of the nice elements in the and</span> <span data-start="323.93" data-end="328.79">the specification suite where it's a</span> <span data-start="328.79" data-end="330.56">little bit higher up it's on an on a</span> <span data-start="330.56" data-end="333.919">signal level of how to communicate with</span> <span data-start="333.919" data-end="336.98">the card if anybody does anything with</span> <span data-start="336.98" data-end="338.66">with hardware it's it's it's basically</span> <span data-start="338.66" data-end="341.51">just a UART you could just connect an</span> <span data-start="341.51" data-end="345.169">rs-232 serial cable to it to a card and</span> <span data-start="345.169" data-end="348.52">talk to it if you get voltages right</span> <span data-start="348.52" data-end="351.14">there's only two three terms though out</span> <span data-start="351.14" data-end="352.46">of this that you would ever come across</span> <span data-start="352.46" data-end="354.41">and that you know you need to know it's</span> </p>
<p><span data-start="354.41" data-end="357.11">T equals zero T equals one those are</span> <span data-start="357.11" data-end="359.81">different modes of communication to the</span> <span data-start="359.81" data-end="362.15">card and the only thing you need to know</span> <span data-start="362.15" data-end="363.83">about those is that nobody ever uses T</span> <span data-start="363.83" data-end="366.68">equals one and hgri TR is the thing that</span> <span data-start="366.68" data-end="368.479">the card sends back to you to identify</span> <span data-start="368.479" data-end="369.89">itself and that you can identify the</span> <span data-start="369.89" data-end="374.63">card with when you get one and this next</span> <span data-start="374.63" data-end="376.22">level four is the area where it gets</span> <span data-start="376.22" data-end="377.78">interesting and this is what we're also</span> <span data-start="377.78" data-end="379.22">going to see when we when we look at</span> <span data-start="379.22" data-end="385.7">these when we look at these api's these</span> <span data-start="385.7" data-end="388.43">are the APD use APD use or sort of the</span> <span data-start="388.43" data-end="391.97">frames and they're anything from sort of</span> <span data-start="391.97" data-end="394.85">an IP frame all the way to an HTTP</span> <span data-start="394.85" data-end="396.14">request/response</span> <span data-start="396.14" data-end="397.62">pair</span> <span data-start="397.62" data-end="400.02">they're very reduced but these are all</span> <span data-start="400.02" data-end="403.29">these define how to talk with the card</span> <span data-start="403.29" data-end="407.04">on a on an application layer their</span> <span data-start="407.04" data-end="409.67">commands that you sent to the card and</span> <span data-start="409.67" data-end="412.2">this is what a what a pack of like that</span> <span data-start="412.2" data-end="414.33">looks like you start off it's it's</span> <span data-start="414.33" data-end="417.99">always four bytes the first quite is the</span> <span data-start="417.99" data-end="420.03">class which is sort of metadata about</span> <span data-start="420.03" data-end="424.53">this will the payload be encrypted is</span> <span data-start="424.53" data-end="428.61">this a is this an iso standardized</span> <span data-start="428.61" data-end="431.07">command things like that the second one</span> <span data-start="431.07" data-end="433.74">is the actual command that's that that's</span> <span data-start="433.74" data-end="436.05">being performed that could be something</span> <span data-start="436.05" data-end="439.41">like select a file or an application on</span> <span data-start="439.41" data-end="442.89">the card or I want to give you I want to</span> <span data-start="442.89" data-end="445.65">present you a pin for me to to verify</span> <span data-start="445.65" data-end="450.419">for me then p1 and p2 are parameters for</span> <span data-start="450.419" data-end="454.47">the command and then optionally you can</span> <span data-start="454.47" data-end="457.5">send data then you do an LC where you</span> <span data-start="457.5" data-end="458.85">would say how many bytes of data you</span> <span data-start="458.85" data-end="461.61">send and then the bytes that you send</span> <span data-start="461.61" data-end="463.62">and if you want the command to answer</span> <span data-start="463.62" data-end="465.69">back you would you would send le the</span> <span data-start="465.69" data-end="467.01">length of the expected data that you</span> <span data-start="467.01" data-end="472.229">sent back so the way this okay well you</span> <span data-start="472.229" data-end="475.35">can skip over these bits I think there's</span> <span data-start="475.35" data-end="477.18">different sorts of files that the whole</span> <span data-start="477.18" data-end="479.04">thing defines and the files can be more</span> <span data-start="479.04" data-end="480.93">or less anything they just have names</span> <span data-start="480.93" data-end="482.55">but the way that they can either be a</span> <span data-start="482.55" data-end="485.28">big chunk of data they can be variable</span> <span data-start="485.28" data-end="487.05">or fixed length records they can be</span> <span data-start="487.05" data-end="490.86">circular buffers so to be a little bit</span> <span data-start="490.86" data-end="492.72">more concrete how this how this works</span> <span data-start="492.72" data-end="495.36">this would be an APU that a terminal</span> <span data-start="495.36" data-end="500.1">sends to to a card and so it starts the</span> <span data-start="500.1" data-end="503.16">first bit the clasp is 0 the instruction</span> <span data-start="503.16" data-end="505.2">is a 4 that means select select an</span> <span data-start="505.2" data-end="509.64">application on the card the parameter of</span> <span data-start="509.64" data-end="512.61">for that bit set says selected by name</span> <span data-start="512.61" data-end="517.86">please share 0 and then I tell it I have</span> <span data-start="517.86" data-end="519.06">to tell it the name that I want to</span> <span data-start="519.06" data-end="522.39">select so I'm going to send it e eb hex</span> <span data-start="522.39" data-end="527.61">e that's up 14 bytes and that last bit</span> <span data-start="527.61" data-end="528.64">if you</span> <span data-start="528.64" data-end="531.64">you're gonna ASCII and hex it's called</span> <span data-start="531.64" data-end="535.21">it's one basis DDF or one that's what</span> <span data-start="535.21" data-end="537.7">all credit cards basically happens there</span> <span data-start="537.7" data-end="540.04">base application what everybody starts</span> <span data-start="540.04" data-end="544.69">out so lightly and what you get back is</span> <span data-start="544.69" data-end="546.85">the response code says word one says for</span> <span data-start="546.85" data-end="549.1">two usually you will you would want 9000</span> <span data-start="549.1" data-end="553.18">9000 as sort of the is sort of the 200</span> <span data-start="553.18" data-end="558.88">okay of the smart card world 61 is sort</span> <span data-start="558.88" data-end="564.82">of a almost okay but I can't there's</span> <span data-start="564.82" data-end="566.47">some technical problems that the card</span> <span data-start="566.47" data-end="570.55">can send back data in response to a</span> <span data-start="570.55" data-end="573.76">command that sent it data so this it's</span> <span data-start="573.76" data-end="576.91">it's a bit of a problem so the 61 says I</span> <span data-start="576.91" data-end="578.41">would like to send you back data it's</span> <span data-start="578.41" data-end="579.82">technically not possible though but</span> <span data-start="579.82" data-end="582.1">there's 12 hex bytes of data I want to</span> <span data-start="582.1" data-end="584.86">send you back so the next command and</span> <span data-start="584.86" data-end="586.18">these are the only two commands don't</span> <span data-start="586.18" data-end="589.72">worry that I'm I'm going to show C 0 is</span> <span data-start="589.72" data-end="593.32">a get response it doesn't take any</span> <span data-start="593.32" data-end="596.11">parameters it doesn't have any data that</span> <span data-start="596.11" data-end="597.7">it sends but it says I'm expecting</span> <span data-start="597.7" data-end="603.64">12-day 12 bytes of data back from you</span> <span data-start="603.64" data-end="607.63">and in that case the the card responds</span> <span data-start="607.63" data-end="610.87">with with the data and the all this data</span> <span data-start="610.87" data-end="616.03">is tag length value people know deal</span> <span data-start="616.03" data-end="618.82">with its darren coded if people deal</span> <span data-start="618.82" data-end="621.91">with SSL you might have heard of it so</span> <span data-start="621.91" data-end="626.589">this is a tag this 6f byte says the</span> <span data-start="626.589" data-end="629.8">following data is 6f data and 6f happens</span> <span data-start="629.8" data-end="632.62">to be file meta information</span> <span data-start="632.62" data-end="635.71">there'll be hex 10 bytes of it because</span> <span data-start="635.71" data-end="637.45">the first two bytes already taken up by</span> <span data-start="637.45" data-end="640.96">the tagging at length the next this is a</span> <span data-start="640.96" data-end="644.88">tag again and it's it's file name and</span> <span data-start="644.88" data-end="647.35">we're back at the file name it was a</span> <span data-start="647.35" data-end="653.32">bytes long that says one paces block and</span> <span data-start="653.32" data-end="654.91">the 9000 that</span> <span data-start="654.91" data-end="664.6">okay is at the end good so this level</span> <span data-start="664.6" data-end="667.15">four thing these APD use and files and</span> <span data-start="667.15" data-end="669.37">things that you can do are sort of like</span> </p>
<p><span data-start="669.37" data-end="673.63">XML they define a lot of building blocks</span> <span data-start="673.63" data-end="677.32">that you can use to make a file format</span> <span data-start="677.32" data-end="679.42">but if you just like someone tells you</span> <span data-start="679.42" data-end="680.59">oh it's XML you don't really know</span> <span data-start="680.59" data-end="682.09">anything about the file format you just</span> <span data-start="682.09" data-end="684.13">know that that's the building blocks</span> <span data-start="684.13" data-end="685.9">that they're set up on so there's a</span> <span data-start="685.9" data-end="689.83">bunch of application where there's a</span> <span data-start="689.83" data-end="691.27">bunch of higher higher layered</span> <span data-start="691.27" data-end="695.71">specifications that say well what do how</span> <span data-start="695.71" data-end="697.09">do we put these building blocks together</span> <span data-start="697.09" data-end="698.83">to make a contactless payment</span> <span data-start="698.83" data-end="703">application or a something to use that</span> <span data-start="703" data-end="705.67">the photocopier or something like that</span> </p>
<p><span data-start="705.67" data-end="711.42">EMV is what is the standard</span> <span data-start="711.42" data-end="713.38">specification or the base specification</span> <span data-start="713.38" data-end="717.19">for all payment protocols these are</span> <span data-start="717.19" data-end="720.57">master and different payment schemes</span> <span data-start="720.57" data-end="724.11">make their own and they basically define</span> <span data-start="724.11" data-end="727.15">make their own and they're based on EMV</span> <span data-start="727.15" data-end="731.98">though and they define specifics of how</span> <span data-start="731.98" data-end="734.47">terminals talk to the cards how ATMs</span> <span data-start="734.47" data-end="737.61">talk to the cards and things like that</span> <span data-start="737.61" data-end="741.13">so and finally there's a layer above</span> <span data-start="741.13" data-end="744.09">that and that's what we're at which is</span> <span data-start="744.09" data-end="747.28">which defines of how to interact with a</span> <span data-start="747.28" data-end="751.72">card from the outside and basically</span> <span data-start="751.72" data-end="753.82">there's it's a very small market these</span> <span data-start="753.82" data-end="755.37">people making these machines that</span> <span data-start="755.37" data-end="757.57">personalized cards but everybody thought</span> <span data-start="757.57" data-end="760">of their own way of doing things and at</span> <span data-start="760" data-end="762.76">one point they standardized it and</span> <span data-start="762.76" data-end="764.89">strangely enough they standardized on on</span> </p>
<p><span data-start="764.89" data-end="771.18">XML script to do that they also do they</span> <span data-start="771.18" data-end="773.53">also specify other things that are in</span> <span data-start="773.53" data-end="775.26">the card but this is only going to be</span> <span data-start="775.26" data-end="779.95">the scripting language so there's a bit</span> <span data-start="779.95" data-end="781.84">of it that there's an API that they that</span> <span data-start="781.84" data-end="784.06">they define and and we're seeing a lot</span> <span data-start="784.06" data-end="785.04">of the things that we saw</span> <span data-start="785.04" data-end="790.589">before like the t1 and t0 protocols for</span> <span data-start="790.589" data-end="794.16">the card the status word 1 status word</span> <span data-start="794.16" data-end="797.22">of the response there's a Sunday PD you</span> <span data-start="797.22" data-end="803.48">command to send bytes to the card</span> <span data-start="803.49" data-end="807.269">it also contains primitives to deal with</span> <span data-start="807.269" data-end="809.339">cryptography and especially in cases</span> <span data-start="809.339" data-end="811.949">like this that you you have hardware</span> <span data-start="811.949" data-end="814.19">security modules where all the keys are</span> <span data-start="814.19" data-end="819.73">stored in so you need to access those</span> <span data-start="819.74" data-end="823.47">one of the problematic things of dealing</span> <span data-start="823.47" data-end="827.1">with these with this sort of data though</span> <span data-start="827.1" data-end="829.259">and why why JavaScript really isn't a</span> <span data-start="829.259" data-end="832.47">too good of it all of this was just</span> <span data-start="832.47" data-end="834.779">bytes and that the PO at the point where</span> <span data-start="834.779" data-end="836.25">they were there that this was specified</span> <span data-start="836.25" data-end="841.11">into South 2003 there they roared there</span> <span data-start="841.11" data-end="843.66">were no WebGL buffers there were no node</span> <span data-start="843.66" data-end="845.759">buffers there was I'm not really sure</span> <span data-start="845.759" data-end="848.279">how common joyous deals with character</span> <span data-start="848.279" data-end="851.55">data so they made up a lot of their own</span> <span data-start="851.55" data-end="854.94">stuff and there are really heavily</span> <span data-start="854.94" data-end="857.79">influenced by Java they have two</span> <span data-start="857.79" data-end="861.569">different ways to deal with these byte</span> <span data-start="861.569" data-end="863.49">buffers are sort of like Java string</span> <span data-start="863.49" data-end="865.8">buffers and that you can't really do</span> <span data-start="865.8" data-end="869.54">anything with them but they're mutable</span> <span data-start="869.54" data-end="872.22">although what the purpose of having a</span> <span data-start="872.22" data-end="873.899">mutable data structure when you can't do</span> <span data-start="873.899" data-end="875.94">in when you can't change it around this</span> <span data-start="875.94" data-end="878.819">is sort of questionable and on the other</span> <span data-start="878.819" data-end="881.79">hand the immutable string type has all</span> <span data-start="881.79" data-end="883.62">these operations but that will keep on</span> <span data-start="883.62" data-end="886.92">creating new byte strings but that's</span> <span data-start="886.92" data-end="888.36">sort of the access into the bits and</span> <span data-start="888.36" data-end="893.43">bytes world there's another problem with</span> <span data-start="893.43" data-end="895.949">it that all this is there needs to be</span> </p>
<p><span data-start="895.949" data-end="897.74">XML in this because these are financial</span> <span data-start="897.74" data-end="901.68">some so they put their best man on on</span> <span data-start="901.68" data-end="903.569">the job for this and what they came out</span> <span data-start="903.569" data-end="907.38">up with is this I mean why you don't</span> <span data-start="907.38" data-end="910.199">really need a pesky function</span> <span data-start="910.199" data-end="914.199">keyword around and curly braces around</span> <span data-start="914.199" data-end="920.259">your your script you can just have much</span> <span data-start="920.259" data-end="925.48">more clear and succinct XML tags wrapped</span> <span data-start="925.48" data-end="927.579">around your your individual functions</span> <span data-start="927.579" data-end="929.079">and that makes everything a lot easier</span> <span data-start="929.079" data-end="934.509">to deal with and it's there's all it's</span> <span data-start="934.509" data-end="939.559">it's not very pretty</span> <span data-start="939.569" data-end="944.29">okay that is how far I wanted to go</span> <span data-start="944.29" data-end="946.089">because I think a lot of these things</span> <span data-start="946.089" data-end="947.949">that we can if people are interested in</span> <span data-start="947.949" data-end="950.17">this I think we can get we can we can</span> <span data-start="950.17" data-end="952.93">play around with these things later what</span> </p>
<p><span data-start="952.93" data-end="954.85">I was saying that I wanted to do a small</span> <span data-start="954.85" data-end="957.79">sort of demo this is in case somebody's</span> <span data-start="957.79" data-end="959.47">interested in trying this stuff out at</span> <span data-start="959.47" data-end="963.069">home this is the open source</span> <span data-start="963.069" data-end="965.29">implementation of the JavaScript part of</span> <span data-start="965.29" data-end="973.66">it and they have a fairly nice yeah do</span> <span data-start="973.66" data-end="974.98">you know a keyboard to mirror the</span> <span data-start="974.98" data-end="992.5">displays</span> <span data-start="992.51" data-end="1007.63">[Music]</span> <span data-start="1007.64" data-end="1010.71">okay I'm gonna have to sort of scoot</span> <span data-start="1010.71" data-end="1037.12">around then I guess</span> <span data-start="1037.13" data-end="1041.329">okay I don't have the card reader</span> <span data-start="1041.329" data-end="1054.9">plugged in okay so</span> <span data-start="1054.91" data-end="1061.78">okay so it recognized the card reader I</span> <span data-start="1061.78" data-end="1067.64">can put in I can put in a card now and</span> <span data-start="1067.64" data-end="1069.57">[Music]</span> <span data-start="1069.57" data-end="1088.13">okay a card object selector</span> <span data-start="1088.14" data-end="1096.81">and then I</span> <span data-start="1096.82" data-end="1100.69">we sent that with a constant you can</span> <span data-start="1100.69" data-end="1102.73">either turn off the electricity and turn</span> <span data-start="1102.73" data-end="1106.33">it on again or or not do that we'll turn</span> <span data-start="1106.33" data-end="1111.4">it on and off again just for kicks cold</span> <span data-start="1111.4" data-end="1113.77">would be you actually cut off the</span> <span data-start="1113.77" data-end="1115.69">electricity to the card warmers you just</span> <span data-start="1115.69" data-end="1120.12">tell it to reset itself this is the ATR</span> <span data-start="1120.12" data-end="1125.44">actually the these bits here of the 3b</span> <span data-start="1125.44" data-end="1128.53">and 60 and and are the ATR and this is</span> <span data-start="1128.53" data-end="1131.38">sort of this describes the this</span> <span data-start="1131.38" data-end="1134.95">describes the card and now well I just</span> <span data-start="1134.95" data-end="1142.69">would like to do is what was in the demo</span> <span data-start="1142.69" data-end="1144.61">just to like the payment application and</span> <span data-start="1144.61" data-end="1147.7">just see how that works so we need to do</span> <span data-start="1147.7" data-end="1153.04">one of those five strings and that was</span> <span data-start="1153.04" data-end="1161.32">one page one and then you have the way</span> <span data-start="1161.32" data-end="1163.75">this works is now you tell it this is</span> <span data-start="1163.75" data-end="1166.45">hex or in this case it's not hex its</span> </p>
<p><span data-start="1166.45" data-end="1172.42">ASCII that I want the bites of and we</span> <span data-start="1172.42" data-end="1174.82">have those bytes again so per se the</span> <span data-start="1174.82" data-end="1179.86">length it's 14 that's right</span> <span data-start="1179.86" data-end="1184.38">and now I can just do cards and apdu</span> <span data-start="1184.38" data-end="1190.86">and that was the class by it is zero the</span> <span data-start="1190.86" data-end="1193.45">instruction is select I want to select</span> <span data-start="1193.45" data-end="1196.24">this file is a four I want to select it</span> <span data-start="1196.24" data-end="1201.22">by name so I do that and then the second</span> <span data-start="1201.22" data-end="1205.12">parameter is 0 and finally it has the</span> <span data-start="1205.12" data-end="1206.98">utility method it calculates the length</span> <span data-start="1206.98" data-end="1208.51">of the data I want to send I just have</span> <span data-start="1208.51" data-end="1212.02">to give us the data and I can send that</span> <span data-start="1212.02" data-end="1217.21">to it and this is the reply and response</span> <span data-start="1217.21" data-end="1220.18">this library takes care of the get</span> <span data-start="1220.18" data-end="1222.87">response part all in one go</span> <span data-start="1222.87" data-end="1224.94">and this contains more data about the</span> <span data-start="1224.94" data-end="1230.85">file than than my example did so what</span> <span data-start="1230.85" data-end="1235.11">the only about done the question is be</span> <span data-start="1235.11" data-end="1238.82">like what is the practical use of this</span> <span data-start="1238.82" data-end="1242.4">on the I guess the main thing is really</span> <span data-start="1242.4" data-end="1244.23">just play around with it to see you</span> <span data-start="1244.23" data-end="1246.48">canyou can use Java for other stuff I</span> <span data-start="1246.48" data-end="1251.7">could imagine having and if you're if</span> <span data-start="1251.7" data-end="1254.22">you're doing server-side JavaScript the</span> <span data-start="1254.22" data-end="1257.61">actually the only safe way to store SSL</span> </p>
<p><span data-start="1257.61" data-end="1261.33">Certificates as is on on smart cards so</span> <span data-start="1261.33" data-end="1264.36">this would be nice if and I'm sort of</span> <span data-start="1264.36" data-end="1266.13">working on that is that you have a small</span> <span data-start="1266.13" data-end="1270.27">FFI binding for for node or something</span> <span data-start="1270.27" data-end="1272.07">like that that you can that you can</span> <span data-start="1272.07" data-end="1274.5">access cards to store your your SSL</span> <span data-start="1274.5" data-end="1276.9">credentials or if you're doing some</span> <span data-start="1276.9" data-end="1279.299">local sort of things if you're doing</span> <span data-start="1279.299" data-end="1281.179">home banking and you have a local</span> <span data-start="1281.179" data-end="1284.13">component that does it that you can you</span> <span data-start="1284.13" data-end="1285.84">can sometimes in Germany at least you</span> <span data-start="1285.84" data-end="1288.39">need a smart card interaction in order</span> <span data-start="1288.39" data-end="1293.64">to authenticate to authenticate your</span> <span data-start="1293.64" data-end="1295.74">your your financial transactions that</span> <span data-start="1295.74" data-end="1300.12">you want to do and it's just sort of fun</span> <span data-start="1300.12" data-end="1301.799">to play around with and unless of course</span> <span data-start="1301.799" data-end="1304.25">you have a job doing it and then it's</span> <span data-start="1304.25" data-end="1308.19">fun to good so if there's any equal</span> <span data-start="1308.19" data-end="1315.02">uestions I think we're yeah</span> <span data-start="1315.03" data-end="1323.2">see there the money is not on your</span> <span data-start="1323.2" data-end="1325.93">credit card the money is resting in your</span> <span data-start="1325.93" data-end="1329.5">account that's the problem you could</span> <span data-start="1329.5" data-end="1331.27">break your card with it you can also you</span> <span data-start="1331.27" data-end="1333.25">can you can block your cart you can use</span> <span data-start="1333.25" data-end="1336.58">it to block your card if you want to do</span> <span data-start="1336.58" data-end="1338.8">that if you want to keep the money from</span> <span data-start="1338.8" data-end="1343.03">getting off out of your account and then</span> <span data-start="1343.03" data-end="1345.37">well in Germany there's a thing called a</span> <span data-start="1345.37" data-end="1347.74">guide card where the money is actually</span> <span data-start="1347.74" data-end="1351.43">on the on the chip but they say that's</span> <span data-start="1351.43" data-end="1365.38">safe and you couldn't ever</span> <span data-start="1365.39" data-end="1368.13">no this is not on the card at all this</span> <span data-start="1368.13" data-end="1371.43">is just on the side of the computer to</span> <span data-start="1371.43" data-end="1376.08">talk to the card but the the set of</span> <span data-start="1376.08" data-end="1389.64">commands the the EMB this EMV that they</span> <span data-start="1389.64" data-end="1391.68">define the language that's spoken by the</span> <span data-start="1391.68" data-end="1393.3">card and that's that's the same on every</span> <span data-start="1393.3" data-end="1396.18">card which enables you to you know go to</span> </p>
<p><span data-start="1396.18" data-end="1398.64">Saudi Arabia and get money from an ATM</span> <span data-start="1398.64" data-end="1401.25">there as well so unless you're in this</span> <span data-start="1401.25" data-end="1402.72">unless you go to the states where they</span> <span data-start="1402.72" data-end="1407.25">don't have chips it's it's the same</span> <span data-start="1407.25" data-end="1410.16">everywhere there's some subtleties it's</span> <span data-start="1410.16" data-end="1414">not quite true but and it's also the</span> <span data-start="1414" data-end="1417.45">same when you're doing NFC or</span> <span data-start="1417.45" data-end="1420.24">contactless payment then only the the</span> <span data-start="1420.24" data-end="1422.1">bottom the physical layer is exchanged</span> <span data-start="1422.1" data-end="1427.5">for RFID and everything above that these</span> <span data-start="1427.5" data-end="1429.96">apd use and and all of that stays the</span> <span data-start="1429.96" data-end="1432.69">same and you would be able to use this</span> <span data-start="1432.69" data-end="1434.67">library to talk with the contactless</span> <span data-start="1434.67" data-end="1437.49">credit card or an NFC based handy wallet</span> <span data-start="1437.49" data-end="1439.02">or something like cellphone wallet or</span> <span data-start="1439.02" data-end="1444.03">something like that</span> <span data-start="1444.04" data-end="1447.58">okay okay thanks</span> </p>
</section>

<!-- div#container ends -->
</div>

<img alt="The End" id="fin" src="../images/fin.jpg">

<script>
/*eslint-disable */
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google-translate');
}
/* eslint-enable */
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="../js/main.js"></script>

</body>

</html>
