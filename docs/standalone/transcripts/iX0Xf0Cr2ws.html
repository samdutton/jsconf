<!DOCTYPE html>

<!--
Copyright 2019 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="//google.com">
  <meta name="description" content="JSConf transcript">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>iX0Xf0Cr2ws</title>
  <link rel="stylesheet" href="../css/main.css">
</head>

<body>

<iframe id="youtube" src="https://www.youtube.com/embed/iX0Xf0Cr2ws?enablejsapi=1"></iframe>

<div id="container">

<div id="options">
  <div id="google-translate"></div>
  <div>
    <input type="checkbox" id="videoSticky" checked>
    <label for="videoSticky">Video position sticky</label>
  </div>
  <div>
    <input type="checkbox" id="captionScroll" checked>
    <label for="captionScroll">Keep current caption visible</label>
  </div>
</div>

<section>
<p><span data-start="0" data-end="5.16">uh yeah so hi I'm Nathan I'm here to</span> <span data-start="5.16" data-end="6.33">talk to you about the future of</span> <span data-start="6.33" data-end="10.11">operating systems I didn't have the</span> <span data-start="10.11" data-end="11.79">chance to finish my slides and I woke up</span> <span data-start="11.79" data-end="13.769">late this morning so I don't actually</span> <span data-start="13.769" data-end="15.45">remember my slides so this is going to</span> <span data-start="15.45" data-end="19.74">be fun all right I reinvent wheels</span> <span data-start="19.74" data-end="22.35">because I think we could use some better</span> <span data-start="22.35" data-end="27.119">ones so I'm working on a colonel and</span> <span data-start="27.119" data-end="30.63">that's a research project and some guy</span> <span data-start="30.63" data-end="36.03">on the internet did that to you also he</span> <span data-start="36.03" data-end="38.85">seems to have gotten somewhere so I'm</span> <span data-start="38.85" data-end="44.07">hoping that works at uh so primer about</span> <span data-start="44.07" data-end="48.6">kernels if you're running linux or mac</span> </p>
<p><span data-start="48.6" data-end="52.829">OS or some other funky thing you're</span> <span data-start="52.829" data-end="55.32">probably looking at using something like</span> <span data-start="55.32" data-end="60.899">the thing on the left so all of your</span> <span data-start="60.899" data-end="62.789">stuff runs in kernel mode and rings out</span> <span data-start="62.789" data-end="64.86">0 where everything has to be absolutely</span> <span data-start="64.86" data-end="67.17">perfect if anything crashes you're</span> <span data-start="67.17" data-end="69.06">screwed and you get a kernel panic and</span> <span data-start="69.06" data-end="71.34">life is terrible and you will throw your</span> <span data-start="71.34" data-end="77.1">computer at the wall and some guy had</span> <span data-start="77.1" data-end="82.929">opinions on this</span> <span data-start="82.939" data-end="86.97">and argued with the other guy so we have</span> <span data-start="86.97" data-end="91.049">the situation like this where like if</span> <span data-start="91.049" data-end="92.549">you want to write the kernel module the</span> <span data-start="92.549" data-end="96.72">code has to be perfect and you kind of</span> <span data-start="96.72" data-end="98.79">have to poke it into the kernel you</span> <span data-start="98.79" data-end="101.7">can't just run it separately you can't</span> <span data-start="101.7" data-end="103.86">build modules over your own if you have</span> <span data-start="103.86" data-end="107.649">a new idea on how things should work</span> <span data-start="107.659" data-end="113.45">well you're you can kind of shove it and</span> <span data-start="113.45" data-end="116.52">like if you want to do something that's</span> <span data-start="116.52" data-end="119.64">within the framework of what your kernel</span> <span data-start="119.64" data-end="122.34">provides then you're fine and</span> <span data-start="122.34" data-end="124.71">everything's easy way easier than if you</span> <span data-start="124.71" data-end="127.59">were using a more modular system but</span> <span data-start="127.59" data-end="130.709">because there's a cost to modularity but</span> <span data-start="130.709" data-end="134.34">we decided that wasn't worth it we pick</span> <span data-start="134.34" data-end="135.989">something with a small core that's why</span> <span data-start="135.989" data-end="139.08">we're all here and we picked came up</span> <span data-start="139.08" data-end="142.89">with a way to manage modularity and I</span> <span data-start="142.89" data-end="156.019">run out of slides here but uh so</span> <span data-start="156.019" data-end="162.359">actually I need this slide some people</span> <span data-start="162.359" data-end="163.95">figured out that there might be a better</span> <span data-start="163.95" data-end="166.049">way to do this and came up with micro</span> <span data-start="166.049" data-end="168.84">kernels in the middle you separate these</span> <span data-start="168.84" data-end="172.5">things you make you move with all things</span> <span data-start="172.5" data-end="174.269">into user space where they run those</span> <span data-start="174.269" data-end="177.39">normal processes they can crash like</span> <span data-start="177.39" data-end="180.299">your filesystem can crash now your file</span> <span data-start="180.299" data-end="181.739">system doesn't work that's rather</span> <span data-start="181.739" data-end="183.6">annoying maybe your network driver</span> <span data-start="183.6" data-end="186.03">crashes you know I've known at work but</span> <span data-start="186.03" data-end="187.59">your systems still running and it can</span> <span data-start="187.59" data-end="190.17">restart these things and everything will</span> <span data-start="190.17" data-end="197.549">be better again so in the early 90s I</span> <span data-start="197.549" data-end="201.319">think this was a really popular idea and</span> <span data-start="201.319" data-end="209.04">nobody really actually made popular</span> <span data-start="209.04" data-end="214.019">implementations of it so because it</span> <span data-start="214.019" data-end="215.579">turns out it's way easier to write</span> <span data-start="215.579" data-end="216.3">everything as</span> <span data-start="216.3" data-end="224.37">one big bunch of code and I think in</span> <span data-start="224.37" data-end="226.83">part that is because of you Luke the</span> <span data-start="226.83" data-end="230.13">micro kernels we already have some of</span> <span data-start="230.13" data-end="234.66">them like they have still for something</span> <span data-start="234.66" data-end="236.55">that should be very simple they're very</span> <span data-start="236.55" data-end="238.98">large API surface they're complicated to</span> <span data-start="238.98" data-end="241.05">talk to so nobody actually wants to</span> <span data-start="241.05" data-end="248.1">write the modules and some of them are</span> <span data-start="248.1" data-end="250.29">slightly more practical there's minix</span> <span data-start="250.29" data-end="254.06">which is written by Andrew Tannenbaum</span> <span data-start="254.06" data-end="258.51">who who gives computer science and</span> <span data-start="258.51" data-end="259.98">operating systems design at the</span> </p>
<p><span data-start="259.98" data-end="263.01">University he retired recently but</span> <span data-start="263.01" data-end="265.62">that's a that's a research operating</span> <span data-start="265.62" data-end="272.67">system nobody uses it seriously and it</span> <span data-start="272.67" data-end="275.4">doesn't go far enough in my opinion it</span> <span data-start="275.4" data-end="277.95">makes in preconceived notions like Halle</span> <span data-start="277.95" data-end="280.02">file system works I'll file system</span> <span data-start="280.02" data-end="284.22">should work how network works and I want</span> <span data-start="284.22" data-end="287.58">to put that all these bits so we go down</span> <span data-start="287.58" data-end="292.68">to things like l4 which is a really</span> <span data-start="292.68" data-end="295.38">really fast research microkernel that</span> <span data-start="295.38" data-end="297.81">actually has some traction it's used in</span> <span data-start="297.81" data-end="301.71">some niche applications but it still has</span> <span data-start="301.71" data-end="304.53">a very large and complex API I have no</span> <span data-start="304.53" data-end="311.82">clue how to program for it and I started</span> <span data-start="311.82" data-end="315.45">writing my own thing I decided that C</span> <span data-start="315.45" data-end="318.84">wasn't good enough it needed to be a</span> <span data-start="318.84" data-end="322.76">safe systems language so i went for rust</span> <span data-start="322.76" data-end="328.68">where you can strike kernel with so in</span> <span data-start="328.68" data-end="331.05">rust you have unsafe blocks where you</span> <span data-start="331.05" data-end="333.15">can do all the crazy things you can do</span> <span data-start="333.15" data-end="335.85">and see like the reference null pointers</span> <span data-start="335.85" data-end="339.12">and do pointer arithmetic and do stupid</span> <span data-start="339.12" data-end="342.93">things and those need to be perfect but</span> <span data-start="342.93" data-end="345">if you can isolate the unsafety to those</span> <span data-start="345" data-end="346.11">blow</span> <span data-start="346.11" data-end="348.27">and you can build save obstructions</span> <span data-start="348.27" data-end="351.54">around the tricky stuff you can start</span> <span data-start="351.54" data-end="353.73">right you can write a kernel without</span> <span data-start="353.73" data-end="358.11">actually knowing that much it becomes</span> <span data-start="358.11" data-end="366.46">much much easier to reason about and</span> <span data-start="366.47" data-end="368.69">unwilling to build the kernel that</span> <span data-start="368.69" data-end="373.34">provides the absolute minimum you get</span> <span data-start="373.34" data-end="375.42">processes which have their own memory</span> <span data-start="375.42" data-end="377.64">spaces so you can poke into you on the</span> <span data-start="377.64" data-end="383.13">other people's memory as usual they can</span> <span data-start="383.13" data-end="384.9">map memory to each other so they can</span> <span data-start="384.9" data-end="389.27">share a memory your programs do this</span> <span data-start="389.27" data-end="392.25">pretty much all the time this is why</span> <span data-start="392.25" data-end="394.34">your graphics are in uber slow because</span> <span data-start="394.34" data-end="396.51">everything's being copied every frame</span> <span data-start="396.51" data-end="400.23">stuff like that and they get channels to</span> <span data-start="400.23" data-end="404.22">communicate with each other some of you</span> <span data-start="404.22" data-end="406.08">are probably familiar with goes channels</span> <span data-start="406.08" data-end="411.57">and the basic approach is not only</span> <span data-start="411.57" data-end="417.12">modularity like NPM style also separate</span> <span data-start="417.12" data-end="422.19">your modules in to their own runtime</span> <span data-start="422.19" data-end="424.53">spaces so you're getting more of an</span> <span data-start="424.53" data-end="429.26">erlang style thing or micro services and</span> <span data-start="429.26" data-end="431.61">the moment you have something like that</span> <span data-start="431.61" data-end="434.52">you can you're operating like your</span> <span data-start="434.52" data-end="438.3">kernel provides no preconceived notion</span> <span data-start="438.3" data-end="440.9">of how an operating system should work</span> <span data-start="440.9" data-end="443.94">so if you want to if you want to file</span> <span data-start="443.94" data-end="447">system that's cool you can do that I</span> <span data-start="447" data-end="448.67">think file systems are just terrible</span> <span data-start="448.67" data-end="453.72">databases I'm not going to have one if</span> <span data-start="453.72" data-end="457.83">you want to have tcp/ip or x 25 or</span> <span data-start="457.83" data-end="461.25">carrier pigeons right the thing for it</span> </p>
<p><span data-start="461.25" data-end="464.85">I'm not too interested i want crazy</span> <span data-start="464.85" data-end="466.98">anarchist decentralized networking</span> <span data-start="466.98" data-end="469.74">protocols and i can build that because</span> <span data-start="469.74" data-end="472.35">my operating system no longer has the</span> <span data-start="472.35" data-end="474.18">preconceived notion of how that stuff</span> <span data-start="474.18" data-end="476.69">should work</span> <span data-start="476.7" data-end="484.38">and let's see what's fun too okay so if</span> <span data-start="484.38" data-end="489.33">you if nobody if the operating system</span> <span data-start="489.33" data-end="491.67">provides no preconceived notions of how</span> <span data-start="491.67" data-end="494.25">things should work what you start having</span> <span data-start="494.25" data-end="498.27">is the things that are compatible are</span> <span data-start="498.27" data-end="499.68">just the things that talk through the</span> <span data-start="499.68" data-end="502.68">same interfaces rust has a nice</span> <span data-start="502.68" data-end="504.81">mechanism for defining interfaces</span> <span data-start="504.81" data-end="506.61">unfortunately I don't have a slide for</span> <span data-start="506.61" data-end="513.63">that but you Annie sell things is</span> <span data-start="513.63" data-end="515.55">interoperable interoperable if they</span> <span data-start="515.55" data-end="518.64">agree and that's pretty powerful that's</span> <span data-start="518.64" data-end="521.7">how in p.m. works we all agree like on</span> <span data-start="521.7" data-end="524.31">something like Cole back lost and</span> <span data-start="524.31" data-end="528.12">everything works together for that or we</span> <span data-start="528.12" data-end="532.53">all agree on function resurrect for our</span> </p>
<p><span data-start="532.53" data-end="534.9">HTTP servers and everything works</span> <span data-start="534.9" data-end="538.14">together for that and we see people</span> <span data-start="538.14" data-end="541.68">innovating with these like we all use</span> <span data-start="541.68" data-end="543.93">resurrect and next now for our</span> <span data-start="543.93" data-end="546.48">middleware that's already like taking</span> <span data-start="546.48" data-end="548.91">that and just everyone agreeing that</span> <span data-start="548.91" data-end="553.04">that's a good idea we'll stick with it</span> <span data-start="553.04" data-end="561.8">and that means you can write much much</span> <span data-start="561.8" data-end="567.24">smaller modules because you just need an</span> <span data-start="567.24" data-end="570.24">in an input interface that's agreed on</span> <span data-start="570.24" data-end="575.31">an interface that's agreed on and that</span> <span data-start="575.31" data-end="578.18">means i can write a thing that just</span> <span data-start="578.18" data-end="580.47">figures out how to place looks on the</span> <span data-start="580.47" data-end="585.33">disk it's the minimal basis you need for</span> <span data-start="585.33" data-end="588.72">a file system but also for a database so</span> <span data-start="588.72" data-end="590.49">you can have your file system and it can</span> <span data-start="590.49" data-end="593.43">work on the same disk sharing space with</span> <span data-start="593.43" data-end="598.98">the database but the database no longer</span> <span data-start="598.98" data-end="601.59">is forced to be layered onto the file</span> <span data-start="601.59" data-end="610.35">system which i find a terrible thing I</span> <span data-start="610.36" data-end="613.01">yeah I didn't actually prepare well for</span> <span data-start="613.01" data-end="619.05">this so</span> <span data-start="619.06" data-end="622.19">english questions and questions at the</span> <span data-start="622.19" data-end="629.33">end very questions edge yeah I'm not</span> <span data-start="629.33" data-end="632.92">sure where to go from here uh must uh</span> <span data-start="632.92" data-end="641.78">yeah right uh so my Colonels cold sulfur</span> <span data-start="641.78" data-end="645.85">because it's a terrible chemistry joke</span> <span data-start="645.85" data-end="648.65">but it's not public right now because</span> <span data-start="648.65" data-end="650.78">the code is kind of terrible and it</span> <span data-start="650.78" data-end="663.129">doesn't do much right now it pretty much</span> <span data-start="663.139" data-end="666.319">like it doesn't even right to the screen</span> <span data-start="666.319" data-end="667.819">right now because I'm hacking on the</span> <span data-start="667.819" data-end="670.79">paging code and hardware sucks so right</span> <span data-start="670.79" data-end="672.709">now it writes to the serial ports didn't</span> <span data-start="672.709" data-end="680.359">not see it uh yeah it's also they you</span> <span data-start="680.359" data-end="682.819">can write note bolts in an environment</span> <span data-start="682.819" data-end="684.879">where you have literally no systems</span> <span data-start="684.879" data-end="690.769">libraries or memory allocation writing</span> <span data-start="690.769" data-end="695.699">memory allocators is actually hard uh</span> <span data-start="695.709" data-end="699.949">right so what you want like sub slack</span> <span data-start="699.949" data-end="704.839">talks about Mad Science no comfy you I</span> <span data-start="704.839" data-end="706.429">don't know how many of you have seen the</span> <span data-start="706.429" data-end="710.329">talk basically like mad science is what</span> <span data-start="710.329" data-end="712.04">we do in node where we make small</span> <span data-start="712.04" data-end="715.329">modules small packets of functionality</span> <span data-start="715.329" data-end="718.579">that aren't prescriptive that can be</span> <span data-start="718.579" data-end="720.589">recombined in new and surprising ways</span> <span data-start="720.589" data-end="723.739">and that is mad science making new and</span> <span data-start="723.739" data-end="726.98">crazy things combining modules pieces of</span> <span data-start="726.98" data-end="729.319">functionality in ways you remember the</span> <span data-start="729.319" data-end="730.759">authors are never envisioned before</span> <span data-start="730.759" data-end="734.779">because this modularity allows for it so</span> </p>
<p><span data-start="734.779" data-end="737.239">I'm hoping people will come up with some</span> <span data-start="737.239" data-end="739.549">new crazy way of how operating systems</span> <span data-start="739.549" data-end="741.799">will work and I'm just trying to provide</span> <span data-start="741.799" data-end="745.399">base for them I'll write my own</span> <span data-start="745.399" data-end="748.339">operating system on top of it because I</span> <span data-start="748.339" data-end="750.799">might as well if I have a kernel that</span> <span data-start="750.799" data-end="754.04">allows me to do that easily but I think</span> <span data-start="754.04" data-end="756.23">everyone should come along and mix up</span> <span data-start="756.23" data-end="759.619">their own operating system and figure</span> <span data-start="759.619" data-end="761.209">out how their computer should work for</span> </p>
</section>

<!-- div#container ends -->
</div>

<img alt="The End" id="fin" src="../images/fin.jpg">

<script>
/*eslint-disable */
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google-translate');
}
/* eslint-enable */
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="../js/main.js"></script>

</body>

</html>
