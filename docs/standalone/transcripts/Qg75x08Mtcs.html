<!DOCTYPE html>

<!--
Copyright 2019 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="//google.com">
  <meta name="description" content="JSConf transcript">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Qg75x08Mtcs</title>
  <link rel="stylesheet" href="../css/main.css">
</head>

<body>

<iframe id="youtube" src="https://www.youtube.com/embed/Qg75x08Mtcs?enablejsapi=1"></iframe>

<div id="container">

<div id="options">
  <div id="google-translate"></div>
  <div>
    <input type="checkbox" id="videoSticky" checked>
    <label for="videoSticky">Video position sticky</label>
  </div>
  <div>
    <input type="checkbox" id="captionScroll" checked>
    <label for="captionScroll">Keep current caption visible</label>
  </div>
</div>

<section>
<p><span data-start="20.84" data-end="24">my name is John Clinton I'm the director</span> <span data-start="24" data-end="27.54">of technology development international</span> <span data-start="27.54" data-end="31.32">were a non-profit charity that operates</span> <span data-start="31.32" data-end="34.079">in 27 different countries we treat</span> <span data-start="34.079" data-end="36.66">conditions like hydrocephalus and</span> <span data-start="36.66" data-end="40.08">clubfoot and personally I've been</span> <span data-start="40.08" data-end="42.48">working on the web app world for about</span> <span data-start="42.48" data-end="45.809">16 years love doing things on the</span> <span data-start="45.809" data-end="47.64">cutting edge and so being able to work</span> <span data-start="47.64" data-end="50.4">for an organization that lets me impact</span> <span data-start="50.4" data-end="52.68">the lives of children throughout the</span> <span data-start="52.68" data-end="57.33">world and just a little piece of trivia</span> </p>
<p><span data-start="57.33" data-end="60.54">I actually did server-side javascript in</span> <span data-start="60.54" data-end="63.869">97 bonus if you know what that</span> <span data-start="63.869" data-end="67.38">technology actually wasn't but yes</span> <span data-start="67.38" data-end="71.78">that's once okay so try keep on</span> <span data-start="71.78" data-end="74.28">insisting so let's talk about why</span> <span data-start="74.28" data-end="77.85">offline matters okay in the u.s. we</span> <span data-start="77.85" data-end="80.07">generally have good connectivity but</span> <span data-start="80.07" data-end="81.96">it's not always takes major out of a</span> <span data-start="81.96" data-end="84.359">conference in the Wi-Fi side here it</span> <span data-start="84.359" data-end="86.7">seems great but sometimes it's not early</span> <span data-start="86.7" data-end="90.42">stage maybe you're at a hospital that</span> <span data-start="90.42" data-end="95.7">limits your data access for the Korean</span> </p>
<p><span data-start="95.7" data-end="97.95">War major somewhere like this you Greg</span> <span data-start="97.95" data-end="99.929">Glacier National Park which make a</span> <span data-start="99.929" data-end="102.649">chance to visit recently and their</span> <span data-start="102.649" data-end="104.999">activities I have to check out be</span> <span data-start="104.999" data-end="106.71">practically nothing which is great for</span> <span data-start="106.71" data-end="108.89">vacation not so great</span> <span data-start="108.89" data-end="113.12">work on now globally connectivity varies</span> <span data-start="113.12" data-end="116.3">a lot more great the reality is where we</span> <span data-start="116.3" data-end="120.11">work as a non-profit connectivity is not</span> <span data-start="120.11" data-end="122.93">guaranteed a lot of these activities</span> <span data-start="122.93" data-end="126.95">over mobile networks and the things like</span> <span data-start="126.95" data-end="130.039">power failures happen or the other</span> <span data-start="130.039" data-end="134.12">things in Africa connectivity is</span> <span data-start="134.12" data-end="135.8">probably about 10 years behind where we</span> <span data-start="135.8" data-end="137.39">are so you might pay late hundred bucks</span> <span data-start="137.39" data-end="142.19">a month for 256k service so so locally</span> <span data-start="142.19" data-end="145.63">connectivity is dis an issue and lastly</span> <span data-start="145.63" data-end="148.61">your servers may not always be available</span> <span data-start="148.61" data-end="151.04">and if they're not available you are</span> <span data-start="151.04" data-end="154.519">effectively offline you're effectively</span> <span data-start="154.519" data-end="157.58">enough and offline state but there's</span> <span data-start="157.58" data-end="160.25">also another reason that all my matters</span> <span data-start="160.25" data-end="163.01">me personally one of the conditions we</span> <span data-start="163.01" data-end="165.68">treat a cure is called hydrocephalus and</span> <span data-start="165.68" data-end="167.9">type of cephalus is water and brain and</span> <span data-start="167.9" data-end="171.98">as you can see by the child the baby</span> <span data-start="171.98" data-end="174.41">here you can see a large head and pipe</span> <span data-start="174.41" data-end="175.94">some of these have been really really</span> <span data-start="175.94" data-end="179.989">big and it's a deadly condition if it's</span> <span data-start="179.989" data-end="183.38">not treated a child will die but</span> <span data-start="183.38" data-end="186.65">unfortunately we've been able to prime</span> <span data-start="186.65" data-end="189.29">care to children with this condition</span> <span data-start="189.29" data-end="193.129">and the TOWIE see Don write their names</span> </p>
<p><span data-start="193.129" data-end="195.459">Tom and he has successfully have surgery</span> <span data-start="195.459" data-end="197.959">and is living at a completely normal</span> <span data-start="197.959" data-end="201.2">life so we operate this program in about</span> <span data-start="201.2" data-end="204.29">15 countries throughout Africa and Asia</span> <span data-start="204.29" data-end="210.459">and we work with local surgeons and with</span> <span data-start="210.459" data-end="214.28">local social workers to to provide care</span> <span data-start="214.28" data-end="216.95">but we have a problem and that problem</span> <span data-start="216.95" data-end="222.59">was how do we manage to record the data</span> <span data-start="222.59" data-end="228.769">from remote locations and be able to</span> <span data-start="228.769" data-end="231.379">keep track of the information from a</span> <span data-start="231.379" data-end="233.78">location work that we're doing for</span> <span data-start="233.78" data-end="235.579">quality assurance also for research</span> <span data-start="235.579" data-end="239.87">perspectives so being able to do some</span> <span data-start="239.87" data-end="242.09">research to be able to find what's the</span> <span data-start="242.09" data-end="243.739">most effective way of treatment</span> <span data-start="243.739" data-end="246.29">conditions so we need a solution of this</span> <span data-start="246.29" data-end="248.54">distributed we need a solution that</span> <span data-start="248.54" data-end="252.019">could work offline and we needed</span> <span data-start="252.019" data-end="255.979">something that would allow us to to save</span> <span data-start="255.979" data-end="260.139">their data essentially so I built a</span> <span data-start="260.139" data-end="264.53">html5 app that allows us to do this and</span> <span data-start="264.53" data-end="266.75">this app is what I would call an awkward</span> <span data-start="266.75" data-end="270.68">first app so offline first design or</span> <span data-start="270.68" data-end="273.32">looking to do is assume that you are</span> <span data-start="273.32" data-end="276.65">offline everything happens in an offline</span> <span data-start="276.65" data-end="279.82">content sure you may have online</span> <span data-start="279.82" data-end="283.43">accessibility but if you don't we want</span> <span data-start="283.43" data-end="284.96">to make sure that the app works</span> <span data-start="284.96" data-end="289.55">perfectly with with without the online</span> <span data-start="289.55" data-end="294.099">connectivity offline first design is</span> <span data-start="294.099" data-end="296.87">also very effective on a mobile app</span> <span data-start="296.87" data-end="300.81">because you don't want your users</span> <span data-start="300.81" data-end="302.81">experience a different experience when</span> <span data-start="302.81" data-end="308.81">the connection is available so what's</span> <span data-start="308.81" data-end="311.43">we're going to use this guide here</span> <span data-start="311.43" data-end="314.16">someone some kind soul printed out a</span> <span data-start="314.16" data-end="317.97">guide for surviving offline apocalypse</span> <span data-start="317.97" data-end="320.79">so what pretty as a guy we're going to</span> <span data-start="320.79" data-end="323.01">look living off the grid of the fourth</span> <span data-start="323.01" data-end="325.32">light shelter we're going to look at</span> <span data-start="325.32" data-end="327.419">somewhere to store supplies gun store</span> <span data-start="327.419" data-end="330.66">stuff somewhere we have that paddock</span> <span data-start="330.66" data-end="333.18">with memory we need to make sure that we</span> <span data-start="333.18" data-end="334.71">have all the tools we need to get our</span> <span data-start="334.71" data-end="338.04">work done and we have to happen escape</span> <span data-start="338.04" data-end="341.01">plan we're going to escape it they all</span> <span data-start="341.01" data-end="344.19">want apocalypse so let's look at what</span> <span data-start="344.19" data-end="347.61">that means so the first thing we need is</span> <span data-start="347.61" data-end="349.639">we need to live off the grid oui oui</span> <span data-start="349.639" data-end="352.95">somewhere we did a structure something</span> <span data-start="352.95" data-end="355.53">like this this looks like it could be in</span> <span data-start="355.53" data-end="357.479">tattooing but it's actually in New</span> </p>
<p><span data-start="357.479" data-end="359.639">Mexico somewhere but we need somewhere</span> <span data-start="359.639" data-end="362.78">to be able to store our structure and</span> <span data-start="362.78" data-end="365.539">application cache allows us to do that</span> <span data-start="365.539" data-end="371.07">so all arcs jsr CSS anything that we</span> <span data-start="371.07" data-end="374.91">need to render that app offline we can</span> <span data-start="374.91" data-end="377.58">do with outpatient cash now maybe you've</span> <span data-start="377.58" data-end="379.229">heard about patient cash maybe you've</span> <span data-start="379.229" data-end="383.07">heard that it's kind of a jerk and it is</span> <span data-start="383.07" data-end="386.95">but for something like a single page</span> <span data-start="386.95" data-end="390.16">it actually works pretty well okay so</span> <span data-start="390.16" data-end="393.37">we'll look at a brief example here you</span> <span data-start="393.37" data-end="395.41">can see at the top here we have a</span> <span data-start="395.41" data-end="398.86">manifest attribute in our HTML and this</span> <span data-start="398.86" data-end="402.42">just points to a manifest file that</span> <span data-start="402.42" data-end="406.57">indicates basically what we need to work</span> <span data-start="406.57" data-end="409.9">offline so in on the bottom part here we</span> <span data-start="409.9" data-end="412.66">have the declaration of cache manifest</span> <span data-start="412.66" data-end="414.97">as well as what's most important is a</span> <span data-start="414.97" data-end="418.84">smil section here where we list the</span> <span data-start="418.84" data-end="420.49">files that are required for offline</span> <span data-start="420.49" data-end="424.45">usage sorry CSS or fugitives and</span> <span data-start="424.45" data-end="426.97">intertribal screams and then throw</span> <span data-start="426.97" data-end="429.25">things that we don't need offline we can</span> <span data-start="429.25" data-end="431.92">specify that in our networks section</span> <span data-start="431.92" data-end="435.37">down below now one of the challenges</span> <span data-start="435.37" data-end="440.74">with application cache is that anything</span> <span data-start="440.74" data-end="443.38">that use the application cache will not</span> <span data-start="443.38" data-end="445.15">be updated unless you update this</span> <span data-start="445.15" data-end="448.63">manifest file so and the other thing to</span> <span data-start="448.63" data-end="452.26">keep in mind is any HTML any resources</span> <span data-start="452.26" data-end="454.84">served from the application cache even</span> <span data-start="454.84" data-end="457.48">if you're online you're native your</span> <span data-start="457.48" data-end="458.62">bottles will be served from the</span> <span data-start="458.62" data-end="461.17">hesitation cash so one of the things we</span> <span data-start="461.17" data-end="465.52">can do is make our manifest file dynamic</span> <span data-start="465.52" data-end="468.61">you can do this at Build time so when</span> <span data-start="468.61" data-end="471.16">you're pushing a new build up of your</span> <span data-start="471.16" data-end="473.44">app you can generate a new math as well</span> <span data-start="473.44" data-end="476.47">or in this case we're just using a</span> <span data-start="476.47" data-end="479.17">simple PHP file that's going to go ahead</span> <span data-start="479.17" data-end="481.21">and basically look at</span> </p>
<p><span data-start="481.21" data-end="482.65">I am staying up on your on your</span> <span data-start="482.65" data-end="485.59">javascript file to use that as kind of a</span> <span data-start="485.59" data-end="487.96">build number and then that will allow us</span> <span data-start="487.96" data-end="493.09">to dynamically update the application</span> <span data-start="493.09" data-end="496.87">cache okay so real briefly just talk</span> <span data-start="496.87" data-end="499.87">about patient ash browser support as you</span> <span data-start="499.87" data-end="502.72">can see it's supported most browsers IE</span> <span data-start="502.72" data-end="505.06">less than time it's not scored in its</span> <span data-start="505.06" data-end="508.36">not supporting the upper many but pretty</span> <span data-start="508.36" data-end="511.15">pretty good coverage and explain to know</span> <span data-start="511.15" data-end="513.399">more about application cache take our</span> <span data-start="513.399" data-end="517.75">tracks of a series of talks and articles</span> <span data-start="517.75" data-end="519.7">on this so if you just look for an</span> <span data-start="519.7" data-end="522.76">application caches of you you can</span> <span data-start="522.76" data-end="524.83">find more details button so from the</span> <span data-start="524.83" data-end="528.91">time perspective we we need to time so</span> <span data-start="528.91" data-end="534.19">okay our next rule for surviving the</span> <span data-start="534.19" data-end="536.589">apocalypse is that somewhere to store</span> <span data-start="536.589" data-end="539.5">our stuff and we're going to use index</span> </p>
<p><span data-start="539.5" data-end="544.33">DB to do that and the ins XD BTW is a</span> <span data-start="544.33" data-end="548.47">auto school the idea here is that you're</span> <span data-start="548.47" data-end="550.87">using key value pairs to store your data</span> <span data-start="550.87" data-end="553.779">it's a no sequel database its</span> <span data-start="553.779" data-end="556.42">predecessor web sequel was more of a</span> <span data-start="556.42" data-end="559.18">cheapish database but this allows us to</span> <span data-start="559.18" data-end="562.5">store our data client-side in browser</span> <span data-start="562.5" data-end="567.07">and it gives us the capability of</span> <span data-start="567.07" data-end="568.439">storing data</span> <span data-start="568.439" data-end="571.029">okay now I'll give you a word of warning</span> <span data-start="571.029" data-end="574.42">about the index TV it is heavily</span> <span data-start="574.42" data-end="576.819">asynchronous now if you're working with</span> <span data-start="576.819" data-end="579.429">xhr know you're probably not too</span> <span data-start="579.429" data-end="581.139">concerned about that but it is</span> <span data-start="581.139" data-end="584.619">consideration in developing the UI you</span> <span data-start="584.619" data-end="587.05">need to be aware of it you need to make</span> <span data-start="587.05" data-end="591.309">sure that you're working with it okay so</span> <span data-start="591.309" data-end="593.499">we're going to take a quick look at an</span> <span data-start="593.499" data-end="598.42">example of using energy so the first</span> <span data-start="598.42" data-end="599.679">thing we're going to do is we need to</span> <span data-start="599.679" data-end="601.449">open the database which you can see at</span> <span data-start="601.449" data-end="605.05">the top here and when the database is</span> <span data-start="605.05" data-end="606.519">open one of the first things that will</span> <span data-start="606.519" data-end="609.309">happen is the version Alicia so if it's</span> <span data-start="609.309" data-end="610.629">the first time you're opening your</span> <span data-start="610.629" data-end="614.019">database origin change the version</span> <span data-start="614.019" data-end="616.42">number so so something your schema</span> <span data-start="616.42" data-end="619.639">change you can pass it in</span> <span data-start="619.639" data-end="622.62">when that happens this on upgrading</span> <span data-start="622.62" data-end="625.17">needed event on the bottom fires and</span> <span data-start="625.17" data-end="627.87">that's where we can then define our</span> <span data-start="627.87" data-end="631.829">database structure so the database has</span> <span data-start="631.829" data-end="633.6">its concept of object stores which you</span> <span data-start="633.6" data-end="635.07">can kind of think of that as being later</span> <span data-start="635.07" data-end="638.82">dating these tables and and we define</span> <span data-start="638.82" data-end="643.23">what the iee or what keypad that's the</span> <span data-start="643.23" data-end="645.389">primary identifier for the object store</span> <span data-start="645.389" data-end="648.779">then we can also define indexes for the</span> <span data-start="648.779" data-end="650.459">database and those noises can either be</span> <span data-start="650.459" data-end="654.839">unique so that frees record it for an</span> <span data-start="654.839" data-end="657.12">index only one or two have a value or</span> <span data-start="657.12" data-end="661.639">you have 90 indexes which the second</span> <span data-start="661.639" data-end="667.829">piece of code here showing okay so as I</span> <span data-start="667.829" data-end="669.47">mentioned before it's an asynchronous</span> </p>
<p><span data-start="669.47" data-end="672.42">API so we have to wait until the</span> <span data-start="672.42" data-end="674.519">databases over to interact with it and</span> <span data-start="674.519" data-end="676.8">this is a function that might fire after</span> <span data-start="676.8" data-end="680.399">the database is open and everything that</span> <span data-start="680.399" data-end="681.899">we're doing we need to grab the</span> <span data-start="681.899" data-end="683.64">transaction so that's the first thing</span> <span data-start="683.64" data-end="685.709">new and then once we've grabbed a</span> <span data-start="685.709" data-end="688.79">transaction we can go ahead actually and</span> <span data-start="688.79" data-end="692.93">one because it's a no sequel database</span> <span data-start="692.93" data-end="695.399">you know you're just interacting with</span> <span data-start="695.399" data-end="697.86">with JavaScript object so it's really</span> <span data-start="697.86" data-end="700.529">easy I don't even have to in this case</span> <span data-start="700.529" data-end="705.06">specify what the primary key is it knows</span> <span data-start="705.06" data-end="708.47">that I be attributed as a primary key</span> <span data-start="708.47" data-end="711.209">student so we we can use that and then</span> <span data-start="711.209" data-end="715.01">down here we have an example of</span> <span data-start="715.01" data-end="717.84">retrieving the data use</span> </p>
<p><span data-start="717.84" data-end="720.75">I had higher that that the prime area of</span> <span data-start="720.75" data-end="723.78">privacy and I'm going to go through</span> <span data-start="723.78" data-end="725.58">these code examples kind of quickly I</span> <span data-start="725.58" data-end="729.24">will have my slide saleable so hopefully</span> <span data-start="729.24" data-end="732.66">the double useful in the future okay so</span> <span data-start="732.66" data-end="735.3">as you might guess one of the things</span> <span data-start="735.3" data-end="738.45">that connects TV gives us is indexes and</span> <span data-start="738.45" data-end="742.05">indexes are useful for surgically when</span> <span data-start="742.05" data-end="744.42">you start having larger data sets you</span> <span data-start="744.42" data-end="746.19">need a way to be able to efficiently</span> <span data-start="746.19" data-end="750.57">pull that data back and and there's a</span> <span data-start="750.57" data-end="754.11">couple ways you can do it so the indexes</span> <span data-start="754.11" data-end="755.91">in exertion kind of works in this idea</span> <span data-start="755.91" data-end="759.06">of key ranges so you can kind of stuff</span> <span data-start="759.06" data-end="761.67">like over low an upper bound on low</span> <span data-start="761.67" data-end="764.49">around and this example here let's say a</span> <span data-start="764.49" data-end="767.04">little view for all cats whose name</span> <span data-start="767.04" data-end="771.89">starts with ch so we can go ahead and</span> <span data-start="771.89" data-end="774.69">query the database get get all the</span> <span data-start="774.69" data-end="779.28">records back and pull the day the second</span> <span data-start="779.28" data-end="781.47">example is is in this case where you</span> <span data-start="781.47" data-end="784.98">have index items that are not unique so</span> <span data-start="784.98" data-end="787.14">like let's say category so in this case</span> </p>
<p><span data-start="787.14" data-end="791.43">I want to pull back all my cat pictures</span> <span data-start="791.43" data-end="793.83">that are cat here in pictures so they're</span> <span data-start="793.83" data-end="797.22">using that category so so we can do that</span> <span data-start="797.22" data-end="798.93">as well so that's kind of some of the</span> <span data-start="798.93" data-end="803.89">flexibility that Phoenix PD takes us</span> <span data-start="803.9" data-end="806.24">I've deal with this if I did</span> <span data-start="806.24" data-end="809.27">matt chrome devtools gives us a really</span> <span data-start="809.27" data-end="813.38">nice view into index TV so we can look</span> <span data-start="813.38" data-end="814.73">at all the time and we look at the</span> <span data-start="814.73" data-end="817.97">object stores we look at the indexes and</span> <span data-start="817.97" data-end="822.43">michigan senior we we can see keys and</span> <span data-start="822.43" data-end="825.68">our values and it's just really useful</span> <span data-start="825.68" data-end="827.99">to debug perspective to have us also</span> <span data-start="827.99" data-end="832.279">mention that Deadpool's has support for</span> <span data-start="832.279" data-end="834.35">application cache info file system API</span> <span data-start="834.35" data-end="836.6">which I'll talk about in a second but</span> <span data-start="836.6" data-end="838.82">that those are really useful when your</span> <span data-start="838.82" data-end="841.19">work on that to be able to pull and then</span> <span data-start="841.19" data-end="845.089">information okay so connect CD browser</span> <span data-start="845.089" data-end="849.589">support as you can see here the major</span> <span data-start="849.589" data-end="853.279">crowd you're supported the really no one</span> <span data-start="853.279" data-end="856.459">here is that iOS does not support it as</span> <span data-start="856.459" data-end="860.18">well as really sorry but there's a</span> <span data-start="860.18" data-end="863.48">polyfill and using a polyfill you get</span> <span data-start="863.48" data-end="866.2">coverage on practically every browser</span> <span data-start="866.2" data-end="870.459">you miss offer me but its support for</span> </p>
<p><span data-start="870.459" data-end="875.86">Safari as well as or Android no Android</span> <span data-start="875.86" data-end="878.06">Chrome for Android you supported</span> <span data-start="878.06" data-end="880.55">natively but if you have to support the</span> <span data-start="880.55" data-end="882.8">old anger browser the polyfill will look</span> <span data-start="882.8" data-end="884.6">into that and that Polly collection</span> <span data-start="884.6" data-end="889.1">works with the web see for each guy ok</span> <span data-start="889.1" data-end="895.7">so the next thing work I don't know if</span> <span data-start="895.7" data-end="897.8">anyone recognizes this this is actually</span> <span data-start="897.8" data-end="901.88">a nerf gun that somebody outfitted you</span> <span data-start="901.88" data-end="904.07">know made made it look a little retro so</span> <span data-start="904.07" data-end="908.149">it's pretty kick ass so we're going to</span> <span data-start="908.149" data-end="911.84">talk about adequate weaponry and</span> <span data-start="911.84" data-end="914.84">so so so what I want to talk about here</span> <span data-start="914.84" data-end="917.39">is maybe other pieces that was helpful</span> <span data-start="917.39" data-end="920.27">in having offline app and then the</span> <span data-start="920.27" data-end="922.61">schedule allows this new guy so it's</span> <span data-start="922.61" data-end="925.7">possible to make values before well it's</span> <span data-start="925.7" data-end="927.95">useful for storing files that the FAFSA</span> <span data-start="927.95" data-end="932.2">sweet guy lets you store sandbox files</span> <span data-start="932.2" data-end="936.32">for your app and in the case of RF were</span> <span data-start="936.32" data-end="938.54">using it to store patient photos so</span> <span data-start="938.54" data-end="941.42">having a way of storing that data</span> <span data-start="941.42" data-end="943.85">completely offline one of the nice</span> <span data-start="943.85" data-end="947.06">things about it is that you can get a</span> <span data-start="947.06" data-end="950.99">little URL to that those files up so in</span> <span data-start="950.99" data-end="954.17">the kc RF we want to display an image i</span> <span data-start="954.17" data-end="956.9">can ask the pasta meat guy for for the</span> <span data-start="956.9" data-end="960.2">local you're off with a fun so here's</span> <span data-start="960.2" data-end="964.04">your's good example and one of the first</span> <span data-start="964.04" data-end="967.09">things we need to do is actually ask for</span> <span data-start="967.09" data-end="970.97">permission to to use a file system and</span> <span data-start="970.97" data-end="973.79">we need to ask for how much storage me</span> <span data-start="973.79" data-end="976.58">and one of the concepts here is your</span> <span data-start="976.58" data-end="978.95">persistent five stores as well as</span> <span data-start="978.95" data-end="981.08">temporary office or so if you only need</span> <span data-start="981.08" data-end="985.28">your files to persist over a one section</span> <span data-start="985.28" data-end="988.01">they can temporary otherwise I use a</span> <span data-start="988.01" data-end="990.2">persistent office or so once we've</span> <span data-start="990.2" data-end="993.92">requested access to the file system we</span> <span data-start="993.92" data-end="997.3">can go come and open the file system and</span> <span data-start="997.3" data-end="1001.48">again this API is asynchronous says they</span> <span data-start="1001.48" data-end="1005.56">need to to work with this and once we</span> <span data-start="1005.56" data-end="1008.38">open the file system we go ahead and in</span> <span data-start="1008.38" data-end="1009.88">this case we're doing is we're reading</span> <span data-start="1009.88" data-end="1013.81">from a file input in a browser we're</span> <span data-start="1013.81" data-end="1015.43">grabbing that file out and we're going</span> <span data-start="1015.43" data-end="1017.53">to save it locally and as you can see</span> <span data-start="1017.53" data-end="1020.38">here we just put the debug perspective</span> <span data-start="1020.38" data-end="1022.93">turn out the URL so that's a little URL</span> <span data-start="1022.93" data-end="1026.95">of five commercially we can also get the</span> <span data-start="1026.95" data-end="1029.53">data out in this example work grab your</span> <span data-start="1029.53" data-end="1034.3">file and returning back as a day to your</span> </p>
<p><span data-start="1034.3" data-end="1037.51">ID which could useful for various</span> <span data-start="1037.51" data-end="1039.64">reasons and in this case it aims in</span> <span data-start="1039.64" data-end="1043.42">Safari or maybe I actually convert it</span> <span data-start="1043.42" data-end="1048.73">into a dating your eye and so it gets us</span> <span data-start="1048.73" data-end="1050.98">out of a really flexible way a work with</span> <span data-start="1050.98" data-end="1054.22">files its hierarchical nature so you can</span> <span data-start="1054.22" data-end="1057.1">actually have like directories and and</span> <span data-start="1057.1" data-end="1059.77">in our case we use so each patient gets</span> <span data-start="1059.77" data-end="1063.73">a its own directory and then we can kind</span> <span data-start="1063.73" data-end="1065.74">of organize the files for that patient</span> <span data-start="1065.74" data-end="1070.42">that way okay so here's the bad file</span> <span data-start="1070.42" data-end="1073.11">system browsers work is only in crime</span> <span data-start="1073.11" data-end="1075.58">however there is a polyfill for this</span> <span data-start="1075.58" data-end="1078.43">they can see index TV so you're using</span> <span data-start="1078.43" data-end="1081.79">the browser uses in xeb you can use pop</span> <span data-start="1081.79" data-end="1083.56">system and if you really want to be</span> <span data-start="1083.56" data-end="1086.17">adventuresome you use the index DB</span> <span data-start="1086.17" data-end="1089.17">polyfill and then on top of it gives the</span> <span data-start="1089.17" data-end="1093.21">policies going to have polyfill so so so</span> <span data-start="1093.21" data-end="1096.94">it's not useful for everyone in our case</span> <span data-start="1096.94" data-end="1100.36">we actually put on Google Chromebooks so</span> <span data-start="1100.36" data-end="1103.84">we had a specific use case where we with</span> <span data-start="1103.84" data-end="1106.81">the target promise and I I actually hope</span> <span data-start="1106.81" data-end="1108.75">that other browser vendors</span> <span data-start="1108.75" data-end="1111.93">to the party because I think it's really</span> <span data-start="1111.93" data-end="1116.91">useful ok so we've talked about you know</span> <span data-start="1116.91" data-end="1119.49">these different rules of of the offline</span> <span data-start="1119.49" data-end="1121.74">and Pato surviving that one apocalipsis</span> <span data-start="1121.74" data-end="1123.45">the last one we need talk about is</span> <span data-start="1123.45" data-end="1127.56">having an escape plan so it's useful to</span> <span data-start="1127.56" data-end="1130.14">sort native offline it's really useful</span> <span data-start="1130.14" data-end="1134.37">if we can then store it online so so the</span> <span data-start="1134.37" data-end="1136.53">first thing we can do is when we're all</span> <span data-start="1136.53" data-end="1139.62">buying a safe happens we can go ahead</span> <span data-start="1139.62" data-end="1142.47">and Mark that record just have an</span> <span data-start="1142.47" data-end="1143.88">attribute that says this needs to be</span> <span data-start="1143.88" data-end="1146.82">seeing the circle so its first piece the</span> <span data-start="1146.82" data-end="1148.95">second piece is we need to know when we</span> <span data-start="1148.95" data-end="1154.32">are online now fortunately Thursday's</span> <span data-start="1154.32" data-end="1158.87">for such a property in the browser that</span> <span data-start="1158.87" data-end="1161.55">might give us some clue as to what's</span> <span data-start="1161.55" data-end="1163.17">going on here that's a navigator online</span> <span data-start="1163.17" data-end="1165.12">property now to treat a little bit the</span> <span data-start="1165.12" data-end="1167.64">description here it says the returns</span> <span data-start="1167.64" data-end="1171.06">true if user agent might be online women</span> <span data-start="1171.06" data-end="1174.87">point young come on this is the web we</span> <span data-start="1174.87" data-end="1177.18">should go whether or not wrong on not</span> <span data-start="1177.18" data-end="1179.66">but actually if you think about it that</span> <span data-start="1179.66" data-end="1181.8">that definition actually makes a lot of</span> <span data-start="1181.8" data-end="1184.17">sense because just because you're online</span> <span data-start="1184.17" data-end="1185.91">just because you have a connection to</span> <span data-start="1185.91" data-end="1187.89">the internet doesn't mean the we're</span> <span data-start="1187.89" data-end="1191.82">trying goes on so it gives the hint of</span> <span data-start="1191.82" data-end="1194.72">online</span> <span data-start="1194.73" data-end="1199.3">we can use xhr to help us figure out a</span> <span data-start="1199.3" data-end="1202.81">form online we also use the window</span> <span data-start="1202.81" data-end="1205.45">online event so let's take a look at it</span> <span data-start="1205.45" data-end="1209.11">a good example so here the first thing</span> <span data-start="1209.11" data-end="1212.89">we do is we establish a baseline using</span> <span data-start="1212.89" data-end="1216.48">an avatar mine property we can say okay</span> <span data-start="1216.48" data-end="1219.4">you know baseline seems our online or</span> <span data-start="1219.4" data-end="1221.95">offline we can also that tie into the</span> <span data-start="1221.95" data-end="1225.94">online and offline events and you know</span> <span data-start="1225.94" data-end="1230.35">if you do encounter on that's great time</span> <span data-start="1230.35" data-end="1233.53">to try to save our data online and then</span> <span data-start="1233.53" data-end="1235.99">the last piece here is when we do try to</span> <span data-start="1235.99" data-end="1239.95">savor via we can again if that request</span> <span data-start="1239.95" data-end="1242.53">is successful we can say well we're most</span> <span data-start="1242.53" data-end="1246.76">reasonably online but if it fails we'd</span> <span data-start="1246.76" data-end="1248.89">say well okay we're going to the server</span> <span data-start="1248.89" data-end="1252.52">room at least at this point okay so I</span> <span data-start="1252.52" data-end="1254.89">link to end with sharing this picture</span> <span data-start="1254.89" data-end="1257.41">and the research areas picture is</span> <span data-start="1257.41" data-end="1260.29">because these people are survivors of</span> <span data-start="1260.29" data-end="1264.04">the offering apocalypse they think this</span> <span data-start="1264.04" data-end="1266.83">group of people has been using this off</span> <span data-start="1266.83" data-end="1270.06">my app to help record the stories of</span> <span data-start="1270.06" data-end="1273.28">these patients that we've been helping</span> <span data-start="1273.28" data-end="1276.25">so far nine thousand kids have been</span> <span data-start="1276.25" data-end="1278.29">entered into the system there are</span> <span data-start="1278.29" data-end="1280.03">prisons nine thousand times that have</span> <span data-start="1280.03" data-end="1283.12">been saved so not only were we able to</span> <span data-start="1283.12" data-end="1284.63">use some cool technology</span> <span data-start="1284.63" data-end="1287.54">do it what were actually able to impact</span> </p>
</section>

<!-- div#container ends -->
</div>

<img alt="The End" id="fin" src="../images/fin.jpg">

<script>
/*eslint-disable */
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google-translate');
}
/* eslint-enable */
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="../js/main.js"></script>

</body>

</html>
