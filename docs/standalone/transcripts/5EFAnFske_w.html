<!DOCTYPE html>

<!--
Copyright 2019 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="//google.com">
  <meta name="description" content="JSConf transcript">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>5EFAnFske_w</title>
  <link rel="stylesheet" href="../css/main.css">
</head>

<body>

<iframe id="youtube" src="https://www.youtube.com/embed/5EFAnFske_w?enablejsapi=1"></iframe>

<div id="container">

<div id="options">
  <div id="google-translate"></div>
  <div>
    <input type="checkbox" id="videoSticky" checked>
    <label for="videoSticky">Video position sticky</label>
  </div>
  <div>
    <input type="checkbox" id="captionScroll" checked>
    <label for="captionScroll">Keep current caption visible</label>
  </div>
</div>

<section>
<p><span data-start="9.01" data-end="12.94">College a scarf Argentina</span> <span data-start="12.95" data-end="15.769">so i'm here to talk today about web</span> <span data-start="15.769" data-end="18.26">modules and you're kind of like wow what</span> <span data-start="18.26" data-end="19.279">does that mean right kind of a vague</span> <span data-start="19.279" data-end="21.939">term and you're you wouldn't be totally</span> <span data-start="21.939" data-end="24.5">incorrect if you check on Google it's a</span> <span data-start="24.5" data-end="27.68">not a totally unclaimed name so what web</span> <span data-start="27.68" data-end="30.369">module is am I here to talk about today</span> <span data-start="30.369" data-end="34.64">not not this one not the python library</span> <span data-start="34.64" data-end="37.64">either and I mean Java has a special</span> <span data-start="37.64" data-end="39.35">place in all of our hearts but i'm not</span> <span data-start="39.35" data-end="42.649">talking about java Taylor this is jae's</span> <span data-start="42.649" data-end="45.53">conf up after all so I'm talking about</span> <span data-start="45.53" data-end="49.75">web modules and specifically mpm modules</span> <span data-start="49.75" data-end="55.16">designed for web browser usage so</span> <span data-start="55.16" data-end="57.89">automatically created this github</span> <span data-start="57.89" data-end="60.079">organization web modules and it's</span> <span data-start="60.079" data-end="63.05">basically just a collection of common</span> <span data-start="63.05" data-end="65.6">j/s JavaScript modules that are intended</span> <span data-start="65.6" data-end="68.149">for use in the browser so if it's</span> <span data-start="68.149" data-end="69.649">something generic that can also run in</span> <span data-start="69.649" data-end="73.729">ojs it probably doesn't belong there but</span> <span data-start="73.729" data-end="76.52">we're also trying to maintain a certain</span> <span data-start="76.52" data-end="78.049">level of coding standards and sort of</span> <span data-start="78.049" data-end="82.7">like a development philosophy of us at</span> <span data-start="82.7" data-end="83.42">this point they're kind of more</span> <span data-start="83.42" data-end="85.13">guidelines because we're still working</span> <span data-start="85.13" data-end="87.71">on complying 100% with these guidelines</span> <span data-start="87.71" data-end="91.009">yeah these standards but hopefully with</span> <span data-start="91.009" data-end="91.999">some more time we'll be able get all</span> <span data-start="91.999" data-end="95.509">that in so basically every module should</span> <span data-start="95.509" data-end="98.09">be very small very focused on one single</span> <span data-start="98.09" data-end="104.99">task using browserify for bundling so</span> <span data-start="104.99" data-end="110.27">you hopefully off mode with that on the</span> <span data-start="110.27" data-end="112.549">github repository name should match the</span> </p>
<p><span data-start="112.549" data-end="119.599">NPM module name and I'm read me a</span> <span data-start="119.599" data-end="122.319">markdown file is preferable of course</span> <span data-start="122.319" data-end="126.439">and then unit tests which might be a</span> <span data-start="126.439" data-end="128.869">little bit more out of the norm for for</span> <span data-start="128.869" data-end="132.23">client-side kid and then with a cloud</span> <span data-start="132.23" data-end="134.84">testing enabled via sauce labs and we'll</span> <span data-start="134.84" data-end="137.66">talk about that a little bit so small</span> <span data-start="137.66" data-end="140.84">and focus right in a perfect world you'd</span> <span data-start="140.84" data-end="142.67">only export a single function which we</span> <span data-start="142.67" data-end="144.349">do by setting module exports to function</span> <span data-start="144.349" data-end="145.29">reference</span> <span data-start="145.29" data-end="147.329">and this helps enforce the small and</span> <span data-start="147.329" data-end="151.079">focused design philosophy and so one</span> <span data-start="151.079" data-end="153.09">good example of that would be the node</span> <span data-start="153.09" data-end="157.769">contains web module and that's it in its</span> <span data-start="157.769" data-end="159.53">entirety right there so small</span> <span data-start="159.53" data-end="162.599">self-contained focused but this is</span> <span data-start="162.599" data-end="164.939">basically actually a polyfill for the</span> <span data-start="164.939" data-end="169.859">node contains WWDC method with you know</span> <span data-start="169.859" data-end="175.59">compatibility for internet explorer but</span> <span data-start="175.59" data-end="177.299">polyfills are also a great piece case</span> <span data-start="177.299" data-end="181.439">but like i just said actually but always</span> <span data-start="181.439" data-end="183.59">try to just probably fill the smallest</span> <span data-start="183.59" data-end="185.79">you know piece of the puzzle that you</span> <span data-start="185.79" data-end="189.84">need to and so another good example</span> <span data-start="189.84" data-end="193.609">would be the progress event module which</span> <span data-start="193.609" data-end="195.9">which which implements the progress</span> <span data-start="195.9" data-end="199.019">event constructor to return a progress</span> <span data-start="199.019" data-end="200.669">object like you'd use with xml</span> <span data-start="200.669" data-end="203.97">httprequest or things like that but then</span> <span data-start="203.97" data-end="206.01">of course support for things like</span> </p>
<p><span data-start="206.01" data-end="208.769">Internet Explorer which the unit test</span> <span data-start="208.769" data-end="215.159">can verify so if a module has an inverse</span> <span data-start="215.159" data-end="217.979">of whatever it's doing you should not</span> <span data-start="217.979" data-end="219.629">implement that in the same repository do</span> <span data-start="219.629" data-end="221.699">that in a new repository you know keep</span> <span data-start="221.699" data-end="223.229">things isolated if you think separated</span> <span data-start="223.229" data-end="231.09">keeps tests focused that way too and so</span> <span data-start="231.09" data-end="233.609">a good example of that is wrap range and</span> <span data-start="233.609" data-end="235.229">unwrap range so they're two different</span> <span data-start="235.229" data-end="237.239">modules but they do the inverse of each</span> <span data-start="237.239" data-end="240.989">other basically so wrap range I'm not</span> <span data-start="240.989" data-end="242.28">showing it here but you pass in a range</span> <span data-start="242.28" data-end="246.81">and a dom dom element name and so then</span> <span data-start="246.81" data-end="248.729">it would wrap the selection with abby</span> <span data-start="248.729" data-end="251.189">node set pretty simple and then the</span> <span data-start="251.189" data-end="259.109">inverse unwrap hola guys come and so you</span> <span data-start="259.109" data-end="260.159">could see how you could use these</span> <span data-start="260.159" data-end="261.989">together to implement something like a</span> <span data-start="261.989" data-end="265.74">bold command in an editor and text</span> <span data-start="265.74" data-end="269.039">editor and so I mentioned we're using</span> <span data-start="269.039" data-end="271.409">browser ified hopefully you're familiar</span> <span data-start="271.409" data-end="272.759">with that and that allows us to use the</span> <span data-start="272.759" data-end="275.81">common j/s code and it also has</span> <span data-start="275.81" data-end="277.59">transforms and things like that which</span> </p>
<p><span data-start="277.59" data-end="279.09">I'm not a huge fan of</span> <span data-start="279.09" data-end="281.76">like to i do like compiled two languages</span> <span data-start="281.76" data-end="284.19">and using them with browserify i just</span> <span data-start="284.19" data-end="289.74">like to compile ahead of time sauce so</span> <span data-start="289.74" data-end="292.32">soon browserify other bundlers night</span> <span data-start="292.32" data-end="294.18">work you know component or required yes</span> <span data-start="294.18" data-end="296.94">things like that but not really put you</span> <span data-start="296.94" data-end="300.189">know our biggest priority at the moment</span> <span data-start="300.199" data-end="307.65">and there's a wizard so as our</span> <span data-start="307.65" data-end="310.41">convention you know we try to pick a</span> <span data-start="310.41" data-end="313.08">name that is available on NPM so that's</span> <span data-start="313.08" data-end="315.45">one of the first steps is picking out</span> <span data-start="315.45" data-end="318.479">the name so this helps users find the</span> <span data-start="318.479" data-end="321.12">repository which happens quite a lot it</span> <span data-start="321.12" data-end="324.5">seems npm I wish would enforce the</span> <span data-start="324.5" data-end="327.18">repository field more than it currently</span> <span data-start="327.18" data-end="329.88">does but so as a result you end up</span> <span data-start="329.88" data-end="332.1">wondering where the hell the repository</span> <span data-start="332.1" data-end="337.74">is and so at this point in the NPM</span> <span data-start="337.74" data-end="339.27">registry I mean there's a lot of modules</span> <span data-start="339.27" data-end="341.94">on there now i mean i i'm not i couldnt</span> <span data-start="341.94" data-end="343.05">even give an accurate number but in the</span> <span data-start="343.05" data-end="346.62">tens of thousands i'm pretty sure and a</span> <span data-start="346.62" data-end="349.2">lot of the good names are taken or a lot</span> <span data-start="349.2" data-end="350.88">of the single word names are taken out</span> <span data-start="350.88" data-end="353.37">which i should say and so as a result</span> <span data-start="353.37" data-end="356.16">almost all of our web modules i think</span> <span data-start="356.16" data-end="359.52">with the exception of one is hyphenated</span> <span data-start="359.52" data-end="361.44">you know we had to be good to figure out</span> <span data-start="361.44" data-end="364.41">a name that uses two words basically but</span> <span data-start="364.41" data-end="365.52">this ends up working out decently</span> <span data-start="365.52" data-end="369.75">because we get a nice noun piping verb</span> <span data-start="369.75" data-end="372.63">convention and so there's a little bit</span> <span data-start="372.63" data-end="377.61">consistency consistency there so github</span> <span data-start="377.61" data-end="381.349">wrap range and then NPM same name</span> <span data-start="381.349" data-end="387.69">everybody's happy so hopefully this goes</span> <span data-start="387.69" data-end="389.099">without saying but I'm gonna say it</span> <span data-start="389.099" data-end="392.94">anyway always add the readme file if</span> <span data-start="392.94" data-end="395.16">you're looking through the modules and</span> <span data-start="395.16" data-end="396.27">the organization are now you might be</span> <span data-start="396.27" data-end="397.41">like a but this one doesn't have a</span> <span data-start="397.41" data-end="399.72">readme and so yes yes that's one of the</span> <span data-start="399.72" data-end="401.34">that's one of the guidelines we're still</span> <span data-start="401.34" data-end="407.76">trying to get fully compliant with it'd</span> <span data-start="407.76" data-end="409.89">be good to have the NPM installation</span> <span data-start="409.89" data-end="412.229">instructions which I mean if you're</span> <span data-start="412.229" data-end="413.64">following the convention it should just</span> <span data-start="413.64" data-end="415.95">be the same as the repository name but</span> <span data-start="415.95" data-end="417.659">sorry is good to have it in the readme</span> <span data-start="417.659" data-end="421.409">as well a usage example is always good</span> <span data-start="421.409" data-end="425.07">to just like a little quick showing of</span> <span data-start="425.07" data-end="427.62">how how how the API works and I mean</span> <span data-start="427.62" data-end="429.599">honestly if if the module is as simple</span> <span data-start="429.599" data-end="431.19">and focus as it should be it's a quick</span> <span data-start="431.19" data-end="432.18">example should be all that's really</span> <span data-start="432.18" data-end="436.32">needed right but nonetheless sometimes</span> <span data-start="436.32" data-end="438.289">you might also want to generate api docs</span> <span data-start="438.289" data-end="441">using you know Jo stock comments in line</span> <span data-start="441" data-end="443.19">or something like that we find that the</span> <span data-start="443.19" data-end="447.09">docs do X command line tool it's um it's</span> <span data-start="447.09" data-end="450.599">an MPN also from TJ Holloway check does</span> <span data-start="450.599" data-end="456.57">a pretty decent job of that but more</span> <span data-start="456.57" data-end="458.52">importantly we like to have the readme</span> <span data-start="458.52" data-end="464.4">because we add the we can add the Travis</span> </p>
<p><span data-start="464.4" data-end="466.8">CI and sauce labs build badges and we</span> <span data-start="466.8" data-end="469.44">can see a granular output of which</span> <span data-start="469.44" data-end="473.13">browsers are failing if any and all so</span> <span data-start="473.13" data-end="475.2">Travis just gives a basic overall</span> <span data-start="475.2" data-end="477.3">everyone pass Trevor and failed but it's</span> <span data-start="477.3" data-end="483.15">good to have that in there too so it</span> <span data-start="483.15" data-end="487.469">brings us on to the clab testing we use</span> <span data-start="487.469" data-end="491.58">a command line tool called zool which</span> <span data-start="491.58" data-end="495.99">combines browserify mocha travis CI the</span> <span data-start="495.99" data-end="498.81">service and sauce labs so it's kind of a</span> <span data-start="498.81" data-end="501.539">hodgepodge but in the end you get to</span> <span data-start="501.539" data-end="504.03">execute your browser tests using a</span> <span data-start="504.03" data-end="507.74">browser Phi in the cloud you know using</span> <span data-start="507.74" data-end="512.73">arbitrary web browsers</span> <span data-start="512.74" data-end="517.279">and in the package.json file the npm</span> <span data-start="517.279" data-end="519.68">test command will be set up to run to</span> <span data-start="519.68" data-end="524.75">execute zool and there's the repository</span> <span data-start="524.75" data-end="529.04">for it if you want to check that up if</span> <span data-start="529.04" data-end="532.13">you don't get the reference there is no</span> </p>
<p><span data-start="532.13" data-end="541.01">Dana only Zuul ghostbusters so Travis CI</span> <span data-start="541.01" data-end="544.55">is a part of the equation here Travis CI</span> <span data-start="544.55" data-end="547.61">ends up invoking sauce labs when when</span> <span data-start="547.61" data-end="548.87">you set up your commit hooks like that</span> <span data-start="548.87" data-end="554.93">and so you need to enable that from</span> <span data-start="554.93" data-end="557.839">github for each repository a little bit</span> <span data-start="557.839" data-end="559.25">of a pain but you know there could be</span> <span data-start="559.25" data-end="563.63">could be more annoyances the zoo leaky</span> <span data-start="563.63" data-end="565.91">has a good page on explaining how to set</span> <span data-start="565.91" data-end="570.16">up Travis CI but it basically involves</span> <span data-start="570.16" data-end="575.3">creating a sauce labs account and like</span> <span data-start="575.3" data-end="576.949">encrypt you know travis has a way of</span> <span data-start="576.949" data-end="578.69">encrypting environment variables so you</span> <span data-start="578.69" data-end="580.43">can encrypt your username and your in</span> <span data-start="580.43" data-end="584.209">your authentication key and then it</span> <span data-start="584.209" data-end="588.399">knows which repository you're accessing</span> <span data-start="588.399" data-end="590.839">so there's an example of what Travis</span> </p>
<p><span data-start="590.839" data-end="592.97">TI's matrix will look like it's a little</span> <span data-start="592.97" data-end="595.49">blurry but you were specifying the</span> <span data-start="595.49" data-end="598.19">browser name browser version and in a</span> <span data-start="598.19" data-end="599.99">matrix style and a couple tests or</span> <span data-start="599.99" data-end="602.089">failing there so we'd want to go in</span> <span data-start="602.089" data-end="610.26">there and clean that up right</span> <span data-start="610.27" data-end="612.28">so you'll need to create a sauce labs</span> <span data-start="612.28" data-end="615.97">account there's free ones they're called</span> <span data-start="615.97" data-end="622.24">open sauce and you you uh you can you</span> <span data-start="622.24" data-end="623.38">can basically create as many of those as</span> <span data-start="623.38" data-end="627.31">you want so zool integrates the sauce</span> <span data-start="627.31" data-end="628.93">labs like i said by checking the</span> <span data-start="628.93" data-end="632.29">environment variable and so somewhat</span> <span data-start="632.29" data-end="635.53">annoying but you have to create a new</span> <span data-start="635.53" data-end="637.84">sauce labs account for every module</span> <span data-start="637.84" data-end="640.81">created I'm gonna have to like finger</span> <span data-start="640.81" data-end="642.46">support on that pretty soon or something</span> <span data-start="642.46" data-end="644.98">but it's a little a little annoying my</span> <span data-start="644.98" data-end="648.19">one password looks like this by now so</span> <span data-start="648.19" data-end="650.4">it's kind of it's kind of a ridiculous</span> <span data-start="650.4" data-end="651.88">hopefully they'll make that process</span> <span data-start="651.88" data-end="660.25">easier soon so then I course hopefully</span> <span data-start="660.25" data-end="664.23">in the end you get nice all greens and</span> <span data-start="664.23" data-end="666.61">then you're like okay my module is</span> <span data-start="666.61" data-end="668.5">stable and I can use it in the</span> <span data-start="668.5" data-end="671.41">application now if not then you know</span> <span data-start="671.41" data-end="674.68">you'd be able to go to Travis CI and see</span> <span data-start="674.68" data-end="676.42">the output see exactly what errors were</span> <span data-start="676.42" data-end="678.67">thrown and then hopefully can figure it</span> <span data-start="678.67" data-end="680.2">out from there Internet Explorer it was</span> <span data-start="680.2" data-end="682.39">really terrible eras so usually it</span> <span data-start="682.39" data-end="685.39">requires a little more digging but then</span> <span data-start="685.39" data-end="687.73">you commit something else try to fix it</span> <span data-start="687.73" data-end="694.93">and hope for greens again right so</span> <span data-start="694.93" data-end="696.46">please check out the organization check</span> <span data-start="696.46" data-end="698.92">the codes and patches and hopefully some</span> <span data-start="698.92" data-end="701.95">of these these ideals rub off on you and</span> </p>
</section>

<!-- div#container ends -->
</div>

<img alt="The End" id="fin" src="../images/fin.jpg">

<script>
/*eslint-disable */
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google-translate');
}
/* eslint-enable */
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="../js/main.js"></script>

</body>

</html>
