<!DOCTYPE html>

<!--
Copyright 2019 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="//google.com">
  <meta name="description" content="JSConf transcript">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>rKuNbEwoQfQ</title>
  <link rel="stylesheet" href="../css/main.css">
</head>

<body>

<iframe id="youtube" src="https://www.youtube.com/embed/rKuNbEwoQfQ?enablejsapi=1"></iframe>

<div id="container">

<div id="options">
  <div id="google-translate"></div>
  <div>
    <input type="checkbox" id="videoSticky" checked>
    <label for="videoSticky">Video position sticky</label>
  </div>
  <div>
    <input type="checkbox" id="captionScroll" checked>
    <label for="captionScroll">Keep current caption visible</label>
  </div>
</div>

<section>
<p><span data-start="15.15" data-end="18.49">hi my name is Esther McKenzie I work on</span> <span data-start="18.49" data-end="20.38">web content optimization and CloudFlare</span> <span data-start="20.38" data-end="22.98">so I work on making websites faster</span> <span data-start="22.98" data-end="25.18">monitoring performance that kind of</span> <span data-start="25.18" data-end="25.63">thing</span> <span data-start="25.63" data-end="27.369">so what I'm going to be talking to you</span> <span data-start="27.369" data-end="29.86">about to you today about is JavaScript</span> <span data-start="29.86" data-end="32.829">transformation so what is JavaScript</span> <span data-start="32.829" data-end="35.5">transformation well you put JavaScript</span> <span data-start="35.5" data-end="37.899">in and you get javascript out the</span> <span data-start="37.899" data-end="39.76">generated output is determined by</span> <span data-start="39.76" data-end="42.07">contextual information based on what you</span> <span data-start="42.07" data-end="44.56">put in so it like statically checks and</span> <span data-start="44.56" data-end="46.66">infer as kind of what the code does and</span> <span data-start="46.66" data-end="49.65">then transforms it as such into the</span> <span data-start="49.65" data-end="53.829">output JavaScript so first off let me</span> <span data-start="53.829" data-end="56.56">explain some history so there was this</span> <span data-start="56.56" data-end="59.52">thing new thing called es6 now es2015</span> <span data-start="59.52" data-end="62.14">there was a large gap my knowledge arm</span> <span data-start="62.14" data-end="64.42">passes compilers and generally the</span> <span data-start="64.42" data-end="66.97">intricacies of JavaScript so I decided</span> <span data-start="66.97" data-end="69.49">to make an a s-six transpiler to learn</span> <span data-start="69.49" data-end="73.27">it called six-to-five unfortunately this</span> <span data-start="73.27" data-end="75.13">wasn't a very good name people started</span> <span data-start="75.13" data-end="78.159">to use it and 65 already supported like</span> <span data-start="78.159" data-end="80.92">bleeding edge as7 stuff so it would have</span> <span data-start="80.92" data-end="83.069">required a name change to seven to five</span> <span data-start="83.069" data-end="85.719">and then once es6 became mainstream</span> <span data-start="85.719" data-end="88.35">would have been had to be changed to 76</span> <span data-start="88.35" data-end="94.35">but then es6 was renamed T as 2015</span> <span data-start="94.36" data-end="97.25">so this obviously wouldn't be in very</span> <span data-start="97.25" data-end="99.86">practical so in order to keep up with</span> <span data-start="99.86" data-end="101.3">the rapid pace of the web the name was</span> <span data-start="101.3" data-end="104.51">changed to babble with this name change</span> <span data-start="104.51" data-end="107.72">on not only came like the sense of</span> <span data-start="107.72" data-end="109.52">permanence where future versions be</span> <span data-start="109.52" data-end="112.22">supported but the scope of the project</span> <span data-start="112.22" data-end="114.14">was kind of expanded to be a more</span> <span data-start="114.14" data-end="117.26">general JavaScript compiler I'll go into</span> <span data-start="117.26" data-end="118.91">a bit more detail on what that actually</span> <span data-start="118.91" data-end="119.78">means</span> <span data-start="119.78" data-end="122.12">but basically different types of tools</span> <span data-start="122.12" data-end="124.37">could be built on top of Babel and there</span> <span data-start="124.37" data-end="126.89">be future-proof so what does that mean</span> <span data-start="126.89" data-end="128.78">so for example if you build a minnow</span> <span data-start="128.78" data-end="130.94">fire on top of Babel I mean some cool</span> <span data-start="130.94" data-end="133.52">new ears feature came out as long as</span> </p>
<p><span data-start="133.52" data-end="135.35">Babel supported it everything that was</span> <span data-start="135.35" data-end="136.85">built on it or used it would support it</span> <span data-start="136.85" data-end="139.79">too so to give some context on why this</span> <span data-start="139.79" data-end="141.65">is neat I need kind of understand a bit</span> <span data-start="141.65" data-end="144.95">about how it works so you have some</span> <span data-start="144.95" data-end="147.05">source code cool</span> <span data-start="147.05" data-end="149.12">how can I deal with this how would you</span> <span data-start="149.12" data-end="151.459">throw a regex at it no not really</span> <span data-start="151.459" data-end="153.14">there are way too many variations of</span> <span data-start="153.14" data-end="155.66">syntax in order to kind of do anything</span> <span data-start="155.66" data-end="158.06">good with just regular expressions so</span> <span data-start="158.06" data-end="159.95">you need to represent this code in a</span> <span data-start="159.95" data-end="161.23">data structure that you can deal with</span> <span data-start="161.23" data-end="164.69">called in abstract syntax tree or AST</span> <span data-start="164.69" data-end="169.4">for sure so this is the AST for the</span> <span data-start="169.4" data-end="171.86">previous code it's a group of deeply</span> <span data-start="171.86" data-end="173.93">nested objects that expressively define</span> <span data-start="173.93" data-end="177.23">each syntactic element so each property</span> <span data-start="177.23" data-end="179.69">of these nodes contains metadata about</span> <span data-start="179.69" data-end="182.12">what it represents so this may kind of</span> <span data-start="182.12" data-end="183.53">seem intimidating but an easy way to</span> <span data-start="183.53" data-end="187.94">visualize this is via a tree so it is</span> <span data-start="187.94" data-end="190.85">the T in AST after all so as I said</span> <span data-start="190.85" data-end="193.28">before each syntactic element represents</span> <span data-start="193.28" data-end="195.17">a node so now that you've got some</span> <span data-start="195.17" data-end="197.239">context on what an ast is it's the data</span> <span data-start="197.239" data-end="199.22">structure that we deal with when we're</span> <span data-start="199.22" data-end="201.38">dealing with code it's easier to</span> <span data-start="201.38" data-end="204.59">understand each component of Babel so</span> <span data-start="204.59" data-end="206.299">this split up into three very distinct</span> <span data-start="206.299" data-end="209.39">areas so you have the parser that turns</span> <span data-start="209.39" data-end="212.06">your raw code into an AST or some parses</span> <span data-start="212.06" data-end="213.65">it to the transformer to manipulate</span> <span data-start="213.65" data-end="216.11">manipulate then on to the generator to</span> <span data-start="216.11" data-end="218.53">turn back into code that you can execute</span> <span data-start="218.53" data-end="221.09">and so this graph is more to scale that</span> <span data-start="221.09" data-end="223.22">well most of the time in Babel is spent</span> <span data-start="223.22" data-end="225.829">and where the smarts and car logic</span> <span data-start="225.829" data-end="227.74">actually is</span> <span data-start="227.74" data-end="230.48">so the transformer is mostly where the</span> <span data-start="230.48" data-end="232.79">tricky stuff happens and in order to</span> <span data-start="232.79" data-end="234.35">understand the core concept of the</span> <span data-start="234.35" data-end="238">transformer is to understand traversal</span> <span data-start="238" data-end="240.38">so traversal is where you have a tree</span> <span data-start="240.38" data-end="242.27">represented by the red nodes and then</span> <span data-start="242.27" data-end="243.53">you have a visitor represented by the</span> <span data-start="243.53" data-end="245.69">blue node and you want to visit all</span> <span data-start="245.69" data-end="247.459">these nodes so basically it happened</span> <span data-start="247.459" data-end="251.239">like this so you would visit program the</span> <span data-start="251.239" data-end="253.04">variable declaration and then you keep</span> <span data-start="253.04" data-end="255.83">on continuing through the entire tree</span> </p>
<p><span data-start="255.83" data-end="258.68">I'm going at any points additional nodes</span> <span data-start="258.68" data-end="260.57">could pop into existence or no to be</span> <span data-start="260.57" data-end="264.35">deleted and this can be tricky so if</span> <span data-start="264.35" data-end="266.51">you're replacing a set of valid nodes</span> <span data-start="266.51" data-end="270.89">with a set of invalid nodes so to make</span> <span data-start="270.89" data-end="272.84">kind of this a bit easier bubble is</span> <span data-start="272.84" data-end="274.79">aware of JavaScript semantics so it can</span> <span data-start="274.79" data-end="280.25">understand what JavaScript means so what</span> <span data-start="280.25" data-end="282.59">does this kind of mean so here's an</span> <span data-start="282.59" data-end="285.38">example here you've got an array</span> <span data-start="285.38" data-end="288.35">destructuring assignment this this</span> <span data-start="288.35" data-end="290.419">should execute calculate coordinates and</span> <span data-start="290.419" data-end="292.79">assign the values of x and y to the 0</span> <span data-start="292.79" data-end="294.8">and 1 index of the result of the</span> <span data-start="294.8" data-end="296.72">function call so this would look</span> <span data-start="296.72" data-end="299.99">something like this so yeah this works</span> <span data-start="299.99" data-end="302.33">it's in a statement position but what if</span> <span data-start="302.33" data-end="305.09">we use the exact same transformer on an</span> <span data-start="305.09" data-end="308.06">expression so this should do the same as</span> <span data-start="308.06" data-end="309.65">before but the resulting value should be</span> <span data-start="309.65" data-end="311.72">the right hand side so it should be the</span> <span data-start="311.72" data-end="314.539">result of calculate coordinates so if</span> <span data-start="314.539" data-end="316.1">you use the exact same transformer on</span> <span data-start="316.1" data-end="319.25">that code it would output this which is</span> <span data-start="319.25" data-end="320.9">obviously invalid you're trying to</span> <span data-start="320.9" data-end="322.37">replace an expression with a list of</span> <span data-start="322.37" data-end="324.71">statements and what does this even mean</span> <span data-start="324.71" data-end="327.44">so JavaScript stems and expressions of</span> <span data-start="327.44" data-end="329.9">different things but in Babel that kind</span> <span data-start="329.9" data-end="333.169">of equivalent so it can tell kind of</span> <span data-start="333.169" data-end="335.78">what you're doing and explode that into</span> <span data-start="335.78" data-end="338">this so that's the exact same</span> <span data-start="338" data-end="341.75">transformer is so it's written only from</span> <span data-start="341.75" data-end="344.84">one context and it's can support many</span> <span data-start="344.84" data-end="347.06">just based on inferring information</span> <span data-start="347.06" data-end="350.27">about it and one of the other things</span> <span data-start="350.27" data-end="352.1">that you made so replacement is one of</span> <span data-start="352.1" data-end="353.69">the things you find yourself doing to</span> <span data-start="353.69" data-end="357.53">the tree and the other is removal so</span> <span data-start="357.53" data-end="359.72">here we have left + right is represented</span> <span data-start="359.72" data-end="360.77">by a binary expression</span> <span data-start="360.77" data-end="363.11">and say you won't remove the rat node so</span> <span data-start="363.11" data-end="365">typically you'd get something like this</span> <span data-start="365" data-end="366.68">scissors have left and missing a right</span> <span data-start="366.68" data-end="371.449">node this is invalid and so so babble</span> <span data-start="371.449" data-end="373.37">can tell or hey you're there's no right</span> <span data-start="373.37" data-end="376.699">hand side so it just places with this so</span> <span data-start="376.699" data-end="380.06">it's kind of powerful so that you just</span> <span data-start="380.06" data-end="382.46">ride it for one context and the</span> <span data-start="382.46" data-end="384.319">internals kind of handle it for you so</span> <span data-start="384.319" data-end="386.96">it reduces a lot of bugs where you know</span> <span data-start="386.96" data-end="389.419">repeating constantly each specific</span> <span data-start="389.419" data-end="391.52">scenario that something can appear in</span> <span data-start="391.52" data-end="395.63">and so there's a lot of applications for</span> <span data-start="395.63" data-end="397.94">this it's extremely wide from browser</span> <span data-start="397.94" data-end="400.159">compatibility to module mocking to</span> <span data-start="400.159" data-end="402.5">profiling so it's more or less the same</span> <span data-start="402.5" data-end="406.06">thing javascript in and javascript out</span> <span data-start="406.06" data-end="408.11">so today i'm going to be focusing on</span> <span data-start="408.11" data-end="410.06">four different areas translation so</span> <span data-start="410.06" data-end="413.259">es2015 to es 5 application optimization</span> <span data-start="413.259" data-end="415.61">browsing availability and a mystery use</span> <span data-start="415.61" data-end="418.24">case which is by and large my favorite</span> <span data-start="418.24" data-end="422.18">so first and foremost is translation so</span> <span data-start="422.18" data-end="423.889">there's this new fancy thing called es</span> <span data-start="423.889" data-end="426.8">2015 it adds a ton of new features from</span> <span data-start="426.8" data-end="429.31">arrow functions as hell calls</span> <span data-start="429.31" data-end="431.96">unfortunately browser support is fairly</span> <span data-start="431.96" data-end="434.09">poor I mean it's entirely new standard</span> <span data-start="434.09" data-end="435.71">these features are incredibly</span> <span data-start="435.71" data-end="437">complicated to implement in modern</span> <span data-start="437" data-end="439.009">engines and even when modern engine</span> <span data-start="439.009" data-end="440.719">modern browsers do support the whole</span> <span data-start="440.719" data-end="442.61">range of features there's always going</span> <span data-start="442.61" data-end="443.93">to be mosaics of the world more</span> <span data-start="443.93" data-end="445.699">importantly mobile browsers that rarely</span> <span data-start="445.699" data-end="449.09">get updated in an accessible and open</span> <span data-start="449.09" data-end="451.069">web it seems ridiculous how to limit</span> <span data-start="451.069" data-end="452.74">yourself to the latest greatest browsers</span> <span data-start="452.74" data-end="455.15">and so one of these new fancy features</span> <span data-start="455.15" data-end="460.25">is es 2015 error functions so these are</span> <span data-start="460.25" data-end="461.75">a different way to write functions</span> </p>
<p><span data-start="461.75" data-end="463.639">I picked this feature specifically</span> <span data-start="463.639" data-end="465.159">because it's seemingly straightforward</span> <span data-start="465.159" data-end="468.199">how to transpile this but there are kind</span> <span data-start="468.199" data-end="470.389">of some hitting gotchas associated with</span> <span data-start="470.389" data-end="473.449">where it's not perfect so these are the</span> <span data-start="473.449" data-end="476.69">four kind of main semantics of error</span> <span data-start="476.69" data-end="479.33">functions it has an implicit return for</span> <span data-start="479.33" data-end="481.789">expression bodies it inherits the</span> <span data-start="481.789" data-end="483.65">arguments and this binding so you cannot</span> <span data-start="483.65" data-end="487.31">new it and it has no prototype so for</span> <span data-start="487.31" data-end="489.979">this example it turns the multiple disk</span> <span data-start="489.979" data-end="492.68">into a return at this stage it's just</span> <span data-start="492.68" data-end="494.58">kind of just syntax handy on</span> <span data-start="494.58" data-end="497.49">around it so yes we can do implicit</span> <span data-start="497.49" data-end="499.409">return for expression bodies but what</span> <span data-start="499.409" data-end="504.12">about arguments in this well so we've</span> <span data-start="504.12" data-end="507.27">got this it's meant to reference Bob but</span> <span data-start="507.27" data-end="509.28">if it was just a normal function it</span> <span data-start="509.28" data-end="511.199">would reference this top friends so in</span> <span data-start="511.199" data-end="514.44">order to retain the same this binding</span> <span data-start="514.44" data-end="517.289">you can just simply add the decorator at</span> <span data-start="517.289" data-end="519.45">a reference of this and then replace the</span> <span data-start="519.45" data-end="521.64">this inner functions to reference that</span> <span data-start="521.64" data-end="525.48">temporary variable so we can inherit the</span> <span data-start="525.48" data-end="528.149">arguments and this bindings but now for</span> <span data-start="528.149" data-end="528.69">the bad news</span> <span data-start="528.69" data-end="532.17">what about not being able to new it so</span> <span data-start="532.17" data-end="535.89">in es2015 this should be illegal arrow</span> <span data-start="535.89" data-end="537.48">functions aren't completely synonymous</span> <span data-start="537.48" data-end="539.73">with normal functions I mean if it was</span> <span data-start="539.73" data-end="541.38">there wouldn't really be much excuse to</span> <span data-start="541.38" data-end="543.36">have it in the language and since we're</span> <span data-start="543.36" data-end="544.8">just telling our functions into normal</span> <span data-start="544.8" data-end="548.1">functions it works so one of the ways we</span> <span data-start="548.1" data-end="550.829">could do this is by adding a name to the</span> <span data-start="550.829" data-end="552.54">function so underscore error and then</span> <span data-start="552.54" data-end="554.19">replacing all new expressions with this</span> <span data-start="554.19" data-end="556.95">help a method that checks to save the</span> <span data-start="556.95" data-end="562.5">name of the function is um spa error but</span> <span data-start="562.5" data-end="564.63">what if you're relying on the name of an</span> <span data-start="564.63" data-end="565.98">error function so if you don't name</span> <span data-start="565.98" data-end="568.199">should be foo not an underscore error so</span> <span data-start="568.199" data-end="571.26">you're trying to implement specific</span> <span data-start="571.26" data-end="573.75">semantics by introducing bad ones as</span> <span data-start="573.75" data-end="577.17">well so it's kind of or you could add a</span> <span data-start="577.17" data-end="581.49">property and just use that and then in</span> <span data-start="581.49" data-end="583.649">the construct helper check to see if it</span> <span data-start="583.649" data-end="587.12">has the underscore our property this is</span> <span data-start="587.12" data-end="589.92">it's kind of crap so in the first</span> <span data-start="589.92" data-end="591.839">example we're adding the wrong name to</span> <span data-start="591.839" data-end="594.12">the function and in the second we added</span> <span data-start="594.12" data-end="596.85">a property even if this was practical it</span> <span data-start="596.85" data-end="598.38">only really affects code that we've</span> <span data-start="598.38" data-end="601.11">compiled so all third-party code that</span> <span data-start="601.11" data-end="603.649">would execute it it would work normally</span> <span data-start="603.649" data-end="607.43">so it's kind of iffy we can't completely</span> <span data-start="607.43" data-end="609.959">replicate at least not practically some</span> <span data-start="609.959" data-end="612.39">of these features and semantics so we</span> <span data-start="612.39" data-end="616.47">can't not allow people to do it at least</span> <span data-start="616.47" data-end="619.699">not practically what about no prototype</span> <span data-start="619.699" data-end="622.44">so as I said before our functions aren't</span> <span data-start="622.44" data-end="626.31">normal functions they so they have no</span> <span data-start="626.31" data-end="628.11">prototype so you can't use them</span> <span data-start="628.11" data-end="630.66">constructors so since we just turn them</span> <span data-start="630.66" data-end="632.399">into normal functions how could we get</span> <span data-start="632.399" data-end="635.279">the same behavior so we need some way to</span> <span data-start="635.279" data-end="637.529">mark it as an arrow function in this</span> <span data-start="637.529" data-end="639.66">case we add a property and then we</span> <span data-start="639.66" data-end="641.73">change all references to just dot</span> <span data-start="641.73" data-end="644.43">prototype to use this helper method that</span> <span data-start="644.43" data-end="646.079">checks see if its function if it is</span> <span data-start="646.079" data-end="648.42">returned  otherwise just return</span> <span data-start="648.42" data-end="652.05">the prototype um this is problematic</span> <span data-start="652.05" data-end="654.089">since Java scripts of dynamic language</span> <span data-start="654.089" data-end="657.39">so it could be like this it's kind of</span> <span data-start="657.39" data-end="660.209">difficult to catch so this means that</span> <span data-start="660.209" data-end="662.22">you have to wrap every single property</span> <span data-start="662.22" data-end="664.5">access computed property access to</span> <span data-start="664.5" data-end="666.45">determine whether or not it's ever going</span> <span data-start="666.45" data-end="669.899">to access prototype so you end up with</span> <span data-start="669.899" data-end="671.43">something like this</span> <span data-start="671.43" data-end="672.779">it's going to add a lot of additional</span> <span data-start="672.779" data-end="675.36">overhead especially in hot code where</span> <span data-start="675.36" data-end="677.85">performance is extremely critical it's</span> <span data-start="677.85" data-end="680.85">not really ideal you're really</span> <span data-start="680.85" data-end="683.31">implementing a lot of native JavaScript</span> <span data-start="683.31" data-end="687">features that are kind of unnecessary so</span> <span data-start="687" data-end="689.88">this is even worse the main wrapping or</span> <span data-start="689.88" data-end="691.29">code that we think is dynamic with</span> <span data-start="691.29" data-end="693.3">helpers so at this point were like a</span> <span data-start="693.3" data-end="695.55">little engine that could you can almost</span> <span data-start="695.55" data-end="697.47">get there you're so close but there are</span> <span data-start="697.47" data-end="698.64">some things that you can't really</span> <span data-start="698.64" data-end="701.31">practically implement using just a s5</span> <span data-start="701.31" data-end="702.839">especially if you want really good</span> <span data-start="702.839" data-end="705.93">performance so what is this mean for the</span> <span data-start="705.93" data-end="707.519">average developer that's currently</span> <span data-start="707.519" data-end="709.709">transpiring what would the migration</span> <span data-start="709.709" data-end="711.93">path be like from transpiled es6 to</span> <span data-start="711.93" data-end="715.459">normal es6 it'll likely be smooth but</span> <span data-start="715.459" data-end="717.87">you know like if you're relying on some</span> <span data-start="717.87" data-end="721.32">of these unspecified semantics split</span> <span data-start="721.32" data-end="722.64">that the transpiler</span> <span data-start="722.64" data-end="725.519">will kind of destroy then you may you're</span> <span data-start="725.519" data-end="727.38">likely to run into issues but it's</span> <span data-start="727.38" data-end="728.519">better than nothing</span> <span data-start="728.519" data-end="732.39">and so following this kind of want to</span> <span data-start="732.39" data-end="734.85">emphasize this point where you shouldn't</span> <span data-start="734.85" data-end="736.17">be using transpilers to learn new</span> <span data-start="736.17" data-end="739.41">language features you can definitely</span> <span data-start="739.41" data-end="741.209">like compare the output but if you're</span> <span data-start="741.209" data-end="744.72">just basing all of your knowledge on new</span> <span data-start="744.72" data-end="746.07">language features on hey this is</span> <span data-start="746.07" data-end="747.839">equivalent in es5 so it's exactly the</span> <span data-start="747.839" data-end="749.339">same then you're likely going to be</span> <span data-start="749.339" data-end="750.66">misinformed since there's a lot of</span> <span data-start="750.66" data-end="752.67">hidden semantics that can't properly be</span> <span data-start="752.67" data-end="756.81">replicated and even like stuff like</span> <span data-start="756.81" data-end="758.19">referencing a variable can drastically</span> <span data-start="758.19" data-end="760.44">change the way that the</span> <span data-start="760.44" data-end="764.07">it is generated and so yeah it's it's</span> <span data-start="764.07" data-end="766.77">really contextual so you shouldn't</span> <span data-start="766.77" data-end="770.28">really be relying on transpilers to</span> <span data-start="770.28" data-end="771.69">learn your language features so what</span> <span data-start="771.69" data-end="774.89">about something a little more practical</span> <span data-start="774.89" data-end="777.69">application optimization at face value</span> <span data-start="777.69" data-end="780.63">this may seem like an eclaim but allow</span> <span data-start="780.63" data-end="781.44">me to elaborate</span> <span data-start="781.44" data-end="783.36">so the preface is so I have to talk</span> <span data-start="783.36" data-end="786.75">about compile time versus run time so</span> <span data-start="786.75" data-end="789.27">when you're compiling your code it so at</span> <span data-start="789.27" data-end="791.28">compile time it's only compiling your</span> <span data-start="791.28" data-end="792.93">code that hasn't even been executed yet</span> <span data-start="792.93" data-end="795.54">and run time is when your code is</span> <span data-start="795.54" data-end="796.95">actually running so when it's executing</span> <span data-start="796.95" data-end="798.66">and you simply know different things at</span> <span data-start="798.66" data-end="800.49">different times so when you're compiling</span> <span data-start="800.49" data-end="802.59">the code you can determine that Square</span> <span data-start="802.59" data-end="804.78">is called with a two literal and then</span> <span data-start="804.78" data-end="806.61">and then Square is called the M with</span> <span data-start="806.61" data-end="809.97">just a variable at runtime you can't</span> <span data-start="809.97" data-end="812.07">determine the square function can't</span> <span data-start="812.07" data-end="813.51">determine what it's being called with</span> <span data-start="813.51" data-end="814.74">since it only cares about the actual</span> <span data-start="814.74" data-end="816.63">value not kind of where it came from or</span> <span data-start="816.63" data-end="819.33">how it was represented so this is</span> <span data-start="819.33" data-end="820.83">extremely useful so we can determine</span> <span data-start="820.83" data-end="824.51">what the exact intent of the code was</span> <span data-start="824.51" data-end="827.61">this is so what are some examples of</span> <span data-start="827.61" data-end="830.79">this so a big one is reiax</span> <span data-start="830.79" data-end="833.01">you may have heard of it it has a neat</span> <span data-start="833.01" data-end="838.41">feature or well feature JSX which is xml</span> <span data-start="838.41" data-end="840.27">like syntax you either love it or hate</span> <span data-start="840.27" data-end="840.54">it</span> <span data-start="840.54" data-end="842.91">it is however good for one thing which</span> <span data-start="842.91" data-end="845.16">is writing additional language semantics</span> <span data-start="845.16" data-end="846.72">now traditionally it's really just being</span> <span data-start="846.72" data-end="848.28">syntax handy so it's been like a</span> <span data-start="848.28" data-end="850.35">one-to-one mapping to your function</span> <span data-start="850.35" data-end="854.07">calls but in Reax 0.14 JSX elements are</span> <span data-start="854.07" data-end="856.56">treated as constant value types so if it</span> <span data-start="856.56" data-end="858.03">looks the same then we'll always return</span> <span data-start="858.03" data-end="859.56">the same value so whenever you call</span> <span data-start="859.56" data-end="861.86">render it will return the exact same</span> <span data-start="861.86" data-end="865.32">instance so this is extremely important</span> <span data-start="865.32" data-end="867.27">for performance since why you're</span> <span data-start="867.27" data-end="868.86">constantly doing more work than you have</span> <span data-start="868.86" data-end="871.77">to so this would be turn in something</span> <span data-start="871.77" data-end="873.21">like this so it'd be hosted to the</span> <span data-start="873.21" data-end="875.58">highest paper that could and then just</span> <span data-start="875.58" data-end="877.65">return free would be done in the render</span> <span data-start="877.65" data-end="880.2">method so each time you called through a</span> <span data-start="880.2" data-end="883.04">render story it would return the same</span> <span data-start="883.04" data-end="886.53">element so this works for immutable</span> <span data-start="886.53" data-end="888.78">elements but this enough to be applied</span> <span data-start="888.78" data-end="891.33">to readable ones as well so here the</span> <span data-start="891.33" data-end="893.889">react the JSX element you</span> <span data-start="893.889" data-end="895.48">as references the fruit and text</span> <span data-start="895.48" data-end="898.239">variables and so that can be wasted to</span> <span data-start="898.239" data-end="902.549">the create component function like so um</span> <span data-start="902.549" data-end="905.04">and so the core concept is just</span> <span data-start="905.04" data-end="907.72">pre-processing and making the JavaScript</span> <span data-start="907.72" data-end="910.269">engine do less since doing less is</span> <span data-start="910.269" data-end="912.669">generally faster and JavaScript engines</span> <span data-start="912.669" data-end="914.949">have no way to infer this kind of</span> <span data-start="914.949" data-end="918.009">behavior you have to tell it basically</span> <span data-start="918.009" data-end="921.059">using this kind of techniques</span> <span data-start="921.059" data-end="925.359">another example is M Bo so amber uses</span> </p>
<p><span data-start="925.359" data-end="927.309">HTML bars now you may want to use these</span> <span data-start="927.309" data-end="929.23">embedded in files in like stuff like</span> <span data-start="929.23" data-end="931.569">tests it seems silly to have to</span> <span data-start="931.569" data-end="933.79">constantly compile this every single</span> <span data-start="933.79" data-end="935.379">time the credits run since this is</span> <span data-start="935.379" data-end="939.639">static and like it's constant so there's</span> <span data-start="939.639" data-end="942.309">no reason to really be making the client</span> <span data-start="942.309" data-end="944.049">to it each and every time so you should</span> <span data-start="944.049" data-end="946.089">be doing it when the when you're</span> <span data-start="946.089" data-end="947.319">processing when you're building your</span> <span data-start="947.319" data-end="950.429">JavaScript and so you can determine that</span> <span data-start="950.429" data-end="953.619">tagged the the template and then compile</span> <span data-start="953.619" data-end="955.749">it when you're pre processing it into</span> <span data-start="955.749" data-end="957.16">something like that where the comment</span> <span data-start="957.16" data-end="962.429">represents the actual template contents</span> <span data-start="962.429" data-end="964.899">so the main points that I want to take</span> <span data-start="964.899" data-end="967.66">away from this you shouldn't be relying</span> <span data-start="967.66" data-end="969.669">on pre-processing for functionality so</span> <span data-start="969.669" data-end="972.449">like this type of stuff should purely be</span> <span data-start="972.449" data-end="974.889">supplementary instead of additive so it</span> <span data-start="974.889" data-end="977.079">shouldn't be it should it shouldn't</span> <span data-start="977.079" data-end="979.029">really be changing the way that the code</span> <span data-start="979.029" data-end="981.629">works it should just making it faster or</span> <span data-start="981.629" data-end="983.889">removing things that kind of don't</span> <span data-start="983.889" data-end="985.36">matter since your code may not care</span> <span data-start="985.36" data-end="987.85">about it and you're the only one who can</span> <span data-start="987.85" data-end="989.769">make assumptions about your code the</span> </p>
<p><span data-start="989.769" data-end="991.449">JavaScript engine copy more lenient it</span> <span data-start="991.449" data-end="993.97">can't not do things if you tell it to do</span> <span data-start="993.97" data-end="995.259">something it has to do it so you have to</span> <span data-start="995.259" data-end="999.009">tell it to do less so the next item is</span> <span data-start="999.009" data-end="1003.989">browsing a pad ability it's a basically</span> <span data-start="1003.989" data-end="1005.61">it's just trying to patch broken browser</span> <span data-start="1005.61" data-end="1008.009">implementations of certain pages so this</span> <span data-start="1008.009" data-end="1009.929">isn't relevant really in newer browsers</span> <span data-start="1009.929" data-end="1012.629">but there's some things that in older</span> <span data-start="1012.629" data-end="1014.809">browsers that are just completely broken</span> <span data-start="1014.809" data-end="1018.269">sir Internet Explorer 8 who would have</span> <span data-start="1018.269" data-end="1019.139">thought this would've been one of the</span> <span data-start="1019.139" data-end="1023.519">browsers that was broken so there's an</span> <span data-start="1023.519" data-end="1024.809">issue with named function expressions</span> <span data-start="1024.809" data-end="1026.61">here we declare a variable with the</span> <span data-start="1026.61" data-end="1027.1">function</span> </p>
<p><span data-start="1027.1" data-end="1030.73">Russian note that it is named and then</span> <span data-start="1030.73" data-end="1033.039">online to that it's leaking out so it's</span> <span data-start="1033.039" data-end="1034.36">kinda been treated as a function</span> <span data-start="1034.36" data-end="1036.87">declaration and then on line three it's</span> <span data-start="1036.87" data-end="1039.069">trading two different bindings with two</span> <span data-start="1039.069" data-end="1046.209">different objects what so it HAP what's</span> <span data-start="1046.209" data-end="1049.84">the solution you automate it you fix it</span> <span data-start="1049.84" data-end="1051.64">so this is a babel plugin that will</span> <span data-start="1051.64" data-end="1053.71">change or name function expressions into</span> <span data-start="1053.71" data-end="1055.75">an immediately invoked function that</span> <span data-start="1055.75" data-end="1057.85">turns the function into a declaration</span> <span data-start="1057.85" data-end="1060.85">then returns that declaration so this</span> <span data-start="1060.85" data-end="1062.169">may is somewhat comprehend it actually</span> <span data-start="1062.169" data-end="1064.75">is but this is basically what it does it</span> <span data-start="1064.75" data-end="1068.44">turns the the function the name function</span> <span data-start="1068.44" data-end="1070.09">expression into this emailing invoked</span> <span data-start="1070.09" data-end="1071.98">function a return turns into a function</span> <span data-start="1071.98" data-end="1073.15">declaration than then returns our</span> <span data-start="1073.15" data-end="1075.789">function declaration so that basically</span> <span data-start="1075.789" data-end="1079.57">fixes the buggy behavior of insects per</span> <span data-start="1079.57" data-end="1083.77">eight so the last mystery application of</span> <span data-start="1083.77" data-end="1086.65">javascript transformation is a mirja</span> <span data-start="1086.65" data-end="1089.559">fication I have no idea if that's an</span> <span data-start="1089.559" data-end="1092.35">actual word but I think it is now</span> <span data-start="1092.35" data-end="1096.84">so is 2015 it has Unicode point escapes</span> <span data-start="1096.84" data-end="1099.669">so you can do stuff like this where the</span> <span data-start="1099.669" data-end="1102.45">variable declared our ID is a Unicode</span> <span data-start="1102.45" data-end="1105.63">character so what does this really mean</span> <span data-start="1105.63" data-end="1110.799">emojis so about this foreign code I took</span> <span data-start="1110.799" data-end="1114.13">this from the jQuery sauce trimming</span> <span data-start="1114.13" data-end="1116.53">letters and what can we do with this so</span> <span data-start="1116.53" data-end="1120.22">we can convert this to this now here all</span> <span data-start="1120.22" data-end="1122.71">the identifiers are escapes but have no</span> <span data-start="1122.71" data-end="1125.74">fear they do represent emoji so unescape</span> <span data-start="1125.74" data-end="1136.94">s —  it looks like this</span> <span data-start="1136.95" data-end="1140.74">beautiful so don't even need comments at</span> <span data-start="1140.74" data-end="1142.09">this stage you can just represent the</span> <span data-start="1142.09" data-end="1144.12">intent of your variable is using emoji</span> <span data-start="1144.12" data-end="1149.47">like so how can you do this well I made</span> <span data-start="1149.47" data-end="1153.06">an NPM package you can install it and</span> <span data-start="1153.06" data-end="1157.99">use it probably won't run in browsers</span> <span data-start="1157.99" data-end="1159.97">since not many support or I'm not sure</span> <span data-start="1159.97" data-end="1161.26">if there are any that's what Unicode</span> <span data-start="1161.26" data-end="1164.14">point escapes for identifiers yet but</span> <span data-start="1164.14" data-end="1171.72">the future so Java Script transformation</span> </p>
<p><span data-start="1171.72" data-end="1176.08">JavaScript in JavaScript out hopefully</span> <span data-start="1176.08" data-end="1178.27">by now kind of there's a lot of</span> <span data-start="1178.27" data-end="1180.01">potential for extremely high quality</span> <span data-start="1180.01" data-end="1182.65">tooling that not only evolves quickly</span> <span data-start="1182.65" data-end="1185.14">but it's very stable that keeps up with</span> <span data-start="1185.14" data-end="1187.21">the rapid pace of the web and as new</span> <span data-start="1187.21" data-end="1193.03">features implemented yes sir that's it</span> </p>
</section>

<!-- div#container ends -->
</div>

<img alt="The End" id="fin" src="../images/fin.jpg">

<script>
/*eslint-disable */
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google-translate');
}
/* eslint-enable */
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="../js/main.js"></script>

</body>

</html>
