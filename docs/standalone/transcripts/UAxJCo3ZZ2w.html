<!DOCTYPE html>

<!--
Copyright 2019 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="//google.com">
  <meta name="description" content="JSConf transcript">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>UAxJCo3ZZ2w</title>
  <link rel="stylesheet" href="../css/main.css">
</head>

<body>

<iframe id="youtube" src="https://www.youtube.com/embed/UAxJCo3ZZ2w?enablejsapi=1"></iframe>

<div id="container">

<div id="options">
  <div id="google-translate"></div>
  <div>
    <input type="checkbox" id="videoSticky" checked>
    <label for="videoSticky">Video position sticky</label>
  </div>
  <div>
    <input type="checkbox" id="captionScroll" checked>
    <label for="captionScroll">Keep current caption visible</label>
  </div>
</div>

<section>
<p><span data-start="2.33" data-end="8.32">[Music]</span> <span data-start="8.33" data-end="13.2">I'm gonna do a quick intro we are using</span> <span data-start="13.2" data-end="15.75">create react app but then there was the</span> <span data-start="15.75" data-end="18.359">react license thing going on and then we</span> <span data-start="18.359" data-end="20.97">saw that for react 16 as you can see</span> <span data-start="20.97" data-end="24.39">here it's not gonna be very good for web</span> <span data-start="24.39" data-end="27.15">components and any external libraries</span> <span data-start="27.15" data-end="30.119">used so we were like hey what else can</span> <span data-start="30.119" data-end="35.55">we do so we stopped react and we try to</span> <span data-start="35.55" data-end="39.12">find a way to switch over to pre-act</span> <span data-start="39.12" data-end="41.76">which what priya compact can use the</span> <span data-start="41.76" data-end="44.52">same API as react but we might smaller</span> <span data-start="44.52" data-end="47.46">have nice support for external libraries</span> <span data-start="47.46" data-end="51.09">and web components and all this stuff so</span> </p>
<p><span data-start="51.09" data-end="54.59">I'm gonna show this to you and like five</span> <span data-start="54.59" data-end="60.48">steps start the step zero so first you</span> <span data-start="60.48" data-end="63.48">set up a project with create react app</span> <span data-start="63.48" data-end="66">and what you get is a hundred and twenty</span> <span data-start="66" data-end="68.64">three kilobyte javascript file which</span> <span data-start="68.64" data-end="71.939">does nothing it's a 38 after gzipping</span> <span data-start="71.939" data-end="73.53">but of course all of this has to be</span> <span data-start="73.53" data-end="77.939">parsed and it's quite big this is how it</span> <span data-start="77.939" data-end="78.299">looks</span> <span data-start="78.299" data-end="81.93">react just react Dom takes up 80% of the</span> <span data-start="81.93" data-end="88.02">whole thing so then I was looking at how</span> <span data-start="88.02" data-end="90.509">this whole thing is built up and and</span> <span data-start="90.509" data-end="96">well what I found you can do is you take</span> <span data-start="96" data-end="99.84">the scripts that react is using which is</span> <span data-start="99.84" data-end="102.299">this in react scripts build and real</span> <span data-start="102.299" data-end="107.67">scripts start and then you just hack web</span> <span data-start="107.67" data-end="110.159">pack to replace anything that's react</span> <span data-start="110.159" data-end="111.99">with pre-act compare and react down</span> <span data-start="111.99" data-end="114.78">would also create combat so this way</span> <span data-start="114.78" data-end="118.229">when you run build or run start then you</span> <span data-start="118.229" data-end="120.5">will actually get pre act in your code</span> <span data-start="120.5" data-end="123.719">for testing it's a bit trickier what</span> <span data-start="123.719" data-end="125.61">what you need to do is replace a bunch</span> <span data-start="125.61" data-end="127.77">of stuff in just you can check this repo</span> <span data-start="127.77" data-end="130.73">the URLs up there if you can read it and</span> </p>
<p><span data-start="130.73" data-end="133.47">I did need to hack it a bit</span> <span data-start="133.47" data-end="136.62">I take the module constructor of note to</span> <span data-start="136.62" data-end="139.8">resolve the just config to this replace</span> <span data-start="139.8" data-end="144.09">just config and you write test a little</span> <span data-start="144.09" data-end="145.53">bit differently but you have render and</span> <span data-start="145.53" data-end="148.2">shallow render and you can have snapshot</span> <span data-start="148.2" data-end="151.05">testing and run stuff there's also this</span> <span data-start="151.05" data-end="154.32">hack which is because of Babel pre-sale</span> <span data-start="154.32" data-end="157.98">react that itself and source but</span> <span data-start="157.98" data-end="162.21">basically you're still writing the same</span> <span data-start="162.21" data-end="165.93">code and it becomes 38 kilobytes before</span> <span data-start="165.93" data-end="170.01">gzipping and 13 afterwards so after this</span> </p>
<p><span data-start="170.01" data-end="172.83">I was looking at what else can I do so I</span> <span data-start="172.83" data-end="176.58">I was like okay we don't need ie 9 and</span> <span data-start="176.58" data-end="180.63">10 so you can patch be able to use ie 11</span> <span data-start="180.63" data-end="184.95">as a target I also made a really really</span> <span data-start="184.95" data-end="188.9">shitty less compiler with watch which</span> <span data-start="188.9" data-end="192.18">you just changed some stuff where is</span> <span data-start="192.18" data-end="197.79">thank you Jason it's gone here that you</span> <span data-start="197.79" data-end="200.07">build the CSS and wash the CSS when you</span> <span data-start="200.07" data-end="204.47">start or build or test or whatever then</span> <span data-start="204.47" data-end="207.209">our security guys were like hey we need</span> <span data-start="207.209" data-end="209.58">some resource integrity right now and I</span> <span data-start="209.58" data-end="211.739">still didn't want AJ because I just</span> <span data-start="211.739" data-end="213.57">don't want to maintain wet pad coffee</span> <span data-start="213.57" data-end="216.15">because it's all the same everywhere why</span> <span data-start="216.15" data-end="220.05">should you so you go in and you push to</span> <span data-start="220.05" data-end="222.39">the plugins to add the ESRI plug-in to</span> <span data-start="222.39" data-end="224.64">web pack and it just works out of the</span> <span data-start="224.64" data-end="229.41">box so yeah you can check the repo here</span> <span data-start="229.41" data-end="235.11">and still have one minute so here's a</span> <span data-start="235.11" data-end="237.3">picture of my cat</span> <span data-start="237.3" data-end="241.21">[Applause]</span> </p>
</section>

<!-- div#container ends -->
</div>

<img alt="The End" id="fin" src="../images/fin.jpg">

<script>
/*eslint-disable */
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google-translate');
}
/* eslint-enable */
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="../js/main.js"></script>

</body>

</html>
