<!DOCTYPE html>

<!--
Copyright 2019 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="//google.com">
  <meta name="description" content="JSConf transcript">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>IE9_sUgeTkU</title>
  <link rel="stylesheet" href="../css/main.css">
</head>

<body>

<iframe id="youtube" src="https://www.youtube.com/embed/IE9_sUgeTkU?enablejsapi=1"></iframe>

<div id="container">

<div id="options">
  <div id="google-translate"></div>
  <div>
    <input type="checkbox" id="videoSticky" checked>
    <label for="videoSticky">Video position sticky</label>
  </div>
  <div>
    <input type="checkbox" id="captionScroll" checked>
    <label for="captionScroll">Keep current caption visible</label>
  </div>
</div>

<section>
<p><span data-start="0.51" data-end="4.65">[Applause]</span> <span data-start="4.65" data-end="6.87">yeah hello everyone my name is Kasper I</span> <span data-start="6.87" data-end="9.12">come from Poland so not that far away</span> <span data-start="9.12" data-end="11.55">I've been loved in this city for it for</span> <span data-start="11.55" data-end="13.29">a quite long time and it's always a</span> <span data-start="13.29" data-end="15.089">pleasure to come back to Budapest I love</span> <span data-start="15.089" data-end="17.22">the city really and I'm here today to</span> <span data-start="17.22" data-end="19.05">talk about a little bit about security</span> <span data-start="19.05" data-end="21.09">and to talk about security in the</span> <span data-start="21.09" data-end="24.41">context of JavaScript applications so</span> <span data-start="24.41" data-end="27.81">every once in a while the big news break</span> <span data-start="27.81" data-end="29.91">out that some of the some of the leading</span> <span data-start="29.91" data-end="32.059">companies got hacked right millions of</span> <span data-start="32.059" data-end="34.86">credit card details personal data got</span> <span data-start="34.86" data-end="36.93">leaked people get anxious before being</span> <span data-start="36.93" data-end="39.18">angry the the reputation of the</span> <span data-start="39.18" data-end="42.09">company's got undermined and if you look</span> <span data-start="42.09" data-end="44.94">closely it it seems that there are some</span> <span data-start="44.94" data-end="47.7">technology giants that get those kind of</span> <span data-start="47.7" data-end="50.37">problems and for me it can only mean one</span> <span data-start="50.37" data-end="50.85">thing</span> <span data-start="50.85" data-end="54.5">that security is really really hard and</span> </p>
<p><span data-start="54.5" data-end="57.329">I don't know if you've heard about this</span> <span data-start="57.329" data-end="58.28">product</span> <span data-start="58.28" data-end="64.379">they got hacked like in 2011 and they</span> <span data-start="64.379" data-end="66.78">probably they lost some credit card</span> <span data-start="66.78" data-end="68.93">details so the hackers could use them to</span> <span data-start="68.93" data-end="71.189">you know to use your credit card to buy</span> <span data-start="71.189" data-end="73.92">different different things and it's</span> <span data-start="73.92" data-end="77.759">estimated that Sony lost 171 million</span> <span data-start="77.759" data-end="80.7">dollars in as a consequence right</span> <span data-start="80.7" data-end="82.32">because they had to they had to first</span> <span data-start="82.32" data-end="84.24">fix the issue the PlayStation Network</span> <span data-start="84.24" data-end="86.43">was down for some time and then they</span> <span data-start="86.43" data-end="88.909">have to you know pay the insurances like</span> <span data-start="88.909" data-end="93.36">make refunds and stuff like that so it's</span> <span data-start="93.36" data-end="96.9">really really important to know that you</span> <span data-start="96.9" data-end="98.909">can load your company can lose a lot of</span> <span data-start="98.909" data-end="101.61">money not to mention reputation right</span> <span data-start="101.61" data-end="105.27">but but but you can lose a lot of money</span> <span data-start="105.27" data-end="108.42">if you get security wrong but the the</span> <span data-start="108.42" data-end="110.549">things I'm talking about are mostly</span> <span data-start="110.549" data-end="114.03">related we probably most of us</span> <span data-start="114.03" data-end="116.219">related we probably most of us here are front-end developers there are</span> <span data-start="116.219" data-end="117.719">probably some back-end developers but</span> </p>
<p><span data-start="117.719" data-end="120.24">I'm gonna focus on front right now and</span> <span data-start="120.24" data-end="123.54">we usually don't deal with with</span> <span data-start="123.54" data-end="126.899">databases with with user data because we</span> <span data-start="126.899" data-end="129.679">do front ends right and we are safe so</span> <span data-start="129.679" data-end="132.03">we shouldn't be talking about security</span> <span data-start="132.03" data-end="132.78">and</span> <span data-start="132.78" data-end="136.08">it turns out that nope we are in safe we</span> <span data-start="136.08" data-end="138.39">are insecure and does anyone of you know</span> <span data-start="138.39" data-end="142.44">this guy no so so cool because it's a</span> <span data-start="142.44" data-end="145.26">very very cool story his name is Sammy</span> <span data-start="145.26" data-end="147.959">come car and he wrote a fastest</span> <span data-start="147.959" data-end="150.17">spreading virus ever using javascript</span> <span data-start="150.17" data-end="152.3">yeah really</span> <span data-start="152.3" data-end="155.85">that's the VPD uh page of this and he a</span> <span data-start="155.85" data-end="160.14">huge huge javascript to write a virus</span> <span data-start="160.14" data-end="162.03">that spread on myspace myspace was a</span> <span data-start="162.03" data-end="164.88">like Facebook back then sorry for the</span> <span data-start="164.88" data-end="166.769">images I couldn't find any better but</span> <span data-start="166.769" data-end="169.14">the virus wasn't really that harmful it</span> <span data-start="169.14" data-end="172.32">just sent the friend invitation to many</span> <span data-start="172.32" data-end="176.1">different people so it just sent coming</span> <span data-start="176.1" data-end="177.66">a semi invitation from many different</span> <span data-start="177.66" data-end="179.97">people and just posted some random posts</span> <span data-start="179.97" data-end="181.319">like Sammy's or some person like this</span> <span data-start="181.319" data-end="184.38">and he ended up having this many pages</span> <span data-start="184.38" data-end="188.55">of friend requests so so that was that</span> <span data-start="188.55" data-end="192.18">was pretty you know that the virus went</span> <span data-start="192.18" data-end="195.75">went crazy went really viral and as a</span> <span data-start="195.75" data-end="200.519">consequence he went to jail he they they</span> <span data-start="200.519" data-end="203.61">made him they made him pay some some</span> <span data-start="203.61" data-end="208.62">money as a compensation and they also he</span> <span data-start="208.62" data-end="211.17">also had some had to do some public</span> <span data-start="211.17" data-end="214.65">service so yeah that was really that was</span> <span data-start="214.65" data-end="217.44">really that was treated really seriously</span> <span data-start="217.44" data-end="220.89">and by the way if you don't know Sammy</span> <span data-start="220.89" data-end="222.57">you should definitely check out his</span> <span data-start="222.57" data-end="225.63">github page because he's done security</span> <span data-start="225.63" data-end="227.19">research I don't approve the thing he</span> <span data-start="227.19" data-end="229.14">done with he has done with with MySpace</span> <span data-start="229.14" data-end="230.519">but still he is now a security</span> <span data-start="230.519" data-end="233.459">researcher and he does a really cool</span> <span data-start="233.459" data-end="237.18">stuff and one might ask how how was</span> </p>
<p><span data-start="237.18" data-end="240.12">Sammy able to to get this virus running</span> <span data-start="240.12" data-end="241.62">and he used a technique called</span> <span data-start="241.62" data-end="243.66">cross-site scripting and probably most</span> <span data-start="243.66" data-end="244.95">of you are familiar with cross-site</span> <span data-start="244.95" data-end="248.04">scripting but I will quickly recap so</span> <span data-start="248.04" data-end="251.25">cross-site scripting is a vulnerability</span> <span data-start="251.25" data-end="254.609">that lets the attacker execute any kind</span> <span data-start="254.609" data-end="257.82">of code any kind of any kind of code in</span> <span data-start="257.82" data-end="260.94">the context of our our webpage right and</span> <span data-start="260.94" data-end="263.46">what does it really mean it does mean</span> <span data-start="263.46" data-end="266.43">that attacker is able to still cook</span> <span data-start="266.43" data-end="269.25">still local storage data basically the</span> <span data-start="269.25" data-end="271.53">attackers are able to do anything we</span> <span data-start="271.53" data-end="273.69">would do as a programmers in a context</span> <span data-start="273.69" data-end="275.91">of our webpage and if you want to learn</span> <span data-start="275.91" data-end="277.56">more about cross-site scripting there is</span> <span data-start="277.56" data-end="279.9">this great resource called Ava's because</span> <span data-start="279.9" data-end="281.19">there are some kind of there are many</span> <span data-start="281.19" data-end="282.72">kinds of cross-site scripting attacks</span> <span data-start="282.72" data-end="285.75">there are many techniques to to defend</span> <span data-start="285.75" data-end="287.61">ourselves against the cross description</span> <span data-start="287.61" data-end="289.289">attacks so we should go to or spend and</span> <span data-start="289.289" data-end="291.6">learn about them and I've prepared a</span> <span data-start="291.6" data-end="296.13">demo so I will show you how to how to do</span> <span data-start="296.13" data-end="306.989">a cross-site scripting attack</span> <span data-start="306.999" data-end="313.23">all right so</span> <span data-start="313.24" data-end="316.76">so imagine we are an attacker we are a</span> <span data-start="316.76" data-end="318.05">hacker and you want to hack into this</span> <span data-start="318.05" data-end="320.5">blog right this is a blog like you know</span> <span data-start="320.5" data-end="323.78">we have a blog post here you can go and</span> <span data-start="323.78" data-end="327.02">read it and what would I do as a hacker</span> <span data-start="327.02" data-end="331.09">to try to hack this i crack this blog I</span> <span data-start="331.09" data-end="337.49">would probably go and see like this in</span> </p>
<p><span data-start="337.49" data-end="340.82">WordPress right try to hack it as it was</span> <span data-start="340.82" data-end="342.2">WordPress it turns out it's not in</span> <span data-start="342.2" data-end="345.92">WordPress and then I would look for more</span> <span data-start="345.92" data-end="348.89">interesting parts and I would go to some</span> <span data-start="348.89" data-end="352.22">like this admin oh well there's an admin</span> <span data-start="352.22" data-end="354.83">login for example and probably admin has</span> <span data-start="354.83" data-end="358.67">some yes there is probably an admin</span> <span data-start="358.67" data-end="360.83">panel that would be interesting from an</span> <span data-start="360.83" data-end="363.71">attacker standpoint and our goal right</span> <span data-start="363.71" data-end="365.45">now is to hack into this panel it</span> <span data-start="365.45" data-end="369.98">happens that I know the login password I</span> <span data-start="369.98" data-end="376.13">will just show you what's in panel yeah</span> <span data-start="376.13" data-end="378.89">sound like this and our intention would</span> <span data-start="378.89" data-end="381.11">be to hack into this panel without</span> <span data-start="381.11" data-end="384.56">knowing any kind of password or login</span> <span data-start="384.56" data-end="387.71">any kind of credentials so what could I</span> <span data-start="387.71" data-end="395.85">do</span> <span data-start="395.86" data-end="397.87">it's not occur I would go to the to my</span> <span data-start="397.87" data-end="399.85">to the to the website I would like to</span> <span data-start="399.85" data-end="402.76">hack and I would look for possible input</span> <span data-start="402.76" data-end="404.62">points like for example let's go to the</span> <span data-start="404.62" data-end="406.54">post because posts usually have a</span> <span data-start="406.54" data-end="409.75">comment section and it turns out that</span> <span data-start="409.75" data-end="411.73">there is this comment section and you</span> <span data-start="411.73" data-end="415.12">can what we can do is we can try to put</span> <span data-start="415.12" data-end="425.13">some HTML here</span> <span data-start="425.14" data-end="434.33">whoa something broke sorry on handle</span> <span data-start="434.33" data-end="438.41">there yeah yeah demo that's right</span> <span data-start="438.41" data-end="454.16">yeah let's just start it again sorry we</span> <span data-start="454.16" data-end="467.86">would just have to</span> <span data-start="467.87" data-end="470.06">it just worked it worked like five</span> <span data-start="470.06" data-end="474.77">minutes ago so demo gods right yeah</span> <span data-start="474.77" data-end="476.29">let's do this one more time</span> <span data-start="476.29" data-end="485.78">first yeah yeah the restart is always a</span> <span data-start="485.78" data-end="486.2">good thing</span> <span data-start="486.2" data-end="488.69">yeah and it works and as you can see</span> </p>
<p><span data-start="488.69" data-end="492.2">I've typed it Iife there a bold tag</span> <span data-start="492.2" data-end="494.6">right and as you can see the browser</span> <span data-start="494.6" data-end="498.02">read it as HTML and executed so what I</span> <span data-start="498.02" data-end="502.55">can do is I can try to put a script</span> <span data-start="502.55" data-end="516.73">doctor and see what happens right</span> <span data-start="516.74" data-end="521.18">and as you can see the script got</span> <span data-start="521.18" data-end="524.09">executed that's right so that's my</span> <span data-start="524.09" data-end="525.43">that's my that's my security</span> <span data-start="525.43" data-end="528.92">vulnerability like I can abuse and right</span> <span data-start="528.92" data-end="531.86">now I would assume that the session is</span> <span data-start="531.86" data-end="534.47">stored in cookies I would use this hall</span> <span data-start="534.47" data-end="536.6">to steal the cookies and my code for</span> <span data-start="536.6" data-end="537.59">stealing cookies would look something</span> <span data-start="537.59" data-end="539.9">like this here's my code</span> <span data-start="539.9" data-end="543.44">it's called hack yeah yeah is it</span> <span data-start="543.44" data-end="549.05">readable from from the back yeah so</span> <span data-start="549.05" data-end="552.17">basically what I'm what I want to do is</span> </p>
<p><span data-start="552.17" data-end="555.89">I want to get my cookies and send them</span> <span data-start="555.89" data-end="557.93">to my server so then I can you know</span> <span data-start="557.93" data-end="561.56">somehow get them and login into the into</span> <span data-start="561.56" data-end="565.07">the admin panel assuring that the admin</span> <span data-start="565.07" data-end="566.45">of the webpage would eventually go to</span> <span data-start="566.45" data-end="568.7">the poll go to the post and try to read</span> <span data-start="568.7" data-end="571.52">it right so that's my script and I'm I</span> <span data-start="571.52" data-end="574.31">would just add an image tag to my web</span> <span data-start="574.31" data-end="579.05">page and add like special guide</span> <span data-start="579.05" data-end="582.05">parameters the image wouldn't load but I</span> <span data-start="582.05" data-end="585.08">still get a request in the and in this</span> <span data-start="585.08" data-end="586.58">cookie parameter I would get encoded</span> <span data-start="586.58" data-end="591.11">cookies right and that's great so if we</span> <span data-start="591.11" data-end="601.07">post it</span> <span data-start="601.08" data-end="615.19">my server is down but no worries</span> </p>
<p><span data-start="615.2" data-end="617.81">Yeah right so right now as you can see</span> <span data-start="617.81" data-end="620.72">it says only great article thanks but it</span> <span data-start="620.72" data-end="622.67">tries to send some cookie to my server</span> <span data-start="622.67" data-end="624.32">which it didn't because the server</span> <span data-start="624.32" data-end="625.76">wasn't running but when i refresh it</span> <span data-start="625.76" data-end="629.36">probably will yeah and it did because</span> <span data-start="629.36" data-end="633.17">I'm already logged in as an admin you</span> <span data-start="633.17" data-end="635.78">see I got the request here and this</span> <span data-start="635.78" data-end="642.08">encoded thing is my cookie so now when I</span> <span data-start="642.08" data-end="653.99">copy this an open new separate window as</span> <span data-start="653.99" data-end="656.09">you can see I'm not logged in but when I</span> <span data-start="656.09" data-end="661.7">try to set my cookie here I prepare a</span> <span data-start="661.7" data-end="673.52">little snippet here and if I add my</span> <span data-start="673.52" data-end="682.43">cookies yeah it just set the cookies in</span> <span data-start="682.43" data-end="684.44">my in my current current browser window</span> <span data-start="684.44" data-end="689.18">and if I go to admin panel I've logged</span> <span data-start="689.18" data-end="691.25">in right and I didn't know any passwords</span> <span data-start="691.25" data-end="692.6">because it's like completely separate</span> <span data-start="692.6" data-end="695.32">page so the attack went like this I just</span> <span data-start="695.32" data-end="697.85">found the security cross-site scripting</span> <span data-start="697.85" data-end="699.65">hole then I planted the script that</span> <span data-start="699.65" data-end="701.6">stole every cookie from the website and</span> <span data-start="701.6" data-end="703.67">then I used those cookies to get into</span> <span data-start="703.67" data-end="705.98">the admin panel so that's pretty scary</span> <span data-start="705.98" data-end="720.79">and let's go back to the slides</span> <span data-start="720.8" data-end="726">so yeah and I know that this demo was a</span> <span data-start="726" data-end="727.98">little bit exaggerated because normally</span> <span data-start="727.98" data-end="729.529">you would use something which is called</span> </p>
<p><span data-start="729.529" data-end="731.85">HTTP only cookies that I wouldn't be</span> <span data-start="731.85" data-end="733.56">able to read them if you want to keep</span> <span data-start="733.56" data-end="735.27">the session in cookies you should you</span> <span data-start="735.27" data-end="737.94">should use HTTP only cookies but I I</span> <span data-start="737.94" data-end="739.8">disable this feature for a purpose</span> <span data-start="739.8" data-end="741.39">because I wanted to show that it's</span> <span data-start="741.39" data-end="743.19">really easy to steal some malicious data</span> <span data-start="743.19" data-end="746.339">from the user some personal data from</span> <span data-start="746.339" data-end="748.7">the user and then abuse it somehow and</span> <span data-start="748.7" data-end="754.47">how do we say so one might say that I</span> <span data-start="754.47" data-end="757.05">should always filter the input from my</span> <span data-start="757.05" data-end="760.26">users and use sanitizer so just and</span> <span data-start="760.26" data-end="763.44">strip every HTML tag that is posted to</span> <span data-start="763.44" data-end="766.02">the comment section and that's true but</span> <span data-start="766.02" data-end="768.66">it turns out that those parsers could</span> <span data-start="768.66" data-end="770.1">have bugs and there are really really</span> <span data-start="770.1" data-end="772.26">sophisticated bugs but still that there</span> <span data-start="772.26" data-end="777.06">are bugs and on the other hand there is</span> <span data-start="777.06" data-end="778.709">a better way of protecting ourselves</span> <span data-start="778.709" data-end="781.01">against those kinds of attacks and this</span> <span data-start="781.01" data-end="783.149">method is called content security policy</span> <span data-start="783.149" data-end="786.51">and content security policy is nothing</span> <span data-start="786.51" data-end="788.93">more than a whitelist which let us</span> <span data-start="788.93" data-end="792.149">define from which lets us define the</span> </p>
<p><span data-start="792.149" data-end="794.37">URLs from which our browser is allowed</span> <span data-start="794.37" data-end="796.23">to download some resources so for</span> <span data-start="796.23" data-end="798.54">example I can take tell hey browser you</span> <span data-start="798.54" data-end="801.24">are allowed to download download stuff</span> <span data-start="801.24" data-end="803.279">from bootstrap from Facebook but you're</span> <span data-start="803.279" data-end="806.64">forbidden to download anything from from</span> <span data-start="806.64" data-end="808.86">different resources right and not only</span> <span data-start="808.86" data-end="812.579">content security policy lets us define</span> <span data-start="812.579" data-end="814.74">what we can download it also it also</span> <span data-start="814.74" data-end="817.77">lets us define how do we want to how do</span> <span data-start="817.77" data-end="819.48">we want our scripts to be executed so</span> <span data-start="819.48" data-end="822.06">for example we can say that we can</span> <span data-start="822.06" data-end="826.86">execute the script using like we can we</span> <span data-start="826.86" data-end="829.709">can we can allow the browser to run the</span> <span data-start="829.709" data-end="831.99">scripts addit using source attribute</span> <span data-start="831.99" data-end="835.26">like this and we can say we don't like</span> <span data-start="835.26" data-end="837.69">inline scripts so we want to disband</span> <span data-start="837.69" data-end="840.329">them and browser what would wouldn't</span> <span data-start="840.329" data-end="843.12">wouldn't even wouldn't even execute this</span> <span data-start="843.12" data-end="846.87">code and contrast security policy is</span> <span data-start="846.87" data-end="850.05">turned on using HTTP headers we just</span> <span data-start="850.05" data-end="851.67">specify on</span> <span data-start="851.67" data-end="854.88">our server we specify we specify the</span> <span data-start="854.88" data-end="856.89">content security policy header which</span> <span data-start="856.89" data-end="859.17">looked like this it's here we have</span> <span data-start="859.17" data-end="862.5">header coverage policy then we have</span> <span data-start="862.5" data-end="864.99">something called directive in this case</span> <span data-start="864.99" data-end="867.63">it's script if it defines from which</span> <span data-start="867.63" data-end="868.95">resources we can you can download</span> <span data-start="868.95" data-end="872.28">download script and there is a URL list</span> <span data-start="872.28" data-end="874.59">which says we can execute scripts from</span> <span data-start="874.59" data-end="876.69">and download scripts from self which is</span> <span data-start="876.69" data-end="879.78">our domain and from Google as simple as</span> <span data-start="879.78" data-end="883.14">that so having this knowledge that we</span> <span data-start="883.14" data-end="885.12">can try to fix our demo so the attack I</span> <span data-start="885.12" data-end="887.04">presented you wouldn't be wouldn't be</span> <span data-start="887.04" data-end="901.8">even possible alright so here's my</span> <span data-start="901.8" data-end="903.3">server code and it's like basically</span> <span data-start="903.3" data-end="907.62">really basic really basic really basic</span> </p>
<p><span data-start="907.62" data-end="910.11">Express app which uses this this really</span> <span data-start="910.11" data-end="911.46">neat package called content security</span> <span data-start="911.46" data-end="914.1">policy and here are my content security</span> <span data-start="914.1" data-end="915.78">policy rules there are a couple of them</span> <span data-start="915.78" data-end="920.64">I'm specifying the the resources that my</span> <span data-start="920.64" data-end="924.47">page uses so I can use only scripts from</span> <span data-start="924.47" data-end="929.76">source self and there is a couple of</span> <span data-start="929.76" data-end="932.16">things I've added here because my web</span> <span data-start="932.16" data-end="934.8">page requires bootstrap and some google</span> <span data-start="934.8" data-end="936.54">fonts right so when I use this</span> <span data-start="936.54" data-end="944.019">middleware</span> <span data-start="944.029" data-end="957.71">and restart my server</span> <span data-start="957.72" data-end="961.87">and go back to my webpage I would have</span> <span data-start="961.87" data-end="965.589">to oh and as you can see my browser</span> <span data-start="965.589" data-end="968.92">refused to apply in line in line of its</span> <span data-start="968.92" data-end="976.3">inline script actually yeah so it's here</span> <span data-start="976.3" data-end="978.579">all right so as you can see my script</span> <span data-start="978.579" data-end="980.74">didn't get executed because it refused</span> <span data-start="980.74" data-end="982.149">my content security policy which says</span> <span data-start="982.149" data-end="984.339">that I can only download scripts which</span> <span data-start="984.339" data-end="987.04">are from my from my own domain and not</span> <span data-start="987.04" data-end="989.17">only did it block my inline script which</span> <span data-start="989.17" data-end="990.79">is not explicitly defined in my content</span> <span data-start="990.79" data-end="994.36">security policy rows it also it also</span> <span data-start="994.36" data-end="996.459">gave me this this nice report here that</span> <span data-start="996.459" data-end="999.25">says that somebody tried to try to hack</span> <span data-start="999.25" data-end="1002.1">into my web page and we can specify the</span> <span data-start="1002.1" data-end="1004.62">content security policy rule to send</span> <span data-start="1004.62" data-end="1007.05">this report to to our to our back-end</span> <span data-start="1007.05" data-end="1009.24">and then we can filter those reports and</span> <span data-start="1009.24" data-end="1011.22">see that somebody tried to hack us and</span> <span data-start="1011.22" data-end="1013.199">that's really neat and as far as I know</span> <span data-start="1013.199" data-end="1017.399">the sensoring the tool for getting blogs</span> <span data-start="1017.399" data-end="1019.139">is also supporting content security</span> <span data-start="1019.139" data-end="1021.089">policy right now so you can definitely</span> <span data-start="1021.089" data-end="1023.19">check it out and see whether somebody</span> <span data-start="1023.19" data-end="1024.6">tries to hack your site hack your</span> <span data-start="1024.6" data-end="1027.03">webpage so right now my attack would be</span> <span data-start="1027.03" data-end="1030.36">completely my attack will be completely</span> <span data-start="1030.36" data-end="1032.37">impossible because the script we we</span> <span data-start="1032.37" data-end="1034.319">planted before it's not exactly and</span> <span data-start="1034.319" data-end="1044.49">that's great</span> </p>
<p><span data-start="1044.5" data-end="1047.06">I'm sorry all right</span> <span data-start="1047.06" data-end="1050.24">so as I said before content security</span> <span data-start="1050.24" data-end="1052.52">policy lets you define many different</span> <span data-start="1052.52" data-end="1055.22">rules for for resources and we can</span> <span data-start="1055.22" data-end="1056.78">control almost everything like we can</span> <span data-start="1056.78" data-end="1058.91">control the WebSockets we can specify to</span> <span data-start="1058.91" data-end="1060.47">which servers web sockets are allowed to</span> <span data-start="1060.47" data-end="1061.97">connect we can specify the image</span> <span data-start="1061.97" data-end="1064.52">resources as you can see the Astra photo</span> <span data-start="1064.52" data-end="1065.93">didn't load because I didn't explicitly</span> <span data-start="1065.93" data-end="1068.36">tell the browser to allow it load it</span> <span data-start="1068.36" data-end="1071.39">right and security policy content</span> <span data-start="1071.39" data-end="1072.86">security policy is really really great</span> <span data-start="1072.86" data-end="1076.88">but it also has its downsides just look</span> <span data-start="1076.88" data-end="1079.51">at this it's the content security policy</span> <span data-start="1079.51" data-end="1083">header from Gmail right and there is</span> <span data-start="1083" data-end="1085.4">there is a lot of stuff here and it's</span> <span data-start="1085.4" data-end="1087.83">really really hard to make to maintain</span> <span data-start="1087.83" data-end="1090.17">those tools because imagine you are</span> <span data-start="1090.17" data-end="1091.94">using third-party scripts like analytic</span> <span data-start="1091.94" data-end="1094.25">scripts or Google tag manager or</span> <span data-start="1094.25" data-end="1097.64">something that that we have we have a</span> <span data-start="1097.64" data-end="1099.2">tag manager that downloads many</span> <span data-start="1099.2" data-end="1101.18">different resources from many different</span> <span data-start="1101.18" data-end="1103.16">domains and we didn't even we don't even</span> <span data-start="1103.16" data-end="1105.62">know from which domains we have from</span> <span data-start="1105.62" data-end="1107.3">which domains we load content to our web</span> <span data-start="1107.3" data-end="1109.79">page and to make them work we have to</span> <span data-start="1109.79" data-end="1111.68">explicitly define them in those rules</span> <span data-start="1111.68" data-end="1113.96">right because otherwise they won't be</span> <span data-start="1113.96" data-end="1117.47">working and as you can see this gets</span> <span data-start="1117.47" data-end="1119.15">pretty large and it hits both</span> <span data-start="1119.15" data-end="1120.71">performance because we had to load this</span> <span data-start="1120.71" data-end="1123.08">header and it's you know if we have that</span> <span data-start="1123.08" data-end="1125.54">many rules probably we are not safe</span> <span data-start="1125.54" data-end="1128.45">anyway because if some of the different</span> <span data-start="1128.45" data-end="1132.53">you know different different services</span> <span data-start="1132.53" data-end="1135.86">that we listed here get hacked we would</span> <span data-start="1135.86" data-end="1137.96">be affected as well so that's really</span> <span data-start="1137.96" data-end="1141.68">hard and if you try to use content</span> <span data-start="1141.68" data-end="1145.46">security policy right away your webpage</span> <span data-start="1145.46" data-end="1147.32">would probably break because it's really</span> <span data-start="1147.32" data-end="1149.57">really it's it's really really hard to</span> <span data-start="1149.57" data-end="1152.66">know the exact resources that your</span> <span data-start="1152.66" data-end="1155.45">webpage uses and there will be if you</span> <span data-start="1155.45" data-end="1156.68">turn on the content security policy</span> <span data-start="1156.68" data-end="1158.57">today you will be surprised how many of</span> <span data-start="1158.57" data-end="1161.51">things your webpage downloads right but</span> <span data-start="1161.51" data-end="1163.76">so there is one rule if you start a</span> <span data-start="1163.76" data-end="1165.56">project start using content security</span> <span data-start="1165.56" data-end="1167.96">policy as soon as possible because it</span> <span data-start="1167.96" data-end="1169.31">will give you the full control over your</span> <span data-start="1169.31" data-end="1173.12">resources another downside is that you</span> <span data-start="1173.12" data-end="1176.75">know I am building single page</span> <span data-start="1176.75" data-end="1177.789">applications</span> <span data-start="1177.789" data-end="1180.789">and we use webpack for building our own</span> <span data-start="1180.789" data-end="1183.46">for building the application itself and</span> <span data-start="1183.46" data-end="1185.109">we end up with a package that is</span> <span data-start="1185.109" data-end="1187.269">completely serverless we don't need any</span> <span data-start="1187.269" data-end="1189.46">servers we just want to deploy we just</span> <span data-start="1189.46" data-end="1191.47">want to deploy those three files and we</span> <span data-start="1191.47" data-end="1194.049">decided to use Amazon s3 right because</span> <span data-start="1194.049" data-end="1195.879">it's like come on come on use case we</span> <span data-start="1195.879" data-end="1196.96">just put those files from this tree</span> <span data-start="1196.96" data-end="1199.119">turned on static web site hosting</span> <span data-start="1199.119" data-end="1204.489">and we are done basically and it turns</span> <span data-start="1204.489" data-end="1207.039">out that Amazon s3 lets us define our</span> <span data-start="1207.039" data-end="1209.259">own headers so that's great because we</span> <span data-start="1209.259" data-end="1211.149">can use it to you know control cache and</span> <span data-start="1211.149" data-end="1213.609">we thought that it would be it would be</span> <span data-start="1213.609" data-end="1217.21">nice that we would be able to add</span> <span data-start="1217.21" data-end="1219.22">content security policy here so we would</span> <span data-start="1219.22" data-end="1221.229">actually we would get an architecture</span> <span data-start="1221.229" data-end="1223.029">that is completely that has no moving</span> <span data-start="1223.029" data-end="1224.95">parts we wouldn't have to maintain any</span> <span data-start="1224.95" data-end="1230.049">servers anything and it turned out when</span> <span data-start="1230.049" data-end="1232.96">we turned the CDN before ahead of the</span> <span data-start="1232.96" data-end="1236.19">head of the stream it turned out that s3</span> <span data-start="1236.19" data-end="1238.929">doesn't support content security policy</span> <span data-start="1238.929" data-end="1240.549">headers for some reason we don't know</span> <span data-start="1240.549" data-end="1242.619">why so we had to add an engineer's</span> <span data-start="1242.619" data-end="1246.669">before our Amazon s3 just to add those</span> <span data-start="1246.669" data-end="1249.07">headers and that's the another downside</span> <span data-start="1249.07" data-end="1251.44">of the content security policy is that</span> <span data-start="1251.44" data-end="1253.659">only a few hosting providers and city</span> <span data-start="1253.659" data-end="1255.009">and support those fellers I don't know</span> <span data-start="1255.009" data-end="1257.229">really why if you ask them nicely they</span> <span data-start="1257.229" data-end="1258.7">would probably turn them on for you</span> <span data-start="1258.7" data-end="1261.609">but it's not by default and it's you</span> <span data-start="1261.609" data-end="1263.71">know it's really really hard and you</span> <span data-start="1263.71" data-end="1267.159">know to sum up what have we learned</span> <span data-start="1267.159" data-end="1267.429">today</span> <span data-start="1267.429" data-end="1270.759">yeah we recap to what continent what</span> <span data-start="1270.759" data-end="1273.369">cross-site scripting was we learned what</span> <span data-start="1273.369" data-end="1275.769">content security policy is and the most</span> <span data-start="1275.769" data-end="1278.289">important thing that I would like to I</span> <span data-start="1278.289" data-end="1281.169">would like to you to learn from my talk</span> <span data-start="1281.169" data-end="1284.049">is that security is really really hard</span> <span data-start="1284.049" data-end="1285.909">and we should always pay attention to it</span> <span data-start="1285.909" data-end="1289.659">because it's it's really important and</span> <span data-start="1289.659" data-end="1292.509">it can cost us a lot a lot of money and</span> <span data-start="1292.509" data-end="1294.97">a lot of and it can cause a lot of</span> <span data-start="1294.97" data-end="1297.19">trouble if we don't have security done</span> <span data-start="1297.19" data-end="1301.029">right and here are a couple of links you</span> <span data-start="1301.029" data-end="1303.099">can read afterwards and my name is</span> <span data-start="1303.099" data-end="1304.96">kasper zhukovsky for girl follow me on</span> <span data-start="1304.96" data-end="1307.75">twitter and thank you very much</span> </p>
</section>

<!-- div#container ends -->
</div>

<img alt="The End" id="fin" src="../images/fin.jpg">

<script>
/*eslint-disable */
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google-translate');
}
/* eslint-enable */
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="../js/main.js"></script>

</body>

</html>
