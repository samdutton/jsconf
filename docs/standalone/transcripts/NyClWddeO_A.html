<!DOCTYPE html>

<!--
Copyright 2019 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="//google.com">
  <meta name="description" content="JSConf transcript">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>NyClWddeO_A</title>
  <link rel="stylesheet" href="../css/main.css">
</head>

<body>

<iframe id="youtube" src="https://www.youtube.com/embed/NyClWddeO_A?enablejsapi=1"></iframe>

<div id="container">

<div id="options">
  <div id="google-translate"></div>
  <div>
    <input type="checkbox" id="videoSticky" checked>
    <label for="videoSticky">Video position sticky</label>
  </div>
  <div>
    <input type="checkbox" id="captionScroll" checked>
    <label for="captionScroll">Keep current caption visible</label>
  </div>
</div>

<section>
<p><span data-start="15.26" data-end="18.32">my name is accelerometer and Yuki down</span> <span data-start="18.32" data-end="21.2">here you can see the URL of the slides</span> <span data-start="21.2" data-end="23.42">so you can download those if you want to</span> <span data-start="23.42" data-end="26.81">and the URL is not just here it's at the</span> <span data-start="26.81" data-end="29.9">bottom of every slide down here so you</span> <span data-start="29.9" data-end="31.72">can't miss it</span> <span data-start="31.72" data-end="35.36">what will you learn if you make it</span> <span data-start="35.36" data-end="40.87">through to the end of this talk first</span> <span data-start="40.87" data-end="43.64">let's look at the snippet and I'm</span> <span data-start="43.64" data-end="47.09">guessing that most of you have written</span> <span data-start="47.09" data-end="51.38">similar code and it's ugly can we do</span> <span data-start="51.38" data-end="55.4">better yes we can and in this talk I'm</span> <span data-start="55.4" data-end="58.16">gonna look at a library for echo script</span> <span data-start="58.16" data-end="61.73">5 that is going to be purely object</span> <span data-start="61.73" data-end="62.9">based there not going to be any</span> <span data-start="62.9" data-end="66.079">functions and that will make things very</span> <span data-start="66.079" data-end="66.56">pretty</span> <span data-start="66.56" data-end="71.6">and we're also gonna look at echo script</span> <span data-start="71.6" data-end="75.409">6 that brings a lot of very cool goodies</span> <span data-start="75.409" data-end="77.899">with it so we have classes and you have</span> <span data-start="77.899" data-end="84.619">even more let's first take a very quick</span> <span data-start="84.619" data-end="87.2">look at the JavaScript inheritance</span> <span data-start="87.2" data-end="91.579">basics and you should already know those</span> <span data-start="91.579" data-end="95.06">basics but it never harms to take</span> <span data-start="95.06" data-end="98.99">another look in class-based languages</span> <span data-start="98.99" data-end="102.139">you have two relationships you have the</span> <span data-start="102.139" data-end="105.049">instance of relationship between classes</span> <span data-start="105.049" data-end="108.259">and instances and you have the subclass</span> <span data-start="108.259" data-end="111.819">of relationship between classes and</span> </p>
<p><span data-start="111.819" data-end="115.569">JavaScript makes do with only one</span> <span data-start="115.569" data-end="120.349">relationship and with only objects so</span> <span data-start="120.349" data-end="122.029">you only have the house prototype</span> <span data-start="122.029" data-end="124.639">relationship and that relationship is</span> <span data-start="124.639" data-end="129.89">always between two objects so this is</span> <span data-start="129.89" data-end="131.599">what it looks like if you use a</span> <span data-start="131.599" data-end="134.51">constructor to create an instance you</span> <span data-start="134.51" data-end="137.36">get this kind of this structure that's</span> <span data-start="137.36" data-end="141.59">depicted here you have a person and a</span> <span data-start="141.59" data-end="145.099">person has been created by the</span> <span data-start="145.099" data-end="147.73">constructor person the constructor</span> <span data-start="147.73" data-end="149.24">points</span> <span data-start="149.24" data-end="153.11">- its prototype and the prototype by</span> <span data-start="153.11" data-end="156.71">default points back to its constructor</span> <span data-start="156.71" data-end="159.92">and then you have the Haas prototype</span> <span data-start="159.92" data-end="161.62">relationship between the instance and</span> <span data-start="161.62" data-end="167.84">the prototype things get more tricky as</span> <span data-start="167.84" data-end="172.34">soon as you use subtyping then you have</span> <span data-start="172.34" data-end="175.61">a lot more wiring you have a relatively</span> <span data-start="175.61" data-end="177.94">feeble relationship between a</span> <span data-start="177.94" data-end="180.41">constructor between the constructor and</span> <span data-start="180.41" data-end="184.1">the super constructor but you especially</span> <span data-start="184.1" data-end="186.89">have a Haas prototype relationship</span> <span data-start="186.89" data-end="188.3">between the prototypes which is</span> <span data-start="188.3" data-end="191.87">interesting and obviously again you have</span> <span data-start="191.87" data-end="194.96">the instance and thanks to this house</span> <span data-start="194.96" data-end="198.05">prototype relationship employee</span> <span data-start="198.05" data-end="201.44">prototype gets all the methods from</span> <span data-start="201.44" data-end="205.49">person to prototype and thus you have</span> <span data-start="205.49" data-end="211.43">the the typical subtyping thing next</span> <span data-start="211.43" data-end="213.41">object exam + that's the library I</span> <span data-start="213.41" data-end="217.31">alluded to at the beginning javascript</span> <span data-start="217.31" data-end="220.61">has several kinds of object factories</span> <span data-start="220.61" data-end="224.48">two examples are you can produce an</span> <span data-start="224.48" data-end="227.63">instance via a function and those</span> <span data-start="227.63" data-end="229.82">functions are there's other</span> <span data-start="229.82" data-end="231.5">possibilities those functions are</span> <span data-start="231.5" data-end="234.95">usually the Constructors other than that</span> <span data-start="234.95" data-end="240.2">you have objects and you can use those</span> <span data-start="240.2" data-end="243.41">and object create to produce an instance</span> <span data-start="243.41" data-end="248.03">- but then the question arises how do we</span> <span data-start="248.03" data-end="251.06">call all of that what's the the common</span> <span data-start="251.06" data-end="253.31">word for what's going on what's what's a</span> <span data-start="253.31" data-end="255.86">good word for object Factory and Alan</span> <span data-start="255.86" data-end="259.82">where sprach one of the tc39 people he</span> <span data-start="259.82" data-end="262.79">suggested the term exemplar and if you</span> <span data-start="262.79" data-end="264.98">use that term then you can call</span> <span data-start="264.98" data-end="267.47">constructors function exemplars and</span> <span data-start="267.47" data-end="270.08">whatever is going on here you can call</span> <span data-start="270.08" data-end="276.89">that object exemplars so let's look at</span> <span data-start="276.89" data-end="280.63">two examples this is the almost</span> <span data-start="280.63" data-end="283.11">canonical example of a person</span> <span data-start="283.11" data-end="285.85">you have the constructor function and</span> <span data-start="285.85" data-end="289.93">you have the prototype and to create an</span> <span data-start="289.93" data-end="294.13">instance let's call the instance Joe and</span> <span data-start="294.13" data-end="298.15">this is kind of wrong name so should be</span> <span data-start="298.15" data-end="299.74">called Joe but doesn't matter</span> <span data-start="299.74" data-end="303.73">inconsistent data if you create an</span> <span data-start="303.73" data-end="307.09">instance then you use the new operator</span> <span data-start="307.09" data-end="309.97">and that's like the standard way of</span> <span data-start="309.97" data-end="312.58">doing it but you can also create the</span> <span data-start="312.58" data-end="317.41">exact same instance by just using an</span> <span data-start="317.41" data-end="319.72">object if you use object.create you</span> <span data-start="319.72" data-end="323.23">create a fresh object whose prototype is</span> <span data-start="323.23" data-end="325.39">person dot prototype then you have Joe</span> <span data-start="325.39" data-end="329.92">who sometimes crossdressers and then to</span> <span data-start="329.92" data-end="333.34">instance to instantiate to to fill that</span> <span data-start="333.34" data-end="338.11">with data you invoke the constructor but</span> <span data-start="338.11" data-end="343.18">you do so as a method and then what you</span> <span data-start="343.18" data-end="347.26">end up with you have like the instance</span> <span data-start="347.26" data-end="349.72">show you end up with is exactly the same</span> <span data-start="349.72" data-end="352.33">as if you had created it by a new new</span> <span data-start="352.33" data-end="360.22">person and then let's further examine</span> <span data-start="360.22" data-end="363.04">function exemplars and there you have</span> <span data-start="363.04" data-end="366.19">two main entities you have the</span> <span data-start="366.19" data-end="368.97">constructor and you have its prototype</span> <span data-start="368.97" data-end="373.08">what do those entities do the</span> <span data-start="373.08" data-end="375.7">constructor is there for instantiation</span> <span data-start="375.7" data-end="378.88">and the prototype is there for</span> <span data-start="378.88" data-end="382.72">everything else so here are a few</span> <span data-start="382.72" data-end="384.7">examples if you make an instance of</span> <span data-start="384.7" data-end="387.94">check internally what you actually do is</span> <span data-start="387.94" data-end="391.03">if you if we want to see is X and</span> <span data-start="391.03" data-end="393.25">instance of see what you actually do is</span> <span data-start="393.25" data-end="397">you check whether C dot prototype is in</span> <span data-start="397" data-end="401.23">the prototype chain of X so there it's</span> <span data-start="401.23" data-end="403.72">just the prototype that matters here</span> <span data-start="403.72" data-end="406.48">again if you if you subtype if you</span> <span data-start="406.48" data-end="408.49">create a sub constructor if you extend</span> <span data-start="408.49" data-end="412.24">an existing constructor also what you</span> <span data-start="412.24" data-end="416.23">mostly connect is the sub prototype with</span> <span data-start="416.23" data-end="416.47">the</span> <span data-start="416.47" data-end="420.57">super prototype if you do a super call</span> <span data-start="420.57" data-end="423.34">obviously you need to refer to the super</span> <span data-start="423.34" data-end="425.56">method via the prototype so it's again</span> <span data-start="425.56" data-end="429.55">the prototype and if you use generic</span> <span data-start="429.55" data-end="433.42">methods it's the same principle so what</span> <span data-start="433.42" data-end="435.88">you have is prototype is used all the</span> <span data-start="435.88" data-end="441.76">time the constructor only once but then</span> <span data-start="441.76" data-end="445.39">you have to ask the question what do we</span> <span data-start="445.39" data-end="447.22">need to construct us for why wouldn't</span> <span data-start="447.22" data-end="451.63">things be neater if we only worked with</span> <span data-start="451.63" data-end="454.72">the the prototypes and then we'd always</span> <span data-start="454.72" data-end="457.9">have in we wouldn't have this relatively</span> <span data-start="457.9" data-end="459.25">complicated wiring</span> <span data-start="459.25" data-end="462.75">we'd only have a single very nice</span> <span data-start="462.75" data-end="470.5">prototype chain and this is what such an</span> <span data-start="470.5" data-end="472.99">approach would look if you created a</span> <span data-start="472.99" data-end="476.26">noun and here everything is proper here</span> <span data-start="476.26" data-end="479.71">you have Jane whose name is Jane and who</span> <span data-start="479.71" data-end="483.1">has a title and that instance is an</span> <span data-start="483.1" data-end="485.86">instance of its prototype of the</span> <span data-start="485.86" data-end="488.47">employee and that prototype is a sub</span> <span data-start="488.47" data-end="493.86">prototype of person and that object is</span> <span data-start="493.86" data-end="499.03">again a prototype ee of the library</span> <span data-start="499.03" data-end="504.88">object that contains kind of the it's</span> <span data-start="504.88" data-end="507.43">kind of the metal object protocol up</span> <span data-start="507.43" data-end="510.01">there so this is the library</span> <span data-start="510.01" data-end="512.26">functionality and it is in and the neat</span> <span data-start="512.26" data-end="515.44">thing is that that is inherited these</span> <span data-start="515.44" data-end="519.25">are extend and new methods that you</span> <span data-start="519.25" data-end="523.03">should be able to invoke on a type on an</span> <span data-start="523.03" data-end="528.87">object exemplar extend says if I have an</span> <span data-start="528.87" data-end="532.839">existing object exemplar such as person</span> </p>
<p><span data-start="532.839" data-end="536.92">I want to extend it and new says I have</span> <span data-start="536.92" data-end="539.14">an object exemplar such as say employee</span> <span data-start="539.14" data-end="541.98">and I want to create an instance from it</span> <span data-start="541.98" data-end="547.06">or of it so this kind of inheritance is</span> <span data-start="547.06" data-end="549.76">neat because the whole library sits up</span> <span data-start="549.76" data-end="551.73">here</span> <span data-start="551.73" data-end="554.02">so this is what it looks like in code</span> <span data-start="554.02" data-end="557.86">you see that person is created by</span> <span data-start="557.86" data-end="561.88">extending proto and it it's basically it</span> <span data-start="561.88" data-end="567.76">is the prototype and then you it has a</span> <span data-start="567.76" data-end="570.19">constructor that sets up the instance it</span> <span data-start="570.19" data-end="573.04">has a method and then you create the</span> <span data-start="573.04" data-end="576.45">employee by extending person again</span> <span data-start="576.45" data-end="579.16">prototype there's some weird stuff down</span> <span data-start="579.16" data-end="582.66">here that we're gonna look at later and</span> <span data-start="582.66" data-end="586.75">so that's it and I think that looks a</span> <span data-start="586.75" data-end="590.29">lot nicer than the snippet we've seen at</span> <span data-start="590.29" data-end="593.02">the beginning and it's easier to picture</span> <span data-start="593.02" data-end="596.79">in your head â€” it's easier to visualize</span> <span data-start="596.79" data-end="600.73">so this is how you use it and when it</span> <span data-start="600.73" data-end="603.73">comes to creating an instance we're a</span> <span data-start="603.73" data-end="608.589">bit tiny bit different we just call</span> <span data-start="608.589" data-end="611.23">employee dot new we're whereas with</span> <span data-start="611.23" data-end="614.62">function exemplars you would use the new</span> <span data-start="614.62" data-end="619.02">operator and if we want to check whether</span> </p>
<p><span data-start="619.02" data-end="624.579">Jane is an instance of employee what we</span> <span data-start="624.579" data-end="627.82">do is we just check is employee in the</span> <span data-start="627.82" data-end="632.2">prototype chain of Jane so really nice</span> <span data-start="632.2" data-end="634.57">and and if you if you visualized this</span> <span data-start="634.57" data-end="639.67">kind of the chain then just to find out</span> <span data-start="639.67" data-end="642.52">is the object exemplar in the processor</span> <span data-start="642.52" data-end="645.94">time chain that works very nicely I</span> <span data-start="645.94" data-end="648.88">think afterwards after you've created</span> <span data-start="648.88" data-end="652.06">the instance everything is the same you</span> <span data-start="652.06" data-end="655.839">have a the same old instance of you can</span> <span data-start="655.839" data-end="658.69">invoke methods on it so there nothing</span> <span data-start="658.69" data-end="663.55">much changes how many lines of code do</span> <span data-start="663.55" data-end="666.79">you think that is like raise your hands</span> <span data-start="666.79" data-end="671.2">above 50 more than 50 lines of code less</span> <span data-start="671.2" data-end="676.3">raise your hands less so it's</span> <span data-start="676.3" data-end="680.14">the thing is that's everything so</span> <span data-start="680.14" data-end="683.14">slightly cheated down here because if</span> <span data-start="683.14" data-end="687.25">used proto here which we're gonna look</span> <span data-start="687.25" data-end="691.029">at later but it's it's basically already</span> <span data-start="691.029" data-end="693.79">there you don't need a lot of code and</span> <span data-start="693.79" data-end="695.92">this whole idea of prototype chains</span> <span data-start="695.92" data-end="698.86">that's very that's like an incredibly</span> <span data-start="698.86" data-end="705.13">elegant core of JavaScript so let's look</span> <span data-start="705.13" data-end="708.7">at Eggman script six next echo script</span> <span data-start="708.7" data-end="712.779">six we'll have classes but those are</span> <span data-start="712.779" data-end="715.779">classes by name only and I really like</span> <span data-start="715.779" data-end="718.12">the the Brendan Eich video explaining</span> <span data-start="718.12" data-end="721.99">the design of it the so what they're</span> <span data-start="721.99" data-end="725.77">actually are is syntactic sugar for a</span> <span data-start="725.77" data-end="727.57">constructor syntactic sugar for a</span> <span data-start="727.57" data-end="730.06">function so in echo script six you're</span> <span data-start="730.06" data-end="732.88">going to write class and some stuff</span> <span data-start="732.88" data-end="736.24">behind it after it but what you get back</span> <span data-start="736.24" data-end="738.64">is a function so it's only syntactic</span> <span data-start="738.64" data-end="742.63">sugar but the benefits are quite</span> <span data-start="742.63" data-end="746.13">impressive because you get ease of use</span> <span data-start="746.13" data-end="748.589">especially when it comes to subtyping</span> <span data-start="748.589" data-end="752.02">you get increased compatibility between</span> <span data-start="752.02" data-end="756.91">frameworks and at the moment the kind of</span> <span data-start="756.91" data-end="760.27">it's kind of a trend or or a rule that</span> <span data-start="760.27" data-end="762.22">if you have a framework it usually comes</span> <span data-start="762.22" data-end="765.279">with its own inheritance API and that's</span> <span data-start="765.279" data-end="767.88">a bit sad but sometimes unavoidable and</span> <span data-start="767.88" data-end="770.23">thanks to the increased compatibility</span> <span data-start="770.23" data-end="773.41">tool support will be easier currently</span> <span data-start="773.41" data-end="774.97">you have to little do a lot of tricks to</span> <span data-start="774.97" data-end="779.649">get that and classes will be the</span> <span data-start="779.649" data-end="782.04">foundation for future extensions and</span> <span data-start="782.04" data-end="789.25">mix-ins are one example so this is what</span> <span data-start="789.25" data-end="792.19">it looks like and curiously it looks</span> <span data-start="792.19" data-end="796.66">almost like object exemplars very nice</span> <span data-start="796.66" data-end="800.589">very clean syntax and what tremendously</span> <span data-start="800.589" data-end="804.19">helps us is that we have the super</span> <span data-start="804.19" data-end="807.459">keyword down here so this lengthy thing</span> <span data-start="807.459" data-end="810.19">that we needed to call the soup</span> <span data-start="810.19" data-end="812.38">method that is gone and all we have is</span> <span data-start="812.38" data-end="815.56">super down here so that's very nice so</span> <span data-start="815.56" data-end="819.97">let's look at that no not yet hmm let's</span> <span data-start="819.97" data-end="824.43">look at how classes are translated the</span> <span data-start="824.43" data-end="827.26">first this should be fairly</span> <span data-start="827.26" data-end="828.07">straightforward</span> <span data-start="828.07" data-end="830.47">you have a class person and that is</span> <span data-start="830.47" data-end="832.42">translated to a constructor function and</span> <span data-start="832.42" data-end="837.69">a prototype so far not that impressive</span> <span data-start="837.69" data-end="839.79">but it gets better</span> <span data-start="839.79" data-end="843.82">because here you exchange ugliness for</span> <span data-start="843.82" data-end="846.64">beauty and everything is fairly compact</span> <span data-start="846.64" data-end="849.4">and this is the scary snippet at the</span> <span data-start="849.4" data-end="852.4">beginning and it's things are really a</span> <span data-start="852.4" data-end="854.44">lot easier to understand all you do here</span> <span data-start="854.44" data-end="856.72">you clearly see that employee extends</span> <span data-start="856.72" data-end="859.72">person you have super and it's just a</span> <span data-start="859.72" data-end="866.86">lot neater so now we look at super</span> <span data-start="866.86" data-end="870.33">references how those work internally and</span> <span data-start="870.33" data-end="875.67">you will have four ways of referencing</span> <span data-start="875.67" data-end="880.99">super properties in eco script six to</span> <span data-start="880.99" data-end="884.2">our two reference properties fairly</span> <span data-start="884.2" data-end="887.68">obvious then you can call super methods</span> <span data-start="887.68" data-end="891.37">but you can also omit the name of the</span> <span data-start="891.37" data-end="893.35">method and then what's going to be</span> <span data-start="893.35" data-end="894.97">filled in is the name of the current</span> <span data-start="894.97" data-end="897.91">method so that allows you to it's a more</span> <span data-start="897.91" data-end="903.5">concise way of calling the super method</span> <span data-start="903.51" data-end="907.63">so this is how you currently do it if</span> <span data-start="907.63" data-end="912.22">you wanna make a super call so super dot</span> <span data-start="912.22" data-end="914.35">method becomes this whole lengthy thing</span> <span data-start="914.35" data-end="919.05">here if you look at it more closely</span> <span data-start="919.05" data-end="922.21">there are actually three steps that are</span> <span data-start="922.21" data-end="925.63">performed step one is super constructed</span> <span data-start="925.63" data-end="929.2">of prototype this is where the search</span> <span data-start="929.2" data-end="932.98">for the property starts next is method</span> <span data-start="932.98" data-end="935.32">that's the property we are looking for</span> <span data-start="935.32" data-end="940.03">and we look for it in this object and in</span> <span data-start="940.03" data-end="943.42">all of its prototypes</span> <span data-start="943.42" data-end="947.57">lastly we invoke the method but we keep</span> <span data-start="947.57" data-end="951.2">the current this and that's a bit</span> <span data-start="951.2" data-end="953.66">counterintuitive initially maybe we'll</span> <span data-start="953.66" data-end="957.86">see why it makes sense on the next slide</span> <span data-start="957.86" data-end="963.38">so one thing we would like to do we</span> <span data-start="963.38" data-end="965.99">would like to avoid avoid hard coding in</span> <span data-start="965.99" data-end="969.35">step one the super constructed up</span> <span data-start="969.35" data-end="971.3">prototype we don't want a hard code</span> <span data-start="971.3" data-end="974.81">somewhere inside of the code what the</span> <span data-start="974.81" data-end="978.2">super type is and to do that we</span> <span data-start="978.2" data-end="980.089">introduce a special variable that's very</span> <span data-start="980.089" data-end="982.82">similar to this and this special</span> <span data-start="982.82" data-end="986.779">variable home object points to the home</span> <span data-start="986.779" data-end="990.26">of the methods it points to the object</span> <span data-start="990.26" data-end="992.42">where the current method is located in</span> <span data-start="992.42" data-end="995.69">and if you use home object you start</span> <span data-start="995.69" data-end="997.73">your search obviously in the prototype</span> <span data-start="997.73" data-end="999.92">of the home object not in the home</span> <span data-start="999.92" data-end="1002.589">object itself you look for method just</span> <span data-start="1002.589" data-end="1005.65">as before and you invoke it so what you</span> <span data-start="1005.65" data-end="1009.61">have here this is internally this is the</span> <span data-start="1009.61" data-end="1015.91">semantics of a super call and then you</span> <span data-start="1015.91" data-end="1019.57">have here's an illustration just to look</span> <span data-start="1019.57" data-end="1023.61">at it again what goes on you if</span> <span data-start="1023.61" data-end="1026.86">described makes a super call you start</span> <span data-start="1026.86" data-end="1029.62">your search in the prototype of the home</span> <span data-start="1029.62" data-end="1035.199">object you look for the method described</span> <span data-start="1035.199" data-end="1039.13">and when you call it that this that this</span> <span data-start="1039.13" data-end="1041.86">method gets has to be the same place</span> <span data-start="1041.86" data-end="1045.52">because this overridden method that gets</span> <span data-start="1045.52" data-end="1048.73">called it has to have it has to have</span> <span data-start="1048.73" data-end="1052.48">access to the instance properties so</span> <span data-start="1052.48" data-end="1055.57">that is why this has to stay the same</span> <span data-start="1055.57" data-end="1057.55">you don't want to lose that object down</span> <span data-start="1057.55" data-end="1059.77">here you want to keep that that's where</span> <span data-start="1059.77" data-end="1063.04">the instance data is and if a function</span> <span data-start="1063.04" data-end="1065.95">up here accesses name or title you want</span> <span data-start="1065.95" data-end="1067.89">to make sure that the method up here</span> <span data-start="1067.89" data-end="1071.14">finds it and it has to find it via this</span> <span data-start="1071.14" data-end="1076.69">so these two values are crucial</span> <span data-start="1076.7" data-end="1078.53">then there's one remaining question</span> <span data-start="1078.53" data-end="1081.71">where does the home object come form</span> <span data-start="1081.71" data-end="1084.17">from if I say that it's a local variable</span> <span data-start="1084.17" data-end="1087.38">how do we fill in that local variable</span> <span data-start="1087.38" data-end="1091.46">and in order to enable that there will</span> <span data-start="1091.46" data-end="1094.19">be two new internal properties that</span> <span data-start="1094.19" data-end="1098.45">methods have one will be home object and</span> <span data-start="1098.45" data-end="1100.97">the other one will be method name which</span> <span data-start="1100.97" data-end="1103.82">allows you to do to omit the name of the</span> <span data-start="1103.82" data-end="1105.98">method and to do this unqualified super</span> <span data-start="1105.98" data-end="1110.39">call in echo script six super is allowed</span> <span data-start="1110.39" data-end="1113.36">only in classes but in principle nothing</span> <span data-start="1113.36" data-end="1116.42">would prevent the scheme from working in</span> <span data-start="1116.42" data-end="1118.61">any kind of a prototype chain and it</span> <span data-start="1118.61" data-end="1120.95">would work just perfectly with object</span> <span data-start="1120.95" data-end="1129.14">exemplars how are we timewise okay</span> <span data-start="1129.14" data-end="1133.28">excellent next another new goodie that</span> <span data-start="1133.28" data-end="1136.75">echo script six brings us is proto and</span> <span data-start="1136.75" data-end="1140.69">if you look at how to written the first</span> <span data-start="1140.69" data-end="1143.06">you have to solve the problem of how am</span> </p>
<p><span data-start="1143.06" data-end="1144.56">I gonna pronounce that you don't want to</span> <span data-start="1144.56" data-end="1145.73">say underscore underscore proto</span> <span data-start="1145.73" data-end="1148.1">underscore underscore so the the the</span> <span data-start="1148.1" data-end="1151.52">Python world has a lot of these double</span> <span data-start="1151.52" data-end="1153.71">underscore variables and they call it</span> <span data-start="1153.71" data-end="1156.68">thunder proto so that comes from the</span> <span data-start="1156.68" data-end="1158.99">double underscore so that's a good way</span> <span data-start="1158.99" data-end="1161.12">of pronouncing it and Brendan Eich seems</span> <span data-start="1161.12" data-end="1163.82">to like it so it'll be it's become</span> <span data-start="1163.82" data-end="1168.11">popular for JavaScript dunder proto what</span> <span data-start="1168.11" data-end="1170.6">this special property allows you to do</span> <span data-start="1170.6" data-end="1174.56">is you get you can get and set the</span> <span data-start="1174.56" data-end="1177.74">prototype of an object in echo script</span> <span data-start="1177.74" data-end="1181.01">five its non-standard and it's actually</span> <span data-start="1181.01" data-end="1183.71">and ironically been discouraged for a</span> <span data-start="1183.71" data-end="1186.74">while but it will become part of a comma</span> <span data-start="1186.74" data-end="1191.51">script six and well as that'd be a nice</span> <span data-start="1191.51" data-end="1194.45">feature to have it first appeared in</span> </p>
<p><span data-start="1194.45" data-end="1197.18">Firefox quite a while ago and it became</span> <span data-start="1197.18" data-end="1200.72">so popular that there was pressure to</span> <span data-start="1200.72" data-end="1203.83">add it elsewhere we currently have</span> <span data-start="1203.83" data-end="1207.47">support in Firefox and in v8 that means</span> <span data-start="1207.47" data-end="1209.15">you can use it in no chance which is</span> <span data-start="1209.15" data-end="1210.22">cool</span> <span data-start="1210.22" data-end="1214.809">and it's also available in Safari so</span> <span data-start="1214.809" data-end="1218.7">what are the use cases for dunder proto</span> <span data-start="1218.7" data-end="1223.179">without proto you have to use this ECMO</span> <span data-start="1223.179" data-end="1227.049">script v function object get prototype</span> <span data-start="1227.049" data-end="1230.799">of to access the prototype of an object</span> <span data-start="1230.799" data-end="1234.309">with proto it's a little bit nicer but</span> <span data-start="1234.309" data-end="1235.86">it's not that much of an improvement</span> <span data-start="1235.86" data-end="1239.47">where you do get quite a lot of an</span> <span data-start="1239.47" data-end="1243.07">improvement is if you want to create a</span> <span data-start="1243.07" data-end="1247.9">new object that has a given prototype so</span> <span data-start="1247.9" data-end="1251.559">here we use object.create create an</span> <span data-start="1251.559" data-end="1254.71">empty object whose prototype is my proto</span> <span data-start="1254.71" data-end="1258.1">and then and then fill it via assignment</span> <span data-start="1258.1" data-end="1263.02">and obviously the alternative you have</span> <span data-start="1263.02" data-end="1266.83">is to use object descriptors in the</span> <span data-start="1266.83" data-end="1269.799">second argument who've used used object</span> <span data-start="1269.799" data-end="1275.38">descriptors already it's it's scary so</span> <span data-start="1275.38" data-end="1276.94">you're better off not knowing about them</span> <span data-start="1276.94" data-end="1279.01">no I'm kidding but it's still it's not</span> <span data-start="1279.01" data-end="1282.4">pretty it's a lot of noise so it's it's</span> <span data-start="1282.4" data-end="1285.7">really sometimes you need property</span> <span data-start="1285.7" data-end="1288.88">descriptors but with Donda proto you'll</span> <span data-start="1288.88" data-end="1291.64">have a very nice alternative that works</span> <span data-start="1291.64" data-end="1294.52">for the most use cases with proto you</span> <span data-start="1294.52" data-end="1296.65">get to use object literals which is</span> <span data-start="1296.65" data-end="1299.77">always good and everything becomes more</span> <span data-start="1299.77" data-end="1305.98">compact then there's one more use case</span> <span data-start="1305.98" data-end="1310.63">if you want built-ins in JavaScript are</span> <span data-start="1310.63" data-end="1314.59">notoriously difficult to subtype so the</span> <span data-start="1314.59" data-end="1317.46">problem with array for example is that</span> <span data-start="1317.46" data-end="1321.309">array instances are special so if you</span> <span data-start="1321.309" data-end="1324.46">want to subtype array then you can't or</span> <span data-start="1324.46" data-end="1327.34">at least no you can't you can't create</span> <span data-start="1327.34" data-end="1330.25">those special instances so what you do</span> <span data-start="1330.25" data-end="1333.159">is and what you can do things to proto</span> <span data-start="1333.159" data-end="1335.89">is you just initially you create an</span> <span data-start="1335.89" data-end="1339.82">array and then you swap the prototype of</span> <span data-start="1339.82" data-end="1343.98">this instance with your own prototype</span> <span data-start="1343.98" data-end="1347.01">and that's how you create how you turn</span> <span data-start="1347.01" data-end="1349.409">the initial array the the special</span> <span data-start="1349.409" data-end="1351.84">instance into an instance of your own</span> <span data-start="1351.84" data-end="1354.809">prototype and then you return it that's</span> <span data-start="1354.809" data-end="1357.45">a tiny hack that's I think is used by</span> </p>
<p><span data-start="1357.45" data-end="1362.73">Bizet 2:04 so this is the interaction</span> <span data-start="1362.73" data-end="1364.62">and you notice that if you add an</span> <span data-start="1364.62" data-end="1366.44">element length is automatically</span> <span data-start="1366.44" data-end="1369.09">increased that is not something that you</span> <span data-start="1369.09" data-end="1373.799">can do by hand you can check whether</span> <span data-start="1373.799" data-end="1379.74">dhanda proto is support it and you do</span> <span data-start="1379.74" data-end="1381.929">that by creating an object that uses</span> <span data-start="1381.929" data-end="1385.2">down the proto and then check has the</span> <span data-start="1385.2" data-end="1387.45">prototype I've actually been changed and</span> <span data-start="1387.45" data-end="1389.76">if not you know that Thunder proto is</span> <span data-start="1389.76" data-end="1396.169">not support it there's one caveat with</span> <span data-start="1396.169" data-end="1399.72">underscore with down the proto you have</span> <span data-start="1399.72" data-end="1403.169">to be even more careful when it comes to</span> <span data-start="1403.169" data-end="1405.419">what keys you allow so if you allow</span> <span data-start="1405.419" data-end="1408.659">arbitrary keys then you have to be</span> <span data-start="1408.659" data-end="1410.76">careful because you can really wreak</span> <span data-start="1410.76" data-end="1414.24">havoc if you if you use Donda proto here</span> <span data-start="1414.24" data-end="1418.26">and there has been a bug in in Google</span> </p>
<p><span data-start="1418.26" data-end="1421.889">Docs for a while and a while ago where</span> <span data-start="1421.889" data-end="1424.23">if you if the first word in a Google Doc</span> <span data-start="1424.23" data-end="1426.779">if if that word if you type that word</span> <span data-start="1426.779" data-end="1431.01">and if it was done the proto then Google</span> <span data-start="1431.01" data-end="1435.45">Docs would crash so they can invent your</span> <span data-start="1435.45" data-end="1436.98">own reason why that happened internally</span> <span data-start="1436.98" data-end="1438.87">but they probably stored something in an</span> <span data-start="1438.87" data-end="1441.419">object so typing down the proto crashed</span> <span data-start="1441.419" data-end="1443.309">Google Docs for a while until they fix</span> <span data-start="1443.309" data-end="1446.509">it</span> <span data-start="1446.519" data-end="1448.429">Thunder proto will be an echo script 6</span> <span data-start="1448.429" data-end="1450.72">you will be able to use it as a getter</span> <span data-start="1450.72" data-end="1453">you will be able to use it as a nicer</span> <span data-start="1453" data-end="1456.389">object create you might be able to use</span> <span data-start="1456.389" data-end="1459.269">it as a setter but it might be enough to</span> <span data-start="1459.269" data-end="1463.71">just make subtyping built-in it's easier</span> <span data-start="1463.71" data-end="1466.2">that's another possibility because other</span> <span data-start="1466.2" data-end="1468.83">than that there's not a lot of use cases</span> <span data-start="1468.83" data-end="1473.039">for making Donda proto immutable you</span> <span data-start="1473.039" data-end="1474.99">will be able to switch it off at the</span> <span data-start="1474.99" data-end="1476.99">very least for some objects</span> <span data-start="1476.99" data-end="1479.09">possibly for all objects that's not yet</span> <span data-start="1479.09" data-end="1484.1">been decided conclusion there are a few</span> <span data-start="1484.1" data-end="1487.34">takeaways the core of JavaScript</span> <span data-start="1487.34" data-end="1489.47">inheritance is simple and elegant it's</span> <span data-start="1489.47" data-end="1489.98">just</span> <span data-start="1489.98" data-end="1492.62">objects and the has prototype</span> <span data-start="1492.62" data-end="1496.54">relationship I think object exemplars</span> <span data-start="1496.54" data-end="1499.97">underline that simplicity and that</span> <span data-start="1499.97" data-end="1503.059">elegance so they are instructive they</span> <span data-start="1503.059" data-end="1505.19">teach you something about Chavez about</span> <span data-start="1505.19" data-end="1507.53">how JavaScript inheritance works but</span> <span data-start="1507.53" data-end="1509.72">they're not really for the mainstream</span> <span data-start="1509.72" data-end="1511.91">because you want to be compatible with</span> <span data-start="1511.91" data-end="1518.78">other code but you still can have nicer</span> <span data-start="1518.78" data-end="1522.26">ways for implementing types because or</span> <span data-start="1522.26" data-end="1525.04">in the future because in ACMA script six</span> <span data-start="1525.04" data-end="1528.89">you get classes you get super and you</span> <span data-start="1528.89" data-end="1532.72">get done two protos so those will help</span> <span data-start="1532.72" data-end="1544.09">thank you</span> <span data-start="1544.1" data-end="1546.78">awesome Wow lots of questions let's do</span> <span data-start="1546.78" data-end="1549.49">it</span> <span data-start="1549.5" data-end="1553.17">what is the reason for keeping Thunder</span> </p>
<p><span data-start="1553.17" data-end="1555.15">Pro to separate from the normal</span> <span data-start="1555.15" data-end="1558.72">prototype I mean the idea is close to to</span> <span data-start="1558.72" data-end="1562.07">reuse the existing prototype property</span> <span data-start="1562.07" data-end="1565.14">instead of dangle Pro to wiesen why is</span> <span data-start="1565.14" data-end="1567.33">it important to keep it aside those are</span> <span data-start="1567.33" data-end="1569.1">different things I mean once you have</span> <span data-start="1569.1" data-end="1573.63">the prototype object that lets inside</span> <span data-start="1573.63" data-end="1578.79">that points to the prototypical object</span> <span data-start="1578.79" data-end="1583.62">for for the instances and if you have</span> <span data-start="1583.62" data-end="1585.42">with Thunder proto you have the link</span> <span data-start="1585.42" data-end="1588.18">between objects in in prototype chains</span> <span data-start="1588.18" data-end="1589.83">so those are completely different</span> <span data-start="1589.83" data-end="1593.46">there's an unfortunate overload of names</span> <span data-start="1593.46" data-end="1597.06">in JavaScript you have the the prototype</span> <span data-start="1597.06" data-end="1599.7">relationship between two objects on one</span> <span data-start="1599.7" data-end="1602.4">hand and then you have the prototype</span> <span data-start="1602.4" data-end="1605.34">property of a constructor function and</span> <span data-start="1605.34" data-end="1606.9">that is something completely different</span> <span data-start="1606.9" data-end="1609.27">even though that object eventually</span> <span data-start="1609.27" data-end="1612.17">becomes the prototype of the instances</span> <span data-start="1612.17" data-end="1615.36">but that naming overloading is just it's</span> <span data-start="1615.36" data-end="1617.46">terrible and but those are completely</span> <span data-start="1617.46" data-end="1628.05">different things all right sorry I</span> <span data-start="1628.05" data-end="1629.79">really liked the years six classes and</span> <span data-start="1629.79" data-end="1631.26">having a constructor Kay that's the</span> <span data-start="1631.26" data-end="1632.34">equivalent of the old constructor</span> <span data-start="1632.34" data-end="1635.64">function is there a shim for is five and</span> <span data-start="1635.64" data-end="1638.88">where can I get it is there a can you</span> <span data-start="1638.88" data-end="1640.68">repeat that shim something little by</span> <span data-start="1640.68" data-end="1643.2">thought that run in an as5 and the</span> <span data-start="1643.2" data-end="1645.6">problem with syntax is new synthesis you</span> <span data-start="1645.6" data-end="1648.93">can't really back port it there are a</span> <span data-start="1648.93" data-end="1651.24">few lightweight libraries out there that</span> <span data-start="1651.24" data-end="1655.65">look almost the same so and they're</span> <span data-start="1655.65" data-end="1657.69">really just syntactic sugar for so you</span> <span data-start="1657.69" data-end="1659.28">don't get really a new feature it's just</span> <span data-start="1659.28" data-end="1661.29">nicer syntax I was just having some</span> <span data-start="1661.29" data-end="1666.21">future I forgot and there are a few have</span> <span data-start="1666.21" data-end="1668.4">you heard of traceur it's it's a Google</span> <span data-start="1668.4" data-end="1673.26">project that on the fly it compiles what</span> <span data-start="1673.26" data-end="1676.83">you have so you can use X</span> <span data-start="1676.83" data-end="1679.64">six syntax and it compiles it on the fly</span> <span data-start="1679.64" data-end="1682.649">to ACMA script three I think and</span> <span data-start="1682.649" data-end="1684.899">obviously you have typescript that is</span> <span data-start="1684.899" data-end="1686.669">largely based on the echo script six</span> <span data-start="1686.669" data-end="1688.89">especially when it comes to two classes</span> <span data-start="1688.89" data-end="1690.84">and then has additionally has type</span> <span data-start="1690.84" data-end="1692.82">annotations great thank you so there are</span> <span data-start="1692.82" data-end="1699.57">a few solutions out there else okay cool</span> </p>
</section>

<!-- div#container ends -->
</div>

<img alt="The End" id="fin" src="../images/fin.jpg">

<script>
/*eslint-disable */
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google-translate');
}
/* eslint-enable */
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="../js/main.js"></script>

</body>

</html>
