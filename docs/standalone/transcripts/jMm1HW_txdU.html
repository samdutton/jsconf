<!DOCTYPE html>

<!--
Copyright 2019 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="//google.com">
  <meta name="description" content="JSConf transcript">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>jMm1HW_txdU</title>
  <link rel="stylesheet" href="../css/main.css">
</head>

<body>

<iframe id="youtube" src="https://www.youtube.com/embed/jMm1HW_txdU?enablejsapi=1"></iframe>

<div id="container">

<div id="options">
  <div id="google-translate"></div>
  <div>
    <input type="checkbox" id="videoSticky" checked>
    <label for="videoSticky">Video position sticky</label>
  </div>
  <div>
    <input type="checkbox" id="captionScroll" checked>
    <label for="captionScroll">Keep current caption visible</label>
  </div>
</div>

<section>
<p><span data-start="17.23" data-end="20.02">everybody my name is Brian Michelle and</span> <span data-start="20.02" data-end="21.7">I'm gonna talk today about funk unit</span> <span data-start="21.7" data-end="23.32">which is can everybody hear me in the</span> <span data-start="23.32" data-end="27.25">back cool so I'm gonna be talking today</span> <span data-start="27.25" data-end="29.23">about funk unit which is a JavaScript</span> <span data-start="29.23" data-end="31.75">functional testing tool and also there's</span> <span data-start="31.75" data-end="33.7">an IDE that we've released that's in</span> <span data-start="33.7" data-end="35.95">it's very infant alpha stages and I'll</span> <span data-start="35.95" data-end="39.489">show that off as well so funk unit is</span> <span data-start="39.489" data-end="41.02">actually a piece of JavaScript MVC</span> <span data-start="41.02" data-end="44.14">that's stand on it stands on its own and</span> <span data-start="44.14" data-end="46.72">testing for who in the audience actually</span> <span data-start="46.72" data-end="48.07">writes tests for their JavaScript</span> <span data-start="48.07" data-end="50.89">applications quick show hands that's</span> <span data-start="50.89" data-end="52.66">that's good that's more than half that's</span> <span data-start="52.66" data-end="54.55">more than I expected but you know this</span> <span data-start="54.55" data-end="56.14">is probably the Deathstar is probably a</span> <span data-start="56.14" data-end="58.6">good example of why testing is important</span> <span data-start="58.6" data-end="59.89">because we don't do it it can be pretty</span> <span data-start="59.89" data-end="63.79">costly can bring your systems down so</span> <span data-start="63.79" data-end="66.04">we're gonna write some tests at the end</span> <span data-start="66.04" data-end="67.119">of this I'm going to run through these</span> <span data-start="67.119" data-end="68.229">slides really quick and then we're going</span> <span data-start="68.229" data-end="70.869">to test the this contacts management</span> <span data-start="70.869" data-end="72.34">application and write some JavaScript</span> <span data-start="72.34" data-end="74.91">tests for it</span> <span data-start="74.91" data-end="77.74">so the reasons why you should test it's</span> <span data-start="77.74" data-end="79.54">pretty obvious I'm sure is that in in</span> <span data-start="79.54" data-end="81">crude and improves your code quality</span> <span data-start="81" data-end="83.319">developer confidence people will</span> <span data-start="83.319" data-end="84.819">refactor their code without worrying</span> <span data-start="84.819" data-end="86.399">about breaking other people's code and</span> <span data-start="86.399" data-end="88.899">efficiency because if you don't know</span> <span data-start="88.899" data-end="90.399">that there's a problem two weeks down</span> <span data-start="90.399" data-end="92.47">the line you have to rehearse engineer</span> <span data-start="92.47" data-end="93.789">all the changes that have happened since</span> <span data-start="93.789" data-end="95.979">that problem was introduced so this so</span> <span data-start="95.979" data-end="98.02">testing lets you you know realize that</span> <span data-start="98.02" data-end="100.39">there's an issue before it's too late so</span> <span data-start="100.39" data-end="101.74">the testing landscape right now there's</span> <span data-start="101.74" data-end="103">there's a lot of functional testing</span> <span data-start="103" data-end="104.709">tools out there not too many of them are</span> <span data-start="104.709" data-end="108.039">for JavaScript and that's where funk</span> <span data-start="108.039" data-end="112.179">unit kind of comes in so there's there's</span> <span data-start="112.179" data-end="113.89">a lot of functional testing tools for</span> <span data-start="113.89" data-end="115.78">written for other languages and unit</span> <span data-start="115.78" data-end="117.7">testing tools written for JavaScript but</span> <span data-start="117.7" data-end="118.81">funky and it kind of hits that sweet</span> <span data-start="118.81" data-end="120.34">spot between functional testing and</span> </p>
<p><span data-start="120.34" data-end="123.64">JavaScript based tools so the reasons</span> <span data-start="123.64" data-end="126.13">that people don't test traditionally you</span> <span data-start="126.13" data-end="128.11">guys most of you do test so this will be</span> <span data-start="128.11" data-end="130.66">review or not necessary really so I'll</span> <span data-start="130.66" data-end="133.12">go quick there's a lot of testing tools</span> <span data-start="133.12" data-end="135.97">have high cost and setup which is a</span> <span data-start="135.97" data-end="137.91">barrier to entry for new developers</span> <span data-start="137.91" data-end="140.02">foreign API is if you're writing your</span> <span data-start="140.02" data-end="142.03">application in JavaScript you don't want</span> <span data-start="142.03" data-end="144.31">to write your tests in Python and Java</span> <span data-start="144.31" data-end="146.17">or.net you want to write your your tests</span> <span data-start="146.17" data-end="148.81">and JavaScript as well as an example</span> <span data-start="148.81" data-end="150.73">here's what a qtp test looks like and</span> <span data-start="150.73" data-end="151.18">it's kind of</span> <span data-start="151.18" data-end="152.769">obtuse if you're you know jQuery</span> <span data-start="152.769" data-end="154.629">developer JavaScript developer it's kind</span> <span data-start="154.629" data-end="156.43">of hard to see what's going on there as</span> <span data-start="156.43" data-end="157.87">opposed to something written in</span> </p>
<p><span data-start="157.87" data-end="159.849">JavaScript based on Q unit that it's</span> <span data-start="159.849" data-end="161.59">pretty pretty obvious what's going on</span> <span data-start="161.59" data-end="164.98">for a Java developer it's difficult to</span> <span data-start="164.98" data-end="166.659">debug across platforms so if you're</span> <span data-start="166.659" data-end="168.909">writing a selenium test in PHP that runs</span> <span data-start="168.909" data-end="170.68">across the selenium bridge into Firefox</span> <span data-start="170.68" data-end="172.239">there's a lot of places where you have</span> <span data-start="172.239" data-end="173.59">to check to see where something is going</span> <span data-start="173.59" data-end="176.439">wrong what you'd really want to do is</span> <span data-start="176.439" data-end="179.2">just open up a Firebug console and set</span> <span data-start="179.2" data-end="180.73">breakpoints and debug your tests that</span> <span data-start="180.73" data-end="183.579">way because we're all used to that so</span> <span data-start="183.579" data-end="185.29">another issue is inaccurate event</span> <span data-start="185.29" data-end="187.06">simulation if you the traditional</span> <span data-start="187.06" data-end="188.489">example here is if your testing suite</span> <span data-start="188.489" data-end="190.48">doesn't have very accurate event</span> <span data-start="190.48" data-end="192.97">simulation in this example you know if</span> <span data-start="192.97" data-end="194.439">you're writing a test that clicks this</span> <span data-start="194.439" data-end="197.769">this input up here your testing suite</span> <span data-start="197.769" data-end="199.87">has to not only publish a click event</span> <span data-start="199.87" data-end="201.73">but the browser also publishes a focus</span> <span data-start="201.73" data-end="205.03">event so you know that could break your</span> <span data-start="205.03" data-end="206.919">your test or your test could not work</span> <span data-start="206.919" data-end="209.5">because the simulation wasn't accurate</span> <span data-start="209.5" data-end="212.319">enough and that's not what you want and</span> <span data-start="212.319" data-end="213.849">then kind of related to the first point</span> <span data-start="213.849" data-end="215.799">where if you if you can't set up your</span> <span data-start="215.799" data-end="217.87">testing tools if your developers aren't</span> <span data-start="217.87" data-end="219.099">setting up testing tools because they're</span> <span data-start="219.099" data-end="220.959">costly or difficult to set up</span> <span data-start="220.959" data-end="223.959">then QA can't really communicate with</span> <span data-start="223.959" data-end="226.15">testers very easily so I'm sure any of</span> <span data-start="226.15" data-end="227.409">you who work in a big company I've seen</span> <span data-start="227.409" data-end="229.81">something like this before this is you</span> <span data-start="229.81" data-end="231.489">know a bug report that's been filed and</span> <span data-start="231.489" data-end="233.59">in which you'd rather see is just a URL</span> <span data-start="233.59" data-end="235.15">to a breaking test case or as a</span> <span data-start="235.15" data-end="236.769">developer you don't have to spend an</span> <span data-start="236.769" data-end="238.329">hour just getting up to speed with what</span> <span data-start="238.329" data-end="241.689">the actual problem was so func unit</span> <span data-start="241.689" data-end="243.909">features in browser or selenium based</span> <span data-start="243.909" data-end="245.889">testing you write the test once and it</span> <span data-start="245.889" data-end="247.75">runs in both places and it's a jquery</span> <span data-start="247.75" data-end="249.729">like syntax there's no setup involved it</span> <span data-start="249.729" data-end="252.879">just use this java in the browser it</span> <span data-start="252.879" data-end="254.889">provides accurate event simulation in</span> <span data-start="254.889" data-end="257.62">this new shiny ide so it's built on top</span> <span data-start="257.62" data-end="260.199">of selenium q unit jquery this since</span> <span data-start="260.199" data-end="262.63">synthetic library that simulates events</span> <span data-start="262.63" data-end="265.509">accurately and finally were to the demo</span> <span data-start="265.509" data-end="269.49">so let's jump out and look at some code</span> <span data-start="269.49" data-end="273.639">we just pushed out a new version of the</span> <span data-start="273.639" data-end="276.009">func unit website so if you go there</span> <span data-start="276.009" data-end="283.26">there's a download</span> <span data-start="283.27" data-end="290.64">there's no mouse</span> <span data-start="290.65" data-end="292.3">so there's there's a download there and</span> <span data-start="292.3" data-end="294.28">you know I'm gonna set up mirroring real</span> <span data-start="294.28" data-end="295.449">quick so I can actually see what I'm</span> <span data-start="295.449" data-end="311.869">doing</span> <span data-start="311.879" data-end="317.02">okay</span> <span data-start="317.03" data-end="319.52">so if you go ahead and download the</span> <span data-start="319.52" data-end="320.99">framework I've already done that so we</span> <span data-start="320.99" data-end="323.09">can save some time it comes with a</span> <span data-start="323.09" data-end="326.21">couple folders I've got an app running</span> <span data-start="326.21" data-end="327.83">locally here that we're gonna write a</span> <span data-start="327.83" data-end="329.36">test for it's just a simple contact</span> <span data-start="329.36" data-end="331.55">management app and all you know there's</span> <span data-start="331.55" data-end="332.69">some functionality or if you click</span> <span data-start="332.69" data-end="334.39">really see that well but if you click a</span> <span data-start="334.39" data-end="336.62">category at the top it filters the</span> <span data-start="336.62" data-end="338.69">results and you can add new categories</span> <span data-start="338.69" data-end="342.2">through this little form here so we're</span> <span data-start="342.2" data-end="343.64">gonna just write a quick test at that</span> <span data-start="343.64" data-end="347.18">that form creation actually works so the</span> <span data-start="347.18" data-end="348.23">first thing you do when you download</span> <span data-start="348.23" data-end="349.82">funk unit is you can copy all these</span> <span data-start="349.82" data-end="351.71">files into a funk unit directory in your</span> <span data-start="351.71" data-end="354.53">application so I've got this funk unit</span> <span data-start="354.53" data-end="355.61">folder right here and I copied</span> <span data-start="355.61" data-end="357.14">everything in there comes with this</span> <span data-start="357.14" data-end="359.24">little demo app so if we open that up</span> <span data-start="359.24" data-end="361.55">and you're there it comes with in the</span> <span data-start="361.55" data-end="363.2">demo app there's your application page</span> <span data-start="363.2" data-end="365.51">right here and then a funk unit page so</span> <span data-start="365.51" data-end="366.8">if you open the funk unit page in your</span> <span data-start="366.8" data-end="371.78">browser so it's gonna do some typing and</span> <span data-start="371.78" data-end="373.64">some dragging and dropping and then what</span> <span data-start="373.64" data-end="375.44">actually happened was this page opened a</span> <span data-start="375.44" data-end="376.91">you know separate window it's your</span> <span data-start="376.91" data-end="378.62">application and then ran the test so</span> <span data-start="378.62" data-end="380.51">this is just cute it's just a it</span> <span data-start="380.51" data-end="382.43">is an API on top of cue unit so if you</span> <span data-start="382.43" data-end="384.169">seem qunit test before it works in a</span> <span data-start="384.169" data-end="387.71">similar way so we're gonna go ahead and</span> <span data-start="387.71" data-end="391.61">write a test for the for that</span> <span data-start="391.61" data-end="396.62">application that context application so</span> <span data-start="396.62" data-end="398.54">all we want to do in this application</span> <span data-start="398.54" data-end="400.94">it's for this test actually is click the</span> <span data-start="400.94" data-end="410.51">lips where'd that go</span> <span data-start="410.52" data-end="412.71">so we're gonna we're gonna write some</span> <span data-start="412.71" data-end="414.06">code that's going to click this cut this</span> <span data-start="414.06" data-end="415.919">create button here and then it's gonna</span> <span data-start="415.919" data-end="418.319">click inside of the the form that pops</span> <span data-start="418.319" data-end="420.449">up it's gonna hit backspace a few times</span> <span data-start="420.449" data-end="422.46">to clear out the what's what's showing</span> <span data-start="422.46" data-end="423.84">and then it's going to type something</span> <span data-start="423.84" data-end="427.47">like animal and then hit enter and then</span> <span data-start="427.47" data-end="429.8">verify that something actually showed up</span> <span data-start="429.8" data-end="433.56">so I've got a cheat sheet here but</span> <span data-start="433.56" data-end="434.55">basically well we'll write the</span> <span data-start="434.55" data-end="436.77">pseudocode first so all it's going to do</span> <span data-start="436.77" data-end="438.539">is we're gonna first open the right page</span> <span data-start="438.539" data-end="441.449">so s not open is the command that opens</span> <span data-start="441.449" data-end="443.25">the page we're two directories office so</span> <span data-start="443.25" data-end="446.69">it's going to go to contacts that HTML</span> <span data-start="446.69" data-end="450.03">and then we're going to grab that</span> <span data-start="450.03" data-end="455.34">contact that plus button there and we're</span> <span data-start="455.34" data-end="458.759">gonna click it we're gonna wait for the</span> <span data-start="458.759" data-end="460.919">form to appear so there's a concept of</span> </p>
<p><span data-start="460.919" data-end="463.949">Waits and basically that means just keep</span> <span data-start="463.949" data-end="465.24">waiting keep checking to see if a</span> <span data-start="465.24" data-end="466.889">condition is true and don't continue the</span> <span data-start="466.889" data-end="468.78">test until that is the case so we're</span> <span data-start="468.78" data-end="471.5">going to wait for this input to appear</span> <span data-start="471.5" data-end="473.49">so we're gonna we're gonna say that</span> <span data-start="473.49" data-end="476.81">exists actually will say that visible</span> <span data-start="476.81" data-end="478.62">it's going to wait for that to be</span> <span data-start="478.62" data-end="481.4">visible and then it's going to click it</span> <span data-start="481.4" data-end="485.46">then we're gonna type backspace four</span> <span data-start="485.46" data-end="487.8">times then we're gonna type animal and</span> <span data-start="487.8" data-end="490.02">then we're gonna hit return character</span> <span data-start="490.02" data-end="492.3">it's the Enter key oh wow</span> </p>
<p><span data-start="492.3" data-end="494.58">I need to hurry up here okay so I'm</span> <span data-start="494.58" data-end="496.86">gonna skip ahead and show you so if you</span> <span data-start="496.86" data-end="498.449">if you're interested more and checking</span> <span data-start="498.449" data-end="505.909">out the if you want to check out the API</span> <span data-start="505.909" data-end="508.86">there's a link got too many tabs open</span> <span data-start="508.86" data-end="510.84">here to the documentation right here and</span> <span data-start="510.84" data-end="512.969">that should show you the API for a funk</span> <span data-start="512.969" data-end="515.31">unit I'm gonna just go ahead and copy</span> <span data-start="515.31" data-end="524.13">the test into there so we're we're using</span> <span data-start="524.13" data-end="526.68">jQuery selectors to to grab elements</span> <span data-start="526.68" data-end="528.06">here so we're gonna grab the create</span> <span data-start="528.06" data-end="530.49">button click it grab the input make sure</span> <span data-start="530.49" data-end="532.23">it's visible click it type and then</span> <span data-start="532.23" data-end="533.55">we're gonna verify that there's eight</span> <span data-start="533.55" data-end="535.98">items instead of seven and in running</span> <span data-start="535.98" data-end="538.38">the assertion so if I run this this test</span> <span data-start="538.38" data-end="541.39">again</span> <span data-start="541.4" data-end="543.29">it's gonna open up the page you see it's</span> <span data-start="543.29" data-end="547.76">typing really quickly and then they'd</span> <span data-start="547.76" data-end="549.68">verify that that actually worked so we</span> <span data-start="549.68" data-end="551.66">can run the same tests from selenium</span> <span data-start="551.66" data-end="554.48">using a command-line so we type func</span> <span data-start="554.48" data-end="557">unit MGS and then the path to the page</span> </p>
<p><span data-start="557" data-end="558.83">I'm just going to open up a selenium</span> <span data-start="558.83" data-end="567.03">server and that's gonna open up Firefox</span> <span data-start="567.04" data-end="569.39">so this can be automated for your QA</span> <span data-start="569.39" data-end="572.84">team and it was quick but it did the</span> <span data-start="572.84" data-end="576.14">same test and then okay I wanted to show</span> <span data-start="576.14" data-end="580.4">the very alpha funky IDE so there's an</span> <span data-start="580.4" data-end="582.41">IDE that we just were working on still</span> <span data-start="582.41" data-end="584.75">but it's it can be useful because really</span> <span data-start="584.75" data-end="586.16">the hardest part of writing these tests</span> <span data-start="586.16" data-end="587.72">sometimes is getting the selectors right</span> <span data-start="587.72" data-end="590.93">so this if you I should show you where</span> <span data-start="590.93" data-end="592.79">this comes from so if you go to the</span> <span data-start="592.79" data-end="595.1">funky unit page there's a funky it IDE</span> <span data-start="595.1" data-end="598.31">that you can click on and that's there's</span> <span data-start="598.31" data-end="599.87">a bookmarklet in here that you drag this</span> <span data-start="599.87" data-end="602.42">to your bookmark bar and open up any</span> <span data-start="602.42" data-end="604.04">application actually since there's a</span> <span data-start="604.04" data-end="606.07">bookmarklet you can do this from any</span> <span data-start="606.07" data-end="609.32">non-local application as well you click</span> <span data-start="609.32" data-end="611.36">funk it and then it opens up a little</span> </p>
<p><span data-start="611.36" data-end="613.34">IDE on the bottom here where you can</span> <span data-start="613.34" data-end="615.23">record records your your actions in the</span> <span data-start="615.23" data-end="618.94">page so I'm gonna go ahead and click</span> <span data-start="618.94" data-end="621.38">click that plus button I'm going to</span> <span data-start="621.38" data-end="624.55">click the input hit backspace 4 times</span> <span data-start="624.55" data-end="630.17">type animal hit enter very delicately</span> <span data-start="630.17" data-end="633.62">hopefully this is uh and there's there's</span> <span data-start="633.62" data-end="635">weight conditions that you can use as</span> <span data-start="635" data-end="637.81">well so we're going to wait for that</span> <span data-start="637.81" data-end="643.58">last thing to be visible so and then you</span> <span data-start="643.58" data-end="644.87">can click the Run button it should</span> <span data-start="644.87" data-end="652.68">replay your test in the browser so</span> <span data-start="652.68" data-end="655.51">that's that's it and just to show</span> <span data-start="655.51" data-end="658.899">off a kind of a cooler demo Grooveshark</span> <span data-start="658.899" data-end="660.81">which is a JavaScript MVC application</span> <span data-start="660.81" data-end="664.56">quick plug there you can test</span> </p>
<p><span data-start="664.56" data-end="666.99">Grooveshark by clicking the funky</span> <span data-start="666.99" data-end="669.37">bookmarklet and it's gonna it's gonna</span> <span data-start="669.37" data-end="672.19">open up Grooveshark with funky it on the</span> <span data-start="672.19" data-end="673.68">on the bottom of the page there</span> <span data-start="673.68" data-end="675.61">depending on how fast the Internet is</span> <span data-start="675.61" data-end="678.73">I'm not sure this will be there we go</span> <span data-start="678.73" data-end="681.85">okay so if we click in the search for</span> <span data-start="681.85" data-end="686.35">music here type in Taylor Swift she's my</span> <span data-start="686.35" data-end="690.22">favorite and then we can do a wait for</span> <span data-start="690.22" data-end="692.769">the text Taylor Swift to be the first</span> <span data-start="692.769" data-end="697.329">the first mash-up here so if I click the</span> <span data-start="697.329" data-end="699.22">play button again it should should</span> <span data-start="699.22" data-end="701.649">reload that frame wait for the page to</span> <span data-start="701.649" data-end="709">be open and type it and then verify so</span> <span data-start="709" data-end="710.68">you can you can go ahead and copy this</span> <span data-start="710.68" data-end="712.899">into your your test file we actually</span> <span data-start="712.899" data-end="714.37">have a Save button that's just not not</span> <span data-start="714.37" data-end="716.23">deployed right now but that's a feature</span> <span data-start="716.23" data-end="719.709">that that's also out there so just want</span> <span data-start="719.709" data-end="721.72">to show off the IDE and you know</span> <span data-start="721.72" data-end="723.22">hopefully this will this will make some</span> <span data-start="723.22" data-end="724.81">progress in the future if you're</span> <span data-start="724.81" data-end="726.519">interested in in funk unit as an open</span> <span data-start="726.519" data-end="730.36">source project it's available at Jupiter</span> </p>
<p><span data-start="730.36" data-end="739.74">Jas funk unit and some more links here</span> <span data-start="739.74" data-end="742.81">so Jupiter J s is the company I work for</span> <span data-start="742.81" data-end="745.18">we're hiring too if anyone's looking for</span> <span data-start="745.18" data-end="747.19">a job out there and these are the</span> <span data-start="747.19" data-end="749.14">twitter handles so thanks</span> <span data-start="749.14" data-end="758.07">any questions for ya</span> <span data-start="758.08" data-end="760.34">yeah and it's only works in Firefox</span> <span data-start="760.34" data-end="762.44">because it uses Dom content modified</span> </p>
</section>

<!-- div#container ends -->
</div>

<img alt="The End" id="fin" src="../images/fin.jpg">

<script>
/*eslint-disable */
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google-translate');
}
/* eslint-enable */
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="../js/main.js"></script>

</body>

</html>
