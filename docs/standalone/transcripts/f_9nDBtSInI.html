<!DOCTYPE html>

<!--
Copyright 2019 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="//google.com">
  <meta name="description" content="JSConf transcript">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>f_9nDBtSInI</title>
  <link rel="stylesheet" href="../css/main.css">
</head>

<body>

<iframe id="youtube" src="https://www.youtube.com/embed/f_9nDBtSInI?enablejsapi=1"></iframe>

<div id="container">

<div id="options">
  <div id="google-translate"></div>
  <div>
    <input type="checkbox" id="videoSticky" checked>
    <label for="videoSticky">Video position sticky</label>
  </div>
  <div>
    <input type="checkbox" id="captionScroll" checked>
    <label for="captionScroll">Keep current caption visible</label>
  </div>
</div>

<section>
<p><span data-start="19.05" data-end="23.699">so yeah I'm here to talk about my my let</span> <span data-start="23.699" data-end="25.259">the lessons I learned on the</span> <span data-start="25.259" data-end="28.23">experimental edge and it's mostly WebRTC</span> <span data-start="28.23" data-end="30.71">that I worked on a project recently and</span> <span data-start="30.71" data-end="33.3">learn a few things with WebRTC that I</span> <span data-start="33.3" data-end="35.879">want to share originally the talk though</span> <span data-start="35.879" data-end="37.379">wanted to give was about tinnitus and</span> <span data-start="37.379" data-end="39.21">web technology by didn't have enough</span> <span data-start="39.21" data-end="41.07">research to kind of put it all together</span> <span data-start="41.07" data-end="42.54">properly so if any wants to talk to me</span> <span data-start="42.54" data-end="44.46">about that I'm still doing it at some</span> <span data-start="44.46" data-end="46.79">point but talk to me later on in the day</span> <span data-start="46.79" data-end="51.03">so um this whole thing came together</span> <span data-start="51.03" data-end="55.5">with basically Google has some people</span> <span data-start="55.5" data-end="59.66">approached developers and basically said</span> <span data-start="59.66" data-end="61.949">we want you to build an experiment we're</span> <span data-start="61.949" data-end="63.87">going to pay you some money to do it we</span> <span data-start="63.87" data-end="66.36">want you to use cool technology in</span> <span data-start="66.36" data-end="68.28">mobile browsers we're going to show it</span> <span data-start="68.28" data-end="71.34">off at Google i/o you interested so I</span> <span data-start="71.34" data-end="75.78">was like demo where be paid hell yes so</span> <span data-start="75.78" data-end="78.36">pretty easy decision and at that point</span> <span data-start="78.36" data-end="80.13">there was no real spec it was just used</span> <span data-start="80.13" data-end="81.899">whatever technology you want so it could</span> <span data-start="81.899" data-end="87.09">be WebGL it could be 63 d CSS and I</span> <span data-start="87.09" data-end="90.63">chose to use WebRTC i'm running the the</span> <span data-start="90.63" data-end="92.009">game in the background just get me an</span> <span data-start="92.009" data-end="95.34">idea of what I actually built one idea</span> <span data-start="95.34" data-end="97.289">that we had was to use to mobile phones</span> <span data-start="97.289" data-end="98.7">it's kind of lightsabers so you use your</span> <span data-start="98.7" data-end="100.41">orientation events and kind of the web</span> </p>
<p><span data-start="100.41" data-end="103.05">AP the Web Audio API to kind of work out</span> <span data-start="103.05" data-end="104.97">that the two phones are collided in an</span> <span data-start="104.97" data-end="107.16">invisible light saber but in the end I</span> <span data-start="107.16" data-end="108.869">like the idea of them actually putting</span> <span data-start="108.869" data-end="111.78">someone's face inside of the the mobile</span> <span data-start="111.78" data-end="114.72">phone and having having people kind of</span> <span data-start="114.72" data-end="117.509">throw things at that face and it was</span> <span data-start="117.509" data-end="119.67">based off of them I don't know if anyone</span> <span data-start="119.67" data-end="121.679">remembers the the yahoo face ball game</span> <span data-start="121.679" data-end="123.989">we're from about two thousand eight</span> <span data-start="123.989" data-end="126.479">pretty simple game you sit opposite each</span> <span data-start="126.479" data-end="127.739">other and you throw balls at each</span> <span data-start="127.739" data-end="130.319">other's face it's called faceball so I</span> <span data-start="130.319" data-end="133.98">kind of ripped off that idea and the</span> <span data-start="133.98" data-end="135.989">idea is simply throw balls each other</span> <span data-start="135.989" data-end="139.769">space first one or three wins it uses</span> <span data-start="139.769" data-end="143.269">web RTC audio/video peer-to-peer data</span> <span data-start="143.269" data-end="145.14">orientation events and a whole bunch of</span> <span data-start="145.14" data-end="146.73">other bits of technology so it's a real</span> <span data-start="146.73" data-end="151.42">kind of just demo we're basically</span> <span data-start="151.42" data-end="153.459">have got one big caveat for this talk as</span> <span data-start="153.459" data-end="155.59">well I'm not going to be talking about</span> <span data-start="155.59" data-end="158.739">cool words like stun servers which just</span> <span data-start="158.739" data-end="162.099">makes me think Star Trek turn servers or</span> <span data-start="162.099" data-end="165.16">turn the security protocols this is a</span> <span data-start="165.16" data-end="167.77">this is from a web developers point of</span> <span data-start="167.77" data-end="171.28">view it's what we can do with those what</span> </p>
<p><span data-start="171.28" data-end="172.51">I did with those broad in building</span> <span data-start="172.51" data-end="173.77">bricks how I kind of cobbled things</span> <span data-start="173.77" data-end="175.45">together without really fully</span> <span data-start="175.45" data-end="176.77">understanding all the technology there</span> <span data-start="176.77" data-end="179.98">and how I got away with it and like I</span> <span data-start="179.98" data-end="182.98">was watching my son and put some move</span> <span data-start="182.98" data-end="184.36">forward yeah put some bricks into this</span> <span data-start="184.36" data-end="187.03">this this wall he's got and I realized</span> <span data-start="187.03" data-end="189.58">that my development approach is pretty</span> <span data-start="189.58" data-end="191.47">similar where I basically just take a</span> <span data-start="191.47" data-end="193.09">piece of technology I Ram it against the</span> <span data-start="193.09" data-end="195.34">wall until it fits through I just keep</span> <span data-start="195.34" data-end="197.17">turning and pushing and eventually it</span> <span data-start="197.17" data-end="199.03">drops through and that's basically my</span> <span data-start="199.03" data-end="201.04">programming approach he's got it you</span> <span data-start="201.04" data-end="202.93">know age 20 months and then occasionally</span> <span data-start="202.93" data-end="204.79">you take a shape that doesn't quite fit</span> <span data-start="204.79" data-end="206.11">in a hole and just push it in a fits</span> <span data-start="206.11" data-end="210.94">anyway it's like you know it works so it</span> <span data-start="210.94" data-end="213.549">means that I will quite happily take</span> </p>
<p><span data-start="213.549" data-end="216.48">WebRTC and put it into a project without</span> <span data-start="216.48" data-end="219.459">needing to understand how it's doing all</span> <span data-start="219.459" data-end="221.59">its communication just to know that it</span> <span data-start="221.59" data-end="224.47">actually works and this is that this</span> <span data-start="224.47" data-end="225.94">high level version of that talk</span> <span data-start="225.94" data-end="228.91">basically so that doesn't mean that</span> <span data-start="228.91" data-end="231.13">retrospectively I won't get back look at</span> <span data-start="231.13" data-end="232.39">the technology and trying to understand</span> <span data-start="232.39" data-end="234.28">it it's just that it's so new that I</span> <span data-start="234.28" data-end="236.43">just need a kind of a shortcut and</span> <span data-start="236.43" data-end="238.06">wanted to come in at a high level</span> <span data-start="238.06" data-end="241.299">basically so there's there were two</span> <span data-start="241.299" data-end="243.19">tranches of work in this project that</span> <span data-start="243.19" data-end="246.1">urn that caused me pain I guess it's a</span> <span data-start="246.1" data-end="249.549">pretty the best way of putting it the</span> <span data-start="249.549" data-end="250.989">real-time communication side of things</span> <span data-start="250.989" data-end="254.56">so WebRTC which this talk we mostly</span> <span data-start="254.56" data-end="257.109">about and hopefully I'll have time to</span> <span data-start="257.109" data-end="259.359">get onto the graphic stuff a few few</span> <span data-start="259.359" data-end="261.37">notes but graphics and performance and</span> <span data-start="261.37" data-end="262.9">because the target platforms because it</span> <span data-start="262.9" data-end="264.28">was for google i/o it was a you know</span> <span data-start="264.28" data-end="266.26">google nexus 4 and 7 those are their</span> <span data-start="266.26" data-end="268.6">hero products i found out some</span> <span data-start="268.6" data-end="270.22">interesting things in terms of</span> <span data-start="270.22" data-end="274.36">performance there and again because it</span> <span data-start="274.36" data-end="276.52">was a it was demo where only had to at</span> <span data-start="276.52" data-end="281.14">least work in google chrome for android</span> <span data-start="281.14" data-end="284.229">beta and this technology is under a you</span> <span data-start="284.229" data-end="284.48">know</span> <span data-start="284.48" data-end="286.13">settings facts you actually have to</span> <span data-start="286.13" data-end="288.44">physically go in and enable this so it's</span> <span data-start="288.44" data-end="290.36">great for me in terms of a playground</span> <span data-start="290.36" data-end="293">but obviously it's not kind of works in</span> <span data-start="293" data-end="294.41">every single browse at this point in</span> <span data-start="294.41" data-end="298.01">time but at the moment the game works on</span> <span data-start="298.01" data-end="301.67">chrome for android beta I do plan to add</span> <span data-start="301.67" data-end="303.59">support for iOS you know that old the</span> <span data-start="303.59" data-end="307.34">old browser the older platform and it</span> <span data-start="307.34" data-end="308.99">should work in firefox but I not test it</span> <span data-start="308.99" data-end="311.09">so you know if you do have a look at the</span> <span data-start="311.09" data-end="312.62">links at the end and doesn't work in</span> <span data-start="312.62" data-end="314.39">firefox is because i haven't tested it</span> <span data-start="314.39" data-end="321.41">at all but planting so WebRTC this</span> <span data-start="321.41" data-end="325.49">amazing technology it's a bit too early</span> <span data-start="325.49" data-end="327.28">to do kind of dangerous singing right</span> <span data-start="327.28" data-end="329.93">there's three main api's inside of</span> </p>
<p><span data-start="329.93" data-end="332.86">WebRTC there's get media get user media</span> <span data-start="332.86" data-end="336.83">which is access to the webcam the</span> <span data-start="336.83" data-end="339.29">microphone basically the thing that</span> <span data-start="339.29" data-end="342.29">flash had for you no soy 10 years and I</span> <span data-start="342.29" data-end="345.11">think well certainly getusermedia was</span> <span data-start="345.11" data-end="346.82">kind of starting to emerge last year</span> <span data-start="346.82" data-end="350.63">it's it's the API is kind of stable you</span> <span data-start="350.63" data-end="353.51">can use it in evergreen browsers today</span> <span data-start="353.51" data-end="355.67">quite happily and I've got some example</span> <span data-start="355.67" data-end="358.73">code but the real the the WebRTC side of</span> <span data-start="358.73" data-end="360.29">things are the two other AP eyes which</span> <span data-start="360.29" data-end="362.6">are the peer connection API which is</span> <span data-start="362.6" data-end="363.98">once you've got a stream from your</span> <span data-start="363.98" data-end="367.7">machine we can send off to another user</span> <span data-start="367.7" data-end="369.83">in the room so it's literally</span> <span data-start="369.83" data-end="371.21">peer-to-peer which means there are known</span> <span data-start="371.21" data-end="372.71">that you don't need a server for that</span> <span data-start="372.71" data-end="374.63">day to go from one device to another so</span> <span data-start="374.63" data-end="377.42">my laptop can stream video to your</span> <span data-start="377.42" data-end="379.58">mobile phone inside of this local</span> <span data-start="379.58" data-end="381.68">network without going virus server and</span> <span data-start="381.68" data-end="384.08">then the third API is the data channel</span> </p>
<p><span data-start="384.08" data-end="388.64">API which is the say it it's basically</span> <span data-start="388.64" data-end="391.04">sockets over that peer-to-peer and the</span> <span data-start="391.04" data-end="393.74">interesting part is it's its ability to</span> <span data-start="393.74" data-end="396.98">do UDP which is an appeal for game</span> <span data-start="396.98" data-end="399.11">developers and I appreciate it i built a</span> <span data-start="399.11" data-end="401">game and i'm not a games developer i'm</span> <span data-start="401" data-end="403.04">i'm very much just a hack and see what</span> <span data-start="403.04" data-end="405.71">sticks but i know that we UDP is is</span> <span data-start="405.71" data-end="408.44">supposed to be good for games so that is</span> <span data-start="408.44" data-end="414.6">landing in browsers now</span> <span data-start="414.61" data-end="418.61">so like any good or bewildered developer</span> </p>
<p><span data-start="418.61" data-end="421.1">I first turned to JavaScript libraries</span> <span data-start="421.1" data-end="422.84">to actually solve the problem for me to</span> <span data-start="422.84" data-end="425.09">give me a head start basically so this</span> <span data-start="425.09" data-end="427.37">isn't extensive and I expect more there</span> <span data-start="427.37" data-end="428.66">are more JavaScript libraries out there</span> <span data-start="428.66" data-end="431.42">now and this will grow but these are</span> <span data-start="431.42" data-end="432.65">some of the ones that came across and I</span> <span data-start="432.65" data-end="434.51">knew that I wanted to do the project in</span> <span data-start="434.51" data-end="436.25">java script from top to bottom so i want</span> <span data-start="436.25" data-end="440.03">to note at the back end and i found you</span> <span data-start="440.03" data-end="442.97">know peered up jess seem to only do data</span> <span data-start="442.97" data-end="445.46">this may not be accurate this may change</span> <span data-start="445.46" data-end="446.81">all this may not be completely accurate</span> <span data-start="446.81" data-end="448.04">because i was working under a deadline</span> <span data-start="448.04" data-end="450.89">but pjs seems to just do data but does</span> <span data-start="450.89" data-end="454.16">it very simply very easily simple a</span> <span data-start="454.16" data-end="457.22">simple web RTC just did video and didn't</span> <span data-start="457.22" data-end="458.57">do data and I wanted both because I want</span> <span data-start="458.57" data-end="460.85">to be 0 send messages saying I've thrown</span> <span data-start="460.85" data-end="462.23">the ball at your face and that be the</span> <span data-start="462.23" data-end="465.62">data part and easier are easy RTC I</span> <span data-start="465.62" data-end="466.85">didn't look out because i found that</span> </p>
<p><span data-start="466.85" data-end="471.35">WebRTC got I ojs was a nice node library</span> <span data-start="471.35" data-end="472.91">that came with a client side library and</span> <span data-start="472.91" data-end="474.83">just kind of dropped in and the really</span> <span data-start="474.83" data-end="476.24">appealing thing for me is there was a</span> <span data-start="476.24" data-end="478.19">nice simple demo that was very very</span> <span data-start="478.19" data-end="480.47">hackable and I got a prototype of this</span> <span data-start="480.47" data-end="481.82">project up and running in a couple of</span> <span data-start="481.82" data-end="484.01">hours by hacking their demo which I'll</span> <span data-start="484.01" data-end="487.37">show you in a moment the thing of it</span> <span data-start="487.37" data-end="489.74">extremely wary of is this is super new</span> <span data-start="489.74" data-end="491.33">technology these were the versions of</span> <span data-start="491.33" data-end="492.89">the modules are working with you know</span> <span data-start="492.89" data-end="496.03">not even not point one this is a very</span> <span data-start="496.03" data-end="499.64">that the libraries are evolving really</span> <span data-start="499.64" data-end="501.95">quickly at this point i'm so pretty sure</span> <span data-start="501.95" data-end="504.26">the libraries i mean i deployed a month</span> <span data-start="504.26" data-end="506.18">ago already out of date now there's been</span> <span data-start="506.18" data-end="508.79">fixes and I Cassie fixes that that I</span> <span data-start="508.79" data-end="513.38">could plug in myself so that side this</span> <span data-start="513.38" data-end="518.27">is my it's my prototype and so this was</span> <span data-start="518.27" data-end="519.53">literally an hour's worth of hacking I</span> <span data-start="519.53" data-end="521.12">just took a photo of a drawing i did and</span> <span data-start="521.12" data-end="522.62">stuck my face on so this is a screencast</span> <span data-start="522.62" data-end="525.41">of my desktop and the video feeds come</span> <span data-start="525.41" data-end="528.59">from my mobile phone and the orientation</span> <span data-start="528.59" data-end="530.54">events are being streamed from the phone</span> <span data-start="530.54" data-end="532.73">directly into the desktop and just doing</span> <span data-start="532.73" data-end="535.22">a CSS rotate very simple and that was my</span> <span data-start="535.22" data-end="536.39">proof of concept that i could build this</span> <span data-start="536.39" data-end="539.62">game easily which was completely</span> <span data-start="539.62" data-end="543.41">underestimate the amount work but it was</span> <span data-start="543.41" data-end="546.069">a nice of proof of concept</span> <span data-start="546.069" data-end="548.689">like I said the this was hacked from the</span> </p>
<p><span data-start="548.689" data-end="552.98">WebRTC IO demo and the nice thing about</span> <span data-start="552.98" data-end="554.6">these libraries is it kind of levels out</span> <span data-start="554.6" data-end="556.249">all the different interoperability</span> <span data-start="556.249" data-end="559.879">issues there's hope several versions of</span> <span data-start="559.879" data-end="562.79">the pier data implementation as time</span> <span data-start="562.79" data-end="565.22">went on if you look at the code that's</span> <span data-start="565.22" data-end="567.8">things like Pierre de 200 or peer data</span> <span data-start="567.8" data-end="570.98">or WebKit peer data and and so on and it</span> <span data-start="570.98" data-end="573.379">does things like try to do interrupt</span> <span data-start="573.379" data-end="577.069">between Firefox's video and Chrome's</span> <span data-start="577.069" data-end="578.509">video as well for you so you don't have</span> <span data-start="578.509" data-end="581.929">to do that yourself so that to replicate</span> <span data-start="581.929" data-end="583.309">this this simple example there's really</span> <span data-start="583.309" data-end="586.91">only three steps first one is creative</span> <span data-start="586.91" data-end="589.369">room for two people to join in because</span> </p>
<p><span data-start="589.369" data-end="591.769">I'm doing a two player game I want some</span> <span data-start="591.769" data-end="593.179">kind of discoverability to say this is</span> <span data-start="593.179" data-end="595.189">in terms of the game i had a pin code so</span> <span data-start="595.189" data-end="596.389">i say write my pimco's one two three</span> <span data-start="596.389" data-end="598.04">four you would join that will play</span> <span data-start="598.04" data-end="600.559">against each other you would listen for</span> <span data-start="600.559" data-end="602.839">remote connections coming in and you</span> <span data-start="602.839" data-end="604.369">would send your own video going up the</span> <span data-start="604.369" data-end="607.1">white and again this is with a library</span> <span data-start="607.1" data-end="608.899">so this isn't all the way down to the</span> <span data-start="608.899" data-end="610.16">Royal JavaScript I'll show you some that</span> <span data-start="610.16" data-end="613.04">in a bit but pretty straightforward here</span> <span data-start="613.04" data-end="616.1">I'm creating a web socket to a secure</span> <span data-start="616.1" data-end="617.569">web socket and giving it the pin number</span> <span data-start="617.569" data-end="621.079">so the room number basically so it has a</span> <span data-start="621.079" data-end="623.329">connection while sat this will emit</span> <span data-start="623.329" data-end="626.809">event saying I'm connected and whilst</span> <span data-start="626.809" data-end="628.579">that's happening I will then add an</span> <span data-start="628.579" data-end="631.16">event listener to listen for when a new</span> <span data-start="631.16" data-end="634.369">stream comes in so I get to two objects</span> <span data-start="634.369" data-end="635.509">coming in more most importantly the</span> <span data-start="635.509" data-end="637.459">actual video stream is that stream</span> <span data-start="637.459" data-end="641.42">object and the the WebRTC i/o library</span> <span data-start="641.42" data-end="643.85">has a helper called attached stream</span> <span data-start="643.85" data-end="645.11">which you give it a stream you give it</span> <span data-start="645.11" data-end="646.699">an idea of an element on the page and I</span> <span data-start="646.699" data-end="648.709">just put the two together but it's as</span> <span data-start="648.709" data-end="650.509">simple as doing video duck sauce equals</span> </p>
<p><span data-start="650.509" data-end="654.889">URL dot create yer ole object I've got a</span> <span data-start="654.889" data-end="656.24">slide in the moment that shows you how</span> <span data-start="656.24" data-end="658.61">to actually do that by hand but that</span> <span data-start="658.61" data-end="660.85">will just put a video feed together and</span> <span data-start="660.85" data-end="662.959">the third part is actually capture the</span> <span data-start="662.959" data-end="665.329">video from your your laptop or your</span> <span data-start="665.329" data-end="667.699">phone or whatever device and send up the</span> <span data-start="667.699" data-end="669.619">stream as well and this is all tucked</span> <span data-start="669.619" data-end="671.99">away for me so I just do RTC got great</span> <span data-start="671.99" data-end="676.339">stream video yes audio yes or no and in</span> <span data-start="676.339" data-end="677.99">the case of my game because only one of</span> <span data-start="677.99" data-end="678.499">the opponent</span> <span data-start="678.499" data-end="680.419">face on the game and not my own I just</span> <span data-start="680.419" data-end="681.799">throw away the actual stream I don't do</span> <span data-start="681.799" data-end="683.269">anything with it and behind the scenes</span> <span data-start="683.269" data-end="685.369">the library is basically set that up the</span> <span data-start="685.369" data-end="687.349">peer to peer connection and it's</span> <span data-start="687.349" data-end="691.029">streaming it to the other user that's it</span> <span data-start="691.029" data-end="693.049">so the lessons for me here where</span> <span data-start="693.049" data-end="694.429">libraries are super good when you're</span> <span data-start="694.429" data-end="695.659">fumbling your way through the actual</span> <span data-start="695.659" data-end="697.219">code right there's not a lot there and</span> </p>
<p><span data-start="697.219" data-end="698.749">I've got that prototype working I've got</span> <span data-start="698.749" data-end="701.689">peer-to-peer data working already but</span> <span data-start="701.689" data-end="704.239">the lesson here is libraries also hide</span> <span data-start="704.239" data-end="705.619">away a lot the technology and there were</span> <span data-start="705.619" data-end="707.449">bugs in my code that I hadn't realized</span> <span data-start="707.449" data-end="713.659">even existed in the first place and in</span> <span data-start="713.659" data-end="715.849">my experience that's the right way to</span> <span data-start="715.849" data-end="717.139">approach like if you don't understand</span> <span data-start="717.139" data-end="718.639">the technology take a library start up</span> <span data-start="718.639" data-end="720.289">with that the older thing and then</span> <span data-start="720.289" data-end="722.029">understand what's going on it's kind of</span> <span data-start="722.029" data-end="724.879">a long blog post about using going</span> <span data-start="724.879" data-end="726.499">beyond jquery it's exactly that i would</span> <span data-start="726.499" data-end="727.819">start with jquery and work my way back</span> <span data-start="727.819" data-end="733.099">to how it all works but the really the</span> <span data-start="733.099" data-end="735.559">big thing for me was peer-to-peer data I</span> <span data-start="735.559" data-end="736.759">seem to have this impression in my head</span> <span data-start="736.759" data-end="738.979">the peer-to-peer must be faster all</span> <span data-start="738.979" data-end="740.869">right and if if we tried it here if I</span> <span data-start="740.869" data-end="743.569">had a the game running here one of you</span> <span data-start="743.569" data-end="745.099">wanted to connect to the game it would</span> <span data-start="745.099" data-end="746.929">work out the rock we're on the same</span> <span data-start="746.929" data-end="749.989">network so be really quick but this game</span> </p>
<p><span data-start="749.989" data-end="752.359">I wanted to work between you know the UK</span> <span data-start="752.359" data-end="754.249">in the US or one of you play people over</span> <span data-start="754.249" data-end="757.069">the open web and that's not particularly</span> <span data-start="757.069" data-end="759.409">faster that's still going a long way</span> <span data-start="759.409" data-end="763.189">over the wire so because my game already</span> <span data-start="763.189" data-end="764.599">has this tiny little face the other end</span> <span data-start="764.599" data-end="766.639">I don't want to be I'm not doing a skype</span> <span data-start="766.639" data-end="768.829">clone right I don't he sent an HD video</span> <span data-start="768.829" data-end="770.389">down the wire don'ts in this massive</span> <span data-start="770.389" data-end="775.099">video down the wire so initially I</span> <span data-start="775.099" data-end="776.389">didn't think it was any way of actually</span> <span data-start="776.389" data-end="778.309">controlling how much data goes over the</span> <span data-start="778.309" data-end="780.499">wire but you do have a way of saying</span> <span data-start="780.499" data-end="782.599">here are some options beyond just saying</span> <span data-start="782.599" data-end="785.869">true I want video you can say i want the</span> <span data-start="785.869" data-end="788.059">max width of the video to be you know</span> <span data-start="788.059" data-end="790.339">160 in my case so that the actual it's</span> <span data-start="790.339" data-end="791.569">kind of like a thumbnail video it goes</span> <span data-start="791.569" data-end="794.029">down the wire less data is if you need</span> <span data-start="794.029" data-end="795.319">if you don't need as much data that's</span> <span data-start="795.319" data-end="798.289">good right it's less data on your mobile</span> <span data-start="798.289" data-end="800.689">device it's less bytes over the wire for</span> <span data-start="800.689" data-end="804.169">your mobile device to process and I</span> <span data-start="804.169" data-end="806.389">looked at on my android looks the amount</span> <span data-start="806.389" data-end="807.739">of data that chrome had gone through and</span> <span data-start="807.739" data-end="809.029">it was gigs worth of data when I was</span> <span data-start="809.029" data-end="811.399">testing so imagine gigs worth of dates</span> <span data-start="811.399" data-end="812.15">are on a</span> <span data-start="812.15" data-end="814.73">normal cell network it's going to get</span> <span data-start="814.73" data-end="819.86">expensive so this is kind of an old good</span> <span data-start="819.86" data-end="821.48">one but you know only serve what you</span> <span data-start="821.48" data-end="824.9">need and in this I found that because i</span> <span data-start="824.9" data-end="826.7">was using a library this didn't work i</span> <span data-start="826.7" data-end="828.23">was giving it these arguments saying</span> <span data-start="828.23" data-end="831.62">only serve this 160 video but inside the</span> <span data-start="831.62" data-end="833.45">library i realized that it was just</span> <span data-start="833.45" data-end="835.4">looking for the presence of a value on</span> <span data-start="835.4" data-end="837.11">video and if i had an object there to</span> <span data-start="837.11" data-end="838.28">said yeah it's true so send the whole</span> <span data-start="838.28" data-end="840.98">thing so it's sending by default 640 by</span> <span data-start="840.98" data-end="843.41">480 which isn't really HD but it's a lot</span> <span data-start="843.41" data-end="845.42">bigger than I needed but I can do you</span> <span data-start="845.42" data-end="847.04">know pull requests and fix it but only</span> <span data-start="847.04" data-end="848.69">found that out after i finished with the</span> <span data-start="848.69" data-end="853.01">the library you probably spot already</span> <span data-start="853.01" data-end="854.99">that it's not entirely client side as</span> <span data-start="854.99" data-end="859.19">well so you do need you don't absolutely</span> <span data-start="859.19" data-end="862.91">need a server you can do it entirely in</span> <span data-start="862.91" data-end="865.16">the client side but you need to be able</span> <span data-start="865.16" data-end="866.9">to know what the IP address of the the</span> <span data-start="866.9" data-end="868.1">person you're trying to connect to and</span> <span data-start="868.1" data-end="869.66">typically you want to be a give someone</span> <span data-start="869.66" data-end="871.67">a pin number or a color to connect</span> <span data-start="871.67" data-end="873.86">through right so the game is enter pin</span> <span data-start="873.86" data-end="877.94">and you have that discoverability so you</span> <span data-start="877.94" data-end="880.69">still need you still need the server and</span> <span data-start="880.69" data-end="882.95">literally this is all the code i have my</span> <span data-start="882.95" data-end="885.59">server side i have not for the entire</span> <span data-start="885.59" data-end="887.96">game but for the WebRTC part I've got an</span> <span data-start="887.96" data-end="890.54">express server once that's created I</span> <span data-start="890.54" data-end="892.91">just wrap it up with the web RTC library</span> <span data-start="892.91" data-end="894.38">and the other library is very similar</span> <span data-start="894.38" data-end="895.85">they just kind of wrap around your your</span> <span data-start="895.85" data-end="897.2">web server and they do all the work for</span> <span data-start="897.2" data-end="900.95">you I in my live production code have no</span> <span data-start="900.95" data-end="902.51">more than that to do with the WebRTC</span> <span data-start="902.51" data-end="904.85">stuff it's just that one line so just</span> <span data-start="904.85" data-end="907.49">handles it for me it create it handles</span> <span data-start="907.49" data-end="911.51">creation of rooms handles trying to work</span> <span data-start="911.51" data-end="913.13">out the discoverability part and it's</span> <span data-start="913.13" data-end="915.35">it's all magic from my point of view and</span> <span data-start="915.35" data-end="919.07">if I wanted to add fullback support for</span> <span data-start="919.07" data-end="920.96">iOS for instance that didn't have the</span> <span data-start="920.96" data-end="923.12">peer connection API I would use this</span> <span data-start="923.12" data-end="925.52">socket to send messages up to it so when</span> <span data-start="925.52" data-end="927.77">someone took a photo there their face it</span> <span data-start="927.77" data-end="929.72">would send up their web socket here I</span> <span data-start="929.72" data-end="931.04">would send it down to the connected</span> <span data-start="931.04" data-end="933.83">client and I could add fullback support</span> <span data-start="933.83" data-end="936.89">using this web socket this was the</span> <span data-start="936.89" data-end="939.56">interesting part to me the RTC data</span> <span data-start="939.56" data-end="941.63">channel there's no permissions for this</span> <span data-start="941.63" data-end="944.66">you just create a PSP connection and at</span> <span data-start="944.66" data-end="945.99">the moment there's there's not</span> <span data-start="945.99" data-end="948.839">shins object that he pass in the sets</span> <span data-start="948.839" data-end="950.64">either reliable to true or reliable to</span> <span data-start="950.64" data-end="952.77">false reliable true means you have a tcp</span> <span data-start="952.77" data-end="955.89">connection which is it according to the</span> <span data-start="955.89" data-end="957.69">spec is default so if you don't pass in</span> <span data-start="957.69" data-end="959.82">that Valley you have a tcp connection if</span> <span data-start="959.82" data-end="961.47">you set reliable to force then it</span> <span data-start="961.47" data-end="964.41">creates a UDP connection ok and I did</span> <span data-start="964.41" data-end="966.36">read a comment inside of some code that</span> <span data-start="966.36" data-end="968.459">says that chrome at the moment doesn't</span> <span data-start="968.459" data-end="971.73">support TCP reliable connections but</span> <span data-start="971.73" data-end="973.89">it's quite likely that if someone's</span> <span data-start="973.89" data-end="976.95">watching this in the future that that's</span> <span data-start="976.95" data-end="978.72">not sure anymore that's fixed it's quite</span> <span data-start="978.72" data-end="979.95">likely that the comments already out of</span> <span data-start="979.95" data-end="984.86">date because it's moving so quickly if</span> <span data-start="984.86" data-end="987.089">if you guys and girls are already using</span> </p>
<p><span data-start="987.089" data-end="988.32">WebSockets hopefully you're doing this</span> <span data-start="988.32" data-end="989.459">already you actually test that the</span> <span data-start="989.459" data-end="991.56">WebSockets open before you start trying</span> <span data-start="991.56" data-end="993.39">to send data over that WebSocket you</span> <span data-start="993.39" data-end="995.19">have to do the same thing with the data</span> <span data-start="995.19" data-end="997.95">the data channel in this case I'm</span> <span data-start="997.95" data-end="999.959">looping over my date channels and saying</span> <span data-start="999.959" data-end="1002.51">it is the ready state open and if it is</span> <span data-start="1002.51" data-end="1004.64">then I will use it if it's not the game</span> <span data-start="1004.64" data-end="1007.37">isn't ready in the first place right the</span> <span data-start="1007.37" data-end="1008.63">weird thing is the ready state such as</span> <span data-start="1008.63" data-end="1010.37">string whereas I'm kind of used to ready</span> <span data-start="1010.37" data-end="1012.079">so it's being an integer bits it's just</span> <span data-start="1012.079" data-end="1014.72">part the spec and hopefully you're doing</span> <span data-start="1014.72" data-end="1019.13">this with WebSockets anyway originally I</span> <span data-start="1019.13" data-end="1020.99">wanted to stream the orientation events</span> <span data-start="1020.99" data-end="1023.69">directly over the pier data API which</span> <span data-start="1023.69" data-end="1025.01">would have I mean if you've ever looked</span> <span data-start="1025.01" data-end="1026.78">at the orientation events are just it</span> <span data-start="1026.78" data-end="1029.209">just bombard the device with data just</span> <span data-start="1029.209" data-end="1032.569">pours out and I was like oh that's a lot</span> <span data-start="1032.569" data-end="1034.1">of data I'll throttle this and only</span> <span data-start="1034.1" data-end="1036.679">sender every 250 milliseconds which is</span> <span data-start="1036.679" data-end="1038.569">in the end there's no point right it</span> <span data-start="1038.569" data-end="1040.49">there's three states in my game the user</span> <span data-start="1040.49" data-end="1041.929">is standing up there either left or the</span> <span data-start="1041.929" data-end="1046.04">right or left or right so why not</span> <span data-start="1046.04" data-end="1047.36">actually put that in need the client</span> <span data-start="1047.36" data-end="1049.28">side so instead of sending that data and</span> <span data-start="1049.28" data-end="1050.84">having the pier work out if they've</span> <span data-start="1050.84" data-end="1053.84">tilted left to right just I put then all</span> <span data-start="1053.84" data-end="1055.28">the logic on the client side and try and</span> <span data-start="1055.28" data-end="1056.809">send as little amount of data over the</span> <span data-start="1056.809" data-end="1059.57">wire as possible and in this case I say</span> <span data-start="1059.57" data-end="1061.309">if the user's phone has tilted over to</span> <span data-start="1061.309" data-end="1063.02">the right then a state has changed send</span> <span data-start="1063.02" data-end="1064.97">that one message for the pier ok so</span> <span data-start="1064.97" data-end="1067.13">you're still sending bytes over the over</span> <span data-start="1067.13" data-end="1070.25">the Internet I had this misconception</span> <span data-start="1070.25" data-end="1072.32">that pier data would be so much faster</span> <span data-start="1072.32" data-end="1074.6">and so much eat a such less data but</span> <span data-start="1074.6" data-end="1076.58">it's it's not it's just closer there's</span> <span data-start="1076.58" data-end="1078.53">no there's that if we're in the same</span> <span data-start="1078.53" data-end="1079.49">network than great</span> <span data-start="1079.49" data-end="1083.09">but it's you should be over the wire so</span> </p>
<p><span data-start="1083.09" data-end="1084.86">I just want to explain the the mechanics</span> <span data-start="1084.86" data-end="1088.52">of this game before I kind of show you</span> <span data-start="1088.52" data-end="1091.84">the biggest ball like I hit basically</span> <span data-start="1091.84" data-end="1093.98">before the game can start you need I</span> <span data-start="1093.98" data-end="1095.3">needed to open a web socket for the game</span> <span data-start="1095.3" data-end="1097.85">discovery connect to the video and audio</span> <span data-start="1097.85" data-end="1100.01">stream once that was done I test if the</span> <span data-start="1100.01" data-end="1103.1">the piers the peer connection was</span> <span data-start="1103.1" data-end="1104.66">actually open and I could talk to it it</span> <span data-start="1104.66" data-end="1105.95">was an already state and if that's the</span> <span data-start="1105.95" data-end="1107.51">case then the game is ready to be played</span> <span data-start="1107.51" data-end="1108.94">and you can throw balls each others face</span> <span data-start="1108.94" data-end="1113.69">so my game was a multi-page website</span> <span data-start="1113.69" data-end="1116.57">you'll be you get this welcome page it's</span> <span data-start="1116.57" data-end="1118.13">had two buttons that's kind of join the</span> <span data-start="1118.13" data-end="1121.4">game or start game if you start a game</span> <span data-start="1121.4" data-end="1123.38">then it would automatically create the</span> <span data-start="1123.38" data-end="1124.46">room before you give you a pin number</span> <span data-start="1124.46" data-end="1126.14">and your go and tell your friend will</span> <span data-start="1126.14" data-end="1127.97">the pin number is and your friend will</span> <span data-start="1127.97" data-end="1130.4">say okay I'm gonna go join a game and</span> <span data-start="1130.4" data-end="1132.47">they'll enter the pin and when they hit</span> <span data-start="1132.47" data-end="1134.69">refresh or when I hit submit it will go</span> <span data-start="1134.69" data-end="1137.33">to this waiting state and the start game</span> <span data-start="1137.33" data-end="1138.47">would be in a waiting state would have a</span> <span data-start="1138.47" data-end="1141.02">hanging xhr on the server side and when</span> <span data-start="1141.02" data-end="1144.98">the server side state machine went from</span> <span data-start="1144.98" data-end="1147.92">waiting to ready it would close the xhr</span> <span data-start="1147.92" data-end="1149.99">request which record both pages to</span> <span data-start="1149.99" data-end="1153.38">reload into the play the game and once</span> <span data-start="1153.38" data-end="1155.24">we're playing the game I then asked for</span> <span data-start="1155.24" data-end="1156.83">the streams from both users at the same</span> <span data-start="1156.83" data-end="1161.84">time and try and connect them but that</span> <span data-start="1161.84" data-end="1164.78">didn't work what happened is I get to</span> <span data-start="1164.78" data-end="1166.28">the game I see the video and it would</span> <span data-start="1166.28" data-end="1170.61">instantly vanish</span> <span data-start="1170.62" data-end="1173.78">so yet to quite a while to work out what</span> <span data-start="1173.78" data-end="1178.3">was actually going on I haven't analogy</span> <span data-start="1178.3" data-end="1180.44">and I've explains to my wife who doesn't</span> <span data-start="1180.44" data-end="1183.17">do tech at all and she kind of got it so</span> </p>
<p><span data-start="1183.17" data-end="1184.58">I'm hoping that you guys and girls can</span> <span data-start="1184.58" data-end="1186.53">get this as well and if I don't just ask</span> <span data-start="1186.53" data-end="1189.55">me afterwards so this is my analogy I</span> <span data-start="1189.55" data-end="1192.62">want to make a call to you okay I've got</span> <span data-start="1192.62" data-end="1194.72">my paper cup phone I got both ends i got</span> <span data-start="1194.72" data-end="1196.79">my paper cup the string and they paid a</span> <span data-start="1196.79" data-end="1198.35">cup at the bottom and you have the same</span> <span data-start="1198.35" data-end="1201.05">thing i put my paper cup up set up to my</span> <span data-start="1201.05" data-end="1203.78">ear I hand you the other end and you do</span> <span data-start="1203.78" data-end="1205.25">the same thing you put your paper cup to</span> <span data-start="1205.25" data-end="1207.02">up to your ear and you hand me the other</span> <span data-start="1207.02" data-end="1209.36">end I'm like okay right I'll take that</span> <span data-start="1209.36" data-end="1210.98">and i'll put up to my ear and take out</span> <span data-start="1210.98" data-end="1213.08">take off the end that I was holding</span> <span data-start="1213.08" data-end="1215.36">before and you do the same thing you</span> <span data-start="1215.36" data-end="1217.22">take the phone off me and put up to your</span> <span data-start="1217.22" data-end="1218.96">ear putting down the other end and we're</span> <span data-start="1218.96" data-end="1220.4">both standing there with dangling phone</span> <span data-start="1220.4" data-end="1221.72">so we're not actually talking each other</span> <span data-start="1221.72" data-end="1225.11">we've just got this kind of longer thing</span> <span data-start="1225.11" data-end="1227.66">no one's talking to each other the point</span> <span data-start="1227.66" data-end="1229.1">is it was happening at the same time and</span> <span data-start="1229.1" data-end="1230.48">the connections were kind of missing</span> <span data-start="1230.48" data-end="1234.02">each other now I don't know because I</span> <span data-start="1234.02" data-end="1235.61">haven't dug into this deeply enough if</span> <span data-start="1235.61" data-end="1238.46">this is a bug in the library that i was</span> <span data-start="1238.46" data-end="1240.59">using whether it is a bug in the</span> <span data-start="1240.59" data-end="1243.29">workflow or what's more likely that it</span> <span data-start="1243.29" data-end="1244.7">was a bug that I was hitting because of</span> <span data-start="1244.7" data-end="1246.29">the way I was developing and because of</span> <span data-start="1246.29" data-end="1248.3">the deadline I was against I needed it</span> <span data-start="1248.3" data-end="1249.68">needed to be live for Google i/o so I</span> <span data-start="1249.68" data-end="1251.09">need a solution to get around this</span> <span data-start="1251.09" data-end="1252.83">problem of the two users trying to</span> <span data-start="1252.83" data-end="1257.09">connect the exact same time so I create</span> <span data-start="1257.09" data-end="1261.43">a single page app and what that did is</span> <span data-start="1261.43" data-end="1264.77">it as soon as you go to start the game</span> <span data-start="1264.77" data-end="1266.87">it would immediately asked you for your</span> <span data-start="1266.87" data-end="1270.14">your audio and video stream so you say</span> <span data-start="1270.14" data-end="1271.28">yeah okay and you've got the pin number</span> <span data-start="1271.28" data-end="1272.66">then you say to your friend here's my</span> <span data-start="1272.66" data-end="1274.76">pin number and because of that time</span> <span data-start="1274.76" data-end="1277.04">delay between that those two points the</span> <span data-start="1277.04" data-end="1279.14">stream is already open and it's the</span> <span data-start="1279.14" data-end="1280.79">streams already being fed into that room</span> <span data-start="1280.79" data-end="1282.8">let's imaginary room in the cloud or</span> <span data-start="1282.8" data-end="1285.02">wherever it is they enter their pin</span> <span data-start="1285.02" data-end="1286.7">number because it happens not the same</span> <span data-start="1286.7" data-end="1288.38">time at there's some delay then that</span> <span data-start="1288.38" data-end="1289.73">user can connect to you properly and</span> <span data-start="1289.73" data-end="1291.23">there's no both of you trying to connect</span> <span data-start="1291.23" data-end="1295.52">at the same time it worked that was the</span> <span data-start="1295.52" data-end="1298.44">important fit</span> <span data-start="1298.45" data-end="1301.73">but there is some there is a point to a</span> <span data-start="1301.73" data-end="1305.41">single page app if you have created a</span> <span data-start="1305.41" data-end="1308.18">web RTC stream or things like going</span> <span data-start="1308.18" data-end="1310.52">fullscreen and as soon as the page</span> <span data-start="1310.52" data-end="1312.83">refreshes that gets broken so once if</span> <span data-start="1312.83" data-end="1314.33">you if your app is in full screen mode</span> <span data-start="1314.33" data-end="1316.73">when you hit refresh it drops out a full</span> <span data-start="1316.73" data-end="1319.55">screen so these things that use these</span> <span data-start="1319.55" data-end="1321.29">kind of persistent states in the browser</span> <span data-start="1321.29" data-end="1323.84">you might need to actually make a single</span> <span data-start="1323.84" data-end="1325.4">page app that can loads in each one of</span> <span data-start="1325.4" data-end="1328.55">these pages now I only my app is still</span> <span data-start="1328.55" data-end="1331.25">on my site is still a welcome page and</span> <span data-start="1331.25" data-end="1332.6">then the rest of it is a single page app</span> <span data-start="1332.6" data-end="1334.46">which meant that I couldn't just add</span> <span data-start="1334.46" data-end="1336.41">full screen I add a full screen right</span> <span data-start="1336.41" data-end="1337.94">the end I would have liked to have on</span> <span data-start="1337.94" data-end="1339.77">the welcome screen go to full screen go</span> <span data-start="1339.77" data-end="1341.57">to full screen and then start playing</span> <span data-start="1341.57" data-end="1342.71">the game but because i have a refresh</span> <span data-start="1342.71" data-end="1345.65">between welcome and join i can do that</span> <span data-start="1345.65" data-end="1348.89">and also this can get a bit annoying in</span> <span data-start="1348.89" data-end="1351.32">your game like if you if you do refresh</span> <span data-start="1351.32" data-end="1352.97">the game so once once the game's over</span> <span data-start="1352.97" data-end="1355.33">you hit reload and you start again if</span> <span data-start="1355.33" data-end="1358.79">you add ssl the desktop browsers won't</span> <span data-start="1358.79" data-end="1362">keep asking for permission to access the</span> <span data-start="1362" data-end="1365.75">the webcam on the mobile device this was</span> <span data-start="1365.75" data-end="1367.55">true when i started the project and it</span> <span data-start="1367.55" data-end="1368.72">was forced by the time I end of the</span> <span data-start="1368.72" data-end="1370.07">project and it's not like it took a long</span> <span data-start="1370.07" data-end="1371.39">time it was probably months worth of</span> <span data-start="1371.39" data-end="1372.98">death but because i was working in beta</span> <span data-start="1372.98" data-end="1375.26">this stuff changed underneath my feet</span> <span data-start="1375.26" data-end="1380.48">and what happens on mobile is because</span> <span data-start="1380.48" data-end="1382.25">there's no visual cue that there's a</span> <span data-start="1382.25" data-end="1385.07">video stream open on the phone they</span> <span data-start="1385.07" data-end="1386.66">can't they always ask you for permission</span> <span data-start="1386.66" data-end="1388.85">ok on a desktop you have a light</span> <span data-start="1388.85" data-end="1390.89">generally that tells you your webcams on</span> <span data-start="1390.89" data-end="1392.72">on a mobile phone you don't have that</span> <span data-start="1392.72" data-end="1394.58">and even better than that i found that</span> <span data-start="1394.58" data-end="1396.35">when i had an open stream i could turn</span> <span data-start="1396.35" data-end="1397.79">my phone off or put it in standby mode</span> <span data-start="1397.79" data-end="1399.68">put it down and walk away and forget</span> <span data-start="1399.68" data-end="1402.07">that that's that camera is still on and</span> <span data-start="1402.07" data-end="1405.35">feeding a stream to the remote peer so</span> <span data-start="1405.35" data-end="1407.72">your phone can be off and the camera</span> <span data-start="1407.72" data-end="1410.11">will still be feeding data over the wire</span> <span data-start="1410.11" data-end="1415.46">makes you phone really really hot so</span> <span data-start="1415.46" data-end="1417.14">i've got a bit time to talk about the</span> <span data-start="1417.14" data-end="1420.83">graphics side of things and i'm not i'm</span> <span data-start="1420.83" data-end="1423.77">a developer in terms of I I know like</span> <span data-start="1423.77" data-end="1426.41">black white and gray that's as far as my</span> <span data-start="1426.41" data-end="1429.41">graphic skills go and i'm not a 3d</span> <span data-start="1429.41" data-end="1430.179">program</span> <span data-start="1430.179" data-end="1434.23">and it kind of is a bit of a mindfuck so</span> </p>
<p><span data-start="1434.23" data-end="1435.669">I'm gonna go into that detail basically</span> <span data-start="1435.669" data-end="1439.629">i knew that i had a 3d scene i had this</span> <span data-start="1439.629" data-end="1440.83">little character in the background had</span> <span data-start="1440.83" data-end="1442.749">this idea of like old school 80's Tron</span> <span data-start="1442.749" data-end="1445.48">style you know floor and you throw balls</span> <span data-start="1445.48" data-end="1447.909">into the 3d space and hit me in the face</span> <span data-start="1447.909" data-end="1449.649">and my original plan was to do this all</span> <span data-start="1449.649" data-end="1451.029">with a Dom I was like well I can just do</span> <span data-start="1451.029" data-end="1452.679">you know scale on that make it smaller</span> <span data-start="1452.679" data-end="1455.499">and you'll be fine and I sat down with</span> <span data-start="1455.499" data-end="1457.899">them I are said lead Lyle who's speaking</span> </p>
<p><span data-start="1457.899" data-end="1460.809">I think on Friday towards the end if he</span> <span data-start="1460.809" data-end="1462.1">just kind of give me some advice on the</span> <span data-start="1462.1" data-end="1464.019">3d stuff and the first thing he said is</span> <span data-start="1464.019" data-end="1466.48">no that's going to be probably not</span> <span data-start="1466.48" data-end="1470.259">a direct quote but I need to use 3gs to</span> <span data-start="1470.259" data-end="1471.669">do this work and I'm not familiar enough</span> <span data-start="1471.669" data-end="1474.129">with 3gs so I sat down with him he gave</span> <span data-start="1474.129" data-end="1475.269">me a couple of hours of his time and</span> <span data-start="1475.269" data-end="1477.249">create this beautiful scene where I had</span> <span data-start="1477.249" data-end="1479.889">this kind of 3d floor and the caps was</span> <span data-start="1479.889" data-end="1480.7">in the right place and all the</span> <span data-start="1480.7" data-end="1482.32">perspective felt right as well like my</span> <span data-start="1482.32" data-end="1484.57">character wasn't too big for the the</span> <span data-start="1484.57" data-end="1485.98">angle of the camera and so on it looked</span> <span data-start="1485.98" data-end="1487.659">great so I went away with that</span> <span data-start="1487.659" data-end="1490.98">information you know my awesome 3j</span> <span data-start="1490.98" data-end="1496.749">s-seen put it on my mobile phone and the</span> <span data-start="1496.749" data-end="1498.22">frames per second went down about seven</span> <span data-start="1498.22" data-end="1499.779">frames per second everything was like</span> <span data-start="1499.779" data-end="1502.179">the slow-motion ball throwing through</span> <span data-start="1502.179" data-end="1505.029">the air is horribly horribly slow and in</span> <span data-start="1505.029" data-end="1506.559">fact at this point I had two canvases on</span> <span data-start="1506.559" data-end="1507.789">the screen and one video and everything</span> <span data-start="1507.789" data-end="1510.22">was going to complete crap but even with</span> <span data-start="1510.22" data-end="1512.71">one canvas and 30 GS it just wasn't</span> <span data-start="1512.71" data-end="1516.58">quick enough during that initial initial</span> <span data-start="1516.58" data-end="1518.83">test and this is on a nexus 4 as well so</span> <span data-start="1518.83" data-end="1520.95">it's kind of that you know hero product</span> <span data-start="1520.95" data-end="1523.629">so I started looking at the css3</span> <span data-start="1523.629" data-end="1526.96">renderers and but because I'm on an</span> <span data-start="1526.96" data-end="1529.36">experimental browser that says beta on</span> <span data-start="1529.36" data-end="1530.95">it it's not you know it's not gonna be a</span> <span data-start="1530.95" data-end="1532.57">perfect perfectly working browser I</span> <span data-start="1532.57" data-end="1534.82">found that when my floor was in front of</span> <span data-start="1534.82" data-end="1536.679">me completely you know flat it was fine</span> <span data-start="1536.679" data-end="1538.33">but as soon as i filtered it forward</span> <span data-start="1538.33" data-end="1541.44">into a 3d space it was just vanish and</span> <span data-start="1541.44" data-end="1544.929">kind of a problem but then it turned out</span> <span data-start="1544.929" data-end="1546.61">that there was just a bug that had been</span> <span data-start="1546.61" data-end="1549.009">fixed over the weekend at the coming</span> <span data-start="1549.009" data-end="1550.99">weekend i found the issue and it was</span> <span data-start="1550.99" data-end="1554.139">just fixed but i decided not to use a 3d</span> <span data-start="1554.139" data-end="1556.389">render because i had the performance but</span> <span data-start="1556.389" data-end="1560.289">the floor was missing so I found that</span> <span data-start="1560.289" data-end="1561.789">actually the problem was I was rendering</span> <span data-start="1561.789" data-end="1564.34">too much of a canvas constantly honest</span> </p>
<p><span data-start="1564.34" data-end="1566.529">I was doing I was doing my loop to</span> <span data-start="1566.529" data-end="1568.659">redraw the entire thing which includes</span> <span data-start="1568.659" data-end="1570.909">like a big background my character the</span> <span data-start="1570.909" data-end="1573.64">ball and so on so I basically create 22</span> <span data-start="1573.64" data-end="1576.789">views one was for the static background</span> <span data-start="1576.789" data-end="1578.95">that got rendered once or every now and</span> <span data-start="1578.95" data-end="1580.15">then but I needed to update the</span> <span data-start="1580.15" data-end="1582.039">background and in one separate canvas</span> <span data-start="1582.039" data-end="1583.659">that it as little as possible which is</span> <span data-start="1583.659" data-end="1585.13">basic the ball that bounces down and</span> <span data-start="1585.13" data-end="1588.52">throws towards the face and I found that</span> <span data-start="1588.52" data-end="1591.22">putting two videos and a canvas on a</span> <span data-start="1591.22" data-end="1592.9">mobile phone is probably a little too</span> <span data-start="1592.9" data-end="1594.669">much with all the streams going on and</span> <span data-start="1594.669" data-end="1597.25">when I had two videos the frame rates</span> <span data-start="1597.25" data-end="1598.51">weren't right down I've got rid of one</span> <span data-start="1598.51" data-end="1600.159">of the videos because I have the local</span> <span data-start="1600.159" data-end="1602.11">video in there for some reason no just</span> <span data-start="1602.11" data-end="1603.97">no good reason just it happened to be in</span> <span data-start="1603.97" data-end="1606.49">the Dom took that out and my frameworks</span> <span data-start="1606.49" data-end="1608.409">rates went back up to I think actually</span> </p>
<p><span data-start="1608.409" data-end="1611.5">I've about 50 frames per second on Nexus</span> <span data-start="1611.5" data-end="1614.02">4 which is which is pretty good the</span> <span data-start="1614.02" data-end="1615.37">nexus 7 on the other hand is a little</span> <span data-start="1615.37" data-end="1618.63">bit not as not as strong on the</span> <span data-start="1618.63" data-end="1621.97">performance side and but I had a lot of</span> <span data-start="1621.97" data-end="1625">this praying like hacking around with 30</span> <span data-start="1625" data-end="1628.33">Jess and and all the real-time stuff</span> <span data-start="1628.33" data-end="1629.71">going on at the same time and my</span> <span data-start="1629.71" data-end="1633.399">rendering I would basically get this i</span> <span data-start="1633.399" data-end="1635.289">just changed something and yeah at work</span> <span data-start="1635.289" data-end="1638.679">and once I good at that I just move on</span> <span data-start="1638.679" data-end="1639.909">that's quite happy for me I've got</span> <span data-start="1639.909" data-end="1642.63">deadlines to work too so I kept going</span> <span data-start="1642.63" data-end="1645.1">some useful really useful tips i got</span> <span data-start="1645.1" data-end="1646.72">have stabbed actually was to create</span> <span data-start="1646.72" data-end="1648.52">meshes to understand what's going to</span> <span data-start="1648.52" data-end="1649.659">collide with something else sofa</span> <span data-start="1649.659" data-end="1652.029">collision detection I had this debug</span> <span data-start="1652.029" data-end="1653.35">view so I could see where the ball was</span> <span data-start="1653.35" data-end="1654.94">going and if the carrots are tilted to</span> <span data-start="1654.94" data-end="1656.95">the left occasionally that face thing</span> <span data-start="1656.95" data-end="1658">we're just kind of launched off to the</span> <span data-start="1658" data-end="1659.799">side and I can see I had a bug in my</span> <span data-start="1659.799" data-end="1661.27">code so it's nice to have a debug view</span> <span data-start="1661.27" data-end="1663.97">for that that 3d part of the game and</span> <span data-start="1663.97" data-end="1665.38">probably the hardest part the entire</span> <span data-start="1665.38" data-end="1668.71">game was taking my mug my face and</span> <span data-start="1668.71" data-end="1670.779">making it appear at the right height and</span> <span data-start="1670.779" data-end="1674.35">width in the 3d space Stephen Whitson's</span> <span data-start="1674.35" data-end="1675.73">who's talking as well try to give me</span> <span data-start="1675.73" data-end="1677.86">some help in projecting that into a 3d</span> <span data-start="1677.86" data-end="1680.08">space there was a lot of ugly code that</span> <span data-start="1680.08" data-end="1681.76">eventually did it and most of it was</span> </p>
<p><span data-start="1681.76" data-end="1684.549">Serb and some some kind of lead from</span> <span data-start="1684.549" data-end="1688.72">Stephen as well but 3d is not my space I</span> <span data-start="1688.72" data-end="1690.82">was good at the the real-time stuff this</span> <span data-start="1690.82" data-end="1693.82">was really difficult but I managed to</span> <span data-start="1693.82" data-end="1697.48">submit it and it did go live it did end</span> <span data-start="1697.48" data-end="1698.46">up</span> <span data-start="1698.46" data-end="1701.41">being shown at Google i/o as one of the</span> <span data-start="1701.41" data-end="1705.16">experiments but the biggest lessons I</span> <span data-start="1705.16" data-end="1707.05">got from this entire project they</span> <span data-start="1707.05" data-end="1709.21">weren't code base they actually turn our</span> <span data-start="1709.21" data-end="1715.42">will be planning based the the time to</span> <span data-start="1715.42" data-end="1717.25">actually work on such a new technology</span> <span data-start="1717.25" data-end="1718.9">at this point in time there's not that</span> <span data-start="1718.9" data-end="1720.34">much information out there there's some</span> <span data-start="1720.34" data-end="1722.11">good videos but they're very deep dive</span> <span data-start="1722.11" data-end="1726.67">in videos I expect that a change with</span> <span data-start="1726.67" data-end="1730.15">time the google engineers are actually</span> <span data-start="1730.15" data-end="1731.29">really good for all this new technology</span> <span data-start="1731.29" data-end="1733.09">they want developers using this stuff</span> <span data-start="1733.09" data-end="1734.8">and they won't answer questions and give</span> <span data-start="1734.8" data-end="1736.45">you a hand I was really surprised at how</span> <span data-start="1736.45" data-end="1738.76">much help I got it wasn't you know they</span> <span data-start="1738.76" data-end="1740.02">won't write my code for me but they're</span> <span data-start="1740.02" data-end="1742.15">giving me feedback and suggestions Paul</span> </p>
<p><span data-start="1742.15" data-end="1743.65">Kinlan helped me with that the the</span> <span data-start="1743.65" data-end="1745.75">single page app solution he was looking</span> <span data-start="1745.75" data-end="1747.4">at it and he managed to work out where</span> <span data-start="1747.4" data-end="1749.17">it was happening and and and basically</span> <span data-start="1749.17" data-end="1751.12">said I need to move to a single page app</span> <span data-start="1751.12" data-end="1753.99">which was a pain but you know I did it</span> <span data-start="1753.99" data-end="1756.4">and the biggest thing was maybe the</span> <span data-start="1756.4" data-end="1759.43">horse came before the cart like I think</span> <span data-start="1759.43" data-end="1761.2">I focused a lot on the technology and</span> <span data-start="1761.2" data-end="1762.67">didn't really think too much about gains</span> <span data-start="1762.67" data-end="1765.1">mechanic at the game mechanics I'm not</span> <span data-start="1765.1" data-end="1766.45">hundred percent sure if it's a good game</span> <span data-start="1766.45" data-end="1769.6">like I could have quite easily tested</span> <span data-start="1769.6" data-end="1770.92">the game without any of the technology</span> <span data-start="1770.92" data-end="1773.11">but I focused on that tech and now I</span> <span data-start="1773.11" data-end="1775.78">have a game is playable and it's cool as</span> <span data-start="1775.78" data-end="1777.7">a demo but whether it's like one of</span> <span data-start="1777.7" data-end="1782.99">those addictive games I'm not sure I</span> <span data-start="1783" data-end="1785.5">really would love to say WebRTC is</span> <span data-start="1785.5" data-end="1787.36">really ready for prime time I don't</span> <span data-start="1787.36" data-end="1789.76">think it's quite there yet for</span> <span data-start="1789.76" data-end="1791.59">developers and the bottom it does say</span> <span data-start="1791.59" data-end="1793.09">check the expiry date like that's going</span> <span data-start="1793.09" data-end="1795.61">to change quickly and I'm pretty certain</span> <span data-start="1795.61" data-end="1797.35">in 12 months time we will be a place</span> <span data-start="1797.35" data-end="1799.99">where we can quite happily use WebRTC in</span> <span data-start="1799.99" data-end="1802.03">big projects and we're going to see it</span> <span data-start="1802.03" data-end="1803.98">in a lot more I'm confident we'll see it</span> <span data-start="1803.98" data-end="1806.59">a lot more places the resources will</span> <span data-start="1806.59" data-end="1808.83">there be more tutorial with spring casts</span> <span data-start="1808.83" data-end="1814.54">more talks on web RTC and Mobile's</span> <span data-start="1814.54" data-end="1817.3">looking pretty pretty good microsoft</span> <span data-start="1817.3" data-end="1819.07">support i have no clue what's going on</span> <span data-start="1819.07" data-end="1820.15">there so i don't know what</span> <span data-start="1820.15" data-end="1823.11">interoperability to going to look like</span> <span data-start="1823.11" data-end="1828.38">but it works so you know yay us</span> <span data-start="1828.38" data-end="1831.05">and I wanted a hit on a high note so</span> <span data-start="1831.05" data-end="1833.57">that's kind of my way of saying WebRTC</span> <span data-start="1833.57" data-end="1835.01">is actually pretty cool to play with but</span> <span data-start="1835.01" data-end="1837.77">it's maybe kind of a playground at the</span> <span data-start="1837.77" data-end="1841.19">moment there is code and all the source</span> <span data-start="1841.19" data-end="1842.45">code is online so you can kind of help</span> <span data-start="1842.45" data-end="1845.18">yourself don't judge me too much when</span> <span data-start="1845.18" data-end="1846.8">you're kind of like what what really</span> <span data-start="1846.8" data-end="1848.36">what where the comments that kind of</span> <span data-start="1848.36" data-end="1851.59">thing there are tests that coming and</span> <span data-start="1851.59" data-end="1853.94">but it's it's all online you can have a</span> <span data-start="1853.94" data-end="1856.61">play I don't think I've got time for</span> <span data-start="1856.61" data-end="1859.01">questions but you can kind of ask me</span> <span data-start="1859.01" data-end="1860.42">anything later on I'm sure I'll have a</span> <span data-start="1860.42" data-end="1863.21">beer in my hand at some point Ilana so</span> <span data-start="1863.21" data-end="1865.1">with that I think my times up and thanks</span> <span data-start="1865.1" data-end="1879.66">listening</span> </p>
</section>

<!-- div#container ends -->
</div>

<img alt="The End" id="fin" src="../images/fin.jpg">

<script>
/*eslint-disable */
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google-translate');
}
/* eslint-enable */
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="../js/main.js"></script>

</body>

</html>
