<!DOCTYPE html>

<!--
Copyright 2019 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="//google.com">
  <meta name="description" content="JSConf transcript">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>eWIwQFqjVxU</title>
  <link rel="stylesheet" href="../css/main.css">
</head>

<body>

<iframe id="youtube" src="https://www.youtube.com/embed/eWIwQFqjVxU?enablejsapi=1"></iframe>

<div id="container">

<div id="options">
  <div id="google-translate"></div>
  <div>
    <input type="checkbox" id="videoSticky" checked>
    <label for="videoSticky">Video position sticky</label>
  </div>
  <div>
    <input type="checkbox" id="captionScroll" checked>
    <label for="captionScroll">Keep current caption visible</label>
  </div>
</div>

<section>
<p><span data-start="16.99" data-end="19.31">hola amigos welcome back from lunch i</span> <span data-start="19.31" data-end="21.17">hope you enjoyed it I did it was great I</span> <span data-start="21.17" data-end="24.47">am well you know who I am my name's on</span> <span data-start="24.47" data-end="25.7">the thing and everything but it's my</span> <span data-start="25.7" data-end="27.26">first time in Argentina my first time in</span> <span data-start="27.26" data-end="28.82">Latin America I could not have been more</span> <span data-start="28.82" data-end="31.97">welcome than I am right now it was also</span> <span data-start="31.97" data-end="34.52">my birthday four days ago so can i get</span> <span data-start="34.52" data-end="36.97">affiliate companies</span> <span data-start="36.97" data-end="48.039">[Applause]</span> <span data-start="48.039" data-end="54.17">buzzer buzzer that's great so let's talk</span> <span data-start="54.17" data-end="57.05">about how we build messenger calm if you</span> <span data-start="57.05" data-end="59.659">don't know messenger calm is a full page</span> <span data-start="59.659" data-end="62.12">react application on which you can send</span> <span data-start="62.12" data-end="64.159">and receive facebook messenger messages</span> <span data-start="64.159" data-end="67.369">or we had a lot of fun building it but</span> <span data-start="67.369" data-end="69.38">why would we even build such a thing</span> <span data-start="69.38" data-end="70.58">when there's already a perfectly</span> <span data-start="70.58" data-end="73.13">functioning chat interface on facebook</span> <span data-start="73.13" data-end="75.95">com well the initial personally stated</span> <span data-start="75.95" data-end="78.289">many reasons oh it's a full page</span> <span data-start="78.289" data-end="80.479">application reno meant for chat it's</span> <span data-start="80.479" data-end="82.7">distraction-free it's great but there's</span> <span data-start="82.7" data-end="84.08">also something that happened after we</span> <span data-start="84.08" data-end="86.03">launched that we didn't think about you</span> <span data-start="86.03" data-end="88.52">see a lot of big companies block access</span> <span data-start="88.52" data-end="90.259">to facebook com on their corporate</span> <span data-start="90.259" data-end="91.94">networks because they want people to be</span> <span data-start="91.94" data-end="94.729">productive i suppose but they don't</span> <span data-start="94.729" data-end="96.44">block access to messenger com so people</span> <span data-start="96.44" data-end="101.509">are free to chat even at work but before</span> <span data-start="101.509" data-end="103.25">we get into messenger com we should talk</span> <span data-start="103.25" data-end="105.319">about how we front end at facebook and i</span> <span data-start="105.319" data-end="106.52">really believe we should start using</span> <span data-start="106.52" data-end="109.009">front end as a verb it's hard to talk</span> <span data-start="109.009" data-end="112.43">about things otherwise but we fronted a</span> <span data-start="112.43" data-end="113.539">facebook like any other company</span> <span data-start="113.539" data-end="116.06">basically we use modules it's a very</span> <span data-start="116.06" data-end="118.31">simple paradigm it's a proven paradigm</span> <span data-start="118.31" data-end="120.92">it works well if you're not using</span> <span data-start="120.92" data-end="122.63">modules I really urge you to think about</span> <span data-start="122.63" data-end="124.7">maybe incorporating modules in your</span> <span data-start="124.7" data-end="127.429">workflow and modules are supposed to be</span> <span data-start="127.429" data-end="128.929">simple and simple to use simple to</span> <span data-start="128.929" data-end="130.82">implement to create a modulated Facebook</span> <span data-start="130.82" data-end="132.859">it's very very simple you open up a file</span> <span data-start="132.859" data-end="135.41">you give it a nice name messenger food</span> <span data-start="135.41" data-end="138.44">at CSS and you add this doc block this</span> <span data-start="138.44" data-end="140.989">doc book as it obviously says provides</span> <span data-start="140.989" data-end="142.91">the module messenger foo it's not a very</span> <span data-start="142.91" data-end="144.23">useful module right now because it does</span> <span data-start="144.23" data-end="148.1">nothing so let's add one rule to it the</span> <span data-start="148.1" data-end="149.299">quick of you my already notice that</span> <span data-start="149.299" data-end="150.44">there's something weird over there</span> <span data-start="150.44" data-end="152.63">there's a slash but that's that's our</span> <span data-start="152.63" data-end="155.54">syntax for rules we use the module name</span> <span data-start="155.54" data-end="157.04">and then use what the rule name actually</span> <span data-start="157.04" data-end="161">is ah that makes sense because you can't</span> <span data-start="161" data-end="163.76">change rules from other modules right</span> <span data-start="163.76" data-end="166.389">this is encapsulation that we provide</span> <span data-start="166.389" data-end="168.59">why would you ever want to do this I</span> <span data-start="168.59" data-end="170.38">will sometimes you do because</span> <span data-start="170.38" data-end="173.2">composition is a thing so we do provide</span> <span data-start="173.2" data-end="176.75">public classes and you use public</span> <span data-start="176.75" data-end="178.7">classes to style other rules that are</span> <span data-start="178.7" data-end="180.44">explicitly stated as this can</span> <span data-start="180.44" data-end="182">be changed by a thing that encapsulates</span> <span data-start="182" data-end="185.54">me but this is also bad why would you</span> <span data-start="185.54" data-end="187.07">always want to change a rule from</span> <span data-start="187.07" data-end="189.59">another module this will fail you can't</span> <span data-start="189.59" data-end="190.46">commit this you can't register</span> <span data-start="190.46" data-end="192.53">production you have to combine it with</span> <span data-start="192.53" data-end="194.96">your own classes very simple rules very</span> <span data-start="194.96" data-end="197.12">simple encapsulation this is how we do</span> </p>
<p><span data-start="197.12" data-end="199.07">CSS modules at Facebook and we find that</span> <span data-start="199.07" data-end="201.5">it works pretty well but this is all you</span> <span data-start="201.5" data-end="203.6">need just one rule is all you need to</span> <span data-start="203.6" data-end="205.31">have an actual module that you are free</span> <span data-start="205.31" data-end="209.06">to use inside say react this is a simple</span> <span data-start="209.06" data-end="211.73">example react component as you can say</span> <span data-start="211.73" data-end="214.49">whether provides module degradation we</span> <span data-start="214.49" data-end="216.59">also have a flow decoration over there</span> <span data-start="216.59" data-end="219.89">in the dark block I strongly suggest you</span> <span data-start="219.89" data-end="222.23">to strongly type your javascript files</span> <span data-start="222.23" data-end="224.57">it may seem like a lot of effort to do</span> <span data-start="224.57" data-end="227.96">up front but it really pays off in the</span> <span data-start="227.96" data-end="229.79">long term it catches bugs before they</span> <span data-start="229.79" data-end="233.45">even run in your browser but yes that's</span> <span data-start="233.45" data-end="235.46">how you use the class name you just you</span> <span data-start="235.46" data-end="236.66">know put the class name in the class</span> <span data-start="236.66" data-end="238.82">name and you're done or you can do more</span> <span data-start="238.82" data-end="242">fancy things like give it a hash a map</span> <span data-start="242" data-end="245.63">where the value is whether to use the</span> <span data-start="245.63" data-end="249.73">key to which it belongs right ah and</span> <span data-start="249.73" data-end="251.48">some of you might have noticed that</span> <span data-start="251.48" data-end="253.37">little thing the CX that's always there</span> <span data-start="253.37" data-end="257.12">and indeed CX is always there CX is our</span> <span data-start="257.12" data-end="259.85">class transform function it takes in</span> <span data-start="259.85" data-end="262.15">classes and gives in strings right and</span> <span data-start="262.15" data-end="264.77">it's always there we always use this to</span> <span data-start="264.77" data-end="266.6">add a class name to an element and</span> <span data-start="266.6" data-end="269.18">because it's always there we can do some</span> <span data-start="269.18" data-end="271.93">fancy things at our build step our</span> <span data-start="271.93" data-end="275.06">scripts will run over all our code and</span> <span data-start="275.06" data-end="277.46">look for CX instances and look at the</span> <span data-start="277.46" data-end="279.74">class names and by looking at the class</span> <span data-start="279.74" data-end="282.53">names from those modules we know which</span> <span data-start="282.53" data-end="284.75">files we need all right so static</span> <span data-start="284.75" data-end="286.85">analysis we know which files will be</span> <span data-start="286.85" data-end="289.19">required by this JavaScript module so we</span> <span data-start="289.19" data-end="291.8">load them up and ship them automatically</span> </p>
<p><span data-start="291.8" data-end="293.87">I've been at Facebook for about two</span> <span data-start="293.87" data-end="297.23">years now and I have not once manually</span> <span data-start="297.23" data-end="300.11">written a link tag or a style import tag</span> <span data-start="300.11" data-end="301.91">everything is done automatically and</span> <span data-start="301.91" data-end="303.5">this saves you of headache because you</span> <span data-start="303.5" data-end="308.3">never forget to include your styles so</span> <span data-start="308.3" data-end="310.61">we optimize a lot for the two most this</span> <span data-start="310.61" data-end="312.95">is one example where we automatically</span> <span data-start="312.95" data-end="313.58">bundle your</span> <span data-start="313.58" data-end="316.4">ESS for you and what I mean with the two</span> <span data-start="316.4" data-end="318.289">modes of software is not that you read</span> <span data-start="318.289" data-end="321.86">code more than you write code I mean the</span> <span data-start="321.86" data-end="324.439">human mode and the the Machine mode and</span> <span data-start="324.439" data-end="325.939">they're pretty different right as a</span> <span data-start="325.939" data-end="328.219">human being I want you only have to</span> <span data-start="328.219" data-end="330.469">write transform and I want something to</span> <span data-start="330.469" data-end="332.689">magically do all this for me I'm sure</span> <span data-start="332.689" data-end="334.52">everybody feels the same way all right</span> <span data-start="334.52" data-end="336.5">so obviously we have tools like this in</span> <span data-start="336.5" data-end="339.409">place we also do we also go one step</span> <span data-start="339.409" data-end="341.33">further and we optimized for machines as</span> <span data-start="341.33" data-end="344.719">well because if you're using Firefox you</span> <span data-start="344.719" data-end="346.099">don't care about the WebKit and</span> </p>
<p><span data-start="346.099" data-end="347.629">Microsoft transformed you only care</span> <span data-start="347.629" data-end="349.729">about the mass transformed so we do</span> <span data-start="349.729" data-end="350.96">create different versions of style</span> <span data-start="350.96" data-end="352.28">sheets and we ship the appropriate one</span> <span data-start="352.28" data-end="354.05">to your browser so we only ship the</span> <span data-start="354.05" data-end="356.33">bytes that we need the ship now this</span> <span data-start="356.33" data-end="358.129">saves bytes that we need to send down</span> <span data-start="358.129" data-end="360.71">the wire obviously and bites directly</span> <span data-start="360.71" data-end="362.93">translate into energy and we save a lot</span> <span data-start="362.93" data-end="365">of energy so much energy can say from</span> <span data-start="365" data-end="366.68">this every day that we can raise the</span> <span data-start="366.68" data-end="368.27">temperature of the entire board Osiris</span> </p>
<p><span data-start="368.27" data-end="370.43">City to California levels in its winter</span> <span data-start="370.43" data-end="374.84">for like a whole year but this is not</span> <span data-start="374.84" data-end="376.789">the only thing we do the next thing I'm</span> <span data-start="376.789" data-end="378.08">going to talk about is a pet peeve of</span> <span data-start="378.08" data-end="380.599">mine I really hate this but I have to</span> <span data-start="380.599" data-end="383.27">talk about it so it doesn't matter if</span> <span data-start="383.27" data-end="385.729">something is zero pixels or zero percent</span> <span data-start="385.729" data-end="388.849">or zero elephants from the right it's</span> <span data-start="388.849" data-end="392.029">still on the right the unit is</span> <span data-start="392.029" data-end="393.949">superfluous there we shouldn't add it</span> <span data-start="393.949" data-end="397.49">ever so we remove it automatically you</span> <span data-start="397.49" data-end="398.69">might want to add it because that's how</span> <span data-start="398.69" data-end="400.58">you want to write code but that's not</span> <span data-start="400.58" data-end="402.229">what we ship to the client we ship what</span> <span data-start="402.229" data-end="404.779">we need to ship that also saves bites</span> <span data-start="404.779" data-end="407.719">and remember bites save energy energy is</span> <span data-start="407.719" data-end="411.11">important the easiest way to save bites</span> <span data-start="411.11" data-end="413.839">and energy and file size in general is</span> <span data-start="413.839" data-end="416.779">to change the class names right to munge</span> <span data-start="416.779" data-end="420.8">your names human and machine work in</span> <span data-start="420.8" data-end="422.629">different modes as a human I need this</span> <span data-start="422.629" data-end="424.729">this tells me a story just tells me as</span> <span data-start="424.729" data-end="426.469">the title rule from the messenger foo</span> <span data-start="426.469" data-end="428.96">module a machine doesn't care a machine</span> <span data-start="428.96" data-end="430.639">needs a unique string that's all it</span> <span data-start="430.639" data-end="432.83">needs so we do this as well at our bill</span> <span data-start="432.83" data-end="434.3">stepp if we transform everything from</span> <span data-start="434.3" data-end="435.62">something this is humanly readable to</span> <span data-start="435.62" data-end="436.94">something that's not really human</span> <span data-start="436.94" data-end="440.229">readable so back to our initial</span> </p>
<p><span data-start="440.229" data-end="443.089">JavaScript example where we use this at</span> <span data-start="443.089" data-end="447.08">runtime CX says yes use both classes but</span> <span data-start="447.08" data-end="447.83">these classes ever</span> <span data-start="447.83" data-end="449.63">been transformed at bill step into</span> <span data-start="449.63" data-end="451.58">something very very short and it is a</span> <span data-start="451.58" data-end="453.68">lot simpler than what we had we would</span> <span data-start="453.68" data-end="456.37">have had to ship down originally and</span> <span data-start="456.37" data-end="458.99">this is where most people stop with</span> <span data-start="458.99" data-end="463.25">their optimizations we go a bit forward</span> <span data-start="463.25" data-end="465.44">so there's one more thing you can do and</span> <span data-start="465.44" data-end="468.44">we use packager for it packager does</span> <span data-start="468.44" data-end="471.47">what it sounds like it does it looks at</span> <span data-start="471.47" data-end="473.93">how we use code how we load our modules</span> <span data-start="473.93" data-end="476.9">right we oh we always load these two</span> <span data-start="476.9" data-end="478.73">files together apparently when we</span> <span data-start="478.73" data-end="480.62">require the javascript file we</span> <span data-start="480.62" data-end="482.39">apparently also always load these two</span> </p>
<p><span data-start="482.39" data-end="485.78">CSS files packager will analyze how</span> <span data-start="485.78" data-end="487.91">these are loaded and will transform</span> <span data-start="487.91" data-end="490.3">these two files into just one file</span> <span data-start="490.3" data-end="493.64">that's saving one network request never</span> <span data-start="493.64" data-end="495.86">request you know saves bytes saves</span> <span data-start="495.86" data-end="498.64">energy all that stuff it's very good and</span> <span data-start="498.64" data-end="501.17">of course you know this is an example of</span> <span data-start="501.17" data-end="503.87">package name the randomly generated by</span> <span data-start="503.87" data-end="506.78">machines so sometimes machines randomly</span> <span data-start="506.78" data-end="509.45">generate bad things some of you ready</span> <span data-start="509.45" data-end="510.83">see the problem this was an actual</span> <span data-start="510.83" data-end="512.81">package name that was generated some</span> <span data-start="512.81" data-end="516.2">time ago and ad blockers went crazy that</span> <span data-start="516.2" data-end="517.79">day they thought this was an ad when in</span> <span data-start="517.79" data-end="521">fact this was a very crucial JavaScript</span> <span data-start="521" data-end="526.21">for chat to work it was a fun day and</span> <span data-start="526.21" data-end="529.34">and even here I got asked a lot or</span> <span data-start="529.34" data-end="532.4">whether we prefer SAS or less or stylus</span> <span data-start="532.4" data-end="534.71">or what do we use and what we use</span> <span data-start="534.71" data-end="538.34">neither of course we believe that anyone</span> <span data-start="538.34" data-end="539.93">should be able to use Facebook but we</span> <span data-start="539.93" data-end="542.09">also believe that if you have the skills</span> <span data-start="542.09" data-end="544.37">that are required to build a basic web</span> <span data-start="544.37" data-end="547.37">app HTML and CSS in some JavaScript</span> <span data-start="547.37" data-end="549.8">that's all you need to be able to work</span> <span data-start="549.8" data-end="552.53">at Facebook so we don't use last or less</span> <span data-start="552.53" data-end="555.77">or SAS so that we don't you know stop</span> <span data-start="555.77" data-end="557.15">people from flying to Facebook or</span> <span data-start="557.15" data-end="558.47">joining face began being productive on</span> <span data-start="558.47" data-end="561.35">their first day nonetheless we do</span> <span data-start="561.35" data-end="563.27">realize their value because they are</span> <span data-start="563.27" data-end="565.04">extremely helpful and powerful all the</span> <span data-start="565.04" data-end="567.02">preprocessors so we do kind of have our</span> <span data-start="567.02" data-end="569.03">own things on the side one of them would</span> <span data-start="569.03" data-end="571.97">be our CSS constants which is our</span> <span data-start="571.97" data-end="574.34">implementation of the you know CSS</span> <span data-start="574.34" data-end="577.82">variables obviously you use CSS constant</span> <span data-start="577.82" data-end="579.98">with the VAR keyword but that's a</span> <span data-start="579.98" data-end="581.329">discussion for another time</span> <span data-start="581.329" data-end="584.149">so I hope that now you maybe have an</span> <span data-start="584.149" data-end="586.999">idea of how things happen at Facebook</span> <span data-start="586.999" data-end="588.35">and how they get in you know from my</span> <span data-start="588.35" data-end="590.899">hands into your browser so let's talk</span> <span data-start="590.899" data-end="593.54">about my future before we talk about</span> <span data-start="593.54" data-end="597.439">messenger we need to talk about how chat</span> <span data-start="597.439" data-end="602.059">got rewritten in 2011-2012 the whole of</span> <span data-start="602.059" data-end="603.769">child was rewritten from the ground up</span> <span data-start="603.769" data-end="606.92">and the people who did this back then</span> <span data-start="606.92" data-end="609.11">had this wonderful idea to create these</span> <span data-start="609.11" data-end="611.689">style agnostic components they would not</span> <span data-start="611.689" data-end="613.459">know how to present information but they</span> <span data-start="613.459" data-end="614.899">would know how to get information and</span> <span data-start="614.899" data-end="617.329">pass it along to another component the</span> <span data-start="617.329" data-end="618.559">other component will be a renderer and</span> <span data-start="618.559" data-end="620.54">we call these components containers and</span> <span data-start="620.54" data-end="623.149">that's how a lot of our infrastructure</span> <span data-start="623.149" data-end="625.249">is built container render a container</span> <span data-start="625.249" data-end="628.399">renderer you know something wraps a</span> <span data-start="628.399" data-end="629.689">presenter and that's wrap again in</span> <span data-start="629.689" data-end="630.98">another container that is wrapped in the</span> <span data-start="630.98" data-end="632.42">other presenter and so on it's like a</span> <span data-start="632.42" data-end="634.939">big big rap we call this shawarma driven</span> <span data-start="634.939" data-end="640.309">development it works a simple example</span> <span data-start="640.309" data-end="642.499">say we have a theoretical module that</span> <span data-start="642.499" data-end="644.119">lists recent conversations that you've</span> <span data-start="644.119" data-end="646.699">had it would call into the style</span> <span data-start="646.699" data-end="648.439">agnostic components hey I want</span> <span data-start="648.439" data-end="651.169">conversations this is your presenter the</span> <span data-start="651.169" data-end="652.459">component that knows how to render them</span> <span data-start="652.459" data-end="655.309">an optional class name for some styling</span> <span data-start="655.309" data-end="657.86">hooks and inside that component it just</span> <span data-start="657.86" data-end="660.139">says yeah sure I got the threads and it</span> <span data-start="660.139" data-end="661.369">passes them down to the component it</span> <span data-start="661.369" data-end="662.839">doesn't know what the what the renderer</span> <span data-start="662.839" data-end="664.369">is why they will do with them and</span> <span data-start="664.369" data-end="667.16">doesn't care and again the shawarma wrap</span> <span data-start="667.16" data-end="668.689">goes deeper and deeper container</span> <span data-start="668.689" data-end="672.11">renderer container renderer so because</span> <span data-start="672.11" data-end="673.879">we were able to reuse most of the</span> <span data-start="673.879" data-end="676.489">infrastructure from facebook com we</span> <span data-start="676.489" data-end="679.309">could focus on you know CSS a lot more</span> <span data-start="679.309" data-end="681.889">which is great and the first thing we</span> <span data-start="681.889" data-end="683.929">decided was we don't want to pull the</span> <span data-start="683.929" data-end="686.54">old browsers facebook com different</span> <span data-start="686.54" data-end="688.04">story right we believe everyone should</span> <span data-start="688.04" data-end="689.959">be able to use facebook regardless of</span> <span data-start="689.959" data-end="691.759">their device and there is capabilities</span> <span data-start="691.759" data-end="694.73">but messenger calm was a new product and</span> <span data-start="694.73" data-end="696.86">by definition there was a niche product</span> <span data-start="696.86" data-end="698.559">so we didn't need this all-encompassing</span> <span data-start="698.559" data-end="702.23">support dropping support for all the</span> <span data-start="702.23" data-end="704.839">browsers meant we could use new CSS</span> <span data-start="704.839" data-end="708.339">stuff like transforms but mostly flexbox</span> <span data-start="708.339" data-end="710.329">initially you know we wanted something</span> <span data-start="710.329" data-end="712.939">that has a simple clean three-column</span> <span data-start="712.939" data-end="714.86">layout and we implemented using</span> </p>
<p><span data-start="714.86" data-end="718.7">Xbox and mmm it didn't really work too</span> <span data-start="718.7" data-end="720.68">well the first time because you know</span> <span data-start="720.68" data-end="722.81">flexbox has had about three different</span> <span data-start="722.81" data-end="724.37">types of implementation and they've all</span> <span data-start="724.37" data-end="727.07">had different stages of evolution and we</span> <span data-start="727.07" data-end="728.69">wrote our static transform rules the</span> <span data-start="728.69" data-end="730.19">things you know analyze our code and</span> <span data-start="730.19" data-end="732.71">ship you know change it to be production</span> <span data-start="732.71" data-end="734.72">ready at various stages of that</span> <span data-start="734.72" data-end="736.43">evolution so sometimes we had</span> <span data-start="736.43" data-end="738.68">conflicting rules we would export very</span> <span data-start="738.68" data-end="740.66">bad things to Safari or very bad things</span> <span data-start="740.66" data-end="743.93">to Microsoft but after we fixed them and</span> <span data-start="743.93" data-end="746.6">revamp the whole way we've powers</span> <span data-start="746.6" data-end="749.24">flexbox rules we finally had a nice</span> <span data-start="749.24" data-end="751.43">looking thing we think it's nice-looking</span> </p>
<p><span data-start="751.43" data-end="754.91">I hope you agree so we had we had layout</span> <span data-start="754.91" data-end="757.57">out of the way we got right pretty early</span> <span data-start="757.57" data-end="759.68">but we weren't out of the woods because</span> <span data-start="759.68" data-end="762.05">bad things just happen to people you</span> <span data-start="762.05" data-end="766.05">know can you tell what's wrong with this</span> <span data-start="766.06" data-end="769.64">let me let me make it bigger so</span> <span data-start="769.64" data-end="771.23">obviously the comma is jumping and it</span> <span data-start="771.23" data-end="773.66">shouldn't why with a comma jump and in</span> <span data-start="773.66" data-end="776.36">right-to-left languages as you're typing</span> <span data-start="776.36" data-end="778.07">and you want to add a common type comma</span> <span data-start="778.07" data-end="781.43">space as you do sometimes the comma will</span> <span data-start="781.43" data-end="783.59">flip it space is placed with the space</span> <span data-start="783.59" data-end="788.21">and we had no idea why turns out it was</span> <span data-start="788.21" data-end="790.54">because we were using one fun definition</span> <span data-start="790.54" data-end="792.74">messenger calm is a web app like many</span> <span data-start="792.74" data-end="794.75">web apps we have one font family itself</span> <span data-start="794.75" data-end="796.34">on stack and we use it everywhere right</span> <span data-start="796.34" data-end="798.65">everything inherited we were happy we</span> <span data-start="798.65" data-end="800.15">were using helvetica neue which</span> <span data-start="800.15" data-end="802.04">apparently has this problem if you're</span> <span data-start="802.04" data-end="804.14">using a right-to-left locale and you're</span> <span data-start="804.14" data-end="806.18">typing sometimes it will decide to</span> <span data-start="806.18" data-end="808.31">magically switch the comma in the space</span> <span data-start="808.31" data-end="810.65">it is a very poor experience for people</span> <span data-start="810.65" data-end="813.68">who have to type in right to left so we</span> <span data-start="813.68" data-end="815.72">don't have just one fun definition for</span> <span data-start="815.72" data-end="817.07">people who are typing in right-to-left</span> <span data-start="817.07" data-end="820.34">we use aerial which is the fallback</span> <span data-start="820.34" data-end="823.31">phone for facebook on as well and I hear</span> <span data-start="823.31" data-end="825.77">the gasps and people are going re oh yes</span> <span data-start="825.77" data-end="827.69">re oh the boring old re oh but the</span> <span data-start="827.69" data-end="829.64">battle-tested Ariel has been around for</span> <span data-start="829.64" data-end="832.07">ages it's had its kinks wire and ironed</span> <span data-start="832.07" data-end="835.22">out down any problems like that I with</span> </p>
<p><span data-start="835.22" data-end="837.65">REO it might be boring but it also works</span> <span data-start="837.65" data-end="840.56">well another thing we were doing wrong</span> <span data-start="840.56" data-end="843.44">is we wanted using pixels facebook.com</span> <span data-start="843.44" data-end="846.05">uses pixels because it has many</span> <span data-start="846.05" data-end="848.499">components right messenger com is</span> <span data-start="848.499" data-end="850.869">a full page application we shouldn't use</span> <span data-start="850.869" data-end="852.759">pixels it would be hard to use because</span> <span data-start="852.759" data-end="854.919">we need to use percentage based</span> <span data-start="854.919" data-end="857.979">everything mostly about most of the</span> <span data-start="857.979" data-end="859.839">components that were for layout or were</span> <span data-start="859.839" data-end="862.029">for positioning some things required</span> <span data-start="862.029" data-end="865.649">pixels so we need to re-implement them</span> <span data-start="865.649" data-end="868.809">not only that but we need to be able to</span> <span data-start="868.809" data-end="870.429">accurately represent when you send one</span> <span data-start="870.429" data-end="873.549">photo of shawarma or two or three or so</span> <span data-start="873.549" data-end="877.089">on in short we need to be responsive in</span> <span data-start="877.089" data-end="878.979">a lot of ways and you can be responsive</span> <span data-start="878.979" data-end="880.539">in a lot of ways not only by changing</span> <span data-start="880.539" data-end="882.099">you know from pixels to percentage based</span> <span data-start="882.099" data-end="885.519">but from providing a better canvas to</span> <span data-start="885.519" data-end="890.319">your viewers on the data we launched we</span> <span data-start="890.319" data-end="891.939">got featured on good products as you do</span> <span data-start="891.939" data-end="894.819">and one person spent I don't know how</span> <span data-start="894.819" data-end="896.919">long doing exactly that just resizing</span> <span data-start="896.919" data-end="898.719">the browser back and forth taking notes</span> <span data-start="898.719" data-end="901.029">and when we hide or show the right hand</span> <span data-start="901.029" data-end="903.279">column and you made this an amazing</span> <span data-start="903.279" data-end="905.439">review about how much thought and effort</span> <span data-start="905.439" data-end="909.519">we put into this and this may be cool</span> <span data-start="909.519" data-end="911.709">but it's also very in-your-face it's a</span> <span data-start="911.709" data-end="913.359">very big change when you don't have</span> <span data-start="913.359" data-end="915.789">enough room we'll take that away so that</span> <span data-start="915.789" data-end="916.809">you have enough room to view the</span> <span data-start="916.809" data-end="918.759">conversation properly that's very</span> <span data-start="918.759" data-end="920.589">obvious but you can be responsive on a</span> <span data-start="920.589" data-end="924.309">much smaller scale to messenger calm is</span> <span data-start="924.309" data-end="925.899">a messenger app therefore it looks like</span> <span data-start="925.899" data-end="928.539">your messenger app on your phone so</span> <span data-start="928.539" data-end="930.879">titles are centered I but if the title</span> <span data-start="930.879" data-end="933.879">is long and the space gets short it's</span> <span data-start="933.879" data-end="937.209">really hard to truncate you know Center</span> <span data-start="937.209" data-end="939.669">aligned text if you have an icon on one</span> <span data-start="939.669" data-end="944.199">side of it it is not fun and CSS alone</span> <span data-start="944.199" data-end="946.299">couldn't really help us here maybe</span> <span data-start="946.299" data-end="949.689">element query if we ever get it so</span> <span data-start="949.689" data-end="951.789">instead of using a CSS only solution</span> <span data-start="951.789" data-end="953.889">which wouldn't have really worked we</span> <span data-start="953.889" data-end="955.899">measure the sizes in JavaScript and if</span> <span data-start="955.899" data-end="957.339">we detect that there is going to be an</span> <span data-start="957.339" data-end="959.589">overflow we flush the text to the left</span> <span data-start="959.589" data-end="961.149">and we apply to occasion been and it</span> <span data-start="961.149" data-end="965.469">looks okay so it's not a CSS only</span> <span data-start="965.469" data-end="967.599">solution and it doesn't matter having a</span> </p>
<p><span data-start="967.599" data-end="970.269">CSS only solution does nothing except be</span> <span data-start="970.269" data-end="973.209">of CSS only solution no one cares the</span> <span data-start="973.209" data-end="974.439">people who use your application won't</span> <span data-start="974.439" data-end="976.029">care if its CSS only or you use some</span> <span data-start="976.029" data-end="978.309">JavaScript the developers will have to</span> <span data-start="978.309" data-end="980.109">maintain this after you won't care</span> <span data-start="980.109" data-end="982.06">either it's only a bragging Dart</span> <span data-start="982.06" data-end="985.06">isn't that important but I mentioned</span> <span data-start="985.06" data-end="987.22">that messenger calm is a messenger app</span> <span data-start="987.22" data-end="990.97">and well as a messenger app it follows</span> <span data-start="990.97" data-end="993.1">some style guides we have one style</span> <span data-start="993.1" data-end="995.44">guide on Facebook right the design looks</span> <span data-start="995.44" data-end="996.91">cohesive everything looks like it's</span> <span data-start="996.91" data-end="998.83">connected that gets in its right place</span> <span data-start="998.83" data-end="1001.2">because on facebook com everything</span> <span data-start="1001.2" data-end="1004.65">follows do you know what this is say its</span> <span data-start="1004.65" data-end="1008.64">name yes they follow the fig and we have</span> <span data-start="1008.64" data-end="1010.71">a similar style guide from messenger can</span> <span data-start="1010.71" data-end="1015.87">you guess what we call it we call it the</span> </p>
<p><span data-start="1015.87" data-end="1019.88">MiG the messenger interface guide</span> <span data-start="1019.88" data-end="1021.93">obviously fig stands for facebook</span> <span data-start="1021.93" data-end="1026.52">interface guide we built that the</span> <span data-start="1026.52" data-end="1028.14">interface guide around the time we were</span> <span data-start="1028.14" data-end="1030.33">building messenger calm and it wasn't</span> <span data-start="1030.33" data-end="1032.04">just designers who are working on it it</span> <span data-start="1032.04" data-end="1033.72">was everybody involved in the project</span> <span data-start="1033.72" data-end="1036.3">and we found that was a much better</span> <span data-start="1036.3" data-end="1038.49">experience than waiting for designers to</span> <span data-start="1038.49" data-end="1040.62">finalize something this way we have back</span> <span data-start="1040.62" data-end="1041.97">and forth and productive discussions</span> <span data-start="1041.97" data-end="1043.59">about what made sense of what didn't</span> <span data-start="1043.59" data-end="1048.72">make sense so compared it to my facebook</span> <span data-start="1048.72" data-end="1051.3">button messenger button our button looks</span> <span data-start="1051.3" data-end="1053.18">a lot like a link trust me it's a button</span> <span data-start="1053.18" data-end="1054.93">but even though they may look</span> <span data-start="1054.93" data-end="1058.25">differently they still apply that same</span> <span data-start="1058.25" data-end="1060.81">design agnostic component kind of</span> <span data-start="1060.81" data-end="1063.33">concept to them they both wrap an</span> <span data-start="1063.33" data-end="1065.88">abstract button that really knows how to</span> <span data-start="1065.88" data-end="1067.71">be a button oh that's all it does it</span> <span data-start="1067.71" data-end="1069.33">knows how to be a button really really</span> <span data-start="1069.33" data-end="1071.1">well it knows how to beat a bobble it</span> <span data-start="1071.1" data-end="1072.78">knows how to present the right labels</span> <span data-start="1072.78" data-end="1074.22">and also be you know screen reader</span> <span data-start="1074.22" data-end="1076.32">accessible and we just add some starting</span> <span data-start="1076.32" data-end="1078.42">to it and because we were able to reuse</span> <span data-start="1078.42" data-end="1080.22">all of those components on facebook com</span> <span data-start="1080.22" data-end="1082.32">we saved a lot of time but we also got</span> <span data-start="1082.32" data-end="1084.93">accessibility for free I want to take a</span> <span data-start="1084.93" data-end="1087.18">moment to emphasize that it doesn't</span> <span data-start="1087.18" data-end="1088.92">matter how beautiful your product is if</span> <span data-start="1088.92" data-end="1094.23">you can't see it so we got accessibility</span> <span data-start="1094.23" data-end="1095.82">for free and we improve the point where</span> <span data-start="1095.82" data-end="1099.12">we could while maintaining our style</span> <span data-start="1099.12" data-end="1101.07">guide which is great and our struggle</span> <span data-start="1101.07" data-end="1103.8">has constantly evolved because initially</span> <span data-start="1103.8" data-end="1105.9">we always had yes messenger blue and</span> <span data-start="1105.9" data-end="1107.7">everything was messengered blue but as</span> </p>
<p><span data-start="1107.7" data-end="1109.11">I'm sure you know you can now change</span> <span data-start="1109.11" data-end="1111.42">colors and you can have different colors</span> <span data-start="1111.42" data-end="1114.72">and well the day that they started doing</span> <span data-start="1114.72" data-end="1115.5">this on Iowa</span> <span data-start="1115.5" data-end="1117.75">an Android we caught wind of it before</span> <span data-start="1117.75" data-end="1120.42">it was public we saw it and we thought</span> <span data-start="1120.42" data-end="1121.86">yeah that's a cool idea let's let's do</span> <span data-start="1121.86" data-end="1124.13">this to one went yeah let's just do it</span> <span data-start="1124.13" data-end="1126.66">so we wanted to get an internal test</span> <span data-start="1126.66" data-end="1129.69">ready um changing the bubbles was</span> <span data-start="1129.69" data-end="1132.51">actually very simple but the one thing</span> <span data-start="1132.51" data-end="1134.79">that kept is busy the whole day was that</span> <span data-start="1134.79" data-end="1139.02">little thing that little thing used to</span> <span data-start="1139.02" data-end="1142.32">be an image it was just a raster image</span> <span data-start="1142.32" data-end="1145.2">of a thick and we thought okay we can</span> <span data-start="1145.2" data-end="1148.29">change the images to be you know 12</span> <span data-start="1148.29" data-end="1150.45">images as many calls as we have and then</span> <span data-start="1150.45" data-end="1152.16">though that doesn't know I don't want to</span> <span data-start="1152.16" data-end="1154.11">manage 12 images for one icon and then</span> <span data-start="1154.11" data-end="1158.88">have 25 icon no I know how you CSS</span> <span data-start="1158.88" data-end="1161.4">filters great right you have the hero</span> </p>
<p><span data-start="1161.4" data-end="1163.05">Tate when I talked about them you can do</span> <span data-start="1163.05" data-end="1166.71">amazing things with them and this was at</span> <span data-start="1166.71" data-end="1169.02">6pm when I started calling out on</span> <span data-start="1169.02" data-end="1171.15">Twitter for help because CSS filters</span> <span data-start="1171.15" data-end="1173.82">won't really really work you can't</span> <span data-start="1173.82" data-end="1176.37">predictably change one color to another</span> <span data-start="1176.37" data-end="1178.44">if you know both the car you for me</span> <span data-start="1178.44" data-end="1180.03">where you want to get em where you want</span> <span data-start="1180.03" data-end="1183.24">to start from because they use different</span> <span data-start="1183.24" data-end="1185.43">color space is the way you analyze and</span> <span data-start="1185.43" data-end="1186.93">reason about colors and JavaScript will</span> <span data-start="1186.93" data-end="1189.57">be very different than how CSS filters</span> <span data-start="1189.57" data-end="1192">will apply that those transforms and if</span> <span data-start="1192" data-end="1193.26">you want to make sure that you're using</span> <span data-start="1193.26" data-end="1195.39">the same space then the math becomes</span> <span data-start="1195.39" data-end="1199.32">obnoxious and all of that to change one</span> <span data-start="1199.32" data-end="1201.96">icon is not worth it also the typos that</span> <span data-start="1201.96" data-end="1203.67">everyone made that day where sometimes</span> <span data-start="1203.67" data-end="1209.49">awful so in the end in the end we we</span> <span data-start="1209.49" data-end="1211.23">scrape the whole CSS filter thing and</span> <span data-start="1211.23" data-end="1213.12">weary implemented the image using a</span> <span data-start="1213.12" data-end="1216.33">simple live with a border inside of it</span> <span data-start="1216.33" data-end="1218.4">and we're using custom current color to</span> <span data-start="1218.4" data-end="1220.62">change the colors it's a lot easier and</span> <span data-start="1220.62" data-end="1224.19">this leads into my next point d I just</span> <span data-start="1224.19" data-end="1226.62">don't like the image tag I mean it's</span> <span data-start="1226.62" data-end="1229.08">okay for an image but I don't like</span> <span data-start="1229.08" data-end="1230.85">displaying images with the image tag</span> <span data-start="1230.85" data-end="1233.46">because it's just so obtuse I don't like</span> <span data-start="1233.46" data-end="1235.62">it at all remember we need to do this</span> <span data-start="1235.62" data-end="1238.53">and we want this to look nice you want</span> <span data-start="1238.53" data-end="1240">this to look nice as well it's it's</span> <span data-start="1240" data-end="1242.88">better if shawarma looks nice but to do</span> <span data-start="1242.88" data-end="1244.83">this with images you can already start</span> <span data-start="1244.83" data-end="1246.6">to see in your mind what the problems</span> <span data-start="1246.6" data-end="1248.1">would be you have to stretch them they</span> <span data-start="1248.1" data-end="1248.34">look</span> <span data-start="1248.34" data-end="1250.02">horrible you need to crop them how do</span> <span data-start="1250.02" data-end="1251.46">you copy couple on the server what if</span> <span data-start="1251.46" data-end="1254.1">you resize the browser the problems are</span> <span data-start="1254.1" data-end="1256.08">endless so obviously we don't use images</span> <span data-start="1256.08" data-end="1258.419">because if we would then we couldn't do</span> <span data-start="1258.419" data-end="1260.7">this if you send a link and we attack</span> <span data-start="1260.7" data-end="1262.35">the link has an image and we'll take the</span> <span data-start="1262.35" data-end="1264.36">images big enough will display it in</span> <span data-start="1264.36" data-end="1267.21">this wide format firstly if you send a</span> <span data-start="1267.21" data-end="1268.89">link and we detect it has an image but</span> <span data-start="1268.89" data-end="1271.049">the image is pretty small will fall back</span> <span data-start="1271.049" data-end="1274.08">to the compact layout this is the exact</span> <span data-start="1274.08" data-end="1276.21">same component using mostly the same CSS</span> <span data-start="1276.21" data-end="1278.039">rules except for the one that positions</span> <span data-start="1278.039" data-end="1281.61">de image which is not an image because</span> <span data-start="1281.61" data-end="1283.169">you can't do that with an image you can</span> <span data-start="1283.169" data-end="1284.7">do it reliably and it doesn't work and</span> <span data-start="1284.7" data-end="1286.95">cropping well you don't get cropping but</span> <span data-start="1286.95" data-end="1288.179">you do get cropping with background</span> <span data-start="1288.179" data-end="1290.94">position and background size and all you</span> <span data-start="1290.94" data-end="1292.529">need to do is set the URL to what you</span> <span data-start="1292.529" data-end="1294.84">would set the image and then CSS will</span> <span data-start="1294.84" data-end="1299.57">pick up everywhere else doing this</span> <span data-start="1299.57" data-end="1302.669">enabled us do some funny things like add</span> <span data-start="1302.669" data-end="1305.039">maps to our components because they were</span> <span data-start="1305.039" data-end="1307.799">so apparently well separated people were</span> <span data-start="1307.799" data-end="1309.419">able to implement other types of</span> <span data-start="1309.419" data-end="1311.789">attachments not just links but hey yes</span> <span data-start="1311.789" data-end="1313.11">your thing is on the way it will arrive</span> <span data-start="1313.11" data-end="1314.64">there you can Pan the map and all the</span> <span data-start="1314.64" data-end="1318.63">things arm or you know go one step</span> <span data-start="1318.63" data-end="1320.789">further stickers I'm sure you use</span> <span data-start="1320.789" data-end="1322.649">stickers on messenger they're all</span> <span data-start="1322.649" data-end="1324.169">implemented the same way on web and</span> <span data-start="1324.169" data-end="1326.34">payment receipts I don't know if you</span> <span data-start="1326.34" data-end="1328.02">have messenger payments in Argentina do</span> <span data-start="1328.02" data-end="1331.38">you know I'm sorry it's a very cool</span> <span data-start="1331.38" data-end="1334.049">product that we have in America it's</span> <span data-start="1334.049" data-end="1335.82">really really easy to semi to your</span> <span data-start="1335.82" data-end="1339.12">friends but but that was the cool thing</span> <span data-start="1339.12" data-end="1342.12">that they are we like the most yes we</span> <span data-start="1342.12" data-end="1344.46">were the first complex web application</span> <span data-start="1344.46" data-end="1346.169">to live on a domain that's not facebook</span> <span data-start="1346.169" data-end="1348.96">com but use facebook com infrastructure</span> </p>
<p><span data-start="1348.96" data-end="1351.929">Oh what we mostly like with other people</span> <span data-start="1351.929" data-end="1354.36">who then came to build upon our platform</span> <span data-start="1354.36" data-end="1356.309">they said it was a pleasure because our</span> <span data-start="1356.309" data-end="1358.47">components were small rather silly but</span> <span data-start="1358.47" data-end="1360.6">flexible and you could use them in a way</span> <span data-start="1360.6" data-end="1362.539">that always respected the style guide</span> <span data-start="1362.539" data-end="1365.37">and was powerful enough to be able to</span> <span data-start="1365.37" data-end="1366.99">you know compose them into something</span> <span data-start="1366.99" data-end="1370.409">better and by the way even if we don't</span> <span data-start="1370.409" data-end="1373.169">use image tags to display images you</span> <span data-start="1373.169" data-end="1375.899">should still use image tags in the dom</span> <span data-start="1375.899" data-end="1378.69">because a screen reader can reason about</span> <span data-start="1378.69" data-end="1380.7">an image tag it knows what it is it</span> <span data-start="1380.7" data-end="1381.96">knows how to read it out</span> <span data-start="1381.96" data-end="1384.99">you can also right-click and save it so</span> <span data-start="1384.99" data-end="1386.82">over most of the images you see here</span> <span data-start="1386.82" data-end="1388.95">there's actually an invisible image</span> <span data-start="1388.95" data-end="1391.32">element that has the same URL just so</span> <span data-start="1391.32" data-end="1395.309">you can right click and save as and all</span> <span data-start="1395.309" data-end="1396.659">these lessons that we've learned and all</span> <span data-start="1396.659" data-end="1399.169">these problems that we've had to fix</span> <span data-start="1399.169" data-end="1402.21">have you know accumulated in our minds</span> <span data-start="1402.21" data-end="1404.399">and we had a lot of fun building</span> <span data-start="1404.399" data-end="1406.32">messenger calm in a nice clean interface</span> <span data-start="1406.32" data-end="1408.48">everything is a lot flatter it follows</span> <span data-start="1408.48" data-end="1411.45">the messenger style guide and then we</span> <span data-start="1411.45" data-end="1413.64">took a look at from where we started you</span> <span data-start="1413.64" data-end="1415.89">know the big chat rewrite of 2011 2012</span> <span data-start="1415.89" data-end="1419.97">and that was a while ago so applying the</span> <span data-start="1419.97" data-end="1422.25">knowledge that we've gained and the</span> <span data-start="1422.25" data-end="1424.32">designs that the saga that we've matured</span> <span data-start="1424.32" data-end="1426.72">we've also redesigned chat on facebook</span> <span data-start="1426.72" data-end="1434.73">com quite recently so in closing I would</span> <span data-start="1434.73" data-end="1436.2">like you to use messenger com if you're</span> <span data-start="1436.2" data-end="1439.049">not already it makes it very easy to</span> <span data-start="1439.049" data-end="1440.37">talk to your team to talk to your</span> <span data-start="1440.37" data-end="1442.32">friends to talk to anyone it's a</span> <span data-start="1442.32" data-end="1445.26">distraction free environment and let me</span> <span data-start="1445.26" data-end="1446.549">know what you think I am here all day</span> <span data-start="1446.549" data-end="1451.05">and i'm looking forward to talk to you</span> </p>
</section>

<!-- div#container ends -->
</div>

<img alt="The End" id="fin" src="../images/fin.jpg">

<script>
/*eslint-disable */
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google-translate');
}
/* eslint-enable */
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="../js/main.js"></script>

</body>

</html>
