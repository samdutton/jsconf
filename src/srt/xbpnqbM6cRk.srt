1
00:00:19,580 --> 00:00:22,890

hey everyone hope you're enjoying your

2
00:00:22,890 --> 00:00:24,990
time on the island I have so far seen

3
00:00:24,990 --> 00:00:27,420
three lizards I don't know about you

4
00:00:27,420 --> 00:00:30,810
guys but I'm kind of a lizard stalker so

5
00:00:30,810 --> 00:00:33,510
I'm going to start off today with a

6
00:00:33,510 --> 00:00:35,850
horror story and I think that would be a

7
00:00:35,850 --> 00:00:39,059
nice way to start off of everything but

8
00:00:39,059 --> 00:00:40,649
I'll try and have a happy ending at the

9
00:00:40,649 --> 00:00:43,110
end so this is about an experience I had

10
00:00:43,110 --> 00:00:45,780
with Twitter bootstrap while working at

11
00:00:45,780 --> 00:00:50,219
Coursera so first some background I drew

12
00:00:50,219 --> 00:00:53,280
in Coursera about a year ago I have any

13
00:00:53,280 --> 00:00:56,309
of you used Coursera before cool all

14
00:00:56,309 --> 00:00:56,730
right

15
00:00:56,730 --> 00:00:59,820
so Coursera offers these classes online

16
00:00:59,820 --> 00:01:02,160
from universities and we've got a huge

17
00:01:02,160 --> 00:01:04,260
range of classes so we do have you know

18
00:01:04,260 --> 00:01:06,180
the really nerdy classes like machine

19
00:01:06,180 --> 00:01:08,040
learning and probabilistic graphical

20
00:01:08,040 --> 00:01:09,960
models which I still don't know what

21
00:01:09,960 --> 00:01:11,880
they are but then we've got stuff like

22
00:01:11,880 --> 00:01:14,760
the history of rock canine theragen

23
00:01:14,760 --> 00:01:19,590
ology which is how dogs reproduce which

24
00:01:19,590 --> 00:01:20,759
is apparently is really actually

25
00:01:20,759 --> 00:01:23,400
important to people that reproduce dogs

26
00:01:23,400 --> 00:01:26,430
for a living and so we've got a huge

27
00:01:26,430 --> 00:01:29,009
range of courses on this website and so

28
00:01:29,009 --> 00:01:31,470
what I have been working on since I

29
00:01:31,470 --> 00:01:33,240
joined was making it possible for people

30
00:01:33,240 --> 00:01:35,549
to browse courses and take courses and

31
00:01:35,549 --> 00:01:38,180
learn and all that good stuff right so

32
00:01:38,180 --> 00:01:40,560
when I joined Coursera of course I was

33
00:01:40,560 --> 00:01:42,960
curious about how the Coursera stack

34
00:01:42,960 --> 00:01:44,729
worked and what it used behind the

35
00:01:44,729 --> 00:01:50,189
scenes so we had a a modern stack which

36
00:01:50,189 --> 00:01:53,070
was our backbone j/s which was backed by

37
00:01:53,070 --> 00:01:56,070
a python django api but then of course I

38
00:01:56,070 --> 00:01:57,540
discovered we have a legacy code base

39
00:01:57,540 --> 00:01:59,969
and our legacy code base is the code

40
00:01:59,969 --> 00:02:02,310
base that started it all that was the

41
00:02:02,310 --> 00:02:04,110
prototype right because there was some

42
00:02:04,110 --> 00:02:05,700
Stanford professors who said oh I'd

43
00:02:05,700 --> 00:02:07,619
really like to put my classes online and

44
00:02:07,619 --> 00:02:09,450
they had their grad students sitting

45
00:02:09,450 --> 00:02:10,619
there and they're like hey you grad

46
00:02:10,619 --> 00:02:13,180
students make me a web app

47
00:02:13,180 --> 00:02:14,709
so the grad students made them a web app

48
00:02:14,709 --> 00:02:17,439
using what they what they knew of as the

49
00:02:17,439 --> 00:02:19,900
the best way and that was using PHP and

50
00:02:19,900 --> 00:02:23,739
my sequel and a custom PHP routing and

51
00:02:23,739 --> 00:02:26,260
templating and sequel query library and

52
00:02:26,260 --> 00:02:28,959
everything was custom and so that's our

53
00:02:28,959 --> 00:02:31,540
legacy code base and that is actually

54
00:02:31,540 --> 00:02:33,609
what the majority of our code is in is

55
00:02:33,609 --> 00:02:36,579
in this code base so I avoided that code

56
00:02:36,579 --> 00:02:39,069
base for as long as I could I played in

57
00:02:39,069 --> 00:02:41,349
the in the modern code base for as long

58
00:02:41,349 --> 00:02:42,849
as possible I was like oh I'm gonna add

59
00:02:42,849 --> 00:02:44,200
this to this and this to this and this

60
00:02:44,200 --> 00:02:45,430
this and then one day I was like you

61
00:02:45,430 --> 00:02:47,739
know I can't just avoid this legacy code

62
00:02:47,739 --> 00:02:49,299
base forever

63
00:02:49,299 --> 00:02:50,950
it was kind of this thing like looming

64
00:02:50,950 --> 00:02:52,599
in the back of my head like I know I

65
00:02:52,599 --> 00:02:54,190
need to get in there because that's what

66
00:02:54,190 --> 00:02:55,659
the stuff that I really want to change

67
00:02:55,659 --> 00:02:57,040
cuz that's where you do all your

68
00:02:57,040 --> 00:02:58,889
learning is in that code base so

69
00:02:58,889 --> 00:03:01,150
eventually I decided that I wanted to

70
00:03:01,150 --> 00:03:02,980
actually get into that code base and

71
00:03:02,980 --> 00:03:05,349
tackle it but it discovered that we

72
00:03:05,349 --> 00:03:09,760
actually had a lot of bootstraps that

73
00:03:09,760 --> 00:03:12,400
we're using across the code base so our

74
00:03:12,400 --> 00:03:14,290
modern app was just using bootstrap 2.1

75
00:03:14,290 --> 00:03:16,540
but in the legacy code base I found that

76
00:03:16,540 --> 00:03:19,120
we're using bootstrap 1 and we were even

77
00:03:19,120 --> 00:03:22,239
using bootstrap 2.0 in some places so we

78
00:03:22,239 --> 00:03:23,829
have three different bootstraps across

79
00:03:23,829 --> 00:03:26,590
the code bases and that's bad because it

80
00:03:26,590 --> 00:03:28,150
meant that it was really hard to reuse

81
00:03:28,150 --> 00:03:30,220
things across the code bases right so I

82
00:03:30,220 --> 00:03:31,959
couldn't reuse the same JavaScript

83
00:03:31,959 --> 00:03:33,909
libraries I couldn't reuse the same CSS

84
00:03:33,909 --> 00:03:36,159
I couldn't reuse anything right so the

85
00:03:36,159 --> 00:03:38,139
first step for me to getting into that

86
00:03:38,139 --> 00:03:41,019
code base was to unify the the

87
00:03:41,019 --> 00:03:45,790
bootstraps across them and now I think

88
00:03:45,790 --> 00:03:48,760
it's obvious why it's bad to have that

89
00:03:48,760 --> 00:03:52,479
many bootstraps but I have done a bit of

90
00:03:52,479 --> 00:03:56,290
scientific studies into the number of

91
00:03:56,290 --> 00:03:57,729
bootstraps and developer happiness and

92
00:03:57,729 --> 00:03:59,799
this is based on a careful survey so you

93
00:03:59,799 --> 00:04:02,199
know you could be ok with zero bootstrap

94
00:04:02,199 --> 00:04:03,849
and you could make your own CSS and all

95
00:04:03,849 --> 00:04:04,989
that stuff but of course we like

96
00:04:04,989 --> 00:04:06,250
bootstrap because it gives us a nice

97
00:04:06,250 --> 00:04:09,400
basis for prettiness so you know one

98
00:04:09,400 --> 00:04:11,319
bootstrap is really really great right

99
00:04:11,319 --> 00:04:13,750
but as you approach infinite number of

100
00:04:13,750 --> 00:04:17,919
bootstraps yeah it gets really bad so I

101
00:04:17,919 --> 00:04:20,909
don't know

102
00:04:20,919 --> 00:04:24,639
so there's my science for the talk so I

103
00:04:24,639 --> 00:04:27,490
fired a little JIRA issue that said port

104
00:04:27,490 --> 00:04:30,159
to bootstrap - and I thought it was

105
00:04:30,159 --> 00:04:31,330
going to be easy

106
00:04:31,330 --> 00:04:33,669
I had ported previous apps to bootstrap

107
00:04:33,669 --> 00:04:35,379
- and it was just one of those things

108
00:04:35,379 --> 00:04:36,939
you did you know when you had a couple

109
00:04:36,939 --> 00:04:38,650
hours free and you're watching a crappy

110
00:04:38,650 --> 00:04:42,159
TV show which is all I watch and I was

111
00:04:42,159 --> 00:04:43,479
like this is easy I'm just gonna do it

112
00:04:43,479 --> 00:04:45,819
on one of my cow train rides to and from

113
00:04:45,819 --> 00:04:51,819
the city and so I started and I just

114
00:04:51,819 --> 00:04:53,229
started by following the upgrade guide

115
00:04:53,229 --> 00:04:56,110
and this upgrade guide will tell you

116
00:04:56,110 --> 00:04:57,939
what the new classes were so from

117
00:04:57,939 --> 00:04:59,409
bootstrap one to two I don't know how

118
00:04:59,409 --> 00:05:00,310
many of you have been through this

119
00:05:00,310 --> 00:05:02,139
process I raise your hand if you've ever

120
00:05:02,139 --> 00:05:06,400
upgraded bootstrap wow you guys are

121
00:05:06,400 --> 00:05:09,909
lucky alright so if I'm bridge type one

122
00:05:09,909 --> 00:05:11,919
to two they changed a bunch of the class

123
00:05:11,919 --> 00:05:15,909
names they added some remove some they

124
00:05:15,909 --> 00:05:17,259
changed away some of the JavaScript work

125
00:05:17,259 --> 00:05:18,759
and so they had this upgrade guide which

126
00:05:18,759 --> 00:05:20,259
showed you how to upgrade from one to

127
00:05:20,259 --> 00:05:21,550
two and it's funny because they actually

128
00:05:21,550 --> 00:05:23,409
took down this upgrade guide at one

129
00:05:23,409 --> 00:05:24,759
point cuz they thought nobody else was

130
00:05:24,759 --> 00:05:27,039
upgrade and I was like hey hold up you

131
00:05:27,039 --> 00:05:28,629
got to put that upgrade guy back there's

132
00:05:28,629 --> 00:05:30,610
gonna be people upgrading for like years

133
00:05:30,610 --> 00:05:32,610
and years to come

134
00:05:32,610 --> 00:05:35,050
so I've started following it right which

135
00:05:35,050 --> 00:05:36,849
mostly meant looking for class names and

136
00:05:36,849 --> 00:05:40,889
replacing them with new class names so

137
00:05:40,889 --> 00:05:42,939
first thing I realized was that it was

138
00:05:42,939 --> 00:05:44,199
going to take me longer than a train

139
00:05:44,199 --> 00:05:47,620
ride right so two days later you can see

140
00:05:47,620 --> 00:05:49,449
all my commits over two days I was

141
00:05:49,449 --> 00:05:50,770
basically going through each of the

142
00:05:50,770 --> 00:05:52,149
different parts of bootstrap so

143
00:05:52,149 --> 00:05:53,740
upgrading the table and then the button

144
00:05:53,740 --> 00:05:55,509
and then the grids and then the forms

145
00:05:55,509 --> 00:05:57,430
and then the tabs the pills the alerts

146
00:05:57,430 --> 00:06:00,069
the popovers right just going one by one

147
00:06:00,069 --> 00:06:02,379
through the guide but after two days I

148
00:06:02,379 --> 00:06:04,779
realized that this was not a job for a

149
00:06:04,779 --> 00:06:06,909
train ride this was going to take me a

150
00:06:06,909 --> 00:06:08,649
bit longer because I was still only

151
00:06:08,649 --> 00:06:11,800
through like the first half of the ups

152
00:06:11,800 --> 00:06:13,539
grade guide and I hadn't even touched

153
00:06:13,539 --> 00:06:15,639
our JavaScript at all because there's

154
00:06:15,639 --> 00:06:17,500
also bootstrap JavaScript and it turns

155
00:06:17,500 --> 00:06:19,000
out we were using the bootstrap

156
00:06:19,000 --> 00:06:22,240
JavaScript too so I kind of had to put

157
00:06:22,240 --> 00:06:24,009
this off for a bit and work on it in the

158
00:06:24,009 --> 00:06:27,610
side and a month later I got back into

159
00:06:27,610 --> 00:06:29,949
it and started doing more and more stuff

160
00:06:29,949 --> 00:06:32,500
and then I realized like wow this is

161
00:06:32,500 --> 00:06:35,080
big thing I've taken on I discovered my

162
00:06:35,080 --> 00:06:36,430
codebase was bigger than I thought it

163
00:06:36,430 --> 00:06:39,520
was and and that this was actually going

164
00:06:39,520 --> 00:06:42,430
to be a lot trickier so I got kind of

165
00:06:42,430 --> 00:06:45,100
tired doing it by myself and I brought

166
00:06:45,100 --> 00:06:46,930
in some colleagues right this is what I

167
00:06:46,930 --> 00:06:48,550
kind of realized every time I try and

168
00:06:48,550 --> 00:06:50,680
rewrite something at Coursera is that

169
00:06:50,680 --> 00:06:52,300
it's really hard to do it on your own

170
00:06:52,300 --> 00:06:54,250
and it gets really exhausting sometimes

171
00:06:54,250 --> 00:06:56,230
you got to bring in colleagues and and

172
00:06:56,230 --> 00:06:58,120
people to do it with you because they

173
00:06:58,120 --> 00:06:59,350
can give you the energy to keep going

174
00:06:59,350 --> 00:07:02,200
because it's not a really glamorous and

175
00:07:02,200 --> 00:07:03,760
exciting thing is at the end of the day

176
00:07:03,760 --> 00:07:06,130
my goal was for it to be exactly the

177
00:07:06,130 --> 00:07:09,490
same so if I did my job right nothing

178
00:07:09,490 --> 00:07:11,110
will change and nothing will break so

179
00:07:11,110 --> 00:07:13,210
it's one of those things that is so not

180
00:07:13,210 --> 00:07:15,070
glamorous but something you really

181
00:07:15,070 --> 00:07:16,360
really want to get done and stuff like

182
00:07:16,360 --> 00:07:17,860
that sometimes you just got to bring in

183
00:07:17,860 --> 00:07:21,010
recruits to help you out right so I

184
00:07:21,010 --> 00:07:23,530
started getting my colleagues to jump in

185
00:07:23,530 --> 00:07:25,300
and one of the things I do when I want

186
00:07:25,300 --> 00:07:27,310
to get my colleagues to jump in is I

187
00:07:27,310 --> 00:07:29,230
have a thawne's so you can basically

188
00:07:29,230 --> 00:07:31,960
take a thorn and put it at the end of

189
00:07:31,960 --> 00:07:34,000
anything right so we have tested ons and

190
00:07:34,000 --> 00:07:36,370
perfect bones and skeletons so for this

191
00:07:36,370 --> 00:07:40,750
one I had a bootstrap v2 athon I know it

192
00:07:40,750 --> 00:07:42,940
rolls off the tongue but I was like

193
00:07:42,940 --> 00:07:44,740
listen guys it's really really fun we

194
00:07:44,740 --> 00:07:47,350
sit in a room and we upgrade bootstrap

195
00:07:47,350 --> 00:07:49,930
and we look at every single page in the

196
00:07:49,930 --> 00:07:51,970
site and we check to see that it's

197
00:07:51,970 --> 00:07:56,650
working so my colleagues really enjoyed

198
00:07:56,650 --> 00:07:59,560
this a fun I luckily we work across the

199
00:07:59,560 --> 00:08:01,840
street from a party store so we just go

200
00:08:01,840 --> 00:08:03,250
to the party store and we bring back

201
00:08:03,250 --> 00:08:05,410
like balloons and inflatable shark

202
00:08:05,410 --> 00:08:06,940
somewhere like come on have you come to

203
00:08:06,940 --> 00:08:08,140
the thon you can have an inflatable

204
00:08:08,140 --> 00:08:11,890
shark which works surprisingly well so

205
00:08:11,890 --> 00:08:13,780
we had a Nathon we had to had a couple

206
00:08:13,780 --> 00:08:17,350
of thawne's and and that helped a lot it

207
00:08:17,350 --> 00:08:20,260
got a lot done and so after we were done

208
00:08:20,260 --> 00:08:21,370
making what we thought were all the

209
00:08:21,370 --> 00:08:23,229
fixes we send it to QA because at this

210
00:08:23,229 --> 00:08:24,790
point I didn't have the confidence that

211
00:08:24,790 --> 00:08:26,950
we'd actually gotten everything and that

212
00:08:26,950 --> 00:08:29,080
everything was well done but I was also

213
00:08:29,080 --> 00:08:32,349
kind of tired so we have a QA team that

214
00:08:32,349 --> 00:08:34,360
we sent it to and we gave them to

215
00:08:34,360 --> 00:08:35,979
staging servers and so they just went

216
00:08:35,979 --> 00:08:38,200
through every page and just looked back

217
00:08:38,200 --> 00:08:39,969
and forth between bootstrap one and two

218
00:08:39,969 --> 00:08:41,500
and remember the goal is that it should

219
00:08:41,500 --> 00:08:44,320
look exactly the same so they gave us

220
00:08:44,320 --> 00:08:45,760
this is only part of the jury

221
00:08:45,760 --> 00:08:47,950
so there was like 60 screenshots in this

222
00:08:47,950 --> 00:08:49,900
issue that they filed with all the

223
00:08:49,900 --> 00:08:52,660
differences and so we had to go through

224
00:08:52,660 --> 00:08:55,480
each of them and make this fixes so that

225
00:08:55,480 --> 00:08:58,060
took about a week of QA and finally

226
00:08:58,060 --> 00:08:59,260
after the week of QA I was like all

227
00:08:59,260 --> 00:09:01,690
right okay I think we're ready I think

228
00:09:01,690 --> 00:09:04,240
we can do this and so then we had what I

229
00:09:04,240 --> 00:09:07,660
call a deploy athon which is where we

230
00:09:07,660 --> 00:09:10,300
sit in the office and deploy code that

231
00:09:10,300 --> 00:09:12,610
I'm too scared to deploy by myself so

232
00:09:12,610 --> 00:09:13,810
this usually involves some sort of

233
00:09:13,810 --> 00:09:18,550
alcohol too I usually have my colleagues

234
00:09:18,550 --> 00:09:21,010
press a button because I have like a

235
00:09:21,010 --> 00:09:22,420
mini heart attack if I press the deploy

236
00:09:22,420 --> 00:09:26,350
button so finally a month after I filed

237
00:09:26,350 --> 00:09:29,830
that issue I got it out right and you

238
00:09:29,830 --> 00:09:32,530
can see my final pull request was 97

239
00:09:32,530 --> 00:09:37,210
commits 346 files changed and I think it

240
00:09:37,210 --> 00:09:39,880
was something like 4,000 additions and

241
00:09:39,880 --> 00:09:44,350
4,000 deletions so it turned out to be

242
00:09:44,350 --> 00:09:46,750
kind of a big pull request and kind of a

243
00:09:46,750 --> 00:09:48,850
big change and I might have taken the

244
00:09:48,850 --> 00:09:50,980
opportunity to redo some of the rest of

245
00:09:50,980 --> 00:09:55,480
our architecture at the same time and we

246
00:09:55,480 --> 00:09:58,180
only had one big issue that came out of

247
00:09:58,180 --> 00:10:01,780
it and that was just a mistake with with

248
00:10:01,780 --> 00:10:05,710
this silly JavaScript in our in our

249
00:10:05,710 --> 00:10:07,870
system so we kind of measure our deploys

250
00:10:07,870 --> 00:10:09,400
by the number of post mortems that come

251
00:10:09,400 --> 00:10:10,510
out of them because we always write post

252
00:10:10,510 --> 00:10:12,700
mortem so I only had one post mortem

253
00:10:12,700 --> 00:10:16,990
which was yeah okay um so that was the

254
00:10:16,990 --> 00:10:20,740
ordeal right and I did not expect it to

255
00:10:20,740 --> 00:10:22,330
be that hard right I thought this was

256
00:10:22,330 --> 00:10:24,100
gonna be a fun thing that I did on the

257
00:10:24,100 --> 00:10:25,600
train and I get off the train and be

258
00:10:25,600 --> 00:10:28,870
like yeah I upgraded bootstrap woohoo

259
00:10:28,870 --> 00:10:30,880
but it wasn't right and why was it that

260
00:10:30,880 --> 00:10:34,810
hard so there are a few reasons right so

261
00:10:34,810 --> 00:10:36,550
first of all our code base was a lot

262
00:10:36,550 --> 00:10:38,650
bigger than I thought it was because

263
00:10:38,650 --> 00:10:40,600
when I joined Coursera my only

264
00:10:40,600 --> 00:10:42,040
experience with with Coursera was as a

265
00:10:42,040 --> 00:10:44,470
student right I had taken the HDI class

266
00:10:44,470 --> 00:10:46,180
and I knew that oh there's these quizzes

267
00:10:46,180 --> 00:10:47,590
you take and these lectures you watch

268
00:10:47,590 --> 00:10:50,830
and there's not that much right but then

269
00:10:50,830 --> 00:10:53,170
I discovered that 90% of our app is an

270
00:10:53,170 --> 00:10:55,150
admin interface right because the

271
00:10:55,150 --> 00:10:56,830
teachers have to create the classes and

272
00:10:56,830 --> 00:10:57,790
upload and create

273
00:10:57,790 --> 00:10:59,590
quizzes and all that stuff and I had

274
00:10:59,590 --> 00:11:03,340
never seen that before so in doing this

275
00:11:03,340 --> 00:11:05,020
process part of it was good because I

276
00:11:05,020 --> 00:11:06,640
got a chance to see everything in our

277
00:11:06,640 --> 00:11:08,050
code base it is actually a pretty good

278
00:11:08,050 --> 00:11:10,030
way of getting familiar with every

279
00:11:10,030 --> 00:11:11,620
single part of your code base so we had

280
00:11:11,620 --> 00:11:15,760
something like 200 PP template files 350

281
00:11:15,760 --> 00:11:18,220
controller for aisles 143 JavaScript

282
00:11:18,220 --> 00:11:22,810
files and 25 CSS files right so this was

283
00:11:22,810 --> 00:11:24,160
a lot of files to look through because

284
00:11:24,160 --> 00:11:26,710
maybe basically I was looking for you

285
00:11:26,710 --> 00:11:28,570
know bootstrap usage across all of these

286
00:11:28,570 --> 00:11:31,900
different files and the thing is that we

287
00:11:31,900 --> 00:11:33,790
were using bootstrap class names

288
00:11:33,790 --> 00:11:36,040
everywhere right so you would think that

289
00:11:36,040 --> 00:11:37,450
oh just look in your template files

290
00:11:37,450 --> 00:11:39,850
that'll be good enough no we had PHP

291
00:11:39,850 --> 00:11:41,800
utility libraries that were generating

292
00:11:41,800 --> 00:11:43,240
you know of course your classic form

293
00:11:43,240 --> 00:11:46,000
generating functions right we had a lot

294
00:11:46,000 --> 00:11:47,470
of those right this is a little form

295
00:11:47,470 --> 00:11:50,410
helper class so we had we had class

296
00:11:50,410 --> 00:11:52,870
names in our HTML in our CSS in our PHP

297
00:11:52,870 --> 00:11:56,080
and the worst of course is the PHP that

298
00:11:56,080 --> 00:11:58,390
outputs JavaScript that has class names

299
00:11:58,390 --> 00:12:03,220
in it so I had to look everywhere for

300
00:12:03,220 --> 00:12:04,540
these class names right

301
00:12:04,540 --> 00:12:08,920
and of course bootstrap does not have

302
00:12:08,920 --> 00:12:12,340
very grep bubble class names right try

303
00:12:12,340 --> 00:12:15,580
and looking for you know alert across

304
00:12:15,580 --> 00:12:16,420
your codebase

305
00:12:16,420 --> 00:12:18,670
I found 80 but try looking for info

306
00:12:18,670 --> 00:12:20,500
because of his button info was there

307
00:12:20,500 --> 00:12:24,160
there v1 class name a thousand places is

308
00:12:24,160 --> 00:12:27,070
where info is mentioned cuz info is kind

309
00:12:27,070 --> 00:12:28,960
of a generic thing that we use

310
00:12:28,960 --> 00:12:31,840
everywhere right so these were not very

311
00:12:31,840 --> 00:12:33,940
easy to grep for and I'm like really bad

312
00:12:33,940 --> 00:12:38,470
at creping right but I every time I like

313
00:12:38,470 --> 00:12:40,180
tweet about it my dad is like no it's

314
00:12:40,180 --> 00:12:42,070
not that hard so I can't even whine

315
00:12:42,070 --> 00:12:45,670
about how hard it is to grab things so

316
00:12:45,670 --> 00:12:47,200
really hard to grep these these

317
00:12:47,200 --> 00:12:49,060
bootstrap class names in that big of a

318
00:12:49,060 --> 00:12:51,520
codebase and of course bootstrap wasn't

319
00:12:51,520 --> 00:12:54,010
just CSS it was JavaScript and we were

320
00:12:54,010 --> 00:12:55,420
using that JavaScript and we had

321
00:12:55,420 --> 00:12:57,580
modified that JavaScript and we need to

322
00:12:57,580 --> 00:12:59,770
get it to working exactly correct again

323
00:12:59,770 --> 00:13:01,390
and had to be accessible and all that

324
00:13:01,390 --> 00:13:03,700
stuff so a lot of our our changes in the

325
00:13:03,700 --> 00:13:05,470
end we're all around the JavaScript and

326
00:13:05,470 --> 00:13:06,700
getting that JavaScript functionality

327
00:13:06,700 --> 00:13:10,720
working exactly the way it worked before

328
00:13:10,730 --> 00:13:13,610
so that's why it was hard now I've

329
00:13:13,610 --> 00:13:15,200
thought about after going through this

330
00:13:15,200 --> 00:13:18,140
process I thought about what would

331
00:13:18,140 --> 00:13:20,810
actually make this better and I came up

332
00:13:20,810 --> 00:13:21,710
with a lot of different things that

333
00:13:21,710 --> 00:13:22,970
would have made this experience better

334
00:13:22,970 --> 00:13:24,440
and some of these are things that we've

335
00:13:24,440 --> 00:13:26,630
already started doing other things or

336
00:13:26,630 --> 00:13:28,700
things that I would love for us to do in

337
00:13:28,700 --> 00:13:30,580
an ideal world where we had enough time

338
00:13:30,580 --> 00:13:32,810
so hopefully this is the sort of stuff

339
00:13:32,810 --> 00:13:34,190
that you can think about for your apps

340
00:13:34,190 --> 00:13:35,570
and especially if you're starting your

341
00:13:35,570 --> 00:13:38,210
app now from day one right you can

342
00:13:38,210 --> 00:13:39,680
actually start off with these practices

343
00:13:39,680 --> 00:13:42,320
in place so that you know year later

344
00:13:42,320 --> 00:13:44,570
when you have more engineers join it's

345
00:13:44,570 --> 00:13:46,670
gonna be pleasant for them to upgrade to

346
00:13:46,670 --> 00:13:50,840
bootstrap 300,000,000 so the first thing

347
00:13:50,840 --> 00:13:53,510
that seems kind of obvious is that the

348
00:13:53,510 --> 00:13:56,540
way where you were using PHP was it's

349
00:13:56,540 --> 00:13:59,330
kind of horrible write PHP outputting

350
00:13:59,330 --> 00:14:01,370
JavaScript outputting CSS and HTML is

351
00:14:01,370 --> 00:14:03,590
it's pretty bad and the reason that can

352
00:14:03,590 --> 00:14:05,120
be really bad in this case is because it

353
00:14:05,120 --> 00:14:06,890
means there were so many places I had to

354
00:14:06,890 --> 00:14:09,080
look in order to find we were using

355
00:14:09,080 --> 00:14:11,420
class names right I had to look I had

356
00:14:11,420 --> 00:14:14,810
look in PHP classes for this stuff right

357
00:14:14,810 --> 00:14:17,210
and we actually had you know we'd have a

358
00:14:17,210 --> 00:14:19,190
line which is our HTML and then the next

359
00:14:19,190 --> 00:14:20,810
line would be a sequel query statement

360
00:14:20,810 --> 00:14:23,060
right so if I did a grep and replace

361
00:14:23,060 --> 00:14:25,550
wrong I could accidentally mess up a

362
00:14:25,550 --> 00:14:27,440
sequel query statement right

363
00:14:27,440 --> 00:14:29,540
you know we're placing your CSS class

364
00:14:29,540 --> 00:14:30,920
names should not end up and you

365
00:14:30,920 --> 00:14:34,280
accidentally changing sequel it's bad so

366
00:14:34,280 --> 00:14:35,420
generally it's better if you can

367
00:14:35,420 --> 00:14:37,910
separate your concerns better so that's

368
00:14:37,910 --> 00:14:39,980
why we have our new architecture uses

369
00:14:39,980 --> 00:14:43,520
backbone GS and then Jade for HTML

370
00:14:43,520 --> 00:14:46,610
templates and stylist for CSS and our

371
00:14:46,610 --> 00:14:48,470
API is completely separate from that

372
00:14:48,470 --> 00:14:50,690
right so at least I have some degree of

373
00:14:50,690 --> 00:14:52,100
faith in the new architecture that I'm

374
00:14:52,100 --> 00:14:53,690
not going to end up changing the data

375
00:14:53,690 --> 00:14:57,170
that comes back but of course another

376
00:14:57,170 --> 00:14:58,940
thing that's important besides having a

377
00:14:58,940 --> 00:15:01,310
better architecture is to try and only

378
00:15:01,310 --> 00:15:03,530
have one architecture so this is another

379
00:15:03,530 --> 00:15:05,620
one of these highly scientific graphs

380
00:15:05,620 --> 00:15:08,180
but basically I think one architecture

381
00:15:08,180 --> 00:15:10,940
is good to have and the problem is the

382
00:15:10,940 --> 00:15:12,290
more and more architectures you have the

383
00:15:12,290 --> 00:15:13,790
harder it is to come up with best

384
00:15:13,790 --> 00:15:15,530
practices and conventions and the harder

385
00:15:15,530 --> 00:15:18,860
it is for me to figure out how each of

386
00:15:18,860 --> 00:15:20,180
the architectures work and where I

387
00:15:20,180 --> 00:15:22,550
should look inside of them right so this

388
00:15:22,550 --> 00:15:23,600
is one of the things we've been trying

389
00:15:23,600 --> 00:15:24,709
you know we've been experiment doing a

390
00:15:24,709 --> 00:15:25,670
couple architectures and we're

391
00:15:25,670 --> 00:15:28,279
converging on one but right now we kind

392
00:15:28,279 --> 00:15:31,699
of have a handful of them but now there

393
00:15:31,699 --> 00:15:33,470
are things that would have made it a lot

394
00:15:33,470 --> 00:15:35,959
easier if if Twitter bootstrap itself

395
00:15:35,959 --> 00:15:38,360
was different right so one thing is that

396
00:15:38,360 --> 00:15:40,940
bootstrap has these incredibly ambiguous

397
00:15:40,940 --> 00:15:46,600
names short names alert label but in but

398
00:15:46,600 --> 00:15:48,920
so one thing would have been amazing is

399
00:15:48,920 --> 00:15:50,449
if they had been named space right if

400
00:15:50,449 --> 00:15:52,910
they were just TBS - alert that would

401
00:15:52,910 --> 00:15:54,920
have been a lot easier for me to grep

402
00:15:54,920 --> 00:15:58,579
for it right and there is actually an

403
00:15:58,579 --> 00:16:01,279
issue that has been filed on the

404
00:16:01,279 --> 00:16:03,680
bootstrap issue tracker about Auto

405
00:16:03,680 --> 00:16:05,630
prefixing all the bootstrap classes

406
00:16:05,630 --> 00:16:08,029
unfortunately they decided that they're

407
00:16:08,029 --> 00:16:10,399
kind of not that into it I think it's a

408
00:16:10,399 --> 00:16:13,670
hipster thing so we're probably not

409
00:16:13,670 --> 00:16:15,579
gonna have bootstrap appending

410
00:16:15,579 --> 00:16:18,139
namespaces to their to their class names

411
00:16:18,139 --> 00:16:20,480
anytime soon but there's a lot of people

412
00:16:20,480 --> 00:16:21,949
that are interested in this because it

413
00:16:21,949 --> 00:16:23,300
you know what things make it better so

414
00:16:23,300 --> 00:16:25,040
there's multiple blog posts out there

415
00:16:25,040 --> 00:16:27,079
about how to Auto prefix the bootstrap

416
00:16:27,079 --> 00:16:29,089
classes so there's one about doing it

417
00:16:29,089 --> 00:16:30,350
with less there's another one about

418
00:16:30,350 --> 00:16:32,630
doing it in sass so if you're using one

419
00:16:32,630 --> 00:16:34,519
of these preprocessor frameworks it can

420
00:16:34,519 --> 00:16:36,199
make it a lot easier for you to actually

421
00:16:36,199 --> 00:16:38,569
get bootstrap namespace in your own code

422
00:16:38,569 --> 00:16:41,000
right so I would highly recommend

423
00:16:41,000 --> 00:16:42,410
looking into that I think it would be

424
00:16:42,410 --> 00:16:44,449
amazing if the bootstrap team decided to

425
00:16:44,449 --> 00:16:46,579
be to prefix it for everything cuz I

426
00:16:46,579 --> 00:16:49,310
worry that five years from now there's

427
00:16:49,310 --> 00:16:51,290
gonna be all these code bases that have

428
00:16:51,290 --> 00:16:53,180
this alert class name in there

429
00:16:53,180 --> 00:16:55,189
everywhere and there's gonna be somebody

430
00:16:55,189 --> 00:16:57,740
sitting there like me trying to grep for

431
00:16:57,740 --> 00:16:59,240
it and wishing that they had been named

432
00:16:59,240 --> 00:17:01,399
space right so the thing about bootstrap

433
00:17:01,399 --> 00:17:03,680
is that it is used by so many so many

434
00:17:03,680 --> 00:17:06,260
websites today that anything that they

435
00:17:06,260 --> 00:17:08,630
do as a default will become the default

436
00:17:08,630 --> 00:17:10,850
on those web sites so we can be you know

437
00:17:10,850 --> 00:17:13,179
good conscientious people and try and

438
00:17:13,179 --> 00:17:15,589
prefix ours but the majority people

439
00:17:15,589 --> 00:17:19,429
probably won't so if you can convince

440
00:17:19,429 --> 00:17:22,159
them to fulfill that issue it would be

441
00:17:22,159 --> 00:17:25,850
amazing but one thing I've tried to

442
00:17:25,850 --> 00:17:27,770
start to try doing is just to avoid

443
00:17:27,770 --> 00:17:29,659
using those bootstrap class names to

444
00:17:29,659 --> 00:17:32,000
directly entirely write so I want

445
00:17:32,000 --> 00:17:34,580
ideally in our CSS we would only ever

446
00:17:34,580 --> 00:17:37,160
have Coursera CSS class

447
00:17:37,160 --> 00:17:39,680
and those Coursera classes would simply

448
00:17:39,680 --> 00:17:43,310
extend from the bootstrap classes and

449
00:17:43,310 --> 00:17:44,360
you can do this if you use a

450
00:17:44,360 --> 00:17:46,340
preprocessor so we internally at

451
00:17:46,340 --> 00:17:48,410
Coursera we use this bootstrap stylus

452
00:17:48,410 --> 00:17:50,630
port but bootstrap is written in less so

453
00:17:50,630 --> 00:17:53,570
you can also use the original less so if

454
00:17:53,570 --> 00:17:55,640
I want to extend the button I just

455
00:17:55,640 --> 00:17:57,560
create my class and say which which

456
00:17:57,560 --> 00:18:00,260
button classes extends and then I also

457
00:18:00,260 --> 00:18:02,990
at least in stylists have to define it

458
00:18:02,990 --> 00:18:06,200
for the hover state as well and say that

459
00:18:06,200 --> 00:18:08,960
those extend the button hover States but

460
00:18:08,960 --> 00:18:11,540
then I have this CSS class name that I

461
00:18:11,540 --> 00:18:14,780
can use and I can just swap out what is

462
00:18:14,780 --> 00:18:16,430
extending from behind the scenes right

463
00:18:16,430 --> 00:18:18,200
so this seems kind of ideal because this

464
00:18:18,200 --> 00:18:20,150
kind of means that if you were only ever

465
00:18:20,150 --> 00:18:21,530
using your own class names you're not

466
00:18:21,530 --> 00:18:23,210
dependent on somebody else's class names

467
00:18:23,210 --> 00:18:24,530
you could theoretically swap out a

468
00:18:24,530 --> 00:18:26,030
different framework behind the scenes

469
00:18:26,030 --> 00:18:27,440
right and that seems really promising

470
00:18:27,440 --> 00:18:29,930
like if one day you know you decide that

471
00:18:29,930 --> 00:18:31,640
ZURB is better there's this new crazy

472
00:18:31,640 --> 00:18:33,080
thing that one of you guys is working on

473
00:18:33,080 --> 00:18:34,880
and you come out with you just swap it

474
00:18:34,880 --> 00:18:37,250
behind the scenes so I've only started

475
00:18:37,250 --> 00:18:39,080
doing this in a few places because you

476
00:18:39,080 --> 00:18:41,780
know it takes a while to to start coming

477
00:18:41,780 --> 00:18:43,100
up with new practices and implementing

478
00:18:43,100 --> 00:18:45,350
them but I do generally think this is a

479
00:18:45,350 --> 00:18:48,230
really cool approach and then what it

480
00:18:48,230 --> 00:18:50,600
would be great is and this is something

481
00:18:50,600 --> 00:18:52,490
we thought about doing as well is having

482
00:18:52,490 --> 00:18:55,130
your own internal style guides that show

483
00:18:55,130 --> 00:18:56,720
all the classes that you're using so

484
00:18:56,720 --> 00:18:58,400
imagine when you go to bootstrap and you

485
00:18:58,400 --> 00:19:00,050
see this is our grid and this is our

486
00:19:00,050 --> 00:19:02,330
button classes this and this copy that

487
00:19:02,330 --> 00:19:04,790
but just do it with your own classes so

488
00:19:04,790 --> 00:19:07,490
anybody developing or designing can look

489
00:19:07,490 --> 00:19:09,080
at this style guide and see oh right

490
00:19:09,080 --> 00:19:10,490
these are other classes we should be

491
00:19:10,490 --> 00:19:12,470
using right so they're not using at the

492
00:19:12,470 --> 00:19:13,460
beach they're not looking at the

493
00:19:13,460 --> 00:19:15,290
bootstrap Docs anymore they're looking

494
00:19:15,290 --> 00:19:18,050
at your style guide so I think that

495
00:19:18,050 --> 00:19:20,440
would be awesome as well

496
00:19:20,440 --> 00:19:23,030
another thing I've started to do is to

497
00:19:23,030 --> 00:19:25,580
stop using class names directly in our

498
00:19:25,580 --> 00:19:27,500
JavaScript libraries right because one

499
00:19:27,500 --> 00:19:29,090
of the big things about this upgrade was

500
00:19:29,090 --> 00:19:30,770
that we were using our JavaScript and

501
00:19:30,770 --> 00:19:33,200
I'd have to go through and upgrade

502
00:19:33,200 --> 00:19:34,940
everything in the JavaScript as well and

503
00:19:34,940 --> 00:19:36,170
everything was depending on these class

504
00:19:36,170 --> 00:19:38,060
names so we've started writing our own

505
00:19:38,060 --> 00:19:40,190
JavaScript libraries and we tend not to

506
00:19:40,190 --> 00:19:41,750
even use the bootstrap ones anymore

507
00:19:41,750 --> 00:19:44,000
and these JavaScript libraries will

508
00:19:44,000 --> 00:19:48,350
specify a CSS prefix in the the default

509
00:19:48,350 --> 00:19:49,510
options

510
00:19:49,510 --> 00:19:52,299
and passes into all the templates so the

511
00:19:52,299 --> 00:19:54,030
templates we use them for the libraries

512
00:19:54,030 --> 00:19:56,620
so you can see like our Jade template

513
00:19:56,620 --> 00:19:58,630
says okay this class is going to be

514
00:19:58,630 --> 00:20:01,690
prefix + - toolbar and then when we use

515
00:20:01,690 --> 00:20:04,390
this library we specify that the prefix

516
00:20:04,390 --> 00:20:05,559
is going to be Coursera

517
00:20:05,559 --> 00:20:10,000
- wizzy html5 right so then in our CSS

518
00:20:10,000 --> 00:20:13,620
we can define what that will look like

519
00:20:13,620 --> 00:20:16,929
so now we have full control over what

520
00:20:16,929 --> 00:20:19,059
those classes are and exactly how

521
00:20:19,059 --> 00:20:21,700
namespace they are so I think this is a

522
00:20:21,700 --> 00:20:24,340
nice technique as well and it gives you

523
00:20:24,340 --> 00:20:28,030
a lot more flexibility to namespace your

524
00:20:28,030 --> 00:20:30,910
classes however you wish and there's

525
00:20:30,910 --> 00:20:32,260
another there's article about that as

526
00:20:32,260 --> 00:20:37,840
well and another idea that I've seen

527
00:20:37,840 --> 00:20:39,880
talked about in some blogs is just not

528
00:20:39,880 --> 00:20:41,650
to use class names in your JavaScript

529
00:20:41,650 --> 00:20:43,210
all right because one of the things we

530
00:20:43,210 --> 00:20:45,370
see is that we're not just using CSS

531
00:20:45,370 --> 00:20:48,760
classes for our styling we're using CSS

532
00:20:48,760 --> 00:20:50,679
classes for JavaScript often right we're

533
00:20:50,679 --> 00:20:51,429
saying okay

534
00:20:51,429 --> 00:20:53,620
whenever something with this class class

535
00:20:53,620 --> 00:20:55,240
name is clicked on we're going to do

536
00:20:55,240 --> 00:20:57,040
this action right so that means if

537
00:20:57,040 --> 00:20:59,020
you're changing a CSS style you could

538
00:20:59,020 --> 00:21:01,540
potentially break JavaScript all right

539
00:21:01,540 --> 00:21:03,070
which means you could potentially break

540
00:21:03,070 --> 00:21:04,600
your entire site you could change the

541
00:21:04,600 --> 00:21:07,270
CSS style and rename it and suddenly

542
00:21:07,270 --> 00:21:10,020
nobody can sign up on your site because

543
00:21:10,020 --> 00:21:12,549
you are listening to a click event on

544
00:21:12,549 --> 00:21:14,380
the wrong class name right so this game

545
00:21:14,380 --> 00:21:16,150
sign it kind of scary because it means

546
00:21:16,150 --> 00:21:19,540
that CSS is doing a lot right so one

547
00:21:19,540 --> 00:21:22,059
thing you could do is two different

548
00:21:22,059 --> 00:21:23,799
approaches one is that you could have

549
00:21:23,799 --> 00:21:26,530
class names that were specifically for

550
00:21:26,530 --> 00:21:28,809
j/s right so I could have Coursera -

551
00:21:28,809 --> 00:21:31,720
submit - Jas and that - Jas at the mean

552
00:21:31,720 --> 00:21:34,299
could mean to be oh wow if I change this

553
00:21:34,299 --> 00:21:36,850
I know that I'm changing this thing

554
00:21:36,850 --> 00:21:38,710
that's used by Jas right so it would be

555
00:21:38,710 --> 00:21:40,750
like a convention so that you knew that

556
00:21:40,750 --> 00:21:42,790
was just for Jas and not for styling

557
00:21:42,790 --> 00:21:45,100
right and then in your interview you

558
00:21:45,100 --> 00:21:47,830
could listen just on the - Jas classes

559
00:21:47,830 --> 00:21:49,960
another approach is just use data

560
00:21:49,960 --> 00:21:51,490
attributes right and I've started doing

561
00:21:51,490 --> 00:21:53,470
these in some places so if you use data

562
00:21:53,470 --> 00:21:54,910
attributes and so you might have like

563
00:21:54,910 --> 00:21:58,030
data - Jas action and then in your view

564
00:21:58,030 --> 00:22:00,610
you're just going to hook into that data

565
00:22:00,610 --> 00:22:01,770
attribute instead

566
00:22:01,770 --> 00:22:05,130
right so these are just techniques to

567
00:22:05,130 --> 00:22:08,670
make sure that you're not using a CSS

568
00:22:08,670 --> 00:22:10,620
class both for styling and for

569
00:22:10,620 --> 00:22:12,960
functionality because it just introduces

570
00:22:12,960 --> 00:22:14,370
a whole other realm of things that can

571
00:22:14,370 --> 00:22:16,380
break if you decide to change that class

572
00:22:16,380 --> 00:22:19,510
name

573
00:22:19,520 --> 00:22:23,070
now of course testing all right this is

574
00:22:23,070 --> 00:22:24,300
one of the big problems with our old

575
00:22:24,300 --> 00:22:26,580
code base is that it was completely and

576
00:22:26,580 --> 00:22:28,980
utterly untested I think it's at 2%

577
00:22:28,980 --> 00:22:32,520
coverage now so if it had been if it had

578
00:22:32,520 --> 00:22:34,800
a testing framework in place then I

579
00:22:34,800 --> 00:22:37,110
wouldn't have been so nervous about

580
00:22:37,110 --> 00:22:38,700
releasing it and deploying it right I

581
00:22:38,700 --> 00:22:40,110
would just run the test and run Oh

582
00:22:40,110 --> 00:22:42,660
beautiful everything works I don't have

583
00:22:42,660 --> 00:22:45,060
to worry but it didn't so I had to set

584
00:22:45,060 --> 00:22:47,550
it through that week of manual QA so

585
00:22:47,550 --> 00:22:49,560
it's really really important to test

586
00:22:49,560 --> 00:22:51,060
your front-end especially as we're doing

587
00:22:51,060 --> 00:22:52,890
more and more stuff in our front-end

588
00:22:52,890 --> 00:22:54,960
right before our front ends were dumb

589
00:22:54,960 --> 00:22:57,090
and our servers were the smart ones but

590
00:22:57,090 --> 00:22:59,580
now our friend ends can do a lot which

591
00:22:59,580 --> 00:23:01,380
means you need to be testing them a lot

592
00:23:01,380 --> 00:23:03,090
and a lot of times you actually have to

593
00:23:03,090 --> 00:23:05,460
be testing them even more than you would

594
00:23:05,460 --> 00:23:06,720
think so because if you've got

595
00:23:06,720 --> 00:23:08,730
JavaScript hooked up to your front-end

596
00:23:08,730 --> 00:23:10,170
then you don't just have to test the

597
00:23:10,170 --> 00:23:11,760
like you know that they click there and

598
00:23:11,760 --> 00:23:13,320
something happens you have to test like

599
00:23:13,320 --> 00:23:15,000
sequences of events that can happen as

600
00:23:15,000 --> 00:23:17,910
well right so testing is really really

601
00:23:17,910 --> 00:23:18,960
important

602
00:23:18,960 --> 00:23:22,080
so we use a combination of mocha and

603
00:23:22,080 --> 00:23:25,470
chai and jeaious Dom to load in our

604
00:23:25,470 --> 00:23:27,780
views and to render them and to

605
00:23:27,780 --> 00:23:29,400
stimulate clicking on them and to check

606
00:23:29,400 --> 00:23:31,770
what is visible then and check that

607
00:23:31,770 --> 00:23:33,750
things are shown and check the content

608
00:23:33,750 --> 00:23:36,510
and the size and all that stuff so now

609
00:23:36,510 --> 00:23:39,570
we can run this code over all of our our

610
00:23:39,570 --> 00:23:41,160
backbone views and make sure that they

611
00:23:41,160 --> 00:23:43,890
work we don't really have that for our

612
00:23:43,890 --> 00:23:46,200
PHP templates yet but one day when we

613
00:23:46,200 --> 00:23:48,990
just rewrite everything we will and we

614
00:23:48,990 --> 00:23:50,640
also have some selenium tests as well

615
00:23:50,640 --> 00:23:52,110
and selenium will you know selenium

616
00:23:52,110 --> 00:23:53,910
tests will open up a full browser and do

617
00:23:53,910 --> 00:23:56,250
the entire integration tests from sign

618
00:23:56,250 --> 00:23:58,710
up to log in to view the page right so

619
00:23:58,710 --> 00:24:00,240
that's the ultimate cuz it Meo that's

620
00:24:00,240 --> 00:24:02,820
exactly what the user is doing but the

621
00:24:02,820 --> 00:24:05,450
basic point is that if your if your

622
00:24:05,450 --> 00:24:08,130
front-end is doing anything it needs to

623
00:24:08,130 --> 00:24:10,650
be tested right so this is something

624
00:24:10,650 --> 00:24:12,120
that I wish we had had from the

625
00:24:12,120 --> 00:24:14,040
beginning and something that takes time

626
00:24:14,040 --> 00:24:14,500
to

627
00:24:14,500 --> 00:24:16,270
right so once again this is a great

628
00:24:16,270 --> 00:24:18,760
opportunity for a test Athan if you

629
00:24:18,760 --> 00:24:20,710
don't have tests yet just say you're

630
00:24:20,710 --> 00:24:22,780
gonna have a test Athan go and buy a

631
00:24:22,780 --> 00:24:25,210
bunch of inflatable animals and sit in a

632
00:24:25,210 --> 00:24:27,040
room for a couple days just test stuff

633
00:24:27,040 --> 00:24:29,170
right because it takes a long time to

634
00:24:29,170 --> 00:24:31,270
build up the amount of tests and it can

635
00:24:31,270 --> 00:24:32,890
be really intimidating if there's no

636
00:24:32,890 --> 00:24:34,510
test right it's a lot easier to add a

637
00:24:34,510 --> 00:24:36,760
few tests to existing code base than to

638
00:24:36,760 --> 00:24:42,070
go from no test at all but testing isn't

639
00:24:42,070 --> 00:24:43,960
going to catch everything right testing

640
00:24:43,960 --> 00:24:45,790
isn't gonna catch the subtle differences

641
00:24:45,790 --> 00:24:48,220
that can happen in terms of the padding

642
00:24:48,220 --> 00:24:50,410
and the sizing and all that stuff and

643
00:24:50,410 --> 00:24:52,600
those differences actually matter quite

644
00:24:52,600 --> 00:24:54,190
a lot right and this is actually what

645
00:24:54,190 --> 00:24:56,470
I've run into the most with upgrading

646
00:24:56,470 --> 00:24:58,150
bootstrap is these subtle differences in

647
00:24:58,150 --> 00:25:00,400
spacing and those differences can be

648
00:25:00,400 --> 00:25:02,740
really really bad right like there was a

649
00:25:02,740 --> 00:25:04,630
change in bootstrap which meant that our

650
00:25:04,630 --> 00:25:07,060
input widths were like six pixels less

651
00:25:07,060 --> 00:25:10,210
which now means all of our numbers that

652
00:25:10,210 --> 00:25:11,860
people are entering are cut off and they

653
00:25:11,860 --> 00:25:14,440
can't see their second number number and

654
00:25:14,440 --> 00:25:15,820
that's basically a functional problem

655
00:25:15,820 --> 00:25:17,950
right if your user can't see their whole

656
00:25:17,950 --> 00:25:21,250
input that they've entered that's bad so

657
00:25:21,250 --> 00:25:24,040
CSS is you know not just about it's the

658
00:25:24,040 --> 00:25:25,720
perfect amount of white space it's

659
00:25:25,720 --> 00:25:28,030
actually functionally showing you you

660
00:25:28,030 --> 00:25:31,420
know information so you can actually

661
00:25:31,420 --> 00:25:33,220
have differences that happen that are

662
00:25:33,220 --> 00:25:34,720
hard to test for because they're purely

663
00:25:34,720 --> 00:25:37,480
visual but you could actually test for

664
00:25:37,480 --> 00:25:39,400
this if you could do what we call like

665
00:25:39,400 --> 00:25:42,100
visual diff tests and so there's this

666
00:25:42,100 --> 00:25:44,650
cool framework called needle which is a

667
00:25:44,650 --> 00:25:46,660
way of using selenium plus nose and

668
00:25:46,660 --> 00:25:49,060
Python and what it will do is they'll

669
00:25:49,060 --> 00:25:50,800
open it'll use selenium to open up your

670
00:25:50,800 --> 00:25:52,870
website it'll take a screenshot of your

671
00:25:52,870 --> 00:25:55,270
website and then it'll dip it against

672
00:25:55,270 --> 00:25:57,700
some known screenshot that's good right

673
00:25:57,700 --> 00:25:59,320
and then it'll you can compare the two

674
00:25:59,320 --> 00:26:01,360
and see what the differences is using a

675
00:26:01,360 --> 00:26:03,580
visual difference algorithm so that's

676
00:26:03,580 --> 00:26:04,930
really cool right because you could just

677
00:26:04,930 --> 00:26:06,730
automate this to go across your entire

678
00:26:06,730 --> 00:26:08,800
website and find all these differences

679
00:26:08,800 --> 00:26:10,300
which would mean that I could have run

680
00:26:10,300 --> 00:26:12,310
this instead of sending it to a QA team

681
00:26:12,310 --> 00:26:15,790
who had to do this manually right so I

682
00:26:15,790 --> 00:26:17,050
think that's really cool is isn't

683
00:26:17,050 --> 00:26:18,490
something that we've had time to

684
00:26:18,490 --> 00:26:20,830
implement yet but if you do have

685
00:26:20,830 --> 00:26:23,830
selenium tests already and then this is

686
00:26:23,830 --> 00:26:26,200
something I would definitely try out and

687
00:26:26,200 --> 00:26:26,780
see

688
00:26:26,780 --> 00:26:29,510
that works and I know there's also other

689
00:26:29,510 --> 00:26:31,160
people working on other perceptual

690
00:26:31,160 --> 00:26:33,470
difference and so I think that there's

691
00:26:33,470 --> 00:26:34,880
gonna be a lot more of this stuff coming

692
00:26:34,880 --> 00:26:36,560
out because I think more and more of us

693
00:26:36,560 --> 00:26:39,650
are realizing that we care about the

694
00:26:39,650 --> 00:26:42,920
differences between between our two

695
00:26:42,920 --> 00:26:45,200
things I've done even the ghetto

696
00:26:45,200 --> 00:26:46,880
technique which is Photoshop and you

697
00:26:46,880 --> 00:26:48,920
overlay and you just change the color

698
00:26:48,920 --> 00:26:51,050
layer brightness - it's just something

699
00:26:51,050 --> 00:26:53,240
like saturation different something like

700
00:26:53,240 --> 00:26:57,200
that but that takes a while right so I

701
00:26:57,200 --> 00:26:59,300
think in the future we're all we're all

702
00:26:59,300 --> 00:27:01,010
gonna be running these visual dips over

703
00:27:01,010 --> 00:27:03,020
our front ends every time we deploy

704
00:27:03,020 --> 00:27:05,060
because it'll get more and more easy and

705
00:27:05,060 --> 00:27:06,560
people will create more frameworks for

706
00:27:06,560 --> 00:27:08,870
doing it but we're just getting started

707
00:27:08,870 --> 00:27:14,990
with that okay so what I want to take

708
00:27:14,990 --> 00:27:17,210
away from this is that CSS is actually

709
00:27:17,210 --> 00:27:19,460
something that really matters right CSS

710
00:27:19,460 --> 00:27:21,380
is not just something that we're styling

711
00:27:21,380 --> 00:27:23,210
our websites with to make them pretty

712
00:27:23,210 --> 00:27:25,730
CSS effects a massive amount of things

713
00:27:25,730 --> 00:27:27,530
it can affect your JavaScript which

714
00:27:27,530 --> 00:27:29,240
means you can affect your functionality

715
00:27:29,240 --> 00:27:32,090
it could break your entire website it

716
00:27:32,090 --> 00:27:33,680
could disable people from signing in

717
00:27:33,680 --> 00:27:35,180
correctly from being able to submit

718
00:27:35,180 --> 00:27:38,240
their quizzes it can make it impossible

719
00:27:38,240 --> 00:27:39,620
for somebody to read a bit of

720
00:27:39,620 --> 00:27:41,030
information that they're trying to read

721
00:27:41,030 --> 00:27:42,920
it could hide a modal instead of showing

722
00:27:42,920 --> 00:27:46,460
it so we are using CSS for a lot which

723
00:27:46,460 --> 00:27:50,080
is cool but also really really scary

724
00:27:50,080 --> 00:27:52,910
because so much can can break if we

725
00:27:52,910 --> 00:27:56,120
don't use CSS correctly right and we

726
00:27:56,120 --> 00:27:59,180
don't use it with protections so so

727
00:27:59,180 --> 00:28:00,740
that's the takeaway is that you should

728
00:28:00,740 --> 00:28:02,000
you should really be paying attention

729
00:28:02,000 --> 00:28:03,830
your CSS like actually when I do code

730
00:28:03,830 --> 00:28:05,780
reviews these days I pay more attention

731
00:28:05,780 --> 00:28:08,570
to the CSS changes in the code review

732
00:28:08,570 --> 00:28:11,630
then to the server side changes because

733
00:28:11,630 --> 00:28:13,190
I know the server side changes are

734
00:28:13,190 --> 00:28:14,960
pretty well tested I know that people

735
00:28:14,960 --> 00:28:17,300
know that those are important but CSS

736
00:28:17,300 --> 00:28:19,280
people often think like I'll just change

737
00:28:19,280 --> 00:28:21,320
this number here no big deal right but

738
00:28:21,320 --> 00:28:24,680
it can actually be a big deal so pay

739
00:28:24,680 --> 00:28:26,480
attention your CSS think really

740
00:28:26,480 --> 00:28:29,570
carefully about you know how you're

741
00:28:29,570 --> 00:28:31,880
handling your prefixes and how your

742
00:28:31,880 --> 00:28:33,770
modernizing it and how you're testing it

743
00:28:33,770 --> 00:28:35,200
and how you're doing it and just

744
00:28:35,200 --> 00:28:37,650
remember that it actually really

