1
00:00:14,440 --> 00:00:17,920

so hi there I'm curious in the audience

2
00:00:17,920 --> 00:00:22,289
who here is excited about animation whoo

3
00:00:22,289 --> 00:00:26,470
my faithful I'm so happy okay how many

4
00:00:26,470 --> 00:00:31,360
of you use CSS animations how many of

5
00:00:31,360 --> 00:00:34,180
you use a javascript animation library

6
00:00:34,180 --> 00:00:37,870
like gee sap okay fewer if your hands

7
00:00:37,870 --> 00:00:39,570
it's okay we're here to talk about

8
00:00:39,570 --> 00:00:43,510
bridging those two today and so Before

9
00:00:43,510 --> 00:00:45,730
we jump in and what I do i help clients

10
00:00:45,730 --> 00:00:48,820
with motion design systems and animating

11
00:00:48,820 --> 00:00:51,809
their user interfaces I worked with

12
00:00:51,809 --> 00:00:54,579
Salesforce on their motion design system

13
00:00:54,579 --> 00:00:56,199
portion of the lighting design system

14
00:00:56,199 --> 00:00:59,530
but back in the day I used to be a

15
00:00:59,530 --> 00:01:02,589
cartoonist and this is how I started my

16
00:01:02,589 --> 00:01:05,350
long path to where I am now I used to be

17
00:01:05,350 --> 00:01:07,510
a professional cartoonist I had I drew

18
00:01:07,510 --> 00:01:09,909
comics had many fans all over the world

19
00:01:09,909 --> 00:01:12,460
this was my goodness like a decade ago

20
00:01:12,460 --> 00:01:15,130
and then one day I needed to get some

21
00:01:15,130 --> 00:01:17,680
surgery and cartoonists in the United

22
00:01:17,680 --> 00:01:19,540
States of America do not make enough to

23
00:01:19,540 --> 00:01:22,510
get surgery so I had to go find a real

24
00:01:22,510 --> 00:01:25,600
job and I ended up making comics for a

25
00:01:25,600 --> 00:01:28,480
living I ended up I ended up moving into

26
00:01:28,480 --> 00:01:30,820
web development I put my web skills to

27
00:01:30,820 --> 00:01:32,800
use turning my back on creativity and I

28
00:01:32,800 --> 00:01:35,200
thought I will never tell stories again

29
00:01:35,200 --> 00:01:37,660
i am a i'm a web developer now i am a

30
00:01:37,660 --> 00:01:39,760
front-end developer everything is CSS

31
00:01:39,760 --> 00:01:41,770
everything is typography nothing moves

32
00:01:41,770 --> 00:01:44,320
not even room for illustrations it's

33
00:01:44,320 --> 00:01:50,560
over I thought so few years passed and I

34
00:01:50,560 --> 00:01:53,470
remembered all of a sudden Scott McCloud

35
00:01:53,470 --> 00:01:57,070
this guy he is the who has read making

36
00:01:57,070 --> 00:01:59,590
comics understanding comics reinventing

37
00:01:59,590 --> 00:02:03,010
comics if you haven't read it it's a

38
00:02:03,010 --> 00:02:05,380
great book by scott mccloud he is the

39
00:02:05,380 --> 00:02:08,259
godfather of the future of comics and he

40
00:02:08,259 --> 00:02:10,149
wrote a really beautiful book called

41
00:02:10,149 --> 00:02:11,769
reinventing comics which was all about

42
00:02:11,769 --> 00:02:15,220
the infinite canvas and what you know

43
00:02:15,220 --> 00:02:16,810
was saying earlier really spoke to me

44
00:02:16,810 --> 00:02:18,970
about arcing the web for it because i

45
00:02:18,970 --> 00:02:20,739
was looking at all these AP is that were

46
00:02:20,739 --> 00:02:22,450
coming out for speech recognition and

47
00:02:22,450 --> 00:02:24,440
audio generation and

48
00:02:24,440 --> 00:02:25,940
animation and I was thinking oh my

49
00:02:25,940 --> 00:02:27,800
goodness it's what Scott MacLeod said

50
00:02:27,800 --> 00:02:29,780
there is an infinite canvas in my

51
00:02:29,780 --> 00:02:31,820
browser and I can realize stories I

52
00:02:31,820 --> 00:02:34,550
don't need flash I can use JavaScript

53
00:02:34,550 --> 00:02:37,910
and CSS we can do this yes yes so I quit

54
00:02:37,910 --> 00:02:43,010
my job and I keep falling in love with

55
00:02:43,010 --> 00:02:47,300
the wrong jobs uh so I quit my job and I

56
00:02:47,300 --> 00:02:48,800
gave myself fully to it I started

57
00:02:48,800 --> 00:02:50,420
traveling and making cool things and

58
00:02:50,420 --> 00:02:53,300
speaking and you know coming to places

59
00:02:53,300 --> 00:02:55,040
like Argentina thank you so much for

60
00:02:55,040 --> 00:02:56,510
having me it's so good to be here I've

61
00:02:56,510 --> 00:02:59,690
never been to South American continent

62
00:02:59,690 --> 00:03:03,110
so it's like wow it's huge located well

63
00:03:03,110 --> 00:03:09,860
here Wow very exciting great steak so

64
00:03:09,860 --> 00:03:13,100
yes my first project was Alice in video

65
00:03:13,100 --> 00:03:15,530
land and I do not mean the Swedish

66
00:03:15,530 --> 00:03:18,140
electroclash rock band although I'm a

67
00:03:18,140 --> 00:03:20,600
big fan of theirs Alison video land was

68
00:03:20,600 --> 00:03:23,030
a project I did with adobe's inspire

69
00:03:23,030 --> 00:03:25,370
magazine to showcase some ways that you

70
00:03:25,370 --> 00:03:27,800
could use CSS animation to tell stories

71
00:03:27,800 --> 00:03:29,930
that until this time had been largely

72
00:03:29,930 --> 00:03:32,720
the domain of flash which everyone was

73
00:03:32,720 --> 00:03:35,120
morning and couldn't use I still get

74
00:03:35,120 --> 00:03:37,190
emails from designers because more

75
00:03:37,190 --> 00:03:39,050
designers and web developers saw this I

76
00:03:39,050 --> 00:03:41,150
still get emails from designers saying I

77
00:03:41,150 --> 00:03:43,520
saw that it really inspired me to get

78
00:03:43,520 --> 00:03:45,500
into using code and front-end

79
00:03:45,500 --> 00:03:47,390
development to tell new and unusual

80
00:03:47,390 --> 00:03:49,250
stories in different ways that's pretty

81
00:03:49,250 --> 00:03:51,530
powerful it's exciting reminds me a lot

82
00:03:51,530 --> 00:03:53,630
of the emails I used to get from young

83
00:03:53,630 --> 00:03:56,120
women who read my comics online so that

84
00:03:56,120 --> 00:03:58,040
was a video that I showed you I could

85
00:03:58,040 --> 00:04:00,200
use After Effects to just record that

86
00:04:00,200 --> 00:04:01,820
and show it to you there wasn't a whole

87
00:04:01,820 --> 00:04:03,290
lot of interaction happening there's a

88
00:04:03,290 --> 00:04:04,850
lot of animation but not a lot of

89
00:04:04,850 --> 00:04:07,489
interaction CSS animations are really

90
00:04:07,489 --> 00:04:09,140
declarative they're not very interactive

91
00:04:09,140 --> 00:04:11,630
if you want to do interactive animations

92
00:04:11,630 --> 00:04:14,660
you need a library like G sap or snap

93
00:04:14,660 --> 00:04:18,080
SVG or another kind of JavaScript thing

94
00:04:18,080 --> 00:04:21,970
a mochis we don't have a lot of

95
00:04:21,970 --> 00:04:24,560
interactive animation libraries but we

96
00:04:24,560 --> 00:04:26,120
have some good standards and solid

97
00:04:26,120 --> 00:04:28,340
standards it's still tough though

98
00:04:28,340 --> 00:04:31,160
because browsers let's face it browsers

99
00:04:31,160 --> 00:04:34,190
were designed for scrolling animation

100
00:04:34,190 --> 00:04:37,280
used to be the only the only realm of

101
00:04:37,280 --> 00:04:39,620
was in flash the only thing that

102
00:04:39,620 --> 00:04:41,389
browsers could animate was the page

103
00:04:41,389 --> 00:04:44,030
scrolling so when CSS animations and

104
00:04:44,030 --> 00:04:45,560
transitions came out of course browsers

105
00:04:45,560 --> 00:04:47,090
are like oh no this isn't very

106
00:04:47,090 --> 00:04:49,490
performant oh when is that thing start

107
00:04:49,490 --> 00:04:51,590
moving around ah they went a little

108
00:04:51,590 --> 00:04:55,850
crazy it's not it's not a game engine

109
00:04:55,850 --> 00:04:58,460
it's a it's a document reader it's a

110
00:04:58,460 --> 00:05:00,950
text document reader and now it's got to

111
00:05:00,950 --> 00:05:04,070
make things move and everything is about

112
00:05:04,070 --> 00:05:08,570
to change so before CSS animations and

113
00:05:08,570 --> 00:05:11,090
transitions over a decade ago there was

114
00:05:11,090 --> 00:05:12,770
this thing called synchronized

115
00:05:12,770 --> 00:05:16,550
multimedia integration language that's a

116
00:05:16,550 --> 00:05:19,970
lot but we know it as smile pronounced

117
00:05:19,970 --> 00:05:23,570
like the smile it's it's used to animate

118
00:05:23,570 --> 00:05:25,400
SVG's and this was one of the first

119
00:05:25,400 --> 00:05:28,070
animation ap is that was written it was

120
00:05:28,070 --> 00:05:30,460
created via that slow process we know as

121
00:05:30,460 --> 00:05:36,169
standards committees so in 2009 oh my

122
00:05:36,169 --> 00:05:38,750
goodness like a decade later safaris

123
00:05:38,750 --> 00:05:42,050
developers were working on trying to

124
00:05:42,050 --> 00:05:45,110
make the iOS safari experience feel and

125
00:05:45,110 --> 00:05:47,900
look as good as native web apps you know

126
00:05:47,900 --> 00:05:50,510
people are browsing the apple site on

127
00:05:50,510 --> 00:05:52,880
their iPhone shouldn't it look as cool

128
00:05:52,880 --> 00:05:54,650
as all the apps they're using on their

129
00:05:54,650 --> 00:05:58,700
iPhone so without the standards process

130
00:05:58,700 --> 00:06:01,370
they sort of introduced two new specs of

131
00:06:01,370 --> 00:06:03,289
their own because the standards

132
00:06:03,289 --> 00:06:04,580
committees had been chasing each other

133
00:06:04,580 --> 00:06:06,440
in a circle going how do we make

134
00:06:06,440 --> 00:06:08,510
animations no one could agree on

135
00:06:08,510 --> 00:06:11,300
anything it wasn't getting done so

136
00:06:11,300 --> 00:06:13,850
safaris team just came in and said boom

137
00:06:13,850 --> 00:06:17,660
you have them now when Internet Explorer

138
00:06:17,660 --> 00:06:20,090
saw this they were like you want us to

139
00:06:20,090 --> 00:06:22,370
implement all these different animation

140
00:06:22,370 --> 00:06:25,039
engines smile and CSS animations and

141
00:06:25,039 --> 00:06:28,160
transitions and each these are 33

142
00:06:28,160 --> 00:06:30,260
animation engines each one of them with

143
00:06:30,260 --> 00:06:32,030
a slightly different interpretation all

144
00:06:32,030 --> 00:06:33,890
the browsers are interpreting these in

145
00:06:33,890 --> 00:06:35,630
different ways this is this is getting

146
00:06:35,630 --> 00:06:39,650
way too difficult tell you what we will

147
00:06:39,650 --> 00:06:41,300
implement these all of these animations

148
00:06:41,300 --> 00:06:46,490
if you w3c can give us one API that will

149
00:06:46,490 --> 00:06:49,099
dictate how each of them should behave

150
00:06:49,099 --> 00:06:50,960
the one API to

151
00:06:50,960 --> 00:06:53,840
rule them all if you will an API that

152
00:06:53,840 --> 00:06:55,940
could underlie all of the current

153
00:06:55,940 --> 00:06:58,759
animation specifications and any future

154
00:06:58,759 --> 00:07:00,710
ones that would come along one that

155
00:07:00,710 --> 00:07:02,630
would bring animation to the browser and

156
00:07:02,630 --> 00:07:04,910
let the browser animate more than just

157
00:07:04,910 --> 00:07:08,449
scrolling and this would also of course

158
00:07:08,449 --> 00:07:10,310
open up this rendering engine to

159
00:07:10,310 --> 00:07:12,860
JavaScript developers so they could form

160
00:07:12,860 --> 00:07:15,620
their own animations in the future it

161
00:07:15,620 --> 00:07:19,430
was a really big API it took a long time

162
00:07:19,430 --> 00:07:22,130
to write and after several years of

163
00:07:22,130 --> 00:07:24,440
drafting spec authors finally are

164
00:07:24,440 --> 00:07:26,690
nailing down the edge cases and even

165
00:07:26,690 --> 00:07:30,440
edge has moved to adopt it we call it

166
00:07:30,440 --> 00:07:34,910
the web animations API unfortunately in

167
00:07:34,910 --> 00:07:38,750
the interim smile died at chrome

168
00:07:38,750 --> 00:07:41,360
deprecated smile and so Internet

169
00:07:41,360 --> 00:07:44,479
Explorer's like oh edge doesn't have to

170
00:07:44,479 --> 00:07:47,000
implement smile wow how they dodged that

171
00:07:47,000 --> 00:07:50,630
bullet well done way of saying mmm come

172
00:07:50,630 --> 00:07:52,069
back to me on Friday and then the

173
00:07:52,069 --> 00:07:56,659
problem just disappears so you can

174
00:07:56,659 --> 00:07:58,729
already see this API at work in browser

175
00:07:58,729 --> 00:08:00,800
animation in browser dev tools for

176
00:08:00,800 --> 00:08:02,570
instance these are the Firefox dev tools

177
00:08:02,570 --> 00:08:04,789
you can use them you see these timelines

178
00:08:04,789 --> 00:08:07,280
you can scrub that is possible because

179
00:08:07,280 --> 00:08:10,310
of the web animations API before the API

180
00:08:10,310 --> 00:08:12,680
doing this each browser would have had

181
00:08:12,680 --> 00:08:14,870
to write their own very weird code to do

182
00:08:14,870 --> 00:08:16,400
this now they all can use the web

183
00:08:16,400 --> 00:08:19,880
animations API to make timelines tools

184
00:08:19,880 --> 00:08:22,039
that you can scrub etc so it really does

185
00:08:22,039 --> 00:08:23,479
open up the engine not only for the

186
00:08:23,479 --> 00:08:25,400
browsers but for individual developers

187
00:08:25,400 --> 00:08:29,570
like you and I so it's an awesome it's

188
00:08:29,570 --> 00:08:31,639
an awesome API the web animations API is

189
00:08:31,639 --> 00:08:33,560
totally a big deal I believe in it it's

190
00:08:33,560 --> 00:08:35,209
going to change how we do animation on

191
00:08:35,209 --> 00:08:37,339
the web and I wanted to get the word out

192
00:08:37,339 --> 00:08:39,260
so I teamed up with the Mozilla

193
00:08:39,260 --> 00:08:41,959
developer network to get a grant so that

194
00:08:41,959 --> 00:08:43,399
I could document it because it is such a

195
00:08:43,399 --> 00:08:49,399
big API so I was like we got to document

196
00:08:49,399 --> 00:08:52,550
this let's do it and who better to help

197
00:08:52,550 --> 00:08:55,700
bring this API to developers and

198
00:08:55,700 --> 00:08:57,890
designers everywhere then our good old

199
00:08:57,890 --> 00:09:00,470
friend Alice the modern Alice in

200
00:09:00,470 --> 00:09:03,949
Wonderland so with that we would like to

201
00:09:03,949 --> 00:09:04,819
welcome you

202
00:09:04,819 --> 00:09:06,829
to jump down the rabbit hole to web

203
00:09:06,829 --> 00:09:11,149
animations API land so let's get start

204
00:09:11,149 --> 00:09:14,359
with these core concepts the web

205
00:09:14,359 --> 00:09:16,669
animations API is based on two models

206
00:09:16,669 --> 00:09:19,519
it's got a timing model and it's got an

207
00:09:19,519 --> 00:09:21,229
animation model or as I like to think of

208
00:09:21,229 --> 00:09:24,499
it as the when and the what one handles

209
00:09:24,499 --> 00:09:25,789
when things are happening the other

210
00:09:25,789 --> 00:09:29,229
handles what things should be happening

211
00:09:29,229 --> 00:09:32,389
now the web animations API is time-based

212
00:09:32,389 --> 00:09:35,319
all the animations must have durations

213
00:09:35,319 --> 00:09:38,479
currently these durations create

214
00:09:38,479 --> 00:09:40,789
timelines let's talk a little bit about

215
00:09:40,789 --> 00:09:43,189
the Cheshire Cat now let's say the

216
00:09:43,189 --> 00:09:45,259
Cheshire Cat takes eight seconds to

217
00:09:45,259 --> 00:09:47,359
disappear to go from being there to

218
00:09:47,359 --> 00:09:51,139
being not all there we go from zero at

219
00:09:51,139 --> 00:09:55,249
their 28 when he's not all there now the

220
00:09:55,249 --> 00:09:57,979
web animation API takes these two values

221
00:09:57,979 --> 00:10:01,279
makes a timeline and it's create

222
00:10:01,279 --> 00:10:04,220
snapshots of how he should look all the

223
00:10:04,220 --> 00:10:06,739
way down to milliseconds so any

224
00:10:06,739 --> 00:10:10,220
particular time the browser knows what

225
00:10:10,220 --> 00:10:13,339
he should look like here or here that's

226
00:10:13,339 --> 00:10:15,529
very performant because it means it's

227
00:10:15,529 --> 00:10:17,059
inherently see keable and searchable

228
00:10:17,059 --> 00:10:19,579
it's not procedural the browser can jump

229
00:10:19,579 --> 00:10:21,319
to any point in this timeline without

230
00:10:21,319 --> 00:10:29,959
having to expend too much energy so one

231
00:10:29,959 --> 00:10:31,220
of the ways i like to think about this

232
00:10:31,220 --> 00:10:33,559
even in the spec it says it states this

233
00:10:33,559 --> 00:10:35,779
that the time may be shifted backwards

234
00:10:35,779 --> 00:10:37,699
and forwards scaled reverse paused

235
00:10:37,699 --> 00:10:39,529
repeated this is the point you can you

236
00:10:39,529 --> 00:10:41,509
can manipulate time with this API and

237
00:10:41,509 --> 00:10:43,579
it's lets us do all kinds of wonderful

238
00:10:43,579 --> 00:10:45,589
things which i'm going to show you we

239
00:10:45,589 --> 00:10:47,449
call this kind of animation stainless

240
00:10:47,449 --> 00:10:51,499
and unlike request animation frame rate

241
00:10:51,499 --> 00:10:54,470
which is limited by how often the page

242
00:10:54,470 --> 00:10:56,779
is repainted there are some benefits to

243
00:10:56,779 --> 00:10:59,689
using this kind of timeline for this

244
00:10:59,689 --> 00:11:01,669
kind of animation for instance you can

245
00:11:01,669 --> 00:11:04,819
easily run animations at forwards or

246
00:11:04,819 --> 00:11:07,129
backwards you can create inherently see

247
00:11:07,129 --> 00:11:09,439
keable animations you can plunk down

248
00:11:09,439 --> 00:11:11,449
animations pretty much anywhere in the

249
00:11:11,449 --> 00:11:16,429
timeline so here's an example of

250
00:11:16,429 --> 00:11:18,570
something you can't do with CSS

251
00:11:18,570 --> 00:11:21,450
timelines have an inherent our hierarchy

252
00:11:21,450 --> 00:11:24,300
and today inherit here are two

253
00:11:24,300 --> 00:11:27,840
animations that on the left you can see

254
00:11:27,840 --> 00:11:30,660
the CSS animations as we add cats each

255
00:11:30,660 --> 00:11:32,730
cat starts at a different point so their

256
00:11:32,730 --> 00:11:34,440
timelines are out of sync but over here

257
00:11:34,440 --> 00:11:37,050
with the web animations API each one of

258
00:11:37,050 --> 00:11:39,180
these cloned cats we make you're making

259
00:11:39,180 --> 00:11:41,520
it inherent the timeline and its current

260
00:11:41,520 --> 00:11:44,040
position of the parent cat this is

261
00:11:44,040 --> 00:11:45,960
something we could not do with CSS alone

262
00:11:45,960 --> 00:11:48,210
but we are able to tap the browser's

263
00:11:48,210 --> 00:11:51,830
rendering engine and do it with this API

264
00:11:51,830 --> 00:11:54,030
now timelines have children called

265
00:11:54,030 --> 00:11:56,850
animations an animation connects a

266
00:11:56,850 --> 00:11:59,190
single tween to the timeline what is a

267
00:11:59,190 --> 00:12:01,170
tween I will explain that in a moment

268
00:12:01,170 --> 00:12:06,000
but basically what happens is that this

269
00:12:06,000 --> 00:12:08,880
tween from here from there to not all

270
00:12:08,880 --> 00:12:12,180
there right here is called a keyframe

271
00:12:12,180 --> 00:12:15,090
effect basically how the cat looks from

272
00:12:15,090 --> 00:12:17,760
being there to just being his smile we

273
00:12:17,760 --> 00:12:21,230
call that a key frame or keyframe effect

274
00:12:21,230 --> 00:12:24,630
so you have a timeline and you know what

275
00:12:24,630 --> 00:12:26,160
the thing should look like at any given

276
00:12:26,160 --> 00:12:30,000
time but how do you make it go now the

277
00:12:30,000 --> 00:12:32,310
animation allows you to play a key frame

278
00:12:32,310 --> 00:12:34,290
effect along a timeline the same way a

279
00:12:34,290 --> 00:12:38,790
DVD player would play a DVD so if you

280
00:12:38,790 --> 00:12:41,160
can think of a DVD player as being the

281
00:12:41,160 --> 00:12:43,530
animation object the key frame of flat

282
00:12:43,530 --> 00:12:45,330
effect would be the DVD you put in there

283
00:12:45,330 --> 00:12:48,210
keyframe effect holds all the different

284
00:12:48,210 --> 00:12:50,100
ways this thing should look the way the

285
00:12:50,100 --> 00:12:51,390
cat looks in the beginning all the way

286
00:12:51,390 --> 00:12:53,430
to the way he looks in the end but until

287
00:12:53,430 --> 00:12:55,890
you put it inside that key until you put

288
00:12:55,890 --> 00:12:57,870
it inside that animation you can't play

289
00:12:57,870 --> 00:13:00,360
it you can't sink it so the controls are

290
00:13:00,360 --> 00:13:02,640
in animation the information for how it

291
00:13:02,640 --> 00:13:06,880
should look is in the keyframe

292
00:13:06,890 --> 00:13:08,700
unfortunately I don't think people even

293
00:13:08,700 --> 00:13:10,260
remember this metaphor anymore let's

294
00:13:10,260 --> 00:13:12,660
move along so with these two models

295
00:13:12,660 --> 00:13:15,120
combined the timing and the animation

296
00:13:15,120 --> 00:13:18,240
the web animation API runs all animation

297
00:13:18,240 --> 00:13:20,850
engines in the browser now well now ish

298
00:13:20,850 --> 00:13:23,940
it's a this is this is all on a bleeding

299
00:13:23,940 --> 00:13:26,760
edge most recent Firefox and Chrome have

300
00:13:26,760 --> 00:13:28,530
this stuff available from out from

301
00:13:28,530 --> 00:13:30,790
underneath flags it's really exciting

302
00:13:30,790 --> 00:13:33,460
so why don't I show you all how it's how

303
00:13:33,460 --> 00:13:37,150
it does that with CSS animations now I'm

304
00:13:37,150 --> 00:13:39,940
assuming because I saw so many hands up

305
00:13:39,940 --> 00:13:42,460
that everyone here has a really good

306
00:13:42,460 --> 00:13:44,320
grasp of CSS animations and transitions

307
00:13:44,320 --> 00:13:50,350
by now yes okay well just in case just

308
00:13:50,350 --> 00:13:54,100
in case somebody doesn't i do have a non

309
00:13:54,100 --> 00:13:55,300
line course for that and there's a

310
00:13:55,300 --> 00:13:56,530
special price for you because you're

311
00:13:56,530 --> 00:13:59,860
awesome my goodness it's the same as the

312
00:13:59,860 --> 00:14:02,500
hashtag so anyway back to what we were

313
00:14:02,500 --> 00:14:04,000
talking about we got the animation

314
00:14:04,000 --> 00:14:05,710
player and it takes a keyframe effect

315
00:14:05,710 --> 00:14:07,420
let's take a closer look at this

316
00:14:07,420 --> 00:14:09,400
keyframe effect let's make one a

317
00:14:09,400 --> 00:14:11,200
keyframe of that constructor we're going

318
00:14:11,200 --> 00:14:13,210
to make some CSS animations using the

319
00:14:13,210 --> 00:14:15,550
web animations API I'll show you how the

320
00:14:15,550 --> 00:14:18,010
browser is doing this on the back end so

321
00:14:18,010 --> 00:14:20,260
in a traditional animation we get these

322
00:14:20,260 --> 00:14:22,450
two things called keys your key poses

323
00:14:22,450 --> 00:14:25,090
we've got tuna in point a we got to an

324
00:14:25,090 --> 00:14:30,130
end point B he's the cat Gina these in

325
00:14:30,130 --> 00:14:32,050
interaction development are referred to

326
00:14:32,050 --> 00:14:34,660
as keyframes not keep poses because

327
00:14:34,660 --> 00:14:37,210
you're not always animating animals that

328
00:14:37,210 --> 00:14:39,850
would pose you're animating interfaces

329
00:14:39,850 --> 00:14:43,510
so everything in between usually in

330
00:14:43,510 --> 00:14:45,670
traditional animation you would pay an

331
00:14:45,670 --> 00:14:48,220
intern or send us overseas where people

332
00:14:48,220 --> 00:14:49,900
can work many hours for very little

333
00:14:49,900 --> 00:14:52,540
money and this is why animation left

334
00:14:52,540 --> 00:14:53,920
America I go to these conferences

335
00:14:53,920 --> 00:14:56,050
likewise animation evening American it's

336
00:14:56,050 --> 00:14:59,110
like how could you afford to make it

337
00:14:59,110 --> 00:15:03,910
anyway so these are the in betweens but

338
00:15:03,910 --> 00:15:05,650
in interaction development we no

339
00:15:05,650 --> 00:15:08,710
in-betweens as teens you may have heard

340
00:15:08,710 --> 00:15:10,260
that if you've worked with flash

341
00:15:10,260 --> 00:15:12,460
speaking of anyone here ever work with

342
00:15:12,460 --> 00:15:16,600
flash any all right okay I feel your

343
00:15:16,600 --> 00:15:18,380
frustrations

344
00:15:18,380 --> 00:15:24,060
mmm so in the API the keyframe effect

345
00:15:24,060 --> 00:15:26,430
tells us what it should look like at

346
00:15:26,430 --> 00:15:28,620
those key points right it basically

347
00:15:28,620 --> 00:15:32,370
handles both the keep the key poses the

348
00:15:32,370 --> 00:15:38,279
keys and the tweens the animation model

349
00:15:38,279 --> 00:15:40,970
is the one that actually pardon the

350
00:15:40,970 --> 00:15:43,110
keyframe effect handles the key poses

351
00:15:43,110 --> 00:15:44,970
you can remember because it says key but

352
00:15:44,970 --> 00:15:46,800
the animation model it's up to it to

353
00:15:46,800 --> 00:15:48,899
decide what's going to look like in

354
00:15:48,899 --> 00:15:51,029
between it's the one that figures out

355
00:15:51,029 --> 00:15:55,680
those tweens it interpolates those now

356
00:15:55,680 --> 00:15:57,810
this is from the original alice in

357
00:15:57,810 --> 00:15:59,730
wonderland this is a CSS transition

358
00:15:59,730 --> 00:16:01,589
where when you click on the bunny rabbit

359
00:16:01,589 --> 00:16:04,260
he goes down the hole right and that's

360
00:16:04,260 --> 00:16:06,300
done like this we've got the transition

361
00:16:06,300 --> 00:16:08,670
transform takes three seconds and when

362
00:16:08,670 --> 00:16:10,290
you click on him he gets a class of

363
00:16:10,290 --> 00:16:12,870
interactive which changed his transform

364
00:16:12,870 --> 00:16:15,980
to translate why it pops them down

365
00:16:15,980 --> 00:16:18,630
that's straight forward here's the same

366
00:16:18,630 --> 00:16:22,290
interaction again without CSS just using

367
00:16:22,290 --> 00:16:24,449
the web animations API you can't even

368
00:16:24,449 --> 00:16:27,420
tell the difference amazing right how

369
00:16:27,420 --> 00:16:30,000
did I do that well the first thing you

370
00:16:30,000 --> 00:16:31,860
do is you make a new keyframe effect and

371
00:16:31,860 --> 00:16:34,230
in this case I went out and I got the

372
00:16:34,230 --> 00:16:36,690
White Rabbit object and here's a

373
00:16:36,690 --> 00:16:39,630
keyframe object that I'm passing it it's

374
00:16:39,630 --> 00:16:41,930
an array with two objects holding

375
00:16:41,930 --> 00:16:45,810
holding key value pairs of styles and

376
00:16:45,810 --> 00:16:48,660
their properties and then you pass it a

377
00:16:48,660 --> 00:16:51,300
timing properties object which specifies

378
00:16:51,300 --> 00:16:53,880
the duration in milliseconds and that

379
00:16:53,880 --> 00:16:56,459
the film OG forwards because it is

380
00:16:56,459 --> 00:16:58,620
basically a transition is an animation

381
00:16:58,620 --> 00:17:03,120
with the film modes for words sweetness

382
00:17:03,120 --> 00:17:06,780
and we just save that into a variable

383
00:17:06,780 --> 00:17:09,959
called rabbit down keyframes now here's

384
00:17:09,959 --> 00:17:11,819
what happens if you don't set that that

385
00:17:11,819 --> 00:17:19,790
Phil mode

386
00:17:19,800 --> 00:17:21,480
it just goes right back to the beginning

387
00:17:21,480 --> 00:17:24,180
Phil modes are handy they dictate how

388
00:17:24,180 --> 00:17:26,640
the animation should respond when it's

389
00:17:26,640 --> 00:17:28,530
finished and before it's begun whether

390
00:17:28,530 --> 00:17:31,530
or not the keyframes should have effect

391
00:17:31,530 --> 00:17:34,910
before the animation is actually played

392
00:17:34,910 --> 00:17:37,140
we know a lot of these options from

393
00:17:37,140 --> 00:17:39,660
their CSS counterparts if this if this

394
00:17:39,660 --> 00:17:41,100
just made your eyes roll back in your

395
00:17:41,100 --> 00:17:45,150
head here's a refresher duration is well

396
00:17:45,150 --> 00:17:46,980
instead of transition or animation

397
00:17:46,980 --> 00:17:49,400
duration it's now duration delay

398
00:17:49,400 --> 00:17:53,580
familiar Phil is Phil mode iterations

399
00:17:53,580 --> 00:17:55,560
it's so much shorter now instead of

400
00:17:55,560 --> 00:17:57,930
animation iteration count you can just

401
00:17:57,930 --> 00:18:00,900
call them iterations direction of course

402
00:18:00,900 --> 00:18:02,870
and my particular favorite instead of

403
00:18:02,870 --> 00:18:05,340
animation timing function it's it's what

404
00:18:05,340 --> 00:18:07,680
we all know it is it's easing its easing

405
00:18:07,680 --> 00:18:10,980
call it what it is this is what happens

406
00:18:10,980 --> 00:18:13,110
when you don't build things by committee

407
00:18:13,110 --> 00:18:16,910
you end up with these crazy words so

408
00:18:16,910 --> 00:18:20,550
these end delay is a new one you haven't

409
00:18:20,550 --> 00:18:23,130
seen this one before it's milliseconds

410
00:18:23,130 --> 00:18:25,290
to delay after an animation has ended

411
00:18:25,290 --> 00:18:27,900
these are more important for sequencing

412
00:18:27,900 --> 00:18:32,730
for instance I would shoot I had a good

413
00:18:32,730 --> 00:18:34,520
example but it skipped my mind

414
00:18:34,520 --> 00:18:37,530
iterations start when the iteration of

415
00:18:37,530 --> 00:18:39,690
the animation should start of course and

416
00:18:39,690 --> 00:18:42,090
there's composite iteration composite

417
00:18:42,090 --> 00:18:43,410
and spacing and we're not even going to

418
00:18:43,410 --> 00:18:44,820
go there today because these things

419
00:18:44,820 --> 00:18:47,390
aren't implemented on any browsers yet

420
00:18:47,390 --> 00:18:50,370
so let's take take a moment to play that

421
00:18:50,370 --> 00:18:52,470
animation we we can do that with the

422
00:18:52,470 --> 00:18:53,850
animation object we have a keyframe

423
00:18:53,850 --> 00:18:56,190
object now we've got to get it into an

424
00:18:56,190 --> 00:18:57,960
animation object we're going to take

425
00:18:57,960 --> 00:18:59,760
this keyframe and we're going to

426
00:18:59,760 --> 00:19:02,220
put it into the DVD player I mean the

427
00:19:02,220 --> 00:19:04,620
animation object so how are we going to

428
00:19:04,620 --> 00:19:07,470
do that take rabbit down keyframes we're

429
00:19:07,470 --> 00:19:09,870
going to make a new animation we pass it

430
00:19:09,870 --> 00:19:13,290
the keyframes object and we also pass it

431
00:19:13,290 --> 00:19:14,850
a timeline we're going to pass it the

432
00:19:14,850 --> 00:19:17,340
document timeline right now the reason

433
00:19:17,340 --> 00:19:18,900
for this is that there's only one kind

434
00:19:18,900 --> 00:19:21,000
of timeline right now it's your

435
00:19:21,000 --> 00:19:23,670
documents timeline the API is written in

436
00:19:23,670 --> 00:19:25,320
such a way that it allows for other

437
00:19:25,320 --> 00:19:27,270
timelines to be created in the future

438
00:19:27,270 --> 00:19:29,640
for instance imagine a timeline based on

439
00:19:29,640 --> 00:19:31,690
your scrolling position

440
00:19:31,690 --> 00:19:33,070
is one that people are really excited

441
00:19:33,070 --> 00:19:35,889
about for parallax effects the API is

442
00:19:35,889 --> 00:19:37,389
really beautifully written in that it

443
00:19:37,389 --> 00:19:39,639
needs a lot of room open for future

444
00:19:39,639 --> 00:19:41,769
iterations of the web animations API to

445
00:19:41,769 --> 00:19:44,740
kind of blow things open so maybe future

446
00:19:44,740 --> 00:19:46,629
timelines will be open-ended they don't

447
00:19:46,629 --> 00:19:48,899
have to have a set ending we'll find out

448
00:19:48,899 --> 00:19:53,409
so then we of course put it inside a

449
00:19:53,409 --> 00:19:55,389
variable called the rabbit down and

450
00:19:55,389 --> 00:19:59,500
animation now we can do some things with

451
00:19:59,500 --> 00:20:01,210
these animation objects we can pause

452
00:20:01,210 --> 00:20:03,909
them we can play them we can reverse

453
00:20:03,909 --> 00:20:06,850
them we can finish them if we just want

454
00:20:06,850 --> 00:20:08,500
to skip right to the end and here's one

455
00:20:08,500 --> 00:20:12,220
that's super exciting cancel cancel is

456
00:20:12,220 --> 00:20:14,470
not something we have access to with CSS

457
00:20:14,470 --> 00:20:16,570
animation right now but you could use

458
00:20:16,570 --> 00:20:18,879
this for instance if you're halfway like

459
00:20:18,879 --> 00:20:20,769
halfway to completing an animation but

460
00:20:20,769 --> 00:20:23,110
up users said they didn't want to do

461
00:20:23,110 --> 00:20:25,000
that action it's a little bit different

462
00:20:25,000 --> 00:20:27,100
from finish because canceling would be

463
00:20:27,100 --> 00:20:31,120
an interruption all right so we're going

464
00:20:31,120 --> 00:20:32,950
to play it we take the rabbit down

465
00:20:32,950 --> 00:20:35,379
animation and we just call its method of

466
00:20:35,379 --> 00:20:37,090
play on it we're going to put that

467
00:20:37,090 --> 00:20:40,090
inside the function down he goes and

468
00:20:40,090 --> 00:20:42,039
we're going to add an event listener to

469
00:20:42,039 --> 00:20:44,799
that click on the rabbit and we're going

470
00:20:44,799 --> 00:20:46,870
to play the down he goes function

471
00:20:46,870 --> 00:20:49,769
whenever it's clicked and of course

472
00:20:49,769 --> 00:20:51,909
after he's clicked we remove that event

473
00:20:51,909 --> 00:20:52,899
listener because we don't need it

474
00:20:52,899 --> 00:21:01,419
anymore whoo it worked wow that was a

475
00:21:01,419 --> 00:21:02,950
lot of freaking work for two lines of

476
00:21:02,950 --> 00:21:05,830
CSS but now you can appreciate how your

477
00:21:05,830 --> 00:21:08,710
browser does it how all browsers will be

478
00:21:08,710 --> 00:21:10,809
doing it in the future but there there

479
00:21:10,809 --> 00:21:13,269
is some good news we do have a shortcut

480
00:21:13,269 --> 00:21:14,830
I'm sure you did not come here today for

481
00:21:14,830 --> 00:21:16,600
me to show you how to write really long

482
00:21:16,600 --> 00:21:19,659
examples of CSS animations so i'm going

483
00:21:19,659 --> 00:21:22,059
to show you the fun short way we have

484
00:21:22,059 --> 00:21:23,710
this thing called the animate method

485
00:21:23,710 --> 00:21:26,049
which we can call on any animatable

486
00:21:26,049 --> 00:21:28,360
object on the page don't don't try to

487
00:21:28,360 --> 00:21:29,889
call it on a head element that's not

488
00:21:29,889 --> 00:21:32,500
going to work but if it's an element

489
00:21:32,500 --> 00:21:34,570
that can be animated you can call

490
00:21:34,570 --> 00:21:38,409
animate on it so if you're a CSS

491
00:21:38,409 --> 00:21:41,139
animations won't like I am you may have

492
00:21:41,139 --> 00:21:43,600
noticed that the web animations API

493
00:21:43,600 --> 00:21:44,490
handled this

494
00:21:44,490 --> 00:21:47,400
transition more like this kind of

495
00:21:47,400 --> 00:21:50,880
animation that gives you an idea of how

496
00:21:50,880 --> 00:21:54,210
flexible the API is when I was first

497
00:21:54,210 --> 00:21:55,890
learning how to do CSS animations

498
00:21:55,890 --> 00:21:58,740
sometimes I did transitions like this in

499
00:21:58,740 --> 00:22:01,290
certain cases and it's good to know that

500
00:22:01,290 --> 00:22:03,120
the web animations API can handle both

501
00:22:03,120 --> 00:22:05,429
so let's try doing an animation next

502
00:22:05,429 --> 00:22:09,450
using the shortcut method so here we

503
00:22:09,450 --> 00:22:11,670
have two CSS animations happening on

504
00:22:11,670 --> 00:22:13,080
Alice we have another animation

505
00:22:13,080 --> 00:22:14,940
happening on the background but ignore

506
00:22:14,940 --> 00:22:16,860
that we're most concerned with alice

507
00:22:16,860 --> 00:22:22,620
alice is rotating all right okay cool I

508
00:22:22,620 --> 00:22:25,290
get it you don't want to show with me so

509
00:22:25,290 --> 00:22:27,600
alice is rotating but she's also

510
00:22:27,600 --> 00:22:30,630
slightly fading changing her color so

511
00:22:30,630 --> 00:22:33,450
she's rotating but she's also changed in

512
00:22:33,450 --> 00:22:38,309
color this is what that CSS looks like

513
00:22:38,309 --> 00:22:41,010
got Alice up here she's using the

514
00:22:41,010 --> 00:22:43,260
animation Alice tumbling it's running

515
00:22:43,260 --> 00:22:45,120
infinitely it takes three seconds for

516
00:22:45,120 --> 00:22:48,120
each loop it's got a linear easing

517
00:22:48,120 --> 00:22:51,030
function the keyframes specify at zero

518
00:22:51,030 --> 00:22:54,210
percent her color is black and she has

519
00:22:54,210 --> 00:22:56,760
no rotation at thirty percent her color

520
00:22:56,760 --> 00:22:59,309
transforms to a kind of a burgundy and

521
00:22:59,309 --> 00:23:01,410
then at one hundred percent it goes back

522
00:23:01,410 --> 00:23:04,230
to black and her transform completes to

523
00:23:04,230 --> 00:23:08,010
a 360 degree rotation just keep in mind

524
00:23:08,010 --> 00:23:11,130
that thirty percent is important this is

525
00:23:11,130 --> 00:23:12,570
how that shortcut I was talking about

526
00:23:12,570 --> 00:23:15,720
looks you get the element call animate

527
00:23:15,720 --> 00:23:17,309
on it you pass it keyframes and you pass

528
00:23:17,309 --> 00:23:21,630
it timing options very familiar so this

529
00:23:21,630 --> 00:23:24,420
is the keyframe object we could we could

530
00:23:24,420 --> 00:23:29,130
pass it note that there's this offset

531
00:23:29,130 --> 00:23:31,950
here so at zero percent this key we've

532
00:23:31,950 --> 00:23:33,800
got the rotate zero of the color of

533
00:23:33,800 --> 00:23:38,460
black butt down here on on the second

534
00:23:38,460 --> 00:23:40,800
one we have to specify this offset of 0

535
00:23:40,800 --> 00:23:43,530
point three the fun thing is if I didn't

536
00:23:43,530 --> 00:23:46,650
if I didn't specify point three the web

537
00:23:46,650 --> 00:23:48,720
animations API is so clever that it

538
00:23:48,720 --> 00:23:51,150
would just take these keys and split

539
00:23:51,150 --> 00:23:53,190
them up to happen at equidistant points

540
00:23:53,190 --> 00:23:54,990
on the timeline so her color we changed

541
00:23:54,990 --> 00:23:56,610
at fifty percent don't like fifty

542
00:23:56,610 --> 00:23:58,380
percent specify you want

543
00:23:58,380 --> 00:24:00,270
happen at pool you know thirty percent

544
00:24:00,270 --> 00:24:04,380
point three it can take a what is it 1 /

545
00:24:04,380 --> 00:24:07,710
3 2 it can take math it's JavaScript its

546
00:24:07,710 --> 00:24:10,230
ass is a lot of fun because you can get

547
00:24:10,230 --> 00:24:12,230
into some dynamic timing things there

548
00:24:12,230 --> 00:24:15,570
now for the timing object I made this

549
00:24:15,570 --> 00:24:18,360
Alice timing variable and you'll notice

550
00:24:18,360 --> 00:24:20,730
that I have specified the duration in

551
00:24:20,730 --> 00:24:23,610
milliseconds unlike CSS it does not take

552
00:24:23,610 --> 00:24:25,080
seconds value like the rest of

553
00:24:25,080 --> 00:24:27,420
JavaScript everything is milliseconds if

554
00:24:27,420 --> 00:24:29,250
you're not using milliseconds in your

555
00:24:29,250 --> 00:24:31,620
CSS you may want to start using them as

556
00:24:31,620 --> 00:24:34,830
it will make parsing into web animations

557
00:24:34,830 --> 00:24:37,410
API in the future a little bit easier if

558
00:24:37,410 --> 00:24:39,300
you think you might be using it for

559
00:24:39,300 --> 00:24:41,400
iterations we use the JavaScript keyword

560
00:24:41,400 --> 00:24:43,470
infinity for a while I kept trying to

561
00:24:43,470 --> 00:24:45,000
write infinite with quotes it wasn't

562
00:24:45,000 --> 00:24:46,680
working then I remembered oh yeah that's

563
00:24:46,680 --> 00:24:51,150
a keyword just use a capital I all right

564
00:24:51,150 --> 00:24:53,970
so let's put them together we take

565
00:24:53,970 --> 00:24:56,820
element animate and we turned it into we

566
00:24:56,820 --> 00:24:58,280
get we go out we get Alice

567
00:24:58,280 --> 00:25:00,900
document.getelementbyid e Alice animate

568
00:25:00,900 --> 00:25:03,390
we pass it the Alice tumbling keyframes

569
00:25:03,390 --> 00:25:06,480
and the Alice timing timing properties

570
00:25:06,480 --> 00:25:09,360
object and boom look at that it's

571
00:25:09,360 --> 00:25:11,790
exactly the same as the CSS version

572
00:25:11,790 --> 00:25:15,270
exactly the same pretty cool we can do

573
00:25:15,270 --> 00:25:19,140
better timelines and callbacks surely

574
00:25:19,140 --> 00:25:21,420
you didn't come here to just see how to

575
00:25:21,420 --> 00:25:24,290
do really long ways to do CSS animations

576
00:25:24,290 --> 00:25:27,270
that's right animation the web

577
00:25:27,270 --> 00:25:29,040
animations API does give us some pretty

578
00:25:29,040 --> 00:25:31,290
cool new attributes and things that we

579
00:25:31,290 --> 00:25:35,370
can do with them for instance we've got

580
00:25:35,370 --> 00:25:37,440
unfinish which is a promise if you love

581
00:25:37,440 --> 00:25:40,080
promises got on cancel if you also love

582
00:25:40,080 --> 00:25:42,390
if you love promises and you want them

583
00:25:42,390 --> 00:25:43,980
to run when the animation is canceled

584
00:25:43,980 --> 00:25:45,960
there's the ready promise which tells

585
00:25:45,960 --> 00:25:48,150
when your animation is ready to start

586
00:25:48,150 --> 00:25:50,460
running and there's play state which

587
00:25:50,460 --> 00:25:52,830
lets you know it's read-only you use

588
00:25:52,830 --> 00:25:54,330
methods to call it it'll tell you

589
00:25:54,330 --> 00:25:56,790
whether your animation is paused running

590
00:25:56,790 --> 00:26:00,570
or reversing playback rate we'll talk

591
00:26:00,570 --> 00:26:02,970
more about that later and there's effect

592
00:26:02,970 --> 00:26:05,040
effect is handy because it points right

593
00:26:05,040 --> 00:26:07,260
back to the keyframe effect if you ever

594
00:26:07,260 --> 00:26:11,350
need to access it in the future

595
00:26:11,360 --> 00:26:13,860
one day we might have different kinds of

596
00:26:13,860 --> 00:26:15,300
effects we might have groups and

597
00:26:15,300 --> 00:26:17,070
sequences so it's important to remember

598
00:26:17,070 --> 00:26:20,010
this there are a couple of other cool

599
00:26:20,010 --> 00:26:22,410
cool attributes like current time which

600
00:26:22,410 --> 00:26:24,150
shows you your location on a timeline

601
00:26:24,150 --> 00:26:26,370
and finished which is a call back and

602
00:26:26,370 --> 00:26:30,120
we're going to use those so there's a

603
00:26:30,120 --> 00:26:31,950
famous scene where alice is drinking and

604
00:26:31,950 --> 00:26:33,150
eating and she's growing bigger and

605
00:26:33,150 --> 00:26:36,180
smaller and I wanted to recreate that

606
00:26:36,180 --> 00:26:38,700
with this particular experiment I wanted

607
00:26:38,700 --> 00:26:42,720
to show Alice eating cake and getting

608
00:26:42,720 --> 00:26:45,030
bigger or drinking a little glass of

609
00:26:45,030 --> 00:26:47,460
water and getting smaller and I thought

610
00:26:47,460 --> 00:26:49,170
surely this is a job for the web

611
00:26:49,170 --> 00:26:50,790
animations API let's make a game with

612
00:26:50,790 --> 00:26:55,980
that and this is what I had in mind so

613
00:26:55,980 --> 00:26:57,870
basically you go over here and you're

614
00:26:57,870 --> 00:27:00,480
toting down your mouse over the cake and

615
00:27:00,480 --> 00:27:02,850
she gets bigger and when you hold down

616
00:27:02,850 --> 00:27:05,420
the mouse over the soda she gets smaller

617
00:27:05,420 --> 00:27:11,280
that's a lot of fun so how this is

618
00:27:11,280 --> 00:27:12,930
housed how does this happening Alice

619
00:27:12,930 --> 00:27:16,260
isn't on particular she is on a time

620
00:27:16,260 --> 00:27:19,380
line going from big to small she starts

621
00:27:19,380 --> 00:27:21,900
her the beginning of her animation is

622
00:27:21,900 --> 00:27:23,520
really small and the end is really big

623
00:27:23,520 --> 00:27:26,700
these are the two key poses that are in

624
00:27:26,700 --> 00:27:29,460
for keyframe effect now clicking or

625
00:27:29,460 --> 00:27:33,810
tapping on the different these two

626
00:27:33,810 --> 00:27:36,600
things plays her forward or backwards so

627
00:27:36,600 --> 00:27:39,180
they're actually kind of like fast

628
00:27:39,180 --> 00:27:40,890
forward and rewind buttons for the

629
00:27:40,890 --> 00:27:47,820
animation so first things first we go we

630
00:27:47,820 --> 00:27:49,950
make an Alice change variable we get

631
00:27:49,950 --> 00:27:52,650
Alice we slap her key frames and her

632
00:27:52,650 --> 00:27:54,990
timing objects on there and then we hit

633
00:27:54,990 --> 00:27:57,330
pause because when you use the animate

634
00:27:57,330 --> 00:28:04,990
method it'll try to run immediately

635
00:28:05,000 --> 00:28:07,769
so this is what happens when you do that

636
00:28:07,769 --> 00:28:09,899
and you don't hit pause notice how she

637
00:28:09,899 --> 00:28:11,370
went from really small to really big

638
00:28:11,370 --> 00:28:13,110
we're going to just go ahead and put

639
00:28:13,110 --> 00:28:15,090
pause on there and I'm officially at

640
00:28:15,090 --> 00:28:16,950
time I apologize but I'm going to be

641
00:28:16,950 --> 00:28:20,130
running a little bit over it's cool

642
00:28:20,130 --> 00:28:24,809
you'll you'll be happy anyway alright so

643
00:28:24,809 --> 00:28:27,029
let's set the let's set that duration we

644
00:28:27,029 --> 00:28:28,500
want to make sure that she starts in the

645
00:28:28,500 --> 00:28:30,120
middle because that looks weird seeing

646
00:28:30,120 --> 00:28:31,890
her explode like that we want to make

647
00:28:31,890 --> 00:28:33,600
sure that when we start playing the game

648
00:28:33,600 --> 00:28:36,600
she is about halfway between those two

649
00:28:36,600 --> 00:28:39,889
so we do that by grabbing her duration

650
00:28:39,889 --> 00:28:43,590
we say Ellis we say Ellis change we want

651
00:28:43,590 --> 00:28:47,039
to set your current time to using her

652
00:28:47,039 --> 00:28:49,440
effect which points back to her keyframe

653
00:28:49,440 --> 00:28:52,380
effect we inspect her timing object and

654
00:28:52,380 --> 00:28:55,019
we grab her duration and then we divide

655
00:28:55,019 --> 00:28:57,750
it by two so we're setting her playhead

656
00:28:57,750 --> 00:29:02,080
her current time to be halfway through

657
00:29:02,090 --> 00:29:04,380
now we're going to tie it back to those

658
00:29:04,380 --> 00:29:08,130
playback controls so we've got the

659
00:29:08,130 --> 00:29:11,299
timeline and we want to set the playhead

660
00:29:11,299 --> 00:29:15,179
right there now we need to control the

661
00:29:15,179 --> 00:29:17,010
playhead on that timeline sending it

662
00:29:17,010 --> 00:29:20,399
forward and backward we use the cake and

663
00:29:20,399 --> 00:29:21,750
bottle to send it forward and backward

664
00:29:21,750 --> 00:29:25,500
and we're going to see how we do that we

665
00:29:25,500 --> 00:29:27,559
know forwards so let's start with back

666
00:29:27,559 --> 00:29:29,880
we're going to create a shrink Alice

667
00:29:29,880 --> 00:29:32,340
function and we're going to set her

668
00:29:32,340 --> 00:29:34,289
playback rate to negative one fun thing

669
00:29:34,289 --> 00:29:35,880
about playback raids if you pass

670
00:29:35,880 --> 00:29:37,470
negative values to them they run

671
00:29:37,470 --> 00:29:40,440
backwards so you could do a negative 2

672
00:29:40,440 --> 00:29:42,169
and she'd run backwards twice as fast

673
00:29:42,169 --> 00:29:47,490
fun and what happens is we're going to

674
00:29:47,490 --> 00:29:50,909
hit play and then we're going to also

675
00:29:50,909 --> 00:29:54,059
play the animation on the on the bottle

676
00:29:54,059 --> 00:29:57,029
as well and we attach that to an event

677
00:29:57,029 --> 00:30:01,799
listener for four onmousedown we could

678
00:30:01,799 --> 00:30:04,200
also use the reverse method just to

679
00:30:04,200 --> 00:30:05,789
point this out the reverse method is

680
00:30:05,789 --> 00:30:07,529
essentially a shortcut for setting the

681
00:30:07,529 --> 00:30:09,929
playback rate to negative 1 and hitting

682
00:30:09,929 --> 00:30:15,410
play all right let's see how that looks

683
00:30:15,410 --> 00:30:19,040
oh it works perfectly now she gets

684
00:30:19,040 --> 00:30:24,500
smaller wonderful so we do the same for

685
00:30:24,500 --> 00:30:26,150
the cake the only difference is with the

686
00:30:26,150 --> 00:30:27,620
cake we make sure to set the playback

687
00:30:27,620 --> 00:30:31,340
rate to one we need a new way to stop

688
00:30:31,340 --> 00:30:34,970
the animations now right so we create a

689
00:30:34,970 --> 00:30:37,490
stop playing Alice function we make sure

690
00:30:37,490 --> 00:30:41,030
to create we make little pauses for each

691
00:30:41,030 --> 00:30:42,950
of the animations not just for Alice but

692
00:30:42,950 --> 00:30:44,540
also for the cake in the drinking so

693
00:30:44,540 --> 00:30:45,860
that the animations don't just keep

694
00:30:45,860 --> 00:30:49,640
running long after you've stopped stop

695
00:30:49,640 --> 00:30:51,290
clicking or tapping on the controls and

696
00:30:51,290 --> 00:30:53,120
of course you attach them both to the

697
00:30:53,120 --> 00:30:59,690
event listeners for Mouse up now we've

698
00:30:59,690 --> 00:31:01,310
got these animations that go forward and

699
00:31:01,310 --> 00:31:02,870
backwards but all good games have to

700
00:31:02,870 --> 00:31:04,520
have endings there have to be outcomes

701
00:31:04,520 --> 00:31:08,030
concrete outcomes right in a story Alice

702
00:31:08,030 --> 00:31:09,590
wants to get through this tiny door so

703
00:31:09,590 --> 00:31:11,750
that she can follow the white rabbit so

704
00:31:11,750 --> 00:31:14,810
she eats a cake and she it's huge but

705
00:31:14,810 --> 00:31:16,250
she's too big to go through the door so

706
00:31:16,250 --> 00:31:18,050
she throws a tantrum and she cries and

707
00:31:18,050 --> 00:31:19,610
there's this lake and their animals

708
00:31:19,610 --> 00:31:21,320
stuck in it and it's really surreal but

709
00:31:21,320 --> 00:31:22,940
the point is she cries a lot and she

710
00:31:22,940 --> 00:31:26,000
gets really big so then she manages to

711
00:31:26,000 --> 00:31:27,560
drink from the bottle to get small and

712
00:31:27,560 --> 00:31:29,690
ends up swimming around in a puddle of

713
00:31:29,690 --> 00:31:31,730
her own tears but the problem is that

714
00:31:31,730 --> 00:31:34,180
she is so small that she forgot the key

715
00:31:34,180 --> 00:31:36,680
she forgets the key off on the table and

716
00:31:36,680 --> 00:31:38,540
she still can't get through the door

717
00:31:38,540 --> 00:31:40,820
it's a tough life for Alice so I made

718
00:31:40,820 --> 00:31:42,350
little vignettes of each of these scenes

719
00:31:42,350 --> 00:31:44,900
me if she is too small by the time you

720
00:31:44,900 --> 00:31:46,850
run out of animations by the time you

721
00:31:46,850 --> 00:31:48,620
run out of either things to drink her

722
00:31:48,620 --> 00:31:51,560
things to eat if she's too small you get

723
00:31:51,560 --> 00:31:54,050
the two small ending if she's too big

724
00:31:54,050 --> 00:31:56,720
you get the two big ending notice how

725
00:31:56,720 --> 00:31:58,310
the pool of Tears is slowly growing

726
00:31:58,310 --> 00:32:01,400
larger eventually it will engulf the

727
00:32:01,400 --> 00:32:04,700
whole page so how do we tie that to our

728
00:32:04,700 --> 00:32:06,410
controls well a good thing we're working

729
00:32:06,410 --> 00:32:08,120
with timelines because now we've got two

730
00:32:08,120 --> 00:32:10,820
timelines for both the animations on the

731
00:32:10,820 --> 00:32:13,340
cupcake and the animation on the glass

732
00:32:13,340 --> 00:32:17,090
of water so what we have to do is we

733
00:32:17,090 --> 00:32:19,010
need to listen to when those animations

734
00:32:19,010 --> 00:32:24,850
finish when either of these run out

735
00:32:24,850 --> 00:32:26,540
we're going to get one of those

736
00:32:26,540 --> 00:32:28,190
vignettes based on how big or how small

737
00:32:28,190 --> 00:32:28,999
she is

738
00:32:28,999 --> 00:32:30,979
that is to say how far along in her

739
00:32:30,979 --> 00:32:35,899
animation she is too big let's play

740
00:32:35,899 --> 00:32:40,939
again oh no it's going out like a candle

741
00:32:40,939 --> 00:32:42,259
and of course you can make her grow a

742
00:32:42,259 --> 00:32:44,329
little bits bigger or smaller this is

743
00:32:44,329 --> 00:32:47,539
basically at the very end function will

744
00:32:47,539 --> 00:32:50,179
fire to compare her current animations

745
00:32:50,179 --> 00:32:53,439
playhead with her overall timeline

746
00:32:53,439 --> 00:32:56,539
here's how we do that we need to set the

747
00:32:56,539 --> 00:32:58,969
animations on finished call back we

748
00:32:58,969 --> 00:33:02,329
basically say when the cake or the or

749
00:33:02,329 --> 00:33:04,309
the water runs out we're going to run

750
00:33:04,309 --> 00:33:07,669
end game or if Alice reaches the end of

751
00:33:07,669 --> 00:33:10,189
her animation will also run end game for

752
00:33:10,189 --> 00:33:13,909
some reason you manage to do that so

753
00:33:13,909 --> 00:33:15,439
with end game we figure out her height

754
00:33:15,439 --> 00:33:17,719
we're going to do that by taking her

755
00:33:17,719 --> 00:33:19,639
playhead we find Alice's playhead by

756
00:33:19,639 --> 00:33:22,669
asking what her current time is and then

757
00:33:22,669 --> 00:33:25,249
we find out her timeline which is how

758
00:33:25,249 --> 00:33:28,339
long her active duration lasts and we

759
00:33:28,339 --> 00:33:30,709
divide them we divide her playhead by

760
00:33:30,709 --> 00:33:33,139
the and the timeline figure out what

761
00:33:33,139 --> 00:33:35,649
percentage of her animation is finished

762
00:33:35,649 --> 00:33:38,239
we use an if-else statement to compare

763
00:33:38,239 --> 00:33:41,269
how big she is if she is greater than

764
00:33:41,269 --> 00:33:43,249
point if she's greater than thirty three

765
00:33:43,249 --> 00:33:45,919
percent of her way through sorry less

766
00:33:45,919 --> 00:33:47,209
than thirty three percent of the way

767
00:33:47,209 --> 00:33:49,429
through she got smaller if she's bigger

768
00:33:49,429 --> 00:33:50,839
than sixty seven percent of her way

769
00:33:50,839 --> 00:33:52,579
through she got bigger anything in

770
00:33:52,579 --> 00:33:54,349
between those values you just get a kind

771
00:33:54,349 --> 00:34:00,349
of play again screen so we make sure

772
00:34:00,349 --> 00:34:03,409
that we stop alamy her animation after

773
00:34:03,409 --> 00:34:05,299
the end of the game and we combine all

774
00:34:05,299 --> 00:34:10,129
of this since that endgame function so

775
00:34:10,129 --> 00:34:11,690
small bonus other things that are really

776
00:34:11,690 --> 00:34:13,159
hard to do with CSS animation

777
00:34:13,159 --> 00:34:15,470
randomization and I know you can

778
00:34:15,470 --> 00:34:17,720
randomize with with sass but what if you

779
00:34:17,720 --> 00:34:20,149
want to randomize for each new user on

780
00:34:20,149 --> 00:34:22,460
your site you don't want to run sass

781
00:34:22,460 --> 00:34:24,950
every time someone visits so these tears

782
00:34:24,950 --> 00:34:28,819
are completely randomized I did that by

783
00:34:28,819 --> 00:34:31,789
taking this randomization function and

784
00:34:31,789 --> 00:34:34,970
then passing it to her delay and her

785
00:34:34,970 --> 00:34:36,710
duration to make sure that they would

786
00:34:36,710 --> 00:34:38,750
fall within a special range it looks

787
00:34:38,750 --> 00:34:42,049
really good and now here's another thing

788
00:34:42,049 --> 00:34:42,860
you can only do

789
00:34:42,860 --> 00:34:44,390
with the web animations API you can

790
00:34:44,390 --> 00:34:46,160
adjust playback rate i'm super excited

791
00:34:46,160 --> 00:34:48,020
about this because there are no CSS

792
00:34:48,020 --> 00:34:50,000
variables or randomization spec that can

793
00:34:50,000 --> 00:34:52,370
compare to this there's another great

794
00:34:52,370 --> 00:34:53,540
scene from through the looking glass

795
00:34:53,540 --> 00:34:56,660
when the stock stock people love this

796
00:34:56,660 --> 00:34:59,450
she meets the red queen and in looking

797
00:34:59,450 --> 00:35:01,940
glass land you have to run just to stay

798
00:35:01,940 --> 00:35:03,560
in place and you have to run twice as

799
00:35:03,560 --> 00:35:06,320
forward to move forward so what does

800
00:35:06,320 --> 00:35:10,490
that look like in CSS well what does it

801
00:35:10,490 --> 00:35:12,200
look like with the web animations API I

802
00:35:12,200 --> 00:35:14,690
decided that Alice tires easily so

803
00:35:14,690 --> 00:35:16,280
she'll slow down with time you'll notice

804
00:35:16,280 --> 00:35:18,200
that she's running a little bit slower

805
00:35:18,200 --> 00:35:21,380
there's a decay on there run cycle and

806
00:35:21,380 --> 00:35:23,630
it's all down to that playback property

807
00:35:23,630 --> 00:35:25,400
in the timing option the playback rate

808
00:35:25,400 --> 00:35:28,040
property we've got the red queen we've

809
00:35:28,040 --> 00:35:31,270
got there sprite animation but in here

810
00:35:31,270 --> 00:35:34,790
we set the playback rate to one and

811
00:35:34,790 --> 00:35:37,370
we're going to use a set interval every

812
00:35:37,370 --> 00:35:39,440
three seconds we multiply that playback

813
00:35:39,440 --> 00:35:42,020
rate by point nine so it's getting slow

814
00:35:42,020 --> 00:35:45,500
we also cap it at so it never falls

815
00:35:45,500 --> 00:35:47,330
below point for it gets really weird

816
00:35:47,330 --> 00:35:50,120
trying to boost her out of that to speed

817
00:35:50,120 --> 00:35:53,660
her up we use the same trick only we

818
00:35:53,660 --> 00:35:55,820
register it clicking or tapping anywhere

819
00:35:55,820 --> 00:35:58,940
and we multiply the playback rate by 1.1

820
00:35:58,940 --> 00:36:00,800
so whenever you click or tap anywhere on

821
00:36:00,800 --> 00:36:03,320
the page she goes faster and here are

822
00:36:03,320 --> 00:36:06,130
our touch event listener as well and

823
00:36:06,130 --> 00:36:10,010
this is what it looks like so watch what

824
00:36:10,010 --> 00:36:11,750
happens we're going to tap tap tap tap

825
00:36:11,750 --> 00:36:14,840
tap make her run faster well she's

826
00:36:14,840 --> 00:36:17,210
slowing down because we're not there you

827
00:36:17,210 --> 00:36:18,770
notice that the world starts sliding

828
00:36:18,770 --> 00:36:20,420
backwards if she goes too slowly i'm

829
00:36:20,420 --> 00:36:22,190
using playback rates on the other

830
00:36:22,190 --> 00:36:25,580
objects too and if we tap really fast

831
00:36:25,580 --> 00:36:27,620
come on you can do it you can do it you

832
00:36:27,620 --> 00:36:32,530
can run ah poor little girl there we go

833
00:36:32,530 --> 00:36:35,860
now they're finally getting somewhere

834
00:36:35,860 --> 00:36:38,660
okay so the good news is that you can

835
00:36:38,660 --> 00:36:39,890
start learning and using the web

836
00:36:39,890 --> 00:36:42,170
animations API today in fact I recommend

837
00:36:42,170 --> 00:36:43,730
you do so because these features are

838
00:36:43,730 --> 00:36:46,330
starting to ship in Firefox and Chrome

839
00:36:46,330 --> 00:36:49,190
there is a polyfill which all these

840
00:36:49,190 --> 00:36:51,590
demos used it it does have a bug tracker

841
00:36:51,590 --> 00:36:54,740
on github you are encouraged file bugs

842
00:36:54,740 --> 00:36:56,210
it is maintained by people

843
00:36:56,210 --> 00:36:58,580
from chrome and of course with input

844
00:36:58,580 --> 00:37:01,520
from firefox it's wonderful it's pretty

845
00:37:01,520 --> 00:37:03,830
performant and it does let you use these

846
00:37:03,830 --> 00:37:06,290
things today even for browsers that are

847
00:37:06,290 --> 00:37:08,240
being a little slower about implementing

848
00:37:08,240 --> 00:37:10,700
it Edge has moved the API into their

849
00:37:10,700 --> 00:37:14,180
to-do list and Safari has as well after

850
00:37:14,180 --> 00:37:18,650
much feet dragging Thank You cannon okay

851
00:37:18,650 --> 00:37:20,690
so the fun thing is that animation

852
00:37:20,690 --> 00:37:22,670
libraries that you're using today gsm

853
00:37:22,670 --> 00:37:25,339
ojs snap SVG they could build on top of

854
00:37:25,339 --> 00:37:27,800
the web animations api to realize some

855
00:37:27,800 --> 00:37:29,420
of these performance boosts that the api

856
00:37:29,420 --> 00:37:31,040
provides by working directly with the

857
00:37:31,040 --> 00:37:32,780
browser's animation engine there's no

858
00:37:32,780 --> 00:37:34,990
need for raf requestanimationframe

859
00:37:34,990 --> 00:37:38,510
there's no need for hacks for speed the

860
00:37:38,510 --> 00:37:40,339
idea is that browsers can optimize the

861
00:37:40,339 --> 00:37:42,710
animations in their engines and then you

862
00:37:42,710 --> 00:37:44,690
can gain the benefits of those

863
00:37:44,690 --> 00:37:46,520
optimizations by working directly with

864
00:37:46,520 --> 00:37:49,430
the engine it also gives us a format to

865
00:37:49,430 --> 00:37:51,800
export to for other tools to interface

866
00:37:51,800 --> 00:37:54,500
with in the future as well and of course

867
00:37:54,500 --> 00:37:57,650
more implementations means even better

868
00:37:57,650 --> 00:38:00,349
tools this is Chrome's timelines which I

869
00:38:00,349 --> 00:38:02,599
wanted to show how chrome has been using

870
00:38:02,599 --> 00:38:04,339
this API to build their own animation

871
00:38:04,339 --> 00:38:06,500
tools as well I would love to see more

872
00:38:06,500 --> 00:38:08,480
browsers competing to make these things

873
00:38:08,480 --> 00:38:10,849
keep an eye out for web animations API

874
00:38:10,849 --> 00:38:12,560
level two which introduces grouping and

875
00:38:12,560 --> 00:38:14,690
sequencing which will change everything

876
00:38:14,690 --> 00:38:17,150
dan wilson creek wrote a great post

877
00:38:17,150 --> 00:38:19,430
about it which the link is on the side

878
00:38:19,430 --> 00:38:21,260
there you should check it out but it's

879
00:38:21,260 --> 00:38:23,540
still a little ways off in the end all

880
00:38:23,540 --> 00:38:26,780
animation is all animation is is time

881
00:38:26,780 --> 00:38:29,210
and change and that's what this API

882
00:38:29,210 --> 00:38:33,589
describes in doing so it makes way for

883
00:38:33,589 --> 00:38:37,310
future animation specs ones we haven't

884
00:38:37,310 --> 00:38:39,859
even thought of yet and the future of

885
00:38:39,859 --> 00:38:43,099
animation online before i head out i

886
00:38:43,099 --> 00:38:44,990
would like to thank some people who

887
00:38:44,990 --> 00:38:47,810
helped me do this alex miller is a local

888
00:38:47,810 --> 00:38:49,609
cartoonist in portland oregon who helped

889
00:38:49,609 --> 00:38:51,109
me do the backgrounds for these when i

890
00:38:51,109 --> 00:38:53,630
was very sick with pneumonia opalescence

891
00:38:53,630 --> 00:38:56,990
did the logo chris mills was my sort of

892
00:38:56,990 --> 00:38:58,730
mentor when writing the mdn

893
00:38:58,730 --> 00:39:00,859
documentation and the n is your number

894
00:39:00,859 --> 00:39:02,810
one source for all web animation api

895
00:39:02,810 --> 00:39:05,270
docs i highly recommend it and brian

896
00:39:05,270 --> 00:39:07,070
Birtles who wrote most of the spec and

897
00:39:07,070 --> 00:39:09,200
has answered all of my questions he's a

898
00:39:09,200 --> 00:39:09,740
great /

899
00:39:09,740 --> 00:39:11,150
Santa hassle when you have questions

900
00:39:11,150 --> 00:39:14,270
about the API so where can you learn

901
00:39:14,270 --> 00:39:15,920
more about this well you can find this

902
00:39:15,920 --> 00:39:17,840
into all links about it at rachel

903
00:39:17,840 --> 00:39:21,830
neighbors calm /w AAP I web animations

904
00:39:21,830 --> 00:39:24,350
API you can subscribe to the newsletter

905
00:39:24,350 --> 00:39:26,420
web animation weekly calm as new things

906
00:39:26,420 --> 00:39:27,830
happen it gets announced there and

907
00:39:27,830 --> 00:39:30,500
lastly if you want to talk about the web

908
00:39:30,500 --> 00:39:32,390
animations API we've got our own hashtag

909
00:39:32,390 --> 00:39:35,180
on the animation at work slack channel

910
00:39:35,180 --> 00:39:38,060
you can even talk to Brian bertles and

911
00:39:38,060 --> 00:39:39,830
other people working directly with the

912
00:39:39,830 --> 00:39:42,580
API there it's a good bunch of people

913
00:39:42,580 --> 00:39:45,140
thank you for having us thank you for

914
00:39:45,140 --> 00:39:46,490
letting me talk to you about the API

915
00:39:46,490 --> 00:39:47,550
today

