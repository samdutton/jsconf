1
00:00:08,410 --> 00:00:11,389

okay i want to start with the demo right

2
00:00:11,389 --> 00:00:15,410
away this is an app called paper cube by

3
00:00:15,410 --> 00:00:18,439
Peter Bergstrom and here to here it is

4
00:00:18,439 --> 00:00:21,109
it's a this is an experimental tool to

5
00:00:21,109 --> 00:00:23,029
help you navigate through when you like

6
00:00:23,029 --> 00:00:24,949
find the relationships between research

7
00:00:24,949 --> 00:00:28,580
papers which have oh we're oh there we

8
00:00:28,580 --> 00:00:36,010
go that's because I'm about that what

9
00:00:36,010 --> 00:00:41,670
totally all right here's what we'll do

10
00:00:41,680 --> 00:00:44,890
I'm going to spin myself around okay so

11
00:00:44,890 --> 00:00:50,150
I this is a tool for exploring academic

12
00:00:50,150 --> 00:00:52,730
papers as you know papers with their

13
00:00:52,730 --> 00:00:55,100
citations and the author's it has a real

14
00:00:55,100 --> 00:00:57,110
it's a really interesting problem space

15
00:00:57,110 --> 00:00:59,540
because the documents have such rich

16
00:00:59,540 --> 00:01:01,640
metadata about connections to other

17
00:01:01,640 --> 00:01:04,400
documents so Peter made this tool using

18
00:01:04,400 --> 00:01:05,449
the framework I'm going to talk to you

19
00:01:05,449 --> 00:01:07,490
about called called sprout core all

20
00:01:07,490 --> 00:01:10,250
right so I already did a search of by

21
00:01:10,250 --> 00:01:13,130
author name which the app is cached here

22
00:01:13,130 --> 00:01:14,929
just in case there was a network lag but

23
00:01:14,929 --> 00:01:17,600
so I looked for an all the authors whose

24
00:01:17,600 --> 00:01:21,759
last name is Smith and you can see this

25
00:01:21,759 --> 00:01:26,810
second one here this paper has got four

26
00:01:26,810 --> 00:01:29,240
authors and it's been cited 78 x so this

27
00:01:29,240 --> 00:01:30,979
is a really good one just to show off

28
00:01:30,979 --> 00:01:33,229
what this tool could do so you can see

29
00:01:33,229 --> 00:01:35,659
right away as soon as I made that

30
00:01:35,659 --> 00:01:39,200
selection whatever data this app already

31
00:01:39,200 --> 00:01:41,450
knows about starts loading you know I

32
00:01:41,450 --> 00:01:44,030
have a kind of a slow connection here

33
00:01:44,030 --> 00:01:46,880
which under normal demo circumstances

34
00:01:46,880 --> 00:01:48,829
would be like kind of a bummer but it's

35
00:01:48,829 --> 00:01:50,689
actually totally perfect for want to

36
00:01:50,689 --> 00:01:51,679
talk to you about as far as I'm

37
00:01:51,679 --> 00:01:54,109
concerned this could take like five more

38
00:01:54,109 --> 00:01:56,060
minutes to load but we can move on from

39
00:01:56,060 --> 00:01:58,700
here okay so it's right away you got to

40
00:01:58,700 --> 00:02:00,590
see whatever your the local app knew

41
00:02:00,590 --> 00:02:02,659
about and then the rest under the covers

42
00:02:02,659 --> 00:02:04,969
the app is going back to the server to

43
00:02:04,969 --> 00:02:07,549
get as much data as there is to know

44
00:02:07,549 --> 00:02:10,760
about about this object and you know we

45
00:02:10,760 --> 00:02:12,320
don't have the source code for this I

46
00:02:12,320 --> 00:02:12,980
mean we

47
00:02:12,980 --> 00:02:14,810
we could look and you know use an

48
00:02:14,810 --> 00:02:15,980
inspector we don't have it all nicely

49
00:02:15,980 --> 00:02:17,569
formatted but I mean I bet you'd be

50
00:02:17,569 --> 00:02:20,420
really shocked at how little work the

51
00:02:20,420 --> 00:02:22,549
developer needed to do to make all this

52
00:02:22,549 --> 00:02:24,440
kind of work but based on my experiences

53
00:02:24,440 --> 00:02:26,450
with it so that's that's pretty cool i

54
00:02:26,450 --> 00:02:28,430
think everyone can see that applies to

55
00:02:28,430 --> 00:02:29,420
some of the problems you're trying to

56
00:02:29,420 --> 00:02:32,030
solve but it's got some other pretty

57
00:02:32,030 --> 00:02:34,730
interesting feature so let's look at a

58
00:02:34,730 --> 00:02:37,870
graph you all right that's pretty cool

59
00:02:37,870 --> 00:02:41,030
but this is only showing me one level of

60
00:02:41,030 --> 00:02:43,549
connection let's let's dial it up a

61
00:02:43,549 --> 00:02:45,110
little bit show me three levels of

62
00:02:45,110 --> 00:02:48,140
connections so it's cool going back to

63
00:02:48,140 --> 00:02:50,920
server getting getting more objects I

64
00:02:50,920 --> 00:02:57,760
want to Texas too much we can zoom in I

65
00:02:57,760 --> 00:03:00,950
think we even have like we want to save

66
00:03:00,950 --> 00:03:03,500
it for later I don't want to do too much

67
00:03:03,500 --> 00:03:04,970
as I don't know all the commands I want

68
00:03:04,970 --> 00:03:06,349
to break something everybody that's a

69
00:03:06,349 --> 00:03:08,150
pretty noisy graph so let's say I don't

70
00:03:08,150 --> 00:03:09,530
know I don't care about papers that have

71
00:03:09,530 --> 00:03:10,879
been only want to see things have been

72
00:03:10,879 --> 00:03:14,660
cited more than you know ten times so

73
00:03:14,660 --> 00:03:19,250
that's pretty cool okay so that's why

74
00:03:19,250 --> 00:03:21,139
what I wanted to start off with here it

75
00:03:21,139 --> 00:03:25,000
looks like a lost keynote no problem

76
00:03:25,000 --> 00:03:28,220
okay so while I'm waiting for my slides

77
00:03:28,220 --> 00:03:32,209
to load back up oh well I wanted to

78
00:03:32,209 --> 00:03:33,799
point i wanted to point out a couple of

79
00:03:33,799 --> 00:03:37,280
things about that at here we go it's

80
00:03:37,280 --> 00:03:42,889
coming back this whole display here is

81
00:03:42,889 --> 00:03:44,840
very it was very fast and fluid you

82
00:03:44,840 --> 00:03:50,209
notice that oh man I've angered the demo

83
00:03:50,209 --> 00:03:52,310
gods I'm really sorry I'm telling you

84
00:03:52,310 --> 00:03:54,590
I'm actually yeah I'm we're gonna get

85
00:03:54,590 --> 00:03:56,769
this back on track here all right

86
00:03:56,769 --> 00:04:00,459
awesome so what the things I that I

87
00:04:00,459 --> 00:04:04,160
really like about this this application

88
00:04:04,160 --> 00:04:06,590
why I wanted to show it to you first of

89
00:04:06,590 --> 00:04:08,239
all it's very fast and fluid I mean

90
00:04:08,239 --> 00:04:11,120
there was it just had a very native feel

91
00:04:11,120 --> 00:04:13,129
to it didn't feel like I was using a

92
00:04:13,129 --> 00:04:15,919
traditional web app like him from it was

93
00:04:15,919 --> 00:04:17,419
on very much on the far right of the

94
00:04:17,419 --> 00:04:19,250
spectrum that Francisco drew for us

95
00:04:19,250 --> 00:04:21,919
yesterday it's clearly like the exact

96
00:04:21,919 --> 00:04:23,240
kind of thing we've been talking about

97
00:04:23,240 --> 00:04:25,520
for two days here so I don't usually I

98
00:04:25,520 --> 00:04:26,780
spend some more time explain

99
00:04:26,780 --> 00:04:28,490
why it's a good idea to use javascript

100
00:04:28,490 --> 00:04:30,200
for this how it's the future but you

101
00:04:30,200 --> 00:04:31,670
guys already are totally up to speed on

102
00:04:31,670 --> 00:04:34,190
that its web native there's no plugins

103
00:04:34,190 --> 00:04:36,560
involved with that to make that appt

104
00:04:36,560 --> 00:04:40,130
work it's all HTML Javascript CSS and

105
00:04:40,130 --> 00:04:44,000
like SVG and the another thing that's

106
00:04:44,000 --> 00:04:45,710
great about it what kind of makes it all

107
00:04:45,710 --> 00:04:47,180
work is that the client has a lot of

108
00:04:47,180 --> 00:04:49,910
local agency it's not going the servers

109
00:04:49,910 --> 00:04:52,460
at rendering HTML or really does the

110
00:04:52,460 --> 00:04:53,720
server doesn't care at all what the

111
00:04:53,720 --> 00:04:54,950
clients displaying to mean there's

112
00:04:54,950 --> 00:04:58,070
actually no reason in fact the server is

113
00:04:58,070 --> 00:05:00,020
not worried about the UI in any way the

114
00:05:00,020 --> 00:05:02,900
server is providing a service it's just

115
00:05:02,900 --> 00:05:05,180
returning JSON I just ran a sniff around

116
00:05:05,180 --> 00:05:07,190
here so there's nothing to stop any of

117
00:05:07,190 --> 00:05:10,340
us from writing a completely different

118
00:05:10,340 --> 00:05:12,890
client for the different framework to do

119
00:05:12,890 --> 00:05:15,440
other things with this data and is it

120
00:05:15,440 --> 00:05:17,120
does it won't bother Peter in the

121
00:05:17,120 --> 00:05:19,700
slightest effect to borrow a code

122
00:05:19,700 --> 00:05:22,280
snippet from my product from other inbox

123
00:05:22,280 --> 00:05:25,880
like we have a little bit more lines of

124
00:05:25,880 --> 00:05:27,860
code here but this I have action that's

125
00:05:27,860 --> 00:05:29,450
basically the entire core of our

126
00:05:29,450 --> 00:05:31,220
applicant if something broke with this

127
00:05:31,220 --> 00:05:33,410
it would cause a whole lot of problems

128
00:05:33,410 --> 00:05:36,260
for our clients i'm just i just have a

129
00:05:36,260 --> 00:05:38,180
class that absorb i initialize a class

130
00:05:38,180 --> 00:05:39,830
with some parameters that the user has

131
00:05:39,830 --> 00:05:42,289
passed and when I turn into a hash that

132
00:05:42,289 --> 00:05:45,200
gives you back an object graph which I

133
00:05:45,200 --> 00:05:47,300
then converting to JSON so of course the

134
00:05:47,300 --> 00:05:49,910
big you know epiphany I had here which I

135
00:05:49,910 --> 00:05:51,680
you know up a little bit late to the

136
00:05:51,680 --> 00:05:53,330
party or really late to the party is

137
00:05:53,330 --> 00:05:54,500
like well we're going to all this

138
00:05:54,500 --> 00:05:56,450
trouble what am i doing I'm constructing

139
00:05:56,450 --> 00:05:58,490
a document I'm just converting to Jason

140
00:05:58,490 --> 00:05:59,780
well I should probably be finding some

141
00:05:59,780 --> 00:06:01,940
way to just all have this JSON already

142
00:06:01,940 --> 00:06:03,169
and kind of cut out the middleman of it

143
00:06:03,169 --> 00:06:05,000
that's a completely separate talk the

144
00:06:05,000 --> 00:06:07,130
fact is it's just this is just really

145
00:06:07,130 --> 00:06:08,570
clean-looking I think we can all see the

146
00:06:08,570 --> 00:06:11,180
appeal of this and it's a million times

147
00:06:11,180 --> 00:06:13,610
better than what I had before when I was

148
00:06:13,610 --> 00:06:15,169
trying to make one of those apps on the

149
00:06:15,169 --> 00:06:17,390
far right of you know the really rich

150
00:06:17,390 --> 00:06:18,830
interactive app but I was using the

151
00:06:18,830 --> 00:06:20,030
techniques or something in the middle of

152
00:06:20,030 --> 00:06:21,710
that spectrum like out I was just using

153
00:06:21,710 --> 00:06:23,960
partial page updates I had you told this

154
00:06:23,960 --> 00:06:25,789
glue code I had a million different

155
00:06:25,789 --> 00:06:28,160
controller actions and custom JavaScript

156
00:06:28,160 --> 00:06:30,350
mixed with rjs and it was just really a

157
00:06:30,350 --> 00:06:33,880
bear to maintain and users hated it so

158
00:06:33,880 --> 00:06:36,770
my name is mike c Belski i'm here to

159
00:06:36,770 --> 00:06:39,980
give you a reduction to sprout core

160
00:06:39,980 --> 00:06:41,720
I'm you know this is a really incredible

161
00:06:41,720 --> 00:06:43,430
audience to be speaking with I just want

162
00:06:43,430 --> 00:06:44,720
to make clear like I am NOT a framework

163
00:06:44,720 --> 00:06:47,600
author I didn't invent rock or I'm just

164
00:06:47,600 --> 00:06:49,340
a fan of it I'm just somebody that I

165
00:06:49,340 --> 00:06:51,410
co-found his company other in box we

166
00:06:51,410 --> 00:06:53,960
needed something like Spock or we need

167
00:06:53,960 --> 00:06:55,190
you know we needed to create a rich

168
00:06:55,190 --> 00:06:56,840
experience in the browser that felt like

169
00:06:56,840 --> 00:06:58,970
the desktop and this really answered the

170
00:06:58,970 --> 00:07:01,160
bill so I've only made this one thing

171
00:07:01,160 --> 00:07:04,070
with it and so I want to get as deep and

172
00:07:04,070 --> 00:07:05,870
technical as I can but you know you may

173
00:07:05,870 --> 00:07:07,370
have other questions that I'm just going

174
00:07:07,370 --> 00:07:09,140
to frankly I don't know the answer to

175
00:07:09,140 --> 00:07:10,370
because I'm just out there like you guys

176
00:07:10,370 --> 00:07:13,450
grinding trying to make a product so

177
00:07:13,450 --> 00:07:15,760
we've been talking about this already

178
00:07:15,760 --> 00:07:18,500
you know the near future that were

179
00:07:18,500 --> 00:07:20,210
really the present we're going to move

180
00:07:20,210 --> 00:07:22,250
all the processing back to the clients

181
00:07:22,250 --> 00:07:23,690
much as we can we're going to move

182
00:07:23,690 --> 00:07:25,040
presentation to the client were going to

183
00:07:25,040 --> 00:07:26,600
move the edge all the way out to your

184
00:07:26,600 --> 00:07:28,430
browser and so you've already heard

185
00:07:28,430 --> 00:07:31,130
about these projects like titanium

186
00:07:31,130 --> 00:07:33,950
taffie TV cappuccino and o3d and

187
00:07:33,950 --> 00:07:35,510
phonegap there's all these active

188
00:07:35,510 --> 00:07:37,400
efforts out there that are trying to do

189
00:07:37,400 --> 00:07:39,590
that so spark or is very much of a piece

190
00:07:39,590 --> 00:07:44,000
with with all these ideas and so look we

191
00:07:44,000 --> 00:07:45,950
already we have these apps that do these

192
00:07:45,950 --> 00:07:47,420
kinds of things you've already heard

193
00:07:47,420 --> 00:07:50,240
examples of them so Apple has mobile me

194
00:07:50,240 --> 00:07:52,280
it's the that's their effort to move

195
00:07:52,280 --> 00:07:54,890
their desktop apps into the end of the

196
00:07:54,890 --> 00:07:57,470
cloud we hear about 280 slides yesterday

197
00:07:57,470 --> 00:07:59,330
I just showed you pay per cube and you

198
00:07:59,330 --> 00:08:02,420
know hopefully we're worthy to be

199
00:08:02,420 --> 00:08:04,880
considered in this pantheon of products

200
00:08:04,880 --> 00:08:09,410
so the problem is their desktop like but

201
00:08:09,410 --> 00:08:12,130
they're never going to be like real

202
00:08:12,130 --> 00:08:15,320
desktop applications it sounded like

203
00:08:15,320 --> 00:08:17,390
from the phonegap top that you know

204
00:08:17,390 --> 00:08:19,400
that's a that's a future that people are

205
00:08:19,400 --> 00:08:22,400
working towards and maybe someday we'll

206
00:08:22,400 --> 00:08:25,970
get past that but there's still like

207
00:08:25,970 --> 00:08:28,820
this dislike here really contains a lot

208
00:08:28,820 --> 00:08:30,920
of like uncertainty and ambiguity and

209
00:08:30,920 --> 00:08:33,710
that's really it's this like which

210
00:08:33,710 --> 00:08:38,000
brings us here today so the because

211
00:08:38,000 --> 00:08:40,070
these are these are cloud applications

212
00:08:40,070 --> 00:08:42,500
right this is like a super simplified

213
00:08:42,500 --> 00:08:44,810
version diagram or architecture which I

214
00:08:44,810 --> 00:08:48,410
stole from the AWS blog so like the

215
00:08:48,410 --> 00:08:51,200
problem when you're building an app in

216
00:08:51,200 --> 00:08:53,270
this way a client is that there's always

217
00:08:53,270 --> 00:08:53,850
going to be this

218
00:08:53,850 --> 00:08:56,160
latency there you saw how perfectly that

219
00:08:56,160 --> 00:08:58,350
worked out in when i showed you pay per

220
00:08:58,350 --> 00:09:00,870
cube like I all the data wasn't

221
00:09:00,870 --> 00:09:03,300
available right away but because and

222
00:09:03,300 --> 00:09:05,040
because of the way JavaScript works like

223
00:09:05,040 --> 00:09:06,959
you can't write your apps in a way where

224
00:09:06,959 --> 00:09:10,350
that were you allow open network

225
00:09:10,350 --> 00:09:11,970
connection to freeze everything up for

226
00:09:11,970 --> 00:09:13,589
the user you know you know about all the

227
00:09:13,589 --> 00:09:17,130
threading problem so this is a pretty

228
00:09:17,130 --> 00:09:19,050
unique problem for for building a

229
00:09:19,050 --> 00:09:21,870
desktop app that is completely cloud

230
00:09:21,870 --> 00:09:25,139
aware this latency issues it's part of

231
00:09:25,139 --> 00:09:27,449
that like that's something that it's a

232
00:09:27,449 --> 00:09:31,050
big challenge also the client right now

233
00:09:31,050 --> 00:09:33,329
doesn't have all that much storage I

234
00:09:33,329 --> 00:09:36,269
mean we're all familiar with some of the

235
00:09:36,269 --> 00:09:38,040
options that are out there but you can't

236
00:09:38,040 --> 00:09:39,560
really expect anything greater than

237
00:09:39,560 --> 00:09:42,180
sequel 85 right now if you're just

238
00:09:42,180 --> 00:09:45,740
planning to use web technologies also

239
00:09:45,740 --> 00:09:48,000
your app is running inside of the

240
00:09:48,000 --> 00:09:50,250
browser I couldn't find one that also

241
00:09:50,250 --> 00:09:52,709
included chrome is this beautiful keep

242
00:09:52,709 --> 00:09:54,209
everybody happy a trilogy but you could

243
00:09:54,209 --> 00:09:56,940
just sort it here in your mind so

244
00:09:56,940 --> 00:09:58,110
there's things that the browser is

245
00:09:58,110 --> 00:09:59,910
really good at it's really good at

246
00:09:59,910 --> 00:10:02,160
rendering HTML as you guys know you feed

247
00:10:02,160 --> 00:10:04,740
it a long string of HTML text it will

248
00:10:04,740 --> 00:10:06,649
make it will appear instantly but

249
00:10:06,649 --> 00:10:09,959
they're bad at touching the Dom you want

250
00:10:09,959 --> 00:10:12,389
to avoid the Dom as much as you can well

251
00:10:12,389 --> 00:10:16,170
you know the JavaScript that we use a

252
00:10:16,170 --> 00:10:17,399
single thread I mean there's there's

253
00:10:17,399 --> 00:10:19,319
manifold limitations that were there

254
00:10:19,319 --> 00:10:21,839
were well aware of so the sprout core

255
00:10:21,839 --> 00:10:24,959
framework is designed to work within

256
00:10:24,959 --> 00:10:26,579
those constraints and play to the

257
00:10:26,579 --> 00:10:28,050
strengths of the browser so you could

258
00:10:28,050 --> 00:10:30,149
build a desktop app that works in the

259
00:10:30,149 --> 00:10:33,870
cloud so it borrows patterns from from

260
00:10:33,870 --> 00:10:37,529
cocoa some of the like the really tried

261
00:10:37,529 --> 00:10:39,779
and true venerable ideas from that

262
00:10:39,779 --> 00:10:41,639
framework that have made it last for 4

263
00:10:41,639 --> 00:10:44,449
20 years but it doesn't use the same API

264
00:10:44,449 --> 00:10:47,220
and so like I was talking to the creator

265
00:10:47,220 --> 00:10:50,730
of spark or Charles Julian he this is

266
00:10:50,730 --> 00:10:53,339
this quote how they ask themselves how

267
00:10:53,339 --> 00:10:54,720
would you build cocoa for the web

268
00:10:54,720 --> 00:10:57,089
browser if you could rewrite it from

269
00:10:57,089 --> 00:10:59,490
scratch and throw away all the stuff

270
00:10:59,490 --> 00:11:01,620
that was out of date or old or just

271
00:11:01,620 --> 00:11:04,589
didn't really apply and also borrows

272
00:11:04,589 --> 00:11:06,689
patterns from these other projects from

273
00:11:06,689 --> 00:11:07,230
j.crew

274
00:11:07,230 --> 00:11:10,050
in Ruby and Python and prototype and

275
00:11:10,050 --> 00:11:13,710
rails and what first appeal to me about

276
00:11:13,710 --> 00:11:16,080
it really being a coming from like the

277
00:11:16,080 --> 00:11:18,990
web app server side was the the affinity

278
00:11:18,990 --> 00:11:20,550
with for I felt with it from rails

279
00:11:20,550 --> 00:11:22,890
because putting these apps together felt

280
00:11:22,890 --> 00:11:25,140
a lot more like configuring components

281
00:11:25,140 --> 00:11:27,990
and less like writing a whole bunch of

282
00:11:27,990 --> 00:11:29,640
code and that that just was familiar to

283
00:11:29,640 --> 00:11:33,480
me being a rails person so I mean I

284
00:11:33,480 --> 00:11:35,160
think it's interesting to note that when

285
00:11:35,160 --> 00:11:38,520
Apple made mobile me they didn't port

286
00:11:38,520 --> 00:11:43,800
cocoa to the web they view sprout core

287
00:11:43,800 --> 00:11:45,930
and that is how i became aware of it

288
00:11:45,930 --> 00:11:48,720
because last summer we were you know a

289
00:11:48,720 --> 00:11:50,970
year into less than a year into building

290
00:11:50,970 --> 00:11:54,990
our product and we we deal with email so

291
00:11:54,990 --> 00:11:56,790
the users really expect that to be much

292
00:11:56,790 --> 00:11:58,470
more responsive than anything else i had

293
00:11:58,470 --> 00:12:01,710
ever worked on and I saw this these apps

294
00:12:01,710 --> 00:12:03,510
and I was like I just knew that is

295
00:12:03,510 --> 00:12:05,250
exactly what I want I want to be able to

296
00:12:05,250 --> 00:12:07,560
have something that feels very native

297
00:12:07,560 --> 00:12:09,750
and fluid and as a lot of features but

298
00:12:09,750 --> 00:12:12,000
that wasn't complete pain to write and

299
00:12:12,000 --> 00:12:17,280
maintain also like when Apple came out

300
00:12:17,280 --> 00:12:19,320
with sdk for the iphone they didn't they

301
00:12:19,320 --> 00:12:21,060
made a derivative of cocoa called cocoa

302
00:12:21,060 --> 00:12:23,700
touch and i couldn't really when I

303
00:12:23,700 --> 00:12:25,320
shouldn't find a pity graphic for cocoa

304
00:12:25,320 --> 00:12:28,620
touch this as best I could do just

305
00:12:28,620 --> 00:12:31,620
that's really cool I got found that on

306
00:12:31,620 --> 00:12:36,900
flickr so so like all these ideas these

307
00:12:36,900 --> 00:12:39,060
are all this is all the broth from which

308
00:12:39,060 --> 00:12:42,360
Sprott core emerged emerges so when i'm

309
00:12:42,360 --> 00:12:43,890
going to talk kind of briefly about all

310
00:12:43,890 --> 00:12:45,570
the features that it comes with because

311
00:12:45,570 --> 00:12:47,940
I feel like we've already covered a lot

312
00:12:47,940 --> 00:12:49,500
of this ground but just just to show

313
00:12:49,500 --> 00:12:51,450
just kind of a show parody I thought I

314
00:12:51,450 --> 00:12:53,400
would mention it and one what the way I

315
00:12:53,400 --> 00:12:55,080
wanted to explain it was like let's

316
00:12:55,080 --> 00:12:56,670
think for a second what could we build

317
00:12:56,670 --> 00:12:58,230
with these technologies not just with

318
00:12:58,230 --> 00:13:00,960
spark or but anything that lets you use

319
00:13:00,960 --> 00:13:04,050
web native technologies in this way you

320
00:13:04,050 --> 00:13:06,900
know like just free our minds for a

321
00:13:06,900 --> 00:13:08,340
second and these are some of the things

322
00:13:08,340 --> 00:13:11,220
that I came up with and the asterisks

323
00:13:11,220 --> 00:13:13,980
are like once I made this lighting came

324
00:13:13,980 --> 00:13:15,150
here people started telling me about

325
00:13:15,150 --> 00:13:16,380
like oh well did you know

326
00:13:16,380 --> 00:13:18,240
so for example like rich Kilmer said

327
00:13:18,240 --> 00:13:20,340
he's made a video editing app with

328
00:13:20,340 --> 00:13:22,800
sprout core it uses a flash plugin just

329
00:13:22,800 --> 00:13:26,370
just for the video part and for ide of

330
00:13:26,370 --> 00:13:28,890
the core team is for our quarry is

331
00:13:28,890 --> 00:13:31,380
working on an IDE that would work

332
00:13:31,380 --> 00:13:33,510
similar to the interface builder that

333
00:13:33,510 --> 00:13:37,860
Francisco showed you and you know I saw

334
00:13:37,860 --> 00:13:39,840
with like John's demonstration of the

335
00:13:39,840 --> 00:13:42,360
guitar hero app I don't you know I don't

336
00:13:42,360 --> 00:13:44,130
know as much about animation and

337
00:13:44,130 --> 00:13:45,540
graphics and things like that but I feel

338
00:13:45,540 --> 00:13:47,190
like but I'd really like to spend a

339
00:13:47,190 --> 00:13:48,810
weekend trying to do that in sprout

340
00:13:48,810 --> 00:13:51,180
court see if what would be different or

341
00:13:51,180 --> 00:13:53,280
better because some of the core

342
00:13:53,280 --> 00:13:54,990
technology underneath of sprach or is

343
00:13:54,990 --> 00:13:57,420
really designed to make it as make the

344
00:13:57,420 --> 00:13:59,190
browser as fast as possible and deal

345
00:13:59,190 --> 00:14:00,840
with some of those timer problems and

346
00:14:00,840 --> 00:14:02,010
event handling that I feel like that

347
00:14:02,010 --> 00:14:03,600
might it might fit in really well with

348
00:14:03,600 --> 00:14:04,950
what he was trying to do with the guitar

349
00:14:04,950 --> 00:14:08,040
game but so I leave does an exercise to

350
00:14:08,040 --> 00:14:10,020
the reader so if you wanted to make one

351
00:14:10,020 --> 00:14:11,550
of these things it's really rich

352
00:14:11,550 --> 00:14:16,260
interaction but what would you need you

353
00:14:16,260 --> 00:14:18,180
know I came into this very naively

354
00:14:18,180 --> 00:14:20,010
thinking I've been doing web apps for a

355
00:14:20,010 --> 00:14:22,950
couple years I'm a total ninja no

356
00:14:22,950 --> 00:14:24,780
problem well you actually need a lot you

357
00:14:24,780 --> 00:14:27,240
need what desktop developers have always

358
00:14:27,240 --> 00:14:28,560
had what they've really come to expect

359
00:14:28,560 --> 00:14:30,990
so these are all the things that spark

360
00:14:30,990 --> 00:14:33,990
or gives you like keyboard management

361
00:14:33,990 --> 00:14:37,860
and focus and drag and drop and NBC and

362
00:14:37,860 --> 00:14:39,810
you know it has a build system and a

363
00:14:39,810 --> 00:14:42,870
testing framework and I'm trying to go

364
00:14:42,870 --> 00:14:44,790
quickly so I have time and you know at

365
00:14:44,790 --> 00:14:46,440
the end too I can show you any of these

366
00:14:46,440 --> 00:14:49,860
things discuss any of these but the to

367
00:14:49,860 --> 00:14:52,200
me the really cool feature that you know

368
00:14:52,200 --> 00:14:54,420
if you don't remember anything else for

369
00:14:54,420 --> 00:14:57,030
my talk to you from my talk about the

370
00:14:57,030 --> 00:14:58,830
thing that's really was a wide open for

371
00:14:58,830 --> 00:15:00,450
me and like changed my programming life

372
00:15:00,450 --> 00:15:02,790
is bindings and observers so that's the

373
00:15:02,790 --> 00:15:03,960
one that's the feature I want to dwell

374
00:15:03,960 --> 00:15:05,670
on and I think all these other ones

375
00:15:05,670 --> 00:15:09,470
people have already talked about okay so

376
00:15:09,470 --> 00:15:12,200
finding this its really three different

377
00:15:12,200 --> 00:15:14,460
components in one that make this work

378
00:15:14,460 --> 00:15:17,280
its key value coding key value

379
00:15:17,280 --> 00:15:20,760
observation and bindings alright so the

380
00:15:20,760 --> 00:15:22,710
reason why these are big deal is because

381
00:15:22,710 --> 00:15:25,380
they're what help you avoid glue code to

382
00:15:25,380 --> 00:15:28,380
make something like paper cube you have

383
00:15:28,380 --> 00:15:30,300
a lot of things that have to be

384
00:15:30,300 --> 00:15:32,670
incra nuys like a lot of people need to

385
00:15:32,670 --> 00:15:34,680
be notified about changes to different

386
00:15:34,680 --> 00:15:35,730
objects and if you don't have a

387
00:15:35,730 --> 00:15:37,620
framework doing that for you you have to

388
00:15:37,620 --> 00:15:40,290
write it yourself and it's it's really

389
00:15:40,290 --> 00:15:41,910
nasty i looked at some of my old code

390
00:15:41,910 --> 00:15:43,650
for the original version of other inbox

391
00:15:43,650 --> 00:15:45,330
i don't don't--i want to put it up there

392
00:15:45,330 --> 00:15:47,760
because it's so bad but you can imagine

393
00:15:47,760 --> 00:15:50,310
if i want to destroy an object i have to

394
00:15:50,310 --> 00:15:52,410
remove it from a hash somewhere I have

395
00:15:52,410 --> 00:15:53,970
to decrement a counter of the total

396
00:15:53,970 --> 00:15:55,320
objects have to make sure the Dom

397
00:15:55,320 --> 00:15:56,640
element representing that object gets

398
00:15:56,640 --> 00:15:58,320
removed and it's just terrible stuff up

399
00:15:58,320 --> 00:16:00,120
you guys have all been there so here's

400
00:16:00,120 --> 00:16:02,430
here's how it saves you time saves you

401
00:16:02,430 --> 00:16:04,530
from writing all that awful code key

402
00:16:04,530 --> 00:16:06,750
value coding it just means from now on

403
00:16:06,750 --> 00:16:10,140
anytime you want to access a property or

404
00:16:10,140 --> 00:16:11,670
change a property on a JavaScript object

405
00:16:11,670 --> 00:16:15,540
you're going to use a get or set that

406
00:16:15,540 --> 00:16:17,970
it's as simple as that you can do this

407
00:16:17,970 --> 00:16:21,090
it's possible but you you would be

408
00:16:21,090 --> 00:16:25,710
ill-advised to do it because by using

409
00:16:25,710 --> 00:16:29,250
key value coding it gives you a chance

410
00:16:29,250 --> 00:16:32,310
to register other pieces of code that

411
00:16:32,310 --> 00:16:33,630
want to be notified when there's a

412
00:16:33,630 --> 00:16:36,900
change to that object so that's called

413
00:16:36,900 --> 00:16:39,840
key value observation so here's my

414
00:16:39,840 --> 00:16:42,210
example you have this collection of

415
00:16:42,210 --> 00:16:44,820
objects down here there's a sparkler

416
00:16:44,820 --> 00:16:46,530
come to the local database called SC

417
00:16:46,530 --> 00:16:49,020
store and the API of it was very

418
00:16:49,020 --> 00:16:51,060
familiar it looks looks a lot like like

419
00:16:51,060 --> 00:16:54,030
taffy DB so I decided to exercise the

420
00:16:54,030 --> 00:16:55,980
parts where i show you the store because

421
00:16:55,980 --> 00:16:58,010
you've already seen a very awesome

422
00:16:58,010 --> 00:17:00,570
implementation the same idea so here's

423
00:17:00,570 --> 00:17:02,940
the store I got all my contact objects

424
00:17:02,940 --> 00:17:07,110
and here is the actual piece of the view

425
00:17:07,110 --> 00:17:09,570
that I want to effect this is just a

426
00:17:09,570 --> 00:17:12,150
string of HTML and it's represented in

427
00:17:12,150 --> 00:17:15,270
the code by a list item view so the demo

428
00:17:15,270 --> 00:17:16,410
that I'm going to be showing you is just

429
00:17:16,410 --> 00:17:18,480
a really simple contacts address book

430
00:17:18,480 --> 00:17:21,240
application so ultimately we want to

431
00:17:21,240 --> 00:17:23,160
change something over here we want to

432
00:17:23,160 --> 00:17:24,920
cause a change which gets reflected

433
00:17:24,920 --> 00:17:26,940
interview and we don't want to write a

434
00:17:26,940 --> 00:17:28,470
ton of glue code we just wanted to

435
00:17:28,470 --> 00:17:30,060
happen automatically so we can get on

436
00:17:30,060 --> 00:17:32,460
with solving the actual problem so what

437
00:17:32,460 --> 00:17:37,050
to make this work you have a controller

438
00:17:37,050 --> 00:17:38,580
called vote me in this case the contacts

439
00:17:38,580 --> 00:17:41,220
controller which represents a collection

440
00:17:41,220 --> 00:17:43,440
of objects in this case I have it

441
00:17:43,440 --> 00:17:45,600
showing you all the contacts but you

442
00:17:45,600 --> 00:17:47,970
could you can easily one of the things

443
00:17:47,970 --> 00:17:49,559
that the controller does is constrain

444
00:17:49,559 --> 00:17:51,750
which things are being represented on

445
00:17:51,750 --> 00:17:53,850
the screen so you know from from the

446
00:17:53,850 --> 00:17:55,649
paper cube example there's probably some

447
00:17:55,649 --> 00:17:58,200
kind of controller called articles that

448
00:17:58,200 --> 00:18:00,090
is the list of articles that you've

449
00:18:00,090 --> 00:18:01,860
selected in that and/or the container

450
00:18:01,860 --> 00:18:03,029
for the articles that you've searched

451
00:18:03,029 --> 00:18:07,019
for it okay so in that's like a master

452
00:18:07,019 --> 00:18:09,210
controller it contains all the things

453
00:18:09,210 --> 00:18:12,000
that would be in a whole list of objects

454
00:18:12,000 --> 00:18:13,379
so then there's the detailed controller

455
00:18:13,379 --> 00:18:16,340
which just represents one particular

456
00:18:16,340 --> 00:18:20,460
contact the content of the contact

457
00:18:20,460 --> 00:18:23,879
controller is bound to the selection

458
00:18:23,879 --> 00:18:26,309
property of the contacts controller so

459
00:18:26,309 --> 00:18:28,500
the my contacts controller its content

460
00:18:28,500 --> 00:18:30,750
is a collection of contact objects I

461
00:18:30,750 --> 00:18:32,879
probably need to get rid of this

462
00:18:32,879 --> 00:18:34,409
alliteration change it to something else

463
00:18:34,409 --> 00:18:36,899
but this fine will press on contacts

464
00:18:36,899 --> 00:18:38,730
controller has a selection of all the

465
00:18:38,730 --> 00:18:40,080
things i know about which one is

466
00:18:40,080 --> 00:18:41,490
selected what you know where should

467
00:18:41,490 --> 00:18:42,870
where should the user where should they

468
00:18:42,870 --> 00:18:44,429
be highlighted so the user can tell what

469
00:18:44,429 --> 00:18:46,590
they've selected that gets used as a

470
00:18:46,590 --> 00:18:48,620
value for the contact controller and

471
00:18:48,620 --> 00:18:52,320
this list item view the only way it

472
00:18:52,320 --> 00:18:54,600
knows what it should displays it's bound

473
00:18:54,600 --> 00:18:57,059
to the content property of the contact

474
00:18:57,059 --> 00:18:58,559
controller i'll talk about properties in

475
00:18:58,559 --> 00:19:01,529
a second so there's a little bit of code

476
00:19:01,529 --> 00:19:03,659
in here that says okay i want you to

477
00:19:03,659 --> 00:19:06,779
take the name of the contact that i'm

478
00:19:06,779 --> 00:19:08,490
bound to I want you to display it

479
00:19:08,490 --> 00:19:11,970
wrapped in h2 tags okay so the magic

480
00:19:11,970 --> 00:19:13,799
happens with what's now we want to do

481
00:19:13,799 --> 00:19:15,750
something we want to change that this

482
00:19:15,750 --> 00:19:18,509
particular content we want to change the

483
00:19:18,509 --> 00:19:20,820
name I get the first name I want to

484
00:19:20,820 --> 00:19:23,340
change your first name to Sarah okay so

485
00:19:23,340 --> 00:19:26,610
because all these objects in the model

486
00:19:26,610 --> 00:19:27,809
and the view and the controller and

487
00:19:27,809 --> 00:19:28,769
these separate layers of your

488
00:19:28,769 --> 00:19:31,470
application they've all registered to

489
00:19:31,470 --> 00:19:33,679
receive notifications just by saying

490
00:19:33,679 --> 00:19:35,789
they're all bound without you having to

491
00:19:35,789 --> 00:19:37,080
do anything except expressed that

492
00:19:37,080 --> 00:19:41,220
binding when i type this change in or

493
00:19:41,220 --> 00:19:42,899
when I make that happen it flickers

494
00:19:42,899 --> 00:19:44,639
through zubair see that the animation

495
00:19:44,639 --> 00:19:45,600
their work for your hard to get that

496
00:19:45,600 --> 00:19:47,970
right so all right so then the result is

497
00:19:47,970 --> 00:19:51,179
this just changes and you don't have to

498
00:19:51,179 --> 00:19:53,279
do anything except right object set name

499
00:19:53,279 --> 00:19:56,140
Terra so that's the big deal when I

500
00:19:56,140 --> 00:19:58,270
all that I just that look from here

501
00:19:58,270 --> 00:20:00,670
flows all sorts of amazing insights is

502
00:20:00,670 --> 00:20:03,190
really cool so the third part of this

503
00:20:03,190 --> 00:20:04,810
puzzle the bindings that's these

504
00:20:04,810 --> 00:20:07,210
connections here and you don't ever you

505
00:20:07,210 --> 00:20:09,160
don't usually have to create bindings

506
00:20:09,160 --> 00:20:10,750
yourself that gets done for you by the

507
00:20:10,750 --> 00:20:12,670
framework when you are configuring these

508
00:20:12,670 --> 00:20:16,120
components alright any questions about

509
00:20:16,120 --> 00:20:18,730
I've talked about so far all right so

510
00:20:18,730 --> 00:20:20,050
now I'm going to jump back into demo

511
00:20:20,050 --> 00:20:23,470
time and i think i'm going to mirror my

512
00:20:23,470 --> 00:20:25,750
screen this time so i don't like get

513
00:20:25,750 --> 00:20:32,670
seasick okay so one moment here

514
00:20:32,670 --> 00:20:38,160
hopefully the resolution works okay so

515
00:20:38,160 --> 00:20:41,800
this is the app that running that I've

516
00:20:41,800 --> 00:20:43,480
been showing you this is the contacts

517
00:20:43,480 --> 00:20:48,970
application over here over here this

518
00:20:48,970 --> 00:20:51,400
this is like the contact controller is

519
00:20:51,400 --> 00:20:53,520
what's backing this list of contacts up

520
00:20:53,520 --> 00:20:56,200
and we'll look at the code in second you

521
00:20:56,200 --> 00:20:57,640
know then we have a detailed view here

522
00:20:57,640 --> 00:21:00,070
that's bound to that contact controller

523
00:21:00,070 --> 00:21:01,840
that that makes sense everybody follow

524
00:21:01,840 --> 00:21:06,430
me okay so let's actually do the thing

525
00:21:06,430 --> 00:21:08,400
that I was showing you so first of all

526
00:21:08,400 --> 00:21:12,010
when you create one of these apps you

527
00:21:12,010 --> 00:21:14,080
have like you get an application object

528
00:21:14,080 --> 00:21:15,340
it's like the only thing that gets added

529
00:21:15,340 --> 00:21:17,560
your name space other than the like the

530
00:21:17,560 --> 00:21:20,290
sprout core object so what I'm doing is

531
00:21:20,290 --> 00:21:21,970
I'm going to my application I'm saying

532
00:21:21,970 --> 00:21:23,650
all right content i'm going to talk to

533
00:21:23,650 --> 00:21:26,350
the contact model know and say all right

534
00:21:26,350 --> 00:21:30,100
contact model i wanted to do a query I

535
00:21:30,100 --> 00:21:33,070
want to find the person whose first name

536
00:21:33,070 --> 00:21:37,870
is Michael all right and this is one

537
00:21:37,870 --> 00:21:39,430
thing i don't like about the WebKit

538
00:21:39,430 --> 00:21:41,680
developer toilet doesn't like it Firebug

539
00:21:41,680 --> 00:21:44,320
it resolves it but so somebody I hope

540
00:21:44,320 --> 00:21:45,700
somebody fixes out or maybe I'll have to

541
00:21:45,700 --> 00:21:48,390
anyway that gives me back a particular

542
00:21:48,390 --> 00:21:50,800
contact object so now I'm going to use

543
00:21:50,800 --> 00:21:53,590
the key value coding to actually let's

544
00:21:53,590 --> 00:21:55,330
see if I got the object that I thought

545
00:21:55,330 --> 00:21:58,300
that I thought I asked for and it worked

546
00:21:58,300 --> 00:22:00,820
so I asked for somebody's first day was

547
00:22:00,820 --> 00:22:02,500
Michael I got back a contact object

548
00:22:02,500 --> 00:22:06,120
indeed their first name what's Michael

549
00:22:06,120 --> 00:22:08,980
and you know I can do other things get

550
00:22:08,980 --> 00:22:09,250
there

551
00:22:09,250 --> 00:22:12,190
last name I think that yeah so that

552
00:22:12,190 --> 00:22:13,690
proves that what I got back was a

553
00:22:13,690 --> 00:22:18,040
contact ok so now let's let's do

554
00:22:18,040 --> 00:22:23,740
something a little more ambitious so

555
00:22:23,740 --> 00:22:29,460
this time I want to change the last name

556
00:22:29,460 --> 00:22:34,240
to something else all right so watch the

557
00:22:34,240 --> 00:22:36,970
list item with one eye and watch the

558
00:22:36,970 --> 00:22:39,670
detail view here with the other eye all

559
00:22:39,670 --> 00:22:41,380
right or just take note of it and then

560
00:22:41,380 --> 00:22:42,400
like after changes you could just

561
00:22:42,400 --> 00:22:46,420
compare all right so it just changed let

562
00:22:46,420 --> 00:22:49,180
the list item changed and this here

563
00:22:49,180 --> 00:22:52,300
change so let's let me show you the code

564
00:22:52,300 --> 00:22:56,350
that actually makes that work arista

565
00:22:56,350 --> 00:23:00,070
sizes I'm plenty i'm going to do a tour

566
00:23:00,070 --> 00:23:01,810
or like why the code is organized his

567
00:23:01,810 --> 00:23:03,940
way in a second but i want two more get

568
00:23:03,940 --> 00:23:07,260
into the magic of these features here so

569
00:23:07,260 --> 00:23:11,350
here's the master controller and there's

570
00:23:11,350 --> 00:23:12,970
actually almost nothing in here that you

571
00:23:12,970 --> 00:23:15,610
need this is like the they have a pretty

572
00:23:15,610 --> 00:23:18,760
heavyweight documentation system which i

573
00:23:18,760 --> 00:23:21,270
usually just i take all this out but

574
00:23:21,270 --> 00:23:25,150
this stuff in here that's just optional

575
00:23:25,150 --> 00:23:27,160
configuration data you don't really even

576
00:23:27,160 --> 00:23:31,150
need this at all but that you know for

577
00:23:31,150 --> 00:23:32,350
certain apps you want to be able to

578
00:23:32,350 --> 00:23:34,480
select multiple things and you you you

579
00:23:34,480 --> 00:23:37,470
want to be able to have a null selection

580
00:23:37,470 --> 00:23:41,440
there's some startup code most of this

581
00:23:41,440 --> 00:23:43,570
is oh by the way i also should say i'm

582
00:23:43,570 --> 00:23:46,020
showing you this is like a 0.9 app

583
00:23:46,020 --> 00:23:48,700
sprout courses in one point 0 like the

584
00:23:48,700 --> 00:23:51,340
release candidate is out and some of the

585
00:23:51,340 --> 00:23:54,100
API is changed so anything that looks

586
00:23:54,100 --> 00:23:55,300
bad now going here I'm just going to

587
00:23:55,300 --> 00:23:57,970
blame on it being 0.9 but since I'm

588
00:23:57,970 --> 00:23:59,890
living in a 0.9 world i don't feel

589
00:23:59,890 --> 00:24:01,720
comfortable presenting that stuff but

590
00:24:01,720 --> 00:24:03,820
it's it just makes the the syntax a

591
00:24:03,820 --> 00:24:07,990
little bit nicer so anyway this is where

592
00:24:07,990 --> 00:24:09,490
this is like what kicks off everything

593
00:24:09,490 --> 00:24:11,110
we get that we get a collection of

594
00:24:11,110 --> 00:24:13,930
contact objects and we set the master

595
00:24:13,930 --> 00:24:16,750
controller its its content property gets

596
00:24:16,750 --> 00:24:18,730
set to that collection that's the gist

597
00:24:18,730 --> 00:24:20,650
of it you know and you're like for

598
00:24:20,650 --> 00:24:21,880
example you don't have to do this

599
00:24:21,880 --> 00:24:25,150
more in one point oh okay but that's it

600
00:24:25,150 --> 00:24:26,650
there's really no other code required

601
00:24:26,650 --> 00:24:28,840
your controller for free this already

602
00:24:28,840 --> 00:24:30,430
knows about how to handle multiple

603
00:24:30,430 --> 00:24:33,880
selections and you know it can handle

604
00:24:33,880 --> 00:24:35,740
keyboard events all kinds of other cool

605
00:24:35,740 --> 00:24:38,410
things like that reordering objects you

606
00:24:38,410 --> 00:24:39,850
get all that for free you still have to

607
00:24:39,850 --> 00:24:42,130
implement the code where you need to do

608
00:24:42,130 --> 00:24:44,680
something about it if the user reorders

609
00:24:44,680 --> 00:24:45,970
the items in the list but you don't have

610
00:24:45,970 --> 00:24:48,220
to worry about like removing it from one

611
00:24:48,220 --> 00:24:49,510
place and inserting it somewhere else

612
00:24:49,510 --> 00:24:51,400
you get that for free so then we have

613
00:24:51,400 --> 00:24:53,140
this other this detailed controller

614
00:24:53,140 --> 00:24:57,280
again the real that's actually the main

615
00:24:57,280 --> 00:24:59,740
meat of it is right here what is the

616
00:24:59,740 --> 00:25:01,300
contact detail controller what is it and

617
00:25:01,300 --> 00:25:02,590
want to know it just wants to know where

618
00:25:02,590 --> 00:25:04,060
to get its content from so that's a

619
00:25:04,060 --> 00:25:07,320
binding to the selection property of the

620
00:25:07,320 --> 00:25:11,190
contacts controller so I can do contacts

621
00:25:11,190 --> 00:25:15,850
with it let's this one called master

622
00:25:15,850 --> 00:25:22,870
controller going off script here so

623
00:25:22,870 --> 00:25:25,630
that's the collection of objects it's

624
00:25:25,630 --> 00:25:26,560
not that interesting we get the

625
00:25:26,560 --> 00:25:35,890
selection that looks like a bug so what

626
00:25:35,890 --> 00:25:38,380
I'm doing is yeah I'm getting so on

627
00:25:38,380 --> 00:25:39,940
that's that's the binding that the

628
00:25:39,940 --> 00:25:41,470
detail controller is taking advantage of

629
00:25:41,470 --> 00:25:43,780
the selection property of the master

630
00:25:43,780 --> 00:25:45,730
controller it's coming back as an array

631
00:25:45,730 --> 00:25:49,180
which it really shouldn't do or if I if

632
00:25:49,180 --> 00:25:50,500
I if the detail with the master

633
00:25:50,500 --> 00:25:52,090
controller was written differently it

634
00:25:52,090 --> 00:25:53,350
would be aware of the fact that it only

635
00:25:53,350 --> 00:25:54,940
ever selecting one object so we could

636
00:25:54,940 --> 00:25:57,100
have it returned a single object if we

637
00:25:57,100 --> 00:26:01,720
wanted to okay so the last thing i want

638
00:26:01,720 --> 00:26:06,760
to show you would be the model that this

639
00:26:06,760 --> 00:26:10,000
is a property which I'll delve into in a

640
00:26:10,000 --> 00:26:12,400
second but there's there's no schema

641
00:26:12,400 --> 00:26:14,260
there's no thinking especially you have

642
00:26:14,260 --> 00:26:16,630
to do to contact except name it and say

643
00:26:16,630 --> 00:26:19,830
what it is this is an example of a

644
00:26:19,830 --> 00:26:22,450
property in stock or so this is like a

645
00:26:22,450 --> 00:26:24,910
special case of kvo it is super common

646
00:26:24,910 --> 00:26:26,920
so there's a helper for it and the idea

647
00:26:26,920 --> 00:26:31,120
here is suppose I have a computed

648
00:26:31,120 --> 00:26:33,500
property it's not something that gets

649
00:26:33,500 --> 00:26:34,910
created when this object is instantiated

650
00:26:34,910 --> 00:26:37,460
is something that you compute by in this

651
00:26:37,460 --> 00:26:40,370
case concatenated to other properties of

652
00:26:40,370 --> 00:26:42,860
the object well by rap by calling the

653
00:26:42,860 --> 00:26:44,540
property helper there at the end you're

654
00:26:44,540 --> 00:26:46,130
telling sprach all right here is a

655
00:26:46,130 --> 00:26:48,770
function that other people can observe

656
00:26:48,770 --> 00:26:50,570
you can register to get notified when

657
00:26:50,570 --> 00:26:53,630
this changes I'm furthermore you should

658
00:26:53,630 --> 00:26:56,390
recompute me like I care about the value

659
00:26:56,390 --> 00:26:58,460
of these two other properties so if

660
00:26:58,460 --> 00:27:00,710
first name or last name change this gets

661
00:27:00,710 --> 00:27:02,930
recomputed automatically so that's what

662
00:27:02,930 --> 00:27:06,410
made the list item there on the far left

663
00:27:06,410 --> 00:27:09,710
work but then let me I'm sort of getting

664
00:27:09,710 --> 00:27:13,100
ahead of myself so what wires all this

665
00:27:13,100 --> 00:27:16,340
up is the body to our HTML file and this

666
00:27:16,340 --> 00:27:17,990
is the thing that is most different at

667
00:27:17,990 --> 00:27:19,670
one point oh and if we have time at the

668
00:27:19,670 --> 00:27:21,950
end i will show you an example of a much

669
00:27:21,950 --> 00:27:24,050
nicer version of this because this

670
00:27:24,050 --> 00:27:26,120
version we use Ruby helpers but in truck

671
00:27:26,120 --> 00:27:28,280
or one point oh it's all JavaScript but

672
00:27:28,280 --> 00:27:30,230
the idea is basically the same you're

673
00:27:30,230 --> 00:27:33,170
not having to write so much HTML in here

674
00:27:33,170 --> 00:27:34,460
you're using these helpers which

675
00:27:34,460 --> 00:27:36,800
generate most of the code for you it's

676
00:27:36,800 --> 00:27:38,570
just that in the next version you won't

677
00:27:38,570 --> 00:27:41,960
have to use Ruby at all and so but the

678
00:27:41,960 --> 00:27:44,360
reason I'm showing this to you is this

679
00:27:44,360 --> 00:27:45,980
is what actually shows the user

680
00:27:45,980 --> 00:27:47,000
something so this is the most

681
00:27:47,000 --> 00:27:48,290
interesting part of the app as far as

682
00:27:48,290 --> 00:27:50,930
I'm concerned so to make that list work

683
00:27:50,930 --> 00:27:53,870
over there I'm taking a prebuilt object

684
00:27:53,870 --> 00:27:55,070
that comes with a framework called a

685
00:27:55,070 --> 00:27:57,530
list view and I'm binding it's the

686
00:27:57,530 --> 00:28:00,080
content comes from the arranged object

687
00:28:00,080 --> 00:28:01,730
property of master controller and you

688
00:28:01,730 --> 00:28:03,140
know we didn't have to arrange the

689
00:28:03,140 --> 00:28:04,970
object is a special way to show the

690
00:28:04,970 --> 00:28:06,980
collection but that's the behavior we

691
00:28:06,980 --> 00:28:08,420
get for free with the framework I didn't

692
00:28:08,420 --> 00:28:10,570
have to define that and this selection

693
00:28:10,570 --> 00:28:13,250
you know we're telling list item alright

694
00:28:13,250 --> 00:28:16,340
we want you to you know highlight put a

695
00:28:16,340 --> 00:28:18,770
little purple bar on on one of the

696
00:28:18,770 --> 00:28:20,390
objects in this collection and you can

697
00:28:20,390 --> 00:28:23,420
find it by getting the the selection

698
00:28:23,420 --> 00:28:26,240
property of the controller so does that

699
00:28:26,240 --> 00:28:30,340
make sense am I going too fast alright

700
00:28:30,340 --> 00:28:32,900
let's see I didn't show you this but we

701
00:28:32,900 --> 00:28:35,840
also have a split view here and this is

702
00:28:35,840 --> 00:28:37,130
one of the things that gets better and

703
00:28:37,130 --> 00:28:38,690
faster because they've rewritten the

704
00:28:38,690 --> 00:28:40,940
view system like three times probably

705
00:28:40,940 --> 00:28:42,560
since this demo was created so this

706
00:28:42,560 --> 00:28:44,210
actually you'll be able to do it more

707
00:28:44,210 --> 00:28:46,850
things

708
00:28:46,860 --> 00:28:49,080
and that's really all you need to do you

709
00:28:49,080 --> 00:28:50,700
know you have to be designed the other

710
00:28:50,700 --> 00:28:52,679
two views carefully but to turn on list

711
00:28:52,679 --> 00:28:55,799
views you basically just that's that's

712
00:28:55,799 --> 00:28:57,630
essentially it not much more to it than

713
00:28:57,630 --> 00:29:00,030
that here's what like an individual

714
00:29:00,030 --> 00:29:02,250
forum item looks like and there's the

715
00:29:02,250 --> 00:29:03,870
binding all right we want the first name

716
00:29:03,870 --> 00:29:06,809
text field to get it's a value will you

717
00:29:06,809 --> 00:29:08,820
bind to the detail controller first name

718
00:29:08,820 --> 00:29:11,520
but you notice I didn't there's no first

719
00:29:11,520 --> 00:29:13,910
name property on the detail controller

720
00:29:13,910 --> 00:29:17,490
right it's the framework is just smart

721
00:29:17,490 --> 00:29:19,500
enough to know okay if I don't have a

722
00:29:19,500 --> 00:29:21,809
property called first name I'm going to

723
00:29:21,809 --> 00:29:24,330
pass it on to my content collection you

724
00:29:24,330 --> 00:29:25,500
know it's kind of like method missing

725
00:29:25,500 --> 00:29:26,850
i'm gonna forward it on until somebody

726
00:29:26,850 --> 00:29:31,850
can answer the mail on that all right

727
00:29:31,850 --> 00:29:36,780
see so what you don't you it comes with

728
00:29:36,780 --> 00:29:38,190
a lot of built-in views that are really

729
00:29:38,190 --> 00:29:39,750
cool but for any you know sophisticated

730
00:29:39,750 --> 00:29:41,580
app like we're all making you end up

731
00:29:41,580 --> 00:29:43,130
having to write a lot of your own views

732
00:29:43,130 --> 00:29:46,620
so this is an example of what a custom

733
00:29:46,620 --> 00:29:48,150
view looks like so if you're not happy

734
00:29:48,150 --> 00:29:49,530
with the way that list items are

735
00:29:49,530 --> 00:29:52,710
displayed by default you can you get

736
00:29:52,710 --> 00:29:55,650
this here so like I like the cut in the

737
00:29:55,650 --> 00:29:56,970
class is set this way I don't like it

738
00:29:56,970 --> 00:29:58,440
the waist bra corsets a class you can do

739
00:29:58,440 --> 00:30:04,380
that okay so let me dive back in here so

740
00:30:04,380 --> 00:30:06,720
that that's KBC kbo that is the thing

741
00:30:06,720 --> 00:30:08,429
that if you don't even if you never

742
00:30:08,429 --> 00:30:10,290
adopt this framework me you should still

743
00:30:10,290 --> 00:30:11,910
bring into whatever it is you are using

744
00:30:11,910 --> 00:30:14,970
because it's really helpful I already

745
00:30:14,970 --> 00:30:18,210
talked about properties so move on from

746
00:30:18,210 --> 00:30:23,040
that ok so now I just want to go off

747
00:30:23,040 --> 00:30:25,110
script I don't have anything I have like

748
00:30:25,110 --> 00:30:26,309
a few more slides where talk about the

749
00:30:26,309 --> 00:30:28,020
build process but I want to just start

750
00:30:28,020 --> 00:30:30,510
showing you more code and like step back

751
00:30:30,510 --> 00:30:32,370
to wire things organized the way they

752
00:30:32,370 --> 00:30:34,169
are I'm going to show you a couple of

753
00:30:34,169 --> 00:30:35,340
those sample apps and then I'm just

754
00:30:35,340 --> 00:30:36,809
going to dive into the other end box

755
00:30:36,809 --> 00:30:39,780
code you know which is as rough and

756
00:30:39,780 --> 00:30:41,850
tumble and nasty as it is it'll give you

757
00:30:41,850 --> 00:30:44,070
the idea of what it's like to make one

758
00:30:44,070 --> 00:30:48,780
of these apps alright so first of all

759
00:30:48,780 --> 00:30:53,600
let's just back up a little bit the

760
00:30:53,600 --> 00:30:56,010
every spark or app has this clients

761
00:30:56,010 --> 00:30:58,140
directory and the clients are roughly

762
00:30:58,140 --> 00:30:59,700
analogous to

763
00:30:59,700 --> 00:31:01,230
like what you would have to do to load a

764
00:31:01,230 --> 00:31:04,620
new page so this is all one application

765
00:31:04,620 --> 00:31:07,769
but the the contacts app I've been

766
00:31:07,769 --> 00:31:09,899
showing you like that requires a

767
00:31:09,899 --> 00:31:13,260
complete page load and it like I can't

768
00:31:13,260 --> 00:31:15,419
just seamlessly switch from one tab to

769
00:31:15,419 --> 00:31:18,389
another to get to the photos demo so for

770
00:31:18,389 --> 00:31:20,850
example you can see up here I've got

771
00:31:20,850 --> 00:31:23,940
contacts in the URL and I got photos

772
00:31:23,940 --> 00:31:27,450
over here so each one those is a

773
00:31:27,450 --> 00:31:29,909
separate client I don't know a cool web

774
00:31:29,909 --> 00:31:32,039
way to communicate that idea but that's

775
00:31:32,039 --> 00:31:34,230
that's it either they both like top

776
00:31:34,230 --> 00:31:36,929
level path routes for your app alright

777
00:31:36,929 --> 00:31:41,519
so okay another thing we wanted ish that

778
00:31:41,519 --> 00:31:43,440
say all these apps at the top level have

779
00:31:43,440 --> 00:31:45,570
this configuration file that controls

780
00:31:45,570 --> 00:31:48,630
the build process and there's all kinds

781
00:31:48,630 --> 00:31:50,010
of things that you can do to tweak it

782
00:31:50,010 --> 00:31:51,690
make it work in your environment when

783
00:31:51,690 --> 00:31:53,789
you build one of these apps it just gets

784
00:31:53,789 --> 00:31:56,630
compiled and assembled and minified into

785
00:31:56,630 --> 00:31:59,549
just a static javascript file static

786
00:31:59,549 --> 00:32:02,039
HTML files and so but you have a lot of

787
00:32:02,039 --> 00:32:03,659
control over how that happens what

788
00:32:03,659 --> 00:32:08,570
prefixes get set they see if there's

789
00:32:08,570 --> 00:32:10,950
this one may not have okay well you can

790
00:32:10,950 --> 00:32:12,870
turn off magnification all kinds of

791
00:32:12,870 --> 00:32:15,929
stuff like that all right but let's so

792
00:32:15,929 --> 00:32:17,639
the most most of the interesting stuff

793
00:32:17,639 --> 00:32:21,779
comes in these app directories so let's

794
00:32:21,779 --> 00:32:24,899
look at well let's look at the at the

795
00:32:24,899 --> 00:32:27,690
contacts app since I've been that's what

796
00:32:27,690 --> 00:32:29,250
we're most comfortable starting out okay

797
00:32:29,250 --> 00:32:30,889
so there's the model-view-controller

798
00:32:30,889 --> 00:32:33,480
folders I've shown you what those are

799
00:32:33,480 --> 00:32:35,389
all about that's pretty self-explanatory

800
00:32:35,389 --> 00:32:39,799
what goes in there this core file so

801
00:32:39,799 --> 00:32:43,110
every sprout corps app has like this is

802
00:32:43,110 --> 00:32:45,090
where all the code that is really

803
00:32:45,090 --> 00:32:47,370
specific to your application should go

804
00:32:47,370 --> 00:32:50,610
so like it's not about them the model

805
00:32:50,610 --> 00:32:53,549
this is all the like me like for example

806
00:32:53,549 --> 00:32:55,470
I use the core object I have a series of

807
00:32:55,470 --> 00:32:57,870
functions that rap Ajax calls and do a

808
00:32:57,870 --> 00:32:59,039
couple things that our server is

809
00:32:59,039 --> 00:33:01,080
expecting to have out you know like

810
00:33:01,080 --> 00:33:02,639
authenticate you things like that so

811
00:33:02,639 --> 00:33:04,470
it's the kind of stuff it's just a good

812
00:33:04,470 --> 00:33:06,889
place to put that kind of utility code

813
00:33:06,889 --> 00:33:09,179
and there's a couple things that that

814
00:33:09,179 --> 00:33:12,779
spark or expects to see there so this is

815
00:33:12,779 --> 00:33:13,170
it you know

816
00:33:13,170 --> 00:33:16,170
need this anymore one point oh so just

817
00:33:16,170 --> 00:33:17,250
pay no attention the man behind the

818
00:33:17,250 --> 00:33:22,320
counter fixtures get loaded in the main

819
00:33:22,320 --> 00:33:26,460
file here so okay so the fixtures object

820
00:33:26,460 --> 00:33:30,330
actually it gets referenced here I'm

821
00:33:30,330 --> 00:33:31,230
pointing like you can see what I'm

822
00:33:31,230 --> 00:33:32,370
pointing at it gets reference here but

823
00:33:32,370 --> 00:33:34,680
they actually get loaded here so all it

824
00:33:34,680 --> 00:33:38,790
is is a JSON of contact so contacts in

825
00:33:38,790 --> 00:33:40,710
this app they have whatever you tell it

826
00:33:40,710 --> 00:33:42,270
you know they have whatever properties

827
00:33:42,270 --> 00:33:47,880
you say they have all right so I showed

828
00:33:47,880 --> 00:33:49,920
you the body dot HTML file this is kind

829
00:33:49,920 --> 00:33:51,690
of what the glues everything together

830
00:33:51,690 --> 00:33:53,690
this is the main main view of your app

831
00:33:53,690 --> 00:33:56,160
any but but I didn't talk about this

832
00:33:56,160 --> 00:33:58,620
folder that it's in English l proj so

833
00:33:58,620 --> 00:34:00,660
the framework supports localization out

834
00:34:00,660 --> 00:34:03,120
of the box and English tell proj is like

835
00:34:03,120 --> 00:34:05,700
the default localized version so

836
00:34:05,700 --> 00:34:08,400
anything that's most of the code usually

837
00:34:08,400 --> 00:34:10,290
most of the view stuff lives in el proj

838
00:34:10,290 --> 00:34:12,390
and you essentially if you create like

839
00:34:12,390 --> 00:34:15,300
spanish el proj you are overriding stuff

840
00:34:15,300 --> 00:34:16,710
that's an english el prox but the

841
00:34:16,710 --> 00:34:18,720
default is english because we love

842
00:34:18,720 --> 00:34:23,340
English you know so like the generator

843
00:34:23,340 --> 00:34:25,530
creates this file for you that you can

844
00:34:25,530 --> 00:34:27,540
start using for localization I haven't

845
00:34:27,540 --> 00:34:28,950
tried to localize other inbox yet so I

846
00:34:28,950 --> 00:34:30,120
don't have a lot to say about that

847
00:34:30,120 --> 00:34:31,919
except i'm really glad is there when I

848
00:34:31,919 --> 00:34:35,490
need it we talked about models and views

849
00:34:35,490 --> 00:34:38,400
it includes the framework includes

850
00:34:38,400 --> 00:34:40,950
support as a testing engine that works

851
00:34:40,950 --> 00:34:42,450
pretty well I haven't used it yet

852
00:34:42,450 --> 00:34:43,919
because I've been so busy just learning

853
00:34:43,919 --> 00:34:45,030
the framework that I haven't gone back

854
00:34:45,030 --> 00:34:47,220
to write the test but I assure you I

855
00:34:47,220 --> 00:34:51,060
plan to do that that this app doesn't

856
00:34:51,060 --> 00:34:53,010
have I'll show you some examples of

857
00:34:53,010 --> 00:34:55,080
tests later but that that should be

858
00:34:55,080 --> 00:34:56,700
familiar anybody's used to JavaScript

859
00:34:56,700 --> 00:34:58,980
testing framework all right so that's

860
00:34:58,980 --> 00:35:00,900
the basic layout of how these apps are

861
00:35:00,900 --> 00:35:03,270
structured does anybody have any

862
00:35:03,270 --> 00:35:06,360
questions about the layout all right I'm

863
00:35:06,360 --> 00:35:08,160
going to keep on driving then so let's

864
00:35:08,160 --> 00:35:11,100
look at a different application let's

865
00:35:11,100 --> 00:35:15,720
look at this Photos app so we got a you

866
00:35:15,720 --> 00:35:18,750
know a collection of folders over here a

867
00:35:18,750 --> 00:35:20,490
collection of photos and this is more

868
00:35:20,490 --> 00:35:21,870
like the app that I've built where it's

869
00:35:21,870 --> 00:35:23,850
it's a more of a deeper object graph

870
00:35:23,850 --> 00:35:25,500
it's like things containing things

871
00:35:25,500 --> 00:35:26,410
containing thing

872
00:35:26,410 --> 00:35:31,430
so let's let's actually model it one of

873
00:35:31,430 --> 00:35:36,020
these objects you know so it's all this

874
00:35:36,020 --> 00:35:37,970
fancy spinning around magical stuff

875
00:35:37,970 --> 00:35:39,890
change this I kind of like this one you

876
00:35:39,890 --> 00:35:42,080
can change the size of things looks like

877
00:35:42,080 --> 00:35:43,760
just these guys aren't playing a long

878
00:35:43,760 --> 00:35:50,660
though anyway so you can drag objects

879
00:35:50,660 --> 00:35:53,840
around drag these photos around make a

880
00:35:53,840 --> 00:35:57,410
new folder okay I don't want this

881
00:35:57,410 --> 00:35:58,490
picture extra should go out my new

882
00:35:58,490 --> 00:36:04,130
untitled folder so there it is awesome

883
00:36:04,130 --> 00:36:08,990
trip etc okay so that that's the basic

884
00:36:08,990 --> 00:36:10,700
idea it's a really a photo organizer

885
00:36:10,700 --> 00:36:12,410
doesn't have a whole lot of editing

886
00:36:12,410 --> 00:36:14,270
capabilities but you know a wet stay

887
00:36:14,270 --> 00:36:17,390
palette whets your appetite so let's

888
00:36:17,390 --> 00:36:21,200
actually look at the code for that so

889
00:36:21,200 --> 00:36:24,200
this is an example of a more sort of

890
00:36:24,200 --> 00:36:26,660
intense at but you're at oh I'm hoping

891
00:36:26,660 --> 00:36:28,250
they point I'm trying to make by showing

892
00:36:28,250 --> 00:36:29,720
you this is it's actually not that much

893
00:36:29,720 --> 00:36:31,790
code and so you could do a get a lot of

894
00:36:31,790 --> 00:36:33,560
behavior all that drag and drop stuff

895
00:36:33,560 --> 00:36:35,270
you're not going to see a lot here to

896
00:36:35,270 --> 00:36:37,430
turn that on that just that just comes

897
00:36:37,430 --> 00:36:38,510
with the framer because it's such a

898
00:36:38,510 --> 00:36:42,740
common proposition all right that stuff

899
00:36:42,740 --> 00:36:46,400
bugs me ok so the album controller it's

900
00:36:46,400 --> 00:36:49,220
bound to whichever you know this you

901
00:36:49,220 --> 00:36:52,400
have a photos master controller I mean

902
00:36:52,400 --> 00:36:54,290
that looks very familiar that's exactly

903
00:36:54,290 --> 00:36:55,520
the same pattern now that we've already

904
00:36:55,520 --> 00:36:58,700
seen so let me close up some of these

905
00:36:58,700 --> 00:37:08,240
windows here okay I things get a little

906
00:37:08,240 --> 00:37:09,800
more interesting in the details

907
00:37:09,800 --> 00:37:12,620
controller right so you have another

908
00:37:12,620 --> 00:37:16,730
content binding that now now we have we

909
00:37:16,730 --> 00:37:18,020
need something we need a property on a

910
00:37:18,020 --> 00:37:20,030
controller that doesn't come define for

911
00:37:20,030 --> 00:37:21,740
us out of the box we need this property

912
00:37:21,740 --> 00:37:26,630
count label which depends on the length

913
00:37:26,630 --> 00:37:28,970
you know the size of the objects in this

914
00:37:28,970 --> 00:37:31,130
collection and which object is selected

915
00:37:31,130 --> 00:37:33,140
so as objects are added to the

916
00:37:33,140 --> 00:37:34,580
collection or as we change different

917
00:37:34,580 --> 00:37:36,500
things we need to recompute count label

918
00:37:36,500 --> 00:37:39,710
so that's the code that recompute sit

919
00:37:39,710 --> 00:37:41,810
well you know you always are using key

920
00:37:41,810 --> 00:37:43,670
value coding even if you're accessing

921
00:37:43,670 --> 00:37:47,720
your own properties and that's all

922
00:37:47,720 --> 00:37:50,450
that's pretty straightforward here this

923
00:37:50,450 --> 00:37:53,990
that slider the resize of things it's

924
00:37:53,990 --> 00:37:56,980
bound to the photo size property of the

925
00:37:56,980 --> 00:37:59,359
deep to the photos detail controller

926
00:37:59,359 --> 00:38:01,990
here so I can show you an example that

927
00:38:01,990 --> 00:38:07,430
so photo yeah so that here's the binding

928
00:38:07,430 --> 00:38:09,200
down here so this is all the code you

929
00:38:09,200 --> 00:38:11,960
need to turn on that slider you give it

930
00:38:11,960 --> 00:38:13,910
the minimum maximum size of the steps

931
00:38:13,910 --> 00:38:15,380
and you say all right I want you to bind

932
00:38:15,380 --> 00:38:17,330
yourself to the photo size property the

933
00:38:17,330 --> 00:38:20,030
detailed controller and that's that's

934
00:38:20,030 --> 00:38:21,550
basically it and then you can have

935
00:38:21,550 --> 00:38:24,440
somewhere else in here we'll find

936
00:38:24,440 --> 00:38:26,900
somebody else who like probably that

937
00:38:26,900 --> 00:38:29,030
whatever the controller is that are the

938
00:38:29,030 --> 00:38:31,730
list of photos somewhere in there there

939
00:38:31,730 --> 00:38:33,619
there binding their photo size Valley

940
00:38:33,619 --> 00:38:35,060
you're asking to be notified of changes

941
00:38:35,060 --> 00:38:37,099
to photo size and so then they resize

942
00:38:37,099 --> 00:38:39,170
them fact why don't I just show you that

943
00:38:39,170 --> 00:38:46,040
see if we can find that so there it's

944
00:38:46,040 --> 00:38:47,270
not there maybe there's somewhere else

945
00:38:47,270 --> 00:38:50,869
in here I don't want to anger the demo

946
00:38:50,869 --> 00:38:52,430
gods too much but somewhere in here I

947
00:38:52,430 --> 00:38:54,440
can show you later the size of those

948
00:38:54,440 --> 00:38:56,630
pictures what the code that's

949
00:38:56,630 --> 00:38:58,310
responsible for drawing the pictures on

950
00:38:58,310 --> 00:38:59,810
the screen as soon as photo size changes

951
00:38:59,810 --> 00:39:01,430
they know to redraw themselves alright

952
00:39:01,430 --> 00:39:05,630
so moving on here then oh so here this

953
00:39:05,630 --> 00:39:09,589
is an example of like one what the

954
00:39:09,589 --> 00:39:11,210
localization well it's not even in

955
00:39:11,210 --> 00:39:17,330
French push on from their main so some

956
00:39:17,330 --> 00:39:22,040
like this app I haven't used the rock or

957
00:39:22,040 --> 00:39:25,280
database feature where if you have html5

958
00:39:25,280 --> 00:39:28,010
like storage capability it will try and

959
00:39:28,010 --> 00:39:29,240
take advantage of that but that's what

960
00:39:29,240 --> 00:39:30,740
some of the setup code here is trying to

961
00:39:30,740 --> 00:39:33,440
do so if I've set my browser up properly

962
00:39:33,440 --> 00:39:36,380
and all things are working here those

963
00:39:36,380 --> 00:39:37,849
changes I make to the photos should

964
00:39:37,849 --> 00:39:39,740
persist it won't use the fixtures it

965
00:39:39,740 --> 00:39:41,300
will actually load the photos out of my

966
00:39:41,300 --> 00:39:47,630
local store just pretty cool okay

967
00:39:47,640 --> 00:39:55,110
no no tests here all right the last

968
00:39:55,110 --> 00:39:57,690
thing I wanted to show you here or some

969
00:39:57,690 --> 00:39:59,340
of the stuff that you do get out of the

970
00:39:59,340 --> 00:40:01,140
box i mean this styling isn't super

971
00:40:01,140 --> 00:40:02,970
amazing but you you're just going to

972
00:40:02,970 --> 00:40:04,560
create your own styling anyway but that

973
00:40:04,560 --> 00:40:05,850
i think that's one of the things that is

974
00:40:05,850 --> 00:40:08,310
on the roadmap to improve later on down

975
00:40:08,310 --> 00:40:11,310
the road but you get buttons different

976
00:40:11,310 --> 00:40:15,390
kinds of buttons checkboxes and it will

977
00:40:15,390 --> 00:40:17,640
try and use like like native cooler

978
00:40:17,640 --> 00:40:19,050
versions of some of this stuff i think

979
00:40:19,050 --> 00:40:21,830
there's something elegant so you'll get

980
00:40:21,830 --> 00:40:24,840
better looking web check boxes if you're

981
00:40:24,840 --> 00:40:27,960
in safari that's showing up there okay

982
00:40:27,960 --> 00:40:31,110
toggle buttons drop-down menus and these

983
00:40:31,110 --> 00:40:32,550
are all things that you get without

984
00:40:32,550 --> 00:40:34,980
having to do all the work of maintaining

985
00:40:34,980 --> 00:40:37,590
these things so we've already seen like

986
00:40:37,590 --> 00:40:40,710
a collection viewable one thing that I'm

987
00:40:40,710 --> 00:40:42,570
really excited about in one point 0 is

988
00:40:42,570 --> 00:40:44,460
these long lists of things there's a lot

989
00:40:44,460 --> 00:40:46,590
of support for incrementally loading

990
00:40:46,590 --> 00:40:50,670
them from the server so up to now or

991
00:40:50,670 --> 00:40:53,100
like I think one of the default answers

992
00:40:53,100 --> 00:40:54,510
if you have a collection of lido

993
00:40:54,510 --> 00:40:56,820
thousands or millions of objects you

994
00:40:56,820 --> 00:40:58,230
would use pagination and get through

995
00:40:58,230 --> 00:40:59,460
them and it just always looked really

996
00:40:59,460 --> 00:41:00,600
crappy nobody has a really good

997
00:41:00,600 --> 00:41:05,130
pagination well the framework will only

998
00:41:05,130 --> 00:41:08,160
load the subset of objects from the

999
00:41:08,160 --> 00:41:09,840
server that you've actually asked for

1000
00:41:09,840 --> 00:41:12,150
and you can you can tell it all right

1001
00:41:12,150 --> 00:41:13,620
you know I want you to shoot load the

1002
00:41:13,620 --> 00:41:15,180
first 100 because I know that's what I'm

1003
00:41:15,180 --> 00:41:16,470
showing first and go ahead and start

1004
00:41:16,470 --> 00:41:18,030
fetching the next 100 while the users

1005
00:41:18,030 --> 00:41:20,310
looking at it but if you start scrolling

1006
00:41:20,310 --> 00:41:22,350
around down here it won't go back to the

1007
00:41:22,350 --> 00:41:26,730
server to get more like it'll get just

1008
00:41:26,730 --> 00:41:27,810
the stuff you're looking at and it will

1009
00:41:27,810 --> 00:41:30,240
only draw those lines so the version of

1010
00:41:30,240 --> 00:41:31,440
the app that i wrote without the

1011
00:41:31,440 --> 00:41:33,030
framework i had you know i would draw

1012
00:41:33,030 --> 00:41:36,450
all 10,000 mailbox objects and go back

1013
00:41:36,450 --> 00:41:37,710
to the server to get them and it was a

1014
00:41:37,710 --> 00:41:39,330
whole big nightmare so i only have a

1015
00:41:39,330 --> 00:41:40,530
little bit of time left i want to dive

1016
00:41:40,530 --> 00:41:42,360
in to showing you my code which I know

1017
00:41:42,360 --> 00:41:44,550
you're obviously a lot better so here's

1018
00:41:44,550 --> 00:41:46,860
an example like something that you know

1019
00:41:46,860 --> 00:41:50,160
it's putting food on my table okay so

1020
00:41:50,160 --> 00:41:52,650
first of all we ended up putting so much

1021
00:41:52,650 --> 00:41:54,360
stuff into that application object that

1022
00:41:54,360 --> 00:41:55,890
I split it out into these separate files

1023
00:41:55,890 --> 00:41:57,600
I'm sure there's a way better way of

1024
00:41:57,600 --> 00:41:59,670
doing it I'm not showing you example of

1025
00:41:59,670 --> 00:42:00,220
goods

1026
00:42:00,220 --> 00:42:02,260
core code I'm just showing you working

1027
00:42:02,260 --> 00:42:04,630
sprout core code you know we charge

1028
00:42:04,630 --> 00:42:09,910
money for so okay so like honey actually

1029
00:42:09,910 --> 00:42:11,470
I think it would be most comfortable

1030
00:42:11,470 --> 00:42:14,980
interesting to start with a model object

1031
00:42:14,980 --> 00:42:17,950
so some of this stuff i'm showing you

1032
00:42:17,950 --> 00:42:20,290
ended up getting written into the

1033
00:42:20,290 --> 00:42:23,290
framework so you like even this is more

1034
00:42:23,290 --> 00:42:25,420
work than you'd really have to do but oh

1035
00:42:25,420 --> 00:42:30,790
I I should I should load up the app I'll

1036
00:42:30,790 --> 00:42:32,440
do that in the background so they

1037
00:42:32,440 --> 00:42:35,380
basically other inbox we help manage

1038
00:42:35,380 --> 00:42:37,720
email overload the only reason I'm

1039
00:42:37,720 --> 00:42:38,740
showing you this is just so you

1040
00:42:38,740 --> 00:42:41,200
understand the object graph you the user

1041
00:42:41,200 --> 00:42:43,000
has a series of folders that will appear

1042
00:42:43,000 --> 00:42:46,030
over here each folder has mail boxes in

1043
00:42:46,030 --> 00:42:48,220
it each meal box has a bunch of messages

1044
00:42:48,220 --> 00:42:49,390
that's the only reason I'm showing it to

1045
00:42:49,390 --> 00:42:51,940
you there okay so what I'm showing you

1046
00:42:51,940 --> 00:42:54,940
here is what is what is the code to make

1047
00:42:54,940 --> 00:42:59,140
one of these folders work okay so the

1048
00:42:59,140 --> 00:43:03,550
big deal method in a folder is folders

1049
00:43:03,550 --> 00:43:05,740
have this property called mailboxes so

1050
00:43:05,740 --> 00:43:08,230
if you have a folder selected the master

1051
00:43:08,230 --> 00:43:09,670
controller for that mailbox list is

1052
00:43:09,670 --> 00:43:11,230
going to start asking immediately give

1053
00:43:11,230 --> 00:43:13,180
me a list of mailboxes back so the key

1054
00:43:13,180 --> 00:43:14,770
here is you never want to block anything

1055
00:43:14,770 --> 00:43:16,839
because javascript is single threaded so

1056
00:43:16,839 --> 00:43:18,670
this whole big chunk of coach needs to

1057
00:43:18,670 --> 00:43:20,980
be refactored it's terrible bears to

1058
00:43:20,980 --> 00:43:23,410
show to you the whole point of it is it

1059
00:43:23,410 --> 00:43:26,349
needs to return something right away so

1060
00:43:26,349 --> 00:43:28,060
that whole big chunk of code which will

1061
00:43:28,060 --> 00:43:29,560
step through the whole point of it is

1062
00:43:29,560 --> 00:43:31,720
fire off an AJAX request in the

1063
00:43:31,720 --> 00:43:33,280
background and return something right

1064
00:43:33,280 --> 00:43:36,040
away so the first so initially it's

1065
00:43:36,040 --> 00:43:39,040
going to return brackets and it like we

1066
00:43:39,040 --> 00:43:40,750
have to do some stuff to go behind the

1067
00:43:40,750 --> 00:43:44,080
0.9 frameworks back that you don't have

1068
00:43:44,080 --> 00:43:45,700
to do but what I want you to remember is

1069
00:43:45,700 --> 00:43:47,830
it returns right away so the run loop

1070
00:43:47,830 --> 00:43:50,680
keeps going it feels fluid and nice for

1071
00:43:50,680 --> 00:43:52,980
the user so all this other stuff is

1072
00:43:52,980 --> 00:43:55,060
involved with constructing that that

1073
00:43:55,060 --> 00:43:59,680
Ajax request like and you know we have a

1074
00:43:59,680 --> 00:44:01,990
folders know whether they're loading or

1075
00:44:01,990 --> 00:44:03,640
not so that we don't end up trying to

1076
00:44:03,640 --> 00:44:05,920
fire off multiple requests over and over

1077
00:44:05,920 --> 00:44:09,490
again I have different behavior if it's

1078
00:44:09,490 --> 00:44:12,099
never if this folder has never been

1079
00:44:12,099 --> 00:44:13,509
clicked on before

1080
00:44:13,509 --> 00:44:15,279
we do it with one kind of request to the

1081
00:44:15,279 --> 00:44:17,399
server where we ask for every object

1082
00:44:17,399 --> 00:44:19,569
that the user needs to know about words

1083
00:44:19,569 --> 00:44:21,130
if this is a differential update like

1084
00:44:21,130 --> 00:44:22,839
you've been clicking around and you come

1085
00:44:22,839 --> 00:44:24,639
back to the inbox then I only want to

1086
00:44:24,639 --> 00:44:26,499
show you you know the things have

1087
00:44:26,499 --> 00:44:28,419
changed last time you look that's what

1088
00:44:28,419 --> 00:44:31,539
all this helper code here is about and

1089
00:44:31,539 --> 00:44:34,389
so like so here's something that might

1090
00:44:34,389 --> 00:44:35,679
be familiar to you if you're from coat

1091
00:44:35,679 --> 00:44:37,749
the cocoa world since we are doing some

1092
00:44:37,749 --> 00:44:39,459
things behind sprout cores back with

1093
00:44:39,459 --> 00:44:41,559
this mailboxes value property we're not

1094
00:44:41,559 --> 00:44:43,539
using key value coding the reason it's

1095
00:44:43,539 --> 00:44:46,119
okay is because we invoke that we

1096
00:44:46,119 --> 00:44:48,249
trigger the observers ourselves directly

1097
00:44:48,249 --> 00:44:49,749
by saying all right we're about to

1098
00:44:49,749 --> 00:44:52,149
change mailboxes do some quick stuff all

1099
00:44:52,149 --> 00:44:53,589
right we did change it so then you can

1100
00:44:53,589 --> 00:44:55,599
you can recompute this value so this

1101
00:44:55,599 --> 00:44:57,669
gets fired this is a non success handler

1102
00:44:57,669 --> 00:45:00,279
for that Ajax call so look we fired off

1103
00:45:00,279 --> 00:45:02,169
some data we know at some point later

1104
00:45:02,169 --> 00:45:04,389
once it gets parson brought back to us

1105
00:45:04,389 --> 00:45:06,309
we're going to want to show it so then

1106
00:45:06,309 --> 00:45:08,049
the server all the server's responsible

1107
00:45:08,049 --> 00:45:10,089
for doing is looking at the last time

1108
00:45:10,089 --> 00:45:12,130
you were updated okay you have an inbox

1109
00:45:12,130 --> 00:45:13,479
folder that's current as of ten minutes

1110
00:45:13,479 --> 00:45:15,279
ago I want to construct a list of

1111
00:45:15,279 --> 00:45:17,409
objects to create update or delete that

1112
00:45:17,409 --> 00:45:19,269
you need to know about since 10 minutes

1113
00:45:19,269 --> 00:45:21,369
ago and you know we we have a lot of

1114
00:45:21,369 --> 00:45:24,219
tortured SQL to do that and I'm hoping

1115
00:45:24,219 --> 00:45:26,259
you know something like couch TV will

1116
00:45:26,259 --> 00:45:28,659
help me make all that easier let's do

1117
00:45:28,659 --> 00:45:30,699
four topic alright so i think i have

1118
00:45:30,699 --> 00:45:33,939
like less than five minutes so i don't

1119
00:45:33,939 --> 00:45:39,130
want to i'm ready for questions yeah

1120
00:45:39,130 --> 00:45:43,419
okay it does have unit testing i'll

1121
00:45:43,419 --> 00:45:44,769
bring that up while while we're talking

1122
00:45:44,769 --> 00:45:49,689
i'll show it to you you know i can't

1123
00:45:49,689 --> 00:45:51,369
remember i'll show you later it does i

1124
00:45:51,369 --> 00:45:52,630
don't want to mess i'm screwed up i'm

1125
00:45:52,630 --> 00:45:54,669
nervous it does it has a unit testing

1126
00:45:54,669 --> 00:45:56,799
framework is they're easy to write easy

1127
00:45:56,799 --> 00:46:00,980
to run

1128
00:46:00,990 --> 00:46:06,119
say things that aren't oh you're right

1129
00:46:06,119 --> 00:46:08,520
I'm sorry I do have that I have the

1130
00:46:08,520 --> 00:46:10,520
slides to end I totally forgot guide

1131
00:46:10,520 --> 00:46:12,750
it's a really steep learning curve right

1132
00:46:12,750 --> 00:46:14,610
now that's the number one obstacle to it

1133
00:46:14,610 --> 00:46:16,560
I mean it's been rewritten so

1134
00:46:16,560 --> 00:46:18,510
drastically like I've been working on

1135
00:46:18,510 --> 00:46:20,010
this for a year I feel like I have a lot

1136
00:46:20,010 --> 00:46:22,230
to like I would have a hard time

1137
00:46:22,230 --> 00:46:24,150
teaching it to I was mentored by one of

1138
00:46:24,150 --> 00:46:25,980
the core committer Zarek ocean so it's

1139
00:46:25,980 --> 00:46:27,000
only reason I've been able to get this

1140
00:46:27,000 --> 00:46:29,930
far that's the number one number two

1141
00:46:29,930 --> 00:46:33,330
like the think that binding stuff it is

1142
00:46:33,330 --> 00:46:35,160
it's very cool and I'm making it sound

1143
00:46:35,160 --> 00:46:37,320
like its root it's not as easy to wrap

1144
00:46:37,320 --> 00:46:40,170
your mind around it could be easier to

1145
00:46:40,170 --> 00:46:43,440
like there's some there's some constants

1146
00:46:43,440 --> 00:46:44,880
involved with setting up bindings that

1147
00:46:44,880 --> 00:46:46,940
seem very magical to me that donor stand

1148
00:46:46,940 --> 00:46:52,560
and third frankly it's not it's an open

1149
00:46:52,560 --> 00:46:54,840
source project but Apple employs a lot

1150
00:46:54,840 --> 00:46:57,650
of the people that work on it and so I

1151
00:46:57,650 --> 00:47:00,270
mean if there's other projects like

1152
00:47:00,270 --> 00:47:02,010
let's just speak in general that's the

1153
00:47:02,010 --> 00:47:03,360
that's the situation you were familiar

1154
00:47:03,360 --> 00:47:05,010
with in the open source world like we

1155
00:47:05,010 --> 00:47:06,540
all we all own it and can for can

1156
00:47:06,540 --> 00:47:08,430
contribute to it but like real progress

1157
00:47:08,430 --> 00:47:10,380
is somewhat constrained by the agenda of

1158
00:47:10,380 --> 00:47:12,150
a large company that's the best interest

1159
00:47:12,150 --> 00:47:14,130
I still think it's great I'm gonna use

1160
00:47:14,130 --> 00:47:15,990
it everywhere but like you are somewhat

1161
00:47:15,990 --> 00:47:17,850
chaining yourself to their star if you

1162
00:47:17,850 --> 00:47:20,910
do that is that that sort of suspicious

1163
00:47:20,910 --> 00:47:25,680
enough all right cool all right so I'm

1164
00:47:25,680 --> 00:47:28,470
getting the wrap up so i do but i do

1165
00:47:28,470 --> 00:47:30,240
want to make sure i have to say some

1166
00:47:30,240 --> 00:47:34,830
thank yous to eric ocean and charles

1167
00:47:34,830 --> 00:47:36,210
jolie charles there there the core

1168
00:47:36,210 --> 00:47:37,650
committers they helped me prepare this

1169
00:47:37,650 --> 00:47:39,600
and gave me a lot of like good things to

1170
00:47:39,600 --> 00:47:41,580
talk about and did you have any

1171
00:47:41,580 --> 00:47:43,380
questions you can email me or follow

1172
00:47:43,380 --> 00:47:45,300
talk to me on twitter or afterward thank

1173
00:47:45,300 --> 00:47:55,330
you very much

