1
00:00:31,899 --> 00:00:36,160

thank you very much thanks for having me

2
00:00:36,160 --> 00:00:38,570
so I'm not going to do any live coding

3
00:00:38,570 --> 00:00:40,820
i'm going to do live executing a fair

4
00:00:40,820 --> 00:00:43,340
amount of it so when it works its it's

5
00:00:43,340 --> 00:00:45,290
actually pretty cool when it doesn't

6
00:00:45,290 --> 00:00:47,149
it's pretty uncomfortable so I think

7
00:00:47,149 --> 00:00:48,290
either way it'll be entertaining for you

8
00:00:48,290 --> 00:00:53,000
so so my name is Mark head and I work

9
00:00:53,000 --> 00:00:57,620
for a company called box AO and we have

10
00:00:57,620 --> 00:01:01,129
some telephony platforms that people

11
00:01:01,129 --> 00:01:06,439
like to use so I men have a m head on

12
00:01:06,439 --> 00:01:08,810
Twitter I'm just plain em head-on

13
00:01:08,810 --> 00:01:10,270
everything else and couldn't get hub

14
00:01:10,270 --> 00:01:13,130
I've been a telephone and voice

15
00:01:13,130 --> 00:01:15,409
application developer for about 10 years

16
00:01:15,409 --> 00:01:18,860
I've built voice applications on just

17
00:01:18,860 --> 00:01:20,000
about everything you can build a voice

18
00:01:20,000 --> 00:01:24,049
application on there are a whole host of

19
00:01:24,049 --> 00:01:26,270
alphabet standards there that I I put

20
00:01:26,270 --> 00:01:28,670
there i will talk about each of them in

21
00:01:28,670 --> 00:01:32,390
probably painstaking detail I've built

22
00:01:32,390 --> 00:01:35,240
voice over IP enabled phone applications

23
00:01:35,240 --> 00:01:37,640
using asterisk and many other platforms

24
00:01:37,640 --> 00:01:39,950
and I currently work as a developer

25
00:01:39,950 --> 00:01:45,020
evangelist at boxer labs so who cares

26
00:01:45,020 --> 00:01:49,850
about phones why do we care it's not a

27
00:01:49,850 --> 00:01:51,350
rhetorical question why do we why do we

28
00:01:51,350 --> 00:01:53,930
care about telephony yes throw it out

29
00:01:53,930 --> 00:01:59,630
there yeah phones feel real and it turns

30
00:01:59,630 --> 00:02:02,450
out that almost everyone has them the

31
00:02:02,450 --> 00:02:04,040
telephone penetration rate in this

32
00:02:04,040 --> 00:02:07,179
country's around ninety five percent

33
00:02:07,179 --> 00:02:09,679
there have been a host of studies done

34
00:02:09,679 --> 00:02:10,970
about people's preferences for

35
00:02:10,970 --> 00:02:13,159
contacting businesses and governments

36
00:02:13,159 --> 00:02:14,989
and consistently telephones ranked at

37
00:02:14,989 --> 00:02:17,840
the top in terms of their choice for

38
00:02:17,840 --> 00:02:19,819
communicating so we care about phones

39
00:02:19,819 --> 00:02:21,500
because there are lots of them it's the

40
00:02:21,500 --> 00:02:23,299
most ubiquitous communications device on

41
00:02:23,299 --> 00:02:25,340
the planet and everyone knows how to use

42
00:02:25,340 --> 00:02:33,680
one pretty much so I've made a submit to

43
00:02:33,680 --> 00:02:35,599
you that the future of telephone

44
00:02:35,599 --> 00:02:38,120
application development is JavaScript

45
00:02:38,120 --> 00:02:40,639
and no jsx that pays a pretty important

46
00:02:40,639 --> 00:02:44,019
part i believe so that's my contention

47
00:02:44,019 --> 00:02:45,130
before

48
00:02:45,130 --> 00:02:46,870
we can challenge that contention and I

49
00:02:46,870 --> 00:02:48,040
would I would encourage you all to do

50
00:02:48,040 --> 00:02:50,500
that if you don't believe me we we need

51
00:02:50,500 --> 00:02:52,210
to understand how we got here and how

52
00:02:52,210 --> 00:02:53,470
our telephone application is built

53
00:02:53,470 --> 00:02:56,110
currently so there's a famous quote at

54
00:02:56,110 --> 00:02:58,000
the top we want to be able to discover

55
00:02:58,000 --> 00:03:00,060
the future by understanding the past

56
00:03:00,060 --> 00:03:02,290
ducting out of famous quotes it's me I

57
00:03:02,290 --> 00:03:03,880
made it look famous by enclosing it in

58
00:03:03,880 --> 00:03:07,000
quotes let me give you a brief history

59
00:03:07,000 --> 00:03:08,590
of telephone and voice application

60
00:03:08,590 --> 00:03:11,290
development so in the late 90s telephone

61
00:03:11,290 --> 00:03:12,400
application development usually meant

62
00:03:12,400 --> 00:03:14,100
low-level programming against

63
00:03:14,100 --> 00:03:16,780
proprietary API if you wanted to

64
00:03:16,780 --> 00:03:18,040
initiate phone calls or take phone calls

65
00:03:18,040 --> 00:03:20,290
you had a server with a telephony card

66
00:03:20,290 --> 00:03:22,660
in it with either analog phone lines

67
00:03:22,660 --> 00:03:25,480
plugged in or of channelize t1 and you

68
00:03:25,480 --> 00:03:28,390
were writing low level code against a an

69
00:03:28,390 --> 00:03:30,250
API that was for that specific telephony

70
00:03:30,250 --> 00:03:33,400
card so in the mid to late 90s the big

71
00:03:33,400 --> 00:03:35,680
telcos got together under the auspices

72
00:03:35,680 --> 00:03:39,160
of the ww3 see each of them had some

73
00:03:39,160 --> 00:03:41,020
flavor of a markup language for

74
00:03:41,020 --> 00:03:43,780
telephony in the works and the w3c

75
00:03:43,780 --> 00:03:45,550
brought them all together and there was

76
00:03:45,550 --> 00:03:48,990
a very very great effort to standardize

77
00:03:48,990 --> 00:03:51,310
markup languages for telephony so the

78
00:03:51,310 --> 00:03:53,830
idea was let's make telephony

79
00:03:53,830 --> 00:03:56,530
development like web development lots of

80
00:03:56,530 --> 00:03:58,990
languages all languages can render

81
00:03:58,990 --> 00:04:02,500
markup for consumption by a browser so

82
00:04:02,500 --> 00:04:04,450
that was the idea so the main standards

83
00:04:04,450 --> 00:04:06,400
are voicexml anybody ever heard of

84
00:04:06,400 --> 00:04:08,530
voicexml all right cool anybody ever

85
00:04:08,530 --> 00:04:11,650
built a voice XML app all right so

86
00:04:11,650 --> 00:04:14,650
voicexml is a standard for dialogues the

87
00:04:14,650 --> 00:04:16,840
interaction between a person and an

88
00:04:16,840 --> 00:04:20,430
application CC XML is for call control

89
00:04:20,430 --> 00:04:23,080
and the speech recognition grammar

90
00:04:23,080 --> 00:04:25,270
specification are the rules for speech

91
00:04:25,270 --> 00:04:30,160
recognition this is a just a quick

92
00:04:30,160 --> 00:04:35,230
example of a voice XML application very

93
00:04:35,230 --> 00:04:36,730
simple you'll notice a lot of JavaScript

94
00:04:36,730 --> 00:04:39,810
in here I wanted to make the point that

95
00:04:39,810 --> 00:04:42,220
along with these standard markup

96
00:04:42,220 --> 00:04:44,740
languages the w3c and the working group

97
00:04:44,740 --> 00:04:46,900
that created these languages saw fit to

98
00:04:46,900 --> 00:04:50,530
include JavaScript support so really all

99
00:04:50,530 --> 00:04:53,410
this does is you call it it says hello

100
00:04:53,410 --> 00:04:55,240
and welcome to voice XML says the

101
00:04:55,240 --> 00:04:58,300
alphabet and it hangs up but you can see

102
00:04:58,300 --> 00:04:59,139
I can

103
00:04:59,139 --> 00:05:00,909
I can split a raise i can use data

104
00:05:00,909 --> 00:05:03,310
objects i can throw and catch events

105
00:05:03,310 --> 00:05:06,490
this actually this disconnect element

106
00:05:06,490 --> 00:05:07,840
here will actually throw a connection

107
00:05:07,840 --> 00:05:10,029
disconnect event so pretty cool stuff

108
00:05:10,029 --> 00:05:14,830
pretty cool stuff javascript lives here

109
00:05:14,830 --> 00:05:16,419
so JavaScript was incorporated into

110
00:05:16,419 --> 00:05:18,939
these standard telephone languages and

111
00:05:18,939 --> 00:05:20,919
again the idea was to make telephony

112
00:05:20,919 --> 00:05:23,069
development like web development the

113
00:05:23,069 --> 00:05:26,080
large telcos very wisely realized that

114
00:05:26,080 --> 00:05:28,389
on the late 90s early 2000s the number

115
00:05:28,389 --> 00:05:29,860
of web developers was increasing rapidly

116
00:05:29,860 --> 00:05:31,539
so they wanted to capitalize on that and

117
00:05:31,539 --> 00:05:33,580
make telephony development just like web

118
00:05:33,580 --> 00:05:38,319
development there are no Ajax calls but

119
00:05:38,319 --> 00:05:39,939
there are ways you can actually get

120
00:05:39,939 --> 00:05:43,029
external data into voicexml and CCX

121
00:05:43,029 --> 00:05:46,150
malifesh ins this data element in

122
00:05:46,150 --> 00:05:49,779
voicexml gives you a a read-only subset

123
00:05:49,779 --> 00:05:51,729
of the of the Dom so you can traverse

124
00:05:51,729 --> 00:05:54,250
over an XML document in CC XML some

125
00:05:54,250 --> 00:05:56,169
platforms actually support acma script

126
00:05:56,169 --> 00:05:58,180
for XML which is kind of cool on the way

127
00:05:58,180 --> 00:06:00,939
to get data into a an executing voice

128
00:06:00,939 --> 00:06:06,339
application since that time there's been

129
00:06:06,339 --> 00:06:09,610
a lot of changes a lot of changes we

130
00:06:09,610 --> 00:06:10,750
live in a time now where it's never

131
00:06:10,750 --> 00:06:12,069
really been easier it's never been

132
00:06:12,069 --> 00:06:15,039
easier to build a telephony application

133
00:06:15,039 --> 00:06:16,300
and when I say telephony application

134
00:06:16,300 --> 00:06:18,310
from now until the end of my talk I mean

135
00:06:18,310 --> 00:06:21,310
it in its broadest sense I mean a DTMF

136
00:06:21,310 --> 00:06:23,800
DTMF tones are the noises that your

137
00:06:23,800 --> 00:06:25,319
phone makes when you press buttons on it

138
00:06:25,319 --> 00:06:27,639
speech application text messaging

139
00:06:27,639 --> 00:06:29,199
application basically anything you can

140
00:06:29,199 --> 00:06:32,860
do with a standard that's a regular

141
00:06:32,860 --> 00:06:35,409
phone or mobile phone there's been a lot

142
00:06:35,409 --> 00:06:38,080
of change lots of options now and many

143
00:06:38,080 --> 00:06:39,819
of those options are not standards-based

144
00:06:39,819 --> 00:06:41,139
they are not these standards based

145
00:06:41,139 --> 00:06:43,360
languages that were developed with great

146
00:06:43,360 --> 00:06:47,080
effort by the w3c and a large telcos why

147
00:06:47,080 --> 00:06:50,259
is that well there's a number of reasons

148
00:06:50,259 --> 00:06:55,029
i would point chiefly to the observation

149
00:06:55,029 --> 00:06:55,899
that a lot of people don't like to

150
00:06:55,899 --> 00:07:01,210
program an xml voicexml and CC xml have

151
00:07:01,210 --> 00:07:03,159
a very steep learning curve you get an

152
00:07:03,159 --> 00:07:05,379
incredible amount of control over a

153
00:07:05,379 --> 00:07:07,330
telephone call CC xml especially you get

154
00:07:07,330 --> 00:07:09,639
a very granular level of control of the

155
00:07:09,639 --> 00:07:11,469
phone call problem is the trade-off for

156
00:07:11,469 --> 00:07:12,689
that is complexity

157
00:07:12,689 --> 00:07:14,969
it's very complex I'm going to show you

158
00:07:14,969 --> 00:07:17,159
a javascript application that will

159
00:07:17,159 --> 00:07:18,449
transfer a phone call in one line of

160
00:07:18,449 --> 00:07:21,269
code I've actually written transfer

161
00:07:21,269 --> 00:07:24,269
logic for production voice applications

162
00:07:24,269 --> 00:07:26,489
that were 65 lines of code doing

163
00:07:26,489 --> 00:07:28,439
everything from you know connecting a

164
00:07:28,439 --> 00:07:30,709
caller playing a ringtone to them

165
00:07:30,709 --> 00:07:35,279
bridging call legs so these languages

166
00:07:35,279 --> 00:07:37,409
have the benefit of being standard and

167
00:07:37,409 --> 00:07:39,149
portable there are over 50

168
00:07:39,149 --> 00:07:42,059
implementations of the standard fluffy

169
00:07:42,059 --> 00:07:44,189
markup languages so portability is a big

170
00:07:44,189 --> 00:07:46,079
selling point for them the problem is

171
00:07:46,079 --> 00:07:47,159
they're very complex they're very hard

172
00:07:47,159 --> 00:07:49,189
to use they have a steep learning curve

173
00:07:49,189 --> 00:07:51,479
so something else has changed to that's

174
00:07:51,479 --> 00:07:55,529
driving how tell f amps are built voice

175
00:07:55,529 --> 00:07:59,129
over IP all telephone calls at some part

176
00:07:59,129 --> 00:08:00,389
of their life cycle and this has been

177
00:08:00,389 --> 00:08:02,550
true for actually a while spend time at

178
00:08:02,550 --> 00:08:06,149
an IP network retail consumption of VoIP

179
00:08:06,149 --> 00:08:09,029
services is large and growing you've

180
00:08:09,029 --> 00:08:10,319
probably all heard the statistic about

181
00:08:10,319 --> 00:08:12,179
skype being the largest telephone

182
00:08:12,179 --> 00:08:15,360
company in the world it's true almost

183
00:08:15,360 --> 00:08:16,979
all business class telephony systems are

184
00:08:16,979 --> 00:08:19,050
now VoIP enabled and when I save way if

185
00:08:19,050 --> 00:08:20,669
in that sense I mean sip the SIP

186
00:08:20,669 --> 00:08:23,669
standard the lines between the different

187
00:08:23,669 --> 00:08:25,979
modalities is is blurring or moving

188
00:08:25,979 --> 00:08:28,169
towards what the consultants call

189
00:08:28,169 --> 00:08:30,479
unified communications where

190
00:08:30,479 --> 00:08:32,339
conversations will happen across the

191
00:08:32,339 --> 00:08:34,979
modality is a phone call instant message

192
00:08:34,979 --> 00:08:37,139
email all these sorts of things are

193
00:08:37,139 --> 00:08:40,409
converging so to meet the needs that we

194
00:08:40,409 --> 00:08:41,819
have now the development languages we

195
00:08:41,819 --> 00:08:43,459
use to build communication applications

196
00:08:43,459 --> 00:08:46,199
they have to be powerful if to be

197
00:08:46,199 --> 00:08:48,059
flexible and have to be channel agnostic

198
00:08:48,059 --> 00:08:50,040
they cannot be tied to a specific

199
00:08:50,040 --> 00:08:55,139
channel so I don't want to bore anybody

200
00:08:55,139 --> 00:08:57,089
anybody here know about sip the SIP

201
00:08:57,089 --> 00:08:58,800
standard we feel comfortable with that

202
00:08:58,800 --> 00:09:02,100
we just hit it real quick so sip is the

203
00:09:02,100 --> 00:09:03,540
session initiation protocol it's a

204
00:09:03,540 --> 00:09:05,550
signaling standard for VoIP telephony so

205
00:09:05,550 --> 00:09:09,269
a sip exchange of sip requests and

206
00:09:09,269 --> 00:09:11,639
responses is meant to set up a telephone

207
00:09:11,639 --> 00:09:13,259
call so sip endpoints will have a

208
00:09:13,259 --> 00:09:16,170
conversation and say what what what

209
00:09:16,170 --> 00:09:18,000
voice decoder do you want to use what

210
00:09:18,000 --> 00:09:19,439
channels are seeing what ports are we

211
00:09:19,439 --> 00:09:21,750
going to exchange media on all these

212
00:09:21,750 --> 00:09:23,009
sorts of things that are negotiated

213
00:09:23,009 --> 00:09:24,750
before a phone call and then when that

214
00:09:24,750 --> 00:09:26,400
negotiation is complete

215
00:09:26,400 --> 00:09:29,390
call starts the conversation happens

216
00:09:29,390 --> 00:09:32,310
step is used in concert with other VoIP

217
00:09:32,310 --> 00:09:34,020
protocols like real time protocol which

218
00:09:34,020 --> 00:09:35,370
is the actual protocol for streaming

219
00:09:35,370 --> 00:09:38,160
media it's very similar to http in the

220
00:09:38,160 --> 00:09:40,020
sense that it has a pretty simple to

221
00:09:40,020 --> 00:09:42,360
understand request in response paradigm

222
00:09:42,360 --> 00:09:45,360
and very importantly sip headers you can

223
00:09:45,360 --> 00:09:46,920
set them just like HTTP header so you

224
00:09:46,920 --> 00:09:49,350
can actually draped information on the

225
00:09:49,350 --> 00:09:50,940
telephone call essentially and pass it

226
00:09:50,940 --> 00:09:52,590
along a telephone network pretty

227
00:09:52,590 --> 00:09:55,590
powerful idea and really something that

228
00:09:55,590 --> 00:09:57,360
you need to have for next generation to

229
00:09:57,360 --> 00:09:59,430
laughing so if your if your if your VoIP

230
00:09:59,430 --> 00:10:01,340
or excuse me if your telephone provider

231
00:10:01,340 --> 00:10:04,380
isn't sip interoperable then I don't

232
00:10:04,380 --> 00:10:05,040
think they're going to be around for

233
00:10:05,040 --> 00:10:10,020
very long so building communication apps

234
00:10:10,020 --> 00:10:12,450
with JavaScript as I said before there

235
00:10:12,450 --> 00:10:13,830
are more choices i'm going to go over

236
00:10:13,830 --> 00:10:17,880
several of them there are a host of

237
00:10:17,880 --> 00:10:19,800
different platforms out there that you

238
00:10:19,800 --> 00:10:21,510
can use like I said it's it's a it's a

239
00:10:21,510 --> 00:10:23,160
target-rich environment it's never been

240
00:10:23,160 --> 00:10:24,210
easier to build the telephone

241
00:10:24,210 --> 00:10:26,940
application there are very compelling

242
00:10:26,940 --> 00:10:28,290
options i believe for javascript

243
00:10:28,290 --> 00:10:30,000
developers we're going to talk about

244
00:10:30,000 --> 00:10:32,250
three different kinds of telephone app

245
00:10:32,250 --> 00:10:33,210
development i'm actually going to walk

246
00:10:33,210 --> 00:10:36,450
you through a few of them i tell if any

247
00:10:36,450 --> 00:10:38,010
app execution environment like troppo

248
00:10:38,010 --> 00:10:40,440
which is the platform that we provide

249
00:10:40,440 --> 00:10:42,120
where your javascript code is actually

250
00:10:42,120 --> 00:10:44,610
executed in our environment there's

251
00:10:44,610 --> 00:10:45,690
another company that does that as well

252
00:10:45,690 --> 00:10:47,640
they were called soft IVR there are UK

253
00:10:47,640 --> 00:10:51,110
company we're going to build a telephone

254
00:10:51,110 --> 00:10:53,340
inside of a web browser using a jQuery

255
00:10:53,340 --> 00:10:56,280
extension called for know and we're

256
00:10:56,280 --> 00:10:57,570
going to use nodejs to do some really

257
00:10:57,570 --> 00:11:00,180
cool stuff no Jas in particular my

258
00:11:00,180 --> 00:11:01,710
contention is that it has some

259
00:11:01,710 --> 00:11:02,610
properties that make it especially

260
00:11:02,610 --> 00:11:05,190
attractive for next-generation telephony

261
00:11:05,190 --> 00:11:06,620
and I believe that we will see nodejs

262
00:11:06,620 --> 00:11:09,540
used more and more with telephony

263
00:11:09,540 --> 00:11:14,070
applications okay so what does

264
00:11:14,070 --> 00:11:15,990
JavaScript look like in troppo so this

265
00:11:15,990 --> 00:11:17,940
is a this is the the functional

266
00:11:17,940 --> 00:11:20,910
equivalent of the alphabet example that

267
00:11:20,910 --> 00:11:22,790
I showed you a minute ago so this is

268
00:11:22,790 --> 00:11:25,110
pretty straightforward pretty easy to

269
00:11:25,110 --> 00:11:28,530
understand JavaScript i'm going to start

270
00:11:28,530 --> 00:11:29,670
flipping around now I hope that doesn't

271
00:11:29,670 --> 00:11:32,490
annoy everybody I'm going to try and at

272
00:11:32,490 --> 00:11:35,730
least show you a few things i'm going to

273
00:11:35,730 --> 00:11:38,570
give away all my stuff though

274
00:11:38,570 --> 00:11:43,450
so what I want to do is actually oops

275
00:11:43,450 --> 00:11:45,710
call this and see if we can get this to

276
00:11:45,710 --> 00:11:48,110
work I have no idea what this will sound

277
00:11:48,110 --> 00:11:57,440
like hello and welcome to track of a b c

278
00:11:57,440 --> 00:12:06,410
d e f g h i j k l at the point n o p to

279
00:12:06,410 --> 00:12:14,350
r s t u v w x y z now I know my ABC's

280
00:12:14,350 --> 00:12:18,770
goodbye okay so there's actually another

281
00:12:18,770 --> 00:12:23,390
standard for formatting our styling text

282
00:12:23,390 --> 00:12:25,400
for text-to-speech engine I didn't want

283
00:12:25,400 --> 00:12:26,930
to over complicate this though so I just

284
00:12:26,930 --> 00:12:28,970
sort of used the phonetic text-to-speech

285
00:12:28,970 --> 00:12:31,880
engine sometimes a little bit of help so

286
00:12:31,880 --> 00:12:33,770
I wanted to give it that so that's a

287
00:12:33,770 --> 00:12:36,250
basic JavaScript application intro fo

288
00:12:36,250 --> 00:12:38,960
you can deliver that you can host this

289
00:12:38,960 --> 00:12:41,060
remotely and deliver to troppo on

290
00:12:41,060 --> 00:12:42,350
executed you can host it with us and

291
00:12:42,350 --> 00:12:46,030
we'll execute it for you so here's a

292
00:12:46,030 --> 00:12:48,620
very simple nodejs example this is this

293
00:12:48,620 --> 00:12:50,960
is not the nodejs stuff i'm going to

294
00:12:50,960 --> 00:12:51,770
show you in a minute which is actually

295
00:12:51,770 --> 00:12:53,510
really really cool but we also have

296
00:12:53,510 --> 00:12:55,070
another API where if you want to you

297
00:12:55,070 --> 00:12:56,210
know if you need to integrate with

298
00:12:56,210 --> 00:12:58,970
external systems we have a node module

299
00:12:58,970 --> 00:13:01,610
this is the ubiquitous hello world web

300
00:13:01,610 --> 00:13:04,130
server example for node with a little

301
00:13:04,130 --> 00:13:06,380
bit of troppo flavor this is really nice

302
00:13:06,380 --> 00:13:07,490
because if you want to use any one of

303
00:13:07,490 --> 00:13:09,560
the growing number of get based

304
00:13:09,560 --> 00:13:13,520
deployment options for your node you

305
00:13:13,520 --> 00:13:15,620
know tap you can do that it's pretty

306
00:13:15,620 --> 00:13:16,550
near so everything's sorted out in the

307
00:13:16,550 --> 00:13:20,950
cloud ok so now I want to talk about

308
00:13:20,950 --> 00:13:23,510
building browsers or excuse me building

309
00:13:23,510 --> 00:13:25,190
telephones in your web browser and I'm

310
00:13:25,190 --> 00:13:28,160
going to use a a jquery plugin called

311
00:13:28,160 --> 00:13:32,500
phone oh I can find it here there it is

312
00:13:32,500 --> 00:13:38,960
so phono is jQuery I have a I gave this

313
00:13:38,960 --> 00:13:40,820
away a little bit but i actually have a

314
00:13:40,820 --> 00:13:42,830
phono instance loaded in this browser

315
00:13:42,830 --> 00:13:48,230
let's just reload it and what we'll do

316
00:13:48,230 --> 00:13:49,430
here is we'll just check out the source

317
00:13:49,430 --> 00:13:54,530
you all see that

318
00:13:54,540 --> 00:13:57,880
so this should look pretty so I'm

319
00:13:57,880 --> 00:14:00,340
referencing some external javascript

320
00:14:00,340 --> 00:14:02,460
here but this should all look pretty

321
00:14:02,460 --> 00:14:06,580
standard right I'm creating I've got a

322
00:14:06,580 --> 00:14:08,710
funnel object here you'll see I'm

323
00:14:08,710 --> 00:14:10,960
actually dialing something a nap colon

324
00:14:10,960 --> 00:14:12,310
number i'll explain that in just one

325
00:14:12,310 --> 00:14:14,770
second and you can see I've got on ring

326
00:14:14,770 --> 00:14:17,620
unanswered on hang up I can handle an

327
00:14:17,620 --> 00:14:19,810
incoming call I'm going to do all that

328
00:14:19,810 --> 00:14:21,160
right now one of the things I real i

329
00:14:21,160 --> 00:14:24,520
want to show you first is um let's do

330
00:14:24,520 --> 00:14:29,470
this so actually wrote out to the

331
00:14:29,470 --> 00:14:32,170
console the photo identifier so this is

332
00:14:32,170 --> 00:14:33,520
a unique identifier that each photo

333
00:14:33,520 --> 00:14:34,810
instance has every time is load in your

334
00:14:34,810 --> 00:14:36,730
web browser and if it looks suspiciously

335
00:14:36,730 --> 00:14:38,050
like a sip a dress that's because it is

336
00:14:38,050 --> 00:14:39,820
a sip dress which means not only can I

337
00:14:39,820 --> 00:14:41,230
make telephone calls from this photo

338
00:14:41,230 --> 00:14:42,760
instance but I can receive telephone

339
00:14:42,760 --> 00:14:44,950
calls at this instance the phone will

340
00:14:44,950 --> 00:14:49,360
ring in my web browser so let me see so

341
00:14:49,360 --> 00:14:53,260
I explain the second ago about this its

342
00:14:53,260 --> 00:14:54,820
app colon in this identifier I can

343
00:14:54,820 --> 00:14:57,370
actually put a regular 10 digit

344
00:14:57,370 --> 00:14:58,480
telephone number in here and it will

345
00:14:58,480 --> 00:15:01,780
call it right now we limit calls to real

346
00:15:01,780 --> 00:15:03,390
telephones to 10 minutes and there's a

347
00:15:03,390 --> 00:15:05,680
little speech you get before the phone

348
00:15:05,680 --> 00:15:07,060
connects it says hey you're thanks for

349
00:15:07,060 --> 00:15:09,280
trying photo you get 10 minutes of

350
00:15:09,280 --> 00:15:11,230
calling time with this if you want to do

351
00:15:11,230 --> 00:15:12,730
something else create an app on troppo

352
00:15:12,730 --> 00:15:14,440
so what I did was I created a very

353
00:15:14,440 --> 00:15:16,060
simple application on troppo looks like

354
00:15:16,060 --> 00:15:18,220
this so this is the one line transfer I

355
00:15:18,220 --> 00:15:19,900
was telling you about so what this will

356
00:15:19,900 --> 00:15:22,000
do is this will transfer the call so far

357
00:15:22,000 --> 00:15:25,210
no was going to call this app troppo is

358
00:15:25,210 --> 00:15:28,540
going to call me on my cell phone it's

359
00:15:28,540 --> 00:15:30,940
going to answer on media which means i

360
00:15:30,940 --> 00:15:32,170
will hear the ring right away even

361
00:15:32,170 --> 00:15:33,700
though it won't connect i'll give it a

362
00:15:33,700 --> 00:15:35,050
60 second timeout i'm actually going to

363
00:15:35,050 --> 00:15:36,580
set the caller ID to my home telephone

364
00:15:36,580 --> 00:15:38,530
number so it will look like my wife is

365
00:15:38,530 --> 00:15:39,870
calling me to find out what's going on

366
00:15:39,870 --> 00:15:47,470
asking me how my demo is going so see

367
00:15:47,470 --> 00:16:00,069
for work

368
00:16:00,079 --> 00:16:10,319
hello can you hear me say goodbye it

369
00:16:10,319 --> 00:16:13,019
gets cooler it gets cooler so I probably

370
00:16:13,019 --> 00:16:14,550
shouldn't have closed that console I

371
00:16:14,550 --> 00:16:22,569
needed that what's that make what bigger

372
00:16:22,579 --> 00:16:29,510
sorry

373
00:16:29,520 --> 00:16:35,560
I'll see that

374
00:16:35,570 --> 00:16:41,279
alright so let me do this uh I have a

375
00:16:41,279 --> 00:16:54,839
sip phone here sighs there's Michael now

376
00:16:54,839 --> 00:16:55,860
I don't have any logic in here to

377
00:16:55,860 --> 00:16:57,209
actually do anything with the call I

378
00:16:57,209 --> 00:16:58,399
just kind of on to prove the point that

379
00:16:58,399 --> 00:17:01,800
this is a this is a unique instance that

380
00:17:01,800 --> 00:17:05,130
I can who's little down that I can

381
00:17:05,130 --> 00:17:07,169
actually call now I wasn't going to do

382
00:17:07,169 --> 00:17:10,640
this but I feel like I come on now

383
00:17:10,640 --> 00:17:13,470
settle so I wasn't going to do this but

384
00:17:13,470 --> 00:17:14,850
i wanted to because the Zeppo guys

385
00:17:14,850 --> 00:17:19,049
something's ringing the sample guys

386
00:17:19,049 --> 00:17:20,339
mentioned they're hiring for their for

387
00:17:20,339 --> 00:17:22,410
their call center so call centers are

388
00:17:22,410 --> 00:17:23,880
really interesting because they have a

389
00:17:23,880 --> 00:17:26,640
lot of a lot of overhead to a call

390
00:17:26,640 --> 00:17:28,230
center there's there's people you have

391
00:17:28,230 --> 00:17:29,940
to staff it there's a lot of equipment

392
00:17:29,940 --> 00:17:31,380
there's a lot of telephone switching

393
00:17:31,380 --> 00:17:33,030
equipment there's there's automatic call

394
00:17:33,030 --> 00:17:35,070
distributors there's there's there's um

395
00:17:35,070 --> 00:17:36,900
dienes based routing you've got to know

396
00:17:36,900 --> 00:17:38,850
what agents are on when they're on so

397
00:17:38,850 --> 00:17:41,730
you can route calls to them so call

398
00:17:41,730 --> 00:17:51,299
centers tend to be really really so

399
00:17:51,299 --> 00:17:52,500
equipment intensive there's lots of

400
00:17:52,500 --> 00:17:54,900
equipment so I've got this project that

401
00:17:54,900 --> 00:17:58,410
I've been working on if you go to my get

402
00:17:58,410 --> 00:18:01,290
a profile you see remote agent this is a

403
00:18:01,290 --> 00:18:04,410
a couch app that's built with phone oh

404
00:18:04,410 --> 00:18:06,990
so the way it works is when you go to

405
00:18:06,990 --> 00:18:12,120
the couch app and you open up the index

406
00:18:12,120 --> 00:18:15,809
page what you should get is a phone and

407
00:18:15,809 --> 00:18:17,640
the anything about it being a cow Jap

408
00:18:17,640 --> 00:18:18,960
remember I mentioned the unique

409
00:18:18,960 --> 00:18:22,200
identifier since they are unique I can

410
00:18:22,200 --> 00:18:24,780
then store them in CouchDB and I can

411
00:18:24,780 --> 00:18:26,580
make the cipa dress which is unique my

412
00:18:26,580 --> 00:18:29,160
document ID what it also means then is

413
00:18:29,160 --> 00:18:31,500
that now that I know that I've got an

414
00:18:31,500 --> 00:18:35,309
agent who is see here who is ready to

415
00:18:35,309 --> 00:18:37,380
take a phone call so by doing a simple

416
00:18:37,380 --> 00:18:40,440
HTTP query of CouchDB instance I can get

417
00:18:40,440 --> 00:18:42,330
agents who are ready to take a phone

418
00:18:42,330 --> 00:18:43,620
call these agents can be anywhere

419
00:18:43,620 --> 00:18:45,330
doesn't matter where they are because

420
00:18:45,330 --> 00:18:45,750
we're doing

421
00:18:45,750 --> 00:18:48,930
telephony right and I know when they're

422
00:18:48,930 --> 00:18:51,510
ready to take a phone call and I don't

423
00:18:51,510 --> 00:18:55,140
need to work with them to install a sip

424
00:18:55,140 --> 00:18:57,390
phone in their home and worry about you

425
00:18:57,390 --> 00:18:58,470
know all sorts of crazy networking

426
00:18:58,470 --> 00:19:00,420
issues and user issues with with people

427
00:19:00,420 --> 00:19:01,610
trying to figure out how the phone works

428
00:19:01,610 --> 00:19:03,390
because all they've got to do is open a

429
00:19:03,390 --> 00:19:08,360
web browser so let's call this thing

430
00:19:08,360 --> 00:19:10,830
it's got something of a unique ringtone

431
00:19:10,830 --> 00:19:19,650
a a non call center ring Tim will get a

432
00:19:19,650 --> 00:19:21,960
try let's make that go away that's kind

433
00:19:21,960 --> 00:19:35,460
of knowing me every see ok you get a lot

434
00:19:35,460 --> 00:19:37,020
of me ringtones with photo as well so

435
00:19:37,020 --> 00:19:38,550
the interesting thing here is that I've

436
00:19:38,550 --> 00:19:41,310
been able to attach to this this answer

437
00:19:41,310 --> 00:19:43,260
event essentially and what I what I can

438
00:19:43,260 --> 00:19:45,300
do with that is i can update my couch to

439
00:19:45,300 --> 00:19:46,560
be instance and say this agent is not

440
00:19:46,560 --> 00:19:48,390
ready now its agents on the phone so if

441
00:19:48,390 --> 00:19:49,710
calls are coming in and I'm querying my

442
00:19:49,710 --> 00:19:51,600
CouchDB instance to get agents who can

443
00:19:51,600 --> 00:19:53,460
take a phone call I know that this agent

444
00:19:53,460 --> 00:19:55,620
is now occupied so not to send a call to

445
00:19:55,620 --> 00:20:00,240
them so just real quickly if you go into

446
00:20:00,240 --> 00:20:02,910
this um this solution you'll see there's

447
00:20:02,910 --> 00:20:05,910
others and there's a it runs with

448
00:20:05,910 --> 00:20:07,950
asterisk so asterisk is a anybody ever

449
00:20:07,950 --> 00:20:09,600
heard of a stress before okay it's an

450
00:20:09,600 --> 00:20:12,090
open-source telephony platform nodejs is

451
00:20:12,090 --> 00:20:13,320
actually a really good complement to

452
00:20:13,320 --> 00:20:15,570
asterisk and one of the things I've

453
00:20:15,570 --> 00:20:17,100
gotten here is a note script that

454
00:20:17,100 --> 00:20:21,060
actually is a a TCP server that will

455
00:20:21,060 --> 00:20:23,040
accept connections from asterisk and

456
00:20:23,040 --> 00:20:24,780
then it will use an HTTP client to

457
00:20:24,780 --> 00:20:27,270
connect to a CouchDB and because you can

458
00:20:27,270 --> 00:20:29,310
build network applications so easily

459
00:20:29,310 --> 00:20:31,350
with no tits it's a it's a really really

460
00:20:31,350 --> 00:20:34,290
good fit for for this solution so if you

461
00:20:34,290 --> 00:20:36,060
go to my my github repo and you check

462
00:20:36,060 --> 00:20:38,130
out remote agent I think you'll like it

463
00:20:38,130 --> 00:20:39,810
it's a pretty cool project and I'd love

464
00:20:39,810 --> 00:20:42,750
to hear any feedback zappos call center

465
00:20:42,750 --> 00:20:48,990
man right here okay so what I didn't

466
00:20:48,990 --> 00:20:50,460
show you was the ability to send and

467
00:20:50,460 --> 00:20:52,800
receive instant messages with a phono

468
00:20:52,800 --> 00:20:55,950
instance as well you can do that in the

469
00:20:55,950 --> 00:20:58,160
web browser

470
00:20:58,160 --> 00:20:59,810
anything about that is if you want to

471
00:20:59,810 --> 00:21:01,220
route calls to an agent you can give

472
00:21:01,220 --> 00:21:02,750
them a screen pop and say we'll do a

473
00:21:02,750 --> 00:21:04,580
quick color ID look up and say hey it's

474
00:21:04,580 --> 00:21:06,920
Joe Smith calling here we can hit a CRM

475
00:21:06,920 --> 00:21:09,110
system and say hey Joe Smith ordered x

476
00:21:09,110 --> 00:21:12,710
y&z the last time he called so the agent

477
00:21:12,710 --> 00:21:14,390
can answer a go hello mr. Smith I see

478
00:21:14,390 --> 00:21:16,580
you I see you received a you received

479
00:21:16,580 --> 00:21:19,250
your your your shoes or whatever

480
00:21:19,250 --> 00:21:25,940
whatever we're buying too okay so I

481
00:21:25,940 --> 00:21:29,780
mentioned just a second ago nodejs and

482
00:21:29,780 --> 00:21:30,920
you know the ability to build network

483
00:21:30,920 --> 00:21:33,400
applications so phone calls are

484
00:21:33,400 --> 00:21:35,300
happening on networks happening on IP

485
00:21:35,300 --> 00:21:36,830
network so the ability to build

486
00:21:36,830 --> 00:21:38,560
something that can speak and consume

487
00:21:38,560 --> 00:21:41,690
network based protocols is is really

488
00:21:41,690 --> 00:21:44,300
important for telephones so this is this

489
00:21:44,300 --> 00:21:46,010
is still sort of new there's a there's

490
00:21:46,010 --> 00:21:49,580
actually a sip module four node the

491
00:21:49,580 --> 00:21:50,780
author doesn't there's a lot of

492
00:21:50,780 --> 00:21:52,820
documentation on it buddy he's very open

493
00:21:52,820 --> 00:21:56,270
to conversation and email about it I and

494
00:21:56,270 --> 00:21:58,670
one of my colleagues Chris Matthew who

495
00:21:58,670 --> 00:22:00,260
was done in the middle there we have

496
00:22:00,260 --> 00:22:01,370
actually a conversations this guy is

497
00:22:01,370 --> 00:22:03,920
very helpful what I wanted to do was I

498
00:22:03,920 --> 00:22:05,360
wanted to build a sip registrar so

499
00:22:05,360 --> 00:22:08,780
except sip registrar is a component that

500
00:22:08,780 --> 00:22:11,210
keeps track of supply ins because sip

501
00:22:11,210 --> 00:22:13,820
clients can can exist anywhere their IP

502
00:22:13,820 --> 00:22:15,170
addresses can change based on what

503
00:22:15,170 --> 00:22:16,610
network their connection connecting to

504
00:22:16,610 --> 00:22:19,310
so sip registrar basically a sip phone

505
00:22:19,310 --> 00:22:21,020
will register and say Here I am I'm at

506
00:22:21,020 --> 00:22:24,350
this location so all somebody has to do

507
00:22:24,350 --> 00:22:26,270
to find that person and call them is

508
00:22:26,270 --> 00:22:28,790
simply called the Registrar using the

509
00:22:28,790 --> 00:22:30,200
registrar's address the Registrar will

510
00:22:30,200 --> 00:22:31,820
tell that phone oh this person's over

511
00:22:31,820 --> 00:22:33,740
here you need to redirect over here or

512
00:22:33,740 --> 00:22:35,600
this person has now moved over here so I

513
00:22:35,600 --> 00:22:38,150
wanted to build it with with no j/s I

514
00:22:38,150 --> 00:22:40,310
also wanted to build it with with Redis

515
00:22:40,310 --> 00:22:44,180
um because these registrations really

516
00:22:44,180 --> 00:22:46,240
are sort of an extension number in a

517
00:22:46,240 --> 00:22:47,960
separate dress so it's sort of name

518
00:22:47,960 --> 00:22:50,420
value pairs seem like a really easy fit

519
00:22:50,420 --> 00:22:52,310
for 44 ready I certainly could have

520
00:22:52,310 --> 00:22:54,620
built it just using straight node you

521
00:22:54,620 --> 00:22:55,790
know just using an array or something

522
00:22:55,790 --> 00:22:57,140
and just storing up these things but I

523
00:22:57,140 --> 00:22:58,490
wanted to sort of make it more real

524
00:22:58,490 --> 00:23:00,410
world so I'm going to what I'm going to

525
00:23:00,410 --> 00:23:02,980
do is I'm actually going to show you the

526
00:23:02,980 --> 00:23:05,660
sip registrar than a bill and we'll see

527
00:23:05,660 --> 00:23:07,760
if we need to work that won't work

528
00:23:07,760 --> 00:23:10,390
because I don't

529
00:23:10,400 --> 00:23:14,270
we're running ok so what I'm going to do

530
00:23:14,270 --> 00:23:20,090
is first time I hang up the phone I want

531
00:23:20,090 --> 00:23:21,710
to get this zip line this is a blink sip

532
00:23:21,710 --> 00:23:26,270
client it's pretty nice I got no

533
00:23:26,270 --> 00:23:27,500
complaints about it but I but what I

534
00:23:27,500 --> 00:23:28,970
want to tell it to do is to register

535
00:23:28,970 --> 00:23:32,540
with this machine the IP address that

536
00:23:32,540 --> 00:23:33,800
I've been given by this network and I'm

537
00:23:33,800 --> 00:23:37,850
just going to use an extension of 200 so

538
00:23:37,850 --> 00:23:38,990
I told it to register and it didn't it

539
00:23:38,990 --> 00:23:43,370
came back green and their day there's my

540
00:23:43,370 --> 00:23:48,880
registration the actual code for this

541
00:23:48,880 --> 00:23:56,410
see okay can everybody see this yes no

542
00:23:56,410 --> 00:24:05,990
no can't see that are you for real so

543
00:24:05,990 --> 00:24:09,500
all right well yeah yeah so this is

544
00:24:09,500 --> 00:24:10,400
probably a little bit too much to

545
00:24:10,400 --> 00:24:13,010
consume in this manner let me just let

546
00:24:13,010 --> 00:24:14,630
me just let me just go and break it down

547
00:24:14,630 --> 00:24:15,770
for you like this so there's this

548
00:24:15,770 --> 00:24:19,510
awesome Redis module 4 4 4 node i

549
00:24:19,510 --> 00:24:21,650
recommend it it's it's really easy to

550
00:24:21,650 --> 00:24:23,330
use and as I mentioned before there's a

551
00:24:23,330 --> 00:24:24,740
sip there's a sip module that I'm using

552
00:24:24,740 --> 00:24:26,510
so I want to handle basically two kinds

553
00:24:26,510 --> 00:24:28,040
of sip messages I want to handle a

554
00:24:28,040 --> 00:24:30,080
registration or register so when a sip

555
00:24:30,080 --> 00:24:32,810
request comes in that is a register

556
00:24:32,810 --> 00:24:35,300
request I want to populate the IP

557
00:24:35,300 --> 00:24:37,520
address basically the SIP fully

558
00:24:37,520 --> 00:24:38,810
qualified sip address of where that

559
00:24:38,810 --> 00:24:43,130
phone is in Redis and i also want to log

560
00:24:43,130 --> 00:24:45,170
them off if they close their phone down

561
00:24:45,170 --> 00:24:47,300
so that I don't have a record for them

562
00:24:47,300 --> 00:24:48,530
the other thing I want to do is when i

563
00:24:48,530 --> 00:24:49,910
get a sip invite which is what a sip

564
00:24:49,910 --> 00:24:53,390
client will do when it wants to connect

565
00:24:53,390 --> 00:24:54,950
to another client it will send a sip

566
00:24:54,950 --> 00:24:56,900
invitation what i'll do is i'll send

567
00:24:56,900 --> 00:25:00,500
back a an initial response with a 100

568
00:25:00,500 --> 00:25:02,030
saying i'm trying i'm going to look up

569
00:25:02,030 --> 00:25:03,560
this person and see if i can find them

570
00:25:03,560 --> 00:25:05,300
now this is typically where you'll hear

571
00:25:05,300 --> 00:25:07,190
a ringtone so your client has been told

572
00:25:07,190 --> 00:25:09,470
ok the the other end is trying to find

573
00:25:09,470 --> 00:25:11,390
where to route your call please hold

574
00:25:11,390 --> 00:25:12,680
them will play a nice ringtone for you

575
00:25:12,680 --> 00:25:16,610
and when I find them if I don't find

576
00:25:16,610 --> 00:25:18,110
that mug in the 404 back you know this

577
00:25:18,110 --> 00:25:19,850
this should look and feel a lot like

578
00:25:19,850 --> 00:25:22,400
HTTP right if I do find them I'll give

579
00:25:22,400 --> 00:25:24,140
them a sip 302 we

580
00:25:24,140 --> 00:25:26,090
is a redirect so all I'm doing here is

581
00:25:26,090 --> 00:25:28,010
saying I'm going to look up the person

582
00:25:28,010 --> 00:25:29,540
that you're trying to contact and then

583
00:25:29,540 --> 00:25:31,490
I'm going to tell your sip client to go

584
00:25:31,490 --> 00:25:32,870
and find them where they've last

585
00:25:32,870 --> 00:25:34,490
registered and then you're to sip

586
00:25:34,490 --> 00:25:36,260
clients will negotiate the entire call

587
00:25:36,260 --> 00:25:38,630
you'll exchange media you'll have this

588
00:25:38,630 --> 00:25:41,470
great conversation it's all powered with

589
00:25:41,470 --> 00:25:46,100
you no less than eighty five lines of

590
00:25:46,100 --> 00:25:47,900
nodejs and that's probable I'm probably

591
00:25:47,900 --> 00:25:49,130
being a little verbose here we could get

592
00:25:49,130 --> 00:25:52,190
this down under 50 easy so if what I

593
00:25:52,190 --> 00:25:56,420
just said to you was true I do have a

594
00:25:56,420 --> 00:26:00,290
registration so I should be able to read

595
00:26:00,290 --> 00:26:04,670
us and go get what did I register your

596
00:26:04,670 --> 00:26:07,310
mat 200 yeah so there it is there it is

597
00:26:07,310 --> 00:26:08,540
sitting in Redis now I should be able to

598
00:26:08,540 --> 00:26:15,950
call that that's sip address at my local

599
00:26:15,950 --> 00:26:16,940
host because that's where this is

600
00:26:16,940 --> 00:26:21,800
running and if I do that actually let's

601
00:26:21,800 --> 00:26:24,230
stick to the world my phone should i

602
00:26:24,230 --> 00:26:32,810
phone rings I'm going to reject that cuz

603
00:26:32,810 --> 00:26:33,950
I'm going to get a weird echo if I

604
00:26:33,950 --> 00:26:35,660
answer the phone and trying to talk as

605
00:26:35,660 --> 00:26:40,010
well so that seems sort of anticlimactic

606
00:26:40,010 --> 00:26:43,040
compared to the last one but trust me on

607
00:26:43,040 --> 00:26:44,570
that that is that is pretty awesome to

608
00:26:44,570 --> 00:26:46,490
be able to write a sip registrar with

609
00:26:46,490 --> 00:26:50,600
with no Jas and using using a database

610
00:26:50,600 --> 00:26:52,760
like Redis there are some pretty

611
00:26:52,760 --> 00:26:55,580
sophisticated and complicated sip

612
00:26:55,580 --> 00:26:57,830
registrar us out there I mean while mine

613
00:26:57,830 --> 00:26:59,600
does not do some of the things that they

614
00:26:59,600 --> 00:27:01,100
do it's still pretty neat that you can

615
00:27:01,100 --> 00:27:02,960
roll your own sip registrar with with

616
00:27:02,960 --> 00:27:04,400
knows yes so it sort of underscores my

617
00:27:04,400 --> 00:27:06,260
point my contention that nodejs I

618
00:27:06,260 --> 00:27:08,090
believe going forward has a really

619
00:27:08,090 --> 00:27:10,520
important rule to play in telephony

620
00:27:10,520 --> 00:27:13,090
because increasingly tell F&E is

621
00:27:13,090 --> 00:27:21,220
happening on IP networks okay

622
00:27:21,230 --> 00:27:24,620
back to my okay here's the other thing

623
00:27:24,620 --> 00:27:26,240
that no jess is really good at it's

624
00:27:26,240 --> 00:27:28,820
really good at gluing disparate

625
00:27:28,820 --> 00:27:32,000
components together to make a really

626
00:27:32,000 --> 00:27:34,580
interesting application so sticking with

627
00:27:34,580 --> 00:27:35,720
red us for a minute one of the really

628
00:27:35,720 --> 00:27:37,669
neat things about red us is that and it

629
00:27:37,669 --> 00:27:38,780
has nothing to do with red as being a

630
00:27:38,780 --> 00:27:40,669
datastore is that red is can act as a

631
00:27:40,669 --> 00:27:42,620
published subscribed framework basically

632
00:27:42,620 --> 00:27:44,299
so clients can connect your reticence

633
00:27:44,299 --> 00:27:46,030
and they can publish on a channel and

634
00:27:46,030 --> 00:27:48,590
other clients can subscribe to a channel

635
00:27:48,590 --> 00:27:50,780
and listen for messages on that channel

636
00:27:50,780 --> 00:27:52,820
and everybody that's register excuse me

637
00:27:52,820 --> 00:27:53,929
everybody that's subscribed to a channel

638
00:27:53,929 --> 00:27:56,960
gets the message when a publisher

639
00:27:56,960 --> 00:27:59,299
publishes to that channel so I wanted to

640
00:27:59,299 --> 00:28:03,380
use a troppo app and I wanted to use

641
00:28:03,380 --> 00:28:06,309
speech recognition and I wanted to have

642
00:28:06,309 --> 00:28:08,210
reticence since out in the cloud so I

643
00:28:08,210 --> 00:28:10,010
ended up going with red stratus to go

644
00:28:10,010 --> 00:28:12,410
which they have a bunch of nice plans

645
00:28:12,410 --> 00:28:15,410
and it's very easy to use so the tropo

646
00:28:15,410 --> 00:28:17,240
app just to sort of I guess make the

647
00:28:17,240 --> 00:28:19,910
point that Chris made it I think the

648
00:28:19,910 --> 00:28:22,070
first day or early yesterday you said

649
00:28:22,070 --> 00:28:23,600
you know this is even though we're here

650
00:28:23,600 --> 00:28:25,190
to talk about JavaScript it's there's a

651
00:28:25,190 --> 00:28:26,900
there's a there's a role to play in lots

652
00:28:26,900 --> 00:28:29,299
of other languages so as a nod to that

653
00:28:29,299 --> 00:28:32,179
that that notion I've coated this in PHP

654
00:28:32,179 --> 00:28:33,950
that's a PHP application i'm going to

655
00:28:33,950 --> 00:28:35,059
show you the code in just a second and

656
00:28:35,059 --> 00:28:36,530
what it's going to do it's going to it's

657
00:28:36,530 --> 00:28:37,910
going to publish information on a

658
00:28:37,910 --> 00:28:40,580
channel that's in Redis Redis instance

659
00:28:40,580 --> 00:28:42,740
running in a cloud so I want to be able

660
00:28:42,740 --> 00:28:44,450
to do something with this information in

661
00:28:44,450 --> 00:28:47,960
a web page and so I'm using nodejs as

662
00:28:47,960 --> 00:28:50,870
sort of a proxy subscriber for a web

663
00:28:50,870 --> 00:28:52,910
page I'm going to use again the node

664
00:28:52,910 --> 00:28:54,559
Redis module which is really awesome and

665
00:28:54,559 --> 00:28:57,730
socket i/o which is equally awesome and

666
00:28:57,730 --> 00:29:01,809
just use some simple jQuery and web page

667
00:29:01,809 --> 00:29:08,740
so oops oops oops

668
00:29:08,750 --> 00:29:14,300
um there's a lot in this but this is the

669
00:29:14,300 --> 00:29:16,130
meat of it right here I'm going to

670
00:29:16,130 --> 00:29:17,300
connect to a reticence in someone who

671
00:29:17,300 --> 00:29:20,180
authenticated i'm going to say welcome

672
00:29:20,180 --> 00:29:23,420
to the Redis hello that actually makes

673
00:29:23,420 --> 00:29:26,330
it sound better then I'm going to prompt

674
00:29:26,330 --> 00:29:28,850
the user I'm just going to say tell me

675
00:29:28,850 --> 00:29:29,990
the color you want to say tell me the

676
00:29:29,990 --> 00:29:31,430
color you want to see and every time i

677
00:29:31,430 --> 00:29:32,420
do that i'm going to i'm going to

678
00:29:32,420 --> 00:29:35,470
publish on this troppo color channel and

679
00:29:35,470 --> 00:29:38,360
when they say stop I'll just connect say

680
00:29:38,360 --> 00:29:39,710
goodbye and hang up that's pretty much

681
00:29:39,710 --> 00:29:46,200
it as I mentioned before regice to go

682
00:29:46,210 --> 00:29:48,620
I'm using this free plan down here which

683
00:29:48,620 --> 00:29:55,090
is very inconspicuously advertised so

684
00:29:55,090 --> 00:30:02,020
let me see if I can run this yeah so

685
00:30:02,020 --> 00:30:10,400
first let me show you the node

686
00:30:10,400 --> 00:30:19,050
sorry let's do this

687
00:30:19,060 --> 00:30:23,570
it's a really simple no script just

688
00:30:23,570 --> 00:30:27,370
using the reddest module and socket i/o

689
00:30:27,370 --> 00:30:36,290
let me also show you a secular

690
00:30:36,290 --> 00:30:39,130
works in that running line serving it

691
00:30:39,130 --> 00:30:42,500
let's do this so this is all on github

692
00:30:42,500 --> 00:30:44,690
and I'm going to probably beg your

693
00:30:44,690 --> 00:30:45,920
indulgence and point you to the github

694
00:30:45,920 --> 00:30:47,360
repo it where it will be easier for you

695
00:30:47,360 --> 00:30:50,510
to understand this but it's very simple

696
00:30:50,510 --> 00:30:52,880
node scripts it's going to get it's

697
00:30:52,880 --> 00:30:54,290
going to subscribe to a Redis channel

698
00:30:54,290 --> 00:30:55,310
it's going to get information from that

699
00:30:55,310 --> 00:30:57,070
channel and it's going to push it to a

700
00:30:57,070 --> 00:31:03,680
web page that's through socket i/o let's

701
00:31:03,680 --> 00:31:08,240
do this okay so I'm now connected and my

702
00:31:08,240 --> 00:31:10,010
reddest client is subscribed to the

703
00:31:10,010 --> 00:31:12,680
tropo color channel now we can look at

704
00:31:12,680 --> 00:31:19,640
the so this is really easy I'm not

705
00:31:19,640 --> 00:31:22,190
really doing much here I'm getting some

706
00:31:22,190 --> 00:31:26,930
information and I'm modifying some CSS

707
00:31:26,930 --> 00:31:28,550
that's pretty much all I'm doing but

708
00:31:28,550 --> 00:31:31,550
actually turns out that's really kind of

709
00:31:31,550 --> 00:31:34,070
cool so this is my troppo application

710
00:31:34,070 --> 00:31:36,260
when you set up a troppo application you

711
00:31:36,260 --> 00:31:38,180
get a lot of stuff for free you get a

712
00:31:38,180 --> 00:31:40,040
skype address and a sip address that you

713
00:31:40,040 --> 00:31:41,900
can use so I've given this demo a few

714
00:31:41,900 --> 00:31:44,060
times I've actually gave it um a month

715
00:31:44,060 --> 00:31:45,650
ago and in San Francisco so I've got a

716
00:31:45,650 --> 00:31:47,920
San Francisco number and I've also got a

717
00:31:47,920 --> 00:31:53,280
portland number that I've provisioned so

718
00:31:53,290 --> 00:31:55,280
so I guess with all that lead up this

719
00:31:55,280 --> 00:31:56,690
should really be this better be

720
00:31:56,690 --> 00:31:59,180
something good right it's what you're

721
00:31:59,180 --> 00:32:06,860
saying bear with me for just a second

722
00:32:06,870 --> 00:32:23,680
ok

723
00:32:23,690 --> 00:32:40,690
hey the color you want to see blue blue

724
00:32:40,700 --> 00:32:49,190
yellow

725
00:32:49,200 --> 00:32:51,490
okay I'm gonna hang it up now the other

726
00:32:51,490 --> 00:32:52,900
neat thing about troppo is that I

727
00:32:52,900 --> 00:32:54,490
mentioned before that the tools that we

728
00:32:54,490 --> 00:32:56,470
use need to be channel agnostic right so

729
00:32:56,470 --> 00:32:57,700
we need to be able to use one code base

730
00:32:57,700 --> 00:32:59,020
and we need to be able to serve multiple

731
00:32:59,020 --> 00:33:00,790
channels well troppo does that really

732
00:33:00,790 --> 00:33:02,410
well so what I've done is I've gone

733
00:33:02,410 --> 00:33:03,640
ahead and I've added a an instant

734
00:33:03,640 --> 00:33:06,790
messaging just a simple jabber account

735
00:33:06,790 --> 00:33:11,740
to this application and what that will

736
00:33:11,740 --> 00:33:14,950
let me do is then interact with this

737
00:33:14,950 --> 00:33:24,250
thing via I am same code base that's

738
00:33:24,250 --> 00:33:26,380
just serving on a different Channel the

739
00:33:26,380 --> 00:33:28,330
other neat thing I can do why don't we

740
00:33:28,330 --> 00:33:31,450
do this since you've all set here very

741
00:33:31,450 --> 00:33:34,030
patiently listen to me blather on about

742
00:33:34,030 --> 00:33:40,150
all this we do this if you send a text

743
00:33:40,150 --> 00:33:45,370
message through that number the choices

744
00:33:45,370 --> 00:33:47,800
should be red green blue white and

745
00:33:47,800 --> 00:33:52,800
yellow I think we should see Ruby got it

746
00:33:52,800 --> 00:34:02,820
it's 5038 479 31 6 oops somewhere my OH

747
00:34:02,820 --> 00:34:13,080
hold please let it go oh there is sorry

748
00:34:13,090 --> 00:34:16,300
so if i send a text message to 5038 479

749
00:34:16,300 --> 00:34:26,930
31 6 should get is a change in color

750
00:34:26,940 --> 00:34:30,700
there we go somebody's textin keep going

751
00:34:30,700 --> 00:34:39,130
come on send green i sent green so so

752
00:34:39,130 --> 00:34:40,150
it's just sort of illustrates the point

753
00:34:40,150 --> 00:34:43,180
that the tools we need to use going

754
00:34:43,180 --> 00:34:44,740
forward are going to need to be need to

755
00:34:44,740 --> 00:34:47,920
be agnostic to channel and this is one

756
00:34:47,920 --> 00:34:56,680
way of addressing that need you guys are

757
00:34:56,680 --> 00:35:02,250
going to keep texting are you all right

758
00:35:02,250 --> 00:35:07,210
okay so before I don't know if people

759
00:35:07,210 --> 00:35:08,770
have questions I'm not even sure where I

760
00:35:08,770 --> 00:35:12,730
am on time but i just cannot underscore

761
00:35:12,730 --> 00:35:14,710
a couple things so the way that we

762
00:35:14,710 --> 00:35:16,180
develop telephone applications has

763
00:35:16,180 --> 00:35:18,340
changed dramatically recently and it's

764
00:35:18,340 --> 00:35:21,460
because web development has changed the

765
00:35:21,460 --> 00:35:22,810
way we build things has changed and

766
00:35:22,810 --> 00:35:25,060
there's a desire for easier ways to do

767
00:35:25,060 --> 00:35:27,430
things so for javascript developers that

768
00:35:27,430 --> 00:35:28,960
means we've got lots of choices now and

769
00:35:28,960 --> 00:35:31,320
how we build powerful multi-channel

770
00:35:31,320 --> 00:35:34,600
communication applications I believe

771
00:35:34,600 --> 00:35:36,070
very strongly that going forward nodejs

772
00:35:36,070 --> 00:35:38,050
will play a very important part in

773
00:35:38,050 --> 00:35:40,360
telephony and in how we build and deploy

774
00:35:40,360 --> 00:35:42,100
telephone applications because of the

775
00:35:42,100 --> 00:35:44,560
things it does it's very easy to build

776
00:35:44,560 --> 00:35:46,060
network applications with node we all

777
00:35:46,060 --> 00:35:48,550
know that that is a perfect fit for

778
00:35:48,550 --> 00:35:50,200
telephone applications because telephone

779
00:35:50,200 --> 00:35:53,350
app telephones telephone calls happen on

780
00:35:53,350 --> 00:35:55,450
networks the other thing is telephone

781
00:35:55,450 --> 00:35:57,220
environments are very their their event

782
00:35:57,220 --> 00:35:59,560
rich they're full of events connections

783
00:35:59,560 --> 00:36:02,500
disconnections transfers the whole the

784
00:36:02,500 --> 00:36:03,940
whole life cycle of call progress

785
00:36:03,940 --> 00:36:05,890
analysis in terms of figuring out

786
00:36:05,890 --> 00:36:07,000
whether you're talking to a human or a

787
00:36:07,000 --> 00:36:10,360
machine very event rich in the nodes

788
00:36:10,360 --> 00:36:12,820
event model is a really really good fit

789
00:36:12,820 --> 00:36:14,530
for that I believe I don't know of

790
00:36:14,530 --> 00:36:16,540
anybody that's doing CPA call progress

791
00:36:16,540 --> 00:36:18,460
analysis with node I wouldn't be

792
00:36:18,460 --> 00:36:19,390
surprised I didn't know there was

793
00:36:19,390 --> 00:36:23,050
anybody doing a sip module until I went

794
00:36:23,050 --> 00:36:24,930
out and looked

795
00:36:24,930 --> 00:36:27,510
um so it's all good we have lots of

796
00:36:27,510 --> 00:36:28,650
choices and there are lots of cool stuff

797
00:36:28,650 --> 00:36:38,550
to build thank you very much Laura did

798
00:36:38,550 --> 00:36:40,890
you remember to load the bacon oh I knew

