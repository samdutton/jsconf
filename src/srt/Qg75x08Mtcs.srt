1
00:00:20,840 --> 00:00:24,000

my name is John Clinton I'm the director

2
00:00:24,000 --> 00:00:27,540
of technology development international

3
00:00:27,540 --> 00:00:31,320
were a non-profit charity that operates

4
00:00:31,320 --> 00:00:34,079
in 27 different countries we treat

5
00:00:34,079 --> 00:00:36,660
conditions like hydrocephalus and

6
00:00:36,660 --> 00:00:40,080
clubfoot and personally I've been

7
00:00:40,080 --> 00:00:42,480
working on the web app world for about

8
00:00:42,480 --> 00:00:45,809
16 years love doing things on the

9
00:00:45,809 --> 00:00:47,640
cutting edge and so being able to work

10
00:00:47,640 --> 00:00:50,400
for an organization that lets me impact

11
00:00:50,400 --> 00:00:52,680
the lives of children throughout the

12
00:00:52,680 --> 00:00:57,330
world and just a little piece of trivia

13
00:00:57,330 --> 00:01:00,540
I actually did server-side javascript in

14
00:01:00,540 --> 00:01:03,869
97 bonus if you know what that

15
00:01:03,869 --> 00:01:07,380
technology actually wasn't but yes

16
00:01:07,380 --> 00:01:11,780
that's once okay so try keep on

17
00:01:11,780 --> 00:01:14,280
insisting so let's talk about why

18
00:01:14,280 --> 00:01:17,850
offline matters okay in the u.s. we

19
00:01:17,850 --> 00:01:20,070
generally have good connectivity but

20
00:01:20,070 --> 00:01:21,960
it's not always takes major out of a

21
00:01:21,960 --> 00:01:24,359
conference in the Wi-Fi side here it

22
00:01:24,359 --> 00:01:26,700
seems great but sometimes it's not early

23
00:01:26,700 --> 00:01:30,420
stage maybe you're at a hospital that

24
00:01:30,420 --> 00:01:35,700
limits your data access for the Korean

25
00:01:35,700 --> 00:01:37,950
War major somewhere like this you Greg

26
00:01:37,950 --> 00:01:39,929
Glacier National Park which make a

27
00:01:39,929 --> 00:01:42,649
chance to visit recently and their

28
00:01:42,649 --> 00:01:44,999
activities I have to check out be

29
00:01:44,999 --> 00:01:46,710
practically nothing which is great for

30
00:01:46,710 --> 00:01:48,890
vacation not so great

31
00:01:48,890 --> 00:01:53,120
work on now globally connectivity varies

32
00:01:53,120 --> 00:01:56,300
a lot more great the reality is where we

33
00:01:56,300 --> 00:02:00,110
work as a non-profit connectivity is not

34
00:02:00,110 --> 00:02:02,930
guaranteed a lot of these activities

35
00:02:02,930 --> 00:02:06,950
over mobile networks and the things like

36
00:02:06,950 --> 00:02:10,039
power failures happen or the other

37
00:02:10,039 --> 00:02:14,120
things in Africa connectivity is

38
00:02:14,120 --> 00:02:15,800
probably about 10 years behind where we

39
00:02:15,800 --> 00:02:17,390
are so you might pay late hundred bucks

40
00:02:17,390 --> 00:02:22,190
a month for 256k service so so locally

41
00:02:22,190 --> 00:02:25,630
connectivity is dis an issue and lastly

42
00:02:25,630 --> 00:02:28,610
your servers may not always be available

43
00:02:28,610 --> 00:02:31,040
and if they're not available you are

44
00:02:31,040 --> 00:02:34,519
effectively offline you're effectively

45
00:02:34,519 --> 00:02:37,580
enough and offline state but there's

46
00:02:37,580 --> 00:02:40,250
also another reason that all my matters

47
00:02:40,250 --> 00:02:43,010
me personally one of the conditions we

48
00:02:43,010 --> 00:02:45,680
treat a cure is called hydrocephalus and

49
00:02:45,680 --> 00:02:47,900
type of cephalus is water and brain and

50
00:02:47,900 --> 00:02:51,980
as you can see by the child the baby

51
00:02:51,980 --> 00:02:54,410
here you can see a large head and pipe

52
00:02:54,410 --> 00:02:55,940
some of these have been really really

53
00:02:55,940 --> 00:02:59,989
big and it's a deadly condition if it's

54
00:02:59,989 --> 00:03:03,380
not treated a child will die but

55
00:03:03,380 --> 00:03:06,650
unfortunately we've been able to prime

56
00:03:06,650 --> 00:03:09,290
care to children with this condition

57
00:03:09,290 --> 00:03:13,129
and the TOWIE see Don write their names

58
00:03:13,129 --> 00:03:15,459
Tom and he has successfully have surgery

59
00:03:15,459 --> 00:03:17,959
and is living at a completely normal

60
00:03:17,959 --> 00:03:21,200
life so we operate this program in about

61
00:03:21,200 --> 00:03:24,290
15 countries throughout Africa and Asia

62
00:03:24,290 --> 00:03:30,459
and we work with local surgeons and with

63
00:03:30,459 --> 00:03:34,280
local social workers to to provide care

64
00:03:34,280 --> 00:03:36,950
but we have a problem and that problem

65
00:03:36,950 --> 00:03:42,590
was how do we manage to record the data

66
00:03:42,590 --> 00:03:48,769
from remote locations and be able to

67
00:03:48,769 --> 00:03:51,379
keep track of the information from a

68
00:03:51,379 --> 00:03:53,780
location work that we're doing for

69
00:03:53,780 --> 00:03:55,579
quality assurance also for research

70
00:03:55,579 --> 00:03:59,870
perspectives so being able to do some

71
00:03:59,870 --> 00:04:02,090
research to be able to find what's the

72
00:04:02,090 --> 00:04:03,739
most effective way of treatment

73
00:04:03,739 --> 00:04:06,290
conditions so we need a solution of this

74
00:04:06,290 --> 00:04:08,540
distributed we need a solution that

75
00:04:08,540 --> 00:04:12,019
could work offline and we needed

76
00:04:12,019 --> 00:04:15,979
something that would allow us to to save

77
00:04:15,979 --> 00:04:20,139
their data essentially so I built a

78
00:04:20,139 --> 00:04:24,530
html5 app that allows us to do this and

79
00:04:24,530 --> 00:04:26,750
this app is what I would call an awkward

80
00:04:26,750 --> 00:04:30,680
first app so offline first design or

81
00:04:30,680 --> 00:04:33,320
looking to do is assume that you are

82
00:04:33,320 --> 00:04:36,650
offline everything happens in an offline

83
00:04:36,650 --> 00:04:39,820
content sure you may have online

84
00:04:39,820 --> 00:04:43,430
accessibility but if you don't we want

85
00:04:43,430 --> 00:04:44,960
to make sure that the app works

86
00:04:44,960 --> 00:04:49,550
perfectly with with without the online

87
00:04:49,550 --> 00:04:54,099
connectivity offline first design is

88
00:04:54,099 --> 00:04:56,870
also very effective on a mobile app

89
00:04:56,870 --> 00:05:00,810
because you don't want your users

90
00:05:00,810 --> 00:05:02,810
experience a different experience when

91
00:05:02,810 --> 00:05:08,810
the connection is available so what's

92
00:05:08,810 --> 00:05:11,430
we're going to use this guide here

93
00:05:11,430 --> 00:05:14,160
someone some kind soul printed out a

94
00:05:14,160 --> 00:05:17,970
guide for surviving offline apocalypse

95
00:05:17,970 --> 00:05:20,790
so what pretty as a guy we're going to

96
00:05:20,790 --> 00:05:23,010
look living off the grid of the fourth

97
00:05:23,010 --> 00:05:25,320
light shelter we're going to look at

98
00:05:25,320 --> 00:05:27,419
somewhere to store supplies gun store

99
00:05:27,419 --> 00:05:30,660
stuff somewhere we have that paddock

100
00:05:30,660 --> 00:05:33,180
with memory we need to make sure that we

101
00:05:33,180 --> 00:05:34,710
have all the tools we need to get our

102
00:05:34,710 --> 00:05:38,040
work done and we have to happen escape

103
00:05:38,040 --> 00:05:41,010
plan we're going to escape it they all

104
00:05:41,010 --> 00:05:44,190
want apocalypse so let's look at what

105
00:05:44,190 --> 00:05:47,610
that means so the first thing we need is

106
00:05:47,610 --> 00:05:49,639
we need to live off the grid oui oui

107
00:05:49,639 --> 00:05:52,950
somewhere we did a structure something

108
00:05:52,950 --> 00:05:55,530
like this this looks like it could be in

109
00:05:55,530 --> 00:05:57,479
tattooing but it's actually in New

110
00:05:57,479 --> 00:05:59,639
Mexico somewhere but we need somewhere

111
00:05:59,639 --> 00:06:02,780
to be able to store our structure and

112
00:06:02,780 --> 00:06:05,539
application cache allows us to do that

113
00:06:05,539 --> 00:06:11,070
so all arcs jsr CSS anything that we

114
00:06:11,070 --> 00:06:14,910
need to render that app offline we can

115
00:06:14,910 --> 00:06:17,580
do with outpatient cash now maybe you've

116
00:06:17,580 --> 00:06:19,229
heard about patient cash maybe you've

117
00:06:19,229 --> 00:06:23,070
heard that it's kind of a jerk and it is

118
00:06:23,070 --> 00:06:26,950
but for something like a single page

119
00:06:26,950 --> 00:06:30,160
it actually works pretty well okay so

120
00:06:30,160 --> 00:06:33,370
we'll look at a brief example here you

121
00:06:33,370 --> 00:06:35,410
can see at the top here we have a

122
00:06:35,410 --> 00:06:38,860
manifest attribute in our HTML and this

123
00:06:38,860 --> 00:06:42,420
just points to a manifest file that

124
00:06:42,420 --> 00:06:46,570
indicates basically what we need to work

125
00:06:46,570 --> 00:06:49,900
offline so in on the bottom part here we

126
00:06:49,900 --> 00:06:52,660
have the declaration of cache manifest

127
00:06:52,660 --> 00:06:54,970
as well as what's most important is a

128
00:06:54,970 --> 00:06:58,840
smil section here where we list the

129
00:06:58,840 --> 00:07:00,490
files that are required for offline

130
00:07:00,490 --> 00:07:04,450
usage sorry CSS or fugitives and

131
00:07:04,450 --> 00:07:06,970
intertribal screams and then throw

132
00:07:06,970 --> 00:07:09,250
things that we don't need offline we can

133
00:07:09,250 --> 00:07:11,920
specify that in our networks section

134
00:07:11,920 --> 00:07:15,370
down below now one of the challenges

135
00:07:15,370 --> 00:07:20,740
with application cache is that anything

136
00:07:20,740 --> 00:07:23,380
that use the application cache will not

137
00:07:23,380 --> 00:07:25,150
be updated unless you update this

138
00:07:25,150 --> 00:07:28,630
manifest file so and the other thing to

139
00:07:28,630 --> 00:07:32,260
keep in mind is any HTML any resources

140
00:07:32,260 --> 00:07:34,840
served from the application cache even

141
00:07:34,840 --> 00:07:37,480
if you're online you're native your

142
00:07:37,480 --> 00:07:38,620
bottles will be served from the

143
00:07:38,620 --> 00:07:41,170
hesitation cash so one of the things we

144
00:07:41,170 --> 00:07:45,520
can do is make our manifest file dynamic

145
00:07:45,520 --> 00:07:48,610
you can do this at Build time so when

146
00:07:48,610 --> 00:07:51,160
you're pushing a new build up of your

147
00:07:51,160 --> 00:07:53,440
app you can generate a new math as well

148
00:07:53,440 --> 00:07:56,470
or in this case we're just using a

149
00:07:56,470 --> 00:07:59,170
simple PHP file that's going to go ahead

150
00:07:59,170 --> 00:08:01,210
and basically look at

151
00:08:01,210 --> 00:08:02,650
I am staying up on your on your

152
00:08:02,650 --> 00:08:05,590
javascript file to use that as kind of a

153
00:08:05,590 --> 00:08:07,960
build number and then that will allow us

154
00:08:07,960 --> 00:08:13,090
to dynamically update the application

155
00:08:13,090 --> 00:08:16,870
cache okay so real briefly just talk

156
00:08:16,870 --> 00:08:19,870
about patient ash browser support as you

157
00:08:19,870 --> 00:08:22,720
can see it's supported most browsers IE

158
00:08:22,720 --> 00:08:25,060
less than time it's not scored in its

159
00:08:25,060 --> 00:08:28,360
not supporting the upper many but pretty

160
00:08:28,360 --> 00:08:31,150
pretty good coverage and explain to know

161
00:08:31,150 --> 00:08:33,399
more about application cache take our

162
00:08:33,399 --> 00:08:37,750
tracks of a series of talks and articles

163
00:08:37,750 --> 00:08:39,700
on this so if you just look for an

164
00:08:39,700 --> 00:08:42,760
application caches of you you can

165
00:08:42,760 --> 00:08:44,830
find more details button so from the

166
00:08:44,830 --> 00:08:48,910
time perspective we we need to time so

167
00:08:48,910 --> 00:08:54,190
okay our next rule for surviving the

168
00:08:54,190 --> 00:08:56,589
apocalypse is that somewhere to store

169
00:08:56,589 --> 00:08:59,500
our stuff and we're going to use index

170
00:08:59,500 --> 00:09:04,330
DB to do that and the ins XD BTW is a

171
00:09:04,330 --> 00:09:08,470
auto school the idea here is that you're

172
00:09:08,470 --> 00:09:10,870
using key value pairs to store your data

173
00:09:10,870 --> 00:09:13,779
it's a no sequel database its

174
00:09:13,779 --> 00:09:16,420
predecessor web sequel was more of a

175
00:09:16,420 --> 00:09:19,180
cheapish database but this allows us to

176
00:09:19,180 --> 00:09:22,500
store our data client-side in browser

177
00:09:22,500 --> 00:09:27,070
and it gives us the capability of

178
00:09:27,070 --> 00:09:28,439
storing data

179
00:09:28,439 --> 00:09:31,029
okay now I'll give you a word of warning

180
00:09:31,029 --> 00:09:34,420
about the index TV it is heavily

181
00:09:34,420 --> 00:09:36,819
asynchronous now if you're working with

182
00:09:36,819 --> 00:09:39,429
xhr know you're probably not too

183
00:09:39,429 --> 00:09:41,139
concerned about that but it is

184
00:09:41,139 --> 00:09:44,619
consideration in developing the UI you

185
00:09:44,619 --> 00:09:47,050
need to be aware of it you need to make

186
00:09:47,050 --> 00:09:51,309
sure that you're working with it okay so

187
00:09:51,309 --> 00:09:53,499
we're going to take a quick look at an

188
00:09:53,499 --> 00:09:58,420
example of using energy so the first

189
00:09:58,420 --> 00:09:59,679
thing we're going to do is we need to

190
00:09:59,679 --> 00:10:01,449
open the database which you can see at

191
00:10:01,449 --> 00:10:05,050
the top here and when the database is

192
00:10:05,050 --> 00:10:06,519
open one of the first things that will

193
00:10:06,519 --> 00:10:09,309
happen is the version Alicia so if it's

194
00:10:09,309 --> 00:10:10,629
the first time you're opening your

195
00:10:10,629 --> 00:10:14,019
database origin change the version

196
00:10:14,019 --> 00:10:16,420
number so so something your schema

197
00:10:16,420 --> 00:10:19,639
change you can pass it in

198
00:10:19,639 --> 00:10:22,620
when that happens this on upgrading

199
00:10:22,620 --> 00:10:25,170
needed event on the bottom fires and

200
00:10:25,170 --> 00:10:27,870
that's where we can then define our

201
00:10:27,870 --> 00:10:31,829
database structure so the database has

202
00:10:31,829 --> 00:10:33,600
its concept of object stores which you

203
00:10:33,600 --> 00:10:35,070
can kind of think of that as being later

204
00:10:35,070 --> 00:10:38,820
dating these tables and and we define

205
00:10:38,820 --> 00:10:43,230
what the iee or what keypad that's the

206
00:10:43,230 --> 00:10:45,389
primary identifier for the object store

207
00:10:45,389 --> 00:10:48,779
then we can also define indexes for the

208
00:10:48,779 --> 00:10:50,459
database and those noises can either be

209
00:10:50,459 --> 00:10:54,839
unique so that frees record it for an

210
00:10:54,839 --> 00:10:57,120
index only one or two have a value or

211
00:10:57,120 --> 00:11:01,639
you have 90 indexes which the second

212
00:11:01,639 --> 00:11:07,829
piece of code here showing okay so as I

213
00:11:07,829 --> 00:11:09,470
mentioned before it's an asynchronous

214
00:11:09,470 --> 00:11:12,420
API so we have to wait until the

215
00:11:12,420 --> 00:11:14,519
databases over to interact with it and

216
00:11:14,519 --> 00:11:16,800
this is a function that might fire after

217
00:11:16,800 --> 00:11:20,399
the database is open and everything that

218
00:11:20,399 --> 00:11:21,899
we're doing we need to grab the

219
00:11:21,899 --> 00:11:23,640
transaction so that's the first thing

220
00:11:23,640 --> 00:11:25,709
new and then once we've grabbed a

221
00:11:25,709 --> 00:11:28,790
transaction we can go ahead actually and

222
00:11:28,790 --> 00:11:32,930
one because it's a no sequel database

223
00:11:32,930 --> 00:11:35,399
you know you're just interacting with

224
00:11:35,399 --> 00:11:37,860
with JavaScript object so it's really

225
00:11:37,860 --> 00:11:40,529
easy I don't even have to in this case

226
00:11:40,529 --> 00:11:45,060
specify what the primary key is it knows

227
00:11:45,060 --> 00:11:48,470
that I be attributed as a primary key

228
00:11:48,470 --> 00:11:51,209
student so we we can use that and then

229
00:11:51,209 --> 00:11:55,010
down here we have an example of

230
00:11:55,010 --> 00:11:57,840
retrieving the data use

231
00:11:57,840 --> 00:12:00,750
I had higher that that the prime area of

232
00:12:00,750 --> 00:12:03,780
privacy and I'm going to go through

233
00:12:03,780 --> 00:12:05,580
these code examples kind of quickly I

234
00:12:05,580 --> 00:12:09,240
will have my slide saleable so hopefully

235
00:12:09,240 --> 00:12:12,660
the double useful in the future okay so

236
00:12:12,660 --> 00:12:15,300
as you might guess one of the things

237
00:12:15,300 --> 00:12:18,450
that connects TV gives us is indexes and

238
00:12:18,450 --> 00:12:22,050
indexes are useful for surgically when

239
00:12:22,050 --> 00:12:24,420
you start having larger data sets you

240
00:12:24,420 --> 00:12:26,190
need a way to be able to efficiently

241
00:12:26,190 --> 00:12:30,570
pull that data back and and there's a

242
00:12:30,570 --> 00:12:34,110
couple ways you can do it so the indexes

243
00:12:34,110 --> 00:12:35,910
in exertion kind of works in this idea

244
00:12:35,910 --> 00:12:39,060
of key ranges so you can kind of stuff

245
00:12:39,060 --> 00:12:41,670
like over low an upper bound on low

246
00:12:41,670 --> 00:12:44,490
around and this example here let's say a

247
00:12:44,490 --> 00:12:47,040
little view for all cats whose name

248
00:12:47,040 --> 00:12:51,890
starts with ch so we can go ahead and

249
00:12:51,890 --> 00:12:54,690
query the database get get all the

250
00:12:54,690 --> 00:12:59,280
records back and pull the day the second

251
00:12:59,280 --> 00:13:01,470
example is is in this case where you

252
00:13:01,470 --> 00:13:04,980
have index items that are not unique so

253
00:13:04,980 --> 00:13:07,140
like let's say category so in this case

254
00:13:07,140 --> 00:13:11,430
I want to pull back all my cat pictures

255
00:13:11,430 --> 00:13:13,830
that are cat here in pictures so they're

256
00:13:13,830 --> 00:13:17,220
using that category so so we can do that

257
00:13:17,220 --> 00:13:18,930
as well so that's kind of some of the

258
00:13:18,930 --> 00:13:23,890
flexibility that Phoenix PD takes us

259
00:13:23,900 --> 00:13:26,240
I've deal with this if I did

260
00:13:26,240 --> 00:13:29,270
matt chrome devtools gives us a really

261
00:13:29,270 --> 00:13:33,380
nice view into index TV so we can look

262
00:13:33,380 --> 00:13:34,730
at all the time and we look at the

263
00:13:34,730 --> 00:13:37,970
object stores we look at the indexes and

264
00:13:37,970 --> 00:13:42,430
michigan senior we we can see keys and

265
00:13:42,430 --> 00:13:45,680
our values and it's just really useful

266
00:13:45,680 --> 00:13:47,990
to debug perspective to have us also

267
00:13:47,990 --> 00:13:52,279
mention that Deadpool's has support for

268
00:13:52,279 --> 00:13:54,350
application cache info file system API

269
00:13:54,350 --> 00:13:56,600
which I'll talk about in a second but

270
00:13:56,600 --> 00:13:58,820
that those are really useful when your

271
00:13:58,820 --> 00:14:01,190
work on that to be able to pull and then

272
00:14:01,190 --> 00:14:05,089
information okay so connect CD browser

273
00:14:05,089 --> 00:14:09,589
support as you can see here the major

274
00:14:09,589 --> 00:14:13,279
crowd you're supported the really no one

275
00:14:13,279 --> 00:14:16,459
here is that iOS does not support it as

276
00:14:16,459 --> 00:14:20,180
well as really sorry but there's a

277
00:14:20,180 --> 00:14:23,480
polyfill and using a polyfill you get

278
00:14:23,480 --> 00:14:26,200
coverage on practically every browser

279
00:14:26,200 --> 00:14:30,459
you miss offer me but its support for

280
00:14:30,459 --> 00:14:35,860
Safari as well as or Android no Android

281
00:14:35,860 --> 00:14:38,060
Chrome for Android you supported

282
00:14:38,060 --> 00:14:40,550
natively but if you have to support the

283
00:14:40,550 --> 00:14:42,800
old anger browser the polyfill will look

284
00:14:42,800 --> 00:14:44,600
into that and that Polly collection

285
00:14:44,600 --> 00:14:49,100
works with the web see for each guy ok

286
00:14:49,100 --> 00:14:55,700
so the next thing work I don't know if

287
00:14:55,700 --> 00:14:57,800
anyone recognizes this this is actually

288
00:14:57,800 --> 00:15:01,880
a nerf gun that somebody outfitted you

289
00:15:01,880 --> 00:15:04,070
know made made it look a little retro so

290
00:15:04,070 --> 00:15:08,149
it's pretty kick ass so we're going to

291
00:15:08,149 --> 00:15:11,840
talk about adequate weaponry and

292
00:15:11,840 --> 00:15:14,840
so so so what I want to talk about here

293
00:15:14,840 --> 00:15:17,390
is maybe other pieces that was helpful

294
00:15:17,390 --> 00:15:20,270
in having offline app and then the

295
00:15:20,270 --> 00:15:22,610
schedule allows this new guy so it's

296
00:15:22,610 --> 00:15:25,700
possible to make values before well it's

297
00:15:25,700 --> 00:15:27,950
useful for storing files that the FAFSA

298
00:15:27,950 --> 00:15:32,200
sweet guy lets you store sandbox files

299
00:15:32,200 --> 00:15:36,320
for your app and in the case of RF were

300
00:15:36,320 --> 00:15:38,540
using it to store patient photos so

301
00:15:38,540 --> 00:15:41,420
having a way of storing that data

302
00:15:41,420 --> 00:15:43,850
completely offline one of the nice

303
00:15:43,850 --> 00:15:47,060
things about it is that you can get a

304
00:15:47,060 --> 00:15:50,990
little URL to that those files up so in

305
00:15:50,990 --> 00:15:54,170
the kc RF we want to display an image i

306
00:15:54,170 --> 00:15:56,900
can ask the pasta meat guy for for the

307
00:15:56,900 --> 00:16:00,200
local you're off with a fun so here's

308
00:16:00,200 --> 00:16:04,040
your's good example and one of the first

309
00:16:04,040 --> 00:16:07,090
things we need to do is actually ask for

310
00:16:07,090 --> 00:16:10,970
permission to to use a file system and

311
00:16:10,970 --> 00:16:13,790
we need to ask for how much storage me

312
00:16:13,790 --> 00:16:16,580
and one of the concepts here is your

313
00:16:16,580 --> 00:16:18,950
persistent five stores as well as

314
00:16:18,950 --> 00:16:21,080
temporary office or so if you only need

315
00:16:21,080 --> 00:16:25,280
your files to persist over a one section

316
00:16:25,280 --> 00:16:28,010
they can temporary otherwise I use a

317
00:16:28,010 --> 00:16:30,200
persistent office or so once we've

318
00:16:30,200 --> 00:16:33,920
requested access to the file system we

319
00:16:33,920 --> 00:16:37,300
can go come and open the file system and

320
00:16:37,300 --> 00:16:41,480
again this API is asynchronous says they

321
00:16:41,480 --> 00:16:45,560
need to to work with this and once we

322
00:16:45,560 --> 00:16:48,380
open the file system we go ahead and in

323
00:16:48,380 --> 00:16:49,880
this case we're doing is we're reading

324
00:16:49,880 --> 00:16:53,810
from a file input in a browser we're

325
00:16:53,810 --> 00:16:55,430
grabbing that file out and we're going

326
00:16:55,430 --> 00:16:57,530
to save it locally and as you can see

327
00:16:57,530 --> 00:17:00,380
here we just put the debug perspective

328
00:17:00,380 --> 00:17:02,930
turn out the URL so that's a little URL

329
00:17:02,930 --> 00:17:06,950
of five commercially we can also get the

330
00:17:06,950 --> 00:17:09,530
data out in this example work grab your

331
00:17:09,530 --> 00:17:14,300
file and returning back as a day to your

332
00:17:14,300 --> 00:17:17,510
ID which could useful for various

333
00:17:17,510 --> 00:17:19,640
reasons and in this case it aims in

334
00:17:19,640 --> 00:17:23,420
Safari or maybe I actually convert it

335
00:17:23,420 --> 00:17:28,730
into a dating your eye and so it gets us

336
00:17:28,730 --> 00:17:30,980
out of a really flexible way a work with

337
00:17:30,980 --> 00:17:34,220
files its hierarchical nature so you can

338
00:17:34,220 --> 00:17:37,100
actually have like directories and and

339
00:17:37,100 --> 00:17:39,770
in our case we use so each patient gets

340
00:17:39,770 --> 00:17:43,730
a its own directory and then we can kind

341
00:17:43,730 --> 00:17:45,740
of organize the files for that patient

342
00:17:45,740 --> 00:17:50,420
that way okay so here's the bad file

343
00:17:50,420 --> 00:17:53,110
system browsers work is only in crime

344
00:17:53,110 --> 00:17:55,580
however there is a polyfill for this

345
00:17:55,580 --> 00:17:58,430
they can see index TV so you're using

346
00:17:58,430 --> 00:18:01,790
the browser uses in xeb you can use pop

347
00:18:01,790 --> 00:18:03,560
system and if you really want to be

348
00:18:03,560 --> 00:18:06,170
adventuresome you use the index DB

349
00:18:06,170 --> 00:18:09,170
polyfill and then on top of it gives the

350
00:18:09,170 --> 00:18:13,210
policies going to have polyfill so so so

351
00:18:13,210 --> 00:18:16,940
it's not useful for everyone in our case

352
00:18:16,940 --> 00:18:20,360
we actually put on Google Chromebooks so

353
00:18:20,360 --> 00:18:23,840
we had a specific use case where we with

354
00:18:23,840 --> 00:18:26,810
the target promise and I I actually hope

355
00:18:26,810 --> 00:18:28,750
that other browser vendors

356
00:18:28,750 --> 00:18:31,930
to the party because I think it's really

357
00:18:31,930 --> 00:18:36,910
useful ok so we've talked about you know

358
00:18:36,910 --> 00:18:39,490
these different rules of of the offline

359
00:18:39,490 --> 00:18:41,740
and Pato surviving that one apocalipsis

360
00:18:41,740 --> 00:18:43,450
the last one we need talk about is

361
00:18:43,450 --> 00:18:47,560
having an escape plan so it's useful to

362
00:18:47,560 --> 00:18:50,140
sort native offline it's really useful

363
00:18:50,140 --> 00:18:54,370
if we can then store it online so so the

364
00:18:54,370 --> 00:18:56,530
first thing we can do is when we're all

365
00:18:56,530 --> 00:18:59,620
buying a safe happens we can go ahead

366
00:18:59,620 --> 00:19:02,470
and Mark that record just have an

367
00:19:02,470 --> 00:19:03,880
attribute that says this needs to be

368
00:19:03,880 --> 00:19:06,820
seeing the circle so its first piece the

369
00:19:06,820 --> 00:19:08,950
second piece is we need to know when we

370
00:19:08,950 --> 00:19:14,320
are online now fortunately Thursday's

371
00:19:14,320 --> 00:19:18,870
for such a property in the browser that

372
00:19:18,870 --> 00:19:21,550
might give us some clue as to what's

373
00:19:21,550 --> 00:19:23,170
going on here that's a navigator online

374
00:19:23,170 --> 00:19:25,120
property now to treat a little bit the

375
00:19:25,120 --> 00:19:27,640
description here it says the returns

376
00:19:27,640 --> 00:19:31,060
true if user agent might be online women

377
00:19:31,060 --> 00:19:34,870
point young come on this is the web we

378
00:19:34,870 --> 00:19:37,180
should go whether or not wrong on not

379
00:19:37,180 --> 00:19:39,660
but actually if you think about it that

380
00:19:39,660 --> 00:19:41,800
that definition actually makes a lot of

381
00:19:41,800 --> 00:19:44,170
sense because just because you're online

382
00:19:44,170 --> 00:19:45,910
just because you have a connection to

383
00:19:45,910 --> 00:19:47,890
the internet doesn't mean the we're

384
00:19:47,890 --> 00:19:51,820
trying goes on so it gives the hint of

385
00:19:51,820 --> 00:19:54,720
online

386
00:19:54,730 --> 00:19:59,300
we can use xhr to help us figure out a

387
00:19:59,300 --> 00:20:02,810
form online we also use the window

388
00:20:02,810 --> 00:20:05,450
online event so let's take a look at it

389
00:20:05,450 --> 00:20:09,110
a good example so here the first thing

390
00:20:09,110 --> 00:20:12,890
we do is we establish a baseline using

391
00:20:12,890 --> 00:20:16,480
an avatar mine property we can say okay

392
00:20:16,480 --> 00:20:19,400
you know baseline seems our online or

393
00:20:19,400 --> 00:20:21,950
offline we can also that tie into the

394
00:20:21,950 --> 00:20:25,940
online and offline events and you know

395
00:20:25,940 --> 00:20:30,350
if you do encounter on that's great time

396
00:20:30,350 --> 00:20:33,530
to try to save our data online and then

397
00:20:33,530 --> 00:20:35,990
the last piece here is when we do try to

398
00:20:35,990 --> 00:20:39,950
savor via we can again if that request

399
00:20:39,950 --> 00:20:42,530
is successful we can say well we're most

400
00:20:42,530 --> 00:20:46,760
reasonably online but if it fails we'd

401
00:20:46,760 --> 00:20:48,890
say well okay we're going to the server

402
00:20:48,890 --> 00:20:52,520
room at least at this point okay so I

403
00:20:52,520 --> 00:20:54,890
link to end with sharing this picture

404
00:20:54,890 --> 00:20:57,410
and the research areas picture is

405
00:20:57,410 --> 00:21:00,290
because these people are survivors of

406
00:21:00,290 --> 00:21:04,040
the offering apocalypse they think this

407
00:21:04,040 --> 00:21:06,830
group of people has been using this off

408
00:21:06,830 --> 00:21:10,060
my app to help record the stories of

409
00:21:10,060 --> 00:21:13,280
these patients that we've been helping

410
00:21:13,280 --> 00:21:16,250
so far nine thousand kids have been

411
00:21:16,250 --> 00:21:18,290
entered into the system there are

412
00:21:18,290 --> 00:21:20,030
prisons nine thousand times that have

413
00:21:20,030 --> 00:21:23,120
been saved so not only were we able to

414
00:21:23,120 --> 00:21:24,630
use some cool technology

415
00:21:24,630 --> 00:21:27,540
do it what were actually able to impact

