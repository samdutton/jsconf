1
00:00:07,639 --> 00:00:11,910

so I'm gonna talk about Rafael uh so who

2
00:00:11,910 --> 00:00:14,340
doesn't know what is Rafael who had no

3
00:00:14,340 --> 00:00:17,340
idea wasn't to go and talk to them you

4
00:00:17,340 --> 00:00:22,230
gotta kidding me okay then we will skip

5
00:00:22,230 --> 00:00:27,000
the next slide I guess next couple of

6
00:00:27,000 --> 00:00:29,640
slides so it started as a three years

7
00:00:29,640 --> 00:00:32,399
ago and it it's just rude back to

8
00:00:32,399 --> 00:00:34,670
library to drawing stuff from the web

9
00:00:34,670 --> 00:00:37,350
uses a surge in BML doesn't use canvas

10
00:00:37,350 --> 00:00:40,110
and more concentrated on creating a nice

11
00:00:40,110 --> 00:00:43,200
API than you know solving any other

12
00:00:43,200 --> 00:00:49,379
issues so chapter 2.0 I basically giving

13
00:00:49,379 --> 00:00:50,850
this talk because i was told me recently

14
00:00:50,850 --> 00:00:54,449
that Rafael is stagnating no nothing no

15
00:00:54,449 --> 00:00:57,000
development happening and I was so upset

16
00:00:57,000 --> 00:00:58,559
about this because they're huge

17
00:00:58,559 --> 00:01:00,780
development happening for last year just

18
00:01:00,780 --> 00:01:03,600
happening on the 2.0 branch and it's

19
00:01:03,600 --> 00:01:05,299
also looked like a small improvement is

20
00:01:05,299 --> 00:01:08,250
most of the time it happens and then it

21
00:01:08,250 --> 00:01:10,500
grows grows grows and I can't stop to

22
00:01:10,500 --> 00:01:12,659
improving it so I going really release

23
00:01:12,659 --> 00:01:15,210
it because I can't really hold it

24
00:01:15,210 --> 00:01:19,290
anymore so what's new in 2.0 the first

25
00:01:19,290 --> 00:01:25,070
of all the BML the Microsoft drawing

26
00:01:25,070 --> 00:01:27,990
rubbish

27
00:01:27,990 --> 00:01:32,700
it was completely rewritten from scratch

28
00:01:32,700 --> 00:01:36,000
so I just take everything that was in

29
00:01:36,000 --> 00:01:38,970
Raphael destroyed away the problem was

30
00:01:38,970 --> 00:01:41,399
that as many developers when I was

31
00:01:41,399 --> 00:01:43,909
creating Raphael I look at the msdn and

32
00:01:43,909 --> 00:01:47,159
to look at the other other libraries

33
00:01:47,159 --> 00:01:49,289
like daughter like X can you ask how

34
00:01:49,289 --> 00:01:52,500
they use a vml and obviously follow the

35
00:01:52,500 --> 00:01:56,130
same path that was a big mistake they

36
00:01:56,130 --> 00:01:59,009
all wrong they all did it wrong so I did

37
00:01:59,009 --> 00:02:04,560
it better now so that's like an example

38
00:02:04,560 --> 00:02:06,360
of a difference in BML which I was

39
00:02:06,360 --> 00:02:08,580
trying to solve it called sub-pixel

40
00:02:08,580 --> 00:02:10,410
rendering that you see there two squares

41
00:02:10,410 --> 00:02:14,130
and the square on the right the square

42
00:02:14,130 --> 00:02:16,380
on the left is this quadrille and SVG

43
00:02:16,380 --> 00:02:18,660
the square on the rights of how the same

44
00:02:18,660 --> 00:02:21,690
square will look on vml you probably

45
00:02:21,690 --> 00:02:24,360
can't see the difference from this so

46
00:02:24,360 --> 00:02:28,380
let's zoom it up so that happens because

47
00:02:28,380 --> 00:02:31,410
when you specify when you when you

48
00:02:31,410 --> 00:02:34,560
specify the coordinates and as integers

49
00:02:34,560 --> 00:02:39,630
and when you use a you know SVG and use

50
00:02:39,630 --> 00:02:43,290
one pixel stroke it actually doesn't fit

51
00:02:43,290 --> 00:02:45,780
in the pixel grid and happens to be on

52
00:02:45,780 --> 00:02:47,940
the edge of two pixels and get blurred

53
00:02:47,940 --> 00:02:51,810
across these two pixels and we could

54
00:02:51,810 --> 00:02:53,489
have a long discussion is good or bad

55
00:02:53,489 --> 00:02:56,459
thing but this is how it is and in envy

56
00:02:56,459 --> 00:02:59,220
ml you CSS to position elements and you

57
00:02:59,220 --> 00:03:01,470
obviously use integer numbers for that

58
00:03:01,470 --> 00:03:03,269
and that's why it's always nice and

59
00:03:03,269 --> 00:03:05,880
crisp but it's not the same it's not

60
00:03:05,880 --> 00:03:08,700
consistent and sometimes this difference

61
00:03:08,700 --> 00:03:11,400
is really really annoying so it fixed

62
00:03:11,400 --> 00:03:16,380
now in Rafael 2.0 it's pixel to pixel

63
00:03:16,380 --> 00:03:19,980
exactly the same in BML and SVG because

64
00:03:19,980 --> 00:03:23,220
it was rewritten again the

65
00:03:23,220 --> 00:03:25,260
transformations it's not the important

66
00:03:25,260 --> 00:03:29,579
part of a pretty much any drawing

67
00:03:29,579 --> 00:03:32,459
process so the transformations which

68
00:03:32,459 --> 00:03:33,750
originally didn't pay much attention

69
00:03:33,750 --> 00:03:36,230
when it when it created the Rafah

70
00:03:36,230 --> 00:03:38,690
and then I paid more attention to it and

71
00:03:38,690 --> 00:03:41,239
then I decide to completely change it

72
00:03:41,239 --> 00:03:44,989
the whole API or the transformations the

73
00:03:44,989 --> 00:03:47,090
reason why I did it is because it's

74
00:03:47,090 --> 00:03:49,310
something which is you use most of the

75
00:03:49,310 --> 00:03:53,130
time if you're really doing stuff and

76
00:03:53,140 --> 00:03:56,299
something which is very important so

77
00:03:56,299 --> 00:03:58,400
what the transformations basically it's

78
00:03:58,400 --> 00:04:01,519
like I can rotate and draw a rectangle

79
00:04:01,519 --> 00:04:03,140
then I could rotate it around some point

80
00:04:03,140 --> 00:04:06,170
and then I should be able to rotate it

81
00:04:06,170 --> 00:04:07,670
around other point that was impossible

82
00:04:07,670 --> 00:04:09,980
in Rafael before if you want to rotate

83
00:04:09,980 --> 00:04:12,590
around another point you will reset the

84
00:04:12,590 --> 00:04:14,900
previous transformation so now you could

85
00:04:14,900 --> 00:04:17,389
rotate another around another point the

86
00:04:17,389 --> 00:04:20,209
problem is a transformation then when

87
00:04:20,209 --> 00:04:21,829
you apply multiple transformation they

88
00:04:21,829 --> 00:04:24,410
all relative to previous one so if now I

89
00:04:24,410 --> 00:04:26,180
want to say okay now translate

90
00:04:26,180 --> 00:04:28,789
horizontally 100 pixels you will see

91
00:04:28,789 --> 00:04:31,039
this picture because the whole

92
00:04:31,039 --> 00:04:32,419
coordinate system is transformed

93
00:04:32,419 --> 00:04:35,930
transformed as well which is may be

94
00:04:35,930 --> 00:04:39,080
correct but not really useful so in

95
00:04:39,080 --> 00:04:41,599
decide to introduce relative and

96
00:04:41,599 --> 00:04:43,880
absolute transformations in Rafael so

97
00:04:43,880 --> 00:04:45,770
now you could say transform relatively

98
00:04:45,770 --> 00:04:47,570
and then you will see this or you could

99
00:04:47,570 --> 00:04:48,950
say transform absolutely and then you

100
00:04:48,950 --> 00:04:54,950
could see that I think it's important in

101
00:04:54,950 --> 00:04:56,570
transformation to specify the Holy

102
00:04:56,570 --> 00:04:58,610
origin of transformation especially when

103
00:04:58,610 --> 00:05:01,010
you're talking about rotation scale for

104
00:05:01,010 --> 00:05:03,050
example in SVG venue when you rotate you

105
00:05:03,050 --> 00:05:04,729
specify the point around which your take

106
00:05:04,729 --> 00:05:07,099
when you scale you don't specify the

107
00:05:07,099 --> 00:05:08,750
point around which you scale because it

108
00:05:08,750 --> 00:05:10,940
doesn't really sound like make sense so

109
00:05:10,940 --> 00:05:13,160
I'll show you if you want to scale this

110
00:05:13,160 --> 00:05:15,950
reactor from around zero zero point look

111
00:05:15,950 --> 00:05:18,530
like this that's how it by default does

112
00:05:18,530 --> 00:05:21,349
it not really useful most of the time

113
00:05:21,349 --> 00:05:23,210
you want to scale somewhere around the

114
00:05:23,210 --> 00:05:25,310
middle of this of the square now maybe

115
00:05:25,310 --> 00:05:27,950
maybe here maybe there you should

116
00:05:27,950 --> 00:05:30,169
specify the point of scale it's actually

117
00:05:30,169 --> 00:05:33,139
existing or in rockville 1.5 and i just

118
00:05:33,139 --> 00:05:36,440
want to emphasize it a little bit so

119
00:05:36,440 --> 00:05:38,479
original sort of API will be like that

120
00:05:38,479 --> 00:05:40,940
right she rotates about some point then

121
00:05:40,940 --> 00:05:41,569
you rotate

122
00:05:41,569 --> 00:05:42,919
on another point then you translate

123
00:05:42,919 --> 00:05:46,749
around town point and that sounds good

124
00:05:46,749 --> 00:05:51,110
no doesn't sound good at all hey the

125
00:05:51,110 --> 00:05:53,029
problem with that approach is that later

126
00:05:53,029 --> 00:05:55,459
on you can't really okay you use your

127
00:05:55,459 --> 00:05:58,099
Tate used cave you rotate it on site now

128
00:05:58,099 --> 00:05:59,689
you want to get the transformation of

129
00:05:59,689 --> 00:06:01,999
the element how you going to do this are

130
00:06:01,999 --> 00:06:03,589
you going to animate the transformation

131
00:06:03,589 --> 00:06:05,779
a felony this approach of this API

132
00:06:05,779 --> 00:06:08,240
doesn't really work well this which you

133
00:06:08,240 --> 00:06:09,589
provide a different approach it has a

134
00:06:09,589 --> 00:06:11,449
transform a tribute which contains a

135
00:06:11,449 --> 00:06:15,050
string which contains the comment i like

136
00:06:15,050 --> 00:06:17,089
idea of one attribute which keeps all

137
00:06:17,089 --> 00:06:20,689
the data but the format's of this not

138
00:06:20,689 --> 00:06:23,270
really good i look at the canvas API

139
00:06:23,270 --> 00:06:26,089
don't want to talk about can see the SVG

140
00:06:26,089 --> 00:06:27,860
is a little bit better but it's still

141
00:06:27,860 --> 00:06:30,709
not good enough so i was thinking about

142
00:06:30,709 --> 00:06:33,860
this and I will decided it sounds it's

143
00:06:33,860 --> 00:06:35,300
the problem sounds familiar there is

144
00:06:35,300 --> 00:06:40,999
already in SVG the API for linked

145
00:06:40,999 --> 00:06:43,429
comments with the parameters it's called

146
00:06:43,429 --> 00:06:46,339
a SVG path when you create SVG path you

147
00:06:46,339 --> 00:06:48,199
have a comment and you have parameters

148
00:06:48,199 --> 00:06:50,119
you move to this point draw a line to

149
00:06:50,119 --> 00:06:52,069
this point it draw a cubic vizier to

150
00:06:52,069 --> 00:06:54,080
this point you draw something else and i

151
00:06:54,080 --> 00:06:55,789
decide that it would be in spirit of s

152
00:06:55,789 --> 00:06:57,169
with you to fold the same pattern for

153
00:06:57,169 --> 00:06:59,240
transformation and that's this API

154
00:06:59,240 --> 00:07:05,449
appears so you give a string in string

155
00:07:05,449 --> 00:07:07,189
each letter represents a comment and

156
00:07:07,189 --> 00:07:09,889
numbers represent the values you pass to

157
00:07:09,889 --> 00:07:11,689
the comment so for example the first

158
00:07:11,689 --> 00:07:14,529
line grid like rotate 30 degree around

159
00:07:14,529 --> 00:07:18,169
100-120 then rotate minus 45 degree

160
00:07:18,169 --> 00:07:23,329
around 6210 then you could when you ask

161
00:07:23,329 --> 00:07:24,949
for transformation give you a string so

162
00:07:24,949 --> 00:07:26,479
you could ask this element what is your

163
00:07:26,479 --> 00:07:28,459
transformation grab this transformation

164
00:07:28,459 --> 00:07:30,979
applied to another element and when you

165
00:07:30,979 --> 00:07:32,599
get it you get it as an array of commons

166
00:07:32,599 --> 00:07:34,069
you could easily parse it goes through

167
00:07:34,069 --> 00:07:35,689
the comments remove some commons at new

168
00:07:35,689 --> 00:07:38,180
ones you can also spin you specify you

169
00:07:38,180 --> 00:07:40,999
could also use the ellipses and in this

170
00:07:40,999 --> 00:07:42,469
case energies would be replaced with the

171
00:07:42,469 --> 00:07:44,719
current transformation of fun element in

172
00:07:44,719 --> 00:07:46,639
this case they say like scale twice and

173
00:07:46,639 --> 00:07:48,079
then apply whatever current

174
00:07:48,079 --> 00:07:50,689
transformation is and on the last third

175
00:07:50,689 --> 00:07:53,120
line i say okay whatever it is now

176
00:07:53,120 --> 00:07:54,449
transformation then scale

177
00:07:54,449 --> 00:07:57,749
you twice around 100 hundred position

178
00:07:57,749 --> 00:07:59,849
and boot absolutely so the law case

179
00:07:59,849 --> 00:08:02,809
letter means relative transformation

180
00:08:02,809 --> 00:08:05,610
uppercase mean scale you could rotate

181
00:08:05,610 --> 00:08:07,110
you could translate you could scale and

182
00:08:07,110 --> 00:08:09,779
first time in Rafael you could do matrix

183
00:08:09,779 --> 00:08:11,729
transformation so just like pretty much

184
00:08:11,729 --> 00:08:18,210
any transformation animation the

185
00:08:18,210 --> 00:08:20,849
animation in Rafael is actually pretty

186
00:08:20,849 --> 00:08:23,909
good and the API is pretty nice and

187
00:08:23,909 --> 00:08:28,699
nobody was complaining except me so I

188
00:08:28,699 --> 00:08:33,089
don't I look at other api's of animation

189
00:08:33,089 --> 00:08:36,800
and I don't like any of them because

190
00:08:36,800 --> 00:08:40,459
they don't give you flexibility and

191
00:08:40,459 --> 00:08:44,219
sorry let's just look at what I've did

192
00:08:44,219 --> 00:08:46,139
so let this is a small example of the

193
00:08:46,139 --> 00:08:49,620
animation this is a sort of pac-man like

194
00:08:49,620 --> 00:08:52,199
animation so I click on this circle it

195
00:08:52,199 --> 00:08:56,639
moves on that's pretty simple right

196
00:08:56,639 --> 00:08:58,709
let's see this code how it's actually

197
00:08:58,709 --> 00:09:06,360
done not here yeah right so we include

198
00:09:06,360 --> 00:09:10,589
the Raphael and then we create them here

199
00:09:10,589 --> 00:09:13,470
we create the Raphael colder FL

200
00:09:13,470 --> 00:09:17,459
functionally create the surface and then

201
00:09:17,459 --> 00:09:19,470
the raffle function now have a fourth

202
00:09:19,470 --> 00:09:21,720
parameter which function call back so it

203
00:09:21,720 --> 00:09:23,670
will create surfaces on Dom ready then

204
00:09:23,670 --> 00:09:26,430
call the callback and the surface will

205
00:09:26,430 --> 00:09:28,889
be called call back in the context of

206
00:09:28,889 --> 00:09:31,500
the surface the surface become this now

207
00:09:31,500 --> 00:09:35,579
this CAC AIT's a new Elias for custom

208
00:09:35,579 --> 00:09:37,889
attributes so the custom attributes

209
00:09:37,889 --> 00:09:39,779
exist before just I want to again

210
00:09:39,779 --> 00:09:42,120
emphasize a little bit so we create

211
00:09:42,120 --> 00:09:44,389
another new custom attribute month and

212
00:09:44,389 --> 00:09:47,819
basically the mouse it's a function

213
00:09:47,819 --> 00:09:49,800
which received value from 0 to 1 and

214
00:09:49,800 --> 00:09:53,639
return me the path of a pacman face and

215
00:09:53,639 --> 00:09:55,889
from 0 is closed mouth and one its open

216
00:09:55,889 --> 00:09:57,600
mouth and whatever between its whatever

217
00:09:57,600 --> 00:10:00,720
is between as soon as I have this is a

218
00:10:00,720 --> 00:10:02,220
custom attribute I could then animate

219
00:10:02,220 --> 00:10:04,110
this custom attribute and I could

220
00:10:04,110 --> 00:10:05,529
animate the mouse

221
00:10:05,529 --> 00:10:07,899
so then i create the animation this is

222
00:10:07,899 --> 00:10:09,970
another news feature so I call the

223
00:10:09,970 --> 00:10:12,009
Rockville animation and I create the

224
00:10:12,009 --> 00:10:14,529
animation with two keyframes and only

225
00:10:14,529 --> 00:10:17,170
half is mouth wide open and on the end

226
00:10:17,170 --> 00:10:19,689
of the animation mouths shut and I say

227
00:10:19,689 --> 00:10:22,449
that it's running 500 milliseconds this

228
00:10:22,449 --> 00:10:24,879
is just animations it wasn't applied to

229
00:10:24,879 --> 00:10:26,620
any element yet just the object

230
00:10:26,620 --> 00:10:29,800
animation so then i create a path and as

231
00:10:29,800 --> 00:10:31,629
you see the past doesn't get any past

232
00:10:31,629 --> 00:10:35,350
drinks its pass without puzzling and set

233
00:10:35,350 --> 00:10:37,990
attributes mouse 0 which will call the

234
00:10:37,990 --> 00:10:39,999
function and you draw me back when with

235
00:10:39,999 --> 00:10:42,790
a shot at mouse i make it yellow remove

236
00:10:42,790 --> 00:10:45,120
the stroke and unclick i say this

237
00:10:45,120 --> 00:10:48,579
animate and I grab the animation I just

238
00:10:48,579 --> 00:10:52,569
created until to repeat eight times and

239
00:10:52,569 --> 00:10:56,019
then I say animate transformation 400 /

240
00:10:56,019 --> 00:11:01,749
x + 0 / x so the element it's happened

241
00:11:01,749 --> 00:11:03,959
to be in two animations at the same time

242
00:11:03,959 --> 00:11:06,430
so it's opening and shutting his mouth

243
00:11:06,430 --> 00:11:10,480
and it's moving horizontally and they

244
00:11:10,480 --> 00:11:12,850
apply it to the same element and the

245
00:11:12,850 --> 00:11:14,410
first animation actually repeated eight

246
00:11:14,410 --> 00:11:16,660
times and this past animation just goes

247
00:11:16,660 --> 00:11:26,129
right right i am little bit ago so the

248
00:11:26,129 --> 00:11:29,649
this the animation usually represents

249
00:11:29,649 --> 00:11:31,870
like you you click the click the button

250
00:11:31,870 --> 00:11:33,970
you start the animation and while it's

251
00:11:33,970 --> 00:11:36,069
going you have no idea what's going on

252
00:11:36,069 --> 00:11:37,720
unless it's finished and you receive

253
00:11:37,720 --> 00:11:38,889
your call back and then you see aha

254
00:11:38,889 --> 00:11:42,040
animations finished but you if you want

255
00:11:42,040 --> 00:11:43,720
really to know the status of animation

256
00:11:43,720 --> 00:11:45,370
any point of the time you don't you

257
00:11:45,370 --> 00:11:48,309
don't really have a tools to get it so

258
00:11:48,309 --> 00:11:51,100
in Rafael too i introduced a new feature

259
00:11:51,100 --> 00:11:52,809
so you could actually give their status

260
00:11:52,809 --> 00:11:54,610
of animation and you could change the

261
00:11:54,610 --> 00:11:56,800
status of animation that give you

262
00:11:56,800 --> 00:11:59,170
ability to totally control any animation

263
00:11:59,170 --> 00:12:03,639
as much as you want so you could change

264
00:12:03,639 --> 00:12:05,379
you could stop you could continue from

265
00:12:05,379 --> 00:12:07,420
the point where it stops and so on and

266
00:12:07,420 --> 00:12:17,730
so far I think it's awesome

267
00:12:17,740 --> 00:12:20,410
well doesn't doesn't look like this you

268
00:12:20,410 --> 00:12:23,700
lost your phone so they all they all

269
00:12:23,700 --> 00:12:26,500
were all apic rocks you still could

270
00:12:26,500 --> 00:12:27,850
create animation like that so you

271
00:12:27,850 --> 00:12:30,430
animate to the new attributes during

272
00:12:30,430 --> 00:12:33,160
this time is in Quebec but behind the

273
00:12:33,160 --> 00:12:35,770
scene to create the animation object but

274
00:12:35,770 --> 00:12:36,790
you could do it yourself you could

275
00:12:36,790 --> 00:12:39,220
create animation object and then you

276
00:12:39,220 --> 00:12:41,410
could animate element just like that it

277
00:12:41,410 --> 00:12:43,540
was the object the good thing about it

278
00:12:43,540 --> 00:12:44,920
then later you could say what's your

279
00:12:44,920 --> 00:12:48,070
status and the element which I ok I'm in

280
00:12:48,070 --> 00:12:50,200
three animations right now the first

281
00:12:50,200 --> 00:12:51,910
animation am in the beginning the second

282
00:12:51,910 --> 00:12:53,260
animation I'm in the middle in the last

283
00:12:53,260 --> 00:12:55,270
animations I'm about to finish and this

284
00:12:55,270 --> 00:12:56,830
is animations now okay I'll grab the

285
00:12:56,830 --> 00:12:58,630
second animation apply to this element

286
00:12:58,630 --> 00:13:00,040
because I wanted him to move like that

287
00:13:00,040 --> 00:13:04,180
and so on so the API is like that there

288
00:13:04,180 --> 00:13:06,370
is a method status and by default

289
00:13:06,370 --> 00:13:07,840
settings which only array of all these

290
00:13:07,840 --> 00:13:10,630
animations and their statuses if you

291
00:13:10,630 --> 00:13:12,190
pass the animation object it reaching

292
00:13:12,190 --> 00:13:14,740
the number from 0 to 1 depending where

293
00:13:14,740 --> 00:13:18,040
the animation is but if you it also set

294
00:13:18,040 --> 00:13:21,360
us so if you pass the number and the

295
00:13:21,360 --> 00:13:24,430
animation then it will change the status

296
00:13:24,430 --> 00:13:26,770
of this current animation jumps to the

297
00:13:26,770 --> 00:13:28,630
position you specify forward to backward

298
00:13:28,630 --> 00:13:30,430
depending on the current status you

299
00:13:30,430 --> 00:13:32,410
could pause and resume you could stop

300
00:13:32,410 --> 00:13:34,840
said time is basically a shortcut for

301
00:13:34,840 --> 00:13:37,390
status but you use milliseconds from the

302
00:13:37,390 --> 00:13:39,670
beginning of the animation for example

303
00:13:39,670 --> 00:13:41,770
if you want to sing Chris keep better

304
00:13:41,770 --> 00:13:44,190
parade milliseconds and percentage and

305
00:13:44,190 --> 00:13:46,780
the animation has method delay and

306
00:13:46,780 --> 00:13:49,540
repeats delay means it started up right

307
00:13:49,540 --> 00:13:51,490
now but after some given period of

308
00:13:51,490 --> 00:13:53,530
milliseconds and repeat basically it

309
00:13:53,530 --> 00:13:55,720
will go to the end then roll back to the

310
00:13:55,720 --> 00:13:58,240
beginning and go again and let's as many

311
00:13:58,240 --> 00:13:59,830
times in specify if you want infinite

312
00:13:59,830 --> 00:14:08,530
loop you pass infinity ok events I'm

313
00:14:08,530 --> 00:14:10,270
generally big fan of event driven

314
00:14:10,270 --> 00:14:12,460
development and event-driven

315
00:14:12,460 --> 00:14:14,620
architecture so I was thinking that

316
00:14:14,620 --> 00:14:16,270
events is something the draw file is

317
00:14:16,270 --> 00:14:19,930
missing so not so long ago i wrote the

318
00:14:19,930 --> 00:14:22,630
library called EGS which is basically

319
00:14:22,630 --> 00:14:25,150
event managing custom event managing

320
00:14:25,150 --> 00:14:27,670
thing and somebody asked me yesterday

321
00:14:27,670 --> 00:14:29,120
why I don't use some

322
00:14:29,120 --> 00:14:32,240
some existing libraries for events well

323
00:14:32,240 --> 00:14:33,800
basically because when I wrote it they

324
00:14:33,800 --> 00:14:38,029
didn't exist yet so you could use

325
00:14:38,029 --> 00:14:39,560
recovery for that so I'm not promoting

326
00:14:39,560 --> 00:14:41,330
this library I mean you don't you don't

327
00:14:41,330 --> 00:14:42,740
have to use it but Raphael have it

328
00:14:42,740 --> 00:14:48,560
inside so how it works it work Raphael

329
00:14:48,560 --> 00:14:50,839
always firing the events in the eve

330
00:14:50,839 --> 00:14:52,760
space so you could always listen to

331
00:14:52,760 --> 00:14:55,910
events and lots of internal features are

332
00:14:55,910 --> 00:14:58,580
bounded on events but you can do it like

333
00:14:58,580 --> 00:15:01,190
that so you could say okay Eve on an

334
00:15:01,190 --> 00:15:03,710
animation do some function that means on

335
00:15:03,710 --> 00:15:06,890
any animation event animation related

336
00:15:06,890 --> 00:15:08,960
event in the Raphael it will call this

337
00:15:08,960 --> 00:15:10,580
function so if you start animation stop

338
00:15:10,580 --> 00:15:13,130
animation animation frame or you could

339
00:15:13,130 --> 00:15:14,720
say on each animation start call me

340
00:15:14,720 --> 00:15:17,060
function some animation started or each

341
00:15:17,060 --> 00:15:19,910
animation start the idea of element for

342
00:15:19,910 --> 00:15:21,380
this particular element called the

343
00:15:21,380 --> 00:15:24,920
function all a niche animation related

344
00:15:24,920 --> 00:15:26,660
event for this particular element of

345
00:15:26,660 --> 00:15:29,360
this function all you get the point

346
00:15:29,360 --> 00:15:37,130
again hope so this is a another thing I

347
00:15:37,130 --> 00:15:41,750
had let's say you want to draw the the

348
00:15:41,750 --> 00:15:43,970
polyline this is actually how your

349
00:15:43,970 --> 00:15:45,650
approach to draw a line like that it's

350
00:15:45,650 --> 00:15:48,470
very easy to do it in SVG or in Raphael

351
00:15:48,470 --> 00:15:50,870
for that sake and the problem that it's

352
00:15:50,870 --> 00:15:54,410
not always what you want sometimes it's

353
00:15:54,410 --> 00:15:55,880
quite easy but it's sometimes you want

354
00:15:55,880 --> 00:15:58,160
to cure and the only thing you know it's

355
00:15:58,160 --> 00:16:00,410
points which curve is going through and

356
00:16:00,410 --> 00:16:01,970
you don't really want to create its

357
00:16:01,970 --> 00:16:03,950
pubic began thinking how they should go

358
00:16:03,950 --> 00:16:07,040
so basically you need to draw the spline

359
00:16:07,040 --> 00:16:09,290
so I had new Commons in Rafael so now

360
00:16:09,290 --> 00:16:11,360
it's easier said you could create the

361
00:16:11,360 --> 00:16:14,900
curve which without much trouble the

362
00:16:14,900 --> 00:16:16,070
only difference that instead of

363
00:16:16,070 --> 00:16:19,250
specifying the common l-proline you

364
00:16:19,250 --> 00:16:22,190
specify common are and that will create

365
00:16:22,190 --> 00:16:25,670
this shiny cove just specify the points

366
00:16:25,670 --> 00:16:27,380
and to draw you the cough against around

367
00:16:27,380 --> 00:16:29,839
this point just you can do it with the

368
00:16:29,839 --> 00:16:34,780
math but i guess nobody likes math so

369
00:16:34,780 --> 00:16:38,650
I don't like math so I decide to put it

370
00:16:38,650 --> 00:16:41,500
in another improvement is bounding box

371
00:16:41,500 --> 00:16:43,330
bounding boxes soldiers in battle of SVG

372
00:16:43,330 --> 00:16:45,820
every time you do something it's very

373
00:16:45,820 --> 00:16:47,290
commonly you want to know what the

374
00:16:47,290 --> 00:16:48,880
bounding box of element you are

375
00:16:48,880 --> 00:16:51,340
operating with so like if you have this

376
00:16:51,340 --> 00:16:53,320
cloud the bounding box would be this

377
00:16:53,320 --> 00:16:57,670
green rectangle now in for some reason

378
00:16:57,670 --> 00:16:59,970
in SVG if you apply a transformation

379
00:16:59,970 --> 00:17:02,800
transformation doesn't bond in both

380
00:17:02,800 --> 00:17:04,090
these antique transformations into

381
00:17:04,090 --> 00:17:05,890
account so let's say if you want to

382
00:17:05,890 --> 00:17:08,800
animate rotate the cloud and keep the

383
00:17:08,800 --> 00:17:13,030
bounding box to look like this doesn't

384
00:17:13,030 --> 00:17:16,420
really care about God my cloud because

385
00:17:16,420 --> 00:17:18,810
doesn't care about transformations I

386
00:17:18,810 --> 00:17:21,550
don't think it's useful I think it's

387
00:17:21,550 --> 00:17:25,390
stupid so I change it and then Raphael

388
00:17:25,390 --> 00:17:28,630
2.0 you could use all the way if you're

389
00:17:28,630 --> 00:17:33,970
crazy or you you know like pain but you

390
00:17:33,970 --> 00:17:36,250
could also do it neway and then it gives

391
00:17:36,250 --> 00:17:38,140
you real bounding box of an element on

392
00:17:38,140 --> 00:17:51,470
each point it wasn't easy you know

393
00:17:51,480 --> 00:17:55,810
this time was better okay the view box

394
00:17:55,810 --> 00:17:58,390
is also very powerful thing it's

395
00:17:58,390 --> 00:18:01,720
basically if you want to zoom page to

396
00:18:01,720 --> 00:18:03,790
some region to show this region because

397
00:18:03,790 --> 00:18:04,930
it's all vector graphics should be

398
00:18:04,930 --> 00:18:07,090
easily to achieve this that's what view

399
00:18:07,090 --> 00:18:10,840
box in the SVG is for but unfortunately

400
00:18:10,840 --> 00:18:13,990
vml has issues which now resolved

401
00:18:13,990 --> 00:18:16,450
because they were brought Dave EML so

402
00:18:16,450 --> 00:18:18,130
you boxes like that you just scale and

403
00:18:18,130 --> 00:18:20,200
you see the image like this it doesn't

404
00:18:20,200 --> 00:18:23,770
scale change the view box but it's kind

405
00:18:23,770 --> 00:18:25,710
of scaling the whole thing down load up

406
00:18:25,710 --> 00:18:29,230
and you can throw back so now this is

407
00:18:29,230 --> 00:18:31,510
view box new view box comments in the

408
00:18:31,510 --> 00:18:39,520
Raphael write documentation this is a

409
00:18:39,520 --> 00:18:42,310
painful thing for every developer to

410
00:18:42,310 --> 00:18:44,470
write the commendation I'm not an

411
00:18:44,470 --> 00:18:46,450
exception I hate to write the

412
00:18:46,450 --> 00:18:48,700
commutation especially take into account

413
00:18:48,700 --> 00:18:50,740
as you can hear my English is not my

414
00:18:50,740 --> 00:18:52,900
first language not even my second

415
00:18:52,900 --> 00:18:56,650
language and I hate documentation but

416
00:18:56,650 --> 00:18:58,870
good documentation is the essential part

417
00:18:58,870 --> 00:19:04,480
of any software so this is in you

418
00:19:04,480 --> 00:19:08,430
documentation for Raphael it's very full

419
00:19:08,430 --> 00:19:13,540
it has everything and how it happened

420
00:19:13,540 --> 00:19:17,380
actually is I include the documentation

421
00:19:17,380 --> 00:19:20,440
into the ruffian to the source code so i

422
00:19:20,440 --> 00:19:22,300
will be ensure that it's always in sync

423
00:19:22,300 --> 00:19:24,580
with the changes and bug fixes and soul

424
00:19:24,580 --> 00:19:28,420
and improvement and so it generated this

425
00:19:28,420 --> 00:19:29,980
documentation have this church so if you

426
00:19:29,980 --> 00:19:32,020
want to search for the tailgate point

427
00:19:32,020 --> 00:19:34,960
get point at length so give me the

428
00:19:34,960 --> 00:19:37,600
straight away or if i want to search

429
00:19:37,600 --> 00:19:40,180
like four point give me print because it

430
00:19:40,180 --> 00:19:43,230
seems close it's like trying to find the

431
00:19:43,230 --> 00:19:48,040
it has nice church it's called this and

432
00:19:48,040 --> 00:19:49,600
it has all these methods here so you

433
00:19:49,600 --> 00:19:51,520
could go through the ole alphabetize

434
00:19:51,520 --> 00:19:54,130
italy all grouped and the documentation

435
00:19:54,130 --> 00:19:57,789
self has a very nice has all this

436
00:19:57,789 --> 00:20:01,629
you know examples embedded in it has all

437
00:20:01,629 --> 00:20:03,489
the parameters listed you could help us

438
00:20:03,489 --> 00:20:05,109
these parameters so you pass just

439
00:20:05,109 --> 00:20:07,859
animation all the type so let's

440
00:20:07,859 --> 00:20:12,070
explanation the pooh pooh pooh all the

441
00:20:12,070 --> 00:20:14,470
source code syntax highlighted all very

442
00:20:14,470 --> 00:20:18,429
nice and very like to do this

443
00:20:18,429 --> 00:20:24,289
documentation i use library i wrote

444
00:20:24,299 --> 00:20:26,769
because as you could guess a look at

445
00:20:26,769 --> 00:20:30,799
existing libraries and even like them

446
00:20:30,809 --> 00:20:36,549
and so that's how the comment looks in

447
00:20:36,549 --> 00:20:40,599
the novel at the moment so you specify

448
00:20:40,599 --> 00:20:42,279
the name of the methods as the first

449
00:20:42,279 --> 00:20:45,399
line then you specify the type is it

450
00:20:45,399 --> 00:20:47,950
method to property and you can see the

451
00:20:47,950 --> 00:20:49,179
first character in each line actually

452
00:20:49,179 --> 00:20:52,720
tells me what the line is for so you

453
00:20:52,720 --> 00:20:54,549
could asterisk is just the description

454
00:20:54,549 --> 00:20:56,830
just the text if it's cash then it's an

455
00:20:56,830 --> 00:20:59,859
HTML I take it as ease if it's a greater

456
00:20:59,859 --> 00:21:03,070
than then its header if the dash is list

457
00:21:03,070 --> 00:21:04,960
of arguments and because in JavaScript

458
00:21:04,960 --> 00:21:06,220
you could pass different list of

459
00:21:06,220 --> 00:21:08,679
arguments the same function that gives

460
00:21:08,679 --> 00:21:10,720
you ability to create documentation for

461
00:21:10,720 --> 00:21:12,999
if you pass 300 miles please if you

462
00:21:12,999 --> 00:21:14,950
passed for grants is that and so for and

463
00:21:14,950 --> 00:21:18,460
so far and the pipe means it's a course

464
00:21:18,460 --> 00:21:19,989
it will be grabbed since is highlighted

465
00:21:19,989 --> 00:21:23,080
and put into HTML and the name of the of

466
00:21:23,080 --> 00:21:25,299
the element of the methods will be

467
00:21:25,299 --> 00:21:27,399
taking off who this alphabetize it all

468
00:21:27,399 --> 00:21:29,200
be structured so it's structured but

469
00:21:29,200 --> 00:21:31,210
it's very flexible you could write any

470
00:21:31,210 --> 00:21:33,099
rubbish here you could break it up but I

471
00:21:33,099 --> 00:21:34,659
don't care about you because I wrote it

472
00:21:34,659 --> 00:21:38,440
for myself right and for a fail so the

473
00:21:38,440 --> 00:21:40,419
main one important thing that Rafael now

474
00:21:40,419 --> 00:21:42,429
have a good documentation and I call

475
00:21:42,429 --> 00:21:44,950
this library dr. GS so if you if you're

476
00:21:44,950 --> 00:21:46,090
interested you could go and check out my

477
00:21:46,090 --> 00:21:52,539
github account so what's new in Rafael

478
00:21:52,539 --> 00:21:56,440
2.0 I really running out of time because

479
00:21:56,440 --> 00:21:59,200
just 30 minutes talk so I just quickly

480
00:21:59,200 --> 00:22:04,019
run through the new features to Rafael

481
00:22:04,019 --> 00:22:07,659
function now has ability to go specify

482
00:22:07,659 --> 00:22:09,399
the callback she could pass the call

483
00:22:09,399 --> 00:22:10,300
back in and it will

484
00:22:10,300 --> 00:22:12,070
give you the coal bag the new object

485
00:22:12,070 --> 00:22:15,100
animation which I was talking about I

486
00:22:15,100 --> 00:22:17,110
have met his delay and repeat the

487
00:22:17,110 --> 00:22:19,660
element has metadata just like jquery

488
00:22:19,660 --> 00:22:21,280
data so you could associate data with

489
00:22:21,280 --> 00:22:23,620
the element and then take it the gate

490
00:22:23,620 --> 00:22:26,530
box get bounding box was improved to

491
00:22:26,530 --> 00:22:30,190
actually rely on the transformation then

492
00:22:30,190 --> 00:22:31,960
you method glow which everybody was

493
00:22:31,960 --> 00:22:34,900
asking it's just like drop shadow but be

494
00:22:34,900 --> 00:22:36,850
careful because it's consumed wads of

495
00:22:36,850 --> 00:22:39,850
memory so don't use it cautiously on

496
00:22:39,850 --> 00:22:42,880
drag all right the way to assign the

497
00:22:42,880 --> 00:22:44,050
event handler in case when you're

498
00:22:44,050 --> 00:22:46,050
dragging Raphael has drag-and-drop

499
00:22:46,050 --> 00:22:48,100
building so when you drag over some

500
00:22:48,100 --> 00:22:49,990
other element it could throw the events

501
00:22:49,990 --> 00:22:51,670
you dragging around on top of this

502
00:22:51,670 --> 00:22:54,400
chocolate log of this rectangle so you

503
00:22:54,400 --> 00:22:56,710
could use it for your work the post is

504
00:22:56,710 --> 00:22:58,810
the animation part remove data is from

505
00:22:58,810 --> 00:23:01,450
opposite of data resume the time stated

506
00:23:01,450 --> 00:23:03,340
solve animations that transform you

507
00:23:03,340 --> 00:23:05,230
method to create the apply the

508
00:23:05,230 --> 00:23:07,750
transformations and to get it the new

509
00:23:07,750 --> 00:23:15,190
alias for custom attributes CA the the

510
00:23:15,190 --> 00:23:16,930
paper hazard for each method so you

511
00:23:16,930 --> 00:23:18,340
could go through all elements on the

512
00:23:18,340 --> 00:23:21,820
page and do something get element by ID

513
00:23:21,820 --> 00:23:24,010
kind of tells for itself get element by

514
00:23:24,010 --> 00:23:25,870
point so you could pass x and y and give

515
00:23:25,870 --> 00:23:27,760
you the point give you the element which

516
00:23:27,760 --> 00:23:30,730
is on this point the topmost not all of

517
00:23:30,730 --> 00:23:34,870
them path has a new add new comment for

518
00:23:34,870 --> 00:23:39,160
the splines render fix is a special

519
00:23:39,160 --> 00:23:40,720
method for Firefox because it has issue

520
00:23:40,720 --> 00:23:42,820
is SVG sub-pixel rendering and you

521
00:23:42,820 --> 00:23:44,860
resize the browser window if you run

522
00:23:44,860 --> 00:23:46,060
into this issue you could use this

523
00:23:46,060 --> 00:23:48,790
method to fix it up set start and set

524
00:23:48,790 --> 00:23:52,870
finish is a two methods when you so you

525
00:23:52,870 --> 00:23:55,870
could call set start then run some code

526
00:23:55,870 --> 00:23:57,790
then call set finish and that finish

527
00:23:57,790 --> 00:23:59,110
will give you back the set which

528
00:23:59,110 --> 00:24:01,120
contains all the elements which will add

529
00:24:01,120 --> 00:24:03,340
it to paper between sets start and set

530
00:24:03,340 --> 00:24:06,040
finish so this presentation is all done

531
00:24:06,040 --> 00:24:08,470
in rafael if you noticed and each slide

532
00:24:08,470 --> 00:24:10,570
is using set start and finish and then

533
00:24:10,570 --> 00:24:12,550
when new slide appears they just drop it

534
00:24:12,550 --> 00:24:16,780
down I don't care what I add there the

535
00:24:16,780 --> 00:24:19,510
animation new property the color is

536
00:24:19,510 --> 00:24:22,240
new nice utility function you could pass

537
00:24:22,240 --> 00:24:23,890
their color in all the four months you

538
00:24:23,890 --> 00:24:25,450
could possibly think about and it gives

539
00:24:25,450 --> 00:24:27,550
you back the object which has the hex

540
00:24:27,550 --> 00:24:29,950
representation RGB hsl HSB and all this

541
00:24:29,950 --> 00:24:33,220
stuff they create unique ID it's musical

542
00:24:33,220 --> 00:24:35,440
internal the full feel is like a tempest

543
00:24:35,440 --> 00:24:38,440
molten plating solution edges BHS le RGB

544
00:24:38,440 --> 00:24:40,270
obviously give you the color but you

545
00:24:40,270 --> 00:24:44,530
specify HSB or RGB the metrics if you

546
00:24:44,530 --> 00:24:46,120
really want to play with transformations

547
00:24:46,120 --> 00:24:48,370
each element now has a matrix property

548
00:24:48,370 --> 00:24:50,880
and metrics property you represent the

549
00:24:50,880 --> 00:24:53,890
matrix and you could then grab these

550
00:24:53,890 --> 00:24:56,380
metrics and add some new transformation

551
00:24:56,380 --> 00:24:58,360
if you want to play with metrics you

552
00:24:58,360 --> 00:25:01,330
know literally go for it there is API

553
00:25:01,330 --> 00:25:03,610
for that Parsons from string give you

554
00:25:03,610 --> 00:25:06,730
the ability to parse the string set has

555
00:25:06,730 --> 00:25:09,130
new methods clear exclude for each and

556
00:25:09,130 --> 00:25:12,370
splice there is Yves and there is even

557
00:25:12,370 --> 00:25:27,870
more awesomeness

558
00:25:27,880 --> 00:25:36,650
any questions yes

559
00:25:36,660 --> 00:25:41,759
sorry

560
00:25:41,769 --> 00:25:46,310
not fully

561
00:25:46,320 --> 00:25:48,670
well basically the only difference is

562
00:25:48,670 --> 00:25:51,430
the transformations so all the others

563
00:25:51,430 --> 00:25:54,820
past but you use stuff only

564
00:25:54,820 --> 00:25:57,520
transformation has been changed and yeah

565
00:25:57,520 --> 00:26:00,430
by the way I the Raphael 2.0 available

566
00:26:00,430 --> 00:26:02,650
now yeah I release it just before I

567
00:26:02,650 --> 00:26:13,020
start talking the glow yeah glow creates

568
00:26:13,020 --> 00:26:15,670
shitloads of Dom elements to represent

569
00:26:15,670 --> 00:26:19,180
to make the glow effect so if you want

570
00:26:19,180 --> 00:26:21,460
to create a glow it looks fine if you

571
00:26:21,460 --> 00:26:24,880
want to animate them glow then it

572
00:26:24,880 --> 00:26:57,160
doesn't look but you yes god

573
00:26:57,160 --> 00:27:02,380
forbid what canvas well I already split

574
00:27:02,380 --> 00:27:04,960
like if you look at the source code i

575
00:27:04,960 --> 00:27:07,270
split raphael into three parts so now

576
00:27:07,270 --> 00:27:09,520
there is rafael core of LSU gene or flv

577
00:27:09,520 --> 00:27:12,220
ml which is built into one Spile still

578
00:27:12,220 --> 00:27:15,490
and my plans is to create a Raphael pro

579
00:27:15,490 --> 00:27:18,790
which will be Raphael without vml but

580
00:27:18,790 --> 00:27:21,340
with all the different SVG features

581
00:27:21,340 --> 00:27:22,930
which are missing in repair because of

582
00:27:22,930 --> 00:27:25,360
vml limitations at the moment so if you

583
00:27:25,360 --> 00:27:27,610
like developing for WebKit let's say you

584
00:27:27,610 --> 00:27:29,230
don't care about IES and you could just

585
00:27:29,230 --> 00:27:31,120
use raquel pro which gives you more

586
00:27:31,120 --> 00:27:34,270
power but doesn't go in ie6 but if you

587
00:27:34,270 --> 00:27:36,010
don't care about a six seven eight then

588
00:27:36,010 --> 00:27:40,480
you're lucky man jealous but you can use

589
00:27:40,480 --> 00:27:43,000
it it's it's a future I thought there

590
00:27:43,000 --> 00:27:45,790
yet there is Raphael pro already but it

591
00:27:45,790 --> 00:27:47,590
doesn't include new features it just

592
00:27:47,590 --> 00:27:49,900
doesn't have vml at the moment so you

593
00:27:49,900 --> 00:27:56,750
could use it yeah any other questions

594
00:27:56,760 --> 00:27:59,290
okay then thank you all the time and you

