1
00:00:01,100 --> 00:00:22,580

[Music]

2
00:00:22,590 --> 00:00:27,070
morning Singapore okay

3
00:00:27,070 --> 00:00:30,310
my topic is about how to boost chap a

4
00:00:30,310 --> 00:00:34,030
live-streaming react web app I think

5
00:00:34,030 --> 00:00:37,030
this girl's J's conference is perfect

6
00:00:37,030 --> 00:00:42,429
and I just saw the five minute talk just

7
00:00:42,429 --> 00:00:45,429
an and I think there is a rare kind of

8
00:00:45,429 --> 00:00:47,460
thing I think it is quite consider a

9
00:00:47,460 --> 00:00:52,059
there is Cameron out there and then he

10
00:00:52,059 --> 00:00:57,460
will switch the video here to show the

11
00:00:57,460 --> 00:01:01,780
demo performed by the speaker had thing

12
00:01:01,780 --> 00:01:06,310
I I suddenly see this behavior in

13
00:01:06,310 --> 00:01:08,259
China's conference so I think it is

14
00:01:08,259 --> 00:01:10,299
quite considerate but I think there is a

15
00:01:10,299 --> 00:01:14,649
pity that this year's conference has no

16
00:01:14,649 --> 00:01:18,610
live streaming video so the developers

17
00:01:18,610 --> 00:01:21,250
outside Singapore cannot enjoy such a

18
00:01:21,250 --> 00:01:24,070
perfect conference so hopefully next

19
00:01:24,070 --> 00:01:26,350
year the committee of the conference

20
00:01:26,350 --> 00:01:29,289
will permit up to write a live streaming

21
00:01:29,289 --> 00:01:32,950
video to the developers all over the

22
00:01:32,950 --> 00:01:35,270
world

23
00:01:35,280 --> 00:01:39,340
yep we okay we will provide service for

24
00:01:39,340 --> 00:01:44,320
you yeah okay about me

25
00:01:44,320 --> 00:01:46,719
I'm from tension alloy team which is I

26
00:01:46,719 --> 00:01:48,700
think one of the best front end

27
00:01:48,700 --> 00:01:51,310
developer team in Hanson and my major

28
00:01:51,310 --> 00:01:55,479
focus is on affirmation web and the

29
00:01:55,479 --> 00:01:59,859
performance of web app and there are

30
00:01:59,859 --> 00:02:03,549
some there's a small numbers of as with

31
00:02:03,549 --> 00:02:06,009
live streaming features in China so you

32
00:02:06,009 --> 00:02:09,519
can see the competition in this segment

33
00:02:09,519 --> 00:02:11,800
segmentation is quite fears in China

34
00:02:11,800 --> 00:02:14,200
because everyone wants to catch up

35
00:02:14,200 --> 00:02:19,120
and so what comes up in your mind if I

36
00:02:19,120 --> 00:02:21,580
mentioned live streaming do you have any

37
00:02:21,580 --> 00:02:26,340
ideas yep

38
00:02:26,340 --> 00:02:29,190
but there are more scenarios for example

39
00:02:29,190 --> 00:02:32,260
in university we usually skip our

40
00:02:32,260 --> 00:02:34,060
courses because the professors are

41
00:02:34,060 --> 00:02:39,340
boring so we will just watch the lecture

42
00:02:39,340 --> 00:02:44,349
video after the class and then some is

43
00:02:44,349 --> 00:02:48,760
some musical students we all like prayed

44
00:02:48,760 --> 00:02:52,269
a piano to earn money in the live

45
00:02:52,269 --> 00:02:56,410
streaming app and as a gaming fan we

46
00:02:56,410 --> 00:03:00,810
would like to enjoy a gaming narration

47
00:03:00,810 --> 00:03:06,130
or as a james of bronze fan I'd like to

48
00:03:06,130 --> 00:03:12,190
enjoy an NBA sports but there are a lot

49
00:03:12,190 --> 00:03:16,989
of mature native apps out there but why

50
00:03:16,989 --> 00:03:20,100
we need to build another like web

51
00:03:20,100 --> 00:03:22,930
version of life swimming out there are

52
00:03:22,930 --> 00:03:26,290
two reasons number one we would like to

53
00:03:26,290 --> 00:03:31,440
attract traffics for example this one is

54
00:03:31,440 --> 00:03:34,120
the scripture from life taught me which

55
00:03:34,120 --> 00:03:36,940
is the famous live streaming app in the

56
00:03:36,940 --> 00:03:40,420
USA which is produced by a Chinese

57
00:03:40,420 --> 00:03:44,920
company and when you think the house of

58
00:03:44,920 --> 00:03:47,709
the obvious video is it's funny and you

59
00:03:47,709 --> 00:03:50,350
click the share button to share it the

60
00:03:50,350 --> 00:03:53,139
link to the Facebook or Twitter then

61
00:03:53,139 --> 00:03:56,650
when your friends clicked the link and

62
00:03:56,650 --> 00:04:00,310
they also thing the house is quite

63
00:04:00,310 --> 00:04:03,639
impressive derivatives register a ton of

64
00:04:03,639 --> 00:04:06,579
the app and register as the user so

65
00:04:06,579 --> 00:04:12,280
that's the target of the version number

66
00:04:12,280 --> 00:04:15,669
two it can be a replacement for some

67
00:04:15,669 --> 00:04:19,870
native features like the live room and a

68
00:04:19,870 --> 00:04:22,530
second one is promotion activities

69
00:04:22,530 --> 00:04:24,880
because there are a lot of different

70
00:04:24,880 --> 00:04:28,740
kinds of activities the users were pay

71
00:04:28,740 --> 00:04:31,020
this activity is because they will earn

72
00:04:31,020 --> 00:04:34,650
some like gifts or they can improve

73
00:04:34,650 --> 00:04:40,710
their favorite host in the rank but it

74
00:04:40,710 --> 00:04:43,860
is not good for a native app to build

75
00:04:43,860 --> 00:04:48,060
different kinds of activities so this is

76
00:04:48,060 --> 00:04:52,140
the opportunities for for web and in

77
00:04:52,140 --> 00:04:55,350
this talk what I can show you there are

78
00:04:55,350 --> 00:04:59,070
three parts the first one in case there

79
00:04:59,070 --> 00:05:03,330
are some people do not know what live

80
00:05:03,330 --> 00:05:05,400
streaming is I've show you some basic

81
00:05:05,400 --> 00:05:08,700
concepts about it and then after that I

82
00:05:08,700 --> 00:05:12,060
will show you how to design the basic

83
00:05:12,060 --> 00:05:15,060
structure of complete live stirring app

84
00:05:15,060 --> 00:05:19,230
and lastly if the core of today's topics

85
00:05:19,230 --> 00:05:28,170
is what to build in react so what is the

86
00:05:28,170 --> 00:05:31,350
video here is a group of pictures and

87
00:05:31,350 --> 00:05:34,170
they're consecutive when you pray these

88
00:05:34,170 --> 00:05:36,540
pictures in a virtual time you can see

89
00:05:36,540 --> 00:05:40,230
an animation so this is a very simple

90
00:05:40,230 --> 00:05:42,960
video but for video it is not only

91
00:05:42,960 --> 00:05:46,350
contains images it contains like audio

92
00:05:46,350 --> 00:05:50,510
and the metadata about this video and

93
00:05:50,510 --> 00:05:54,780
codec is like a - to compress the raw

94
00:05:54,780 --> 00:06:01,520
data for example video we usually use

95
00:06:01,520 --> 00:06:04,710
h.264 to compress our video and we use

96
00:06:04,710 --> 00:06:09,030
AAC or h8a see the compressed audio and

97
00:06:09,030 --> 00:06:11,910
after that we will wrap it into a

98
00:06:11,910 --> 00:06:15,780
container we usually use like mp4 avi or

99
00:06:15,780 --> 00:06:22,110
FL we but is there any connections

100
00:06:22,110 --> 00:06:24,870
between like streaming and video yep

101
00:06:24,870 --> 00:06:29,160
they do live streaming is to deliver the

102
00:06:29,160 --> 00:06:32,310
video frame by frame from the server to

103
00:06:32,310 --> 00:06:40,440
the client here is the fraud of how live

104
00:06:40,440 --> 00:06:41,580
streaming

105
00:06:41,580 --> 00:06:44,189
it's delivered to the client firstly we

106
00:06:44,189 --> 00:06:47,490
use our device to produce a raw data and

107
00:06:47,490 --> 00:06:51,719
then we upload the data while I'm rtmp

108
00:06:51,719 --> 00:06:56,120
and web RTC then we can add some like

109
00:06:56,120 --> 00:07:00,509
watermark or some filters to make the

110
00:07:00,509 --> 00:07:02,789
picture that the video without the facts

111
00:07:02,789 --> 00:07:05,969
and then we contrast the whole thing

112
00:07:05,969 --> 00:07:10,800
with Kodak and when we when we finished

113
00:07:10,800 --> 00:07:14,509
the compression we will push the stream

114
00:07:14,509 --> 00:07:18,750
using like affair we Arabs Evo HLS and

115
00:07:18,750 --> 00:07:22,440
finally we get through the client when a

116
00:07:22,440 --> 00:07:26,009
client gets the streaming they will just

117
00:07:26,009 --> 00:07:31,229
pray the video right away before front

118
00:07:31,229 --> 00:07:34,169
and side we you we we cannot do a lot of

119
00:07:34,169 --> 00:07:37,590
things about it but we can still do

120
00:07:37,590 --> 00:07:40,560
something in the last step I will show

121
00:07:40,560 --> 00:07:43,059
you later

122
00:07:43,069 --> 00:07:46,469
so how can we pray the reader sauce in a

123
00:07:46,469 --> 00:07:50,430
web we have three kind of solutions in

124
00:07:50,430 --> 00:07:54,840
O'Day's fresh applause FL we is the main

125
00:07:54,840 --> 00:07:56,940
stream it has low latency

126
00:07:56,940 --> 00:08:02,430
however since Apple and Google decided

127
00:08:02,430 --> 00:08:04,770
to give our supporting France in the

128
00:08:04,770 --> 00:08:11,310
future so video and HR else will be we

129
00:08:11,310 --> 00:08:14,550
do tag and actually how as will be the

130
00:08:14,550 --> 00:08:20,879
future in though it has high latency but

131
00:08:20,879 --> 00:08:25,050
it is it has a good compatibility in

132
00:08:25,050 --> 00:08:32,399
mobile but am mpeg-dash I think will be

133
00:08:32,399 --> 00:08:36,300
the future stander it not only has

134
00:08:36,300 --> 00:08:38,510
loaded later disease but it also has

135
00:08:38,510 --> 00:08:41,039
bechamel operating and it's also

136
00:08:41,039 --> 00:08:44,219
convenient because we can load unpacked

137
00:08:44,219 --> 00:08:47,550
- video while HTTP and it should be

138
00:08:47,550 --> 00:08:51,650
asked

139
00:08:51,660 --> 00:08:56,460
so what exactly is hls it is soft for

140
00:08:56,460 --> 00:08:59,670
HTTP Live Streaming it has a control in

141
00:08:59,670 --> 00:09:04,230
this fire core m3u8 and in this file it

142
00:09:04,230 --> 00:09:08,370
has a lease of TS fires which is the

143
00:09:08,370 --> 00:09:12,810
video we pray in a client-side and then

144
00:09:12,810 --> 00:09:18,900
it has H dot 264 for the widow con codec

145
00:09:18,900 --> 00:09:22,020
and has am be 3 or AAC for the audio

146
00:09:22,020 --> 00:09:27,660
codec but if you would like to play that

147
00:09:27,660 --> 00:09:31,050
HLS in chrome you have to install a

148
00:09:31,050 --> 00:09:34,560
native OS pray extension and when you

149
00:09:34,560 --> 00:09:37,560
install it and show the developer to in

150
00:09:37,560 --> 00:09:41,810
chrome you can see there is a lace of

151
00:09:41,810 --> 00:09:46,800
information about TS fires it includes

152
00:09:46,800 --> 00:09:55,710
like the data and a duration so after a

153
00:09:55,710 --> 00:09:57,240
very boring lecture

154
00:09:57,240 --> 00:10:00,210
I've gonna show you how to design the

155
00:10:00,210 --> 00:10:04,920
whole picture of the architecture before

156
00:10:04,920 --> 00:10:07,250
we kicked off we need to think about

157
00:10:07,250 --> 00:10:09,990
where the apps will be where our web

158
00:10:09,990 --> 00:10:13,260
apps will be shown firstly we usually

159
00:10:13,260 --> 00:10:18,270
have a standalone version and then for

160
00:10:18,270 --> 00:10:20,370
some pages we will show it in the native

161
00:10:20,370 --> 00:10:24,750
web and in order to attract the traffic

162
00:10:24,750 --> 00:10:28,500
we will like share the links to QQ or

163
00:10:28,500 --> 00:10:31,700
witch hats in Chinese in China or in

164
00:10:31,700 --> 00:10:33,840
Western countries will share it to

165
00:10:33,840 --> 00:10:39,090
Facebook or like Twitter and there is

166
00:10:39,090 --> 00:10:41,400
some sophisticated so the video

167
00:10:41,400 --> 00:10:44,730
solutions like in tans and cloud we have

168
00:10:44,730 --> 00:10:47,340
a reader solutions for those startup

169
00:10:47,340 --> 00:10:51,090
companies and and as a solar company a

170
00:10:51,090 --> 00:10:55,290
developer you can use it you can use the

171
00:10:55,290 --> 00:10:58,110
API or SDK provided by it as an cloud

172
00:10:58,110 --> 00:11:01,560
and then you can like build a very

173
00:11:01,560 --> 00:11:03,390
simple video

174
00:11:03,390 --> 00:11:06,779
pray prayer but it is not enough is

175
00:11:06,779 --> 00:11:12,000
still far away from a complete video a

176
00:11:12,000 --> 00:11:16,019
live streaming app so based on our

177
00:11:16,019 --> 00:11:18,120
working experience I come up with this

178
00:11:18,120 --> 00:11:22,290
map of a whole structure at the top we

179
00:11:22,290 --> 00:11:25,950
have a user system we offer a system for

180
00:11:25,950 --> 00:11:30,810
reducers to register or login and we

181
00:11:30,810 --> 00:11:33,630
have a charming pawns and LeBeau system

182
00:11:33,630 --> 00:11:36,240
this is quite important because the

183
00:11:36,240 --> 00:11:38,640
users will pave to increase their

184
00:11:38,640 --> 00:11:41,370
charming points and the level and that's

185
00:11:41,370 --> 00:11:45,240
why we can survive and next we have a

186
00:11:45,240 --> 00:11:48,779
room which accommodate a lot of content

187
00:11:48,779 --> 00:11:53,430
we provided to the users and for the

188
00:11:53,430 --> 00:11:56,339
video we have two kinds of videos we

189
00:11:56,339 --> 00:12:00,320
have a live streaming and the house can

190
00:12:00,320 --> 00:12:03,649
deliver the message there or perform

191
00:12:03,649 --> 00:12:07,380
things in real-time through the clients

192
00:12:07,380 --> 00:12:11,040
and then if the thing the content is

193
00:12:11,040 --> 00:12:13,980
quite minified who the clients Dave you

194
00:12:13,980 --> 00:12:17,880
just make a record and then after they

195
00:12:17,880 --> 00:12:21,089
finish the live streaming the the

196
00:12:21,089 --> 00:12:25,709
clients can take a look at it in when

197
00:12:25,709 --> 00:12:30,209
they when they're free and we also have

198
00:12:30,209 --> 00:12:33,300
a message system for a client to

199
00:12:33,300 --> 00:12:37,589
interact with other like users or the

200
00:12:37,589 --> 00:12:42,180
host and we call the false for pass the

201
00:12:42,180 --> 00:12:46,170
content provider because we think these

202
00:12:46,170 --> 00:12:48,320
four systems we provide a meaningful

203
00:12:48,320 --> 00:12:55,680
content to our users but besides we have

204
00:12:55,680 --> 00:12:58,079
to survive so we we need to attract

205
00:12:58,079 --> 00:13:01,740
users to pay for our service so we have

206
00:13:01,740 --> 00:13:04,890
a few a payment system a gift system and

207
00:13:04,890 --> 00:13:10,680
an activity system but to ensure the

208
00:13:10,680 --> 00:13:14,550
whole thing working fine we need we need

209
00:13:14,550 --> 00:13:19,140
a monitor system to monitor like the

210
00:13:19,140 --> 00:13:21,990
performance and there now the arrow rate

211
00:13:21,990 --> 00:13:28,649
of the whole system but you see it is a

212
00:13:28,649 --> 00:13:33,209
choir large-scale system so it is quite

213
00:13:33,209 --> 00:13:37,170
limited there Israel not enough time

214
00:13:37,170 --> 00:13:39,540
today so I will just focus on the front

215
00:13:39,540 --> 00:13:44,490
and side in this conference so what we

216
00:13:44,490 --> 00:13:47,850
used to bill I have already mentioned in

217
00:13:47,850 --> 00:13:52,500
the first PPT I will use react to build

218
00:13:52,500 --> 00:13:54,779
a house system but it's not enough have

219
00:13:54,779 --> 00:13:57,180
you also used with us to manage our data

220
00:13:57,180 --> 00:14:01,680
and react route to manage the the route

221
00:14:01,680 --> 00:14:07,110
and we also have to help from the web

222
00:14:07,110 --> 00:14:10,350
pack because we need some API is like

223
00:14:10,350 --> 00:14:13,290
require ensure in my version 1 and

224
00:14:13,290 --> 00:14:17,490
system dot import in web pack ocean to

225
00:14:17,490 --> 00:14:21,360
to make sure that we can build a single

226
00:14:21,360 --> 00:14:30,560
page application but to ensure the

227
00:14:30,560 --> 00:14:34,170
stability of the whole system we have to

228
00:14:34,170 --> 00:14:38,940
use the started here in in July Facebook

229
00:14:38,940 --> 00:14:42,870
has ready launch starter kit core create

230
00:14:42,870 --> 00:14:46,800
rehab app but I want to use it I think

231
00:14:46,800 --> 00:14:49,040
it is good but it is not enough because

232
00:14:49,040 --> 00:14:52,699
it only gives us a hello world project

233
00:14:52,699 --> 00:14:57,449
so I start I just decided to create a

234
00:14:57,449 --> 00:15:01,589
starter kit course tamer reacts this is

235
00:15:01,589 --> 00:15:05,399
also started care but it is based on our

236
00:15:05,399 --> 00:15:09,180
teens max practice and how we improve

237
00:15:09,180 --> 00:15:12,510
the performance of reacts for example we

238
00:15:12,510 --> 00:15:15,930
include like pure render features in in

239
00:15:15,930 --> 00:15:19,410
this starter kit to ensure that we can

240
00:15:19,410 --> 00:15:22,830
improve the data comparison process

241
00:15:22,830 --> 00:15:26,490
in web and we have a touch in Bank

242
00:15:26,490 --> 00:15:29,220
component to solve the problem that

243
00:15:29,220 --> 00:15:31,770
reactors no support touch in R and in

244
00:15:31,770 --> 00:15:35,510
mobile browser and we also like have a

245
00:15:35,510 --> 00:15:40,800
reduced dev tools to help the developers

246
00:15:40,800 --> 00:15:47,970
is to see the data fro when we develop

247
00:15:47,970 --> 00:15:51,840
an app an octane in addition we have

248
00:15:51,840 --> 00:15:55,170
three template Rises for the first

249
00:15:55,170 --> 00:15:58,860
branch we have a simple branch it is

250
00:15:58,860 --> 00:16:01,860
just the helloweb project just like tray

251
00:16:01,860 --> 00:16:06,330
or a gap and we also have a react branch

252
00:16:06,330 --> 00:16:11,280
I use tensor news web app as an example

253
00:16:11,280 --> 00:16:14,640
so as a developer when you use this

254
00:16:14,640 --> 00:16:16,920
starter kit you can just copy the code

255
00:16:16,920 --> 00:16:19,730
from these demos so it is quite an easy

256
00:16:19,730 --> 00:16:23,430
process to develop an app using this

257
00:16:23,430 --> 00:16:27,240
starter kit and lastly I have a I also

258
00:16:27,240 --> 00:16:30,780
include in some morphic feature in your

259
00:16:30,780 --> 00:16:33,660
starter kit so if it will you would like

260
00:16:33,660 --> 00:16:36,090
to boost your performance you can use

261
00:16:36,090 --> 00:16:39,870
this branch and in the future I may also

262
00:16:39,870 --> 00:16:42,660
be like steamer carpet steamer wheel and

263
00:16:42,660 --> 00:16:46,800
similar rectangular and so on so you can

264
00:16:46,800 --> 00:16:49,710
choose whatever framers you like based

265
00:16:49,710 --> 00:16:54,630
on your project but for today I will

266
00:16:54,630 --> 00:16:59,790
have two cases to show you case one is

267
00:16:59,790 --> 00:17:05,490
the life room and there are several

268
00:17:05,490 --> 00:17:08,850
pages for the first one is this lays it

269
00:17:08,850 --> 00:17:12,060
is the least page which has the

270
00:17:12,060 --> 00:17:15,570
recommended hosts in this app and the

271
00:17:15,570 --> 00:17:19,949
second one is the setting and the last

272
00:17:19,949 --> 00:17:25,380
one is the life room and this one is the

273
00:17:25,380 --> 00:17:28,650
anchor the profile car in endure and the

274
00:17:28,650 --> 00:17:34,740
life room and I will show the demo here

275
00:17:34,750 --> 00:17:37,540
I write ass demo for the past three

276
00:17:37,540 --> 00:17:41,410
weeks right after work and here's the

277
00:17:41,410 --> 00:17:46,240
lease page and then I click click it and

278
00:17:46,240 --> 00:17:54,010
now it pays game of thumb you can chat

279
00:17:54,010 --> 00:17:55,480
with the anchor

280
00:17:55,480 --> 00:17:58,200
I guess and

281
00:17:58,200 --> 00:18:00,640
give today

282
00:18:00,640 --> 00:18:04,080
there's about

283
00:18:04,090 --> 00:18:07,390
and in after this conference when I

284
00:18:07,390 --> 00:18:11,040
clean up the crowd I will just put it in

285
00:18:11,040 --> 00:18:14,620
the github and hopefully you can help

286
00:18:14,620 --> 00:18:17,650
you to build a live streaming app for

287
00:18:17,650 --> 00:18:22,860
your company so our target is to build

288
00:18:22,860 --> 00:18:26,690
and our SVA

289
00:18:26,700 --> 00:18:29,170
let's do a division job first because

290
00:18:29,170 --> 00:18:31,690
react is a component based framework so

291
00:18:31,690 --> 00:18:35,310
we will need to divide a how app into

292
00:18:35,310 --> 00:18:42,640
pieces so the inner reffering is the

293
00:18:42,640 --> 00:18:46,480
radial component and the green one is

294
00:18:46,480 --> 00:18:50,020
the message component and blue one is

295
00:18:50,020 --> 00:18:53,520
the activity component the yellow one is

296
00:18:53,520 --> 00:18:58,150
the gift and payment component the red

297
00:18:58,150 --> 00:19:02,830
one will be the user component so as a

298
00:19:02,830 --> 00:19:09,040
whole they compose a room component and

299
00:19:09,040 --> 00:19:11,380
it's quite clear that the co structure

300
00:19:11,380 --> 00:19:17,710
will be like this so before you create

301
00:19:17,710 --> 00:19:20,200
app you can just pray you can just pray

302
00:19:20,200 --> 00:19:23,200
some empty components first and then you

303
00:19:23,200 --> 00:19:26,250
praise video chat feature and so on in

304
00:19:26,250 --> 00:19:30,060
in this structure in its wrapper and

305
00:19:30,060 --> 00:19:33,490
after that you can just fulfill the

306
00:19:33,490 --> 00:19:39,750
content of each component one by one so

307
00:19:39,750 --> 00:19:43,450
let's come to the most important part of

308
00:19:43,450 --> 00:19:47,530
video we have two kinds of video

309
00:19:47,530 --> 00:19:50,140
components as I mentioned before we have

310
00:19:50,140 --> 00:19:54,400
a live one and a pray by one and clearly

311
00:19:54,400 --> 00:19:58,210
the live one is the subset of pray bag

312
00:19:58,210 --> 00:20:02,020
so let's finish the moral compress one

313
00:20:02,020 --> 00:20:06,780
first let's do the division drop again

314
00:20:06,780 --> 00:20:10,510
here is the progress bar the pray bottom

315
00:20:10,510 --> 00:20:14,710
that they talk the audio bottom the

316
00:20:14,710 --> 00:20:16,720
audio controller

317
00:20:16,720 --> 00:20:19,900
and as a whole it is the controller and

318
00:20:19,900 --> 00:20:23,320
right above it it is the component to

319
00:20:23,320 --> 00:20:30,010
show the video so for the bottoms which

320
00:20:30,010 --> 00:20:33,730
is which has not so much change we can

321
00:20:33,730 --> 00:20:36,940
use a console abandon rack in react to

322
00:20:36,940 --> 00:20:44,770
represent and we can and all this come

323
00:20:44,770 --> 00:20:48,250
cause elements can compose it a praetor

324
00:20:48,250 --> 00:20:53,440
control so we can create another

325
00:20:53,440 --> 00:20:56,830
component to accommodate these elements

326
00:20:56,830 --> 00:20:59,440
and write some logics about how to

327
00:20:59,440 --> 00:21:04,900
control the video and since we know life

328
00:21:04,900 --> 00:21:07,240
control is the subset of pray back

329
00:21:07,240 --> 00:21:09,880
control we can just simply extends it

330
00:21:09,880 --> 00:21:14,560
and then we we can just do some small

331
00:21:14,560 --> 00:21:18,910
modification for example we know a live

332
00:21:18,910 --> 00:21:20,890
controller does not contain a progress

333
00:21:20,890 --> 00:21:25,090
bar we do not need to initiate the

334
00:21:25,090 --> 00:21:33,910
progress bar in this component and and

335
00:21:33,910 --> 00:21:37,930
then we use live control playback and we

336
00:21:37,930 --> 00:21:42,390
do text to form the whole life rooms and

337
00:21:42,390 --> 00:21:46,570
in this process we used hoc to help us

338
00:21:46,570 --> 00:21:51,790
to finish the job so what is hoc it is

339
00:21:51,790 --> 00:21:57,130
so for high high order component I think

340
00:21:57,130 --> 00:21:58,540
it is quite easy to for you to

341
00:21:58,540 --> 00:22:01,300
understand it is just like you put a

342
00:22:01,300 --> 00:22:05,640
Picard shoe and then it returns a Rachel

343
00:22:05,640 --> 00:22:08,980
now it it always returns a stronger one

344
00:22:08,980 --> 00:22:15,520
and then when you when you try to create

345
00:22:15,520 --> 00:22:17,500
a live room or private room you just put

346
00:22:17,500 --> 00:22:22,110
the video and a controller and does it

347
00:22:22,110 --> 00:22:24,340
so here's an example

348
00:22:24,340 --> 00:22:26,890
it is create a the pray back and room

349
00:22:26,890 --> 00:22:30,520
creator which is the is a an hoc

350
00:22:30,520 --> 00:22:34,300
and then you'll pray some metrics in in

351
00:22:34,300 --> 00:22:39,270
these components and then that's it and

352
00:22:39,270 --> 00:22:45,130
this is the same here so in a row it is

353
00:22:45,130 --> 00:22:48,309
just like a template you might think if

354
00:22:48,309 --> 00:22:52,510
you use hoc correctly you you can just

355
00:22:52,510 --> 00:22:56,440
create a different tamp raise for

356
00:22:56,440 --> 00:22:59,320
whatever the product manager asks you to

357
00:22:59,320 --> 00:23:02,770
do so if the manager hope to add the

358
00:23:02,770 --> 00:23:05,590
bullet screen you just put a Burris

359
00:23:05,590 --> 00:23:07,300
scream component here and then you just

360
00:23:07,300 --> 00:23:10,240
finish this component does it it's quite

361
00:23:10,240 --> 00:23:15,030
easy actually these are all concepts

362
00:23:15,030 --> 00:23:18,550
which you maybe see in other as one's

363
00:23:18,550 --> 00:23:21,540
programming languages but Reax is this

364
00:23:21,540 --> 00:23:24,760
is a new implementation of this new

365
00:23:24,760 --> 00:23:28,080
concept it and it is the perfect one for

366
00:23:28,080 --> 00:23:31,300
those elements does not change much the

367
00:23:31,300 --> 00:23:33,490
interest you easily use Khan's element

368
00:23:33,490 --> 00:23:36,910
to represent and for those components

369
00:23:36,910 --> 00:23:38,910
have a lot in common

370
00:23:38,910 --> 00:23:44,470
simply use extend and lastly for if you

371
00:23:44,470 --> 00:23:46,600
wanted to create different combinations

372
00:23:46,600 --> 00:23:55,660
you can use hoc after some chitchat I I

373
00:23:55,660 --> 00:23:58,360
will also like to show you how to

374
00:23:58,360 --> 00:24:05,080
control the video for life raucous it is

375
00:24:05,080 --> 00:24:07,660
not takes a long time you can just use

376
00:24:07,660 --> 00:24:13,929
m3u a if you use HLS and you can praise

377
00:24:13,929 --> 00:24:18,370
video tag here and as some logics to

378
00:24:18,370 --> 00:24:21,280
listen to the real events like like can

379
00:24:21,280 --> 00:24:26,890
play praying time update and etc for

380
00:24:26,890 --> 00:24:30,280
pray back it is also easy to but what if

381
00:24:30,280 --> 00:24:32,140
the product manager helps to support

382
00:24:32,140 --> 00:24:35,830
trom and then you may consider to use

383
00:24:35,830 --> 00:24:39,550
mp4 but what you use which is still use

384
00:24:39,550 --> 00:24:42,669
only one link and one video tag in this

385
00:24:42,669 --> 00:24:47,350
scenario I'm saying no I reused two or

386
00:24:47,350 --> 00:24:50,289
more widows text to help but the theory

387
00:24:50,289 --> 00:24:56,200
is the same as HLS because in HLS there

388
00:24:56,200 --> 00:25:00,100
are several pieces of TS virus but the

389
00:25:00,100 --> 00:25:02,259
browsers we would do the whole work for

390
00:25:02,259 --> 00:25:05,980
you if you just you just pray the first

391
00:25:05,980 --> 00:25:09,369
test fires and when if it is nearly

392
00:25:09,369 --> 00:25:13,230
finished it will load a second one

393
00:25:13,230 --> 00:25:16,330
here's the example we have three widow

394
00:25:16,330 --> 00:25:18,730
text here and when the first one is

395
00:25:18,730 --> 00:25:19,690
praying

396
00:25:19,690 --> 00:25:25,389
the other two are idle and for example

397
00:25:25,389 --> 00:25:27,789
there is 210 seconds to go in the first

398
00:25:27,789 --> 00:25:29,980
video you will start loading the second

399
00:25:29,980 --> 00:25:33,460
one and when I friend the first one

400
00:25:33,460 --> 00:25:35,379
finished the second one starts praying

401
00:25:35,379 --> 00:25:39,669
and the whole process loops and then

402
00:25:39,669 --> 00:25:42,489
this distinct theories I think is quite

403
00:25:42,489 --> 00:25:46,840
clear right and here are some

404
00:25:46,840 --> 00:25:49,960
compatibility issues on how to control

405
00:25:49,960 --> 00:25:51,940
the video button I will not go into

406
00:25:51,940 --> 00:25:54,249
details you can take a look after the

407
00:25:54,249 --> 00:26:03,609
conference so next I would show you how

408
00:26:03,609 --> 00:26:09,799
to lower the stream as far as I can

409
00:26:09,809 --> 00:26:12,519
there's something front-ends I cannot do

410
00:26:12,519 --> 00:26:17,080
but we can help the back ends I actually

411
00:26:17,080 --> 00:26:20,619
you're the size of group a GOP really

412
00:26:20,619 --> 00:26:25,119
matters in in this situation for example

413
00:26:25,119 --> 00:26:30,070
if the GOP is too big so it has a high

414
00:26:30,070 --> 00:26:35,049
solution but there is some downside the

415
00:26:35,049 --> 00:26:36,940
performance of the first screen will be

416
00:26:36,940 --> 00:26:41,230
slow and we have a high delay so we have

417
00:26:41,230 --> 00:26:44,460
to trade off we have to pick up

418
00:26:44,460 --> 00:26:48,460
relatively small size in acceptable

419
00:26:48,460 --> 00:26:54,380
range of resolution

420
00:26:54,390 --> 00:26:56,820
but they were sooo something the front

421
00:26:56,820 --> 00:27:02,430
ends I can do in react we can use server

422
00:27:02,430 --> 00:27:06,800
render which is core in some morphic and

423
00:27:06,800 --> 00:27:11,420
there are three options here to and from

424
00:27:11,420 --> 00:27:17,040
left to right the performance will be

425
00:27:17,040 --> 00:27:19,710
with the worse for the big pie it is it

426
00:27:19,710 --> 00:27:22,320
has a it has the best performance before

427
00:27:22,320 --> 00:27:25,710
the window data a scrape it has the the

428
00:27:25,710 --> 00:27:27,780
worst performance but it is still

429
00:27:27,780 --> 00:27:31,050
slightly better than the app without

430
00:27:31,050 --> 00:27:37,770
server and ax so one is window data for

431
00:27:37,770 --> 00:27:41,400
example you create a an express server

432
00:27:41,400 --> 00:27:45,030
and then you just load the CGI the API

433
00:27:45,030 --> 00:27:47,610
and then you just put the data in a

434
00:27:47,610 --> 00:27:50,760
script and after the server render the

435
00:27:50,760 --> 00:27:53,730
whole structure the jas in the front and

436
00:27:53,730 --> 00:27:56,310
we just gather data from the script and

437
00:27:56,310 --> 00:27:59,130
then it is and then it was render the

438
00:27:59,130 --> 00:28:07,530
whole structure however from the right

439
00:28:07,530 --> 00:28:10,200
the right one is is the easiest to

440
00:28:10,200 --> 00:28:15,480
implement for big PI you have to do a

441
00:28:15,480 --> 00:28:17,220
lot of work like change the whole

442
00:28:17,220 --> 00:28:20,340
structure of of your logic and you have

443
00:28:20,340 --> 00:28:23,460
to also modify the building too to build

444
00:28:23,460 --> 00:28:27,060
an app so for me I will use just use

445
00:28:27,060 --> 00:28:29,370
render to stream it has a relatively

446
00:28:29,370 --> 00:28:32,850
better performance and you don't have to

447
00:28:32,850 --> 00:28:36,870
change a lot in in your app you just you

448
00:28:36,870 --> 00:28:39,270
just use render to stream API in a react

449
00:28:39,270 --> 00:28:44,970
and does it so after I finished the we

450
00:28:44,970 --> 00:28:48,330
do part I will introduce the interacting

451
00:28:48,330 --> 00:28:52,830
part in a live room there are three

452
00:28:52,830 --> 00:28:55,710
pictures here for the first one it shows

453
00:28:55,710 --> 00:28:58,740
you the messages and a second one it has

454
00:28:58,740 --> 00:29:02,310
some like faces you can send to the

455
00:29:02,310 --> 00:29:04,470
anchor to express your

456
00:29:04,470 --> 00:29:08,950
fillings right now and the right one it

457
00:29:08,950 --> 00:29:14,080
offers some gifts for you to send to the

458
00:29:14,080 --> 00:29:18,190
house if you like this tanker so there

459
00:29:18,190 --> 00:29:20,230
are also three choices for you to build

460
00:29:20,230 --> 00:29:24,190
this interactive part we have a

461
00:29:24,190 --> 00:29:28,180
WebSocket which is the future choice but

462
00:29:28,180 --> 00:29:30,790
since it has some compatibility issue

463
00:29:30,790 --> 00:29:34,720
and some polyfill to finish this job is

464
00:29:34,720 --> 00:29:37,630
quite large so I will just dumb this

465
00:29:37,630 --> 00:29:42,460
choice but I will take a look at mckee

466
00:29:42,460 --> 00:29:46,480
p-- watching how the community solve

467
00:29:46,480 --> 00:29:48,990
these problems and if in the future the

468
00:29:48,990 --> 00:29:52,150
browsers a more browsers we support the

469
00:29:52,150 --> 00:29:54,430
WebSocket feature I returned through

470
00:29:54,430 --> 00:29:58,060
this option for the second one event

471
00:29:58,060 --> 00:30:02,470
source since it has a once I

472
00:30:02,470 --> 00:30:05,110
communication feature so it is also not

473
00:30:05,110 --> 00:30:07,860
good for building the interview

474
00:30:07,860 --> 00:30:11,680
interactive feature so lastly I would

475
00:30:11,680 --> 00:30:16,120
choose long polling it is a cross

476
00:30:16,120 --> 00:30:22,540
browser option you can just use it you

477
00:30:22,540 --> 00:30:26,020
can just use Ajax to finish this feature

478
00:30:26,020 --> 00:30:29,380
and it is not used up too much servers

479
00:30:29,380 --> 00:30:31,270
to resources so it is quite a good

480
00:30:31,270 --> 00:30:36,610
choice one last thing don't forget to

481
00:30:36,610 --> 00:30:39,910
control the dom numbers because when the

482
00:30:39,910 --> 00:30:44,860
users send a lot of messages and the dom

483
00:30:44,860 --> 00:30:48,490
numbers will just increase immediately

484
00:30:48,490 --> 00:30:51,370
so we have to in control the numbers to

485
00:30:51,370 --> 00:30:56,620
avoid rendering issues in this app so

486
00:30:56,620 --> 00:31:01,930
the second case is about activity which

487
00:31:01,930 --> 00:31:04,060
is also the important part because we

488
00:31:04,060 --> 00:31:07,990
need to rely on this part to survive we

489
00:31:07,990 --> 00:31:12,810
need to attract the users to pay our app

490
00:31:12,810 --> 00:31:15,340
we have to client different kinds of

491
00:31:15,340 --> 00:31:17,710
activities here like

492
00:31:17,710 --> 00:31:21,520
kajoor gift game or discount for each

493
00:31:21,520 --> 00:31:28,620
charge and some requests and and

494
00:31:28,620 --> 00:31:33,700
actually we can see in the left side it

495
00:31:33,700 --> 00:31:36,789
is a PC version of luggage or activity

496
00:31:36,789 --> 00:31:40,659
and on the right side it is the mobile

497
00:31:40,659 --> 00:31:44,830
version of lucky Joel and there there

498
00:31:44,830 --> 00:31:46,960
were a lot of components we can really

499
00:31:46,960 --> 00:31:50,289
use and when we when we finish the left

500
00:31:50,289 --> 00:31:52,840
one we will just copy the code and do

501
00:31:52,840 --> 00:31:56,890
some modification in CSS styles and we

502
00:31:56,890 --> 00:32:02,590
can tackle it using what using just one

503
00:32:02,590 --> 00:32:11,260
developer account but in this case what

504
00:32:11,260 --> 00:32:14,080
I want to show you is is that rillette

505
00:32:14,080 --> 00:32:16,929
is too heavy for this kind of pages and

506
00:32:16,929 --> 00:32:20,470
when I try to recommend react to my

507
00:32:20,470 --> 00:32:22,990
colleagues in such kind of activities

508
00:32:22,990 --> 00:32:25,899
they refers to use it why because the

509
00:32:25,899 --> 00:32:29,520
thing is too it is too heavy of activity

510
00:32:29,520 --> 00:32:33,279
pages so I would recommend you react in

511
00:32:33,279 --> 00:32:38,860
this case it is a library solution in a

512
00:32:38,860 --> 00:32:42,010
community and it has also has a good

513
00:32:42,010 --> 00:32:45,309
performance you can use with exactly the

514
00:32:45,309 --> 00:32:49,929
same react API and Jas and the code base

515
00:32:49,929 --> 00:32:53,169
of this project is quite small and and

516
00:32:53,169 --> 00:32:55,750
our team started to contribute to this

517
00:32:55,750 --> 00:33:00,360
project in order to fulfill our target

518
00:33:00,360 --> 00:33:05,860
and here is the benchmark you can see

519
00:33:05,860 --> 00:33:08,830
the the performance of this framer is

520
00:33:08,830 --> 00:33:12,220
not that bad and in some I am in some

521
00:33:12,220 --> 00:33:17,970
tasks it is also better than react and

522
00:33:17,970 --> 00:33:21,549
the most impressed impressive thing is

523
00:33:21,549 --> 00:33:27,100
that pre L only has 10 KB and even you

524
00:33:27,100 --> 00:33:28,740
you add prayer

525
00:33:28,740 --> 00:33:33,690
act come back to use foo api's with

526
00:33:33,690 --> 00:33:34,470
react

527
00:33:34,470 --> 00:33:39,330
it only has 14 KB to the whole bundle

528
00:33:39,330 --> 00:33:44,270
but comparing to react if you use react

529
00:33:44,270 --> 00:33:49,770
it occupies more than 100 KB and that's

530
00:33:49,770 --> 00:33:54,840
quite a lot and here is thickly yourself

531
00:33:54,840 --> 00:33:56,490
it would be good if you couldn't wrap up

532
00:33:56,490 --> 00:33:58,260
in the next two minutes sorry

533
00:33:58,260 --> 00:34:00,360
it would be good if you can wrap up in

534
00:34:00,360 --> 00:34:03,570
the next two minutes depth yes III am

535
00:34:03,570 --> 00:34:06,990
you finished and and here's lays off

536
00:34:06,990 --> 00:34:10,139
like lightweight solutions and you can

537
00:34:10,139 --> 00:34:13,050
take a look at it when you go back home

538
00:34:13,050 --> 00:34:20,520
and yep this is the end of my topic and

539
00:34:20,520 --> 00:34:23,369
today I have already talked about

540
00:34:23,369 --> 00:34:26,850
livestream this is the content we would

541
00:34:26,850 --> 00:34:29,490
like to provide and we use react to be

542
00:34:29,490 --> 00:34:32,820
the whole things so hopefully I this

543
00:34:32,820 --> 00:34:35,790
lecture will tell you how to build the

544
00:34:35,790 --> 00:34:38,010
whole thing in like one week or two

545
00:34:38,010 --> 00:34:42,300
weeks so thank you thank you

546
00:34:42,300 --> 00:34:43,190
same thing

547
00:34:43,190 --> 00:34:52,560
[Applause]

