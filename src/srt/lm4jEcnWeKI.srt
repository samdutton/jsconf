1
00:00:37,830 --> 00:00:41,620

all right I'd like to say that kudos to

2
00:00:41,620 --> 00:00:44,170
the Microsoft guys because if I was at a

3
00:00:44,170 --> 00:00:45,790
Jay s comp I would never want to open

4
00:00:45,790 --> 00:00:50,440
with where the guys who made a E but the

5
00:00:50,440 --> 00:00:52,180
I'm sure the latest ID is awesome though

6
00:00:52,180 --> 00:00:54,310
how many people here ever develop for

7
00:00:54,310 --> 00:00:55,750
ie6 ends up

8
00:00:55,750 --> 00:01:01,420
I wasn't those guys all right so I

9
00:01:01,420 --> 00:01:04,689
worked for ice we end up I'm a technical

10
00:01:04,689 --> 00:01:07,299
lead there I end up working on a lot of

11
00:01:07,299 --> 00:01:09,969
very complex business problems and at

12
00:01:09,969 --> 00:01:13,450
work I wrote a couple of dsls part of my

13
00:01:13,450 --> 00:01:17,859
job is to coach other engineers on how

14
00:01:17,859 --> 00:01:20,530
to do their job and one of the things

15
00:01:20,530 --> 00:01:23,139
that I've wanted to speak on but I just

16
00:01:23,139 --> 00:01:24,310
hadn't had the time to pull the talk

17
00:01:24,310 --> 00:01:26,639
together I was writing custom dsls

18
00:01:26,639 --> 00:01:29,499
so when there was a call for speakers of

19
00:01:29,499 --> 00:01:31,240
jazz calm face admitted it got accepted

20
00:01:31,240 --> 00:01:32,829
and somehow it got to be the first for

21
00:01:32,829 --> 00:01:34,689
this track thank you very much Jay Escom

22
00:01:34,689 --> 00:01:36,759
for accepting me and I'm honored to be

23
00:01:36,759 --> 00:01:42,609
to kick off this conference all right so

24
00:01:42,609 --> 00:01:44,229
we're gonna break up the talked into

25
00:01:44,229 --> 00:01:46,689
four sections the evolutionary history

26
00:01:46,689 --> 00:01:48,969
of dsls to give us all some context to

27
00:01:48,969 --> 00:01:51,749
how we got there what a do cell is

28
00:01:51,749 --> 00:01:54,009
defining your DSL is grammar and

29
00:01:54,009 --> 00:01:56,799
implementing your DSL all right

30
00:01:56,799 --> 00:02:00,399
evolutionary history of DSL so for the

31
00:02:00,399 --> 00:02:01,959
history of programming we've always been

32
00:02:01,959 --> 00:02:04,630
trying to create a machine language that

33
00:02:04,630 --> 00:02:07,359
reads like a human language when we

34
00:02:07,359 --> 00:02:10,240
first started out we said let's use

35
00:02:10,240 --> 00:02:12,130
punch cards fun fact

36
00:02:12,130 --> 00:02:13,450
turns out punch cards have been used

37
00:02:13,450 --> 00:02:15,190
since the 17th century

38
00:02:15,190 --> 00:02:17,140
for programming moons I didn't know that

39
00:02:17,140 --> 00:02:18,610
and they were used all the way up until

40
00:02:18,610 --> 00:02:20,560
the 80s until they invented monitors and

41
00:02:20,560 --> 00:02:23,620
keyboards low level languages like

42
00:02:23,620 --> 00:02:26,530
assembly that basically read like gibble

43
00:02:26,530 --> 00:02:30,460
D Guk higher level languages where we

44
00:02:30,460 --> 00:02:33,160
started to see human words like if and

45
00:02:33,160 --> 00:02:37,210
else and end and do then we got even

46
00:02:37,210 --> 00:02:39,040
higher level languages that allowed you

47
00:02:39,040 --> 00:02:42,040
to express things that were again more

48
00:02:42,040 --> 00:02:44,740
human and more natural and that led us

49
00:02:44,740 --> 00:02:47,940
up to object-oriented languages now

50
00:02:47,940 --> 00:02:50,710
object-oriented languages or the purpose

51
00:02:50,710 --> 00:02:53,050
of them is that you can use them to

52
00:02:53,050 --> 00:02:56,770
represent you know real world stuff but

53
00:02:56,770 --> 00:02:59,380
encode by creating computer models and

54
00:02:59,380 --> 00:03:03,280
domain modeling is the you know the the

55
00:03:03,280 --> 00:03:05,980
methodology if you will of taking

56
00:03:05,980 --> 00:03:07,960
something that you see in the real world

57
00:03:07,960 --> 00:03:10,360
and making a computer model of it now

58
00:03:10,360 --> 00:03:12,730
the fact is that doesn't happen well my

59
00:03:12,730 --> 00:03:14,440
opinion nearly often enough but

60
00:03:14,440 --> 00:03:18,040
generally speaking we tend to just use

61
00:03:18,040 --> 00:03:20,739
you know models when it comes to models

62
00:03:20,739 --> 00:03:22,420
we think of them as just data transfer

63
00:03:22,420 --> 00:03:24,670
objects if you look at just about any

64
00:03:24,670 --> 00:03:26,260
framework out there they're all saying

65
00:03:26,260 --> 00:03:28,060
you know here's how you use our models

66
00:03:28,060 --> 00:03:29,590
and this is our models and models and

67
00:03:29,590 --> 00:03:31,600
models and all there most times all

68
00:03:31,600 --> 00:03:34,180
they're really saying is this is how you

69
00:03:34,180 --> 00:03:37,959
trance data back back and forth but when

70
00:03:37,959 --> 00:03:40,600
you actually do a domain model when you

71
00:03:40,600 --> 00:03:42,520
actually model your domain you end up

72
00:03:42,520 --> 00:03:45,700
with something that is much you know

73
00:03:45,700 --> 00:03:48,430
conceptually bigger and more important

74
00:03:48,430 --> 00:03:51,820
and the persistence layer the database

75
00:03:51,820 --> 00:03:53,620
the presentation layer the user

76
00:03:53,620 --> 00:03:56,650
interface tend to be much simpler in

77
00:03:56,650 --> 00:03:58,239
comparison if you think of something

78
00:03:58,239 --> 00:04:00,220
like Bank of America and you you know or

79
00:04:00,220 --> 00:04:02,019
sorry any that's my bank if you look at

80
00:04:02,019 --> 00:04:04,780
any banking interface you know the the

81
00:04:04,780 --> 00:04:06,430
stuff you see on the screen and the

82
00:04:06,430 --> 00:04:07,810
stuff that's going Oracle or whatnot

83
00:04:07,810 --> 00:04:10,239
pales in comparison to all of the

84
00:04:10,239 --> 00:04:12,130
business logic that's responsible for

85
00:04:12,130 --> 00:04:15,340
transfers and international monies and

86
00:04:15,340 --> 00:04:16,810
all the rest of that the clearing goes

87
00:04:16,810 --> 00:04:19,269
with it when we talk about the MVC

88
00:04:19,269 --> 00:04:23,620
pattern the M in MVC is you know they

89
00:04:23,620 --> 00:04:25,150
use the word model for a reason they

90
00:04:25,150 --> 00:04:28,440
sort of want your m2

91
00:04:28,440 --> 00:04:32,220
be your domain model so that it you know

92
00:04:32,220 --> 00:04:34,020
you that is where all of your business

93
00:04:34,020 --> 00:04:35,760
logic lives and then you've got these

94
00:04:35,760 --> 00:04:39,270
other ancillary things to make a domain

95
00:04:39,270 --> 00:04:41,280
model and by the way that's that's one

96
00:04:41,280 --> 00:04:42,750
of the many things like cochon is just

97
00:04:42,750 --> 00:04:44,340
how to get an engineer to start thinking

98
00:04:44,340 --> 00:04:45,720
about how to make your own domain model

99
00:04:45,720 --> 00:04:47,250
I think it's relatively straightforward

100
00:04:47,250 --> 00:04:51,720
and simple but it's it's something that

101
00:04:51,720 --> 00:04:53,190
requires a lot of practice until it

102
00:04:53,190 --> 00:04:55,110
becomes second nature understand your

103
00:04:55,110 --> 00:04:56,730
domain model your domain implement your

104
00:04:56,730 --> 00:05:00,090
domain understanding your domain is this

105
00:05:00,090 --> 00:05:03,510
process it starts off with speaking with

106
00:05:03,510 --> 00:05:05,100
your customer and developing a mutual

107
00:05:05,100 --> 00:05:07,410
language that is crazy important and

108
00:05:07,410 --> 00:05:09,180
will be a theme for the rest of this

109
00:05:09,180 --> 00:05:12,950
talk the model begins with this idea of

110
00:05:12,950 --> 00:05:15,930
what is your domain so that I can

111
00:05:15,930 --> 00:05:18,320
understand it so that I can build it

112
00:05:18,320 --> 00:05:21,690
good model your domain in UML just need

113
00:05:21,690 --> 00:05:22,950
a UML sketch you don't need anything

114
00:05:22,950 --> 00:05:25,290
very complicated when you come to

115
00:05:25,290 --> 00:05:26,730
implementing your domain you got a

116
00:05:26,730 --> 00:05:28,050
series of choices and I'm going to take

117
00:05:28,050 --> 00:05:30,660
you through one is you can sort of

118
00:05:30,660 --> 00:05:33,330
listen remember what you say go back to

119
00:05:33,330 --> 00:05:35,280
your desk and just start typing and hope

120
00:05:35,280 --> 00:05:36,330
to god that you remembered everything

121
00:05:36,330 --> 00:05:38,880
properly a better way to do it is to

122
00:05:38,880 --> 00:05:40,710
write your test first then write your

123
00:05:40,710 --> 00:05:43,320
code to pass your test but when you do

124
00:05:43,320 --> 00:05:45,180
that when you invert the order with

125
00:05:45,180 --> 00:05:47,970
which you you code meaning testing

126
00:05:47,970 --> 00:05:50,669
testing first you've got two choices

127
00:05:50,669 --> 00:05:57,600
that you can make there for I just got

128
00:05:57,600 --> 00:05:59,010
freaked out because there's a little

129
00:05:59,010 --> 00:06:00,690
green bar in my screen and then there's

130
00:06:00,690 --> 00:06:02,340
a little counter thing and they don't

131
00:06:02,340 --> 00:06:05,370
line up and I want them to so I'm gonna

132
00:06:05,370 --> 00:06:07,320
hold on all right I'm gonna keep going

133
00:06:07,320 --> 00:06:08,910
there we go

134
00:06:08,910 --> 00:06:12,030
so you have a choice of writing tests by

135
00:06:12,030 --> 00:06:13,860
yourself or you have a choice of writing

136
00:06:13,860 --> 00:06:16,200
tests with the customer when you write

137
00:06:16,200 --> 00:06:17,580
your tests by yourself

138
00:06:17,580 --> 00:06:19,740
it's called test-driven development when

139
00:06:19,740 --> 00:06:20,850
you write them with the customer

140
00:06:20,850 --> 00:06:22,550
it's called behavior driven development

141
00:06:22,550 --> 00:06:24,750
there's an example of what a behavior

142
00:06:24,750 --> 00:06:26,400
driven development set of spec tests

143
00:06:26,400 --> 00:06:29,190
look like if you're working with your

144
00:06:29,190 --> 00:06:31,770
customer to develop these tests as you

145
00:06:31,770 --> 00:06:33,800
should if you're modeling their domain

146
00:06:33,800 --> 00:06:36,479
you're going to end up with a synergy

147
00:06:36,479 --> 00:06:39,240
between what they how they're describing

148
00:06:39,240 --> 00:06:41,240
their expectations Oh

149
00:06:41,240 --> 00:06:42,919
the domain is and the mutual language

150
00:06:42,919 --> 00:06:45,530
you two came up with and when you do

151
00:06:45,530 --> 00:06:47,810
this enough it's it begins to occur to

152
00:06:47,810 --> 00:06:50,630
you that why are you the program are

153
00:06:50,630 --> 00:06:52,849
even involved because they're nirvana

154
00:06:52,849 --> 00:06:56,349
would be just let the customer in

155
00:06:56,349 --> 00:06:58,940
express their expectations directly in

156
00:06:58,940 --> 00:07:01,849
the code and that's what DSR holes are

157
00:07:01,849 --> 00:07:07,039
for now here's what a DSL is there's

158
00:07:07,039 --> 00:07:10,130
three aspects of a DSL the grammar those

159
00:07:10,130 --> 00:07:11,780
are the syntax and the words that make

160
00:07:11,780 --> 00:07:14,900
it up the implementation which is the

161
00:07:14,900 --> 00:07:16,759
code that obviously implements it and

162
00:07:16,759 --> 00:07:19,789
then the rules that are that use the

163
00:07:19,789 --> 00:07:22,180
grammar to express something useful

164
00:07:22,180 --> 00:07:25,580
we're very used to DSL zwy sequel

165
00:07:25,580 --> 00:07:26,750
regular expressions in UNIX shell

166
00:07:26,750 --> 00:07:29,120
scripts they're all dsls and the

167
00:07:29,120 --> 00:07:31,250
JavaScript community we've got a really

168
00:07:31,250 --> 00:07:33,620
good culture of wrapping complex

169
00:07:33,620 --> 00:07:36,380
technical domains and dsls jQuery

170
00:07:36,380 --> 00:07:38,720
obviously in some of my favorites I love

171
00:07:38,720 --> 00:07:42,250
d3.js and I use mocha chai a lot and

172
00:07:42,250 --> 00:07:45,949
gulp is something that will go up is

173
00:07:45,949 --> 00:07:47,210
something that we're probably going to

174
00:07:47,210 --> 00:07:51,830
switch to before too long at work so DSL

175
00:07:51,830 --> 00:07:54,710
generally old ESL's they make complex

176
00:07:54,710 --> 00:07:58,310
problems simple that's their goal sequel

177
00:07:58,310 --> 00:07:59,840
for example makes dealing with

178
00:07:59,840 --> 00:08:03,590
relational data very simple in the

179
00:08:03,590 --> 00:08:05,570
business world there are lots of

180
00:08:05,570 --> 00:08:08,750
incredibly complex domains that come

181
00:08:08,750 --> 00:08:10,310
from multiple industries and when you

182
00:08:10,310 --> 00:08:12,770
think about the domain problems in the

183
00:08:12,770 --> 00:08:13,490
business world

184
00:08:13,490 --> 00:08:15,440
they're not just domain problems their

185
00:08:15,440 --> 00:08:17,180
domain problems within domain problems

186
00:08:17,180 --> 00:08:19,610
within domain problems if you stop for a

187
00:08:19,610 --> 00:08:21,409
second and think about well what how

188
00:08:21,409 --> 00:08:24,289
would I model health insurance you know

189
00:08:24,289 --> 00:08:26,630
you can go as high up to you know the

190
00:08:26,630 --> 00:08:29,060
definition of a policy and as low down

191
00:08:29,060 --> 00:08:32,810
to you know where what is the inventory

192
00:08:32,810 --> 00:08:35,630
of this pill versus the generic pill and

193
00:08:35,630 --> 00:08:37,550
when should I use the generic pill when

194
00:08:37,550 --> 00:08:38,990
it's not in inventory and things like

195
00:08:38,990 --> 00:08:42,349
that the key difference between business

196
00:08:42,349 --> 00:08:47,480
DSL and and technical dsls is that the

197
00:08:47,480 --> 00:08:50,199
business dsls come from the customer

198
00:08:50,199 --> 00:08:52,699
meaning the grammar of the DSL it comes

199
00:08:52,699 --> 00:08:55,070
from the customer when you're developing

200
00:08:55,070 --> 00:08:57,050
technical DSL you as the programmer

201
00:08:57,050 --> 00:08:58,580
pretty much know everything you need to

202
00:08:58,580 --> 00:09:01,190
know but for a business DSL you need to

203
00:09:01,190 --> 00:09:02,840
get it from hopefully the subject matter

204
00:09:02,840 --> 00:09:06,290
expert so to illustrate that I'm going

205
00:09:06,290 --> 00:09:09,230
to take you through defining a DSL

206
00:09:09,230 --> 00:09:13,310
grammar so the easiest way I thought to

207
00:09:13,310 --> 00:09:16,400
explain this is with a semi real-world

208
00:09:16,400 --> 00:09:18,710
example where we're going to take our

209
00:09:18,710 --> 00:09:21,710
lovable security guard Paul with our

210
00:09:21,710 --> 00:09:24,410
customer Chuck and we're going to use an

211
00:09:24,410 --> 00:09:27,470
alarm system as the domain model so the

212
00:09:27,470 --> 00:09:30,880
idea for this exercise is to say that

213
00:09:30,880 --> 00:09:35,800
Chuck is going to work with Paul to

214
00:09:35,800 --> 00:09:37,940
configure the alarm system so in this

215
00:09:37,940 --> 00:09:40,430
way this is what these business DSL czar

216
00:09:40,430 --> 00:09:43,100
trying to do think of an alarm system

217
00:09:43,100 --> 00:09:44,960
like the domain model or the state

218
00:09:44,960 --> 00:09:47,000
machine where it's behavior changes

219
00:09:47,000 --> 00:09:50,240
based upon how you configure it so the

220
00:09:50,240 --> 00:09:53,480
idea is that Chuck is going to tell Bob

221
00:09:53,480 --> 00:09:57,830
to configure a alarm domain model now

222
00:09:57,830 --> 00:09:59,150
I'm saying the same thing repeatedly

223
00:09:59,150 --> 00:10:01,900
because I want to drive this point home

224
00:10:01,900 --> 00:10:05,330
the alarm has lots of different

225
00:10:05,330 --> 00:10:07,630
intricate pieces that are within it and

226
00:10:07,630 --> 00:10:10,160
everything from smoke alarms to motion

227
00:10:10,160 --> 00:10:11,930
detectors and things like that the key

228
00:10:11,930 --> 00:10:13,790
there is Chuck really doesn't care about

229
00:10:13,790 --> 00:10:16,730
any of that and the way in which he asks

230
00:10:16,730 --> 00:10:19,430
for the alarm to be configured is as

231
00:10:19,430 --> 00:10:22,490
follows having a conversation with Paul

232
00:10:22,490 --> 00:10:24,230
hey Paul how's it going

233
00:10:24,230 --> 00:10:26,060
yesterday our office admin came in early

234
00:10:26,060 --> 00:10:27,650
to set up for the company's weekly

235
00:10:27,650 --> 00:10:29,180
status meeting but he couldn't remember

236
00:10:29,180 --> 00:10:31,010
the codes turn off the alarm the cops

237
00:10:31,010 --> 00:10:32,270
had to come out and he tried to explain

238
00:10:32,270 --> 00:10:33,980
that he was an employee because he had a

239
00:10:33,980 --> 00:10:35,720
key but then believed him and ended up

240
00:10:35,720 --> 00:10:37,550
calling me we have the same meeting

241
00:10:37,550 --> 00:10:40,190
every Monday morning so can we just not

242
00:10:40,190 --> 00:10:41,800
have the alarm set so he doesn't need

243
00:10:41,800 --> 00:10:44,810
doesn't need the alarm code to get in so

244
00:10:44,810 --> 00:10:46,880
Paul goes ahead and let's try to

245
00:10:46,880 --> 00:10:48,770
remember that long conversation goes

246
00:10:48,770 --> 00:10:50,390
back to his you know a little management

247
00:10:50,390 --> 00:10:52,840
console and and does his best to

248
00:10:52,840 --> 00:10:55,760
configure the alarm system as he

249
00:10:55,760 --> 00:10:58,340
remembered Paul saying it sorry as you

250
00:10:58,340 --> 00:10:59,930
remember Chuck saying it and of course

251
00:10:59,930 --> 00:11:02,660
Chuck comes back and says hey Bal what's

252
00:11:02,660 --> 00:11:04,520
up I know I asked you not to have the

253
00:11:04,520 --> 00:11:06,380
alarm set for our weekly status meetings

254
00:11:06,380 --> 00:11:07,520
but during Memorial Day

255
00:11:07,520 --> 00:11:09,500
I was worried that we had the alarm off

256
00:11:09,500 --> 00:11:11,390
when we should have had it on and a

257
00:11:11,390 --> 00:11:12,770
friend of mine whose business got robbed

258
00:11:12,770 --> 00:11:14,660
in July force because I I guess they

259
00:11:14,660 --> 00:11:17,180
figured no one would be there so this

260
00:11:17,180 --> 00:11:18,860
back and forth is pretty much what it

261
00:11:18,860 --> 00:11:20,660
means to be a programmer unfortunately

262
00:11:20,660 --> 00:11:23,060
and I I would say it's probably my least

263
00:11:23,060 --> 00:11:26,240
favorite part of writing software is

264
00:11:26,240 --> 00:11:29,180
this is this this back and forth that

265
00:11:29,180 --> 00:11:30,920
happens maybe some people like it I

266
00:11:30,920 --> 00:11:32,840
personally don't like it and that's why

267
00:11:32,840 --> 00:11:35,300
I got good at writing TS else is I

268
00:11:35,300 --> 00:11:36,710
wanted to not do this anymore

269
00:11:36,710 --> 00:11:38,750
and Paul reaches the same conclusion he

270
00:11:38,750 --> 00:11:40,190
says you know what if I could just let

271
00:11:40,190 --> 00:11:42,200
chuck configure his own alarm system

272
00:11:42,200 --> 00:11:44,510
then I'd be I'd be out of this game and

273
00:11:44,510 --> 00:11:48,290
much happier so the way we do this is to

274
00:11:48,290 --> 00:11:51,590
build a grammar based upon what Chuck

275
00:11:51,590 --> 00:11:53,330
has said is we'll just review the

276
00:11:53,330 --> 00:11:54,770
conversation that we had with them and

277
00:11:54,770 --> 00:11:57,500
we'll drop out all the words that really

278
00:11:57,500 --> 00:11:59,270
don't mean anything they're just you

279
00:11:59,270 --> 00:12:00,770
know they're just transitionary words

280
00:12:00,770 --> 00:12:02,630
they don't carry useful information and

281
00:12:02,630 --> 00:12:04,460
then we'll split up the nouns and the

282
00:12:04,460 --> 00:12:07,370
verbs now I'm using verb and now a

283
00:12:07,370 --> 00:12:09,620
little bit loosely here I'm not I was

284
00:12:09,620 --> 00:12:11,960
never an English major run with it I

285
00:12:11,960 --> 00:12:13,220
think you guys know what I'm trying to

286
00:12:13,220 --> 00:12:16,580
say there so we what nouns you know

287
00:12:16,580 --> 00:12:19,100
physical things verbs stuff you do to

288
00:12:19,100 --> 00:12:22,310
stuff we're gonna go ahead and clean up

289
00:12:22,310 --> 00:12:24,590
that grammar we'll just flip back to

290
00:12:24,590 --> 00:12:26,480
that for a second so we have nouns like

291
00:12:26,480 --> 00:12:30,230
our office admin code alarm yesterday

292
00:12:30,230 --> 00:12:32,300
early weekly yeah this is this is the

293
00:12:32,300 --> 00:12:34,010
raw material from which you're going to

294
00:12:34,010 --> 00:12:37,250
pull your grammar out of so now that we

295
00:12:37,250 --> 00:12:39,410
have this we're going to start to dig in

296
00:12:39,410 --> 00:12:41,240
and apply some common sense to it right

297
00:12:41,240 --> 00:12:43,430
so it seems that we have things and then

298
00:12:43,430 --> 00:12:45,950
we have time so I'm gonna you know make

299
00:12:45,950 --> 00:12:48,110
some edits here and say rather Paul

300
00:12:48,110 --> 00:12:50,270
who's going to make some edits here our

301
00:12:50,270 --> 00:12:52,910
really means company you know office

302
00:12:52,910 --> 00:12:55,010
admin really means employee and role etc

303
00:12:55,010 --> 00:12:57,590
etc set is really when he said set the

304
00:12:57,590 --> 00:13:00,590
alarm it's a synonym for you know on and

305
00:13:00,590 --> 00:13:02,660
then we have early I'd make some

306
00:13:02,660 --> 00:13:04,910
assumptions about what early is weekly

307
00:13:04,910 --> 00:13:08,450
means every and week every Monday

308
00:13:08,450 --> 00:13:09,860
morning actually you can combine

309
00:13:09,860 --> 00:13:12,230
different things we already have like

310
00:13:12,230 --> 00:13:15,230
every a day and and a time range from

311
00:13:15,230 --> 00:13:17,570
Memorial Day in July fourth we have an

312
00:13:17,570 --> 00:13:22,130
opportunity to use an idiom idioms are

313
00:13:22,130 --> 00:13:24,709
the most powerful technique you have

314
00:13:24,709 --> 00:13:27,110
when writing a DSL for simplification an

315
00:13:27,110 --> 00:13:30,800
idiom is a word or a phrase with some

316
00:13:30,800 --> 00:13:36,260
implied useful meaning for for us when

317
00:13:36,260 --> 00:13:37,550
he sent Memorial Day when he said

318
00:13:37,550 --> 00:13:38,600
Independence Day

319
00:13:38,600 --> 00:13:40,490
he probably just meant federal holiday

320
00:13:40,490 --> 00:13:42,260
it was just being too specific so I'm

321
00:13:42,260 --> 00:13:43,399
gonna make the decision Paul's gonna

322
00:13:43,399 --> 00:13:45,290
make the decision to replace the

323
00:13:45,290 --> 00:13:47,089
specifics of Memorial Day and

324
00:13:47,089 --> 00:13:49,399
Independence Day well with just federal

325
00:13:49,399 --> 00:13:51,709
holiday so I go back update the grammar

326
00:13:51,709 --> 00:13:53,570
sheet again it's looking pretty clean

327
00:13:53,570 --> 00:13:56,720
looking you know pretty obvious now what

328
00:13:56,720 --> 00:13:59,570
I have to do is go back Paul I'm sorry

329
00:13:59,570 --> 00:14:01,399
I believe it or not there is no Paul

330
00:14:01,399 --> 00:14:04,850
actually I made this presentation the

331
00:14:04,850 --> 00:14:09,079
we're gonna reconstruct the no one

332
00:14:09,079 --> 00:14:10,640
laughed at that and that's okay that's

333
00:14:10,640 --> 00:14:12,860
one everybody know that that's cool

334
00:14:12,860 --> 00:14:17,390
the I'm gonna reconstruct what Chuck

335
00:14:17,390 --> 00:14:20,480
wanted with my new grammar and it turns

336
00:14:20,480 --> 00:14:23,450
out that it's just alarm on weekdays at

337
00:14:23,450 --> 00:14:24,589
8 a.m. to 6 p.m.

338
00:14:24,589 --> 00:14:27,890
alarm off Mondays etc alarm on federal

339
00:14:27,890 --> 00:14:29,540
holidays and actually introduced another

340
00:14:29,540 --> 00:14:31,730
idiom of weekdays which I take to mean

341
00:14:31,730 --> 00:14:33,829
every Monday or Friday that's probably

342
00:14:33,829 --> 00:14:37,430
what Chuck means so now I put back in

343
00:14:37,430 --> 00:14:40,520
some transitionary human words and we

344
00:14:40,520 --> 00:14:42,709
get the alarm system should be on every

345
00:14:42,709 --> 00:14:45,589
weekday between 8 a.m. and 6 p.m. but

346
00:14:45,589 --> 00:14:47,570
the alarm should be off Mondays from 6

347
00:14:47,570 --> 00:14:48,500
a.m. to 8 a.m.

348
00:14:48,500 --> 00:14:50,990
also the alarm should be on for federal

349
00:14:50,990 --> 00:14:54,260
holidays wonderful this seems good now

350
00:14:54,260 --> 00:14:55,959
all we gotta do is go back to Chuck and

351
00:14:55,959 --> 00:14:59,060
your review it with him and Chuck says

352
00:14:59,060 --> 00:15:00,260
yeah that's pretty good

353
00:15:00,260 --> 00:15:02,870
only thing is we don't close for a

354
00:15:02,870 --> 00:15:05,000
Columbus Day because Columbus was a bit

355
00:15:05,000 --> 00:15:09,740
of a tool and i'm from bahamas by the

356
00:15:09,740 --> 00:15:11,959
way so that's where Columbus actually

357
00:15:11,959 --> 00:15:15,529
landed yes born and bred till I went to

358
00:15:15,529 --> 00:15:18,290
college and we celebrated Columbus Day

359
00:15:18,290 --> 00:15:21,649
all the time and he wasn't that cool a

360
00:15:21,649 --> 00:15:26,839
person so I add into the the grammar but

361
00:15:26,839 --> 00:15:29,690
not for Columbus Day then I go back to

362
00:15:29,690 --> 00:15:31,490
the grammar sheet again and I get rid of

363
00:15:31,490 --> 00:15:33,560
stuff that I just didn't need to express

364
00:15:33,560 --> 00:15:35,480
what Chuck wanted

365
00:15:35,480 --> 00:15:38,240
for example no need for company employee

366
00:15:38,240 --> 00:15:39,950
role all I need is the only thing that

367
00:15:39,950 --> 00:15:41,600
matters is the alarm

368
00:15:41,600 --> 00:15:44,780
I don't need should I need not on and

369
00:15:44,780 --> 00:15:45,200
off

370
00:15:45,200 --> 00:15:47,420
I don't need day every and week because

371
00:15:47,420 --> 00:15:50,180
the the idiom of weekdays covers

372
00:15:50,180 --> 00:15:52,250
everything with a specific parameter of

373
00:15:52,250 --> 00:15:53,870
Monday's federal holiday specific

374
00:15:53,870 --> 00:15:55,550
parameter of Columbus Day and there's

375
00:15:55,550 --> 00:16:01,220
some time ranges so now we have our

376
00:16:01,220 --> 00:16:03,740
tightened up grammar sheet and we're

377
00:16:03,740 --> 00:16:05,150
sort of ready to go right we have

378
00:16:05,150 --> 00:16:06,560
everything we need ray start

379
00:16:06,560 --> 00:16:10,610
implementing and it turns out that Paul

380
00:16:10,610 --> 00:16:13,880
is taking night courses in programming

381
00:16:13,880 --> 00:16:16,100
and he just so happens to be learning

382
00:16:16,100 --> 00:16:18,410
JavaScript so Paul's decided that he's

383
00:16:18,410 --> 00:16:19,940
gonna take it on he's gonna implement

384
00:16:19,940 --> 00:16:23,450
his own DSL so he gets on Google and

385
00:16:23,450 --> 00:16:25,820
gets immediately freaked out because

386
00:16:25,820 --> 00:16:27,770
what you know compilers lectures you

387
00:16:27,770 --> 00:16:29,180
know parsers what does this all mean

388
00:16:29,180 --> 00:16:31,400
doesn't make much sense to him and this

389
00:16:31,400 --> 00:16:32,810
is actually one of the hurdles that I

390
00:16:32,810 --> 00:16:35,390
tend to help engineers get over as much

391
00:16:35,390 --> 00:16:37,670
as I can which is just relax you know

392
00:16:37,670 --> 00:16:39,290
over time you're gonna want to use more

393
00:16:39,290 --> 00:16:41,030
advanced techniques to implement dsls

394
00:16:41,030 --> 00:16:44,030
but Paul's gonna make the decision that

395
00:16:44,030 --> 00:16:45,650
I encourage all of you who've never done

396
00:16:45,650 --> 00:16:47,570
this before to make which is I'm going

397
00:16:47,570 --> 00:16:50,270
to choose method chaining the method

398
00:16:50,270 --> 00:16:53,120
chaining when it's used to implement DSL

399
00:16:53,120 --> 00:16:55,400
like jQuery for example most JavaScript

400
00:16:55,400 --> 00:16:58,070
DSL is pen to use method chaining it's

401
00:16:58,070 --> 00:16:59,510
called a fluent interface that's its

402
00:16:59,510 --> 00:17:03,980
proper the proper name for it so we'll

403
00:17:03,980 --> 00:17:05,810
start off with the simplified you know

404
00:17:05,810 --> 00:17:08,300
Paul doesn't want to go after the you

405
00:17:08,300 --> 00:17:10,160
know the full human readable text I'll

406
00:17:10,160 --> 00:17:12,260
make another and the later slide I'll

407
00:17:12,260 --> 00:17:14,600
show you how to deal with that but he

408
00:17:14,600 --> 00:17:16,790
starts off with this basic DSL sheet and

409
00:17:16,790 --> 00:17:19,550
then he adds in oh sorry basic grammar

410
00:17:19,550 --> 00:17:22,850
sheet and then he adds in the the syntax

411
00:17:22,850 --> 00:17:26,560
he needs to make it into executable code

412
00:17:26,560 --> 00:17:30,560
then he kicks it off with a builder

413
00:17:30,560 --> 00:17:32,360
object now if you guys are familiar with

414
00:17:32,360 --> 00:17:33,260
the Builder pattern

415
00:17:33,260 --> 00:17:34,880
it's basically an object that you

416
00:17:34,880 --> 00:17:36,620
configure them and produces an object

417
00:17:36,620 --> 00:17:37,610
which is great because that's actually

418
00:17:37,610 --> 00:17:40,760
what we want we want to get a configured

419
00:17:40,760 --> 00:17:44,230
domain model based upon that chuck's

420
00:17:44,230 --> 00:17:47,240
configurations effectively and that's at

421
00:17:47,240 --> 00:17:48,140
the very end we're going

422
00:17:48,140 --> 00:17:50,360
say you know call the build method in

423
00:17:50,360 --> 00:17:52,720
this case build a configure domain model

424
00:17:52,720 --> 00:17:56,390
for JavaScript in particular you've got

425
00:17:56,390 --> 00:17:58,430
and I you know any multi-paradigm

426
00:17:58,430 --> 00:17:59,840
language like JavaScript is going to

427
00:17:59,840 --> 00:18:01,820
give you this ability you've got two

428
00:18:01,820 --> 00:18:03,320
different ways that are very

429
00:18:03,320 --> 00:18:04,970
complimentary that you can use to

430
00:18:04,970 --> 00:18:08,450
capture state you know what that clock

431
00:18:08,450 --> 00:18:11,150
is counting down it's not clowning up

432
00:18:11,150 --> 00:18:13,670
I've got a lot more time oh wait I don't

433
00:18:13,670 --> 00:18:16,190
have as much time I don't know but it's

434
00:18:16,190 --> 00:18:18,740
okay we're doing well either way I got

435
00:18:18,740 --> 00:18:20,570
the green bar I got the clock freaking

436
00:18:20,570 --> 00:18:29,640
me out all right well thank you all and

437
00:18:29,650 --> 00:18:35,120
all right so you can inject data into

438
00:18:35,120 --> 00:18:37,790
object construction just like you would

439
00:18:37,790 --> 00:18:38,960
and you know this is a fairly typical

440
00:18:38,960 --> 00:18:41,060
way to do it but you can also use

441
00:18:41,060 --> 00:18:43,430
function composition as methods and this

442
00:18:43,430 --> 00:18:45,500
is something I have use a lot especially

443
00:18:45,500 --> 00:18:48,410
for performance tuning oftentimes if you

444
00:18:48,410 --> 00:18:50,030
just use state you'll end up having to

445
00:18:50,030 --> 00:18:51,350
go through this very complex

446
00:18:51,350 --> 00:18:53,300
you know if Elstree to get to what you

447
00:18:53,300 --> 00:18:55,310
really need you know once you understand

448
00:18:55,310 --> 00:18:57,140
what you need just take whatever method

449
00:18:57,140 --> 00:18:58,370
you were going to result with and just

450
00:18:58,370 --> 00:19:00,830
pin it on to the front of of the call

451
00:19:00,830 --> 00:19:03,230
chain and that's you know that's my

452
00:19:03,230 --> 00:19:07,910
primary way of performance tuning DSL is

453
00:19:07,910 --> 00:19:11,150
that run all the time all right

454
00:19:11,150 --> 00:19:12,770
and with that pulse written a custom DSL

455
00:19:12,770 --> 00:19:15,440
and that's uh that's that's terrific and

456
00:19:15,440 --> 00:19:17,990
we're all very proud of Paul now quick

457
00:19:17,990 --> 00:19:20,020
review of the steps he followed he

458
00:19:20,020 --> 00:19:22,760
reviewed meaning that you know in our

459
00:19:22,760 --> 00:19:24,220
particular case he must have recorded

460
00:19:24,220 --> 00:19:26,900
Chuck and then got it transcribed for 80

461
00:19:26,900 --> 00:19:29,000
bucks online but you reviewed the

462
00:19:29,000 --> 00:19:30,350
conversation with the customer

463
00:19:30,350 --> 00:19:32,600
he removed meaningless words he

464
00:19:32,600 --> 00:19:35,090
separated the nouns and verbs he

465
00:19:35,090 --> 00:19:37,190
identified idioms he reviewed the

466
00:19:37,190 --> 00:19:38,450
grammar with the customer and then he

467
00:19:38,450 --> 00:19:40,970
implemented the grammar now to make sure

468
00:19:40,970 --> 00:19:42,530
that every every one of you can leave

469
00:19:42,530 --> 00:19:44,810
and begin writing your own DSL x' we're

470
00:19:44,810 --> 00:19:47,210
gonna start fresh and this is sort of

471
00:19:47,210 --> 00:19:48,680
your final exam we're gonna implement

472
00:19:48,680 --> 00:19:52,070
your DSL and we're gonna choose shipping

473
00:19:52,070 --> 00:19:53,960
now shipping is one of these domains

474
00:19:53,960 --> 00:19:56,810
that seem simple if there's one package

475
00:19:56,810 --> 00:20:00,410
that's going to you but shipping is

476
00:20:00,410 --> 00:20:03,230
fairly complex and complicated domain

477
00:20:03,230 --> 00:20:05,530
especially when you get into things like

478
00:20:05,530 --> 00:20:07,850
domestic shipping international shipping

479
00:20:07,850 --> 00:20:10,760
you your order has to be shipped from

480
00:20:10,760 --> 00:20:13,310
multiple warehouses to get for you get

481
00:20:13,310 --> 00:20:15,320
to you it might go from carrier to

482
00:20:15,320 --> 00:20:17,690
carrier there's there's a ton of little

483
00:20:17,690 --> 00:20:19,790
subtleties that go into thinking about

484
00:20:19,790 --> 00:20:25,160
the domain of what goes into what goes

485
00:20:25,160 --> 00:20:28,850
into shipping now for this talk I dug

486
00:20:28,850 --> 00:20:30,800
this domain model and this is and this

487
00:20:30,800 --> 00:20:33,140
is something else I wanna mention I did

488
00:20:33,140 --> 00:20:35,030
this with visual paradigm it doesn't

489
00:20:35,030 --> 00:20:37,250
matter just use any modeling tool but

490
00:20:37,250 --> 00:20:38,810
this whole thing took me maybe about ten

491
00:20:38,810 --> 00:20:41,300
minutes to put together so over time the

492
00:20:41,300 --> 00:20:42,680
more models you make the faster you're

493
00:20:42,680 --> 00:20:44,900
going to get at it I you know you can do

494
00:20:44,900 --> 00:20:46,280
this on a white board it really doesn't

495
00:20:46,280 --> 00:20:48,620
matter but the bottom line here is that

496
00:20:48,620 --> 00:20:54,040
I've got relationships that that mirror

497
00:20:54,040 --> 00:20:58,160
the yeah cuz I'm looking at this clock

498
00:20:58,160 --> 00:20:59,600
this clock is a terrible idea for

499
00:20:59,600 --> 00:21:01,040
anybody who's speaking you've just got

500
00:21:01,040 --> 00:21:02,420
this red thing that's blinking at you

501
00:21:02,420 --> 00:21:04,730
the whole time but I'll do mine but

502
00:21:04,730 --> 00:21:06,860
maybe if I sketch down and I can't see

503
00:21:06,860 --> 00:21:09,590
it no all right so it's got interesting

504
00:21:09,590 --> 00:21:11,540
relationships like they're like a I'm

505
00:21:11,540 --> 00:21:14,180
sure it's impossible to read but either

506
00:21:14,180 --> 00:21:17,390
way take my word for it extinct

507
00:21:17,390 --> 00:21:21,620
relationships so this is the actual

508
00:21:21,620 --> 00:21:24,380
shipping DSL grammar right this is the

509
00:21:24,380 --> 00:21:26,120
grammar that you know someone went

510
00:21:26,120 --> 00:21:28,400
through that hard process of pulling the

511
00:21:28,400 --> 00:21:30,350
grammar out of some business owner who's

512
00:21:30,350 --> 00:21:32,150
in charge of it and it turns out for all

513
00:21:32,150 --> 00:21:33,920
the complexities of that domain model it

514
00:21:33,920 --> 00:21:36,080
just don't care about it the bottom line

515
00:21:36,080 --> 00:21:38,540
of calculating shipping cost which is

516
00:21:38,540 --> 00:21:40,160
which is what this business owners asked

517
00:21:40,160 --> 00:21:42,170
us to do comes down to these pretty

518
00:21:42,170 --> 00:21:42,800
simple rules

519
00:21:42,800 --> 00:21:44,660
let's jumping domestically if the

520
00:21:44,660 --> 00:21:46,520
delivery date is flexible ship is

521
00:21:46,520 --> 00:21:48,560
cheaply as possible if delivery date is

522
00:21:48,560 --> 00:21:50,600
specified just past the shipping cost on

523
00:21:50,600 --> 00:21:51,830
the customer when shipping

524
00:21:51,830 --> 00:21:53,660
internationally then ship as cheaply as

525
00:21:53,660 --> 00:21:56,720
possible fairly simple so the steps

526
00:21:56,720 --> 00:21:57,800
we're going to go through to actually

527
00:21:57,800 --> 00:22:01,550
implement this are we're gonna dump the

528
00:22:01,550 --> 00:22:04,040
junk words we're gonna throw in the

529
00:22:04,040 --> 00:22:06,320
syntactical constructs we need to do

530
00:22:06,320 --> 00:22:08,450
method chaining and then we're gonna

531
00:22:08,450 --> 00:22:10,460
preface it with a builder and end it

532
00:22:10,460 --> 00:22:11,690
with a build function

533
00:22:11,690 --> 00:22:15,770
so here's it here we go so I'm going to

534
00:22:15,770 --> 00:22:17,690
start out with just a text area just you

535
00:22:17,690 --> 00:22:19,430
know something that lets say that our

536
00:22:19,430 --> 00:22:21,710
owner would actually be inputting it

537
00:22:21,710 --> 00:22:23,420
themselves whatever it doesn't matter

538
00:22:23,420 --> 00:22:25,070
just you need hold grab hold of that

539
00:22:25,070 --> 00:22:27,440
text here I'm just grabbing it and then

540
00:22:27,440 --> 00:22:31,490
trimming it here I'm grabbing it and

541
00:22:31,490 --> 00:22:34,100
trimming it then we're just used regular

542
00:22:34,100 --> 00:22:35,990
expressions to rip out all the words

543
00:22:35,990 --> 00:22:38,210
that we just don't care about and when I

544
00:22:38,210 --> 00:22:40,190
say don't care about it's that they

545
00:22:40,190 --> 00:22:41,540
don't matter for the for the

546
00:22:41,540 --> 00:22:43,430
configuration of the domain they matter

547
00:22:43,430 --> 00:22:44,750
to the human being but they just don't

548
00:22:44,750 --> 00:22:45,770
matter for the configuration of the

549
00:22:45,770 --> 00:22:49,910
domain then we replace the white space

550
00:22:49,910 --> 00:22:56,570
with our parens dot and what we're gonna

551
00:22:56,570 --> 00:22:58,580
do is because to construct the final

552
00:22:58,580 --> 00:23:02,600
executable string I need an API for the

553
00:23:02,600 --> 00:23:04,490
Builder so I'm just gonna use a stub

554
00:23:04,490 --> 00:23:07,700
builder here and you'll notice that even

555
00:23:07,700 --> 00:23:09,140
though it's a stub and stuff meaning it

556
00:23:09,140 --> 00:23:10,910
doesn't do anything it just conforms to

557
00:23:10,910 --> 00:23:13,520
that API that this is an important point

558
00:23:13,520 --> 00:23:14,930
all it's doing is just returning this

559
00:23:14,930 --> 00:23:16,340
every time right that's how method

560
00:23:16,340 --> 00:23:20,480
chaining works so now what I do is to

561
00:23:20,480 --> 00:23:23,060
create the DSL code that's going to get

562
00:23:23,060 --> 00:23:24,230
executed and going to configure our

563
00:23:24,230 --> 00:23:27,650
domain model I'm going to preface it

564
00:23:27,650 --> 00:23:30,170
with a or rather and with and

565
00:23:30,170 --> 00:23:33,110
concatenate DSL builder dot with the

566
00:23:33,110 --> 00:23:35,600
parens in the middle with the parens on

567
00:23:35,600 --> 00:23:38,450
the end and then I'm just going to eval

568
00:23:38,450 --> 00:23:41,000
it and when of course I have valid I end

569
00:23:41,000 --> 00:23:43,850
up with my builder object so now let's

570
00:23:43,850 --> 00:23:47,810
look at the builder object now my my

571
00:23:47,810 --> 00:23:49,400
wife my beautiful wife was my main

572
00:23:49,400 --> 00:23:52,040
reviewer for this and she learned last

573
00:23:52,040 --> 00:23:54,500
idea cells in this talk she's got a PhD

574
00:23:54,500 --> 00:23:57,560
so she's smarter than me but after she

575
00:23:57,560 --> 00:23:59,270
got to this point into talk she said you

576
00:23:59,270 --> 00:24:00,980
need to show an implementation and I

577
00:24:00,980 --> 00:24:01,910
said how do you even know what an

578
00:24:01,910 --> 00:24:04,580
implementation is but nonetheless this

579
00:24:04,580 --> 00:24:06,320
is brought to you by my wife who said

580
00:24:06,320 --> 00:24:07,700
you need to actually code something so

581
00:24:07,700 --> 00:24:11,050
people can can see it I said all right

582
00:24:11,050 --> 00:24:14,390
so let's see how clear that is can

583
00:24:14,390 --> 00:24:16,280
anyone make out that text at all I bet

584
00:24:16,280 --> 00:24:18,560
you can't in the back but I'll skim

585
00:24:18,560 --> 00:24:19,790
through it really quick I'm not going to

586
00:24:19,790 --> 00:24:21,560
dwell on this for too long

587
00:24:21,560 --> 00:24:23,690
interestingly on the screen it's

588
00:24:23,690 --> 00:24:25,610
down so I can barely read it so let me

589
00:24:25,610 --> 00:24:27,500
lean in all right it's cool so we've got

590
00:24:27,500 --> 00:24:30,259
rules which is an internal array a

591
00:24:30,259 --> 00:24:32,000
convenience method of get current rule

592
00:24:32,000 --> 00:24:34,879
which just says what M the current what

593
00:24:34,879 --> 00:24:38,539
rule am I currently working on I have a

594
00:24:38,539 --> 00:24:41,269
whene method there that that kicks off

595
00:24:41,269 --> 00:24:43,909
the rules who remember it says when

596
00:24:43,909 --> 00:24:45,769
internationally when domestically that

597
00:24:45,769 --> 00:24:47,899
starts off the rule so all I do is I

598
00:24:47,899 --> 00:24:50,299
just add an empty object there for

599
00:24:50,299 --> 00:24:52,639
domestically and for internationally I

600
00:24:52,639 --> 00:24:55,549
grab the current rule and I just tack on

601
00:24:55,549 --> 00:24:57,259
a property that's a boolean flag of is

602
00:24:57,259 --> 00:24:58,940
domestic and toggle it appropriately

603
00:24:58,940 --> 00:25:00,980
true or false and this kicks off any

604
00:25:00,980 --> 00:25:02,240
rule so you can add as many rules as you

605
00:25:02,240 --> 00:25:06,230
want then I get into the if you know I

606
00:25:06,230 --> 00:25:07,820
promised myself in this talk I wouldn't

607
00:25:07,820 --> 00:25:09,649
use then and then if because it'd be

608
00:25:09,649 --> 00:25:11,360
confusing but I just did I'm apologized

609
00:25:11,360 --> 00:25:14,960
so then doing it again you can't use if

610
00:25:14,960 --> 00:25:17,000
because it's a it's a reserved word so

611
00:25:17,000 --> 00:25:19,210
you just use square brackets to use it

612
00:25:19,210 --> 00:25:23,029
you grab the current rule if the

613
00:25:23,029 --> 00:25:25,399
conditions are already there then then

614
00:25:25,399 --> 00:25:27,440
you use them otherwise you assign them

615
00:25:27,440 --> 00:25:29,929
to empty array you push that on to the

616
00:25:29,929 --> 00:25:32,360
conditions etc etc I'm sorry I'm reading

617
00:25:32,360 --> 00:25:34,460
code but it's very fascinating to me I

618
00:25:34,460 --> 00:25:38,360
suppose then is just synonym for if so I

619
00:25:38,360 --> 00:25:39,820
just assign it back to each other

620
00:25:39,820 --> 00:25:42,950
and then with get current condition

621
00:25:42,950 --> 00:25:44,480
another convenience method that just

622
00:25:44,480 --> 00:25:46,669
grabs the nth condition just like we

623
00:25:46,669 --> 00:25:50,539
grab the nth rule and then for the rest

624
00:25:50,539 --> 00:25:52,190
of the DSL it's just a simple matter of

625
00:25:52,190 --> 00:25:54,259
grabbing the current condition adding

626
00:25:54,259 --> 00:25:56,570
the appropriate properties and then

627
00:25:56,570 --> 00:25:58,340
returning this as I as we were before so

628
00:25:58,340 --> 00:26:00,289
we can keep the method chain going and

629
00:26:00,289 --> 00:26:03,470
then finally we just call build and in

630
00:26:03,470 --> 00:26:05,450
this particular case our shipping cost

631
00:26:05,450 --> 00:26:08,179
calculator constructs its own domain and

632
00:26:08,179 --> 00:26:09,799
all we have to do is just give it the

633
00:26:09,799 --> 00:26:12,919
the rules array that looks like this

634
00:26:12,919 --> 00:26:15,409
when you see realize it so it's a very

635
00:26:15,409 --> 00:26:17,600
consumable thing by something that's

636
00:26:17,600 --> 00:26:19,960
configuring and constructing a domain

637
00:26:19,960 --> 00:26:24,620
now one of the the most important thing

638
00:26:24,620 --> 00:26:26,960
in my opinion the most useful and

639
00:26:26,960 --> 00:26:30,590
important aspect of all dsls is that as

640
00:26:30,590 --> 00:26:35,480
time goes on your your actual domain the

641
00:26:35,480 --> 00:26:36,950
domain model behind the scenes will get

642
00:26:36,950 --> 00:26:37,360
more

643
00:26:37,360 --> 00:26:39,490
and more and more complex just happens

644
00:26:39,490 --> 00:26:42,580
over time but the DSL because it came

645
00:26:42,580 --> 00:26:44,620
from you know human thinking about the

646
00:26:44,620 --> 00:26:47,910
problem tends to remain more or less

647
00:26:47,910 --> 00:26:50,320
consistent if you will because there's a

648
00:26:50,320 --> 00:26:53,320
limit to how complex humans can think of

649
00:26:53,320 --> 00:26:54,640
things but there's no limit to how

650
00:26:54,640 --> 00:26:58,660
complex things can actually be for

651
00:26:58,660 --> 00:27:01,480
example one day hopefully we're gonna

652
00:27:01,480 --> 00:27:03,220
have packages that can be delivered with

653
00:27:03,220 --> 00:27:05,980
drones so when that day comes we will

654
00:27:05,980 --> 00:27:09,430
have a rich very complicated domain

655
00:27:09,430 --> 00:27:11,350
model behind the scenes that deal with

656
00:27:11,350 --> 00:27:12,790
all types of things like weather and

657
00:27:12,790 --> 00:27:15,160
battery charge and route and you know

658
00:27:15,160 --> 00:27:16,420
was it FAA

659
00:27:16,420 --> 00:27:18,610
you know regulations and stuff like that

660
00:27:18,610 --> 00:27:20,710
but the bottom line is this when you're

661
00:27:20,710 --> 00:27:22,240
shipping with drones that the weather is

662
00:27:22,240 --> 00:27:23,700
favorable and as cheaply as possible

663
00:27:23,700 --> 00:27:26,590
otherwise just ship it domestically all

664
00:27:26,590 --> 00:27:30,670
right that is the main part of my talk

665
00:27:30,670 --> 00:27:33,100
if you'd like to learn more these are

666
00:27:33,100 --> 00:27:34,600
the books I recommend to the engineers

667
00:27:34,600 --> 00:27:37,540
that I work with design patterns so you

668
00:27:37,540 --> 00:27:39,610
can get your object-oriented concepts

669
00:27:39,610 --> 00:27:42,040
grounded test-driven development so that

670
00:27:42,040 --> 00:27:43,900
you actually know properly how to do it

671
00:27:43,900 --> 00:27:46,750
Kent Beck's first half is every every

672
00:27:46,750 --> 00:27:48,400
time I hear stuff what success

673
00:27:48,400 --> 00:27:50,200
development sucks ago have you read a

674
00:27:50,200 --> 00:27:51,760
book on the material and have you

675
00:27:51,760 --> 00:27:53,230
actually read the book on the material

676
00:27:53,230 --> 00:27:55,180
any answers no and universally when they

677
00:27:55,180 --> 00:27:57,160
come back and they say oh I get it I

678
00:27:57,160 --> 00:27:58,510
didn't get it until I actually saw

679
00:27:58,510 --> 00:28:00,310
someone step me through it

680
00:28:00,310 --> 00:28:02,350
domain-driven design it's a huge very

681
00:28:02,350 --> 00:28:03,910
important book probably if you only read

682
00:28:03,910 --> 00:28:05,920
one book I'd read that one patterns of

683
00:28:05,920 --> 00:28:08,320
enterprise architecture speaks about

684
00:28:08,320 --> 00:28:10,420
model-view-controller and then get keeps

685
00:28:10,420 --> 00:28:12,280
going on and on and on and on about

686
00:28:12,280 --> 00:28:13,900
different ways to structure application

687
00:28:13,900 --> 00:28:15,040
and then of course domain-specific

688
00:28:15,040 --> 00:28:17,110
languages which came out relatively

689
00:28:17,110 --> 00:28:19,330
recently which gives you patterns for

690
00:28:19,330 --> 00:28:23,080
talking about dsl and that is it thank

