1
00:00:21,470 --> 00:00:27,110

everybody yeah I'm Vince Allen and here

2
00:00:27,110 --> 00:00:28,939
to talk to you about creating natural

3
00:00:28,939 --> 00:00:35,840
simulations in a web browser anyway my

4
00:00:35,840 --> 00:00:37,850
fiance may be promised I wouldn't talk

5
00:00:37,850 --> 00:00:40,129
before the cat Falls but I believe that

6
00:00:40,129 --> 00:00:42,350
a little bit about me

7
00:00:42,350 --> 00:00:45,710
so I'm a software engineering manager at

8
00:00:45,710 --> 00:00:48,559
Spotify and I live in Brooklyn and I

9
00:00:48,559 --> 00:00:52,160
work in our New York office and you can

10
00:00:52,160 --> 00:00:53,780
get in touch with me at my twitter

11
00:00:53,780 --> 00:00:55,190
handle Vince Allen Vince

12
00:00:55,190 --> 00:00:57,290
you can also write me events at Spotify

13
00:00:57,290 --> 00:01:00,590
comm and all the code for the examples

14
00:01:00,590 --> 00:01:02,450
you're gonna see are at this github

15
00:01:02,450 --> 00:01:05,509
address so there's just a little note

16
00:01:05,509 --> 00:01:07,789
about the code everything uses vanilla

17
00:01:07,789 --> 00:01:10,880
JavaScript CSS HTML there's no canvas

18
00:01:10,880 --> 00:01:16,070
there's no WebGL SVG flash Java or or

19
00:01:16,070 --> 00:01:21,380
like or even bitmaps so in 2007 I was

20
00:01:21,380 --> 00:01:24,500
living near an Apple Store and a week

21
00:01:24,500 --> 00:01:26,360
before the iPhone released there were

22
00:01:26,360 --> 00:01:28,130
people in my neighborhood camped out to

23
00:01:28,130 --> 00:01:30,679
hold you know place in line and this

24
00:01:30,679 --> 00:01:32,209
line you know it went around the block

25
00:01:32,209 --> 00:01:34,310
and it was just chairs and tents and so

26
00:01:34,310 --> 00:01:36,470
on and soon after a friend of mine

27
00:01:36,470 --> 00:01:38,929
caught an iPhone and I asked him you

28
00:01:38,929 --> 00:01:40,940
know what is so great about this thing

29
00:01:40,940 --> 00:01:45,380
that you'd spend a week outdoors and he

30
00:01:45,380 --> 00:01:47,270
said he couldn't explain it but you just

31
00:01:47,270 --> 00:01:51,200
have to use one and soon after I got an

32
00:01:51,200 --> 00:01:54,739
iPhone and I realized what he meant but

33
00:01:54,739 --> 00:01:56,149
I thought he could have been more

34
00:01:56,149 --> 00:01:57,860
specific I thought he could have said

35
00:01:57,860 --> 00:02:01,310
you just have to hold one so this was

36
00:02:01,310 --> 00:02:03,319
the first time I was holding what we

37
00:02:03,319 --> 00:02:06,979
call now a sensor rich device and I

38
00:02:06,979 --> 00:02:09,110
could see the operating system mapping

39
00:02:09,110 --> 00:02:12,560
my physical input onto the UI in a way

40
00:02:12,560 --> 00:02:15,560
that realistically mocked this physical

41
00:02:15,560 --> 00:02:19,160
system so recently I went to a talk and

42
00:02:19,160 --> 00:02:21,020
it was a futurist and he was talking

43
00:02:21,020 --> 00:02:23,989
about the future and how there's there's

44
00:02:23,989 --> 00:02:26,870
gonna be a post PC world where you know

45
00:02:26,870 --> 00:02:28,610
like our laptops and our desktops are

46
00:02:28,610 --> 00:02:29,960
gonna be so smart and we're gonna carry

47
00:02:29,960 --> 00:02:31,610
around this primary computing devices

48
00:02:31,610 --> 00:02:32,360
and our

49
00:02:32,360 --> 00:02:35,540
it's and I don't dispute that view but I

50
00:02:35,540 --> 00:02:38,180
don't think large format interaction is

51
00:02:38,180 --> 00:02:39,800
going away and I don't think large

52
00:02:39,800 --> 00:02:43,100
format creativity is going away in fact

53
00:02:43,100 --> 00:02:45,650
I think more than ever as JavaScript

54
00:02:45,650 --> 00:02:47,180
developers we should be thinking about

55
00:02:47,180 --> 00:02:50,390
large format interaction we should be

56
00:02:50,390 --> 00:02:52,160
thinking about it in terms of natural

57
00:02:52,160 --> 00:02:55,520
interaction so for now the desktop might

58
00:02:55,520 --> 00:02:57,110
go away but it's a good place to

59
00:02:57,110 --> 00:02:59,780
experiment but to make desktop

60
00:02:59,780 --> 00:03:02,900
interactions as compelling that's what

61
00:03:02,900 --> 00:03:04,520
we're experiencing sensory rich devices

62
00:03:04,520 --> 00:03:06,080
we need to figure out how to combine

63
00:03:06,080 --> 00:03:10,040
physical sensors so what do I mean by a

64
00:03:10,040 --> 00:03:12,739
natural simulation I have this

65
00:03:12,739 --> 00:03:14,630
definition it's a collection of agents

66
00:03:14,630 --> 00:03:16,820
whose boundaries of autonomy appear to

67
00:03:16,820 --> 00:03:18,950
be defined by natural forces this is

68
00:03:18,950 --> 00:03:20,660
just a fancy way of saying you have a

69
00:03:20,660 --> 00:03:23,000
bunch of objects they have rules and

70
00:03:23,000 --> 00:03:24,890
those rules make the system seem natural

71
00:03:24,890 --> 00:03:28,310
but what I like about this definition is

72
00:03:28,310 --> 00:03:31,100
it implies that we're observers and we

73
00:03:31,100 --> 00:03:35,290
have a threshold of believability so

74
00:03:35,290 --> 00:03:38,500
what makes the system seem natural

75
00:03:38,500 --> 00:03:40,430
instinctually we can differentiate

76
00:03:40,430 --> 00:03:42,410
between something that's designed and

77
00:03:42,410 --> 00:03:44,239
something that's natural but we're going

78
00:03:44,239 --> 00:03:45,920
to create natural simulations in a web

79
00:03:45,920 --> 00:03:47,269
browser we need to know we need to

80
00:03:47,269 --> 00:03:49,850
identify exactly where this threshold

81
00:03:49,850 --> 00:03:53,000
lies because a web browser is not the

82
00:03:53,000 --> 00:03:54,769
easiest place to try to do this we're

83
00:03:54,769 --> 00:03:56,570
going to be resource constrained so we

84
00:03:56,570 --> 00:03:58,370
don't want to do more than we absolutely

85
00:03:58,370 --> 00:03:59,440
have to

86
00:03:59,440 --> 00:04:01,820
so what point can we be confident that

87
00:04:01,820 --> 00:04:03,709
we've crossed the line and the user will

88
00:04:03,709 --> 00:04:06,769
accept the simulation now I'm not the

89
00:04:06,769 --> 00:04:09,110
first person to think about this

90
00:04:09,110 --> 00:04:11,150
Valentina Brayton Berg was an Italian

91
00:04:11,150 --> 00:04:13,489
neuroscientist and in the 1960s he was

92
00:04:13,489 --> 00:04:15,709
interested in understanding how human

93
00:04:15,709 --> 00:04:17,359
beings developed intelligence and

94
00:04:17,359 --> 00:04:19,340
reasoning but instead of looking at

95
00:04:19,340 --> 00:04:22,340
humans he looked at insects and by

96
00:04:22,340 --> 00:04:24,710
examining simple brains he hoped he

97
00:04:24,710 --> 00:04:26,240
could find the building blocks to our

98
00:04:26,240 --> 00:04:29,180
cognitive evolution and in the 1970s he

99
00:04:29,180 --> 00:04:31,400
wrote this book and it describes a

100
00:04:31,400 --> 00:04:34,190
thought experiment where he imagines 10

101
00:04:34,190 --> 00:04:36,950
simple vehicles and these became known

102
00:04:36,950 --> 00:04:39,440
as Brayton burg vehicles so each vehicle

103
00:04:39,440 --> 00:04:42,590
is equipped with sensors that respond to

104
00:04:42,590 --> 00:04:44,160
specific input

105
00:04:44,160 --> 00:04:45,660
as a vehicle's progressed in his

106
00:04:45,660 --> 00:04:47,310
imagination the sensors became

107
00:04:47,310 --> 00:04:49,590
increasingly sophisticated and at some

108
00:04:49,590 --> 00:04:51,840
point you the reader you start accepting

109
00:04:51,840 --> 00:04:53,730
that if you observe this behavior in

110
00:04:53,730 --> 00:04:56,310
nature that you would accept that it's

111
00:04:56,310 --> 00:04:59,280
part of the natural world so let's look

112
00:04:59,280 --> 00:05:04,740
at some Brandenburg vehicles so this is

113
00:05:04,740 --> 00:05:08,030
a very simple vehicle it has two sensors

114
00:05:08,030 --> 00:05:11,910
one it's for heat and one is for cold it

115
00:05:11,910 --> 00:05:13,830
speeds up around Heat and it slows down

116
00:05:13,830 --> 00:05:16,860
around things that are cold so while

117
00:05:16,860 --> 00:05:20,580
this little creature here doesn't seem

118
00:05:20,580 --> 00:05:21,630
all that intelligent if you've

119
00:05:21,630 --> 00:05:23,850
encountered this behavior in nature you

120
00:05:23,850 --> 00:05:25,200
would probably say okay this is

121
00:05:25,200 --> 00:05:28,500
something that's alive but let's just

122
00:05:28,500 --> 00:05:31,910
tweak that rule a little bit instead of

123
00:05:31,910 --> 00:05:35,850
slowing down around cold we're gonna

124
00:05:35,850 --> 00:05:38,060
turn away this is just a really simple

125
00:05:38,060 --> 00:05:40,860
refinement to that rule alright but

126
00:05:40,860 --> 00:05:44,250
immediately we get a sense that this

127
00:05:44,250 --> 00:05:46,170
little guy understands his environment

128
00:05:46,170 --> 00:05:50,400
he can navigate and he can turn away at

129
00:05:50,400 --> 00:05:51,960
least and avoid things he doesn't want

130
00:05:51,960 --> 00:05:54,750
to be around all right what if we took

131
00:05:54,750 --> 00:05:58,680
the inverse of this what if we turned

132
00:05:58,680 --> 00:06:03,150
toward things that stimulated us and we

133
00:06:03,150 --> 00:06:07,470
blew them up so already you know we just

134
00:06:07,470 --> 00:06:09,240
taken the inverse of the of a very

135
00:06:09,240 --> 00:06:10,680
simple rule and we get something that

136
00:06:10,680 --> 00:06:13,740
looks even more intelligent you know not

137
00:06:13,740 --> 00:06:15,360
only does he understand his environment

138
00:06:15,360 --> 00:06:16,860
he's out to get things in his

139
00:06:16,860 --> 00:06:19,530
environment then what if you could

140
00:06:19,530 --> 00:06:22,950
combine a bunch of simple rules all

141
00:06:22,950 --> 00:06:25,620
right in this one we have heat we have

142
00:06:25,620 --> 00:06:29,430
oxygen we have food and we have light

143
00:06:29,430 --> 00:06:32,190
and we're attracted to food we're

144
00:06:32,190 --> 00:06:35,400
attracted to oxygen stimulated by heat

145
00:06:35,400 --> 00:06:38,250
and aggressive toward light this guy has

146
00:06:38,250 --> 00:06:40,380
a sense of values you know if you if you

147
00:06:40,380 --> 00:06:42,450
let it run you watch it's almost like he

148
00:06:42,450 --> 00:06:44,310
has some type of awareness of the

149
00:06:44,310 --> 00:06:48,360
different of different tastes and I'd be

150
00:06:48,360 --> 00:06:50,070
willing to bet if you saw this type of

151
00:06:50,070 --> 00:06:50,790
behavior

152
00:06:50,790 --> 00:06:53,580
nature you would say this is something

153
00:06:53,580 --> 00:07:04,120
it's natural

154
00:07:04,130 --> 00:07:06,270
so when you stop looking at the

155
00:07:06,270 --> 00:07:08,070
individual rules and you view their some

156
00:07:08,070 --> 00:07:10,800
is a system you cross the line from

157
00:07:10,800 --> 00:07:13,320
designer to observer and that's the line

158
00:07:13,320 --> 00:07:15,180
that's the threshold that we're looking

159
00:07:15,180 --> 00:07:18,270
for so Brayton Berg recognized the odd

160
00:07:18,270 --> 00:07:20,730
situation that we put ourselves in as

161
00:07:20,730 --> 00:07:22,890
designers and we know that these are

162
00:07:22,890 --> 00:07:25,400
simple rules because we made the rules

163
00:07:25,400 --> 00:07:28,620
but we can't help it at some point we

164
00:07:28,620 --> 00:07:30,450
see the emergent behavior and not its

165
00:07:30,450 --> 00:07:33,540
component parts so with sensor rich

166
00:07:33,540 --> 00:07:35,820
devices I'm going to cross the line in

167
00:07:35,820 --> 00:07:37,620
the other direction you know I want to

168
00:07:37,620 --> 00:07:39,450
say that the iPhone that Android phone

169
00:07:39,450 --> 00:07:42,360
is a Brayton Burgh vehicle it may not

170
00:07:42,360 --> 00:07:44,669
have wheels because it doesn't need them

171
00:07:44,669 --> 00:07:46,650
you know we're the wheels we carry them

172
00:07:46,650 --> 00:07:48,450
around but it has the most important

173
00:07:48,450 --> 00:07:50,610
part and that's the sensors and when you

174
00:07:50,610 --> 00:07:52,710
think of them in this way a collection

175
00:07:52,710 --> 00:07:56,520
of sensors you can deconstruct these

176
00:07:56,520 --> 00:07:58,740
rules that govern their systems much

177
00:07:58,740 --> 00:08:00,660
like Braden Berg was deconstructing

178
00:08:00,660 --> 00:08:02,880
simple brains in search of answers to a

179
00:08:02,880 --> 00:08:06,960
bigger question what makes a system seem

180
00:08:06,960 --> 00:08:08,750
natural

181
00:08:08,750 --> 00:08:11,520
for me it's detail you know at some

182
00:08:11,520 --> 00:08:13,860
point there's enough detail for us to

183
00:08:13,860 --> 00:08:15,840
accept the system but we need to know

184
00:08:15,840 --> 00:08:17,190
exactly what kind of detail we're

185
00:08:17,190 --> 00:08:19,110
talking about so I want to do a thought

186
00:08:19,110 --> 00:08:21,750
experiment all right I want you to

187
00:08:21,750 --> 00:08:24,540
imagine that you're James Cameron and

188
00:08:24,540 --> 00:08:26,120
you're gonna make a summer blockbuster

189
00:08:26,120 --> 00:08:28,890
but it's not gonna be avatar it's gonna

190
00:08:28,890 --> 00:08:30,750
be a movie about a guy throwing a ball

191
00:08:30,750 --> 00:08:34,200
for a cat all right but like avatar

192
00:08:34,200 --> 00:08:34,909
we're gonna do the whole thing

193
00:08:34,909 --> 00:08:37,110
computer-generated oh this is gonna be

194
00:08:37,110 --> 00:08:39,419
rendered and it's gonna be easy for the

195
00:08:39,419 --> 00:08:41,250
cat and the guy right we can get a

196
00:08:41,250 --> 00:08:43,409
little kitty motion capture suit and we

197
00:08:43,409 --> 00:08:45,720
can get you know a motion capture suit

198
00:08:45,720 --> 00:08:47,550
for the guy but either ball is gonna be

199
00:08:47,550 --> 00:08:49,440
kind of a problem right the ball we

200
00:08:49,440 --> 00:08:50,880
can't just get a motion capture suit for

201
00:08:50,880 --> 00:08:52,970
the ball we really need to simulate and

202
00:08:52,970 --> 00:08:56,220
mimic the physics realistically enough

203
00:08:56,220 --> 00:08:59,610
that it looks as real as the people or

204
00:08:59,610 --> 00:09:02,000
the animal and the motion capture suits

205
00:09:02,000 --> 00:09:05,130
so what a high level are the details

206
00:09:05,130 --> 00:09:06,750
if we're gonna animate this ball we're

207
00:09:06,750 --> 00:09:08,160
gonna simulate it what are these we're

208
00:09:08,160 --> 00:09:09,839
looking for at a high level we need

209
00:09:09,839 --> 00:09:12,600
variation right so things shouldn't

210
00:09:12,600 --> 00:09:13,939
always be the same

211
00:09:13,939 --> 00:09:15,709
be throwing the ball the same way it

212
00:09:15,709 --> 00:09:17,689
shouldn't be we shouldn't float through

213
00:09:17,689 --> 00:09:20,720
the air the same way and randomness

214
00:09:20,720 --> 00:09:22,970
there should be a sense of randomness so

215
00:09:22,970 --> 00:09:24,619
it should be hard to predict where the

216
00:09:24,619 --> 00:09:26,209
ball is gonna end up it should be hard

217
00:09:26,209 --> 00:09:28,909
to predict how it's gonna bounce and

218
00:09:28,909 --> 00:09:30,769
that should be balanced with a sense of

219
00:09:30,769 --> 00:09:33,079
ordered complexity all right so well

220
00:09:33,079 --> 00:09:34,399
it's hard to predict at exactly where

221
00:09:34,399 --> 00:09:36,709
the ball is going to end up at least we

222
00:09:36,709 --> 00:09:38,209
know it's gonna be at the end of the

223
00:09:38,209 --> 00:09:40,069
hall we know it's gonna bounce up off

224
00:09:40,069 --> 00:09:43,159
the carpet and so on so let's get more

225
00:09:43,159 --> 00:09:44,509
specific like what do we need to pay

226
00:09:44,509 --> 00:09:46,099
attention to what are the significant

227
00:09:46,099 --> 00:09:49,549
things that are that are driving where

228
00:09:49,549 --> 00:09:50,689
that ball is going to end up at any

229
00:09:50,689 --> 00:09:53,269
point in time so there's acceleration

230
00:09:53,269 --> 00:09:55,489
there's this the change in velocity of

231
00:09:55,489 --> 00:09:57,049
the ball as it comes off my hand and

232
00:09:57,049 --> 00:09:59,329
then from there's the Earth's gravity

233
00:09:59,329 --> 00:10:01,249
and then if we're gonna talk about

234
00:10:01,249 --> 00:10:02,839
gravity we need to be talking about mass

235
00:10:02,839 --> 00:10:04,819
we're gonna talk about mass we need to

236
00:10:04,819 --> 00:10:06,829
talk about friction and then there's

237
00:10:06,829 --> 00:10:08,899
minut forces like the wind coming from

238
00:10:08,899 --> 00:10:11,029
the ceiling fan and then there's drag

239
00:10:11,029 --> 00:10:12,619
from like the air density and it gets

240
00:10:12,619 --> 00:10:14,869
much heavier around the litter box and

241
00:10:14,869 --> 00:10:18,529
then there's resilience ball bouncing up

242
00:10:18,529 --> 00:10:20,059
off the carpet so the point here is

243
00:10:20,059 --> 00:10:23,979
there's a lot of things going on and I

244
00:10:23,979 --> 00:10:26,029
want you to think of this system as a

245
00:10:26,029 --> 00:10:28,609
mixing bowl where you account for all of

246
00:10:28,609 --> 00:10:31,189
these forces and we need to figure out

247
00:10:31,189 --> 00:10:33,439
we need a mechanism to do that that's

248
00:10:33,439 --> 00:10:35,869
really easy right because when a web

249
00:10:35,869 --> 00:10:37,309
browser we're doing this JavaScript and

250
00:10:37,309 --> 00:10:41,239
we want this to be super efficient so

251
00:10:41,239 --> 00:10:43,399
how do we do it all right I'm gonna show

252
00:10:43,399 --> 00:10:45,439
you that in a minute but I'm gonna be

253
00:10:45,439 --> 00:10:46,519
like Brayden Berg and I want to start

254
00:10:46,519 --> 00:10:49,339
simple I want to look at simple systems

255
00:10:49,339 --> 00:10:50,720
first and see if there's anything we can

256
00:10:50,720 --> 00:10:56,779
learn from them all right I loved these

257
00:10:56,779 --> 00:10:58,849
games I owned these games I played them

258
00:10:58,849 --> 00:11:01,339
forever but there's there's something

259
00:11:01,339 --> 00:11:02,269
that should be obvious you know

260
00:11:02,269 --> 00:11:03,499
everything's moving at the same speed

261
00:11:03,499 --> 00:11:05,449
you know so when we talk about detail

262
00:11:05,449 --> 00:11:07,459
these games are really fun they're great

263
00:11:07,459 --> 00:11:09,709
but you know they kind of contrast what

264
00:11:09,709 --> 00:11:11,059
we're used to seeing in the natural

265
00:11:11,059 --> 00:11:13,399
world the football doesn't go as fast as

266
00:11:13,399 --> 00:11:17,389
the runner so let's look at it I created

267
00:11:17,389 --> 00:11:18,859
a couple of studies just to talk about

268
00:11:18,859 --> 00:11:20,029
those high-level things that we're

269
00:11:20,029 --> 00:11:24,230
talking about so this

270
00:11:24,230 --> 00:11:26,480
a study in variation alright so we've

271
00:11:26,480 --> 00:11:28,700
got a lot of variation we have variation

272
00:11:28,700 --> 00:11:31,970
in color we have variation in size but

273
00:11:31,970 --> 00:11:33,140
we've done something we've mapped the

274
00:11:33,140 --> 00:11:35,510
sides to mass so the little guys you

275
00:11:35,510 --> 00:11:36,650
know they're not going to jump as high

276
00:11:36,650 --> 00:11:39,440
and the big guys are gonna jump super

277
00:11:39,440 --> 00:11:42,680
far and have a lot of momentum and then

278
00:11:42,680 --> 00:11:43,940
there's a sense of randomness as well

279
00:11:43,940 --> 00:11:45,410
it's kind of hard to predict you know

280
00:11:45,410 --> 00:11:46,700
where each individual one of these these

281
00:11:46,700 --> 00:11:48,530
guys is going to end up but the same

282
00:11:48,530 --> 00:11:49,850
time we have some order complexity you

283
00:11:49,850 --> 00:11:51,620
can generally tell how they're gonna

284
00:11:51,620 --> 00:11:56,600
move and then there's a flocking

285
00:11:56,600 --> 00:11:57,260
simulation

286
00:11:57,260 --> 00:11:59,720
all right so flocking got a lot of

287
00:11:59,720 --> 00:12:03,020
variety here size color and so on but

288
00:12:03,020 --> 00:12:05,420
definitely randomness it's very hard to

289
00:12:05,420 --> 00:12:08,810
predict where exactly any one of these

290
00:12:08,810 --> 00:12:10,910
guys is going to end up but it's a flock

291
00:12:10,910 --> 00:12:12,620
it's gonna self organize and so we're

292
00:12:12,620 --> 00:12:14,000
gonna balance that out with some ordered

293
00:12:14,000 --> 00:12:19,640
complexity and then I like the channel

294
00:12:19,640 --> 00:12:22,430
Animal Planet because yeah they

295
00:12:22,430 --> 00:12:24,260
differentiate between like goofy animals

296
00:12:24,260 --> 00:12:26,930
and really cool animals and I think that

297
00:12:26,930 --> 00:12:28,430
like flying fish are kind of the James

298
00:12:28,430 --> 00:12:31,070
Bond of the animal world and I wanted to

299
00:12:31,070 --> 00:12:34,970
do something where you had two

300
00:12:34,970 --> 00:12:36,410
environments you know in the same

301
00:12:36,410 --> 00:12:37,820
simulation you have a primary and a

302
00:12:37,820 --> 00:12:39,860
secondary and just to get a sense of

303
00:12:39,860 --> 00:12:42,950
like drag and moving from one to the

304
00:12:42,950 --> 00:12:47,260
other alright so why is this difficult

305
00:12:47,260 --> 00:12:51,640
you know to do in a web browser

306
00:12:51,640 --> 00:12:54,200
well first of all I mean web browsers

307
00:12:54,200 --> 00:12:56,810
were created basically their first job

308
00:12:56,810 --> 00:13:00,110
is to present text and beyond that you

309
00:13:00,110 --> 00:13:01,070
know they're event-driven they're

310
00:13:01,070 --> 00:13:03,170
waiting for us to do things so that they

311
00:13:03,170 --> 00:13:04,970
can respond and JavaScript is there to

312
00:13:04,970 --> 00:13:07,280
help us do that as well but there's also

313
00:13:07,280 --> 00:13:09,020
competing resources on the system and

314
00:13:09,020 --> 00:13:11,210
you know you may have another browser

315
00:13:11,210 --> 00:13:12,830
open there's other applications running

316
00:13:12,830 --> 00:13:15,320
on the on the operating system but

317
00:13:15,320 --> 00:13:18,140
there's also the network to continue so

318
00:13:18,140 --> 00:13:20,900
you know rendering isn't necessarily a

319
00:13:20,900 --> 00:13:23,030
first priority and rendering a lot of

320
00:13:23,030 --> 00:13:25,700
things like that isn't surely not so

321
00:13:25,700 --> 00:13:27,290
this is basically me saying just not

322
00:13:27,290 --> 00:13:29,030
meant to do this you know browser is not

323
00:13:29,030 --> 00:13:31,460
a procedural drawing tool it's it's not

324
00:13:31,460 --> 00:13:33,120
like processing or

325
00:13:33,120 --> 00:13:34,680
openFrameworks so there's not of like

326
00:13:34,680 --> 00:13:36,870
not a lot of convenience in terms of

327
00:13:36,870 --> 00:13:38,970
rendering baked in there so how are we

328
00:13:38,970 --> 00:13:40,470
gonna do it all right you guys probably

329
00:13:40,470 --> 00:13:42,830
already know the requestanimationframe

330
00:13:42,830 --> 00:13:45,330
when you use that we're gonna use

331
00:13:45,330 --> 00:13:47,310
hardware acceleration with some hardware

332
00:13:47,310 --> 00:13:49,950
accelerated CSS properties but we're

333
00:13:49,950 --> 00:13:51,720
gonna use vector math okay so when I

334
00:13:51,720 --> 00:13:53,370
talked about the mixing bowl and adding

335
00:13:53,370 --> 00:13:55,440
of all the forces vector math is gonna

336
00:13:55,440 --> 00:13:56,640
let us do that and I'll show you that in

337
00:13:56,640 --> 00:13:59,610
detail in a second and then physical

338
00:13:59,610 --> 00:14:02,430
input for me physical input is is the

339
00:14:02,430 --> 00:14:03,660
one that gets us really across the

340
00:14:03,660 --> 00:14:06,779
threshold when you can map physical

341
00:14:06,779 --> 00:14:08,250
input to what you're seeing on the

342
00:14:08,250 --> 00:14:11,610
screen it's just all the more natural so

343
00:14:11,610 --> 00:14:14,370
let's look at some code so let's say

344
00:14:14,370 --> 00:14:15,990
we're trying to render that ball right

345
00:14:15,990 --> 00:14:18,870
and think in the guy throwing the ball

346
00:14:18,870 --> 00:14:22,380
for the cat maybe and we want to start

347
00:14:22,380 --> 00:14:23,850
out really slow we're just gonna get the

348
00:14:23,850 --> 00:14:25,670
ball to drop from the top of the browser

349
00:14:25,670 --> 00:14:28,290
to the bottom so we're gonna create a

350
00:14:28,290 --> 00:14:30,450
vector and this is a vector class and I

351
00:14:30,450 --> 00:14:32,130
talked about adding forces the vector

352
00:14:32,130 --> 00:14:34,830
class has an ADD method so let's look at

353
00:14:34,830 --> 00:14:36,870
vectors really quick all right a vector

354
00:14:36,870 --> 00:14:38,730
I want you to think of it simply an

355
00:14:38,730 --> 00:14:40,740
offset it's the difference between two

356
00:14:40,740 --> 00:14:41,310
points

357
00:14:41,310 --> 00:14:43,800
what's cool about a vector is it also

358
00:14:43,800 --> 00:14:47,610
implies a magnitude all right so I can

359
00:14:47,610 --> 00:14:51,660
say that vector B here it's it's it's

360
00:14:51,660 --> 00:14:54,209
less magnitude then it has less

361
00:14:54,209 --> 00:14:57,330
magnitude than the vector a because the

362
00:14:57,330 --> 00:15:01,470
vector a is longer and if I wanted to

363
00:15:01,470 --> 00:15:04,020
then sum the forces if this was a system

364
00:15:04,020 --> 00:15:06,180
and let's say that vector a was thermal

365
00:15:06,180 --> 00:15:08,220
energy coming off the ground and vector

366
00:15:08,220 --> 00:15:11,610
B was you know wind blowing down into

367
00:15:11,610 --> 00:15:13,020
the right what would that feel like to

368
00:15:13,020 --> 00:15:14,190
stand there and what would the

369
00:15:14,190 --> 00:15:15,779
combination of that feel like and it

370
00:15:15,779 --> 00:15:19,410
would feel like this all right

371
00:15:19,410 --> 00:15:22,020
so imagine then it's pretty easy then to

372
00:15:22,020 --> 00:15:24,980
pile on the forces and you get the sum

373
00:15:24,980 --> 00:15:27,089
so that's what we're gonna do here so

374
00:15:27,089 --> 00:15:29,670
when I create my ball class I'm going to

375
00:15:29,670 --> 00:15:31,320
not have necessarily an x and

376
00:15:31,320 --> 00:15:32,490
y-coordinate I'm gonna have a location

377
00:15:32,490 --> 00:15:34,410
vector a velocity vector and an

378
00:15:34,410 --> 00:15:36,720
acceleration vector and one for gravity

379
00:15:36,720 --> 00:15:38,790
and then we're going to use that in an

380
00:15:38,790 --> 00:15:42,630
animation loop then we're gonna add

381
00:15:42,630 --> 00:15:45,620
gravity it's going to cascade

382
00:15:45,620 --> 00:15:47,270
gravity goes acceleration acceleration

383
00:15:47,270 --> 00:15:49,850
to velocity and velocity to location and

384
00:15:49,850 --> 00:15:51,290
we can finally draw the ball right so

385
00:15:51,290 --> 00:15:56,570
what does this look like all right

386
00:15:56,570 --> 00:15:59,210
that's not that bad that's about 20

387
00:15:59,210 --> 00:16:02,330
lines of code nothing special going on

388
00:16:02,330 --> 00:16:07,850
all right so here's the cool part though

389
00:16:07,850 --> 00:16:09,920
so obviously there's not enough detail

390
00:16:09,920 --> 00:16:12,560
on that if we want to get to like that

391
00:16:12,560 --> 00:16:15,740
that really cool ultra realistic looking

392
00:16:15,740 --> 00:16:18,110
ball we're gonna need to add all those

393
00:16:18,110 --> 00:16:19,580
forces we talked about and it's this

394
00:16:19,580 --> 00:16:22,040
easy so we're gonna add some wind and

395
00:16:22,040 --> 00:16:24,410
you can see the wind vectors moving

396
00:16:24,410 --> 00:16:27,440
slightly to the right and we're gonna

397
00:16:27,440 --> 00:16:29,570
add it to the acceleration and this is

398
00:16:29,570 --> 00:16:30,950
where you get you can probably guess

399
00:16:30,950 --> 00:16:32,830
what's going to happen here we're gonna

400
00:16:32,830 --> 00:16:47,809
blow down and to the right all right

401
00:16:47,819 --> 00:16:51,669
all right so now we've had years to use

402
00:16:51,669 --> 00:16:54,189
devices that map to our bodies but by

403
00:16:54,189 --> 00:16:55,119
comparison

404
00:16:55,119 --> 00:16:57,249
you know keyboard and a mouse feels a

405
00:16:57,249 --> 00:16:59,379
lot like using a weird little hand to

406
00:16:59,379 --> 00:17:05,860
get it what you want so I want you to

407
00:17:05,860 --> 00:17:07,659
think about think about the Brayton burg

408
00:17:07,659 --> 00:17:09,009
vehicles we saw earlier you know I'm

409
00:17:09,009 --> 00:17:10,389
talking I'm saying that like an iPhone

410
00:17:10,389 --> 00:17:12,279
is a fancy breaker vehicle right it has

411
00:17:12,279 --> 00:17:14,679
sensors and in fact has just enough

412
00:17:14,679 --> 00:17:16,899
sensors to convince us that our

413
00:17:16,899 --> 00:17:18,309
interactions with it are completely

414
00:17:18,309 --> 00:17:21,250
natural so let's think about the desktop

415
00:17:21,250 --> 00:17:23,529
I mean what can we do on a desktop it's

416
00:17:23,529 --> 00:17:27,209
similar so large format inputs right so

417
00:17:27,209 --> 00:17:29,950
html5 has given us a lot of really cool

418
00:17:29,950 --> 00:17:32,289
API s and we can do things with we can

419
00:17:32,289 --> 00:17:34,059
access the user's camera but

420
00:17:34,059 --> 00:17:36,490
getusermedia API we can attach game pads

421
00:17:36,490 --> 00:17:38,970
and analog controls with a gamepad API

422
00:17:38,970 --> 00:17:41,889
there's three I'd like to focus on it's

423
00:17:41,889 --> 00:17:47,580
a mouse acceleration audio and gestures

424
00:17:47,580 --> 00:17:49,870
all right I don't mean to criticize the

425
00:17:49,870 --> 00:17:54,009
mouse at the time it was a step in the

426
00:17:54,009 --> 00:17:55,450
right direction because you know at the

427
00:17:55,450 --> 00:17:56,889
time we didn't have a weird little hand

428
00:17:56,889 --> 00:17:59,559
read nothing right so but the experience

429
00:17:59,559 --> 00:18:01,240
of course is mediated you can only you

430
00:18:01,240 --> 00:18:03,970
can only click so hard but there is

431
00:18:03,970 --> 00:18:05,230
something cool we can do with a mouse

432
00:18:05,230 --> 00:18:06,700
and we can do with it you can do it

433
00:18:06,700 --> 00:18:09,580
right now so if you use your mouse and

434
00:18:09,580 --> 00:18:11,620
you roll it around right you're changing

435
00:18:11,620 --> 00:18:13,750
the location and that's a velocity and

436
00:18:13,750 --> 00:18:15,490
then you're likely changing the velocity

437
00:18:15,490 --> 00:18:17,409
as well and that's an acceleration so we

438
00:18:17,409 --> 00:18:19,899
can apply an acceleration based on how

439
00:18:19,899 --> 00:18:21,789
are using the mouse you know into a

440
00:18:21,789 --> 00:18:23,799
system such as a matter of getting a

441
00:18:23,799 --> 00:18:27,009
system anyway web designers have

442
00:18:27,009 --> 00:18:28,929
recently figured out a way to do this

443
00:18:28,929 --> 00:18:33,399
and I think we've all seen parallax

444
00:18:33,399 --> 00:18:37,620
sites right they're everywhere

445
00:18:37,620 --> 00:18:41,400
Spotify even has one

446
00:18:41,410 --> 00:18:44,120
so I these are all the rage I mean you

447
00:18:44,120 --> 00:18:45,350
see them everywhere and I think that

448
00:18:45,350 --> 00:18:47,420
they're popular not so much for how they

449
00:18:47,420 --> 00:18:49,940
look but for how they feel to use

450
00:18:49,940 --> 00:18:52,460
because this is the one opportunity we

451
00:18:52,460 --> 00:18:54,710
have right now where we get to apply a

452
00:18:54,710 --> 00:18:56,600
continuous acceleration and things

453
00:18:56,600 --> 00:18:59,060
behave like a natural system you know

454
00:18:59,060 --> 00:19:00,590
items in the background feel like they

455
00:19:00,590 --> 00:19:02,480
weigh more they're further back and so

456
00:19:02,480 --> 00:19:03,650
we used these and we get a critical

457
00:19:03,650 --> 00:19:05,210
amount of detail and it feels really

458
00:19:05,210 --> 00:19:08,600
good so I had this idea I really wanted

459
00:19:08,600 --> 00:19:09,710
to get to the heart of this I mean what

460
00:19:09,710 --> 00:19:11,330
if you pushed it further what if the

461
00:19:11,330 --> 00:19:13,430
scroll bar instead of mapping things

462
00:19:13,430 --> 00:19:15,530
proportionally you know its location

463
00:19:15,530 --> 00:19:16,850
which is proportional to how far you use

464
00:19:16,850 --> 00:19:18,020
the scroll bar well if you use the

465
00:19:18,020 --> 00:19:21,110
scroll bar as a pedal and so it just

466
00:19:21,110 --> 00:19:23,660
implied an acceleration into a system

467
00:19:23,660 --> 00:19:29,510
right so I'll show you what I mean so

468
00:19:29,510 --> 00:19:30,830
this would be like the traditional way

469
00:19:30,830 --> 00:19:32,510
of doing some type of scroller right

470
00:19:32,510 --> 00:19:34,370
you'd have a bunch of stuff you'd scroll

471
00:19:34,370 --> 00:19:35,990
and it would move in the opposite

472
00:19:35,990 --> 00:19:37,100
direction the scroll bar and everything

473
00:19:37,100 --> 00:19:38,780
to be nice and proportional so what if

474
00:19:38,780 --> 00:19:42,430
we short circuited the scroll bar and

475
00:19:42,430 --> 00:19:45,050
now it's a pedal and if I let off of it

476
00:19:45,050 --> 00:19:46,310
I don't get any acceleration but the

477
00:19:46,310 --> 00:19:48,380
more I pull on it the faster the

478
00:19:48,380 --> 00:19:50,150
acceleration is and I can do this in

479
00:19:50,150 --> 00:19:53,270
both directions you know all right so

480
00:19:53,270 --> 00:19:55,430
that's kind of fun and then to make it

481
00:19:55,430 --> 00:19:56,480
like a little more interesting I can

482
00:19:56,480 --> 00:19:58,430
change up the colors and I can do

483
00:19:58,430 --> 00:20:00,710
different sizes and so on but if we take

484
00:20:00,710 --> 00:20:03,590
all the things we learned and we apply

485
00:20:03,590 --> 00:20:05,330
acceleration to velocity and we map the

486
00:20:05,330 --> 00:20:07,430
size to some mass let me get something

487
00:20:07,430 --> 00:20:18,330
looks like this this is kind of fun

488
00:20:18,340 --> 00:20:20,660
so the thing that's not cool about this

489
00:20:20,660 --> 00:20:23,720
is that you know I've hijacked a native

490
00:20:23,720 --> 00:20:25,940
UI element and and forced it to do

491
00:20:25,940 --> 00:20:27,790
something that really wasn't meant to do

492
00:20:27,790 --> 00:20:29,870
but remember what I talked about with

493
00:20:29,870 --> 00:20:31,610
vectors all right and talking about the

494
00:20:31,610 --> 00:20:36,680
mouse and location so if I have a fixed

495
00:20:36,680 --> 00:20:39,590
point and I have my mouse that I have a

496
00:20:39,590 --> 00:20:41,780
vector and the further away I moved from

497
00:20:41,780 --> 00:20:44,360
that fixed point I can say is a greater

498
00:20:44,360 --> 00:20:46,310
acceleration so what if I just move

499
00:20:46,310 --> 00:20:47,390
further away from the middle of the

500
00:20:47,390 --> 00:20:52,250
screen and now I've got something that

501
00:20:52,250 --> 00:20:56,370
doesn't even need a scrollbar

502
00:20:56,380 --> 00:21:00,290
so I'm not saying that this is like what

503
00:21:00,290 --> 00:21:01,820
you should do with your your next

504
00:21:01,820 --> 00:21:06,040
website but there is something

505
00:21:06,040 --> 00:21:07,820
conventional we can do with this kind of

506
00:21:07,820 --> 00:21:09,620
thing all right so we've all seen a

507
00:21:09,620 --> 00:21:12,740
horizontal scroller right and I can just

508
00:21:12,740 --> 00:21:15,530
take all the code that we just saw and

509
00:21:15,530 --> 00:21:17,840
just flip it around and take advantage

510
00:21:17,840 --> 00:21:21,350
of Mouse proximity and acceleration and

511
00:21:21,350 --> 00:21:23,840
friction and mass and I get something

512
00:21:23,840 --> 00:21:26,360
that is a gesture you know this when I

513
00:21:26,360 --> 00:21:28,730
do this I'm pointing it at what I want I

514
00:21:28,730 --> 00:21:33,410
don't have scroll bars or anything all

515
00:21:33,410 --> 00:21:34,610
right so we talked about mouse

516
00:21:34,610 --> 00:21:38,330
acceleration let's talk about audio all

517
00:21:38,330 --> 00:21:42,410
right so Web Audio API combined with a

518
00:21:42,410 --> 00:21:46,550
getusermedia API allows us to measure a

519
00:21:46,550 --> 00:21:48,440
stream of audio in terms of its

520
00:21:48,440 --> 00:21:51,530
magnitude across frequency spectrum and

521
00:21:51,530 --> 00:21:53,120
then I can map that to dibbs that change

522
00:21:53,120 --> 00:21:54,350
and I could talk and I've got something

523
00:21:54,350 --> 00:21:59,620
looks like this so what if you combined

524
00:21:59,620 --> 00:22:04,750
the microphone with flocking simulation

525
00:22:04,750 --> 00:22:10,760
all right so here if I take a tone

526
00:22:10,760 --> 00:22:13,730
generator that's on my phone here and I

527
00:22:13,730 --> 00:22:18,620
play it I can activate these guys

528
00:22:18,630 --> 00:22:23,880
you get the volume or the back away so

529
00:22:23,880 --> 00:22:26,100
you can see I can pump them up freak

530
00:22:26,100 --> 00:22:28,410
them out whatever but what's kind of

531
00:22:28,410 --> 00:22:36,190
cool is I can sit then switch and

532
00:22:36,200 --> 00:22:39,410
anybody has a tone generator good nuts

533
00:22:39,410 --> 00:22:42,450
so that's kind of fun but what's neat

534
00:22:42,450 --> 00:22:45,780
about that is all the in-betweens you

535
00:22:45,780 --> 00:22:49,970
know so what if we have a bunch of

536
00:22:49,970 --> 00:23:08,180
tractors and still have these guys

537
00:23:08,190 --> 00:23:13,980
so now I'm implying a force with audio a

538
00:23:13,980 --> 00:23:17,070
gravitational force and moving all my

539
00:23:17,070 --> 00:23:20,679
fireflies around the screen all right

540
00:23:20,679 --> 00:23:25,720
audio so what about gestured so you guys

541
00:23:25,720 --> 00:23:28,720
have probably heard of this thing right

542
00:23:28,720 --> 00:23:31,509
it's the leap motion sensor plug it into

543
00:23:31,509 --> 00:23:34,330
the USB port and it will interpret it or

544
00:23:34,330 --> 00:23:36,669
it'll detect where your hand and fingers

545
00:23:36,669 --> 00:23:46,690
are I've got one right here and if I

546
00:23:46,690 --> 00:23:50,950
combine it with some hands-free you know

547
00:23:50,950 --> 00:23:54,490
a flocking simulation you know all of a

548
00:23:54,490 --> 00:23:57,399
sudden this becomes really fun it would

549
00:23:57,399 --> 00:24:00,190
be fun with a mouse but it's a lot more

550
00:24:00,190 --> 00:24:05,769
fun just waving your hand did you think

551
00:24:05,769 --> 00:24:10,240
this was gonna come back so I said the

552
00:24:10,240 --> 00:24:11,649
mouse was a gesture well why not just

553
00:24:11,649 --> 00:24:23,530
use a gesture

554
00:24:23,540 --> 00:24:25,320
all right I want to tell you a story

555
00:24:25,320 --> 00:24:28,050
about a kid on a plane so recently I was

556
00:24:28,050 --> 00:24:30,900
taking a flight and I was seated next to

557
00:24:30,900 --> 00:24:33,810
a little girl her mom was putting up the

558
00:24:33,810 --> 00:24:37,500
bags and she gave her her phone pacifier

559
00:24:37,500 --> 00:24:39,450
while mom was doing whatever it took to

560
00:24:39,450 --> 00:24:44,130
get us all buckled in and within seconds

561
00:24:44,130 --> 00:24:45,960
she had opened up the phone navigated to

562
00:24:45,960 --> 00:24:48,000
a photos application I was able to find

563
00:24:48,000 --> 00:24:49,640
a video of herself swinging on a swing

564
00:24:49,640 --> 00:24:52,260
and his child was two years old and she

565
00:24:52,260 --> 00:24:54,210
couldn't even talk but she could use

566
00:24:54,210 --> 00:24:56,880
this phone as well as I could use mine

567
00:24:56,880 --> 00:24:59,250
and when it hit me that were born

568
00:24:59,250 --> 00:25:01,500
knowing how to use these things and this

569
00:25:01,500 --> 00:25:04,830
child may never use a desktop PC or a

570
00:25:04,830 --> 00:25:07,440
laptop but she will eventually use

571
00:25:07,440 --> 00:25:09,150
something other than an iPhone likely a

572
00:25:09,150 --> 00:25:10,080
large-format

573
00:25:10,080 --> 00:25:12,570
interface and as JavaScript developers I

574
00:25:12,570 --> 00:25:14,940
believe that we have the chance to lay

575
00:25:14,940 --> 00:25:16,410
the groundwork for those types of

576
00:25:16,410 --> 00:25:19,260
interactions so when you're creating web

577
00:25:19,260 --> 00:25:21,630
UI on the desktop I challenge you to

578
00:25:21,630 --> 00:25:23,640
think in terms of natural interaction

579
00:25:23,640 --> 00:25:25,890
think about Brayton Berg vehicles and

580
00:25:25,890 --> 00:25:28,650
not the component parts but the system

581
00:25:28,650 --> 00:25:32,970
as a whole so in other words I want you

582
00:25:32,970 --> 00:25:34,980
I want you to think about what makes an

583
00:25:34,980 --> 00:25:37,320
interface appealing to this generation

584
00:25:37,320 --> 00:25:39,090
you know the two-year-olds that don't

585
00:25:39,090 --> 00:25:41,640
have to learn gestures because you know

586
00:25:41,640 --> 00:25:42,990
they already know them they are born

587
00:25:42,990 --> 00:25:45,060
with them so if you start from the

588
00:25:45,060 --> 00:25:46,710
perspective of a natural system as

589
00:25:46,710 --> 00:25:48,000
you're prototyping sandbox

590
00:25:48,000 --> 00:25:50,010
you're gonna often come up with

591
00:25:50,010 --> 00:25:51,480
something that's more interesting than

592
00:25:51,480 --> 00:25:52,980
approaching the design from the other

593
00:25:52,980 --> 00:25:55,620
way around but the good news is we've

594
00:25:55,620 --> 00:25:57,660
seen at the threshold it's just not that

595
00:25:57,660 --> 00:25:58,530
far away

596
00:25:58,530 --> 00:26:01,140
I mean instinctually we're tuned to look

597
00:26:01,140 --> 00:26:03,360
for natural interactions and we find

598
00:26:03,360 --> 00:26:06,020
them gravitate to them and we adapt them

599
00:26:06,020 --> 00:26:08,790
to talking about prototyping sandboxes

600
00:26:08,790 --> 00:26:11,880
here's - the only difference is the

601
00:26:11,880 --> 00:26:13,350
first one has a lot of stuff but a

602
00:26:13,350 --> 00:26:15,570
little documentation the second ones

603
00:26:15,570 --> 00:26:16,950
simple that has a lot of documentation

604
00:26:16,950 --> 00:26:21,480
so and then I'd like to say that Spotify

605
00:26:21,480 --> 00:26:24,300
is thrilled to be a sponsor at this

606
00:26:24,300 --> 00:26:26,220
conference and we're out here in the

607
00:26:26,220 --> 00:26:28,260
hall you can talk to us about a new

608
00:26:28,260 --> 00:26:30,630
Spotify feature called Spotify Connect

609
00:26:30,630 --> 00:26:32,790
that lets you control and play music

610
00:26:32,790 --> 00:26:34,980
across your phone tablet and speakers

611
00:26:34,980 --> 00:26:37,320
we're also hiring so if you want to work

612
00:26:37,320 --> 00:26:40,039
at a cool company making cool things

613
00:26:40,039 --> 00:26:42,269
come out and talk to us and we also have

614
00:26:42,269 --> 00:26:43,529
a couple of code challenges you win a

615
00:26:43,529 --> 00:26:50,039
couple of prizes so that's me you can

616
00:26:50,039 --> 00:26:52,019
contact me I'd also like to point out

617
00:26:52,019 --> 00:26:53,909
that I got a fair amount of those

618
00:26:53,909 --> 00:26:56,220
physics formulas from this book nature

619
00:26:56,220 --> 00:26:58,230
of code by Daniel Shipman it's really

620
00:26:58,230 --> 00:27:01,529
good read it and check out the code at

621
00:27:01,529 --> 00:27:14,530
the repo thanks

