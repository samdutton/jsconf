1
00:00:12,639 --> 00:00:15,559

hey everyone it's great to be here I'm

2
00:00:15,559 --> 00:00:18,710
Kevin dan goor this is Patrick Walton

3
00:00:18,710 --> 00:00:21,140
and Joe Walker when we are three parts

4
00:00:21,140 --> 00:00:23,180
of the Mozilla developer tools team I

5
00:00:23,180 --> 00:00:25,369
just wanted to mention that since we

6
00:00:25,369 --> 00:00:26,960
first introduced this presentation or

7
00:00:26,960 --> 00:00:29,509
first proposed it we are we have a

8
00:00:29,509 --> 00:00:30,679
broader mission now we used to be

9
00:00:30,679 --> 00:00:32,210
working pretty much on this exclusively

10
00:00:32,210 --> 00:00:33,949
now we're actually responsible for a

11
00:00:33,949 --> 00:00:36,489
whole bunch of developed tools within

12
00:00:36,489 --> 00:00:38,839
well within Mozilla and i'll just point

13
00:00:38,839 --> 00:00:40,580
out that like this is Firefox 4 and

14
00:00:40,580 --> 00:00:43,160
there's a console that that's all right

15
00:00:43,160 --> 00:00:45,950
well then moving on basically I forget

16
00:00:45,950 --> 00:00:47,329
what you knew about Bespin last year

17
00:00:47,329 --> 00:00:49,100
because we basically made in the

18
00:00:49,100 --> 00:00:50,420
inverter intervening time we've made a

19
00:00:50,420 --> 00:00:52,670
bunch of changes to the project and the

20
00:00:52,670 --> 00:00:54,410
code so it's a very different kind of

21
00:00:54,410 --> 00:00:58,520
things than where we started so and it

22
00:00:58,520 --> 00:01:00,350
even has a new name okay and it has a

23
00:01:00,350 --> 00:01:01,670
new name that's y a much more recent

24
00:01:01,670 --> 00:01:02,989
skywriter and actually you're going to

25
00:01:02,989 --> 00:01:04,100
see during the presentation if we can

26
00:01:04,100 --> 00:01:07,210
show you anything you're going to see

27
00:01:07,210 --> 00:01:10,250
that there are still bits of the best

28
00:01:10,250 --> 00:01:12,740
big name left over so ants let's go 1-1

29
00:01:12,740 --> 00:01:17,570
yeah let's not yes yes see if we can get

30
00:01:17,570 --> 00:01:23,970
the screen out

31
00:01:23,980 --> 00:01:26,200
alright hey we got slides again this is

32
00:01:26,200 --> 00:01:29,140
gonna help okay all right so on that

33
00:01:29,140 --> 00:01:30,580
note let's have Joe talk about what

34
00:01:30,580 --> 00:01:32,410
Bespin actually is or skywriter sorry

35
00:01:32,410 --> 00:01:33,610
food yeah we're gonna make that mistake

36
00:01:33,610 --> 00:01:38,020
to sky ready so a javascript-based coded

37
00:01:38,020 --> 00:01:41,110
it's a very very simple the idea is that

38
00:01:41,110 --> 00:01:45,600
the text area that we have in HTML is

39
00:01:45,600 --> 00:01:47,890
kind of sucky there's a whole ton of

40
00:01:47,890 --> 00:01:49,270
problems with it for code it doesn't

41
00:01:49,270 --> 00:01:52,030
have tabs it doesn't have not line

42
00:01:52,030 --> 00:01:55,350
wrapping you can't do selection properly

43
00:01:55,350 --> 00:01:59,260
whole ton of issues with it it degrades

44
00:01:59,260 --> 00:02:03,100
a lot with lots of code and everyone

45
00:02:03,100 --> 00:02:04,900
that tries to use it comes up with all

46
00:02:04,900 --> 00:02:08,050
these problems the other thing we wanted

47
00:02:08,050 --> 00:02:10,680
to do was to experiment with html5 of it

48
00:02:10,680 --> 00:02:13,570
we think that that generally speaking

49
00:02:13,570 --> 00:02:15,250
developers are going to have up-to-date

50
00:02:15,250 --> 00:02:17,830
browsers on their computers and kanda

51
00:02:17,830 --> 00:02:20,350
upgrade so we kind of freed ourselves

52
00:02:20,350 --> 00:02:22,600
from the shackles well to start off we

53
00:02:22,600 --> 00:02:23,770
freed ourselves from the shackles of

54
00:02:23,770 --> 00:02:27,100
Microsoft entirely and just concentrated

55
00:02:27,100 --> 00:02:29,740
on Chrome and Firefox but I think we'll

56
00:02:29,740 --> 00:02:33,760
be supporting ie9 now as well so we

57
00:02:33,760 --> 00:02:35,980
wanted to play around with canvas web

58
00:02:35,980 --> 00:02:40,630
workers and flex box etc if anyone from

59
00:02:40,630 --> 00:02:42,700
IE 9 is in the audience we want web

60
00:02:42,700 --> 00:02:48,710
workers thought I'd throw that out there

61
00:02:48,720 --> 00:02:52,120
and the idea different to how it was

62
00:02:52,120 --> 00:02:54,190
when we started is that we should be

63
00:02:54,190 --> 00:02:56,410
able to code in any cloud the idea

64
00:02:56,410 --> 00:02:57,730
originally was that we would have a best

65
00:02:57,730 --> 00:03:01,420
bin server and Mozilla would host this

66
00:03:01,420 --> 00:03:03,400
coding environment with you and there's

67
00:03:03,400 --> 00:03:04,780
always a ton of problems with with

68
00:03:04,780 --> 00:03:07,120
scaling that and there's also a ton of

69
00:03:07,120 --> 00:03:09,790
problems we trust as well you know why

70
00:03:09,790 --> 00:03:11,530
should you trust Mozilla with your code

71
00:03:11,530 --> 00:03:13,750
and why should we trust you with some of

72
00:03:13,750 --> 00:03:16,300
the custom stuff that you may want to do

73
00:03:16,300 --> 00:03:20,380
with your code on our service so just as

74
00:03:20,380 --> 00:03:22,060
you can deploy a client now you should

75
00:03:22,060 --> 00:03:23,770
be able to deploy a server as well so

76
00:03:23,770 --> 00:03:26,350
it's a bring your own cloud kind of

77
00:03:26,350 --> 00:03:32,709
solution so in addition to being able to

78
00:03:32,709 --> 00:03:36,450
develop code and run it on a server

79
00:03:36,450 --> 00:03:39,970
we've seen a lot of use of Bespin in the

80
00:03:39,970 --> 00:03:42,549
embedded case in which people who were

81
00:03:42,549 --> 00:03:44,739
developing apps wanted to take the

82
00:03:44,739 --> 00:03:46,329
infrastructure wanted to take the editor

83
00:03:46,329 --> 00:03:48,100
that we had built and use it in their

84
00:03:48,100 --> 00:03:50,380
own products and so we've seen a ton of

85
00:03:50,380 --> 00:03:52,900
community uptake for it and here are a

86
00:03:52,900 --> 00:03:56,410
few examples there is a wiki software

87
00:03:56,410 --> 00:04:00,480
called X wiki which uses Bespin to edit

88
00:04:00,480 --> 00:04:03,549
wiki extensions it's kind of hard to see

89
00:04:03,549 --> 00:04:05,730
here because they're using a dark theme

90
00:04:05,730 --> 00:04:08,739
but you can add it actually edit

91
00:04:08,739 --> 00:04:13,109
extensions for the wiki using Bespin and

92
00:04:13,109 --> 00:04:15,760
there is a there is a product that was

93
00:04:15,760 --> 00:04:17,440
just released that integrated the

94
00:04:17,440 --> 00:04:21,040
etherpad and Bespin together it just

95
00:04:21,040 --> 00:04:22,389
appeared out of nowhere on the mailing

96
00:04:22,389 --> 00:04:24,160
list somebody said hey we made an either

97
00:04:24,160 --> 00:04:27,220
pad with vespa and it works so it's

98
00:04:27,220 --> 00:04:30,700
called ether codes and that we are using

99
00:04:30,700 --> 00:04:32,290
it internally for the add-on builder

100
00:04:32,290 --> 00:04:35,020
which is part of the jetpack project for

101
00:04:35,020 --> 00:04:37,300
creating extensions you'll be able to

102
00:04:37,300 --> 00:04:39,550
create extensions using Bespin with an

103
00:04:39,550 --> 00:04:42,220
IDE around it and make extension for

104
00:04:42,220 --> 00:04:46,330
Firefox so palm has Ares and they've

105
00:04:46,330 --> 00:04:48,400
been using vestment for a while and then

106
00:04:48,400 --> 00:04:50,320
there are several other IDEs like shift

107
00:04:50,320 --> 00:04:54,460
edit and J gate and Megara and all of

108
00:04:54,460 --> 00:04:58,120
them are using Bespin so when we decided

109
00:04:58,120 --> 00:05:02,100
to reboot the project we found that we

110
00:05:02,100 --> 00:05:04,870
wanted to make embedding one of the top

111
00:05:04,870 --> 00:05:07,480
use cases we really wanted to focus on

112
00:05:07,480 --> 00:05:10,150
it because when vestment was originally

113
00:05:10,150 --> 00:05:12,820
conceived we like Joe said we had this

114
00:05:12,820 --> 00:05:15,370
all-in-one encompassing vision for it

115
00:05:15,370 --> 00:05:17,650
and it turned out that what people

116
00:05:17,650 --> 00:05:20,530
really wanted was to take parts of it

117
00:05:20,530 --> 00:05:23,110
and use it in their own application so

118
00:05:23,110 --> 00:05:24,400
we really wanted to make that a first

119
00:05:24,400 --> 00:05:27,400
class citizen and I think we've done

120
00:05:27,400 --> 00:05:32,830
really well so as of today we've got two

121
00:05:32,830 --> 00:05:35,880
supported uses for skywriter the first

122
00:05:35,880 --> 00:05:38,020
basically supported way to use guy right

123
00:05:38,020 --> 00:05:38,760
oh right now it

124
00:05:38,760 --> 00:05:40,350
the bookmarklet actually which is a very

125
00:05:40,350 --> 00:05:42,450
simple way that I can demo that right

126
00:05:42,450 --> 00:05:45,360
here oh well first I'll mention that you

127
00:05:45,360 --> 00:05:46,470
can get it from vestment that mozilla

128
00:05:46,470 --> 00:05:50,280
labs com / bookmarklet but here is

129
00:05:50,280 --> 00:05:51,740
basically the page that you'll see there

130
00:05:51,740 --> 00:05:53,880
so the number way you use it as you drag

131
00:05:53,880 --> 00:05:55,950
this up to your bookmarks bar but I'll

132
00:05:55,950 --> 00:05:57,210
just click it right here so I can demo

133
00:05:57,210 --> 00:05:59,040
it in the page but basically what

134
00:05:59,040 --> 00:06:00,300
happens is if you find a text area

135
00:06:00,300 --> 00:06:01,800
somewhere like if you go to just or

136
00:06:01,800 --> 00:06:03,780
whatever you find a text area here's a

137
00:06:03,780 --> 00:06:05,070
plain text area and you hover over it

138
00:06:05,070 --> 00:06:06,840
you'll see this little Bespin logo

139
00:06:06,840 --> 00:06:08,340
appear next to it when you've clicked on

140
00:06:08,340 --> 00:06:09,900
the bookmarklet so I can click that and

141
00:06:09,900 --> 00:06:11,550
it will convert the text area into a

142
00:06:11,550 --> 00:06:13,440
better text editor right there one that

143
00:06:13,440 --> 00:06:15,300
you can choose a language for syntax

144
00:06:15,300 --> 00:06:17,430
highlighting you can switch themes if

145
00:06:17,430 --> 00:06:21,420
you want so that works pretty in almost

146
00:06:21,420 --> 00:06:23,070
all cases you know if you're coming to

147
00:06:23,070 --> 00:06:24,690
come across a random text area and you

148
00:06:24,690 --> 00:06:26,730
say boy I wish I had a better editor you

149
00:06:26,730 --> 00:06:27,900
can click the bookmarklet and get a

150
00:06:27,900 --> 00:06:32,430
better editor right there so the next

151
00:06:32,430 --> 00:06:36,210
case add yes so you made in case this is

152
00:06:36,210 --> 00:06:37,350
when you want to upgrade your own

153
00:06:37,350 --> 00:06:39,000
website rather than upgrading the

154
00:06:39,000 --> 00:06:42,900
website of somebody else so how do you

155
00:06:42,900 --> 00:06:46,170
embed best been on on your pages and

156
00:06:46,170 --> 00:06:48,180
pretty much I think if you trying to

157
00:06:48,180 --> 00:06:51,090
imagine what you would like how you

158
00:06:51,090 --> 00:06:52,530
would like it so that you had best been

159
00:06:52,530 --> 00:06:54,630
to your pages with one tiny exception

160
00:06:54,630 --> 00:06:56,520
that's pretty much exactly what you do

161
00:06:56,520 --> 00:07:00,180
you have to download some stuff and

162
00:07:00,180 --> 00:07:02,340
we'll talk in a bit about how to do

163
00:07:02,340 --> 00:07:05,220
custom builds if you need it but so

164
00:07:05,220 --> 00:07:06,270
there's your page before any

165
00:07:06,270 --> 00:07:08,640
modifications you probably going to be

166
00:07:08,640 --> 00:07:10,740
slightly more complicated than this but

167
00:07:10,740 --> 00:07:12,990
you're going to have some text area or

168
00:07:12,990 --> 00:07:14,460
something that you want to upgrade it

169
00:07:14,460 --> 00:07:18,180
doesn't have to be a text area so if you

170
00:07:18,180 --> 00:07:19,980
if you wish to turn that text area into

171
00:07:19,980 --> 00:07:23,400
a best bin text area then you have to

172
00:07:23,400 --> 00:07:25,200
import best bin so the thing that you

173
00:07:25,200 --> 00:07:26,610
perhaps might not have guessed is this

174
00:07:26,610 --> 00:07:29,400
link thing so that we can get at other

175
00:07:29,400 --> 00:07:31,530
resources but obviously you're going to

176
00:07:31,530 --> 00:07:35,970
need a script and you're going to have a

177
00:07:35,970 --> 00:07:38,190
class of best bin which you enter text

178
00:07:38,190 --> 00:07:40,860
area now I would say we've not yet done

179
00:07:40,860 --> 00:07:44,280
a release of skywriter in fact we

180
00:07:44,280 --> 00:07:46,230
haven't even reason we change the name

181
00:07:46,230 --> 00:07:48,940
is because lucasarts of

182
00:07:48,940 --> 00:07:50,740
scary with their lawyers they have lots

183
00:07:50,740 --> 00:07:54,360
of lawyers and they're very pointy and

184
00:07:54,360 --> 00:07:58,120
they had a trademark on Bespin and they

185
00:07:58,120 --> 00:07:59,830
let it lapse but they also go around

186
00:07:59,830 --> 00:08:02,410
suing people for stuff than trademarks

187
00:08:02,410 --> 00:08:05,380
so we thought where we're going to we

188
00:08:05,380 --> 00:08:07,900
have to change the night so the next

189
00:08:07,900 --> 00:08:09,070
release that we make will be called

190
00:08:09,070 --> 00:08:10,960
skywriter we haven't done a skywriter

191
00:08:10,960 --> 00:08:13,450
release yet which is why for the letter

192
00:08:13,450 --> 00:08:16,510
the most recent release which still

193
00:08:16,510 --> 00:08:21,130
class equals best bin and your page

194
00:08:21,130 --> 00:08:22,480
suddenly looks like that that's all you

195
00:08:22,480 --> 00:08:28,930
need to do very very easy so we have

196
00:08:28,930 --> 00:08:32,469
custom builds that was a very simple

197
00:08:32,469 --> 00:08:35,200
example and Bespin has a lot of features

198
00:08:35,200 --> 00:08:37,990
Bespin has so many features that we

199
00:08:37,990 --> 00:08:40,450
decided to split it out into plugins and

200
00:08:40,450 --> 00:08:43,570
shoot so that you can not only choose

201
00:08:43,570 --> 00:08:46,120
the ones that you that you want for

202
00:08:46,120 --> 00:08:47,500
example syntax highlighting you might

203
00:08:47,500 --> 00:08:49,000
not want all the syntax highlighters in

204
00:08:49,000 --> 00:08:50,620
there but you can also write your own

205
00:08:50,620 --> 00:08:52,570
and to integrate that with whatever

206
00:08:52,570 --> 00:08:55,840
environments so it's really customizable

207
00:08:55,840 --> 00:08:56,920
I'm just going to give a simple example

208
00:08:56,920 --> 00:08:59,500
of how you do that so we have what's

209
00:08:59,500 --> 00:09:02,650
called this manifest it's just a JSON

210
00:09:02,650 --> 00:09:05,860
file that you give to a tool that we

211
00:09:05,860 --> 00:09:10,270
call dry ice and here's an example of

212
00:09:10,270 --> 00:09:13,930
another manifest so it just tells dry

213
00:09:13,930 --> 00:09:16,930
ice which is our build tool where to put

214
00:09:16,930 --> 00:09:19,750
the output and what plugins you wants

215
00:09:19,750 --> 00:09:22,120
and whether to include some sample pages

216
00:09:22,120 --> 00:09:25,150
that you can try it out right there so

217
00:09:25,150 --> 00:09:29,770
so before we had just a few plugins and

218
00:09:29,770 --> 00:09:35,710
now you can here's a lot of plugins so

219
00:09:35,710 --> 00:09:39,130
you have JavaScript you have CSS syntax

220
00:09:39,130 --> 00:09:40,930
highlighting you have JavaScript code

221
00:09:40,930 --> 00:09:44,940
completion you have growl notifications

222
00:09:44,940 --> 00:09:49,000
and jas lint integrated and so here's

223
00:09:49,000 --> 00:09:51,460
the example I'll just mention also those

224
00:09:51,460 --> 00:09:53,050
all of those plugins on that last page

225
00:09:53,050 --> 00:09:54,160
or ones that ship in the best been

226
00:09:54,160 --> 00:09:55,810
embedded package so you don't to

227
00:09:55,810 --> 00:09:56,710
download anything

228
00:09:56,710 --> 00:10:01,540
for those so this here is a spin from

229
00:10:01,540 --> 00:10:08,760
that trick tank example earlier okay so

230
00:10:08,760 --> 00:10:11,680
showing off the JavaScript code

231
00:10:11,680 --> 00:10:13,450
completion so let's say jQuery is loaded

232
00:10:13,450 --> 00:10:15,100
on your page this is actually all the

233
00:10:15,100 --> 00:10:17,440
tags from jQuery not tags but I mean

234
00:10:17,440 --> 00:10:18,910
well tags is like the internal name

235
00:10:18,910 --> 00:10:20,980
basically these are all the names of the

236
00:10:20,980 --> 00:10:22,800
functions and things that are in jQuery

237
00:10:22,800 --> 00:10:27,130
that he can get out right there we kind

238
00:10:27,130 --> 00:10:28,690
of suffer a bit here from the projector

239
00:10:28,690 --> 00:10:32,770
turning any color darker than medium

240
00:10:32,770 --> 00:10:35,500
brown into black so sometimes it doesn't

241
00:10:35,500 --> 00:10:37,900
look as nice as it does from down here

242
00:10:37,900 --> 00:10:42,730
that you get the idea okay and you can

243
00:10:42,730 --> 00:10:43,930
also see down at the bottom of the

244
00:10:43,930 --> 00:10:44,950
screen there there's the command line

245
00:10:44,950 --> 00:10:47,620
that's something that is available and

246
00:10:47,620 --> 00:10:48,940
people have been had been requesting for

247
00:10:48,940 --> 00:10:50,770
quite a while to have it and Patrick

248
00:10:50,770 --> 00:10:52,810
just around jslint which gives get the

249
00:10:52,810 --> 00:10:54,490
giant plug in there against it you could

250
00:10:54,490 --> 00:10:55,870
see it popped up a notification saying

251
00:10:55,870 --> 00:10:57,760
hey you've got errors in your file so

252
00:10:57,760 --> 00:10:59,110
it's a very easy way to quickly do a

253
00:10:59,110 --> 00:11:00,370
check if you look at the command line

254
00:11:00,370 --> 00:11:02,140
out but you can actually see these are

255
00:11:02,140 --> 00:11:03,190
worth this where the fight went wrong

256
00:11:03,190 --> 00:11:06,790
what the problems are so pretty quick

257
00:11:06,790 --> 00:11:09,970
easy check so it's very easy to actually

258
00:11:09,970 --> 00:11:12,610
take take and customize a skywriter

259
00:11:12,610 --> 00:11:14,260
build so that it got so it's got just

260
00:11:14,260 --> 00:11:21,250
the features you want okay so now we get

261
00:11:21,250 --> 00:11:23,650
into the more complicated part of our

262
00:11:23,650 --> 00:11:24,490
session where we're going to do some

263
00:11:24,490 --> 00:11:26,410
live coding so you've probably heard of

264
00:11:26,410 --> 00:11:28,450
pair programming we're going to be doing

265
00:11:28,450 --> 00:11:30,640
like three-person programming we're

266
00:11:30,640 --> 00:11:31,630
going to be explaining what's going on

267
00:11:31,630 --> 00:11:33,820
Joe is gonna be typing and Patrick is

268
00:11:33,820 --> 00:11:35,500
actually gonna be the one who's not the

269
00:11:35,500 --> 00:11:36,640
driver's seat who's actually making sure

270
00:11:36,640 --> 00:11:38,500
that we're not making errors in our code

271
00:11:38,500 --> 00:11:42,090
so let's go again right do this here

272
00:11:42,090 --> 00:11:46,150
okay so yes one of the things is that

273
00:11:46,150 --> 00:11:47,890
before you create a plug-in of your own

274
00:11:47,890 --> 00:11:49,600
you might want to check the best band

275
00:11:49,600 --> 00:11:51,280
plug-in gallery Bespin plugins mozilla

276
00:11:51,280 --> 00:11:53,380
labs com there are a bunch of plugins

277
00:11:53,380 --> 00:11:55,060
there already like different syntax

278
00:11:55,060 --> 00:11:55,930
highlighters and things like that

279
00:11:55,930 --> 00:11:57,580
different commands people created so

280
00:11:57,580 --> 00:11:59,050
somebody may have already written either

281
00:11:59,050 --> 00:12:00,910
something that you can use or something

282
00:12:00,910 --> 00:12:03,610
that that does what you want to begin

283
00:12:03,610 --> 00:12:06,850
with so we frequent have this debate do

284
00:12:06,850 --> 00:12:07,820
you use

285
00:12:07,820 --> 00:12:10,370
keynote or do you do live coding the

286
00:12:10,370 --> 00:12:12,410
good thing about html5 investment ism

287
00:12:12,410 --> 00:12:14,350
can actually have both at the same time

288
00:12:14,350 --> 00:12:18,950
so okay yep so to get started with this

289
00:12:18,950 --> 00:12:20,720
particular project we're going to be

290
00:12:20,720 --> 00:12:23,480
showing off making a markdown current

291
00:12:23,480 --> 00:12:24,800
conversion command to mark down preview

292
00:12:24,800 --> 00:12:25,970
command so we can actually take mark

293
00:12:25,970 --> 00:12:27,890
down text convert HTML and view it in

294
00:12:27,890 --> 00:12:29,870
the browser we're going to use this

295
00:12:29,870 --> 00:12:31,430
library that somebody else has created

296
00:12:31,430 --> 00:12:33,320
this is a markdown parser that we've

297
00:12:33,320 --> 00:12:34,850
packaged up as a library we can use with

298
00:12:34,850 --> 00:12:36,440
best bin which basically just means

299
00:12:36,440 --> 00:12:38,360
adding some little bit of scaffolding

300
00:12:38,360 --> 00:12:39,830
around their code but it's just a

301
00:12:39,830 --> 00:12:41,300
library that converts marked down to

302
00:12:41,300 --> 00:12:43,640
HTML so we've downloaded that already

303
00:12:43,640 --> 00:12:44,840
and then we're going to go ahead and

304
00:12:44,840 --> 00:12:47,030
create a manifests markdown sampled

305
00:12:47,030 --> 00:12:49,190
Jason actually just manifest I Jason's

306
00:12:49,190 --> 00:12:53,060
probably a good name for that so first

307
00:12:53,060 --> 00:12:53,930
thing we need yeah we're going to be

308
00:12:53,930 --> 00:12:55,100
doing Jason's we need the output

309
00:12:55,100 --> 00:12:58,220
directory and we're going to put that in

310
00:12:58,220 --> 00:13:00,800
dot dot slash build because there's

311
00:13:00,800 --> 00:13:02,300
going to be relative to the build tool

312
00:13:02,300 --> 00:13:04,570
dry-ice this is where it's going to go

313
00:13:04,570 --> 00:13:06,680
the next thing that will need to do is

314
00:13:06,680 --> 00:13:12,800
list our plugins now the screens are

315
00:13:12,800 --> 00:13:16,370
pretty dark so we see that but about

316
00:13:16,370 --> 00:13:19,520
time that one oh we didn't include the

317
00:13:19,520 --> 00:13:23,060
white snow to build yes the best man has

318
00:13:23,060 --> 00:13:24,560
multiple themes that you can you can

319
00:13:24,560 --> 00:13:25,520
include and that probably would have a

320
00:13:25,520 --> 00:13:26,660
nice if we included the white doesn't

321
00:13:26,660 --> 00:13:30,890
however have to show nicely okay so

322
00:13:30,890 --> 00:13:32,270
we're going to list out the plugins so

323
00:13:32,270 --> 00:13:33,620
the plugins we're going to be using here

324
00:13:33,620 --> 00:13:35,950
are basically embedded which is

325
00:13:35,950 --> 00:13:38,090
basically a plug-in that gives you all

326
00:13:38,090 --> 00:13:40,070
of the basic stuff of an embedded editor

327
00:13:40,070 --> 00:13:41,630
the second one we're going to use is

328
00:13:41,630 --> 00:13:44,060
called you I commands that does things

329
00:13:44,060 --> 00:13:46,370
like giving you command command J

330
00:13:46,370 --> 00:13:48,380
shortcut to switch to the command line

331
00:13:48,380 --> 00:13:50,210
so basically just a handful of

332
00:13:50,210 --> 00:13:51,950
convenience commands for building

333
00:13:51,950 --> 00:13:55,880
working within a larger Bespin you I the

334
00:13:55,880 --> 00:13:57,410
command line plug-in itself or something

335
00:13:57,410 --> 00:13:58,700
we want so we actually can run our

336
00:13:58,700 --> 00:14:00,220
markdown preview command conveniently

337
00:14:00,220 --> 00:14:02,450
then we're going to include the markdown

338
00:14:02,450 --> 00:14:05,750
j/s library which is the library that

339
00:14:05,750 --> 00:14:06,710
we've downloaded that does the

340
00:14:06,710 --> 00:14:08,240
conversion and we're going to create a

341
00:14:08,240 --> 00:14:12,410
new plug-in called Bespin markdown so

342
00:14:12,410 --> 00:14:13,790
basically what that plug-in is going to

343
00:14:13,790 --> 00:14:15,860
do the actual command the integration

344
00:14:15,860 --> 00:14:19,250
with the editor and the last thing that

345
00:14:19,250 --> 00:14:21,170
we need to do is we're going to be doing

346
00:14:21,170 --> 00:14:21,680
our code

347
00:14:21,680 --> 00:14:23,000
in a separate directory from where the

348
00:14:23,000 --> 00:14:24,680
build tool is so we need to give it a

349
00:14:24,680 --> 00:14:26,899
search path to tell it where to find our

350
00:14:26,899 --> 00:14:31,790
packages so the search path will point

351
00:14:31,790 --> 00:14:38,690
to dot slash demo smoking works and then

352
00:14:38,690 --> 00:14:44,430
I think we've got our manifest file

353
00:14:44,440 --> 00:14:46,910
right and through the awesome power of

354
00:14:46,910 --> 00:14:50,300
PB pace so we're using we're halfway

355
00:14:50,300 --> 00:14:53,300
through read by rewriting the server the

356
00:14:53,300 --> 00:14:54,890
server was in Python originally we're

357
00:14:54,890 --> 00:14:57,380
rewriting it in JavaScript so we're

358
00:14:57,380 --> 00:14:59,839
using the embedded version here nothing

359
00:14:59,839 --> 00:15:01,580
with that so there's no server behind

360
00:15:01,580 --> 00:15:07,430
this so yeah p be pasted to be our file

361
00:15:07,430 --> 00:15:17,879
system

362
00:15:17,889 --> 00:15:21,559
it works okay so the next thing we're

363
00:15:21,559 --> 00:15:22,879
going to do is we're going to start up

364
00:15:22,879 --> 00:15:24,739
now that we have our manifest file we're

365
00:15:24,739 --> 00:15:26,420
going to start up dry ice which is our

366
00:15:26,420 --> 00:15:27,889
build tool again and it's got a server

367
00:15:27,889 --> 00:15:29,329
mode if you say dash S and a port number

368
00:15:29,329 --> 00:15:31,459
it's going to start up a little web

369
00:15:31,459 --> 00:15:32,989
server that every time you reload the

370
00:15:32,989 --> 00:15:34,579
page it will be rebuild best bin which

371
00:15:34,579 --> 00:15:36,739
is like an instant affair it'll reload

372
00:15:36,739 --> 00:15:40,549
it and show it to you it may actually

373
00:15:40,549 --> 00:15:43,579
not work now okay it worked with a bait

374
00:15:43,579 --> 00:15:47,209
with the basics though but basically so

375
00:15:47,209 --> 00:15:48,259
the next step is we have to actually

376
00:15:48,259 --> 00:15:49,850
define our plug-in so we'll start

377
00:15:49,850 --> 00:15:53,509
writing our plug-in so at the top the

378
00:15:53,509 --> 00:15:55,040
first thing we need to do is basically

379
00:15:55,040 --> 00:15:57,559
provide some metadata so every best been

380
00:15:57,559 --> 00:15:59,389
plug-in is going to have some metadata

381
00:15:59,389 --> 00:16:03,170
that tells best been about the system

382
00:16:03,170 --> 00:16:04,850
that you're but the plug-in that you're

383
00:16:04,850 --> 00:16:06,709
creating and what it depends on and what

384
00:16:06,709 --> 00:16:09,019
its providing to the system and this

385
00:16:09,019 --> 00:16:11,959
this basically is up there's a couple

386
00:16:11,959 --> 00:16:13,220
ways to do it you can put in a separate

387
00:16:13,220 --> 00:16:15,290
package.json file because these are

388
00:16:15,290 --> 00:16:17,720
actually common J's packages or you can

389
00:16:17,720 --> 00:16:20,029
we have a single file plug employment

390
00:16:20,029 --> 00:16:20,989
where you can basically stick the

391
00:16:20,989 --> 00:16:22,610
metadata right there inside the same

392
00:16:22,610 --> 00:16:24,860
file you can see you put a defined

393
00:16:24,860 --> 00:16:27,410
metadata marker around it we're going to

394
00:16:27,410 --> 00:16:28,669
start off by listing the dependencies

395
00:16:28,669 --> 00:16:29,839
this is basically these are the

396
00:16:29,839 --> 00:16:33,980
dependencies that our new plugin has so

397
00:16:33,980 --> 00:16:35,179
since we brought this library down

398
00:16:35,179 --> 00:16:37,639
marked on Jas this is responsible for

399
00:16:37,639 --> 00:16:40,040
doing the actual conversion to HTML for

400
00:16:40,040 --> 00:16:41,569
us so we need to say that we're

401
00:16:41,569 --> 00:16:43,579
dependent on that and we know which

402
00:16:43,579 --> 00:16:45,259
version of it we get download it is zero

403
00:16:45,259 --> 00:16:47,299
point one point two so we're going to

404
00:16:47,299 --> 00:16:49,459
put that up there zero point one point

405
00:16:49,459 --> 00:16:52,100
to those are the common J's package

406
00:16:52,100 --> 00:16:53,749
system actually dictates that those

407
00:16:53,749 --> 00:16:55,369
should be semantic versions if anybody's

408
00:16:55,369 --> 00:16:58,999
seen the semaphore respek so that that

409
00:16:58,999 --> 00:17:00,379
tells us something about you know what

410
00:17:00,379 --> 00:17:02,329
we can expect so we can expect lexa 2012

411
00:17:02,329 --> 00:17:04,130
that we can't really expect anything it

412
00:17:04,130 --> 00:17:06,589
quite a semantic versioning so we end we

413
00:17:06,589 --> 00:17:07,970
end up metadata section with a little

414
00:17:07,970 --> 00:17:11,480
end tag there and that basically the

415
00:17:11,480 --> 00:17:13,920
bill tool can just pull that out

416
00:17:13,920 --> 00:17:16,330
use that metadata or provide it to the

417
00:17:16,330 --> 00:17:19,690
client in the server case so we're going

418
00:17:19,690 --> 00:17:21,580
to write it out to our best bin markdown

419
00:17:21,580 --> 00:17:25,940
that JS file which is our our plugin

420
00:17:25,950 --> 00:17:29,020
okay and now we could actually go over

421
00:17:29,020 --> 00:17:31,930
to the web browser go to the page and

422
00:17:31,930 --> 00:17:35,620
reload and we should see actually

423
00:17:35,620 --> 00:17:37,540
nothing of interest if we if we try to

424
00:17:37,540 --> 00:17:39,670
look for our mark down command it won't

425
00:17:39,670 --> 00:17:40,720
be there because we haven't actually

426
00:17:40,720 --> 00:17:48,460
written the command yet yeah the nice

427
00:17:48,460 --> 00:17:50,530
thing about Lord Oakley about our

428
00:17:50,530 --> 00:17:52,360
packaging format is that it's all common

429
00:17:52,360 --> 00:17:55,000
J's packages so if you find a package on

430
00:17:55,000 --> 00:17:57,460
the internet you can just download it

431
00:17:57,460 --> 00:17:59,920
and put it right there and it becomes

432
00:17:59,920 --> 00:18:01,510
the best been plug-in plugins and

433
00:18:01,510 --> 00:18:04,180
packages are the same thing so we're

434
00:18:04,180 --> 00:18:06,070
really trying to make it easy to pull

435
00:18:06,070 --> 00:18:07,900
third-party lives off the shelf like

436
00:18:07,900 --> 00:18:11,680
you're doing right here yep so the next

437
00:18:11,680 --> 00:18:13,900
step is we'll start actually writing the

438
00:18:13,900 --> 00:18:16,870
functionality for our plug-in so you

439
00:18:16,870 --> 00:18:23,530
want to bring that up you lost your

440
00:18:23,530 --> 00:18:29,250
metadata at the top there

441
00:18:29,260 --> 00:18:33,950
just now I've reloaded it am I yeah well

442
00:18:33,950 --> 00:18:37,340
just yeah he cut it so when you don't

443
00:18:37,340 --> 00:18:38,660
have a server involved it makes it a lot

444
00:18:38,660 --> 00:18:42,350
harder to reload a file but we have the

445
00:18:42,350 --> 00:18:50,420
clipboard so Wow okay all right and you

446
00:18:50,420 --> 00:18:53,810
need your end tag that under the

447
00:18:53,810 --> 00:18:59,600
metadata okay so now we're going to get

448
00:18:59,600 --> 00:19:00,950
into the writing the code of our plugin

449
00:19:00,950 --> 00:19:03,290
and it's going to be actually a pretty

450
00:19:03,290 --> 00:19:05,150
straightforward plug into right so the

451
00:19:05,150 --> 00:19:06,380
first thing that we're going to need to

452
00:19:06,380 --> 00:19:08,270
use is the environment we're going to be

453
00:19:08,270 --> 00:19:09,980
using that to get at that's the

454
00:19:09,980 --> 00:19:11,480
environment module basically investment

455
00:19:11,480 --> 00:19:14,300
will give you access to the various

456
00:19:14,300 --> 00:19:15,470
parts of the best environment so the

457
00:19:15,470 --> 00:19:16,670
different things like the text editor

458
00:19:16,670 --> 00:19:18,950
itself and other resources that are

459
00:19:18,950 --> 00:19:21,020
available within it then we're going to

460
00:19:21,020 --> 00:19:24,410
import our markdown library so the one

461
00:19:24,410 --> 00:19:26,570
that we just said we depend on we know

462
00:19:26,570 --> 00:19:27,740
it's going to be available so we will

463
00:19:27,740 --> 00:19:32,150
import it now so now we're going to

464
00:19:32,150 --> 00:19:33,770
create a function so we say export

465
00:19:33,770 --> 00:19:35,810
previews the name previews the name of

466
00:19:35,810 --> 00:19:37,250
our function we're going to export it so

467
00:19:37,250 --> 00:19:38,690
this is all common jas format for people

468
00:19:38,690 --> 00:19:40,610
who aren't familiar with it I guess

469
00:19:40,610 --> 00:19:42,140
there's so many note users that people

470
00:19:42,140 --> 00:19:43,420
are probably from where is it by now

471
00:19:43,420 --> 00:19:46,100
exports that preview equals function all

472
00:19:46,100 --> 00:19:49,100
of our command functions so we have the

473
00:19:49,100 --> 00:19:50,650
concept of a command which actually

474
00:19:50,650 --> 00:19:52,820
defines pretty much anything you do in

475
00:19:52,820 --> 00:19:54,440
the editor including like cursor

476
00:19:54,440 --> 00:19:56,780
movements and things like that are all

477
00:19:56,780 --> 00:19:59,540
commands so the the basic functionality

478
00:19:59,540 --> 00:20:03,460
of the editor all follows along with

479
00:20:03,460 --> 00:20:06,170
with that same pattern so so you can

480
00:20:06,170 --> 00:20:07,340
extend the editor in the same ways that

481
00:20:07,340 --> 00:20:08,560
we built the editor in the first place

482
00:20:08,560 --> 00:20:11,840
so right now we're taking a making a

483
00:20:11,840 --> 00:20:13,790
command function that includes arguments

484
00:20:13,790 --> 00:20:15,140
that's the the stuff coming into the

485
00:20:15,140 --> 00:20:16,700
command and a request object which is

486
00:20:16,700 --> 00:20:19,220
allows you to send stuff back out from

487
00:20:19,220 --> 00:20:22,430
the command and basically we've got

488
00:20:22,430 --> 00:20:24,830
we're going to get the text as either

489
00:20:24,830 --> 00:20:26,360
the selected text so we ask the

490
00:20:26,360 --> 00:20:27,650
environment for the editor and then we

491
00:20:27,650 --> 00:20:29,450
ask the editor for its selected text if

492
00:20:29,450 --> 00:20:30,860
it doesn't have any selected text will

493
00:20:30,860 --> 00:20:32,210
go ahead and take the whole file which

494
00:20:32,210 --> 00:20:35,600
is just envy dead eter you if you use

495
00:20:35,600 --> 00:20:37,670
text area objects you've seen that

496
00:20:37,670 --> 00:20:39,410
they've responded value just like

497
00:20:39,410 --> 00:20:42,890
our editor does so once we have the text

498
00:20:42,890 --> 00:20:45,380
in hand that from the editor we can then

499
00:20:45,380 --> 00:20:47,780
basically create a pop-up window so

500
00:20:47,780 --> 00:20:49,700
we're just going to open up a blank new

501
00:20:49,700 --> 00:20:50,930
window and we're going to use that

502
00:20:50,930 --> 00:20:53,390
window is our preview window and then

503
00:20:53,390 --> 00:20:55,490
we're going to set the document body

504
00:20:55,490 --> 00:20:57,770
enter HTML to be the converted markdown

505
00:20:57,770 --> 00:20:59,690
so we're going to go ahead and run the

506
00:20:59,690 --> 00:21:01,490
conversion function mark down at to HTML

507
00:21:01,490 --> 00:21:03,530
text and then once you're done with your

508
00:21:03,530 --> 00:21:06,230
request you can say request done the

509
00:21:06,230 --> 00:21:07,520
reason we have to do this is because we

510
00:21:07,520 --> 00:21:09,320
have a lot of requests commands that are

511
00:21:09,320 --> 00:21:10,760
actually asynchronous so you'll have to

512
00:21:10,760 --> 00:21:13,040
say request dot or if you're not done to

513
00:21:13,040 --> 00:21:14,540
me basically you have to wait until you

514
00:21:14,540 --> 00:21:16,760
are done to say request done that way

515
00:21:16,760 --> 00:21:17,990
the editor knows that the command line

516
00:21:17,990 --> 00:21:19,910
knows that you're not done yet and it

517
00:21:19,910 --> 00:21:21,590
will provide a little spinner and stuff

518
00:21:21,590 --> 00:21:25,700
like that so at this point we've gone

519
00:21:25,700 --> 00:21:27,560
ahead and defined the command function

520
00:21:27,560 --> 00:21:30,050
but we haven't really told the best bit

521
00:21:30,050 --> 00:21:31,520
environment anything about it like

522
00:21:31,520 --> 00:21:34,820
nothing actually knows it exists so what

523
00:21:34,820 --> 00:21:37,160
we've got is this system of extension

524
00:21:37,160 --> 00:21:39,500
points so we've got an extension point

525
00:21:39,500 --> 00:21:41,390
called command and basically we've got

526
00:21:41,390 --> 00:21:42,740
an extension that we've made for command

527
00:21:42,740 --> 00:21:45,110
here and what we're doing right now is

528
00:21:45,110 --> 00:21:47,030
in the metadata we're telling the editor

529
00:21:47,030 --> 00:21:48,830
about that now the advantage of using

530
00:21:48,830 --> 00:21:50,840
the system is that in a server

531
00:21:50,840 --> 00:21:53,720
environment or actually really in any

532
00:21:53,720 --> 00:21:55,280
environment where you want some dynamic

533
00:21:55,280 --> 00:21:58,520
behavior we can take this command and we

534
00:21:58,520 --> 00:21:59,840
can basically provide all the metadata

535
00:21:59,840 --> 00:22:01,280
of the client so the client knows hey

536
00:22:01,280 --> 00:22:03,260
I've got all these commands but it

537
00:22:03,260 --> 00:22:04,970
doesn't have to load them all it'll load

538
00:22:04,970 --> 00:22:06,410
this command actually only when the

539
00:22:06,410 --> 00:22:08,120
command is executed so you can have a

540
00:22:08,120 --> 00:22:10,460
million command you can have 50 syntax

541
00:22:10,460 --> 00:22:12,320
highlighters things like that the system

542
00:22:12,320 --> 00:22:13,700
will know they exist but it won't

543
00:22:13,700 --> 00:22:15,850
actually load them until they requested

544
00:22:15,850 --> 00:22:17,990
if you do know if when you do a custom

545
00:22:17,990 --> 00:22:19,460
build you can actually choose you could

546
00:22:19,460 --> 00:22:20,690
actually choose to build things in from

547
00:22:20,690 --> 00:22:25,070
the get-go so right now we've said we've

548
00:22:25,070 --> 00:22:27,110
got it we P stands for extension point

549
00:22:27,110 --> 00:22:28,490
so we say we've got a command command

550
00:22:28,490 --> 00:22:31,010
extension and the name is marked down

551
00:22:31,010 --> 00:22:32,240
preview so that's what the user will

552
00:22:32,240 --> 00:22:40,799
actually type and see

553
00:22:40,809 --> 00:22:49,610
okay all right bigger font those easier

554
00:22:49,610 --> 00:22:52,070
than that okay so description on the

555
00:22:52,070 --> 00:22:54,440
command we actually have so one of the

556
00:22:54,440 --> 00:22:55,370
other advantages you get out of the

557
00:22:55,370 --> 00:22:57,559
metadata is that you can type help and

558
00:22:57,559 --> 00:22:59,000
see all the commands even though it

559
00:22:59,000 --> 00:23:00,620
hasn't loaded them yet so this code the

560
00:23:00,620 --> 00:23:01,879
code doesn't get loaded but the command

561
00:23:01,879 --> 00:23:03,799
does the command meditated us knows that

562
00:23:03,799 --> 00:23:06,289
I can display this description if the

563
00:23:06,289 --> 00:23:07,549
command takes two arguments then it can

564
00:23:07,549 --> 00:23:10,970
even display information about those the

565
00:23:10,970 --> 00:23:13,100
next bit is basically how the lazy

566
00:23:13,100 --> 00:23:14,990
loading is made to work you provide a

567
00:23:14,990 --> 00:23:17,330
pointer which is basically it's like a

568
00:23:17,330 --> 00:23:19,250
URL for the piece of code and in this

569
00:23:19,250 --> 00:23:21,110
case we're saying that in this plugin go

570
00:23:21,110 --> 00:23:22,610
ahead and look for a function called

571
00:23:22,610 --> 00:23:24,529
preview so that is where the command is

572
00:23:24,529 --> 00:23:27,379
so the whole plug-in system now has the

573
00:23:27,379 --> 00:23:29,600
ability to say okay well when I need

574
00:23:29,600 --> 00:23:31,340
this command I just go ahead and load it

575
00:23:31,340 --> 00:23:32,929
so it'll call the load function of the

576
00:23:32,929 --> 00:23:34,460
extension and it will automatically grab

577
00:23:34,460 --> 00:23:39,169
grab that preview function okay so I

578
00:23:39,169 --> 00:23:42,980
think with that we have finished our did

579
00:23:42,980 --> 00:23:45,799
you copy at all thanks that okay good

580
00:23:45,799 --> 00:23:48,470
yep so we finish our plug-in we've

581
00:23:48,470 --> 00:23:53,480
pasted in there we go get we've got our

582
00:23:53,480 --> 00:23:56,000
file now we just reload in the browser

583
00:23:56,000 --> 00:24:01,810
and let's see what we get

584
00:24:01,820 --> 00:24:03,800
get try it's good yeah that's so that's

585
00:24:03,800 --> 00:24:05,780
the when you that's the basic text that

586
00:24:05,780 --> 00:24:07,070
comes up when you have like the default

587
00:24:07,070 --> 00:24:08,810
dry ice server so you want to select all

588
00:24:08,810 --> 00:24:10,040
that your what the command is there

589
00:24:10,040 --> 00:24:11,750
that's good that doesn't look like

590
00:24:11,750 --> 00:24:13,070
markdown so why don't we add so that's

591
00:24:13,070 --> 00:24:15,560
not good is it so it's something more

592
00:24:15,560 --> 00:24:22,190
interesting to preview let's do

593
00:24:22,190 --> 00:24:28,530
something work down like

594
00:24:28,540 --> 00:24:40,430
that looks like we're ghosts on stunts

595
00:24:40,440 --> 00:24:46,200
alright see worked on preview well it's

596
00:24:46,200 --> 00:24:47,610
the blank window on the screen but it

597
00:24:47,610 --> 00:25:01,490
gets just off the screen a little bit

598
00:25:01,500 --> 00:25:10,490
and in cburg town

599
00:25:10,500 --> 00:25:12,870
the danger of live coding is that maybe

600
00:25:12,870 --> 00:25:14,010
you'll end up with a blank screen at the

601
00:25:14,010 --> 00:25:22,749
end

602
00:25:22,759 --> 00:25:26,820
try and see what is what let's see the

603
00:25:26,820 --> 00:25:27,840
windows that open need that third

604
00:25:27,840 --> 00:25:43,460
perimeter we double check the card here

605
00:25:43,470 --> 00:25:48,159
that was interesting okay well anyway I

606
00:25:48,159 --> 00:25:50,260
guess while they try to troubleshoot our

607
00:25:50,260 --> 00:25:59,410
plug-in do you carry

608
00:25:59,420 --> 00:26:33,200
oh yeah

609
00:26:33,210 --> 00:26:41,280
yeah it did look the plugin

610
00:26:41,290 --> 00:26:44,050
that looks like carrion to go into the

611
00:26:44,050 --> 00:27:03,560
next thing

612
00:27:03,570 --> 00:27:05,560
you could just run the commands if

613
00:27:05,560 --> 00:27:14,890
there's anything

614
00:27:14,900 --> 00:27:23,570
no there you go fixed it well so it took

615
00:27:23,570 --> 00:27:26,120
us an extra minute there but but it

616
00:27:26,120 --> 00:27:27,440
didn't take a lot of code I guess that's

617
00:27:27,440 --> 00:27:30,740
the general idea it didn't take a lot of

618
00:27:30,740 --> 00:27:32,780
code and it does that it does offer a

619
00:27:32,780 --> 00:27:34,730
lot of dynamic behavior because the way

620
00:27:34,730 --> 00:27:37,820
the plugin system works so we definitely

621
00:27:37,820 --> 00:27:39,170
put some effort into that part of the

622
00:27:39,170 --> 00:27:53,560
system so go back to the next slide

623
00:27:53,570 --> 00:27:55,420
ok

624
00:27:55,420 --> 00:27:58,240
so I'll mention that this is a tutorial

625
00:27:58,240 --> 00:28:00,780
and that's available online if you go to

626
00:28:00,780 --> 00:28:05,230
MZ la MZ l la / sky tutorial you'll

627
00:28:05,230 --> 00:28:07,180
you'll see the the full tutorial here

628
00:28:07,180 --> 00:28:08,500
which adds a couple other things that

629
00:28:08,500 --> 00:28:10,650
are pretty easy to add keyboard shortcut

630
00:28:10,650 --> 00:28:12,640
we've got a very complicated and

631
00:28:12,640 --> 00:28:14,890
powerful keyboard system but it's very

632
00:28:14,890 --> 00:28:16,210
easy to add a keyboard shortcut to a

633
00:28:16,210 --> 00:28:18,730
command and also a command that can

634
00:28:18,730 --> 00:28:20,290
actually convert the selection from mark

635
00:28:20,290 --> 00:28:22,090
down to HTML which is obviously another

636
00:28:22,090 --> 00:28:24,670
very easy and desirable thing to be able

637
00:28:24,670 --> 00:28:31,390
to do so just talking a little bit about

638
00:28:31,390 --> 00:28:32,830
where we are with the project now so we

639
00:28:32,830 --> 00:28:35,530
I mentioned that the two supported ways

640
00:28:35,530 --> 00:28:38,230
Hughes skywriter right now are the

641
00:28:38,230 --> 00:28:39,640
bookmarklet and embedded and we've shown

642
00:28:39,640 --> 00:28:41,430
you some of the embedded uses right now

643
00:28:41,430 --> 00:28:43,690
something that is kind of in the works

644
00:28:43,690 --> 00:28:45,070
is we're basically moving or we've got

645
00:28:45,070 --> 00:28:46,990
Python infrastructure our build tool and

646
00:28:46,990 --> 00:28:48,700
our server or Python we're moving that

647
00:28:48,700 --> 00:28:51,010
code to JavaScript and we're going to

648
00:28:51,010 --> 00:28:52,660
create a desktop version of best been so

649
00:28:52,660 --> 00:28:54,400
that you get actually with Governor

650
00:28:54,400 --> 00:28:56,320
desktop you can say edit your local

651
00:28:56,320 --> 00:28:58,810
files use it as your everyday editor be

652
00:28:58,810 --> 00:29:00,370
able to write plugins for it with this

653
00:29:00,370 --> 00:29:01,960
be able to actually build embedded

654
00:29:01,960 --> 00:29:05,140
skywriters with the desktop editor so

655
00:29:05,140 --> 00:29:06,520
we're going to build that probably on

656
00:29:06,520 --> 00:29:10,240
top of zul runner and then the next step

657
00:29:10,240 --> 00:29:13,480
after that which would be fairly

658
00:29:13,480 --> 00:29:15,820
straightforward is to build a node based

659
00:29:15,820 --> 00:29:18,250
server that will basically use the same

660
00:29:18,250 --> 00:29:21,610
infrastructure so we'll have a big

661
00:29:21,610 --> 00:29:23,890
difference is that between our original

662
00:29:23,890 --> 00:29:25,750
server plan and the current server plan

663
00:29:25,750 --> 00:29:27,820
is that the idea is that everybody will

664
00:29:27,820 --> 00:29:29,950
have their own separate skyraider server

665
00:29:29,950 --> 00:29:31,750
or either individuals or small groups

666
00:29:31,750 --> 00:29:34,180
will have their own servers and the

667
00:29:34,180 --> 00:29:35,470
reason is that if you can trust the

668
00:29:35,470 --> 00:29:38,260
users then you could actually put have

669
00:29:38,260 --> 00:29:39,610
server-side plugins and can do whatever

670
00:29:39,610 --> 00:29:40,930
they want because I mean we have people

671
00:29:40,930 --> 00:29:42,550
who are like you know I want to be able

672
00:29:42,550 --> 00:29:44,080
to edit my PHP code I want to be able to

673
00:29:44,080 --> 00:29:45,700
actually preview it and try out my PHP

674
00:29:45,700 --> 00:29:48,430
code and and you know we missoula do not

675
00:29:48,430 --> 00:29:50,110
want a rotten peas people's PHP code

676
00:29:50,110 --> 00:29:52,810
that's not our thing so with the server

677
00:29:52,810 --> 00:29:54,280
people can actually do whatever they

678
00:29:54,280 --> 00:29:57,610
want and the server infrastructure is

679
00:29:57,610 --> 00:29:58,870
going to be based on the same plug-in

680
00:29:58,870 --> 00:29:59,890
architecture so you can basically make

681
00:29:59,890 --> 00:30:03,990
plugins that do things like get or hg or

682
00:30:03,990 --> 00:30:06,570
really deploy you know via

683
00:30:06,570 --> 00:30:08,340
whatever the popular deployment tool is

684
00:30:08,340 --> 00:30:12,120
these days so that's that's the general

685
00:30:12,120 --> 00:30:13,230
idea is the server will follow same

686
00:30:13,230 --> 00:30:15,419
plug-in model go ahead and to the next

687
00:30:15,419 --> 00:30:17,549
one which means the the nice thing about

688
00:30:17,549 --> 00:30:19,620
this is it basically we have one

689
00:30:19,620 --> 00:30:21,570
codebase one will have one git

690
00:30:21,570 --> 00:30:23,610
repository that basically has all of

691
00:30:23,610 --> 00:30:25,200
this stuff in it and knows how to build

692
00:30:25,200 --> 00:30:27,149
these separate collections of plugins to

693
00:30:27,149 --> 00:30:29,730
put together one once in a code so runs

694
00:30:29,730 --> 00:30:31,460
you know in the browser runs in

695
00:30:31,460 --> 00:30:33,240
different three different browser of

696
00:30:33,240 --> 00:30:34,590
JavaScript engines it runs in you know

697
00:30:34,590 --> 00:30:36,149
spider monkey and zool runner it'll run

698
00:30:36,149 --> 00:30:39,389
a node so it's it's actually pretty cool

699
00:30:39,389 --> 00:30:40,500
to be able to do that with JavaScript

700
00:30:40,500 --> 00:30:43,169
and I think this really goes back to our

701
00:30:43,169 --> 00:30:46,379
focus on embedding we really want that

702
00:30:46,379 --> 00:30:47,940
we really want Bespin to be a tool that

703
00:30:47,940 --> 00:30:50,429
you can adapt for your needs and I think

704
00:30:50,429 --> 00:30:52,620
this this fits into the book Marcos fits

705
00:30:52,620 --> 00:30:54,539
into the embedded case with the

706
00:30:54,539 --> 00:30:56,730
bookmarklet you can take it and use it

707
00:30:56,730 --> 00:30:58,259
anywhere you see a text area with

708
00:30:58,259 --> 00:30:59,610
embedded you can take it use it in your

709
00:30:59,610 --> 00:31:01,950
apps with desktop you can use it on your

710
00:31:01,950 --> 00:31:04,080
system and with the server you can

711
00:31:04,080 --> 00:31:06,240
deploy it into the own built your own

712
00:31:06,240 --> 00:31:07,799
build infrastructure that you already

713
00:31:07,799 --> 00:31:10,230
have and just add it as a piece and that

714
00:31:10,230 --> 00:31:12,120
way you don't have to switch you an

715
00:31:12,120 --> 00:31:14,009
entirely new model you can just start

716
00:31:14,009 --> 00:31:16,500
using it and use it with the build

717
00:31:16,500 --> 00:31:17,870
infrastructure that you have and

718
00:31:17,870 --> 00:31:20,389
integrate it into your workflow that way

719
00:31:20,389 --> 00:31:22,830
and one more thing I'll mention also is

720
00:31:22,830 --> 00:31:25,370
that even even today with the way

721
00:31:25,370 --> 00:31:27,870
skywriter ties in with the with the

722
00:31:27,870 --> 00:31:30,210
existing Python code server that is

723
00:31:30,210 --> 00:31:32,429
actually done in a plug-in so there's

724
00:31:32,429 --> 00:31:33,990
really it's possible just swap out that

725
00:31:33,990 --> 00:31:35,250
plug in and talk to something else on

726
00:31:35,250 --> 00:31:36,480
the other side even today there's

727
00:31:36,480 --> 00:31:38,070
there's really nothing to prevent people

728
00:31:38,070 --> 00:31:40,649
from doing that and people do so talk a

729
00:31:40,649 --> 00:31:42,809
little bit more about the future we get

730
00:31:42,809 --> 00:31:44,220
lots of requests in fact our number one

731
00:31:44,220 --> 00:31:47,580
request right now is for ipad support

732
00:31:47,580 --> 00:31:49,320
this so people people want to be able to

733
00:31:49,320 --> 00:31:51,149
code on their tablet computer without

734
00:31:51,149 --> 00:31:53,970
having anything else with them and I

735
00:31:53,970 --> 00:31:55,620
think you know that's certainly possible

736
00:31:55,620 --> 00:31:58,289
I think actually iOS 42 is likely going

737
00:31:58,289 --> 00:32:01,500
to add better support for canvas than

738
00:32:01,500 --> 00:32:04,350
what we got now so i think that that'll

739
00:32:04,350 --> 00:32:06,299
be coming before too long part of the

740
00:32:06,299 --> 00:32:07,409
trick there as i was figuring out what

741
00:32:07,409 --> 00:32:08,399
you want the backend to be like because

742
00:32:08,399 --> 00:32:10,139
obviously you need needed talking to

743
00:32:10,139 --> 00:32:11,909
something and we've got the server when

744
00:32:11,909 --> 00:32:13,409
we got the new server obviously there's

745
00:32:13,409 --> 00:32:14,850
there's a real answer there but it might

746
00:32:14,850 --> 00:32:16,350
be cool to be able to even just attach

747
00:32:16,350 --> 00:32:19,090
it to dropbox or something like that

748
00:32:19,090 --> 00:32:24,200
so social editing I think um well i know

749
00:32:24,200 --> 00:32:26,390
i love github pull requests to i think

750
00:32:26,390 --> 00:32:28,160
they're an awesome way of doing

751
00:32:28,160 --> 00:32:31,070
development and and there's if anything

752
00:32:31,070 --> 00:32:32,450
about github who would have said like

753
00:32:32,450 --> 00:32:34,850
three four years ago that you could plug

754
00:32:34,850 --> 00:32:38,390
a social network into your VCS and it

755
00:32:38,390 --> 00:32:41,780
would fly and i would love to do is have

756
00:32:41,780 --> 00:32:44,690
it so that your editor understands pull

757
00:32:44,690 --> 00:32:47,180
requests and it understands when you go

758
00:32:47,180 --> 00:32:48,830
edit a file it can tell you how these

759
00:32:48,830 --> 00:32:51,140
are the guys have also been touching

760
00:32:51,140 --> 00:32:52,790
this file and they want to change it in

761
00:32:52,790 --> 00:32:55,670
this way and how much merge pain could

762
00:32:55,670 --> 00:32:57,200
you save yourself if you knew more about

763
00:32:57,200 --> 00:33:00,350
what what your friends were doing and so

764
00:33:00,350 --> 00:33:02,030
there's a ton of stuff in that area that

765
00:33:02,030 --> 00:33:04,520
would just I think change the way we

766
00:33:04,520 --> 00:33:05,750
collaborate with each other in

767
00:33:05,750 --> 00:33:09,170
developing source code and when it comes

768
00:33:09,170 --> 00:33:12,170
to the syntax awareness features we we

769
00:33:12,170 --> 00:33:15,790
have this project called JSC tags which

770
00:33:15,790 --> 00:33:19,430
essentially breeds a Java reads a set of

771
00:33:19,430 --> 00:33:21,080
JavaScript files and tries to extract

772
00:33:21,080 --> 00:33:23,060
tags and it's a lot smarter than C tags

773
00:33:23,060 --> 00:33:25,700
or any or most of the other traditional

774
00:33:25,700 --> 00:33:28,010
packages it can handle things like

775
00:33:28,010 --> 00:33:31,670
jQuery like like you saw and but it

776
00:33:31,670 --> 00:33:33,380
interrupts interoperates with all these

777
00:33:33,380 --> 00:33:34,640
other formats so if you already have

778
00:33:34,640 --> 00:33:37,610
tags for whatever reason you can you can

779
00:33:37,610 --> 00:33:39,890
use them investment and you can just

780
00:33:39,890 --> 00:33:41,330
hook them up to an embedded best friend

781
00:33:41,330 --> 00:33:42,980
it will provide syntax highlighting and

782
00:33:42,980 --> 00:33:44,960
encode completion and we want to use

783
00:33:44,960 --> 00:33:49,820
that for the flight deck the add-ons

784
00:33:49,820 --> 00:33:53,720
builder for it'll be really helpful when

785
00:33:53,720 --> 00:33:55,610
developing extensions to have the code

786
00:33:55,610 --> 00:33:57,440
completion and that infrastructure is

787
00:33:57,440 --> 00:33:58,340
there for you to use in your own

788
00:33:58,340 --> 00:34:01,370
applications as well we plan to expand

789
00:34:01,370 --> 00:34:04,160
JSC tags roll over time to become a sort

790
00:34:04,160 --> 00:34:07,880
of hub for smart analysis of JavaScript

791
00:34:07,880 --> 00:34:10,879
code you've already seen it with some of

792
00:34:10,879 --> 00:34:12,290
the things that Brendan alluded to in

793
00:34:12,290 --> 00:34:15,050
his talk with the static analysis we

794
00:34:15,050 --> 00:34:17,060
have people working on this code base

795
00:34:17,060 --> 00:34:20,149
and it's it's part of Narcisa it's an

796
00:34:20,149 --> 00:34:23,659
extension to narcissus so we want so we

797
00:34:23,659 --> 00:34:27,830
want this project to be a sort of one

798
00:34:27,830 --> 00:34:29,760
place where all of the

799
00:34:29,760 --> 00:34:35,070
upper tools at Mozilla can we basically

800
00:34:35,070 --> 00:34:37,169
want this project to be a sort of core

801
00:34:37,169 --> 00:34:39,330
component of all the developer tools of

802
00:34:39,330 --> 00:34:41,310
Mozilla and so it's going to make its

803
00:34:41,310 --> 00:34:44,700
way in the best bin as well cool and as

804
00:34:44,700 --> 00:34:46,649
far as command line goes I put a real

805
00:34:46,649 --> 00:34:48,270
beef with our command lines that they

806
00:34:48,270 --> 00:34:50,250
they're all making assumptions which

807
00:34:50,250 --> 00:34:52,470
were true 30 years ago but I just not

808
00:34:52,470 --> 00:34:55,139
show any more so there is no good reason

809
00:34:55,139 --> 00:34:56,850
to assume that the output can only be

810
00:34:56,850 --> 00:34:59,340
characters that's just rubbish even if

811
00:34:59,340 --> 00:35:01,230
it's remote we can have a richer

812
00:35:01,230 --> 00:35:02,700
environment than simple characters

813
00:35:02,700 --> 00:35:05,040
there's no good reason to assume that

814
00:35:05,040 --> 00:35:08,850
commands execute one by one I mean

815
00:35:08,850 --> 00:35:10,470
command lines blow up when you put an

816
00:35:10,470 --> 00:35:12,540
ampersand over it and you're doing a you

817
00:35:12,540 --> 00:35:13,770
know you're doing a find which takes

818
00:35:13,770 --> 00:35:15,480
time then you switch to vibe x is going

819
00:35:15,480 --> 00:35:18,690
to get completely confused and there's

820
00:35:18,690 --> 00:35:20,100
no good reason to have that kind of

821
00:35:20,100 --> 00:35:23,220
distinction to say you know this command

822
00:35:23,220 --> 00:35:24,710
is in the background and stuff can only

823
00:35:24,710 --> 00:35:27,660
write into its own little area that's

824
00:35:27,660 --> 00:35:29,310
all things so come ons don't need to be

825
00:35:29,310 --> 00:35:32,790
serialized and there's just a ton of

826
00:35:32,790 --> 00:35:35,100
problems like that which are making

827
00:35:35,100 --> 00:35:36,630
assumptions from 30 years ago which no

828
00:35:36,630 --> 00:35:38,430
longer true and we can have really cool

829
00:35:38,430 --> 00:35:41,910
command lines that help you to be far

830
00:35:41,910 --> 00:35:44,190
more efficient by telling you you know

831
00:35:44,190 --> 00:35:45,840
telling you what the parameters are as

832
00:35:45,840 --> 00:35:47,370
you typing and telling you that

833
00:35:47,370 --> 00:35:49,170
something's wrong and you know here's

834
00:35:49,170 --> 00:35:51,750
how you can fix it command lines are

835
00:35:51,750 --> 00:35:54,300
fast that they're opaque and if we can

836
00:35:54,300 --> 00:35:56,370
put some smarts onto them we can make

837
00:35:56,370 --> 00:35:58,200
them fast and easily discoverable as

838
00:35:58,200 --> 00:36:05,000
well so I think we're done and that is

839
00:36:05,000 --> 00:36:07,710
that is what we know so much we kind of

840
00:36:07,710 --> 00:36:09,660
I don't know how we doing on time but we

841
00:36:09,660 --> 00:36:11,220
would be happy to hear questions yeah

842
00:36:11,220 --> 00:36:13,710
five minutes okay we were planned our

843
00:36:13,710 --> 00:36:16,800
time yeah yes we had they had planning

844
00:36:16,800 --> 00:36:39,049
for that mark down

845
00:36:39,059 --> 00:36:44,049
so that's not the it appears more like

846
00:36:44,049 --> 00:36:46,839
that because at the moment we've we're

847
00:36:46,839 --> 00:36:49,089
rewriting the server from Python into

848
00:36:49,089 --> 00:36:51,339
JavaScript when it's in javascript is

849
00:36:51,339 --> 00:36:52,059
going to be the kind of thing that

850
00:36:52,059 --> 00:36:53,829
anyone can deploy and then you're going

851
00:36:53,829 --> 00:36:55,569
to have your your projects exactly as

852
00:36:55,569 --> 00:36:57,400
before so we've not thrown that away

853
00:36:57,400 --> 00:36:59,799
with the demo day if you know we're kind

854
00:36:59,799 --> 00:37:01,390
of halfway through going to the going

855
00:37:01,390 --> 00:37:02,710
through the JavaScript rewrite on the

856
00:37:02,710 --> 00:37:05,680
server yeah and actually we have we have

857
00:37:05,680 --> 00:37:07,569
plugins for a filesystem plugin that's

858
00:37:07,569 --> 00:37:09,400
kind of abstracted away and it uses a

859
00:37:09,400 --> 00:37:11,410
very simple REST API and we have all

860
00:37:11,410 --> 00:37:14,140
these commands we implemented so even in

861
00:37:14,140 --> 00:37:17,020
the rebooted Bespin you can we have a

862
00:37:17,020 --> 00:37:19,359
full file system with all of the normal

863
00:37:19,359 --> 00:37:21,490
things that you would expect we have cd

864
00:37:21,490 --> 00:37:22,809
we have the ability to change

865
00:37:22,809 --> 00:37:24,190
directories now which was one of the

866
00:37:24,190 --> 00:37:27,130
most popularly requested features but we

867
00:37:27,130 --> 00:37:30,280
we actually a full auto complete also so

868
00:37:30,280 --> 00:37:32,650
as you as you start typing it'll start

869
00:37:32,650 --> 00:37:34,390
matching on the file so we've actually

870
00:37:34,390 --> 00:37:36,520
put quite a bit of effort into trying to

871
00:37:36,520 --> 00:37:37,869
come up with a smarter way to do the

872
00:37:37,869 --> 00:37:40,150
file systems and the idea is rather than

873
00:37:40,150 --> 00:37:43,390
having like one file system you can kind

874
00:37:43,390 --> 00:37:45,910
of mount stuff this is where we're

875
00:37:45,910 --> 00:37:47,920
headed so you can have stuff stored in

876
00:37:47,920 --> 00:37:50,109
s3 you could have stuff stored you know

877
00:37:50,109 --> 00:37:52,930
wherever you liked and it will it will

878
00:37:52,930 --> 00:37:55,349
do the fancy editing things for you

879
00:37:55,349 --> 00:38:13,000
that's the idea yeah

880
00:38:13,010 --> 00:38:16,559
yeah sorry I I think he's asking on what

881
00:38:16,559 --> 00:38:18,359
framework we're going to use for desktop

882
00:38:18,359 --> 00:38:21,539
like titanium or whatever it's actually

883
00:38:21,539 --> 00:38:24,180
going to be zool runner is the plan so

884
00:38:24,180 --> 00:38:26,970
we're going to use the Mozilla

885
00:38:26,970 --> 00:38:29,309
infrastructure for that but it but it's

886
00:38:29,309 --> 00:38:30,569
not going to be a zoo lap it's going to

887
00:38:30,569 --> 00:38:32,819
be an HTML at the zoo it will simply be

888
00:38:32,819 --> 00:38:35,430
enough to get an HTML browser up and rub

889
00:38:35,430 --> 00:38:38,039
rails are up and running so like iTunes

890
00:38:38,039 --> 00:38:41,760
is a wraparound WebKit this can be a

891
00:38:41,760 --> 00:38:49,020
wrapper around best bit if you like yeah

892
00:38:49,020 --> 00:38:50,940
you will not need to know zool to

893
00:38:50,940 --> 00:38:52,619
contribute the best but don't worry yeah

894
00:38:52,619 --> 00:39:02,819
yeah yeahs anyone else ok we're done

