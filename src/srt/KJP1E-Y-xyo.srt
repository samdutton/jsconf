1
00:00:00,620 --> 00:00:16,180

[Music]

2
00:00:16,190 --> 00:00:17,550
hi everyone

3
00:00:17,550 --> 00:00:19,740
my name is Sean and I'm here to talk

4
00:00:19,740 --> 00:00:22,380
about hooks what's really great is

5
00:00:22,380 --> 00:00:24,420
inconvenient is that half the room

6
00:00:24,420 --> 00:00:26,880
already knows hooks and users react so I

7
00:00:26,880 --> 00:00:28,830
don't have to introduce it very much my

8
00:00:28,830 --> 00:00:30,630
name is Sean I go by Swick's on Twitter

9
00:00:30,630 --> 00:00:32,940
I work at Nikola Phi is a developer

10
00:00:32,940 --> 00:00:35,219
experience engineer I I moonlight as a

11
00:00:35,219 --> 00:00:37,920
moderator on the reax subreddit there's

12
00:00:37,920 --> 00:00:40,140
120,000 of us talking about react and

13
00:00:40,140 --> 00:00:41,790
getting jobs and getting started and

14
00:00:41,790 --> 00:00:44,149
react if you want to join in hire people

15
00:00:44,149 --> 00:00:47,460
please join us and my other big thing is

16
00:00:47,460 --> 00:00:49,140
that I learned in public so anything

17
00:00:49,140 --> 00:00:50,850
that I learned I try to do talks and

18
00:00:50,850 --> 00:00:52,860
blog posts and share stuff and this is

19
00:00:52,860 --> 00:00:55,949
one of those so I'm gonna start this

20
00:00:55,949 --> 00:00:57,719
talk by talking about Rene Magritte he's

21
00:00:57,719 --> 00:00:59,219
one of these painters you might

22
00:00:59,219 --> 00:01:00,570
recognize the painting in the background

23
00:01:00,570 --> 00:01:01,920
that's one of his more famous ones

24
00:01:01,920 --> 00:01:03,870
that's the man in the bowler hat and he

25
00:01:03,870 --> 00:01:05,820
does several variations of this this

26
00:01:05,820 --> 00:01:07,380
one's probably you've seen this as well

27
00:01:07,380 --> 00:01:09,720
and they're all surrealist like they

28
00:01:09,720 --> 00:01:11,909
look they look really good he has skills

29
00:01:11,909 --> 00:01:13,530
but he just paint something that's not

30
00:01:13,530 --> 00:01:15,810
exactly real and it's meant to make you

31
00:01:15,810 --> 00:01:18,479
slightly disturbed slightly like out of

32
00:01:18,479 --> 00:01:20,909
out of kilter this one's also I really

33
00:01:20,909 --> 00:01:22,020
like this because it's like that it's

34
00:01:22,020 --> 00:01:23,189
just like a floating rock that's

35
00:01:23,189 --> 00:01:25,740
probably the inspiration for Pandora and

36
00:01:25,740 --> 00:01:28,020
and this one I also like it's just kind

37
00:01:28,020 --> 00:01:30,150
of like there's like human intimacy but

38
00:01:30,150 --> 00:01:31,619
they're not really seeing each other you

39
00:01:31,619 --> 00:01:34,470
can't see them he has a thing against

40
00:01:34,470 --> 00:01:36,420
painting faces this one's about I think

41
00:01:36,420 --> 00:01:39,119
in the impermanence of life like things

42
00:01:39,119 --> 00:01:41,369
remain and the the man just goes away

43
00:01:41,369 --> 00:01:44,520
anyway the most famous one is probably

44
00:01:44,520 --> 00:01:48,000
this one I'm not good at French so but

45
00:01:48,000 --> 00:01:49,829
it just says this is not a pipe it's a

46
00:01:49,829 --> 00:01:51,780
picture of a pipe is not a pipe so it's

47
00:01:51,780 --> 00:01:53,460
a it's a it's an interesting useful

48
00:01:53,460 --> 00:01:55,229
model for people to discuss it's meant

49
00:01:55,229 --> 00:01:57,030
to make you slightly off-kilter but well

50
00:01:57,030 --> 00:01:58,740
I think I think it's actually useful

51
00:01:58,740 --> 00:02:00,479
right like you can you can point to this

52
00:02:00,479 --> 00:02:01,290
and everyone knows what you're talking

53
00:02:01,290 --> 00:02:05,130
about as a pipe and this is the the

54
00:02:05,130 --> 00:02:08,009
frame that I want to set this talk with

55
00:02:08,009 --> 00:02:09,720
like this is not a pipe but it is a

56
00:02:09,720 --> 00:02:12,450
useful discussion of a pipe

57
00:02:12,450 --> 00:02:13,200
how does

58
00:02:13,200 --> 00:02:14,849
I have to and I'm updated it for the

59
00:02:14,849 --> 00:02:16,860
Millennials so this is a little bit more

60
00:02:16,860 --> 00:02:18,959
updated in terms of a meme that meme was

61
00:02:18,959 --> 00:02:21,420
like a hundred years old this is bit

62
00:02:21,420 --> 00:02:23,040
more recent and this is the more recent

63
00:02:23,040 --> 00:02:27,269
one I always yeah I'm very good with

64
00:02:27,269 --> 00:02:29,730
means so so how does that have to do

65
00:02:29,730 --> 00:02:31,140
with ReactOS I'm gonna assume that

66
00:02:31,140 --> 00:02:32,459
everyone's seen the talks and see the

67
00:02:32,459 --> 00:02:34,519
see the video as in see the docs

68
00:02:34,519 --> 00:02:36,720
obviously go go check it out if you have

69
00:02:36,720 --> 00:02:40,410
it and mainly hooks were meant to

70
00:02:40,410 --> 00:02:42,030
replace on the problems with classes and

71
00:02:42,030 --> 00:02:45,180
in particular binding that this that's

72
00:02:45,180 --> 00:02:46,950
not the only issue and that's not the

73
00:02:46,950 --> 00:02:48,510
primary issue but that is one of the

74
00:02:48,510 --> 00:02:51,480
issues but but we happen to have

75
00:02:51,480 --> 00:02:52,980
exchanged the problem with that with

76
00:02:52,980 --> 00:02:55,560
with with closures there you start to

77
00:02:55,560 --> 00:02:57,599
run into stale closures all the time and

78
00:02:57,599 --> 00:02:59,250
having to refresh your memory on what

79
00:02:59,250 --> 00:03:01,349
closures are so I was I was running

80
00:03:01,349 --> 00:03:03,030
today as well as well as adopting hooks

81
00:03:03,030 --> 00:03:05,610
and so I looked for a startled look for

82
00:03:05,610 --> 00:03:07,829
definitions obviously you turn the mdn a

83
00:03:07,829 --> 00:03:09,329
closure is a combination of a function

84
00:03:09,329 --> 00:03:10,860
in mexico environment with a function

85
00:03:10,860 --> 00:03:13,049
was declared very clear right and blah

86
00:03:13,049 --> 00:03:15,709
blah blah like i look at all these

87
00:03:15,709 --> 00:03:18,840
comments and honestly the the most clear

88
00:03:18,840 --> 00:03:20,970
one was actually w3schools it's a

89
00:03:20,970 --> 00:03:23,250
closure makes it possible for a function

90
00:03:23,250 --> 00:03:25,260
to have private variables that's the

91
00:03:25,260 --> 00:03:26,880
only time I've ever found w3schools

92
00:03:26,880 --> 00:03:31,260
useful but thank you anyway

93
00:03:31,260 --> 00:03:35,160
so so then I have this exercise of like

94
00:03:35,160 --> 00:03:36,600
why not write hooks from scratch and

95
00:03:36,600 --> 00:03:38,850
practice closures as well because if it

96
00:03:38,850 --> 00:03:40,230
can have private variables I kind of

97
00:03:40,230 --> 00:03:42,660
stateful functions so this is the part

98
00:03:42,660 --> 00:03:45,389
where we start live coding and we have

99
00:03:45,389 --> 00:03:49,560
time okay so what do I mean by stateful

100
00:03:49,560 --> 00:03:51,900
functions let's just have a variable on

101
00:03:51,900 --> 00:03:53,549
the global scope I hope this is big

102
00:03:53,549 --> 00:03:54,660
enough for everyone

103
00:03:54,660 --> 00:03:56,549
variable on a global scope and I'm gonna

104
00:03:56,549 --> 00:03:58,139
constantly I only have a function called

105
00:03:58,139 --> 00:04:03,180
add if I can spell under intense

106
00:04:03,180 --> 00:04:06,359
scrutiny in pledge then pressure food

107
00:04:06,359 --> 00:04:09,620
plus one it's going to return foo and

108
00:04:09,620 --> 00:04:14,970
now every time I call it it's gonna

109
00:04:14,970 --> 00:04:16,650
increment by one right it's a stateful

110
00:04:16,650 --> 00:04:18,510
function in the sense that as every time

111
00:04:18,510 --> 00:04:20,280
I call it there's some internal state

112
00:04:20,280 --> 00:04:22,470
going on that's that's that's being

113
00:04:22,470 --> 00:04:24,570
mutated and and and you can see the

114
00:04:24,570 --> 00:04:27,229
result of that the problem of this is is

115
00:04:27,229 --> 00:04:29,030
thus the the fou variable is on the

116
00:04:29,030 --> 00:04:31,009
global scope so any intermediate script

117
00:04:31,009 --> 00:04:32,960
can just mess of it right like I can

118
00:04:32,960 --> 00:04:35,240
just say like food 999 and that screws

119
00:04:35,240 --> 00:04:37,880
up my my expectations of what's supposed

120
00:04:37,880 --> 00:04:39,650
to happen if I make if I'm writing a

121
00:04:39,650 --> 00:04:42,380
library that's not a good it's not

122
00:04:42,380 --> 00:04:44,180
that's not very secure so I need to

123
00:04:44,180 --> 00:04:46,340
contain I need to protect this variable

124
00:04:46,340 --> 00:04:48,080
somehow and move it off the global scope

125
00:04:48,080 --> 00:04:50,120
and how do I do that I move that inside

126
00:04:50,120 --> 00:04:52,430
the scope of the of the function right

127
00:04:52,430 --> 00:04:54,229
and so now JavaScript just refuses to

128
00:04:54,229 --> 00:04:58,130
run it just doesn't let you modify food

129
00:04:58,130 --> 00:05:00,050
that's great but I give up

130
00:05:00,050 --> 00:05:02,630
the statefulness I gave I just call it

131
00:05:02,630 --> 00:05:04,520
every single time in it and it just has

132
00:05:04,520 --> 00:05:07,099
the same has the same value so how do i

133
00:05:07,099 --> 00:05:09,680
how do I fix this I can't exactly fix

134
00:05:09,680 --> 00:05:11,690
this with this API what I can do is

135
00:05:11,690 --> 00:05:14,530
return a function inside of the function

136
00:05:14,530 --> 00:05:17,419
and do the exact same thing inside there

137
00:05:17,419 --> 00:05:19,870
I'm just a switch this to get add

138
00:05:19,870 --> 00:05:22,490
function higher-order function I guess

139
00:05:22,490 --> 00:05:25,490
and I'm gonna call get add in there and

140
00:05:25,490 --> 00:05:28,400
now it still works again I have a state

141
00:05:28,400 --> 00:05:30,169
I have my stateful function back and I

142
00:05:30,169 --> 00:05:32,510
cannot touch foo inside and internally

143
00:05:32,510 --> 00:05:34,220
right so those are the requirements that

144
00:05:34,220 --> 00:05:35,690
we want we want stateful functions and

145
00:05:35,690 --> 00:05:36,949
we want them to be protected we on that

146
00:05:36,949 --> 00:05:38,330
state to be protected

147
00:05:38,330 --> 00:05:41,210
the last JavaScript refresher so this is

148
00:05:41,210 --> 00:05:43,430
a closure right I add the add function

149
00:05:43,430 --> 00:05:45,680
is this anonymous function in here and

150
00:05:45,680 --> 00:05:48,080
it closes over this full variable that's

151
00:05:48,080 --> 00:05:50,180
inside of the get add function no one

152
00:05:50,180 --> 00:05:52,669
else can access it but and can access it

153
00:05:52,669 --> 00:05:54,880
every time is executed that's closure so

154
00:05:54,880 --> 00:05:57,199
the last thing I'm gonna remind you and

155
00:05:57,199 --> 00:05:58,310
then we will actually start to clone

156
00:05:58,310 --> 00:06:01,099
react is that if I don't want this ugly

157
00:06:01,099 --> 00:06:03,500
get add thing it's kind of ugly I can

158
00:06:03,500 --> 00:06:05,900
just delete this replace get add with a

159
00:06:05,900 --> 00:06:08,960
parenthesis and I'll just paste it in

160
00:06:08,960 --> 00:06:10,550
there and it does exactly the same thing

161
00:06:10,550 --> 00:06:12,530
so this is the module pattern it's also

162
00:06:12,530 --> 00:06:14,720
called be Fe the immediately invoking

163
00:06:14,720 --> 00:06:16,550
function expression a lot of you are

164
00:06:16,550 --> 00:06:18,220
seen if you look at bundler output

165
00:06:18,220 --> 00:06:21,560
alright let's clone react so first thing

166
00:06:21,560 --> 00:06:23,419
when I clone is the used state variable

167
00:06:23,419 --> 00:06:25,820
you state hook it takes an initial value

168
00:06:25,820 --> 00:06:32,180
and in its vowel I'm gonna call it and

169
00:06:32,180 --> 00:06:34,639
what does it return it returns a state

170
00:06:34,639 --> 00:06:37,039
and it's set state I'm going to refer a

171
00:06:37,039 --> 00:06:38,970
lot by the way to the

172
00:06:38,970 --> 00:06:41,280
that the docs like if people knew if

173
00:06:41,280 --> 00:06:43,080
people knew to hugs definitely check out

174
00:06:43,080 --> 00:06:45,470
the docs first before watching this talk

175
00:06:45,470 --> 00:06:48,180
so how do you how do you define state

176
00:06:48,180 --> 00:06:49,620
and set state how do you implement that

177
00:06:49,620 --> 00:06:51,240
we're just gonna have some internal

178
00:06:51,240 --> 00:06:52,860
variable that's just called the internal

179
00:06:52,860 --> 00:06:54,480
value and we're just gonna initialize it

180
00:06:54,480 --> 00:06:57,060
to in it Val we're gonna have state and

181
00:06:57,060 --> 00:06:59,250
it's just a sign that - Val for now this

182
00:06:59,250 --> 00:07:02,220
is wrong but we just get something

183
00:07:02,220 --> 00:07:03,420
showing on the screen and then we'll

184
00:07:03,420 --> 00:07:05,640
modify from there set state takes a new

185
00:07:05,640 --> 00:07:09,960
value and it sets that new value to the

186
00:07:09,960 --> 00:07:14,190
internal Val okay good so now we have

187
00:07:14,190 --> 00:07:16,830
hooks in node let's use it count set

188
00:07:16,830 --> 00:07:21,480
count so this is D structuring or ad

189
00:07:21,480 --> 00:07:24,420
structuring and and all that so again

190
00:07:24,420 --> 00:07:26,340
these are all standard JavaScript

191
00:07:26,340 --> 00:07:29,040
patterns that are pretty handy when

192
00:07:29,040 --> 00:07:30,720
doing this and then now we're gonna

193
00:07:30,720 --> 00:07:33,600
console dot log count we're going to set

194
00:07:33,600 --> 00:07:35,910
counts to two and then we're gonna

195
00:07:35,910 --> 00:07:37,860
console out count again so what I expect

196
00:07:37,860 --> 00:07:39,960
is to log out one and two

197
00:07:39,960 --> 00:07:42,900
unfortunately I log out one and one over

198
00:07:42,900 --> 00:07:45,090
here and that means that I'm not really

199
00:07:45,090 --> 00:07:46,470
it's not really working

200
00:07:46,470 --> 00:07:48,930
unfortunately it actually is that set

201
00:07:48,930 --> 00:07:49,980
count is working

202
00:07:49,980 --> 00:07:51,810
it's modifying internal value but the

203
00:07:51,810 --> 00:07:53,760
problem is when ID structure this counts

204
00:07:53,760 --> 00:07:56,250
is assigned the value of one and it is

205
00:07:56,250 --> 00:07:57,810
one here and it is one here that's what

206
00:07:57,810 --> 00:07:59,340
we're logging out one so we need

207
00:07:59,340 --> 00:08:01,440
someplace to just repoed the internal

208
00:08:01,440 --> 00:08:04,260
state again one easy it's very cheap way

209
00:08:04,260 --> 00:08:06,030
to do it is to turn the state into a

210
00:08:06,030 --> 00:08:07,980
getter function and now I can just call

211
00:08:07,980 --> 00:08:11,640
get I just call the function and now I

212
00:08:11,640 --> 00:08:13,080
have my state full function back again

213
00:08:13,080 --> 00:08:16,919
so one into and and and this is kind of

214
00:08:16,919 --> 00:08:18,450
hooks in note if you need hooks in node

215
00:08:18,450 --> 00:08:19,770
that's that's all the implementation

216
00:08:19,770 --> 00:08:22,410
it's eight lines but we want to do more

217
00:08:22,410 --> 00:08:24,450
than that the in reacts you don't call a

218
00:08:24,450 --> 00:08:25,890
getter function you just used the

219
00:08:25,890 --> 00:08:27,630
variable and it's live every time and

220
00:08:27,630 --> 00:08:29,250
it's just fresh and it's the correct

221
00:08:29,250 --> 00:08:31,169
value don't you don't call it a weird

222
00:08:31,169 --> 00:08:33,120
getter function so we want to model that

223
00:08:33,120 --> 00:08:35,250
but it involves a pretty large refactor

224
00:08:35,250 --> 00:08:36,510
I'm gonna walk you through it you

225
00:08:36,510 --> 00:08:37,530
already know everything that you need to

226
00:08:37,530 --> 00:08:39,120
know so I'm gonna zoom a little bit all

227
00:08:39,120 --> 00:08:40,409
right so the first thing we want to do

228
00:08:40,409 --> 00:08:42,990
is put our hook inside of a reactive

229
00:08:42,990 --> 00:08:45,750
module I'm gonna cut this I'm going to

230
00:08:45,750 --> 00:08:48,000
introduce a react module it's going to

231
00:08:48,000 --> 00:08:50,430
be a function that I immediately invoke

232
00:08:50,430 --> 00:08:51,000
right

233
00:08:51,000 --> 00:08:53,460
I'm gonna paste my hook in there and I'm

234
00:08:53,460 --> 00:08:56,700
gonna return an object that has a u

235
00:08:56,700 --> 00:08:58,800
state property so now the only thing

236
00:08:58,800 --> 00:09:00,840
I've changed is in my usage I can call

237
00:09:00,840 --> 00:09:02,790
react use state and it does exactly the

238
00:09:02,790 --> 00:09:05,370
same thing everyone with me alright okay

239
00:09:05,370 --> 00:09:08,610
cool so so I've done I put I created my

240
00:09:08,610 --> 00:09:11,310
react module and I've sort of wrapped up

241
00:09:11,310 --> 00:09:13,050
my functionality I can do that to my

242
00:09:13,050 --> 00:09:13,740
hook as well

243
00:09:13,740 --> 00:09:15,420
what wraps are on a hook a component

244
00:09:15,420 --> 00:09:20,030
right so I can declare a component and

245
00:09:20,030 --> 00:09:23,220
and that's just a regular function and

246
00:09:23,220 --> 00:09:25,440
put the hook in there normally I'd be

247
00:09:25,440 --> 00:09:27,900
rendering to the Dom but in this case I

248
00:09:27,900 --> 00:09:28,770
don't have a door might just have the

249
00:09:28,770 --> 00:09:31,110
console so I'm just going to return an

250
00:09:31,110 --> 00:09:34,440
object and simulate that we'll get to

251
00:09:34,440 --> 00:09:36,260
the other stuff in a second so render

252
00:09:36,260 --> 00:09:39,600
I'm gonna have consult log counts and

253
00:09:39,600 --> 00:09:42,960
then click this is just for simulating I

254
00:09:42,960 --> 00:09:44,280
don't have a button so we're just gonna

255
00:09:44,280 --> 00:09:48,210
roll with this it's the best you got and

256
00:09:48,210 --> 00:09:50,910
I'm just gonna put in an object yeah

257
00:09:50,910 --> 00:09:53,760
forget the object okay so so the last

258
00:09:53,760 --> 00:09:55,410
thing that we need to do is we need to

259
00:09:55,410 --> 00:09:57,720
teach we have react and we have the

260
00:09:57,720 --> 00:09:59,280
component we need we need to we need to

261
00:09:59,280 --> 00:10:00,960
teach react how to render the component

262
00:10:00,960 --> 00:10:04,110
so that's right the render function it

263
00:10:04,110 --> 00:10:08,070
takes a component and a component is

264
00:10:08,070 --> 00:10:10,560
just a function right so let's just call

265
00:10:10,560 --> 00:10:16,410
it and then the when you call it you get

266
00:10:16,410 --> 00:10:18,360
an object that has a render and it click

267
00:10:18,360 --> 00:10:20,040
right so let's just called the render

268
00:10:20,040 --> 00:10:22,260
all right let's actually just put log

269
00:10:22,260 --> 00:10:23,670
something out on the screen and then

270
00:10:23,670 --> 00:10:25,110
we'll just return it so that we can do

271
00:10:25,110 --> 00:10:27,300
other stuff with the component and I'm

272
00:10:27,300 --> 00:10:29,580
gonna expose that inside of my react

273
00:10:29,580 --> 00:10:31,890
module over here so we're at 16 lines

274
00:10:31,890 --> 00:10:33,360
not too bad

275
00:10:33,360 --> 00:10:35,220
and now I can replace all this logging

276
00:10:35,220 --> 00:10:39,900
stuff and do something like react render

277
00:10:39,900 --> 00:10:42,839
component we should see something show

278
00:10:42,839 --> 00:10:44,610
up on the screen up that's not exactly

279
00:10:44,610 --> 00:10:47,790
what I want but whatever and I can

280
00:10:47,790 --> 00:10:49,350
because there's there's a return value

281
00:10:49,350 --> 00:10:51,720
over here I can take this and I can

282
00:10:51,720 --> 00:10:54,000
start accessing stuff on the object

283
00:10:54,000 --> 00:10:55,820
right like the click function that I

284
00:10:55,820 --> 00:10:58,710
wrote so I can just say click and I can

285
00:10:58,710 --> 00:11:02,010
render it again react I'll click is not

286
00:11:02,010 --> 00:11:03,680
a function oh it's

287
00:11:03,680 --> 00:11:06,199
okay cool it's a little bit like TDD

288
00:11:06,199 --> 00:11:07,999
instant feedback in this rebel thing is

289
00:11:07,999 --> 00:11:08,930
really nice

290
00:11:08,930 --> 00:11:11,029
okay so the only thing that's wrong with

291
00:11:11,029 --> 00:11:12,439
this now is I'm logging the state get er

292
00:11:12,439 --> 00:11:13,850
right that's the that's the thing that

293
00:11:13,850 --> 00:11:14,959
we did just now there was like a hacky

294
00:11:14,959 --> 00:11:16,699
thing let's just get rid of that let's

295
00:11:16,699 --> 00:11:19,550
lift the value up to the the internal

296
00:11:19,550 --> 00:11:23,689
value up to the scope of react and we're

297
00:11:23,689 --> 00:11:26,059
going to get rid of the getter function

298
00:11:26,059 --> 00:11:27,649
we don't need it anymore and we're just

299
00:11:27,649 --> 00:11:29,600
gonna let the getter function close over

300
00:11:29,600 --> 00:11:31,939
the internal value the the you stay

301
00:11:31,939 --> 00:11:34,399
close over the internal value so now it

302
00:11:34,399 --> 00:11:37,220
just returns every single time it

303
00:11:37,220 --> 00:11:43,369
renders so so this is the okay so this

304
00:11:43,369 --> 00:11:50,059
is I'm running into something that I

305
00:11:50,059 --> 00:11:52,610
didn't expect over here so I'm gonna try

306
00:11:52,610 --> 00:12:00,730
to debunk a little bit I think okay so

307
00:12:00,730 --> 00:12:04,040
it comes yeah I think I think I said

308
00:12:04,040 --> 00:12:06,439
comes oh yeah I need two plus one of

309
00:12:06,439 --> 00:12:08,809
course if I'm selling cars to the

310
00:12:08,809 --> 00:12:10,069
original accounts it's not gonna

311
00:12:10,069 --> 00:12:13,550
increment so yeah okay so I practice

312
00:12:13,550 --> 00:12:15,350
this a lot so it's very unusual for me

313
00:12:15,350 --> 00:12:17,480
to screw up like that so you can see we

314
00:12:17,480 --> 00:12:18,800
have our stateful functions back right

315
00:12:18,800 --> 00:12:19,970
but we've gone through a whole buncha

316
00:12:19,970 --> 00:12:21,800
ceremony but now we have a react module

317
00:12:21,800 --> 00:12:24,350
we have a component right it kind of

318
00:12:24,350 --> 00:12:26,990
looks like a component and and we can we

319
00:12:26,990 --> 00:12:28,790
can do things to the component and it

320
00:12:28,790 --> 00:12:30,889
updates in state so that's really good

321
00:12:30,889 --> 00:12:33,740
until you try to have multiple states

322
00:12:33,740 --> 00:12:35,959
multiple hooks so let's just have a text

323
00:12:35,959 --> 00:12:36,949
hook it's gonna look slightly different

324
00:12:36,949 --> 00:12:38,689
so that you can differentiate between

325
00:12:38,689 --> 00:12:40,759
the number and the text I'm gonna call

326
00:12:40,759 --> 00:12:42,379
it apple just because that's the first

327
00:12:42,379 --> 00:12:45,050
thing I think about I'm gonna log it out

328
00:12:45,050 --> 00:12:47,360
as well so we're gonna log it out in our

329
00:12:47,360 --> 00:12:48,860
render and I'm gonna have a new method

330
00:12:48,860 --> 00:12:52,100
I'm just going to call it type I'm just

331
00:12:52,100 --> 00:12:53,600
gonna take a word and it's gonna set

332
00:12:53,600 --> 00:12:58,129
text to that word okay let's get rid of

333
00:12:58,129 --> 00:13:01,759
this and we'll use that type function

334
00:13:01,759 --> 00:13:03,949
here and you'll see what's wrong with it

335
00:13:03,949 --> 00:13:05,929
in a second so I'm gonna set that to

336
00:13:05,929 --> 00:13:08,689
pear okay so so what's happening here

337
00:13:08,689 --> 00:13:10,720
our component is here it's got two hooks

338
00:13:10,720 --> 00:13:14,089
the first click happens and and both

339
00:13:14,089 --> 00:13:15,799
counts and texts are both set to two and

340
00:13:15,799 --> 00:13:16,970
then we

341
00:13:16,970 --> 00:13:20,149
at that type and both counts in Texas

342
00:13:20,149 --> 00:13:22,430
both set to pair so what's wrong with

343
00:13:22,430 --> 00:13:24,709
this this image we are trying to use to

344
00:13:24,709 --> 00:13:26,000
a hoax but they're they're they're just

345
00:13:26,000 --> 00:13:27,829
oh they're just using the same store in

346
00:13:27,829 --> 00:13:29,509
the memory right because we only have

347
00:13:29,509 --> 00:13:30,980
one variable and it's constantly

348
00:13:30,980 --> 00:13:34,100
overwriting that single variable so the

349
00:13:34,100 --> 00:13:35,540
the mental image of hooks that you have

350
00:13:35,540 --> 00:13:37,370
now should grow a little bit and you

351
00:13:37,370 --> 00:13:39,250
should think of hooks as a rays of

352
00:13:39,250 --> 00:13:42,529
effects so let's just use an array and

353
00:13:42,529 --> 00:13:44,629
we'll stand to know which hook we're

354
00:13:44,629 --> 00:13:46,160
currently operating on we also need an

355
00:13:46,160 --> 00:13:48,579
index so I'm gonna have an index of zero

356
00:13:48,579 --> 00:13:51,800
so so now now we're now it's pretty

357
00:13:51,800 --> 00:13:53,209
clear we're gonna replace all the

358
00:13:53,209 --> 00:13:55,970
internal values with just hooks and in

359
00:13:55,970 --> 00:13:58,189
the current index so now nothing has

360
00:13:58,189 --> 00:14:01,639
changed because we're still not oh it's

361
00:14:01,639 --> 00:14:03,439
not incrementing the index so I'm gonna

362
00:14:03,439 --> 00:14:05,269
have a rule there at the end of the at

363
00:14:05,269 --> 00:14:07,310
the end of a hook after we're done we

364
00:14:07,310 --> 00:14:08,449
should just always increment the index

365
00:14:08,449 --> 00:14:10,339
so that the next hook can take and can

366
00:14:10,339 --> 00:14:11,629
take place so now we have an

367
00:14:11,629 --> 00:14:14,389
independently updating counts and text

368
00:14:14,389 --> 00:14:16,339
is not changing that's good but over

369
00:14:16,339 --> 00:14:18,649
here we still have this weird bug and

370
00:14:18,649 --> 00:14:20,209
that's because I just keep incrementing

371
00:14:20,209 --> 00:14:22,220
index plus one plus one plus one plus

372
00:14:22,220 --> 00:14:23,899
one I need to reset it back to zero so

373
00:14:23,899 --> 00:14:26,449
that every single time a rerender it's

374
00:14:26,449 --> 00:14:28,309
gonna start and go through all these

375
00:14:28,309 --> 00:14:29,769
hooks from scratch because it's

376
00:14:29,769 --> 00:14:31,939
referring to their internal hook storage

377
00:14:31,939 --> 00:14:34,670
so yeah let's just set it to zero and

378
00:14:34,670 --> 00:14:37,610
now I'm gonna break everything and this

379
00:14:37,610 --> 00:14:39,500
is because of a very subtle bug again

380
00:14:39,500 --> 00:14:42,079
set state is called asynchronously set

381
00:14:42,079 --> 00:14:44,029
state is called after a render right and

382
00:14:44,029 --> 00:14:46,670
and by that time hope the the indexes

383
00:14:46,670 --> 00:14:49,129
actually set back to zero so this this

384
00:14:49,129 --> 00:14:50,629
index being a live value that's a

385
00:14:50,629 --> 00:14:52,730
problem for us the way to fix that

386
00:14:52,730 --> 00:14:55,639
problem is to freeze it so let's have an

387
00:14:55,639 --> 00:14:57,069
internal index and we'll just freeze it

388
00:14:57,069 --> 00:15:00,379
and we'll that set state closed over

389
00:15:00,379 --> 00:15:03,290
second NewsAsia closure close over that

390
00:15:03,290 --> 00:15:06,410
internal frozen index value okay so now

391
00:15:06,410 --> 00:15:08,899
we have a component we are rendering it

392
00:15:08,899 --> 00:15:11,329
we have a count of one we're clicking

393
00:15:11,329 --> 00:15:14,240
the account updates to to the text

394
00:15:14,240 --> 00:15:16,430
doesn't change then we type pair and

395
00:15:16,430 --> 00:15:18,319
then count doesn't change and tax

396
00:15:18,319 --> 00:15:20,180
changes so we have independently moving

397
00:15:20,180 --> 00:15:22,279
states right and that's something that's

398
00:15:22,279 --> 00:15:24,889
a new paradigm in the hooks model as

399
00:15:24,889 --> 00:15:26,569
well that you every component used to

400
00:15:26,569 --> 00:15:28,279
have one object for state and everything

401
00:15:28,279 --> 00:15:29,809
you're just forced to put every all you

402
00:15:29,809 --> 00:15:30,499
stay on today

403
00:15:30,499 --> 00:15:31,879
checked now you have independently

404
00:15:31,879 --> 00:15:33,649
moving states and you can be a bit more

405
00:15:33,649 --> 00:15:37,009
precise with that alright so and you can

406
00:15:37,009 --> 00:15:38,809
already start to see some of the issues

407
00:15:38,809 --> 00:15:40,639
we've hooked some of the rules of hooks

408
00:15:40,639 --> 00:15:42,529
so these are when the people introduce

409
00:15:42,529 --> 00:15:44,509
hooks I think one of the biggest

410
00:15:44,509 --> 00:15:46,699
problems with folks that people had was

411
00:15:46,699 --> 00:15:48,319
that you you can you have to call them

412
00:15:48,319 --> 00:15:49,579
unconditionally you couldn't put them

413
00:15:49,579 --> 00:15:52,099
inside an if or a loop or some sort of

414
00:15:52,099 --> 00:15:54,109
dynamic value so I just want you to

415
00:15:54,109 --> 00:15:55,969
imagine what happens to this if I do

416
00:15:55,969 --> 00:15:59,089
like math dot random more than five

417
00:15:59,089 --> 00:16:01,789
point five right so this gets this gets

418
00:16:01,789 --> 00:16:05,269
called half of the time what is the hook

419
00:16:05,269 --> 00:16:07,009
index value of this this is this should

420
00:16:07,009 --> 00:16:09,139
be one the okay next value but sometimes

421
00:16:09,139 --> 00:16:10,729
it's zero because this doesn't execute

422
00:16:10,729 --> 00:16:13,999
and so the the the state values get get

423
00:16:13,999 --> 00:16:16,099
off right so you're just not allowed to

424
00:16:16,099 --> 00:16:17,689
do that and that's what we have linters

425
00:16:17,689 --> 00:16:19,729
that's why you understand the rules

426
00:16:19,729 --> 00:16:23,379
looks just a fundamental basis okay so

427
00:16:23,379 --> 00:16:26,389
we're not done I'm not happy we only

428
00:16:26,389 --> 00:16:28,069
have the state hook we also have the

429
00:16:28,069 --> 00:16:30,439
effect hook the best way to model this

430
00:16:30,439 --> 00:16:32,059
is to just use it and then we'll

431
00:16:32,059 --> 00:16:34,639
backfill what that what that is so a use

432
00:16:34,639 --> 00:16:38,299
effects hook takes a call back or just

433
00:16:38,299 --> 00:16:42,859
say console.log yes calm and then it

434
00:16:42,859 --> 00:16:44,599
also takes an optional dependency array

435
00:16:44,599 --> 00:16:46,609
I'm just gonna use an empty array for

436
00:16:46,609 --> 00:16:49,159
now all right so so we have that API

437
00:16:49,159 --> 00:16:50,629
let's just let's go and implement it

438
00:16:50,629 --> 00:16:52,909
right so this is our module again so

439
00:16:52,909 --> 00:16:55,669
function use effects callback and

440
00:16:55,669 --> 00:16:58,279
dependency array okay so this is the

441
00:16:58,279 --> 00:17:00,289
hardest part of the talk bear with me

442
00:17:00,289 --> 00:17:02,439
but I have I know what I'm doing so

443
00:17:02,439 --> 00:17:06,049
we're good so so we want to have this

444
00:17:06,049 --> 00:17:08,000
variable we'll just have like like

445
00:17:08,000 --> 00:17:09,679
whether it has changed or not and just

446
00:17:09,679 --> 00:17:11,899
set it to true so by default we're just

447
00:17:11,899 --> 00:17:13,759
going to keep rerender ring and if if

448
00:17:13,759 --> 00:17:16,699
the dependencies have changed we're

449
00:17:16,699 --> 00:17:18,589
gonna call the callback right that makes

450
00:17:18,589 --> 00:17:20,750
sense if the dependencies have changed

451
00:17:20,750 --> 00:17:22,129
we're gonna call the callback so the

452
00:17:22,129 --> 00:17:25,329
hard part is to detect change over here

453
00:17:25,329 --> 00:17:27,409
in order to detect change we need to

454
00:17:27,409 --> 00:17:29,119
basically diff the old dependencies and

455
00:17:29,119 --> 00:17:30,470
a new dependencies that means we need to

456
00:17:30,470 --> 00:17:32,029
store and keep around the dependencies

457
00:17:32,029 --> 00:17:34,220
somewhere where's the good place for

458
00:17:34,220 --> 00:17:37,879
that turns out it's the hooks array so

459
00:17:37,879 --> 00:17:39,019
we're going to store it inside of the

460
00:17:39,019 --> 00:17:41,419
hooks array and we'll draw it out at the

461
00:17:41,419 --> 00:17:43,090
start of our effect

462
00:17:43,090 --> 00:17:47,450
the old dependencies so hooks index okay

463
00:17:47,450 --> 00:17:49,550
sometimes this is undefined though so so

464
00:17:49,550 --> 00:17:50,930
that's why we need to guard it with an

465
00:17:50,930 --> 00:17:54,200
if oh and by the way always increment

466
00:17:54,200 --> 00:17:56,230
the index at the end of talk okay so

467
00:17:56,230 --> 00:17:58,550
sometimes it's undefined so what we're

468
00:17:58,550 --> 00:18:00,830
gonna do is replace this and just go if

469
00:18:00,830 --> 00:18:02,810
the old dependencies do exist that means

470
00:18:02,810 --> 00:18:04,300
we have an old array and a new array

471
00:18:04,300 --> 00:18:06,490
this is the hardest part in the entire

472
00:18:06,490 --> 00:18:08,930
code so bear with me so we're gonna

473
00:18:08,930 --> 00:18:10,940
modify has changed to look at dependency

474
00:18:10,940 --> 00:18:12,920
array we want to have we want to look at

475
00:18:12,920 --> 00:18:15,470
some of them we want to do a ray dot

476
00:18:15,470 --> 00:18:17,800
some and that's just a lesser known

477
00:18:17,800 --> 00:18:20,450
array prototype method we want to look

478
00:18:20,450 --> 00:18:22,250
at the dependency and that index and we

479
00:18:22,250 --> 00:18:24,890
want to compare that dependency to that

480
00:18:24,890 --> 00:18:28,400
index we're gonna use object dot is so a

481
00:18:28,400 --> 00:18:30,410
lot of people like I don't know it

482
00:18:30,410 --> 00:18:32,030
internal is react to use this object is

483
00:18:32,030 --> 00:18:34,430
internally because not a number triple

484
00:18:34,430 --> 00:18:37,940
equals not a number is false object dot

485
00:18:37,940 --> 00:18:41,690
is not a number and not a number it's

486
00:18:41,690 --> 00:18:44,300
true so that's just a slightly better

487
00:18:44,300 --> 00:18:46,670
option so people went with that so we're

488
00:18:46,670 --> 00:18:48,160
just going to say object that is

489
00:18:48,160 --> 00:18:52,220
dependency and the old dependencies the

490
00:18:52,220 --> 00:18:53,570
corresponding index of that old

491
00:18:53,570 --> 00:18:57,470
dependency I think that's it oh and then

492
00:18:57,470 --> 00:18:58,790
we need to expose it in our reactor

493
00:18:58,790 --> 00:19:03,380
module ba-boom so what do you have now

494
00:19:03,380 --> 00:19:05,930
we have a component with a use effect of

495
00:19:05,930 --> 00:19:07,760
an empty array it start it only runs

496
00:19:07,760 --> 00:19:10,880
once at the start and never again in in

497
00:19:10,880 --> 00:19:14,000
any of the updates if I put in counts

498
00:19:14,000 --> 00:19:16,220
here then it depends on that counts and

499
00:19:16,220 --> 00:19:17,600
it updates when the count changes from

500
00:19:17,600 --> 00:19:20,330
one to two it runs if I change it to

501
00:19:20,330 --> 00:19:24,260
text from when the text updates from

502
00:19:24,260 --> 00:19:26,450
Apple to pair it runs and when I delete

503
00:19:26,450 --> 00:19:29,690
it it also runs every single time so

504
00:19:29,690 --> 00:19:31,790
that's the spec of use effect and it

505
00:19:31,790 --> 00:19:33,710
wasn't that hard right to implement all

506
00:19:33,710 --> 00:19:37,640
this so this is normally where this is

507
00:19:37,640 --> 00:19:39,530
as far as I plan to go I was like okay

508
00:19:39,530 --> 00:19:41,120
you've kind of proved out the hooks

509
00:19:41,120 --> 00:19:43,610
model but I'm very been ambitious person

510
00:19:43,610 --> 00:19:45,950
and I was like this kind of looks like

511
00:19:45,950 --> 00:19:47,810
react but is not really react everyone

512
00:19:47,810 --> 00:19:49,520
kind of knows that so what can I do to

513
00:19:49,520 --> 00:19:52,400
put this on the Dom which is a really

514
00:19:52,400 --> 00:19:54,149
stupid question to ask

515
00:19:54,149 --> 00:19:56,369
we're live coding talk but we're gonna

516
00:19:56,369 --> 00:19:58,199
do it we're gonna this looks like node

517
00:19:58,199 --> 00:19:59,759
but actually we have not been coding in

518
00:19:59,759 --> 00:20:01,229
node at all it's just been the console

519
00:20:01,229 --> 00:20:03,209
and I have it I have a browser

520
00:20:03,209 --> 00:20:04,649
implementation here thanks to code

521
00:20:04,649 --> 00:20:06,989
sandbox so let's do it

522
00:20:06,989 --> 00:20:09,659
actually that was probably a bad idea I

523
00:20:09,659 --> 00:20:12,719
have some I have some pre-prepared CSS

524
00:20:12,719 --> 00:20:16,769
I'm gonna import that it's not showing

525
00:20:16,769 --> 00:20:19,259
the autofill an immediate background

526
00:20:19,259 --> 00:20:22,919
very nice CSS effects for demos and then

527
00:20:22,919 --> 00:20:24,929
I also have some utilities that I

528
00:20:24,929 --> 00:20:28,379
imported so I have a create element

529
00:20:28,379 --> 00:20:32,389
object that I have from my utils folder

530
00:20:32,389 --> 00:20:35,789
and create what create element does is

531
00:20:35,789 --> 00:20:38,249
is what JSX compiles to by babel right

532
00:20:38,249 --> 00:20:40,259
hopefully everyone knows that i'm gonna

533
00:20:40,259 --> 00:20:42,959
expose it inside of my inside of my

534
00:20:42,959 --> 00:20:45,269
react module and now I can use JSX

535
00:20:45,269 --> 00:20:48,599
inside of my component so I'm gonna say

536
00:20:48,599 --> 00:20:51,749
Dave hello well let's get something to

537
00:20:51,749 --> 00:20:54,479
show up on the screen unfortunately

538
00:20:54,479 --> 00:20:56,669
we're not done oh sorry let me just

539
00:20:56,669 --> 00:20:58,139
comment it out unfortunately we're not

540
00:20:58,139 --> 00:21:00,239
done we also need a render function that

541
00:21:00,239 --> 00:21:02,729
actually renders to a Dom element so

542
00:21:02,729 --> 00:21:06,539
let's just import render okay the render

543
00:21:06,539 --> 00:21:08,609
API that I have written is slightly

544
00:21:08,609 --> 00:21:10,259
different because it memorizes the hooks

545
00:21:10,259 --> 00:21:12,809
so I'm just gonna delete the render

546
00:21:12,809 --> 00:21:15,089
function that we wrote and I'm gonna

547
00:21:15,089 --> 00:21:17,519
expose the render function it's a high

548
00:21:17,519 --> 00:21:18,869
order function it just takes the hooks

549
00:21:18,869 --> 00:21:22,829
and it in and it has an E and it outputs

550
00:21:22,829 --> 00:21:24,269
a render function that we can actually

551
00:21:24,269 --> 00:21:26,099
use like you wouldn't use a normal

552
00:21:26,099 --> 00:21:28,499
render function so let's just go like

553
00:21:28,499 --> 00:21:36,869
that very nice so we have JSX this is

554
00:21:36,869 --> 00:21:38,849
JSX and it only works because we act our

555
00:21:38,849 --> 00:21:40,679
create element in the Babel JSX plugin

556
00:21:40,679 --> 00:21:41,399
okay

557
00:21:41,399 --> 00:21:44,939
let's keep going so so what do we do

558
00:21:44,939 --> 00:21:46,949
let's actually prove out that everything

559
00:21:46,949 --> 00:21:49,859
works and and this is a full reax clone

560
00:21:49,859 --> 00:21:55,229
it's not but trust me so let's have a

561
00:21:55,229 --> 00:21:59,479
button i took the opportunity to alright

562
00:21:59,479 --> 00:22:01,589
you'll see what happens I'm gonna write

563
00:22:01,589 --> 00:22:04,229
a standard event handler it's gonna set

564
00:22:04,229 --> 00:22:06,749
counts to count plus 1 I it was the

565
00:22:06,749 --> 00:22:07,980
first time I ever forgot

566
00:22:07,980 --> 00:22:09,390
plus one and obviously it's on stage

567
00:22:09,390 --> 00:22:12,480
very stressful and it just says click me

568
00:22:12,480 --> 00:22:14,850
for example and then it's gonna have the

569
00:22:14,850 --> 00:22:17,400
current count yeah everyone should be

570
00:22:17,400 --> 00:22:19,440
very familiar with this I don't have hot

571
00:22:19,440 --> 00:22:20,610
reloading figure it out so you're gonna

572
00:22:20,610 --> 00:22:22,730
see me manually refresh a few times so

573
00:22:22,730 --> 00:22:23,910
yeah

574
00:22:23,910 --> 00:22:25,710
button showed up I have nicely some nice

575
00:22:25,710 --> 00:22:28,740
CSS because I cheated but if I click it

576
00:22:28,740 --> 00:22:31,799
it doesn't work why mmm

577
00:22:31,799 --> 00:22:34,020
because when remember when we were doing

578
00:22:34,020 --> 00:22:36,059
this we were manually rerender every

579
00:22:36,059 --> 00:22:38,700
time right there reactions this concept

580
00:22:38,700 --> 00:22:39,510
of a work loop

581
00:22:39,510 --> 00:22:41,280
it always loops around to check if

582
00:22:41,280 --> 00:22:43,169
there's work to be done so we need to

583
00:22:43,169 --> 00:22:45,450
simulate this work loop by manually

584
00:22:45,450 --> 00:22:48,270
doing it and also screw it I can write a

585
00:22:48,270 --> 00:22:49,980
work loop that's not too hard right it's

586
00:22:49,980 --> 00:22:52,340
only you know we've got like 10 minutes

587
00:22:52,340 --> 00:22:55,559
so let's write a work loop and the work

588
00:22:55,559 --> 00:22:57,270
loop is simply I'm gonna set the index

589
00:22:57,270 --> 00:22:58,620
to zero because every time you render

590
00:22:58,620 --> 00:23:00,600
you have to set the index to zero we're

591
00:23:00,600 --> 00:23:01,950
gonna call the render function again

592
00:23:01,950 --> 00:23:04,470
pass in their hooks argument and then

593
00:23:04,470 --> 00:23:07,290
we're gonna call the set timeout with

594
00:23:07,290 --> 00:23:07,919
the work loop

595
00:23:07,919 --> 00:23:10,350
I'm gonna set a loop of 300 milliseconds

596
00:23:10,350 --> 00:23:13,440
in reality it's it's of course I will

597
00:23:13,440 --> 00:23:16,440
call back so it's much faster but this

598
00:23:16,440 --> 00:23:19,320
is what you get this is what works for

599
00:23:19,320 --> 00:23:24,390
this demo so we have clicking we just

600
00:23:24,390 --> 00:23:27,480
live code at this the last point I want

601
00:23:27,480 --> 00:23:29,190
to make I think in this entire thing is

602
00:23:29,190 --> 00:23:31,919
I have custom hooks notice that we did

603
00:23:31,919 --> 00:23:33,809
not write any any custom hooks code

604
00:23:33,809 --> 00:23:35,730
right nothing here was specific to

605
00:23:35,730 --> 00:23:38,250
custom hooks but if I paste this

606
00:23:38,250 --> 00:23:42,630
pre-prepared custom hook that's I have a

607
00:23:42,630 --> 00:23:45,929
used dogs hook it it has it has a state

608
00:23:45,929 --> 00:23:48,960
it has an a which has an array it

609
00:23:48,960 --> 00:23:52,350
fetches an API based on the counts that

610
00:23:52,350 --> 00:23:55,320
like feed in count is 1 2 3 4 5 and it

611
00:23:55,320 --> 00:23:57,720
gives back a number of pictures a number

612
00:23:57,720 --> 00:24:00,450
of URLs of dog images and it just

613
00:24:00,450 --> 00:24:02,700
returns that image so I can use this

614
00:24:02,700 --> 00:24:05,429
custom hook again I didn't I didn't I

615
00:24:05,429 --> 00:24:06,870
didn't do any I didn't do any custom

616
00:24:06,870 --> 00:24:10,590
hook specific code right I can use dogs

617
00:24:10,590 --> 00:24:13,110
it once accounts so I pass in the count

618
00:24:13,110 --> 00:24:18,060
from there and I can render that into

619
00:24:18,060 --> 00:24:22,620
map item bog-standard stuff completely

620
00:24:22,620 --> 00:24:25,050
and not accessible by the way but I'm

621
00:24:25,050 --> 00:24:26,580
the only one accessing this code anyway

622
00:24:26,580 --> 00:24:29,700
so it works fine you should have an alt

623
00:24:29,700 --> 00:24:32,820
tag so so let me yeah all right

624
00:24:32,820 --> 00:24:34,170
again I haven't figured out hot

625
00:24:34,170 --> 00:24:36,630
reloading so but this is a fully working

626
00:24:36,630 --> 00:24:45,480
app so thank you thank you so then I'm

627
00:24:45,480 --> 00:24:47,970
like okay so the punchline what is the

628
00:24:47,970 --> 00:24:49,830
punch line this is the punch line I'm

629
00:24:49,830 --> 00:24:52,260
just gonna paste it in and I'm going to

630
00:24:52,260 --> 00:24:54,740
remind you of what we're talking about

631
00:24:54,740 --> 00:25:00,030
this is not react this is not react I

632
00:25:00,030 --> 00:25:02,700
have a fully dynamic app yeah I have the

633
00:25:02,700 --> 00:25:05,130
full API I have JSX I have custom hooks

634
00:25:05,130 --> 00:25:07,950
I have the render I've cloned everything

635
00:25:07,950 --> 00:25:09,750
that you usually use this is not react

636
00:25:09,750 --> 00:25:13,170
why I cloned this in 40 lines of code if

637
00:25:13,170 --> 00:25:23,190
you magnify it if it's in a tweet if

638
00:25:23,190 --> 00:25:25,230
you're if you're wondering about the the

639
00:25:25,230 --> 00:25:26,880
you tools folder by the way the you

640
00:25:26,880 --> 00:25:28,740
tools folder is only a hundred and

641
00:25:28,740 --> 00:25:31,230
twenty lines and it's mostly helper

642
00:25:31,230 --> 00:25:32,760
functions like create text element and

643
00:25:32,760 --> 00:25:35,190
all that that JSX needs so this is

644
00:25:35,190 --> 00:25:40,920
normal what is react so that's a that's

645
00:25:40,920 --> 00:25:42,360
my that's where I'm gonna leave you that

646
00:25:42,360 --> 00:25:44,310
I have homework for you I want you to go

647
00:25:44,310 --> 00:25:46,800
home and write react from scratch I want

648
00:25:46,800 --> 00:25:49,200
you to practice I want to eat we need to

649
00:25:49,200 --> 00:25:50,610
practice closures I want you to get good

650
00:25:50,610 --> 00:25:52,470
at like understanding the mental model

651
00:25:52,470 --> 00:25:54,780
and understand what you use react for

652
00:25:54,780 --> 00:25:57,660
you don't use react for this API API is

653
00:25:57,660 --> 00:26:00,240
really good right we can copy it view or

654
00:26:00,240 --> 00:26:03,090
you will copy it like spell copy n but

655
00:26:03,090 --> 00:26:04,620
what do you use react for what is what

656
00:26:04,620 --> 00:26:06,630
is the hundreds of thousands of lines of

657
00:26:06,630 --> 00:26:09,030
code what is that for I have my answer

658
00:26:09,030 --> 00:26:12,270
I'm gonna tweet all this out later but I

659
00:26:12,270 --> 00:26:14,250
want you to have that curiosity don't

660
00:26:14,250 --> 00:26:17,100
just stop at the surface and that's my

661
00:26:17,100 --> 00:26:19,350
talk you can see the full source at

662
00:26:19,350 --> 00:26:22,390
Strix that i go slash talks thank you

